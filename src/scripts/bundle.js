!function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){t.exports=n(92)},function(t,e,n){var r,o,i,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(n,s){"object"===a(e)?t.exports=e=s():(o=[],r=s,i="function"==typeof r?r.apply(e,o):r,!(void 0!==i&&(t.exports=i)))}(void 0,function(){var t=t||function(t,e){var n=Object.create||function(){function t(){}return function(e){var n;return t.prototype=e,n=new t,t.prototype=null,n}}(),r={},o=r.lib={},i=o.Base=function(){return{extend:function(t){var e=n(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),a=o.WordArray=i.extend({init:function(t,n){t=this.words=t||[],n!=e?this.sigBytes=n:this.sigBytes=4*t.length},toString:function(t){return(t||u).stringify(this)},concat:function(t){var e=this.words,n=t.words,r=this.sigBytes,o=t.sigBytes;if(this.clamp(),r%4)for(var i=0;i<o;i++){var a=n[i>>>2]>>>24-i%4*8&255;e[r+i>>>2]|=a<<24-(r+i)%4*8}else for(var i=0;i<o;i+=4)e[r+i>>>2]=n[i>>>2];return this.sigBytes+=o,this},clamp:function(){var e=this.words,n=this.sigBytes;e[n>>>2]&=4294967295<<32-n%4*8,e.length=t.ceil(n/4)},clone:function t(){var t=i.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var n,r=[],o=function(e){var e=e,n=987654321,r=4294967295;return function(){n=36969*(65535&n)+(n>>16)&r,e=18e3*(65535&e)+(e>>16)&r;var o=(n<<16)+e&r;return o/=4294967296,o+=.5,o*(t.random()>.5?1:-1)}},i=0;i<e;i+=4){var s=o(4294967296*(n||t.random()));n=987654071*s(),r.push(4294967296*s()|0)}return new a.init(r,e)}}),s=r.enc={},u=s.Hex={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],o=0;o<n;o++){var i=e[o>>>2]>>>24-o%4*8&255;r.push((i>>>4).toString(16)),r.push((15&i).toString(16))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n[r>>>3]|=parseInt(t.substr(r,2),16)<<24-r%8*4;return new a.init(n,e/2)}},c=s.Latin1={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],o=0;o<n;o++){var i=e[o>>>2]>>>24-o%4*8&255;r.push(String.fromCharCode(i))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r++)n[r>>>2]|=(255&t.charCodeAt(r))<<24-r%4*8;return new a.init(n,e)}},p=s.Utf8={stringify:function(t){try{return decodeURIComponent(escape(c.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return c.parse(unescape(encodeURIComponent(t)))}},f=o.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=p.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var n=this._data,r=n.words,o=n.sigBytes,i=this.blockSize,s=4*i,u=o/s;u=e?t.ceil(u):t.max((0|u)-this._minBufferSize,0);var c=u*i,p=t.min(4*c,o);if(c){for(var f=0;f<c;f+=i)this._doProcessBlock(r,f);var l=r.splice(0,c);n.sigBytes-=p}return new a.init(l,p)},clone:function t(){var t=i.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),l=(o.Hasher=f.extend({cfg:i.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){t&&this._append(t);var e=this._doFinalize();return e},blockSize:16,_createHelper:function(t){return function(e,n){return new t.init(n).finalize(e)}},_createHmacHelper:function(t){return function(e,n){return new l.HMAC.init(t,n).finalize(e)}}}),r.algo={});return r}(Math);return t})},function(t,e,n){var r,o,i,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(s,u){"object"===a(e)?t.exports=e=u(n(1)):(o=[n(1)],r=u,i="function"==typeof r?r.apply(e,o):r,!(void 0!==i&&(t.exports=i)))}(void 0,function(t){t.lib.Cipher||function(e){var n=t,r=n.lib,o=r.Base,i=r.WordArray,a=r.BufferedBlockAlgorithm,s=n.enc,u=(s.Utf8,s.Base64),c=n.algo,p=c.EvpKDF,f=r.Cipher=a.extend({cfg:o.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,n){this.cfg=this.cfg.extend(n),this._xformMode=t,this._key=e,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){t&&this._append(t);var e=this._doFinalize();return e},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function t(t){return"string"==typeof t?x:_}return function(e){return{encrypt:function(n,r,o){return t(r).encrypt(e,n,r,o)},decrypt:function(n,r,o){return t(r).decrypt(e,n,r,o)}}}}()}),l=(r.StreamCipher=f.extend({_doFinalize:function(){var t=this._process(!0);return t},blockSize:1}),n.mode={}),h=r.BlockCipherMode=o.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}}),y=l.CBC=function(){function t(t,n,r){var o=this._iv;if(o){var i=o;this._iv=e}else var i=this._prevBlock;for(var a=0;a<r;a++)t[n+a]^=i[a]}var n=h.extend();return n.Encryptor=n.extend({processBlock:function(e,n){var r=this._cipher,o=r.blockSize;t.call(this,e,n,o),r.encryptBlock(e,n),this._prevBlock=e.slice(n,n+o)}}),n.Decryptor=n.extend({processBlock:function(e,n){var r=this._cipher,o=r.blockSize,i=e.slice(n,n+o);r.decryptBlock(e,n),t.call(this,e,n,o),this._prevBlock=i}}),n}(),d=n.pad={},m=d.Pkcs7={pad:function(t,e){for(var n=4*e,r=n-t.sigBytes%n,o=r<<24|r<<16|r<<8|r,a=[],s=0;s<r;s+=4)a.push(o);var u=i.create(a,r);t.concat(u)},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},v=(r.BlockCipher=f.extend({cfg:f.cfg.extend({mode:y,padding:m}),reset:function(){f.reset.call(this);var t=this.cfg,e=t.iv,n=t.mode;if(this._xformMode==this._ENC_XFORM_MODE)var r=n.createEncryptor;else{var r=n.createDecryptor;this._minBufferSize=1}this._mode=r.call(n,this,e&&e.words)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){t.pad(this._data,this.blockSize);var e=this._process(!0)}else{var e=this._process(!0);t.unpad(e)}return e},blockSize:4}),r.CipherParams=o.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}})),b=n.format={},g=b.OpenSSL={stringify:function(t){var e=t.ciphertext,n=t.salt;if(n)var r=i.create([1398893684,1701076831]).concat(n).concat(e);else var r=e;return r.toString(u)},parse:function(t){var e=u.parse(t),n=e.words;if(1398893684==n[0]&&1701076831==n[1]){var r=i.create(n.slice(2,4));n.splice(0,4),e.sigBytes-=16}return v.create({ciphertext:e,salt:r})}},_=r.SerializableCipher=o.extend({cfg:o.extend({format:g}),encrypt:function(t,e,n,r){r=this.cfg.extend(r);var o=t.createEncryptor(n,r),i=o.finalize(e),a=o.cfg;return v.create({ciphertext:i,key:n,iv:a.iv,algorithm:t,mode:a.mode,padding:a.padding,blockSize:t.blockSize,formatter:r.format})},decrypt:function(t,e,n,r){r=this.cfg.extend(r),e=this._parse(e,r.format);var o=t.createDecryptor(n,r).finalize(e.ciphertext);return o},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}}),w=n.kdf={},S=w.OpenSSL={execute:function(t,e,n,r){r||(r=i.random(8));var o=p.create({keySize:e+n}).compute(t,r),a=i.create(o.words.slice(e),4*n);return o.sigBytes=4*e,v.create({key:o,iv:a,salt:r})}},x=r.PasswordBasedCipher=_.extend({cfg:_.cfg.extend({kdf:S}),encrypt:function(t,e,n,r){r=this.cfg.extend(r);var o=r.kdf.execute(n,t.keySize,t.ivSize);r.iv=o.iv;var i=_.encrypt.call(this,t,e,o.key,r);return i.mixIn(o),i},decrypt:function(t,e,n,r){r=this.cfg.extend(r),e=this._parse(e,r.format);var o=r.kdf.execute(n,t.keySize,t.ivSize,e.salt);r.iv=o.iv;var i=_.decrypt.call(this,t,e,o.key,r);return i}})}()})},function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=n(14),i=n(15),a=n(58),s={noether:"0",wei:"1",kwei:"1000",Kwei:"1000",babbage:"1000",femtoether:"1000",mwei:"1000000",Mwei:"1000000",lovelace:"1000000",picoether:"1000000",gwei:"1000000000",Gwei:"1000000000",shannon:"1000000000",nanoether:"1000000000",nano:"1000000000",szabo:"1000000000000",microether:"1000000000000",micro:"1000000000000",finney:"1000000000000000",milliether:"1000000000000000",milli:"1000000000000000",ether:"1000000000000000000",kether:"1000000000000000000000",grand:"1000000000000000000000",mether:"1000000000000000000000000",gether:"1000000000000000000000000000",tether:"1000000000000000000000000000000"},u=function(t,e,n){return new Array(e-t.length+1).join(n?n:"0")+t},c=function(t,e,n){return t+new Array(e-t.length+1).join(n?n:"0")},p=function(t){var e="",n=0,r=t.length;for("0x"===t.substring(0,2)&&(n=2);n<r;n+=2){var o=parseInt(t.substr(n,2),16);if(0===o)break;e+=String.fromCharCode(o)}return a.decode(e)},f=function(t){var e="",n=0,r=t.length;for("0x"===t.substring(0,2)&&(n=2);n<r;n+=2){var o=parseInt(t.substr(n,2),16);e+=String.fromCharCode(o)}return e},l=function(t){t=a.encode(t);for(var e="",n=0;n<t.length;n++){var r=t.charCodeAt(n);if(0===r)break;var o=r.toString(16);e+=o.length<2?"0"+o:o}return"0x"+e},h=function(t){for(var e="",n=0;n<t.length;n++){var r=t.charCodeAt(n),o=r.toString(16);e+=o.length<2?"0"+o:o}return"0x"+e},y=function(t){if(t.name.indexOf("(")!==-1)return t.name;var e=t.inputs.map(function(t){return t.type}).join();return t.name+"("+e+")"},d=function(t){var e=t.indexOf("(");return e!==-1?t.substr(0,e):t},m=function(t){var e=t.indexOf("(");return e!==-1?t.substr(e+1,t.length-1-(e+1)).replace(" ",""):""},v=function(t){return x(t).toNumber()},b=function(t){var e=x(t),n=e.toString(16);return e.lessThan(0)?"-0x"+n.substr(1):"0x"+n},g=function(t){if(T(t))return b(+t);if(P(t))return b(t);if(D(t))return l(JSON.stringify(t));if(I(t)){if(0===t.indexOf("-0x"))return b(t);if(0===t.indexOf("0x"))return t;if(!isFinite(t))return h(t)}return b(t)},_=function(t){t=t?t.toLowerCase():"ether";var e=s[t];if(void 0===e)throw new Error("This unit doesn't exists, please use the one of the following units"+JSON.stringify(s,null,2));return new o(e,10)},w=function(t,e){var n=x(t).dividedBy(_(e));return P(t)?n:n.toString(10)},S=function(t,e){var n=x(t).times(_(e));return P(t)?n:n.toString(10)},x=function(t){return t=t||0,P(t)?t:!I(t)||0!==t.indexOf("0x")&&0!==t.indexOf("-0x")?new o(t.toString(10),10):new o(t.replace("0x",""),16)},k=function(t){var e=x(t);return e.lessThan(0)?new o("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16).plus(e).plus(1):e},B=function(t){return/^0x[0-9a-f]{40}$/i.test(t)},A=function(t){return!!/^(0x)?[0-9a-f]{40}$/i.test(t)&&(!(!/^(0x)?[0-9a-f]{40}$/.test(t)&&!/^(0x)?[0-9A-F]{40}$/.test(t))||C(t))},C=function(t){t=t.replace("0x","");for(var e=i(t.toLowerCase()),n=0;n<40;n++)if(parseInt(e[n],16)>7&&t[n].toUpperCase()!==t[n]||parseInt(e[n],16)<=7&&t[n].toLowerCase()!==t[n])return!1;return!0},F=function(t){if("undefined"==typeof t)return"";t=t.toLowerCase().replace("0x","");for(var e=i(t),n="0x",r=0;r<t.length;r++)n+=parseInt(e[r],16)>7?t[r].toUpperCase():t[r];return n},O=function(t){return B(t)?t:/^[0-9a-f]{40}$/.test(t)?"0x"+t:"0x"+u(g(t).substr(2),40)},P=function(t){return t instanceof o||t&&t.constructor&&"BigNumber"===t.constructor.name},I=function(t){return"string"==typeof t||t&&t.constructor&&"String"===t.constructor.name},R=function(t){return"function"==typeof t},D=function(t){return"object"===("undefined"==typeof t?"undefined":r(t))},T=function(t){return"boolean"==typeof t},N=function(t){return t instanceof Array},M=function(t){try{return!!JSON.parse(t)}catch(t){return!1}};t.exports={padLeft:u,padRight:c,toHex:g,toDecimal:v,fromDecimal:b,toUtf8:p,toAscii:f,fromUtf8:l,fromAscii:h,transformToFullName:y,extractDisplayName:d,extractTypeName:m,toWei:S,fromWei:w,toBigNumber:x,toTwosComplement:k,toAddress:O,isBigNumber:P,isStrictAddress:B,isAddress:A,isChecksumAddress:C,toChecksumAddress:F,isFunction:R,isString:I,isObject:D,isBoolean:T,isArray:N,isJson:M}},function(t,e,n){var r,o,i,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(s,u){"object"===a(e)?t.exports=e=u(n(1)):(o=[n(1)],r=u,i="function"==typeof r?r.apply(e,o):r,!(void 0!==i&&(t.exports=i)))}(void 0,function(t){return function(){function e(t,e,n){for(var r=[],i=0,a=0;a<e;a++)if(a%4){var s=n[t.charCodeAt(a-1)]<<a%4*2,u=n[t.charCodeAt(a)]>>>6-a%4*2;r[i>>>2]|=(s|u)<<24-i%4*8,i++}return o.create(r,i)}var n=t,r=n.lib,o=r.WordArray,i=n.enc;i.Base64={stringify:function(t){var e=t.words,n=t.sigBytes,r=this._map;t.clamp();for(var o=[],i=0;i<n;i+=3)for(var a=e[i>>>2]>>>24-i%4*8&255,s=e[i+1>>>2]>>>24-(i+1)%4*8&255,u=e[i+2>>>2]>>>24-(i+2)%4*8&255,c=a<<16|s<<8|u,p=0;p<4&&i+.75*p<n;p++)o.push(r.charAt(c>>>6*(3-p)&63));var f=r.charAt(64);if(f)for(;o.length%4;)o.push(f);return o.join("")},parse:function(t){var n=t.length,r=this._map,o=this._reverseMap;if(!o){o=this._reverseMap=[];for(var i=0;i<r.length;i++)o[r.charCodeAt(i)]=i}var a=r.charAt(64);if(a){var s=t.indexOf(a);s!==-1&&(n=s)}return e(t,n,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),t.enc.Base64})},function(t,e,n){var r,o,i,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(s,u,c){"object"===a(e)?t.exports=e=u(n(1),n(12),n(11)):(o=[n(1),n(12),n(11)],r=u,i="function"==typeof r?r.apply(e,o):r,!(void 0!==i&&(t.exports=i)))}(void 0,function(t){return function(){var e=t,n=e.lib,r=n.Base,o=n.WordArray,i=e.algo,a=i.MD5,s=i.EvpKDF=r.extend({cfg:r.extend({keySize:4,hasher:a,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var n=this.cfg,r=n.hasher.create(),i=o.create(),a=i.words,s=n.keySize,u=n.iterations;a.length<s;){c&&r.update(c);var c=r.update(t).finalize(e);r.reset();for(var p=1;p<u;p++)c=r.finalize(c),r.reset();i.concat(c)}return i.sigBytes=4*s,i}});e.EvpKDF=function(t,e,n){return s.create(n).compute(t,e)}}(),t.EvpKDF})},function(t,e,n){var r,o,i,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(s,u){"object"===a(e)?t.exports=e=u(n(1)):(o=[n(1)],r=u,i="function"==typeof r?r.apply(e,o):r,!(void 0!==i&&(t.exports=i)))}(void 0,function(t){return function(e){function n(t,e,n,r,o,i,a){var s=t+(e&n|~e&r)+o+a;return(s<<i|s>>>32-i)+e}function r(t,e,n,r,o,i,a){var s=t+(e&r|n&~r)+o+a;return(s<<i|s>>>32-i)+e}function o(t,e,n,r,o,i,a){var s=t+(e^n^r)+o+a;return(s<<i|s>>>32-i)+e}function i(t,e,n,r,o,i,a){var s=t+(n^(e|~r))+o+a;return(s<<i|s>>>32-i)+e}var a=t,s=a.lib,u=s.WordArray,c=s.Hasher,p=a.algo,f=[];!function(){for(var t=0;t<64;t++)f[t]=4294967296*e.abs(e.sin(t+1))|0}();var l=p.MD5=c.extend({_doReset:function(){this._hash=new u.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var a=0;a<16;a++){var s=e+a,u=t[s];t[s]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}var c=this._hash.words,p=t[e+0],l=t[e+1],h=t[e+2],y=t[e+3],d=t[e+4],m=t[e+5],v=t[e+6],b=t[e+7],g=t[e+8],_=t[e+9],w=t[e+10],S=t[e+11],x=t[e+12],k=t[e+13],B=t[e+14],A=t[e+15],C=c[0],F=c[1],O=c[2],P=c[3];C=n(C,F,O,P,p,7,f[0]),P=n(P,C,F,O,l,12,f[1]),O=n(O,P,C,F,h,17,f[2]),F=n(F,O,P,C,y,22,f[3]),C=n(C,F,O,P,d,7,f[4]),P=n(P,C,F,O,m,12,f[5]),O=n(O,P,C,F,v,17,f[6]),F=n(F,O,P,C,b,22,f[7]),C=n(C,F,O,P,g,7,f[8]),P=n(P,C,F,O,_,12,f[9]),O=n(O,P,C,F,w,17,f[10]),F=n(F,O,P,C,S,22,f[11]),C=n(C,F,O,P,x,7,f[12]),P=n(P,C,F,O,k,12,f[13]),O=n(O,P,C,F,B,17,f[14]),F=n(F,O,P,C,A,22,f[15]),C=r(C,F,O,P,l,5,f[16]),P=r(P,C,F,O,v,9,f[17]),O=r(O,P,C,F,S,14,f[18]),F=r(F,O,P,C,p,20,f[19]),C=r(C,F,O,P,m,5,f[20]),P=r(P,C,F,O,w,9,f[21]),O=r(O,P,C,F,A,14,f[22]),F=r(F,O,P,C,d,20,f[23]),C=r(C,F,O,P,_,5,f[24]),P=r(P,C,F,O,B,9,f[25]),O=r(O,P,C,F,y,14,f[26]),F=r(F,O,P,C,g,20,f[27]),C=r(C,F,O,P,k,5,f[28]),P=r(P,C,F,O,h,9,f[29]),O=r(O,P,C,F,b,14,f[30]),F=r(F,O,P,C,x,20,f[31]),C=o(C,F,O,P,m,4,f[32]),P=o(P,C,F,O,g,11,f[33]),O=o(O,P,C,F,S,16,f[34]),F=o(F,O,P,C,B,23,f[35]),C=o(C,F,O,P,l,4,f[36]),P=o(P,C,F,O,d,11,f[37]),O=o(O,P,C,F,b,16,f[38]),F=o(F,O,P,C,w,23,f[39]),C=o(C,F,O,P,k,4,f[40]),P=o(P,C,F,O,p,11,f[41]),O=o(O,P,C,F,y,16,f[42]),F=o(F,O,P,C,v,23,f[43]),C=o(C,F,O,P,_,4,f[44]),P=o(P,C,F,O,x,11,f[45]),O=o(O,P,C,F,A,16,f[46]),F=o(F,O,P,C,h,23,f[47]),C=i(C,F,O,P,p,6,f[48]),P=i(P,C,F,O,b,10,f[49]),O=i(O,P,C,F,B,15,f[50]),F=i(F,O,P,C,m,21,f[51]),C=i(C,F,O,P,x,6,f[52]),P=i(P,C,F,O,y,10,f[53]),O=i(O,P,C,F,w,15,f[54]),F=i(F,O,P,C,l,21,f[55]),C=i(C,F,O,P,g,6,f[56]),P=i(P,C,F,O,A,10,f[57]),O=i(O,P,C,F,v,15,f[58]),F=i(F,O,P,C,k,21,f[59]),C=i(C,F,O,P,d,6,f[60]),P=i(P,C,F,O,S,10,f[61]),O=i(O,P,C,F,h,15,f[62]),F=i(F,O,P,C,_,21,f[63]),c[0]=c[0]+C|0,c[1]=c[1]+F|0,c[2]=c[2]+O|0,c[3]=c[3]+P|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,o=8*t.sigBytes;n[o>>>5]|=128<<24-o%32;var i=e.floor(r/4294967296),a=r;n[(o+64>>>9<<4)+15]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),n[(o+64>>>9<<4)+14]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),t.sigBytes=4*(n.length+1),this._process();for(var s=this._hash,u=s.words,c=0;c<4;c++){var p=u[c];u[c]=16711935&(p<<8|p>>>24)|4278255360&(p<<24|p>>>8)}return s},clone:function t(){var t=c.clone.call(this);return t._hash=this._hash.clone(),t}});a.MD5=c._createHelper(l),a.HmacMD5=c._createHmacHelper(l)}(Math),t.MD5})},function(t,e,n){"use strict";var r=n(14),o=n(3),i=n(20),a=n(48),s=function(t){r.config(i.ETH_BIGNUMBER_ROUNDING_MODE);var e=o.padLeft(o.toTwosComplement(t).round().toString(16),64);return new a(e)},u=function(t){var e=o.toHex(t).substr(2),n=Math.floor((e.length+63)/64);return e=o.padRight(e,64*n),new a(e)},c=function(t){var e=o.toHex(t).substr(2),n=e.length/2,r=Math.floor((e.length+63)/64);return e=o.padRight(e,64*r),new a(s(n).value+e)},p=function(t){var e=o.fromUtf8(t).substr(2),n=e.length/2,r=Math.floor((e.length+63)/64);return e=o.padRight(e,64*r),new a(s(n).value+e)},f=function(t){var e="000000000000000000000000000000000000000000000000000000000000000"+(t?"1":"0");return new a(e)},l=function(t){return s(new r(t).times(new r(2).pow(128)))},h=function(t){return"1"===new r(t.substr(0,1),16).toString(2).substr(0,1)},y=function(t){var e=t.staticPart()||"0";return h(e)?new r(e,16).minus(new r("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16)).minus(1):new r(e,16)},d=function(t){var e=t.staticPart()||"0";return new r(e,16)},m=function(t){return y(t).dividedBy(new r(2).pow(128))},v=function(t){return d(t).dividedBy(new r(2).pow(128))},b=function(t){return"0000000000000000000000000000000000000000000000000000000000000001"===t.staticPart()},g=function(t){return"0x"+t.staticPart()},_=function(t){var e=2*new r(t.dynamicPart().slice(0,64),16).toNumber();return"0x"+t.dynamicPart().substr(64,e)},w=function(t){var e=2*new r(t.dynamicPart().slice(0,64),16).toNumber();return o.toUtf8(t.dynamicPart().substr(64,e))},S=function(t){var e=t.staticPart();return"0x"+e.slice(e.length-40,e.length)};t.exports={formatInputInt:s,formatInputBytes:u,formatInputDynamicBytes:c,formatInputString:p,formatInputBool:f,formatInputReal:l,formatOutputInt:y,formatOutputUInt:d,formatOutputReal:m,formatOutputUReal:v,formatOutputBool:b,formatOutputBytes:g,formatOutputDynamicBytes:_,formatOutputString:w,formatOutputAddress:S}},function(t,e,n){"use strict";var r=n(7),o=n(48),i=function(t){this._inputFormatter=t.inputFormatter,this._outputFormatter=t.outputFormatter};i.prototype.isType=function(t){throw"this method should be overrwritten for type "+t},i.prototype.staticPartLength=function(t){throw"this method should be overrwritten for type: "+t},i.prototype.isDynamicArray=function(t){var e=this.nestedTypes(t);return!!e&&!e[e.length-1].match(/[0-9]{1,}/g)},i.prototype.isStaticArray=function(t){var e=this.nestedTypes(t);return!!e&&!!e[e.length-1].match(/[0-9]{1,}/g)},i.prototype.staticArrayLength=function(t){var e=this.nestedTypes(t);return e?parseInt(e[e.length-1].match(/[0-9]{1,}/g)||1):1},i.prototype.nestedName=function(t){var e=this.nestedTypes(t);return e?t.substr(0,t.length-e[e.length-1].length):t},i.prototype.isDynamicType=function(){return!1},i.prototype.nestedTypes=function(t){return t.match(/(\[[0-9]*\])/g)},i.prototype.encode=function(t,e){var n=this;return this.isDynamicArray(e)?function(){var o=t.length,i=n.nestedName(e),a=[];return a.push(r.formatInputInt(o).encode()),t.forEach(function(t){a.push(n.encode(t,i))}),a}():this.isStaticArray(e)?function(){for(var r=n.staticArrayLength(e),o=n.nestedName(e),i=[],a=0;a<r;a++)i.push(n.encode(t[a],o));return i}():this._inputFormatter(t,e).encode()},i.prototype.decode=function(t,e,n){var r=this;if(this.isDynamicArray(n))return function(){for(var o=parseInt("0x"+t.substr(2*e,64)),i=parseInt("0x"+t.substr(2*o,64)),a=o+32,s=r.nestedName(n),u=r.staticPartLength(s),c=32*Math.floor((u+31)/32),p=[],f=0;f<i*c;f+=c)p.push(r.decode(t,a+f,s));return p}();if(this.isStaticArray(n))return function(){for(var o=r.staticArrayLength(n),i=e,a=r.nestedName(n),s=r.staticPartLength(a),u=32*Math.floor((s+31)/32),c=[],p=0;p<o*u;p+=u)c.push(r.decode(t,i+p,a));return c}();if(this.isDynamicType(n))return function(){var n=parseInt("0x"+t.substr(2*e,64)),i=parseInt("0x"+t.substr(2*n,64)),a=Math.floor((i+31)/32);return r._outputFormatter(new o(t.substr(2*n,64*(1+a)),0))}();var i=this.staticPartLength(n);return this._outputFormatter(new o(t.substr(2*e,2*i)))},t.exports=i},function(t,e,n){"use strict";var r=n(3),o=n(20),i=n(22),a=function(t){return r.toBigNumber(t)},s=function(t){return"latest"===t||"pending"===t||"earliest"===t},u=function(t){return void 0===t?o.defaultBlock:c(t)},c=function(t){if(void 0!==t)return s(t)?t:r.toHex(t)},p=function(t){return t.from=t.from||o.defaultAccount,t.from&&(t.from=b(t.from)),t.to&&(t.to=b(t.to)),["gasPrice","gas","value","nonce"].filter(function(e){return void 0!==t[e]}).forEach(function(e){t[e]=r.fromDecimal(t[e])}),t},f=function(t){return t.from=t.from||o.defaultAccount,t.from=b(t.from),t.to&&(t.to=b(t.to)),["gasPrice","gas","value","nonce"].filter(function(e){return void 0!==t[e]}).forEach(function(e){t[e]=r.fromDecimal(t[e])}),t},l=function(t){return null!==t.blockNumber&&(t.blockNumber=r.toDecimal(t.blockNumber)),null!==t.transactionIndex&&(t.transactionIndex=r.toDecimal(t.transactionIndex)),t.nonce=r.toDecimal(t.nonce),t.gas=r.toDecimal(t.gas),t.gasPrice=r.toBigNumber(t.gasPrice),t.value=r.toBigNumber(t.value),t},h=function(t){return null!==t.blockNumber&&(t.blockNumber=r.toDecimal(t.blockNumber)),null!==t.transactionIndex&&(t.transactionIndex=r.toDecimal(t.transactionIndex)),t.cumulativeGasUsed=r.toDecimal(t.cumulativeGasUsed),t.gasUsed=r.toDecimal(t.gasUsed),r.isArray(t.logs)&&(t.logs=t.logs.map(function(t){return d(t)})),t},y=function(t){return t.gasLimit=r.toDecimal(t.gasLimit),t.gasUsed=r.toDecimal(t.gasUsed),t.size=r.toDecimal(t.size),t.timestamp=r.toDecimal(t.timestamp),null!==t.number&&(t.number=r.toDecimal(t.number)),t.difficulty=r.toBigNumber(t.difficulty),t.totalDifficulty=r.toBigNumber(t.totalDifficulty),r.isArray(t.transactions)&&t.transactions.forEach(function(t){if(!r.isString(t))return l(t)}),t},d=function(t){return null!==t.blockNumber&&(t.blockNumber=r.toDecimal(t.blockNumber)),null!==t.transactionIndex&&(t.transactionIndex=r.toDecimal(t.transactionIndex)),null!==t.logIndex&&(t.logIndex=r.toDecimal(t.logIndex)),t},m=function(t){return t.ttl=r.fromDecimal(t.ttl),t.workToProve=r.fromDecimal(t.workToProve),t.priority=r.fromDecimal(t.priority),r.isArray(t.topics)||(t.topics=t.topics?[t.topics]:[]),t.topics=t.topics.map(function(t){return 0===t.indexOf("0x")?t:r.fromUtf8(t)}),t},v=function(t){return t.expiry=r.toDecimal(t.expiry),t.sent=r.toDecimal(t.sent),t.ttl=r.toDecimal(t.ttl),t.workProved=r.toDecimal(t.workProved),t.topics||(t.topics=[]),t.topics=t.topics.map(function(t){return r.toAscii(t)}),t},b=function(t){var e=new i(t);if(e.isValid()&&e.isDirect())return"0x"+e.address();if(r.isStrictAddress(t))return t;if(r.isAddress(t))return"0x"+t;throw new Error("invalid address")},g=function(t){return t.startingBlock=r.toDecimal(t.startingBlock),t.currentBlock=r.toDecimal(t.currentBlock),t.highestBlock=r.toDecimal(t.highestBlock),t.knownStates&&(t.knownStates=r.toDecimal(t.knownStates),t.pulledStates=r.toDecimal(t.pulledStates)),t};t.exports={inputDefaultBlockNumberFormatter:u,inputBlockNumberFormatter:c,inputCallFormatter:p,inputTransactionFormatter:f,inputAddressFormatter:b,inputPostFormatter:m,outputBigNumberFormatter:a,outputTransactionFormatter:l,outputTransactionReceiptFormatter:h,outputBlockFormatter:y,outputLogFormatter:d,outputPostFormatter:v,outputSyncingFormatter:g}},function(t,e,n){var r,o,i,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(s,u){"object"===a(e)?t.exports=e=u(n(1)):(o=[n(1)],r=u,i="function"==typeof r?r.apply(e,o):r,!(void 0!==i&&(t.exports=i)))}(void 0,function(t){return function(e){var n=t,r=n.lib,o=r.Base,i=r.WordArray,a=n.x64={};a.Word=o.extend({init:function(t,e){this.high=t,this.low=e}}),a.WordArray=o.extend({init:function(t,n){t=this.words=t||[],n!=e?this.sigBytes=n:this.sigBytes=8*t.length},toX32:function(){for(var t=this.words,e=t.length,n=[],r=0;r<e;r++){var o=t[r];n.push(o.high),n.push(o.low)}return i.create(n,this.sigBytes)},clone:function t(){for(var t=o.clone.call(this),e=t.words=this.words.slice(0),n=e.length,r=0;r<n;r++)e[r]=e[r].clone();return t}})}(),t})},function(t,e,n){var r,o,i,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(s,u){"object"===a(e)?t.exports=e=u(n(1)):(o=[n(1)],r=u,i="function"==typeof r?r.apply(e,o):r,!(void 0!==i&&(t.exports=i)))}(void 0,function(t){!function(){var e=t,n=e.lib,r=n.Base,o=e.enc,i=o.Utf8,a=e.algo;a.HMAC=r.extend({init:function(t,e){t=this._hasher=new t.init,"string"==typeof e&&(e=i.parse(e));var n=t.blockSize,r=4*n;e.sigBytes>r&&(e=t.finalize(e)),e.clamp();for(var o=this._oKey=e.clone(),a=this._iKey=e.clone(),s=o.words,u=a.words,c=0;c<n;c++)s[c]^=1549556828,u[c]^=909522486;o.sigBytes=a.sigBytes=r,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher,n=e.finalize(t);e.reset();var r=e.finalize(this._oKey.clone().concat(n));return r}})}()})},function(t,e,n){var r,o,i,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(s,u){"object"===a(e)?t.exports=e=u(n(1)):(o=[n(1)],r=u,i="function"==typeof r?r.apply(e,o):r,!(void 0!==i&&(t.exports=i)))}(void 0,function(t){return function(){var e=t,n=e.lib,r=n.WordArray,o=n.Hasher,i=e.algo,a=[],s=i.SHA1=o.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var n=this._hash.words,r=n[0],o=n[1],i=n[2],s=n[3],u=n[4],c=0;c<80;c++){if(c<16)a[c]=0|t[e+c];else{var p=a[c-3]^a[c-8]^a[c-14]^a[c-16];a[c]=p<<1|p>>>31}var f=(r<<5|r>>>27)+u+a[c];f+=c<20?(o&i|~o&s)+1518500249:c<40?(o^i^s)+1859775393:c<60?(o&i|o&s|i&s)-1894007588:(o^i^s)-899497514,u=s,s=i,i=o<<30|o>>>2,o=r,r=f}n[0]=n[0]+r|0,n[1]=n[1]+o|0,n[2]=n[2]+i|0,n[3]=n[3]+s|0,n[4]=n[4]+u|0},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,r=8*t.sigBytes;return e[r>>>5]|=128<<24-r%32,e[(r+64>>>9<<4)+14]=Math.floor(n/4294967296),e[(r+64>>>9<<4)+15]=n,t.sigBytes=4*e.length,this._process(),this._hash},clone:function t(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});e.SHA1=o._createHelper(s),e.HmacSHA1=o._createHmacHelper(s)}(),t.SHA1})},function(t,e,n){"use strict";var r=n(3),o=n(16),i=function(t){this.name=t.name,this.call=t.call,this.params=t.params||0,this.inputFormatter=t.inputFormatter,this.outputFormatter=t.outputFormatter,this.requestManager=null};i.prototype.setRequestManager=function(t){this.requestManager=t},i.prototype.getCall=function(t){return r.isFunction(this.call)?this.call(t):this.call},i.prototype.extractCallback=function(t){if(r.isFunction(t[t.length-1]))return t.pop()},i.prototype.validateArgs=function(t){if(t.length!==this.params)throw o.InvalidNumberOfParams()},i.prototype.formatInput=function(t){return this.inputFormatter?this.inputFormatter.map(function(e,n){return e?e(t[n]):t[n]}):t},i.prototype.formatOutput=function(t){return this.outputFormatter&&t?this.outputFormatter(t):t},i.prototype.toPayload=function(t){var e=this.getCall(t),n=this.extractCallback(t),r=this.formatInput(t);return this.validateArgs(r),{method:e,params:r,callback:n}},i.prototype.attachToObject=function(t){var e=this.buildCall();e.call=this.call;var n=this.name.split(".");n.length>1?(t[n[0]]=t[n[0]]||{},t[n[0]][n[1]]=e):t[n[0]]=e},i.prototype.buildCall=function(){var t=this,e=function(){var e=t.toPayload(Array.prototype.slice.call(arguments));return e.callback?t.requestManager.sendAsync(e,function(n,r){e.callback(n,t.formatOutput(r))}):t.formatOutput(t.requestManager.send(e))};return e.request=this.request.bind(this),e},i.prototype.request=function(){var t=this.toPayload(Array.prototype.slice.call(arguments));return t.format=this.formatOutput.bind(this),t},t.exports=i},function(t,e,n){var r,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(i){"use strict";function a(t){function e(t,r){var o,i,a,s,u,c,p=this;if(!(p instanceof e))return G&&D(26,"constructor call without new",t),new e(t,r);if(null!=r&&X(r,2,64,M,"base")){if(r|=0,c=t+"",10==r)return p=new e(t instanceof e?t:c),T(p,L+p.e+1,q);if((s="number"==typeof t)&&0*t!=0||!new RegExp("^-?"+(o="["+B.slice(0,r)+"]+")+"(?:\\."+o+")?$",r<37?"i":"").test(c))return b(p,c,s,r);s?(p.s=1/t<0?(c=c.slice(1),-1):1,G&&c.replace(/^0\.0*|\./,"").length>15&&D(M,k,t),s=!1):p.s=45===c.charCodeAt(0)?(c=c.slice(1),-1):1,c=n(c,10,r,p.s)}else{if(t instanceof e)return p.s=t.s,p.e=t.e,p.c=(t=t.c)?t.slice():t,void(M=0);if((s="number"==typeof t)&&0*t==0){if(p.s=1/t<0?(t=-t,-1):1,t===~~t){for(i=0,a=t;a>=10;a/=10,i++);return p.e=i,p.c=[t],void(M=0)}c=t+""}else{if(!g.test(c=t+""))return b(p,c,s);p.s=45===c.charCodeAt(0)?(c=c.slice(1),-1):1}}for((i=c.indexOf("."))>-1&&(c=c.replace(".","")),(a=c.search(/e/i))>0?(i<0&&(i=a),i+=+c.slice(a+1),c=c.substring(0,a)):i<0&&(i=c.length),a=0;48===c.charCodeAt(a);a++);for(u=c.length;48===c.charCodeAt(--u););if(c=c.slice(a,u+1))if(u=c.length,s&&G&&u>15&&D(M,k,p.s*t),i=i-a-1,i>W)p.c=p.e=null;else if(i<U)p.c=[p.e=0];else{if(p.e=i,p.c=[],a=(i+1)%C,
i<0&&(a+=C),a<u){for(a&&p.c.push(+c.slice(0,a)),u-=C;a<u;)p.c.push(+c.slice(a,a+=C));c=c.slice(a),a=C-c.length}else a-=u;for(;a--;c+="0");p.c.push(+c)}else p.c=[p.e=0];M=0}function n(t,n,r,o){var i,a,s,c,p,f,h,d=t.indexOf("."),m=L,v=q;for(r<37&&(t=t.toLowerCase()),d>=0&&(s=V,V=0,t=t.replace(".",""),h=new e(r),p=h.pow(t.length-d),V=s,h.c=l(y(u(p.c),p.e),10,n),h.e=h.c.length),f=l(t,r,n),a=s=f.length;0==f[--s];f.pop());if(!f[0])return"0";if(d<0?--a:(p.c=f,p.e=a,p.s=o,p=N(p,h,m,v,n),f=p.c,c=p.r,a=p.e),i=a+m+1,d=f[i],s=n/2,c=c||i<0||null!=f[i+1],c=v<4?(null!=d||c)&&(0==v||v==(p.s<0?3:2)):d>s||d==s&&(4==v||c||6==v&&1&f[i-1]||v==(p.s<0?8:7)),i<1||!f[0])t=c?y("1",-m):"0";else{if(f.length=i,c)for(--n;++f[--i]>n;)f[i]=0,i||(++a,f.unshift(1));for(s=f.length;!f[--s];);for(d=0,t="";d<=s;t+=B.charAt(f[d++]));t=y(t,a)}return t}function r(t,n,r,o){var i,a,s,c,p;if(r=null!=r&&X(r,0,8,o,x)?0|r:q,!t.c)return t.toString();if(i=t.c[0],s=t.e,null==n)p=u(t.c),p=19==o||24==o&&s<=j?h(p,s):y(p,s);else if(t=T(new e(t),n,r),a=t.e,p=u(t.c),c=p.length,19==o||24==o&&(n<=a||a<=j)){for(;c<n;p+="0",c++);p=h(p,a)}else if(n-=s,p=y(p,a),a+1>c){if(--n>0)for(p+=".";n--;p+="0");}else if(n+=a-c,n>0)for(a+1==c&&(p+=".");n--;p+="0");return t.s<0&&i?"-"+p:p}function i(t,n){var r,o,i=0;for(f(t[0])&&(t=t[0]),r=new e(t[0]);++i<t.length;){if(o=new e(t[i]),!o.s){r=o;break}n.call(r,o)&&(r=o)}return r}function m(t,e,n,r,o){return(t<e||t>n||t!=d(t))&&D(r,(o||"decimal places")+(t<e||t>n?" out of range":" not an integer"),t),!0}function R(t,e,n){for(var r=1,o=e.length;!e[--o];e.pop());for(o=e[0];o>=10;o/=10,r++);return(n=r+n*C-1)>W?t.c=t.e=null:n<U?t.c=[t.e=0]:(t.e=n,t.c=e),t}function D(t,e,n){var r=new Error(["new BigNumber","cmp","config","div","divToInt","eq","gt","gte","lt","lte","minus","mod","plus","precision","random","round","shift","times","toDigits","toExponential","toFixed","toFormat","toFraction","pow","toPrecision","toString","BigNumber"][t]+"() "+e+": "+n);throw r.name="BigNumber Error",M=0,r}function T(t,e,n,r){var o,i,a,s,u,c,p,f=t.c,l=O;if(f){t:{for(o=1,s=f[0];s>=10;s/=10,o++);if(i=e-o,i<0)i+=C,a=e,u=f[c=0],p=u/l[o-a-1]%10|0;else if(c=_((i+1)/C),c>=f.length){if(!r)break t;for(;f.length<=c;f.push(0));u=p=0,o=1,i%=C,a=i-C+1}else{for(u=s=f[c],o=1;s>=10;s/=10,o++);i%=C,a=i-C+o,p=a<0?0:u/l[o-a-1]%10|0}if(r=r||e<0||null!=f[c+1]||(a<0?u:u%l[o-a-1]),r=n<4?(p||r)&&(0==n||n==(t.s<0?3:2)):p>5||5==p&&(4==n||r||6==n&&(i>0?a>0?u/l[o-a]:0:f[c-1])%10&1||n==(t.s<0?8:7)),e<1||!f[0])return f.length=0,r?(e-=t.e+1,f[0]=l[e%C],t.e=-e||0):f[0]=t.e=0,t;if(0==i?(f.length=c,s=1,c--):(f.length=c+1,s=l[C-i],f[c]=a>0?w(u/l[o-a]%l[a])*s:0),r)for(;;){if(0==c){for(i=1,a=f[0];a>=10;a/=10,i++);for(a=f[0]+=s,s=1;a>=10;a/=10,s++);i!=s&&(t.e++,f[0]==A&&(f[0]=1));break}if(f[c]+=s,f[c]!=A)break;f[c--]=0,s=1}for(i=f.length;0===f[--i];f.pop());}t.e>W?t.c=t.e=null:t.e<U&&(t.c=[t.e=0])}return t}var N,M=0,E=e.prototype,H=new e(1),L=20,q=4,j=-7,z=21,U=-1e7,W=1e7,G=!0,X=m,$=!1,K=1,V=100,J={decimalSeparator:".",groupSeparator:",",groupSize:3,secondaryGroupSize:0,fractionGroupSeparator:" ",fractionGroupSize:0};return e.another=a,e.ROUND_UP=0,e.ROUND_DOWN=1,e.ROUND_CEIL=2,e.ROUND_FLOOR=3,e.ROUND_HALF_UP=4,e.ROUND_HALF_DOWN=5,e.ROUND_HALF_EVEN=6,e.ROUND_HALF_CEIL=7,e.ROUND_HALF_FLOOR=8,e.EUCLID=9,e.config=function(){var t,e,n=0,r={},i=arguments,a=i[0],s=a&&"object"==("undefined"==typeof a?"undefined":o(a))?function(){if(a.hasOwnProperty(e))return null!=(t=a[e])}:function(){if(i.length>n)return null!=(t=i[n++])};return s(e="DECIMAL_PLACES")&&X(t,0,I,2,e)&&(L=0|t),r[e]=L,s(e="ROUNDING_MODE")&&X(t,0,8,2,e)&&(q=0|t),r[e]=q,s(e="EXPONENTIAL_AT")&&(f(t)?X(t[0],-I,0,2,e)&&X(t[1],0,I,2,e)&&(j=0|t[0],z=0|t[1]):X(t,-I,I,2,e)&&(j=-(z=0|(t<0?-t:t)))),r[e]=[j,z],s(e="RANGE")&&(f(t)?X(t[0],-I,-1,2,e)&&X(t[1],1,I,2,e)&&(U=0|t[0],W=0|t[1]):X(t,-I,I,2,e)&&(0|t?U=-(W=0|(t<0?-t:t)):G&&D(2,e+" cannot be zero",t))),r[e]=[U,W],s(e="ERRORS")&&(t===!!t||1===t||0===t?(M=0,X=(G=!!t)?m:p):G&&D(2,e+S,t)),r[e]=G,s(e="CRYPTO")&&(t===!!t||1===t||0===t?($=!(!t||!v||"object"!=("undefined"==typeof v?"undefined":o(v))),t&&!$&&G&&D(2,"crypto unavailable",v)):G&&D(2,e+S,t)),r[e]=$,s(e="MODULO_MODE")&&X(t,0,9,2,e)&&(K=0|t),r[e]=K,s(e="POW_PRECISION")&&X(t,0,I,2,e)&&(V=0|t),r[e]=V,s(e="FORMAT")&&("object"==("undefined"==typeof t?"undefined":o(t))?J=t:G&&D(2,e+" not an object",t)),r[e]=J,r},e.max=function(){return i(arguments,E.lt)},e.min=function(){return i(arguments,E.gt)},e.random=function(){var t=9007199254740992,n=Math.random()*t&2097151?function(){return w(Math.random()*t)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)};return function(t){var r,o,i,a,s,u=0,c=[],p=new e(H);if(t=null!=t&&X(t,0,I,14)?0|t:L,a=_(t/C),$)if(v&&v.getRandomValues){for(r=v.getRandomValues(new Uint32Array(a*=2));u<a;)s=131072*r[u]+(r[u+1]>>>11),s>=9e15?(o=v.getRandomValues(new Uint32Array(2)),r[u]=o[0],r[u+1]=o[1]):(c.push(s%1e14),u+=2);u=a/2}else if(v&&v.randomBytes){for(r=v.randomBytes(a*=7);u<a;)s=281474976710656*(31&r[u])+1099511627776*r[u+1]+4294967296*r[u+2]+16777216*r[u+3]+(r[u+4]<<16)+(r[u+5]<<8)+r[u+6],s>=9e15?v.randomBytes(7).copy(r,u):(c.push(s%1e14),u+=7);u=a/7}else G&&D(14,"crypto unavailable",v);if(!u)for(;u<a;)s=n(),s<9e15&&(c[u++]=s%1e14);for(a=c[--u],t%=C,a&&t&&(s=O[C-t],c[u]=w(a/s)*s);0===c[u];c.pop(),u--);if(u<0)c=[i=0];else{for(i=-1;0===c[0];c.shift(),i-=C);for(u=1,s=c[0];s>=10;s/=10,u++);u<C&&(i-=C-u)}return p.e=i,p.c=c,p}}(),N=function(){function t(t,e,n){var r,o,i,a,s=0,u=t.length,c=e%P,p=e/P|0;for(t=t.slice();u--;)i=t[u]%P,a=t[u]/P|0,r=p*i+a*c,o=c*i+r%P*P+s,s=(o/n|0)+(r/P|0)+p*a,t[u]=o%n;return s&&t.unshift(s),t}function n(t,e,n,r){var o,i;if(n!=r)i=n>r?1:-1;else for(o=i=0;o<n;o++)if(t[o]!=e[o]){i=t[o]>e[o]?1:-1;break}return i}function r(t,e,n,r){for(var o=0;n--;)t[n]-=o,o=t[n]<e[n]?1:0,t[n]=o*r+t[n]-e[n];for(;!t[0]&&t.length>1;t.shift());}return function(o,i,a,u,c){var p,f,l,h,y,d,m,v,b,g,_,S,x,k,B,F,O,P=o.s==i.s?1:-1,I=o.c,R=i.c;if(!(I&&I[0]&&R&&R[0]))return new e(o.s&&i.s&&(I?!R||I[0]!=R[0]:R)?I&&0==I[0]||!R?0*P:P/0:NaN);for(v=new e(P),b=v.c=[],f=o.e-i.e,P=a+f+1,c||(c=A,f=s(o.e/C)-s(i.e/C),P=P/C|0),l=0;R[l]==(I[l]||0);l++);if(R[l]>(I[l]||0)&&f--,P<0)b.push(1),h=!0;else{for(k=I.length,F=R.length,l=0,P+=2,y=w(c/(R[0]+1)),y>1&&(R=t(R,y,c),I=t(I,y,c),F=R.length,k=I.length),x=F,g=I.slice(0,F),_=g.length;_<F;g[_++]=0);O=R.slice(),O.unshift(0),B=R[0],R[1]>=c/2&&B++;do{if(y=0,p=n(R,g,F,_),p<0){if(S=g[0],F!=_&&(S=S*c+(g[1]||0)),y=w(S/B),y>1)for(y>=c&&(y=c-1),d=t(R,y,c),m=d.length,_=g.length;1==n(d,g,m,_);)y--,r(d,F<m?O:R,m,c),m=d.length,p=1;else 0==y&&(p=y=1),d=R.slice(),m=d.length;if(m<_&&d.unshift(0),r(g,d,_,c),_=g.length,p==-1)for(;n(R,g,F,_)<1;)y++,r(g,F<_?O:R,_,c),_=g.length}else 0===p&&(y++,g=[0]);b[l++]=y,g[0]?g[_++]=I[x]||0:(g=[I[x]],_=1)}while((x++<k||null!=g[0])&&P--);h=null!=g[0],b[0]||b.shift()}if(c==A){for(l=1,P=b[0];P>=10;P/=10,l++);T(v,a+(v.e=l+f*C-1)+1,u,h)}else v.e=f,v.r=+h;return v}}(),b=function(){var t=/^(-?)0([xbo])/i,n=/^([^.]+)\.$/,r=/^\.([^.]+)$/,o=/^-?(Infinity|NaN)$/,i=/^\s*\+|^\s+|\s+$/g;return function(a,s,u,c){var p,f=u?s:s.replace(i,"");if(o.test(f))a.s=isNaN(f)?null:f<0?-1:1;else{if(!u&&(f=f.replace(t,function(t,e,n){return p="x"==(n=n.toLowerCase())?16:"b"==n?2:8,c&&c!=p?t:e}),c&&(p=c,f=f.replace(n,"$1").replace(r,"0.$1")),s!=f))return new e(f,p);G&&D(M,"not a"+(c?" base "+c:"")+" number",s),a.s=null}a.c=a.e=null,M=0}}(),E.absoluteValue=E.abs=function(){var t=new e(this);return t.s<0&&(t.s=1),t},E.ceil=function(){return T(new e(this),this.e+1,2)},E.comparedTo=E.cmp=function(t,n){return M=1,c(this,new e(t,n))},E.decimalPlaces=E.dp=function(){var t,e,n=this.c;if(!n)return null;if(t=((e=n.length-1)-s(this.e/C))*C,e=n[e])for(;e%10==0;e/=10,t--);return t<0&&(t=0),t},E.dividedBy=E.div=function(t,n){return M=3,N(this,new e(t,n),L,q)},E.dividedToIntegerBy=E.divToInt=function(t,n){return M=4,N(this,new e(t,n),0,1)},E.equals=E.eq=function(t,n){return M=5,0===c(this,new e(t,n))},E.floor=function(){return T(new e(this),this.e+1,3)},E.greaterThan=E.gt=function(t,n){return M=6,c(this,new e(t,n))>0},E.greaterThanOrEqualTo=E.gte=function(t,n){return M=7,1===(n=c(this,new e(t,n)))||0===n},E.isFinite=function(){return!!this.c},E.isInteger=E.isInt=function(){return!!this.c&&s(this.e/C)>this.c.length-2},E.isNaN=function(){return!this.s},E.isNegative=E.isNeg=function(){return this.s<0},E.isZero=function(){return!!this.c&&0==this.c[0]},E.lessThan=E.lt=function(t,n){return M=8,c(this,new e(t,n))<0},E.lessThanOrEqualTo=E.lte=function(t,n){return M=9,(n=c(this,new e(t,n)))===-1||0===n},E.minus=E.sub=function(t,n){var r,o,i,a,u=this,c=u.s;if(M=10,t=new e(t,n),n=t.s,!c||!n)return new e(NaN);if(c!=n)return t.s=-n,u.plus(t);var p=u.e/C,f=t.e/C,l=u.c,h=t.c;if(!p||!f){if(!l||!h)return l?(t.s=-n,t):new e(h?u:NaN);if(!l[0]||!h[0])return h[0]?(t.s=-n,t):new e(l[0]?u:3==q?-0:0)}if(p=s(p),f=s(f),l=l.slice(),c=p-f){for((a=c<0)?(c=-c,i=l):(f=p,i=h),i.reverse(),n=c;n--;i.push(0));i.reverse()}else for(o=(a=(c=l.length)<(n=h.length))?c:n,c=n=0;n<o;n++)if(l[n]!=h[n]){a=l[n]<h[n];break}if(a&&(i=l,l=h,h=i,t.s=-t.s),n=(o=h.length)-(r=l.length),n>0)for(;n--;l[r++]=0);for(n=A-1;o>c;){if(l[--o]<h[o]){for(r=o;r&&!l[--r];l[r]=n);--l[r],l[o]+=A}l[o]-=h[o]}for(;0==l[0];l.shift(),--f);return l[0]?R(t,l,f):(t.s=3==q?-1:1,t.c=[t.e=0],t)},E.modulo=E.mod=function(t,n){var r,o,i=this;return M=11,t=new e(t,n),!i.c||!t.s||t.c&&!t.c[0]?new e(NaN):!t.c||i.c&&!i.c[0]?new e(i):(9==K?(o=t.s,t.s=1,r=N(i,t,0,3),t.s=o,r.s*=o):r=N(i,t,0,K),i.minus(r.times(t)))},E.negated=E.neg=function(){var t=new e(this);return t.s=-t.s||null,t},E.plus=E.add=function(t,n){var r,o=this,i=o.s;if(M=12,t=new e(t,n),n=t.s,!i||!n)return new e(NaN);if(i!=n)return t.s=-n,o.minus(t);var a=o.e/C,u=t.e/C,c=o.c,p=t.c;if(!a||!u){if(!c||!p)return new e(i/0);if(!c[0]||!p[0])return p[0]?t:new e(c[0]?o:0*i)}if(a=s(a),u=s(u),c=c.slice(),i=a-u){for(i>0?(u=a,r=p):(i=-i,r=c),r.reverse();i--;r.push(0));r.reverse()}for(i=c.length,n=p.length,i-n<0&&(r=p,p=c,c=r,n=i),i=0;n;)i=(c[--n]=c[n]+p[n]+i)/A|0,c[n]%=A;return i&&(c.unshift(i),++u),R(t,c,u)},E.precision=E.sd=function(t){var e,n,r=this,o=r.c;if(null!=t&&t!==!!t&&1!==t&&0!==t&&(G&&D(13,"argument"+S,t),t!=!!t&&(t=null)),!o)return null;if(n=o.length-1,e=n*C+1,n=o[n]){for(;n%10==0;n/=10,e--);for(n=o[0];n>=10;n/=10,e++);}return t&&r.e+1>e&&(e=r.e+1),e},E.round=function(t,n){var r=new e(this);return(null==t||X(t,0,I,15))&&T(r,~~t+this.e+1,null!=n&&X(n,0,8,15,x)?0|n:q),r},E.shift=function(t){var n=this;return X(t,-F,F,16,"argument")?n.times("1e"+d(t)):new e(n.c&&n.c[0]&&(t<-F||t>F)?n.s*(t<0?0:1/0):n)},E.squareRoot=E.sqrt=function(){var t,n,r,o,i,a=this,c=a.c,p=a.s,f=a.e,l=L+4,h=new e("0.5");if(1!==p||!c||!c[0])return new e(!p||p<0&&(!c||c[0])?NaN:c?a:1/0);if(p=Math.sqrt(+a),0==p||p==1/0?(n=u(c),(n.length+f)%2==0&&(n+="0"),p=Math.sqrt(n),f=s((f+1)/2)-(f<0||f%2),p==1/0?n="1e"+f:(n=p.toExponential(),n=n.slice(0,n.indexOf("e")+1)+f),r=new e(n)):r=new e(p+""),r.c[0])for(f=r.e,p=f+l,p<3&&(p=0);;)if(i=r,r=h.times(i.plus(N(a,i,l,1))),u(i.c).slice(0,p)===(n=u(r.c)).slice(0,p)){if(r.e<f&&--p,n=n.slice(p-3,p+1),"9999"!=n&&(o||"4999"!=n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||(T(r,r.e+L+2,1),t=!r.times(r).eq(a));break}if(!o&&(T(i,i.e+L+2,0),i.times(i).eq(a))){r=i;break}l+=4,p+=4,o=1}return T(r,r.e+L+1,q,t)},E.times=E.mul=function(t,n){var r,o,i,a,u,c,p,f,l,h,y,d,m,v,b,g=this,_=g.c,w=(M=17,t=new e(t,n)).c;if(!(_&&w&&_[0]&&w[0]))return!g.s||!t.s||_&&!_[0]&&!w||w&&!w[0]&&!_?t.c=t.e=t.s=null:(t.s*=g.s,_&&w?(t.c=[0],t.e=0):t.c=t.e=null),t;for(o=s(g.e/C)+s(t.e/C),t.s*=g.s,p=_.length,h=w.length,p<h&&(m=_,_=w,w=m,i=p,p=h,h=i),i=p+h,m=[];i--;m.push(0));for(v=A,b=P,i=h;--i>=0;){for(r=0,y=w[i]%b,d=w[i]/b|0,u=p,a=i+u;a>i;)f=_[--u]%b,l=_[u]/b|0,c=d*f+l*y,f=y*f+c%b*b+m[a]+r,r=(f/v|0)+(c/b|0)+d*l,m[a--]=f%v;m[a]=r}return r?++o:m.shift(),R(t,m,o)},E.toDigits=function(t,n){var r=new e(this);return t=null!=t&&X(t,1,I,18,"precision")?0|t:null,n=null!=n&&X(n,0,8,18,x)?0|n:q,t?T(r,t,n):r},E.toExponential=function(t,e){return r(this,null!=t&&X(t,0,I,19)?~~t+1:null,e,19)},E.toFixed=function(t,e){return r(this,null!=t&&X(t,0,I,20)?~~t+this.e+1:null,e,20)},E.toFormat=function(t,e){var n=r(this,null!=t&&X(t,0,I,21)?~~t+this.e+1:null,e,21);if(this.c){var o,i=n.split("."),a=+J.groupSize,s=+J.secondaryGroupSize,u=J.groupSeparator,c=i[0],p=i[1],f=this.s<0,l=f?c.slice(1):c,h=l.length;if(s&&(o=a,a=s,s=o,h-=o),a>0&&h>0){for(o=h%a||a,c=l.substr(0,o);o<h;o+=a)c+=u+l.substr(o,a);s>0&&(c+=u+l.slice(o)),f&&(c="-"+c)}n=p?c+J.decimalSeparator+((s=+J.fractionGroupSize)?p.replace(new RegExp("\\d{"+s+"}\\B","g"),"$&"+J.fractionGroupSeparator):p):c}return n},E.toFraction=function(t){var n,r,o,i,a,s,c,p,f,l=G,h=this,y=h.c,d=new e(H),m=r=new e(H),v=c=new e(H);if(null!=t&&(G=!1,s=new e(t),G=l,(l=s.isInt())&&!s.lt(H)||(G&&D(22,"max denominator "+(l?"out of range":"not an integer"),t),t=!l&&s.c&&T(s,s.e+1,1).gte(H)?s:null)),!y)return h.toString();for(f=u(y),i=d.e=f.length-h.e-1,d.c[0]=O[(a=i%C)<0?C+a:a],t=!t||s.cmp(d)>0?i>0?d:m:s,a=W,W=1/0,s=new e(f),c.c[0]=0;p=N(s,d,0,1),o=r.plus(p.times(v)),1!=o.cmp(t);)r=v,v=o,m=c.plus(p.times(o=m)),c=o,d=s.minus(p.times(o=d)),s=o;return o=N(t.minus(r),v,0,1),c=c.plus(o.times(m)),r=r.plus(o.times(v)),c.s=m.s=h.s,i*=2,n=N(m,v,i,q).minus(h).abs().cmp(N(c,r,i,q).minus(h).abs())<1?[m.toString(),v.toString()]:[c.toString(),r.toString()],W=a,n},E.toNumber=function(){var t=this;return+t||(t.s?0*t.s:NaN)},E.toPower=E.pow=function(t){var n,r,o=w(t<0?-t:+t),i=this;if(!X(t,-F,F,23,"exponent")&&(!isFinite(t)||o>F&&(t/=0)||parseFloat(t)!=t&&!(t=NaN)))return new e(Math.pow(+i,t));for(n=V?_(V/C+2):0,r=new e(H);;){if(o%2){if(r=r.times(i),!r.c)break;n&&r.c.length>n&&(r.c.length=n)}if(o=w(o/2),!o)break;i=i.times(i),n&&i.c&&i.c.length>n&&(i.c.length=n)}return t<0&&(r=H.div(r)),n?T(r,V,q):r},E.toPrecision=function(t,e){return r(this,null!=t&&X(t,1,I,24,"precision")?0|t:null,e,24)},E.toString=function(t){var e,r=this,o=r.s,i=r.e;return null===i?o?(e="Infinity",o<0&&(e="-"+e)):e="NaN":(e=u(r.c),e=null!=t&&X(t,2,64,25,"base")?n(y(e,i),0|t,10,o):i<=j||i>=z?h(e,i):y(e,i),o<0&&r.c[0]&&(e="-"+e)),e},E.truncated=E.trunc=function(){return T(new e(this),this.e+1,1)},E.valueOf=E.toJSON=function(){return this.toString()},null!=t&&e.config(t),e}function s(t){var e=0|t;return t>0||t===e?e:e-1}function u(t){for(var e,n,r=1,o=t.length,i=t[0]+"";r<o;){for(e=t[r++]+"",n=C-e.length;n--;e="0"+e);i+=e}for(o=i.length;48===i.charCodeAt(--o););return i.slice(0,o+1||1)}function c(t,e){var n,r,o=t.c,i=e.c,a=t.s,s=e.s,u=t.e,c=e.e;if(!a||!s)return null;if(n=o&&!o[0],r=i&&!i[0],n||r)return n?r?0:-s:a;if(a!=s)return a;if(n=a<0,r=u==c,!o||!i)return r?0:!o^n?1:-1;if(!r)return u>c^n?1:-1;for(s=(u=o.length)<(c=i.length)?u:c,a=0;a<s;a++)if(o[a]!=i[a])return o[a]>i[a]^n?1:-1;return u==c?0:u>c^n?1:-1}function p(t,e,n){return(t=d(t))>=e&&t<=n}function f(t){return"[object Array]"==Object.prototype.toString.call(t)}function l(t,e,n){for(var r,o,i=[0],a=0,s=t.length;a<s;){for(o=i.length;o--;i[o]*=e);for(i[r=0]+=B.indexOf(t.charAt(a++));r<i.length;r++)i[r]>n-1&&(null==i[r+1]&&(i[r+1]=0),i[r+1]+=i[r]/n|0,i[r]%=n)}return i.reverse()}function h(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function y(t,e){var n,r;if(e<0){for(r="0.";++e;r+="0");t=r+t}else if(n=t.length,++e>n){for(r="0",e-=n;--e;r+="0");t+=r}else e<n&&(t=t.slice(0,e)+"."+t.slice(e));return t}function d(t){return t=parseFloat(t),t<0?_(t):w(t)}var m,v,b,g=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,_=Math.ceil,w=Math.floor,S=" not a boolean or binary digit",x="rounding mode",k="number type has more than 15 significant digits",B="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_",A=1e14,C=14,F=9007199254740991,O=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],P=1e7,I=1e9;m=a(),r=function(){return m}.call(e,n,e,t),!(void 0!==r&&(t.exports=r))}(void 0)},function(t,e,n){"use strict";var r=n(52),o=n(24);t.exports=function(t,e){return e&&"hex"===e.encoding&&(t.length>2&&"0x"===t.substr(0,2)&&(t=t.substr(2)),t=r.enc.Hex.parse(t)),o(t,{outputLength:256}).toString()}},function(t,e){"use strict";t.exports={InvalidNumberOfParams:function(){return new Error("Invalid number of input parameters")},InvalidConnection:function(t){return new Error("CONNECTION ERROR: Couldn't connect to node "+t+".")},InvalidProvider:function(){return new Error("Provider not set or invalid")},InvalidResponse:function(t){var e=t&&t.error&&t.error.message?t.error.message:"Invalid JSON RPC response: "+JSON.stringify(t);return new Error(e)}}},function(t,e,n){"use strict";var r=n(3),o=function(t){this.name=t.name,this.getter=t.getter,this.setter=t.setter,this.outputFormatter=t.outputFormatter,this.inputFormatter=t.inputFormatter,this.requestManager=null};o.prototype.setRequestManager=function(t){this.requestManager=t},o.prototype.formatInput=function(t){return this.inputFormatter?this.inputFormatter(t):t},o.prototype.formatOutput=function(t){return this.outputFormatter&&null!==t?this.outputFormatter(t):t},o.prototype.extractCallback=function(t){if(r.isFunction(t[t.length-1]))return t.pop()},o.prototype.attachToObject=function(t){var e={get:this.buildGet(),enumerable:!0},n=this.name.split("."),r=n[0];n.length>1&&(t[n[0]]=t[n[0]]||{},t=t[n[0]],r=n[1]),Object.defineProperty(t,r,e),t[i(r)]=this.buildAsyncGet()};var i=function(t){return"get"+t.charAt(0).toUpperCase()+t.slice(1)};o.prototype.buildGet=function(){var t=this;return function(){return t.formatOutput(t.requestManager.send({method:t.getter}))}},o.prototype.buildAsyncGet=function(){var t=this,e=function(e){t.requestManager.sendAsync({method:t.getter},function(n,r){e(n,t.formatOutput(r))})};return e.request=this.request.bind(this),e},o.prototype.request=function(){var t={method:this.getter,params:[],callback:this.extractCallback(Array.prototype.slice.call(arguments))};return t.format=this.formatOutput.bind(this),t},t.exports=o},function(t,e,n){var r,o,i,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(s,u){"object"===a(e)?t.exports=e=u(n(1)):(o=[n(1)],r=u,i="function"==typeof r?r.apply(e,o):r,!(void 0!==i&&(t.exports=i)))}(void 0,function(t){return function(e){var n=t,r=n.lib,o=r.WordArray,i=r.Hasher,a=n.algo,s=[],u=[];!function(){function t(t){for(var n=e.sqrt(t),r=2;r<=n;r++)if(!(t%r))return!1;return!0}function n(t){return 4294967296*(t-(0|t))|0}for(var r=2,o=0;o<64;)t(r)&&(o<8&&(s[o]=n(e.pow(r,.5))),u[o]=n(e.pow(r,1/3)),o++),r++}();var c=[],p=a.SHA256=i.extend({_doReset:function(){this._hash=new o.init(s.slice(0))},_doProcessBlock:function(t,e){for(var n=this._hash.words,r=n[0],o=n[1],i=n[2],a=n[3],s=n[4],p=n[5],f=n[6],l=n[7],h=0;h<64;h++){if(h<16)c[h]=0|t[e+h];else{var y=c[h-15],d=(y<<25|y>>>7)^(y<<14|y>>>18)^y>>>3,m=c[h-2],v=(m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10;c[h]=d+c[h-7]+v+c[h-16]}var b=s&p^~s&f,g=r&o^r&i^o&i,_=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),w=(s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25),S=l+w+b+u[h]+c[h],x=_+g;l=f,f=p,p=s,s=a+S|0,a=i,i=o,o=r,r=S+x|0}n[0]=n[0]+r|0,n[1]=n[1]+o|0,n[2]=n[2]+i|0,n[3]=n[3]+a|0,n[4]=n[4]+s|0,n[5]=n[5]+p|0,n[6]=n[6]+f|0,n[7]=n[7]+l|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,o=8*t.sigBytes;return n[o>>>5]|=128<<24-o%32,n[(o+64>>>9<<4)+14]=e.floor(r/4294967296),n[(o+64>>>9<<4)+15]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function t(){var t=i.clone.call(this);return t._hash=this._hash.clone(),t}});n.SHA256=i._createHelper(p),n.HmacSHA256=i._createHmacHelper(p)}(Math),t.SHA256})},function(t,e,n){var r,o,i,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(s,u,c){"object"===a(e)?t.exports=e=u(n(1),n(10)):(o=[n(1),n(10)],r=u,i="function"==typeof r?r.apply(e,o):r,!(void 0!==i&&(t.exports=i)))}(void 0,function(t){return function(){function e(){return a.create.apply(a,arguments)}var n=t,r=n.lib,o=r.Hasher,i=n.x64,a=i.Word,s=i.WordArray,u=n.algo,c=[e(1116352408,3609767458),e(1899447441,602891725),e(3049323471,3964484399),e(3921009573,2173295548),e(961987163,4081628472),e(1508970993,3053834265),e(2453635748,2937671579),e(2870763221,3664609560),e(3624381080,2734883394),e(310598401,1164996542),e(607225278,1323610764),e(1426881987,3590304994),e(1925078388,4068182383),e(2162078206,991336113),e(2614888103,633803317),e(3248222580,3479774868),e(3835390401,2666613458),e(4022224774,944711139),e(264347078,2341262773),e(604807628,2007800933),e(770255983,1495990901),e(1249150122,1856431235),e(1555081692,3175218132),e(1996064986,2198950837),e(2554220882,3999719339),e(2821834349,766784016),e(2952996808,2566594879),e(3210313671,3203337956),e(3336571891,1034457026),e(3584528711,2466948901),e(113926993,3758326383),e(338241895,168717936),e(666307205,1188179964),e(773529912,1546045734),e(1294757372,1522805485),e(1396182291,2643833823),e(1695183700,2343527390),e(1986661051,1014477480),e(2177026350,1206759142),e(2456956037,344077627),e(2730485921,1290863460),e(2820302411,3158454273),e(3259730800,3505952657),e(3345764771,106217008),e(3516065817,3606008344),e(3600352804,1432725776),e(4094571909,1467031594),e(275423344,851169720),e(430227734,3100823752),e(506948616,1363258195),e(659060556,3750685593),e(883997877,3785050280),e(958139571,3318307427),e(1322822218,3812723403),e(1537002063,2003034995),e(1747873779,3602036899),e(1955562222,1575990012),e(2024104815,1125592928),e(2227730452,2716904306),e(2361852424,442776044),e(2428436474,593698344),e(2756734187,3733110249),e(3204031479,2999351573),e(3329325298,3815920427),e(3391569614,3928383900),e(3515267271,566280711),e(3940187606,3454069534),e(4118630271,4000239992),e(116418474,1914138554),e(174292421,2731055270),e(289380356,3203993006),e(460393269,320620315),e(685471733,587496836),e(852142971,1086792851),e(1017036298,365543100),e(1126000580,2618297676),e(1288033470,3409855158),e(1501505948,4234509866),e(1607167915,987167468),e(1816402316,1246189591)],p=[];!function(){for(var t=0;t<80;t++)p[t]=e()}();var f=u.SHA512=o.extend({_doReset:function(){this._hash=new s.init([new a.init(1779033703,4089235720),new a.init(3144134277,2227873595),new a.init(1013904242,4271175723),new a.init(2773480762,1595750129),new a.init(1359893119,2917565137),new a.init(2600822924,725511199),new a.init(528734635,4215389547),new a.init(1541459225,327033209)])},_doProcessBlock:function(t,e){for(var n=this._hash.words,r=n[0],o=n[1],i=n[2],a=n[3],s=n[4],u=n[5],f=n[6],l=n[7],h=r.high,y=r.low,d=o.high,m=o.low,v=i.high,b=i.low,g=a.high,_=a.low,w=s.high,S=s.low,x=u.high,k=u.low,B=f.high,A=f.low,C=l.high,F=l.low,O=h,P=y,I=d,R=m,D=v,T=b,N=g,M=_,E=w,H=S,L=x,q=k,j=B,z=A,U=C,W=F,G=0;G<80;G++){var X=p[G];if(G<16)var $=X.high=0|t[e+2*G],K=X.low=0|t[e+2*G+1];else{var V=p[G-15],J=V.high,Z=V.low,Y=(J>>>1|Z<<31)^(J>>>8|Z<<24)^J>>>7,Q=(Z>>>1|J<<31)^(Z>>>8|J<<24)^(Z>>>7|J<<25),tt=p[G-2],et=tt.high,nt=tt.low,rt=(et>>>19|nt<<13)^(et<<3|nt>>>29)^et>>>6,ot=(nt>>>19|et<<13)^(nt<<3|et>>>29)^(nt>>>6|et<<26),it=p[G-7],at=it.high,st=it.low,ut=p[G-16],ct=ut.high,pt=ut.low,K=Q+st,$=Y+at+(K>>>0<Q>>>0?1:0),K=K+ot,$=$+rt+(K>>>0<ot>>>0?1:0),K=K+pt,$=$+ct+(K>>>0<pt>>>0?1:0);X.high=$,X.low=K}var ft=E&L^~E&j,lt=H&q^~H&z,ht=O&I^O&D^I&D,yt=P&R^P&T^R&T,dt=(O>>>28|P<<4)^(O<<30|P>>>2)^(O<<25|P>>>7),mt=(P>>>28|O<<4)^(P<<30|O>>>2)^(P<<25|O>>>7),vt=(E>>>14|H<<18)^(E>>>18|H<<14)^(E<<23|H>>>9),bt=(H>>>14|E<<18)^(H>>>18|E<<14)^(H<<23|E>>>9),gt=c[G],_t=gt.high,wt=gt.low,St=W+bt,xt=U+vt+(St>>>0<W>>>0?1:0),St=St+lt,xt=xt+ft+(St>>>0<lt>>>0?1:0),St=St+wt,xt=xt+_t+(St>>>0<wt>>>0?1:0),St=St+K,xt=xt+$+(St>>>0<K>>>0?1:0),kt=mt+yt,Bt=dt+ht+(kt>>>0<mt>>>0?1:0);U=j,W=z,j=L,z=q,L=E,q=H,H=M+St|0,E=N+xt+(H>>>0<M>>>0?1:0)|0,N=D,M=T,D=I,T=R,I=O,R=P,P=St+kt|0,O=xt+Bt+(P>>>0<St>>>0?1:0)|0}y=r.low=y+P,r.high=h+O+(y>>>0<P>>>0?1:0),m=o.low=m+R,o.high=d+I+(m>>>0<R>>>0?1:0),b=i.low=b+T,i.high=v+D+(b>>>0<T>>>0?1:0),_=a.low=_+M,a.high=g+N+(_>>>0<M>>>0?1:0),S=s.low=S+H,s.high=w+E+(S>>>0<H>>>0?1:0),k=u.low=k+q,u.high=x+L+(k>>>0<q>>>0?1:0),A=f.low=A+z,f.high=B+j+(A>>>0<z>>>0?1:0),F=l.low=F+W,l.high=C+U+(F>>>0<W>>>0?1:0)},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,r=8*t.sigBytes;e[r>>>5]|=128<<24-r%32,e[(r+128>>>10<<5)+30]=Math.floor(n/4294967296),e[(r+128>>>10<<5)+31]=n,t.sigBytes=4*e.length,this._process();var o=this._hash.toX32();return o},clone:function t(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t},blockSize:32});n.SHA512=o._createHelper(f),n.HmacSHA512=o._createHmacHelper(f)}(),t.SHA512})},function(t,e,n){"use strict";var r=n(14),o=["wei","kwei","Mwei","Gwei","szabo","finney","femtoether","picoether","nanoether","microether","milliether","nano","micro","milli","ether","grand","Mether","Gether","Tether","Pether","Eether","Zether","Yether","Nether","Dether","Vether","Uether"];t.exports={ETH_PADDING:32,ETH_SIGNATURE_LENGTH:4,ETH_UNITS:o,ETH_BIGNUMBER_ROUNDING_MODE:{ROUNDING_MODE:r.ROUND_DOWN},ETH_POLLING_TIMEOUT:500,defaultBlock:"latest",defaultAccount:void 0}},function(t,e,n){"use strict";var r=n(9),o=n(3),i=function(t){return null===t||"undefined"==typeof t?null:(t=String(t),0===t.indexOf("0x")?t:o.fromUtf8(t))},a=function(t){return o.isString(t)?t:(t=t||{},t.topics=t.topics||[],t.topics=t.topics.map(function(t){return o.isArray(t)?t.map(i):i(t)}),{topics:t.topics,from:t.from,to:t.to,address:t.address,fromBlock:r.inputBlockNumberFormatter(t.fromBlock),toBlock:r.inputBlockNumberFormatter(t.toBlock)})},s=function(t,e){o.isString(t.options)||t.get(function(t,n){t&&e(t),o.isArray(n)&&n.forEach(function(t){e(null,t)})})},u=function(t){var e=function(e,n){return e?t.callbacks.forEach(function(t){t(e)}):void(o.isArray(n)&&n.forEach(function(e){e=t.formatter?t.formatter(e):e,t.callbacks.forEach(function(t){t(null,e)})}))};t.requestManager.startPolling({method:t.implementation.poll.call,params:[t.filterId]},t.filterId,e,t.stopWatching.bind(t))},c=function(t,e,n,r,o){var i=this,c={};return n.forEach(function(e){e.setRequestManager(t),e.attachToObject(c)}),this.requestManager=t,this.options=a(e),this.implementation=c,this.filterId=null,this.callbacks=[],this.getLogsCallbacks=[],this.pollFilters=[],this.formatter=r,this.implementation.newFilter(this.options,function(t,e){if(t)i.callbacks.forEach(function(e){e(t)});else if(i.filterId=e,i.getLogsCallbacks.forEach(function(t){i.get(t)}),i.getLogsCallbacks=[],i.callbacks.forEach(function(t){s(i,t)}),i.callbacks.length>0&&u(i),"function"==typeof o)return i.watch(o)}),this};c.prototype.watch=function(t){return this.callbacks.push(t),this.filterId&&(s(this,t),u(this)),this},c.prototype.stopWatching=function(t){return this.requestManager.stopPolling(this.filterId),this.callbacks=[],t?void this.implementation.uninstallFilter(this.filterId,t):this.implementation.uninstallFilter(this.filterId)},c.prototype.get=function(t){var e=this;if(!o.isFunction(t)){if(null===this.filterId)throw new Error("Filter ID Error: filter().get() can't be chained synchronous, please provide a callback for the get() method.");var n=this.implementation.getLogs(this.filterId);return n.map(function(t){return e.formatter?e.formatter(t):t})}return null===this.filterId?this.getLogsCallbacks.push(t):this.implementation.getLogs(this.filterId,function(n,r){n?t(n):t(null,r.map(function(t){return e.formatter?e.formatter(t):t}))}),this},t.exports=c},function(t,e,n){"use strict";var r=n(14),o=function(t,e){for(var n=t;n.length<2*e;)n="0"+n;return n},i=function(t){var e="A".charCodeAt(0),n="Z".charCodeAt(0);return t=t.toUpperCase(),t=t.substr(4)+t.substr(0,4),t.split("").map(function(t){var r=t.charCodeAt(0);return r>=e&&r<=n?r-e+10:t}).join("")},a=function(t){for(var e,n=t;n.length>2;)e=n.slice(0,9),n=parseInt(e,10)%97+n.slice(e.length);return parseInt(n,10)%97},s=function(t){this._iban=t};s.fromAddress=function(t){var e=new r(t,16),n=e.toString(36),i=o(n,15);return s.fromBban(i.toUpperCase())},s.fromBban=function(t){var e="XE",n=a(i(e+"00"+t)),r=("0"+(98-n)).slice(-2);return new s(e+r+t)},s.createIndirect=function(t){return s.fromBban("ETH"+t.institution+t.identifier)},s.isValid=function(t){var e=new s(t);return e.isValid()},s.prototype.isValid=function(){return/^XE[0-9]{2}(ETH[0-9A-Z]{13}|[0-9A-Z]{30,31})$/.test(this._iban)&&1===a(i(this._iban))},s.prototype.isDirect=function(){return 34===this._iban.length||35===this._iban.length},s.prototype.isIndirect=function(){return 20===this._iban.length},s.prototype.checksum=function(){return this._iban.substr(2,2)},s.prototype.institution=function(){return this.isIndirect()?this._iban.substr(7,4):""},s.prototype.client=function(){return this.isIndirect()?this._iban.substr(11):""},s.prototype.address=function(){if(this.isDirect()){var t=this._iban.substr(4),e=new r(t,36);return o(e.toString(16),20)}return""},s.prototype.toString=function(){return this._iban},t.exports=s},function(t,e,n){"use strict";var r=n(13),o=function(){var t=function(t){var e=t[0];switch(e){case"latest":return t.shift(),this.params=0,"eth_newBlockFilter";case"pending":return t.shift(),this.params=0,"eth_newPendingTransactionFilter";default:return"eth_newFilter"}},e=new r({name:"newFilter",call:t,params:1}),n=new r({name:"uninstallFilter",call:"eth_uninstallFilter",params:1}),o=new r({name:"getLogs",call:"eth_getFilterLogs",params:1}),i=new r({name:"poll",call:"eth_getFilterChanges",params:1});return[e,n,o,i]},i=function(){var t=new r({name:"newFilter",call:"shh_newFilter",params:1}),e=new r({name:"uninstallFilter",call:"shh_uninstallFilter",params:1}),n=new r({name:"getLogs",call:"shh_getMessages",params:1}),o=new r({name:"poll",call:"shh_getFilterChanges",params:1});return[t,e,n,o]};t.exports={eth:o,shh:i}},function(t,e,n){var r,o,i,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(s,u,c){"object"===a(e)?t.exports=e=u(n(1),n(10)):(o=[n(1),n(10)],r=u,i="function"==typeof r?r.apply(e,o):r,!(void 0!==i&&(t.exports=i)))}(void 0,function(t){return function(e){var n=t,r=n.lib,o=r.WordArray,i=r.Hasher,a=n.x64,s=a.Word,u=n.algo,c=[],p=[],f=[];!function(){for(var t=1,e=0,n=0;n<24;n++){c[t+5*e]=(n+1)*(n+2)/2%64;var r=e%5,o=(2*t+3*e)%5;t=r,e=o}for(var t=0;t<5;t++)for(var e=0;e<5;e++)p[t+5*e]=e+(2*t+3*e)%5*5;for(var i=1,a=0;a<24;a++){for(var u=0,l=0,h=0;h<7;h++){if(1&i){var y=(1<<h)-1;y<32?l^=1<<y:u^=1<<y-32}128&i?i=i<<1^113:i<<=1}f[a]=s.create(u,l)}}();var l=[];!function(){for(var t=0;t<25;t++)l[t]=s.create()}();var h=u.SHA3=i.extend({cfg:i.cfg.extend({outputLength:512}),_doReset:function(){for(var t=this._state=[],e=0;e<25;e++)t[e]=new s.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(t,e){for(var n=this._state,r=this.blockSize/2,o=0;o<r;o++){var i=t[e+2*o],a=t[e+2*o+1];i=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),a=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8);var s=n[o];s.high^=a,s.low^=i}for(var u=0;u<24;u++){for(var h=0;h<5;h++){for(var y=0,d=0,m=0;m<5;m++){var s=n[h+5*m];y^=s.high,d^=s.low}var v=l[h];v.high=y,v.low=d}for(var h=0;h<5;h++)for(var b=l[(h+4)%5],g=l[(h+1)%5],_=g.high,w=g.low,y=b.high^(_<<1|w>>>31),d=b.low^(w<<1|_>>>31),m=0;m<5;m++){var s=n[h+5*m];s.high^=y,s.low^=d}for(var S=1;S<25;S++){var s=n[S],x=s.high,k=s.low,B=c[S];if(B<32)var y=x<<B|k>>>32-B,d=k<<B|x>>>32-B;else var y=k<<B-32|x>>>64-B,d=x<<B-32|k>>>64-B;var A=l[p[S]];A.high=y,A.low=d}var C=l[0],F=n[0];C.high=F.high,C.low=F.low;for(var h=0;h<5;h++)for(var m=0;m<5;m++){var S=h+5*m,s=n[S],O=l[S],P=l[(h+1)%5+5*m],I=l[(h+2)%5+5*m];s.high=O.high^~P.high&I.high,s.low=O.low^~P.low&I.low}var s=n[0],R=f[u];s.high^=R.high,s.low^=R.low}},_doFinalize:function(){var t=this._data,n=t.words,r=(8*this._nDataBytes,8*t.sigBytes),i=32*this.blockSize;n[r>>>5]|=1<<24-r%32,n[(e.ceil((r+1)/i)*i>>>5)-1]|=128,t.sigBytes=4*n.length,this._process();for(var a=this._state,s=this.cfg.outputLength/8,u=s/8,c=[],p=0;p<u;p++){
var f=a[p],l=f.high,h=f.low;l=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8),h=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8),c.push(h),c.push(l)}return new o.init(c,s)},clone:function t(){for(var t=i.clone.call(this),e=t._state=this._state.slice(0),n=0;n<25;n++)e[n]=e[n].clone();return t}});n.SHA3=i._createHelper(h),n.HmacSHA3=i._createHmacHelper(h)}(Math),t.SHA3})},function(t,e,n){"use strict";var r=n(7),o=n(60),i=n(61),a=n(64),s=n(67),u=n(63),c=n(66),p=n(65),f=n(68),l=n(62),h=function(t){this._types=t};h.prototype._requireType=function(t){var e=this._types.filter(function(e){return e.isType(t)})[0];if(!e)throw Error("invalid solidity type!: "+t);return e},h.prototype.encodeParam=function(t,e){return this.encodeParams([t],[e])},h.prototype.encodeParams=function(t,e){var n=this.getSolidityTypes(t),r=n.map(function(n,r){return n.encode(e[r],t[r])}),o=n.reduce(function(e,n,r){var o=n.staticPartLength(t[r]),i=32*Math.floor((o+31)/32);return e+i},0),i=this.encodeMultiWithOffset(t,n,r,o);return i},h.prototype.encodeMultiWithOffset=function(t,e,n,o){var i="",a=this,s=function(n){return e[n].isDynamicArray(t[n])||e[n].isDynamicType(t[n])};return t.forEach(function(u,c){if(s(c)){i+=r.formatInputInt(o).encode();var p=a.encodeWithOffset(t[c],e[c],n[c],o);o+=p.length/2}else i+=a.encodeWithOffset(t[c],e[c],n[c],o)}),t.forEach(function(r,u){if(s(u)){var c=a.encodeWithOffset(t[u],e[u],n[u],o);o+=c.length/2,i+=c}}),i},h.prototype.encodeWithOffset=function(t,e,n,o){var i=this;return e.isDynamicArray(t)?function(){var a=e.nestedName(t),s=e.staticPartLength(a),u=n[0];return function(){var t=2;if(e.isDynamicArray(a))for(var i=1;i<n.length;i++)t+=+n[i-1][0]||0,u+=r.formatInputInt(o+i*s+32*t).encode()}(),function(){for(var t=0;t<n.length-1;t++){var r=u/2;u+=i.encodeWithOffset(a,e,n[t+1],o+r)}}(),u}():e.isStaticArray(t)?function(){var a=e.nestedName(t),s=e.staticPartLength(a),u="";return e.isDynamicArray(a)&&!function(){for(var t=0,e=0;e<n.length;e++)t+=+(n[e-1]||[])[0]||0,u+=r.formatInputInt(o+e*s+32*t).encode()}(),function(){for(var t=0;t<n.length;t++){var r=u/2;u+=i.encodeWithOffset(a,e,n[t],o+r)}}(),u}():n},h.prototype.decodeParam=function(t,e){return this.decodeParams([t],e)[0]},h.prototype.decodeParams=function(t,e){var n=this.getSolidityTypes(t),r=this.getOffsets(t,n);return n.map(function(n,o){return n.decode(e,r[o],t[o],o)})},h.prototype.getOffsets=function(t,e){for(var n=e.map(function(e,n){return e.staticPartLength(t[n])}),r=1;r<n.length;r++)n[r]+=n[r-1];return n.map(function(n,r){var o=e[r].staticPartLength(t[r]);return n-o})},h.prototype.getSolidityTypes=function(t){var e=this;return t.map(function(t){return e._requireType(t)})};var y=new h([new o,new i,new a,new s,new u,new l,new c,new p,new f]);t.exports=y},function(t,e,n){var r,o,i,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(s,u,c){"object"===a(e)?t.exports=e=u(n(1),n(4),n(6),n(5),n(2)):(o=[n(1),n(4),n(6),n(5),n(2)],r=u,i="function"==typeof r?r.apply(e,o):r,!(void 0!==i&&(t.exports=i)))}(void 0,function(t){return function(){var e=t,n=e.lib,r=n.BlockCipher,o=e.algo,i=[],a=[],s=[],u=[],c=[],p=[],f=[],l=[],h=[],y=[];!function(){for(var t=[],e=0;e<256;e++)e<128?t[e]=e<<1:t[e]=e<<1^283;for(var n=0,r=0,e=0;e<256;e++){var o=r^r<<1^r<<2^r<<3^r<<4;o=o>>>8^255&o^99,i[n]=o,a[o]=n;var d=t[n],m=t[d],v=t[m],b=257*t[o]^16843008*o;s[n]=b<<24|b>>>8,u[n]=b<<16|b>>>16,c[n]=b<<8|b>>>24,p[n]=b;var b=16843009*v^65537*m^257*d^16843008*n;f[o]=b<<24|b>>>8,l[o]=b<<16|b>>>16,h[o]=b<<8|b>>>24,y[o]=b,n?(n=d^t[t[t[v^d]]],r^=t[t[r]]):n=r=1}}();var d=[0,1,2,4,8,16,32,64,128,27,54],m=o.AES=r.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var t=this._keyPriorReset=this._key,e=t.words,n=t.sigBytes/4,r=this._nRounds=n+6,o=4*(r+1),a=this._keySchedule=[],s=0;s<o;s++)if(s<n)a[s]=e[s];else{var u=a[s-1];s%n?n>6&&s%n==4&&(u=i[u>>>24]<<24|i[u>>>16&255]<<16|i[u>>>8&255]<<8|i[255&u]):(u=u<<8|u>>>24,u=i[u>>>24]<<24|i[u>>>16&255]<<16|i[u>>>8&255]<<8|i[255&u],u^=d[s/n|0]<<24),a[s]=a[s-n]^u}for(var c=this._invKeySchedule=[],p=0;p<o;p++){var s=o-p;if(p%4)var u=a[s];else var u=a[s-4];p<4||s<=4?c[p]=u:c[p]=f[i[u>>>24]]^l[i[u>>>16&255]]^h[i[u>>>8&255]]^y[i[255&u]]}}},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,s,u,c,p,i)},decryptBlock:function(t,e){var n=t[e+1];t[e+1]=t[e+3],t[e+3]=n,this._doCryptBlock(t,e,this._invKeySchedule,f,l,h,y,a);var n=t[e+1];t[e+1]=t[e+3],t[e+3]=n},_doCryptBlock:function(t,e,n,r,o,i,a,s){for(var u=this._nRounds,c=t[e]^n[0],p=t[e+1]^n[1],f=t[e+2]^n[2],l=t[e+3]^n[3],h=4,y=1;y<u;y++){var d=r[c>>>24]^o[p>>>16&255]^i[f>>>8&255]^a[255&l]^n[h++],m=r[p>>>24]^o[f>>>16&255]^i[l>>>8&255]^a[255&c]^n[h++],v=r[f>>>24]^o[l>>>16&255]^i[c>>>8&255]^a[255&p]^n[h++],b=r[l>>>24]^o[c>>>16&255]^i[p>>>8&255]^a[255&f]^n[h++];c=d,p=m,f=v,l=b}var d=(s[c>>>24]<<24|s[p>>>16&255]<<16|s[f>>>8&255]<<8|s[255&l])^n[h++],m=(s[p>>>24]<<24|s[f>>>16&255]<<16|s[l>>>8&255]<<8|s[255&c])^n[h++],v=(s[f>>>24]<<24|s[l>>>16&255]<<16|s[c>>>8&255]<<8|s[255&p])^n[h++],b=(s[l>>>24]<<24|s[c>>>16&255]<<16|s[p>>>8&255]<<8|s[255&f])^n[h++];t[e]=d,t[e+1]=m,t[e+2]=v,t[e+3]=b},keySize:8});e.AES=r._createHelper(m)}(),t.AES})},function(t,e,n){var r,o,i,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(s,u){"object"===a(e)?t.exports=e=u(n(1)):(o=[n(1)],r=u,i="function"==typeof r?r.apply(e,o):r,!(void 0!==i&&(t.exports=i)))}(void 0,function(t){return function(){function e(t){return t<<8&4278255360|t>>>8&16711935}var n=t,r=n.lib,o=r.WordArray,i=n.enc;i.Utf16=i.Utf16BE={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],o=0;o<n;o+=2){var i=e[o>>>2]>>>16-o%4*8&65535;r.push(String.fromCharCode(i))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r++)n[r>>>1]|=t.charCodeAt(r)<<16-r%2*16;return o.create(n,2*e)}};i.Utf16LE={stringify:function(t){for(var n=t.words,r=t.sigBytes,o=[],i=0;i<r;i+=2){var a=e(n[i>>>2]>>>16-i%4*8&65535);o.push(String.fromCharCode(a))}return o.join("")},parse:function(t){for(var n=t.length,r=[],i=0;i<n;i++)r[i>>>1]|=e(t.charCodeAt(i)<<16-i%2*16);return o.create(r,2*n)}}}(),t.enc.Utf16})},function(t,e,n){var r,o,i,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(s,u,c){"object"===a(e)?t.exports=e=u(n(1),n(2)):(o=[n(1),n(2)],r=u,i="function"==typeof r?r.apply(e,o):r,!(void 0!==i&&(t.exports=i)))}(void 0,function(t){return function(e){var n=t,r=n.lib,o=r.CipherParams,i=n.enc,a=i.Hex,s=n.format;s.Hex={stringify:function(t){return t.ciphertext.toString(a)},parse:function(t){var e=a.parse(t);return o.create({ciphertext:e})}}}(),t.format.Hex})},function(t,e,n){var r,o,i,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(s,u){"object"===a(e)?t.exports=e=u(n(1)):(o=[n(1)],r=u,i="function"==typeof r?r.apply(e,o):r,!(void 0!==i&&(t.exports=i)))}(void 0,function(t){return function(){if("function"==typeof ArrayBuffer){var e=t,n=e.lib,r=n.WordArray,o=r.init,i=r.init=function(t){if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),(t instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)&&(t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)),t instanceof Uint8Array){for(var e=t.byteLength,n=[],r=0;r<e;r++)n[r>>>2]|=t[r]<<24-r%4*8;o.call(this,n,e)}else o.apply(this,arguments)};i.prototype=r}}(),t.lib.WordArray})},function(t,e,n){var r,o,i,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(s,u,c){"object"===a(e)?t.exports=e=u(n(1),n(2)):(o=[n(1),n(2)],r=u,i="function"==typeof r?r.apply(e,o):r,!(void 0!==i&&(t.exports=i)))}(void 0,function(t){return t.mode.CFB=function(){function e(t,e,n,r){var o=this._iv;if(o){var i=o.slice(0);this._iv=void 0}else var i=this._prevBlock;r.encryptBlock(i,0);for(var a=0;a<n;a++)t[e+a]^=i[a]}var n=t.lib.BlockCipherMode.extend();return n.Encryptor=n.extend({processBlock:function(t,n){var r=this._cipher,o=r.blockSize;e.call(this,t,n,o,r),this._prevBlock=t.slice(n,n+o)}}),n.Decryptor=n.extend({processBlock:function(t,n){var r=this._cipher,o=r.blockSize,i=t.slice(n,n+o);e.call(this,t,n,o,r),this._prevBlock=i}}),n}(),t.mode.CFB})},function(t,e,n){var r,o,i,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(s,u,c){"object"===a(e)?t.exports=e=u(n(1),n(2)):(o=[n(1),n(2)],r=u,i="function"==typeof r?r.apply(e,o):r,!(void 0!==i&&(t.exports=i)))}(void 0,function(t){/** @preserve
	  * Counter block mode compatible with  Dr Brian Gladman fileenc.c
	  * derived from CryptoJS.mode.CTR
	  * Jan Hruby jhruby.web@gmail.com
	  */
return t.mode.CTRGladman=function(){function e(t){if(255===(t>>24&255)){var e=t>>16&255,n=t>>8&255,r=255&t;255===e?(e=0,255===n?(n=0,255===r?r=0:++r):++n):++e,t=0,t+=e<<16,t+=n<<8,t+=r}else t+=1<<24;return t}function n(t){return 0===(t[0]=e(t[0]))&&(t[1]=e(t[1])),t}var r=t.lib.BlockCipherMode.extend(),o=r.Encryptor=r.extend({processBlock:function(t,e){var r=this._cipher,o=r.blockSize,i=this._iv,a=this._counter;i&&(a=this._counter=i.slice(0),this._iv=void 0),n(a);var s=a.slice(0);r.encryptBlock(s,0);for(var u=0;u<o;u++)t[e+u]^=s[u]}});return r.Decryptor=o,r}(),t.mode.CTRGladman})},function(t,e,n){var r,o,i,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(s,u,c){"object"===a(e)?t.exports=e=u(n(1),n(2)):(o=[n(1),n(2)],r=u,i="function"==typeof r?r.apply(e,o):r,!(void 0!==i&&(t.exports=i)))}(void 0,function(t){return t.mode.CTR=function(){var e=t.lib.BlockCipherMode.extend(),n=e.Encryptor=e.extend({processBlock:function(t,e){var n=this._cipher,r=n.blockSize,o=this._iv,i=this._counter;o&&(i=this._counter=o.slice(0),this._iv=void 0);var a=i.slice(0);n.encryptBlock(a,0),i[r-1]=i[r-1]+1|0;for(var s=0;s<r;s++)t[e+s]^=a[s]}});return e.Decryptor=n,e}(),t.mode.CTR})},function(t,e,n){var r,o,i,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(s,u,c){"object"===a(e)?t.exports=e=u(n(1),n(2)):(o=[n(1),n(2)],r=u,i="function"==typeof r?r.apply(e,o):r,!(void 0!==i&&(t.exports=i)))}(void 0,function(t){return t.mode.ECB=function(){var e=t.lib.BlockCipherMode.extend();return e.Encryptor=e.extend({processBlock:function(t,e){this._cipher.encryptBlock(t,e)}}),e.Decryptor=e.extend({processBlock:function(t,e){this._cipher.decryptBlock(t,e)}}),e}(),t.mode.ECB})},function(t,e,n){var r,o,i,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(s,u,c){"object"===a(e)?t.exports=e=u(n(1),n(2)):(o=[n(1),n(2)],r=u,i="function"==typeof r?r.apply(e,o):r,!(void 0!==i&&(t.exports=i)))}(void 0,function(t){return t.mode.OFB=function(){var e=t.lib.BlockCipherMode.extend(),n=e.Encryptor=e.extend({processBlock:function(t,e){var n=this._cipher,r=n.blockSize,o=this._iv,i=this._keystream;o&&(i=this._keystream=o.slice(0),this._iv=void 0),n.encryptBlock(i,0);for(var a=0;a<r;a++)t[e+a]^=i[a]}});return e.Decryptor=n,e}(),t.mode.OFB})},function(t,e,n){var r,o,i,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(s,u,c){"object"===a(e)?t.exports=e=u(n(1),n(2)):(o=[n(1),n(2)],r=u,i="function"==typeof r?r.apply(e,o):r,!(void 0!==i&&(t.exports=i)))}(void 0,function(t){return t.pad.AnsiX923={pad:function(t,e){var n=t.sigBytes,r=4*e,o=r-n%r,i=n+o-1;t.clamp(),t.words[i>>>2]|=o<<24-i%4*8,t.sigBytes+=o},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},t.pad.Ansix923})},function(t,e,n){var r,o,i,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(s,u,c){"object"===a(e)?t.exports=e=u(n(1),n(2)):(o=[n(1),n(2)],r=u,i="function"==typeof r?r.apply(e,o):r,!(void 0!==i&&(t.exports=i)))}(void 0,function(t){return t.pad.Iso10126={pad:function(e,n){var r=4*n,o=r-e.sigBytes%r;e.concat(t.lib.WordArray.random(o-1)).concat(t.lib.WordArray.create([o<<24],1))},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},t.pad.Iso10126})},function(t,e,n){var r,o,i,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(s,u,c){"object"===a(e)?t.exports=e=u(n(1),n(2)):(o=[n(1),n(2)],r=u,i="function"==typeof r?r.apply(e,o):r,!(void 0!==i&&(t.exports=i)))}(void 0,function(t){return t.pad.Iso97971={pad:function(e,n){e.concat(t.lib.WordArray.create([2147483648],1)),t.pad.ZeroPadding.pad(e,n)},unpad:function(e){t.pad.ZeroPadding.unpad(e),e.sigBytes--}},t.pad.Iso97971})},function(t,e,n){var r,o,i,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(s,u,c){"object"===a(e)?t.exports=e=u(n(1),n(2)):(o=[n(1),n(2)],r=u,i="function"==typeof r?r.apply(e,o):r,!(void 0!==i&&(t.exports=i)))}(void 0,function(t){return t.pad.NoPadding={pad:function(){},unpad:function(){}},t.pad.NoPadding})},function(t,e,n){var r,o,i,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(s,u,c){"object"===a(e)?t.exports=e=u(n(1),n(2)):(o=[n(1),n(2)],r=u,i="function"==typeof r?r.apply(e,o):r,!(void 0!==i&&(t.exports=i)))}(void 0,function(t){return t.pad.ZeroPadding={pad:function(t,e){var n=4*e;t.clamp(),t.sigBytes+=n-(t.sigBytes%n||n)},unpad:function(t){for(var e=t.words,n=t.sigBytes-1;!(e[n>>>2]>>>24-n%4*8&255);)n--;t.sigBytes=n+1}},t.pad.ZeroPadding})},function(t,e,n){var r,o,i,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(s,u,c){"object"===a(e)?t.exports=e=u(n(1),n(12),n(11)):(o=[n(1),n(12),n(11)],r=u,i="function"==typeof r?r.apply(e,o):r,!(void 0!==i&&(t.exports=i)))}(void 0,function(t){return function(){var e=t,n=e.lib,r=n.Base,o=n.WordArray,i=e.algo,a=i.SHA1,s=i.HMAC,u=i.PBKDF2=r.extend({cfg:r.extend({keySize:4,hasher:a,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var n=this.cfg,r=s.create(n.hasher,t),i=o.create(),a=o.create([1]),u=i.words,c=a.words,p=n.keySize,f=n.iterations;u.length<p;){var l=r.update(e).finalize(a);r.reset();for(var h=l.words,y=h.length,d=l,m=1;m<f;m++){d=r.finalize(d),r.reset();for(var v=d.words,b=0;b<y;b++)h[b]^=v[b]}i.concat(l),c[0]++}return i.sigBytes=4*p,i}});e.PBKDF2=function(t,e,n){return u.create(n).compute(t,e)}}(),t.PBKDF2})},function(t,e,n){var r,o,i,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(s,u,c){"object"===a(e)?t.exports=e=u(n(1),n(4),n(6),n(5),n(2)):(o=[n(1),n(4),n(6),n(5),n(2)],r=u,i="function"==typeof r?r.apply(e,o):r,!(void 0!==i&&(t.exports=i)))}(void 0,function(t){return function(){function e(){for(var t=this._X,e=this._C,n=0;n<8;n++)s[n]=e[n];e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<s[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<s[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<s[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<s[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<s[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<s[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<s[6]>>>0?1:0)|0,this._b=e[7]>>>0<s[7]>>>0?1:0;for(var n=0;n<8;n++){var r=t[n]+e[n],o=65535&r,i=r>>>16,a=((o*o>>>17)+o*i>>>15)+i*i,c=((4294901760&r)*r|0)+((65535&r)*r|0);u[n]=a^c}t[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,t[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,t[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,t[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,t[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,t[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,t[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,t[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}var n=t,r=n.lib,o=r.StreamCipher,i=n.algo,a=[],s=[],u=[],c=i.RabbitLegacy=o.extend({_doReset:function(){var t=this._key.words,n=this.cfg.iv,r=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],o=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];this._b=0;for(var i=0;i<4;i++)e.call(this);for(var i=0;i<8;i++)o[i]^=r[i+4&7];if(n){var a=n.words,s=a[0],u=a[1],c=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),p=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8),f=c>>>16|4294901760&p,l=p<<16|65535&c;o[0]^=c,o[1]^=f,o[2]^=p,o[3]^=l,o[4]^=c,o[5]^=f,o[6]^=p,o[7]^=l;for(var i=0;i<4;i++)e.call(this)}},_doProcessBlock:function(t,n){var r=this._X;e.call(this),a[0]=r[0]^r[5]>>>16^r[3]<<16,a[1]=r[2]^r[7]>>>16^r[5]<<16,a[2]=r[4]^r[1]>>>16^r[7]<<16,a[3]=r[6]^r[3]>>>16^r[1]<<16;for(var o=0;o<4;o++)a[o]=16711935&(a[o]<<8|a[o]>>>24)|4278255360&(a[o]<<24|a[o]>>>8),t[n+o]^=a[o]},blockSize:4,ivSize:2});n.RabbitLegacy=o._createHelper(c)}(),t.RabbitLegacy})},function(t,e,n){var r,o,i,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(s,u,c){"object"===a(e)?t.exports=e=u(n(1),n(4),n(6),n(5),n(2)):(o=[n(1),n(4),n(6),n(5),n(2)],r=u,i="function"==typeof r?r.apply(e,o):r,!(void 0!==i&&(t.exports=i)))}(void 0,function(t){return function(){function e(){for(var t=this._X,e=this._C,n=0;n<8;n++)s[n]=e[n];e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<s[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<s[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<s[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<s[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<s[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<s[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<s[6]>>>0?1:0)|0,this._b=e[7]>>>0<s[7]>>>0?1:0;for(var n=0;n<8;n++){var r=t[n]+e[n],o=65535&r,i=r>>>16,a=((o*o>>>17)+o*i>>>15)+i*i,c=((4294901760&r)*r|0)+((65535&r)*r|0);u[n]=a^c}t[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,t[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,t[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,t[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,t[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,t[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,t[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,t[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}var n=t,r=n.lib,o=r.StreamCipher,i=n.algo,a=[],s=[],u=[],c=i.Rabbit=o.extend({_doReset:function(){for(var t=this._key.words,n=this.cfg.iv,r=0;r<4;r++)t[r]=16711935&(t[r]<<8|t[r]>>>24)|4278255360&(t[r]<<24|t[r]>>>8);var o=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],i=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];this._b=0;for(var r=0;r<4;r++)e.call(this);for(var r=0;r<8;r++)i[r]^=o[r+4&7];if(n){var a=n.words,s=a[0],u=a[1],c=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),p=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8),f=c>>>16|4294901760&p,l=p<<16|65535&c;i[0]^=c,i[1]^=f,i[2]^=p,i[3]^=l,i[4]^=c,i[5]^=f,i[6]^=p,i[7]^=l;for(var r=0;r<4;r++)e.call(this)}},_doProcessBlock:function(t,n){var r=this._X;e.call(this),a[0]=r[0]^r[5]>>>16^r[3]<<16,a[1]=r[2]^r[7]>>>16^r[5]<<16,a[2]=r[4]^r[1]>>>16^r[7]<<16,a[3]=r[6]^r[3]>>>16^r[1]<<16;for(var o=0;o<4;o++)a[o]=16711935&(a[o]<<8|a[o]>>>24)|4278255360&(a[o]<<24|a[o]>>>8),t[n+o]^=a[o]},blockSize:4,ivSize:2});n.Rabbit=o._createHelper(c)}(),t.Rabbit})},function(t,e,n){var r,o,i,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(s,u,c){"object"===a(e)?t.exports=e=u(n(1),n(4),n(6),n(5),n(2)):(o=[n(1),n(4),n(6),n(5),n(2)],r=u,i="function"==typeof r?r.apply(e,o):r,!(void 0!==i&&(t.exports=i)))}(void 0,function(t){return function(){function e(){for(var t=this._S,e=this._i,n=this._j,r=0,o=0;o<4;o++){e=(e+1)%256,n=(n+t[e])%256;var i=t[e];t[e]=t[n],t[n]=i,r|=t[(t[e]+t[n])%256]<<24-8*o}return this._i=e,this._j=n,r}var n=t,r=n.lib,o=r.StreamCipher,i=n.algo,a=i.RC4=o.extend({_doReset:function(){for(var t=this._key,e=t.words,n=t.sigBytes,r=this._S=[],o=0;o<256;o++)r[o]=o;for(var o=0,i=0;o<256;o++){var a=o%n,s=e[a>>>2]>>>24-a%4*8&255;i=(i+r[o]+s)%256;var u=r[o];r[o]=r[i],r[i]=u}this._i=this._j=0},_doProcessBlock:function(t,n){t[n]^=e.call(this)},keySize:8,ivSize:0});n.RC4=o._createHelper(a);var s=i.RC4Drop=a.extend({cfg:a.cfg.extend({drop:192}),_doReset:function(){a._doReset.call(this);for(var t=this.cfg.drop;t>0;t--)e.call(this)}});n.RC4Drop=o._createHelper(s)}(),t.RC4})},function(t,e,n){var r,o,i,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(s,u){"object"===a(e)?t.exports=e=u(n(1)):(o=[n(1)],r=u,i="function"==typeof r?r.apply(e,o):r,!(void 0!==i&&(t.exports=i)))}(void 0,function(t){/** @preserve
	 (c) 2012 by Cédric Mesnil. All rights reserved.
	 	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:
	 	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
	     - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
	 	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
	 */
return function(e){function n(t,e,n){return t^e^n}function r(t,e,n){return t&e|~t&n}function o(t,e,n){return(t|~e)^n}function i(t,e,n){return t&n|e&~n}function a(t,e,n){return t^(e|~n)}function s(t,e){return t<<e|t>>>32-e}var u=t,c=u.lib,p=c.WordArray,f=c.Hasher,l=u.algo,h=p.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),y=p.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),d=p.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),m=p.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),v=p.create([0,1518500249,1859775393,2400959708,2840853838]),b=p.create([1352829926,1548603684,1836072691,2053994217,0]),g=l.RIPEMD160=f.extend({_doReset:function(){this._hash=p.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var u=0;u<16;u++){var c=e+u,p=t[c];t[c]=16711935&(p<<8|p>>>24)|4278255360&(p<<24|p>>>8)}var f,l,g,_,w,S,x,k,B,A,C=this._hash.words,F=v.words,O=b.words,P=h.words,I=y.words,R=d.words,D=m.words;S=f=C[0],x=l=C[1],k=g=C[2],B=_=C[3],A=w=C[4];for(var T,u=0;u<80;u+=1)T=f+t[e+P[u]]|0,T+=u<16?n(l,g,_)+F[0]:u<32?r(l,g,_)+F[1]:u<48?o(l,g,_)+F[2]:u<64?i(l,g,_)+F[3]:a(l,g,_)+F[4],T|=0,T=s(T,R[u]),T=T+w|0,f=w,w=_,_=s(g,10),g=l,l=T,T=S+t[e+I[u]]|0,T+=u<16?a(x,k,B)+O[0]:u<32?i(x,k,B)+O[1]:u<48?o(x,k,B)+O[2]:u<64?r(x,k,B)+O[3]:n(x,k,B)+O[4],T|=0,T=s(T,D[u]),T=T+A|0,S=A,A=B,B=s(k,10),k=x,x=T;T=C[1]+g+B|0,C[1]=C[2]+_+A|0,C[2]=C[3]+w+S|0,C[3]=C[4]+f+x|0,C[4]=C[0]+l+k|0,C[0]=T},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,r=8*t.sigBytes;e[r>>>5]|=128<<24-r%32,e[(r+64>>>9<<4)+14]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),t.sigBytes=4*(e.length+1),this._process();for(var o=this._hash,i=o.words,a=0;a<5;a++){var s=i[a];i[a]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}return o},clone:function t(){var t=f.clone.call(this);return t._hash=this._hash.clone(),t}});u.RIPEMD160=f._createHelper(g),u.HmacRIPEMD160=f._createHmacHelper(g)}(Math),t.RIPEMD160})},function(t,e,n){var r,o,i,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(s,u,c){"object"===a(e)?t.exports=e=u(n(1),n(18)):(o=[n(1),n(18)],r=u,i="function"==typeof r?r.apply(e,o):r,!(void 0!==i&&(t.exports=i)))}(void 0,function(t){return function(){var e=t,n=e.lib,r=n.WordArray,o=e.algo,i=o.SHA256,a=o.SHA224=i.extend({_doReset:function(){this._hash=new r.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var t=i._doFinalize.call(this);return t.sigBytes-=4,t}});e.SHA224=i._createHelper(a),e.HmacSHA224=i._createHmacHelper(a)}(),t.SHA224})},function(t,e,n){var r,o,i,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(s,u,c){"object"===a(e)?t.exports=e=u(n(1),n(10),n(19)):(o=[n(1),n(10),n(19)],r=u,i="function"==typeof r?r.apply(e,o):r,!(void 0!==i&&(t.exports=i)))}(void 0,function(t){return function(){var e=t,n=e.x64,r=n.Word,o=n.WordArray,i=e.algo,a=i.SHA512,s=i.SHA384=a.extend({_doReset:function(){this._hash=new o.init([new r.init(3418070365,3238371032),new r.init(1654270250,914150663),new r.init(2438529370,812702999),new r.init(355462360,4144912697),new r.init(1731405415,4290775857),new r.init(2394180231,1750603025),new r.init(3675008525,1694076839),new r.init(1203062813,3204075428)])},_doFinalize:function(){var t=a._doFinalize.call(this);return t.sigBytes-=16,t}});e.SHA384=a._createHelper(s),e.HmacSHA384=a._createHmacHelper(s)}(),t.SHA384})},function(t,e,n){var r,o,i,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(s,u,c){"object"===a(e)?t.exports=e=u(n(1),n(4),n(6),n(5),n(2)):(o=[n(1),n(4),n(6),n(5),n(2)],r=u,i="function"==typeof r?r.apply(e,o):r,!(void 0!==i&&(t.exports=i)))}(void 0,function(t){return function(){function e(t,e){var n=(this._lBlock>>>t^this._rBlock)&e;this._rBlock^=n,this._lBlock^=n<<t}function n(t,e){var n=(this._rBlock>>>t^this._lBlock)&e;this._lBlock^=n,this._rBlock^=n<<t}var r=t,o=r.lib,i=o.WordArray,a=o.BlockCipher,s=r.algo,u=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],c=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],p=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],f=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],l=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],h=s.DES=a.extend({_doReset:function(){for(var t=this._key,e=t.words,n=[],r=0;r<56;r++){var o=u[r]-1;n[r]=e[o>>>5]>>>31-o%32&1}for(var i=this._subKeys=[],a=0;a<16;a++){for(var s=i[a]=[],f=p[a],r=0;r<24;r++)s[r/6|0]|=n[(c[r]-1+f)%28]<<31-r%6,s[4+(r/6|0)]|=n[28+(c[r+24]-1+f)%28]<<31-r%6;s[0]=s[0]<<1|s[0]>>>31;for(var r=1;r<7;r++)s[r]=s[r]>>>4*(r-1)+3;s[7]=s[7]<<5|s[7]>>>27}for(var l=this._invSubKeys=[],r=0;r<16;r++)l[r]=i[15-r]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._subKeys)},decryptBlock:function(t,e){this._doCryptBlock(t,e,this._invSubKeys)},_doCryptBlock:function(t,r,o){this._lBlock=t[r],this._rBlock=t[r+1],e.call(this,4,252645135),e.call(this,16,65535),n.call(this,2,858993459),n.call(this,8,16711935),e.call(this,1,1431655765);for(var i=0;i<16;i++){for(var a=o[i],s=this._lBlock,u=this._rBlock,c=0,p=0;p<8;p++)c|=f[p][((u^a[p])&l[p])>>>0];this._lBlock=u,this._rBlock=s^c}var h=this._lBlock;this._lBlock=this._rBlock,this._rBlock=h,e.call(this,1,1431655765),n.call(this,8,16711935),n.call(this,2,858993459),e.call(this,16,65535),e.call(this,4,252645135),t[r]=this._lBlock,t[r+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});r.DES=a._createHelper(h);var y=s.TripleDES=a.extend({_doReset:function(){var t=this._key,e=t.words;this._des1=h.createEncryptor(i.create(e.slice(0,2))),this._des2=h.createEncryptor(i.create(e.slice(2,4))),this._des3=h.createEncryptor(i.create(e.slice(4,6)))},encryptBlock:function(t,e){this._des1.encryptBlock(t,e),this._des2.decryptBlock(t,e),this._des3.encryptBlock(t,e)},decryptBlock:function(t,e){this._des3.decryptBlock(t,e),this._des2.encryptBlock(t,e),this._des1.decryptBlock(t,e)},keySize:6,ivSize:2,blockSize:2});r.TripleDES=a._createHelper(y)}(),t.TripleDES})},function(t,e,n){"use strict";var r=n(3),o=function(t,e){this.value=t||"",this.offset=e};o.prototype.dynamicPartLength=function(){return this.dynamicPart().length/2},o.prototype.withOffset=function(t){return new o(this.value,t)},o.prototype.combine=function(t){return new o(this.value+t.value)},o.prototype.isDynamic=function(){return void 0!==this.offset},o.prototype.offsetAsBytes=function(){return this.isDynamic()?r.padLeft(r.toTwosComplement(this.offset).toString(16),64):""},o.prototype.staticPart=function(){return this.isDynamic()?this.offsetAsBytes():this.value},o.prototype.dynamicPart=function(){return this.isDynamic()?this.value:""},o.prototype.encode=function(){return this.staticPart()+this.dynamicPart()},o.encodeList=function(t){var e=32*t.length,n=t.map(function(t){if(!t.isDynamic())return t;var n=e;return e+=t.dynamicPartLength(),t.withOffset(n)});return n.reduce(function(t,e){return t+e.dynamicPart()},n.reduce(function(t,e){return t+e.staticPart()},""))},t.exports=o},function(t,e,n){"use strict";var r=n(3),o=n(25),i=n(9),a=n(15),s=n(21),u=n(23),c=function(t,e,n){this._requestManager=t,this._params=e.inputs,this._name=r.transformToFullName(e),this._address=n,this._anonymous=e.anonymous};c.prototype.types=function(t){return this._params.filter(function(e){return e.indexed===t}).map(function(t){return t.type})},c.prototype.displayName=function(){return r.extractDisplayName(this._name)},c.prototype.typeName=function(){return r.extractTypeName(this._name)},c.prototype.signature=function(){return a(this._name)},c.prototype.encode=function(t,e){t=t||{},e=e||{};var n={};["fromBlock","toBlock"].filter(function(t){return void 0!==e[t]}).forEach(function(t){n[t]=i.inputBlockNumberFormatter(e[t])}),n.topics=[],n.address=this._address,this._anonymous||n.topics.push("0x"+this.signature());var a=this._params.filter(function(t){return t.indexed===!0}).map(function(e){var n=t[e.name];return void 0===n||null===n?null:r.isArray(n)?n.map(function(t){return"0x"+o.encodeParam(e.type,t)}):"0x"+o.encodeParam(e.type,n)});return n.topics=n.topics.concat(a),n},c.prototype.decode=function(t){t.data=t.data||"",t.topics=t.topics||[];var e=this._anonymous?t.topics:t.topics.slice(1),n=e.map(function(t){return t.slice(2)}).join(""),r=o.decodeParams(this.types(!0),n),a=t.data.slice(2),s=o.decodeParams(this.types(!1),a),u=i.outputLogFormatter(t);return u.event=this.displayName(),u.address=t.address,u.args=this._params.reduce(function(t,e){return t[e.name]=e.indexed?r.shift():s.shift(),t},{}),delete u.data,delete u.topics,u},c.prototype.execute=function(t,e,n){r.isFunction(arguments[arguments.length-1])&&(n=arguments[arguments.length-1],2===arguments.length&&(e=null),1===arguments.length&&(e=null,t={}));var o=this.encode(t,e),i=this.decode.bind(this);return new s(this._requestManager,o,u.eth(),i,n)},c.prototype.attachToContract=function(t){var e=this.execute.bind(this),n=this.displayName();t[n]||(t[n]=e),t[n][this.typeName()]=this.execute.bind(this,t)},t.exports=c},function(t,e){"use strict";var n={messageId:0};n.toPayload=function(t,e){return t||console.error("jsonrpc method should be specified!"),n.messageId++,{jsonrpc:"2.0",id:n.messageId,method:t,params:e||[]}},n.isValidResponse=function(t){function e(t){return!!t&&!t.error&&"2.0"===t.jsonrpc&&"number"==typeof t.id&&void 0!==t.result}return Array.isArray(t)?t.every(e):e(t)},n.toBatchPayload=function(t){return t.map(function(t){return n.toPayload(t.method,t.params)})},t.exports=n},function(t,e){(function(e){t.exports=e}).call(e,{})},function(t,e,n){var r,o,i,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(s,u,c){"object"===a(e)?t.exports=e=u(n(1),n(10),n(29),n(27),n(4),n(6),n(12),n(18),n(45),n(19),n(46),n(24),n(44),n(11),n(40),n(5),n(2),n(30),n(32),n(31),n(34),n(33),n(35),n(36),n(37),n(39),n(38),n(28),n(26),n(47),n(43),n(42),n(41)):(o=[n(1),n(10),n(29),n(27),n(4),n(6),n(12),n(18),n(45),n(19),n(46),n(24),n(44),n(11),n(40),n(5),n(2),n(30),n(32),n(31),n(34),n(33),n(35),n(36),n(37),n(39),n(38),n(28),n(26),n(47),n(43),n(42),n(41)],r=u,i="function"==typeof r?r.apply(e,o):r,!(void 0!==i&&(t.exports=i)))}(void 0,function(t){return t})},function(t,e){"use strict";t.exports=[{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"name",outputs:[{name:"o_name",type:"bytes32"}],type:"function"},{constant:!0,inputs:[{name:"_name",type:"bytes32"}],name:"owner",outputs:[{name:"",type:"address"}],type:"function"},{constant:!0,inputs:[{name:"_name",type:"bytes32"}],name:"content",outputs:[{name:"",type:"bytes32"}],type:"function"},{constant:!0,inputs:[{name:"_name",type:"bytes32"}],name:"addr",outputs:[{name:"",type:"address"}],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"}],name:"reserve",outputs:[],type:"function"},{constant:!0,inputs:[{name:"_name",type:"bytes32"}],name:"subRegistrar",outputs:[{name:"",type:"address"}],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"},{name:"_newOwner",type:"address"}],name:"transfer",outputs:[],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"},{name:"_registrar",type:"address"}],name:"setSubRegistrar",outputs:[],type:"function"},{constant:!1,inputs:[],name:"Registrar",outputs:[],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"},{name:"_a",type:"address"},{name:"_primary",type:"bool"}],name:"setAddress",outputs:[],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"},{name:"_content",type:"bytes32"}],name:"setContent",outputs:[],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"}],name:"disown",outputs:[],type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"_name",type:"bytes32"},{indexed:!1,name:"_winner",type:"address"}],name:"AuctionEnded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"_name",type:"bytes32"},{indexed:!1,name:"_bidder",type:"address"},{indexed:!1,name:"_value",type:"uint256"}],name:"NewBid",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"name",type:"bytes32"}],name:"Changed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"name",type:"bytes32"},{indexed:!0,name:"addr",type:"address"}],name:"PrimaryChanged",type:"event"}]},function(t,e){"use strict";t.exports=[{constant:!0,inputs:[{name:"_name",type:"bytes32"}],name:"owner",outputs:[{name:"",type:"address"}],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"},{name:"_refund",type:"address"}],name:"disown",outputs:[],type:"function"},{constant:!0,inputs:[{name:"_name",type:"bytes32"}],name:"addr",outputs:[{name:"",type:"address"}],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"}],name:"reserve",outputs:[],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"},{name:"_newOwner",type:"address"}],name:"transfer",outputs:[],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"},{name:"_a",type:"address"}],name:"setAddr",outputs:[],type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"name",type:"bytes32"}],name:"Changed",type:"event"}]},function(t,e){"use strict";t.exports=[{constant:!1,inputs:[{name:"from",type:"bytes32"},{name:"to",type:"address"},{name:"value",type:"uint256"}],name:"transfer",outputs:[],type:"function"},{constant:!1,inputs:[{name:"from",type:"bytes32"},{name:"to",type:"address"},{name:"indirectId",type:"bytes32"},{name:"value",type:"uint256"}],name:"icapTransfer",outputs:[],type:"function"},{constant:!1,inputs:[{name:"to",type:"bytes32"}],name:"deposit",outputs:[],type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"AnonymousDeposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"bytes32"},{indexed:!1,name:"value",type:"uint256"}],name:"Deposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"bytes32"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"bytes32"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"indirectId",type:"bytes32"},{indexed:!1,name:"value",type:"uint256"}],name:"IcapTransfer",type:"event"}]},function(t,e){"use strict";t.exports={version:"0.17.0-alpha"}},function(t,e){"use strict";function n(t){return Array.isArray(t)?t:Array.from(t)}function r(t){return"undefined"==typeof t}function o(t){return"string"==typeof t}function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];if(o(e))return i(t,e.split("."));if(!r(t[e[0]])){if(e.length>1){var a=n(e),s=a[0],u=a.slice(1);return i(t[s],u)}return t[e[0]]}}t.exports=i},function(t,e,n){var r;(function(t,o){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(a){function s(t){for(var e,n,r=[],o=0,i=t.length;o<i;)e=t.charCodeAt(o++),e>=55296&&e<=56319&&o<i?(n=t.charCodeAt(o++),56320==(64512&n)?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),o--)):r.push(e);return r}function u(t){for(var e,n=t.length,r=-1,o="";++r<n;)e=t[r],e>65535&&(e-=65536,o+=S(e>>>10&1023|55296),e=56320|1023&e),o+=S(e);return o}function c(t){if(t>=55296&&t<=57343)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function p(t,e){return S(t>>e&63|128)}function f(t){if(0==(4294967168&t))return S(t);var e="";return 0==(4294965248&t)?e=S(t>>6&31|192):0==(4294901760&t)?(c(t),e=S(t>>12&15|224),e+=p(t,6)):0==(4292870144&t)&&(e=S(t>>18&7|240),e+=p(t,12),e+=p(t,6)),e+=S(63&t|128)}function l(t){for(var e,n=s(t),r=n.length,o=-1,i="";++o<r;)e=n[o],i+=f(e);return i}function h(){if(w>=_)throw Error("Invalid byte index");var t=255&g[w];if(w++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function y(){var t,e,n,r,o;if(w>_)throw Error("Invalid byte index");if(w==_)return!1;if(t=255&g[w],w++,0==(128&t))return t;if(192==(224&t)){if(e=h(),o=(31&t)<<6|e,o>=128)return o;throw Error("Invalid continuation byte")}if(224==(240&t)){if(e=h(),n=h(),o=(15&t)<<12|e<<6|n,o>=2048)return c(o),o;throw Error("Invalid continuation byte")}if(240==(248&t)&&(e=h(),n=h(),r=h(),o=(7&t)<<18|e<<12|n<<6|r,o>=65536&&o<=1114111))return o;throw Error("Invalid UTF-8 detected")}function d(t){g=s(t),_=g.length,w=0;for(var e,n=[];(e=y())!==!1;)n.push(e);return u(n)}var m="object"==i(e)&&e,v="object"==i(t)&&t&&t.exports==m&&t,b="object"==("undefined"==typeof o?"undefined":i(o))&&o;b.global!==b&&b.window!==b||(a=b);var g,_,w,S=String.fromCharCode,x={version:"2.1.2",encode:l,decode:d};if("object"==i(n(51))&&n(51))r=function(){return x}.call(e,n,e,t),!(void 0!==r&&(t.exports=r));else if(m&&!m.nodeType)if(v)v.exports=x;else{var k={},B=k.hasOwnProperty;for(var A in x)B.call(x,A)&&(m[A]=x[A])}else a.utf8=x}(void 0)}).call(e,n(88)(t),function(){return this}())},function(t,e,n){"use strict";var r=n(70);"undefined"!=typeof window&&"undefined"==typeof window.Web3&&(window.Web3=r),t.exports=r},function(t,e,n){"use strict";var r=n(7),o=n(8),i=function(){this._inputFormatter=r.formatInputInt,this._outputFormatter=r.formatOutputAddress};i.prototype=new o({}),i.prototype.constructor=i,i.prototype.isType=function(t){return!!t.match(/address(\[([0-9]*)\])?/)},i.prototype.staticPartLength=function(t){return 32*this.staticArrayLength(t)},t.exports=i},function(t,e,n){"use strict";var r=n(7),o=n(8),i=function(){this._inputFormatter=r.formatInputBool,this._outputFormatter=r.formatOutputBool};i.prototype=new o({}),i.prototype.constructor=i,i.prototype.isType=function(t){return!!t.match(/^bool(\[([0-9]*)\])*$/)},i.prototype.staticPartLength=function(t){return 32*this.staticArrayLength(t)},t.exports=i},function(t,e,n){"use strict";var r=n(7),o=n(8),i=function(){this._inputFormatter=r.formatInputBytes,this._outputFormatter=r.formatOutputBytes};i.prototype=new o({}),i.prototype.constructor=i,i.prototype.isType=function(t){return!!t.match(/^bytes([0-9]{1,})(\[([0-9]*)\])*$/)},i.prototype.staticPartLength=function(t){var e=t.match(/^bytes([0-9]*)/),n=parseInt(e[1]);return n*this.staticArrayLength(t)},t.exports=i},function(t,e,n){"use strict";var r=n(7),o=n(8),i=function(){this._inputFormatter=r.formatInputDynamicBytes,this._outputFormatter=r.formatOutputDynamicBytes};i.prototype=new o({}),i.prototype.constructor=i,i.prototype.isType=function(t){return!!t.match(/^bytes(\[([0-9]*)\])*$/)},i.prototype.staticPartLength=function(t){return 32*this.staticArrayLength(t)},i.prototype.isDynamicType=function(){return!0},t.exports=i},function(t,e,n){"use strict";var r=n(7),o=n(8),i=function(){this._inputFormatter=r.formatInputInt,this._outputFormatter=r.formatOutputInt};i.prototype=new o({}),i.prototype.constructor=i,i.prototype.isType=function(t){return!!t.match(/^int([0-9]*)?(\[([0-9]*)\])*$/)},i.prototype.staticPartLength=function(t){return 32*this.staticArrayLength(t)},t.exports=i},function(t,e,n){"use strict";var r=n(7),o=n(8),i=function(){this._inputFormatter=r.formatInputReal,this._outputFormatter=r.formatOutputReal};i.prototype=new o({}),i.prototype.constructor=i,i.prototype.isType=function(t){return!!t.match(/real([0-9]*)?(\[([0-9]*)\])?/)},i.prototype.staticPartLength=function(t){return 32*this.staticArrayLength(t)},t.exports=i},function(t,e,n){"use strict";var r=n(7),o=n(8),i=function(){this._inputFormatter=r.formatInputString,this._outputFormatter=r.formatOutputString};i.prototype=new o({}),i.prototype.constructor=i,i.prototype.isType=function(t){return!!t.match(/^string(\[([0-9]*)\])*$/)},i.prototype.staticPartLength=function(t){return 32*this.staticArrayLength(t)},i.prototype.isDynamicType=function(){return!0},t.exports=i},function(t,e,n){"use strict";var r=n(7),o=n(8),i=function(){this._inputFormatter=r.formatInputInt,this._outputFormatter=r.formatOutputUInt};i.prototype=new o({}),i.prototype.constructor=i,i.prototype.isType=function(t){return!!t.match(/^uint([0-9]*)?(\[([0-9]*)\])*$/)},i.prototype.staticPartLength=function(t){return 32*this.staticArrayLength(t)},t.exports=i},function(t,e,n){"use strict";var r=n(7),o=n(8),i=function(){this._inputFormatter=r.formatInputReal,this._outputFormatter=r.formatOutputUReal};i.prototype=new o({}),i.prototype.constructor=i,i.prototype.isType=function(t){return!!t.match(/^ureal([0-9]*)?(\[([0-9]*)\])*$/)},i.prototype.staticPartLength=function(t){return 32*this.staticArrayLength(t)},t.exports=i},function(t,e){"use strict";"undefined"==typeof XMLHttpRequest?e.XMLHttpRequest={}:e.XMLHttpRequest=XMLHttpRequest},function(t,e,n){"use strict";function r(t){this._requestManager=new o(t),this.currentProvider=t,this.eth=new a(this),this.db=new s(this),this.shh=new u(this),this.net=new c(this),this.personal=new p(this),this.settings=new f,this.version={api:l.version},this.providers={HttpProvider:b,IpcProvider:g},this._extend=d(this),this._extend({properties:w()})}var o=n(84),i=n(22),a=n(79),s=n(78),u=n(82),c=n(80),p=n(81),f=n(85),l=n(56),h=n(3),y=n(15),d=n(74),m=n(72),v=n(17),b=n(76),g=n(77),_=n(14);r.providers={HttpProvider:b,IpcProvider:g},r.prototype.setProvider=function(t){this._requestManager.setProvider(t),this.currentProvider=t},r.prototype.reset=function(t){this._requestManager.reset(t),this.settings=new f},r.prototype.BigNumber=_,r.prototype.toHex=h.toHex,r.prototype.toAscii=h.toAscii,r.prototype.toUtf8=h.toUtf8,r.prototype.fromAscii=h.fromAscii,r.prototype.fromUtf8=h.fromUtf8,r.prototype.toDecimal=h.toDecimal,r.prototype.fromDecimal=h.fromDecimal,r.prototype.toBigNumber=h.toBigNumber,r.prototype.toWei=h.toWei,r.prototype.fromWei=h.fromWei,r.prototype.isAddress=h.isAddress,r.prototype.isChecksumAddress=h.isChecksumAddress,r.prototype.toChecksumAddress=h.toChecksumAddress,r.prototype.isIBAN=h.isIBAN,r.prototype.sha3=function(t,e){return"0x"+y(t,e)},r.prototype.fromICAP=function(t){var e=new i(t);return e.address()};var w=function(){return[new v({name:"version.node",getter:"web3_clientVersion"}),new v({name:"version.network",getter:"net_version",inputFormatter:h.toDecimal}),new v({name:"version.ethereum",getter:"eth_protocolVersion",inputFormatter:h.toDecimal}),new v({name:"version.whisper",getter:"shh_version",inputFormatter:h.toDecimal})]};r.prototype.isConnected=function(){return this.currentProvider&&this.currentProvider.isConnected()},r.prototype.createBatch=function(){return new m(this)},t.exports=r},function(t,e,n){"use strict";var r=n(15),o=n(49),i=n(9),a=n(3),s=n(21),u=n(23),c=function(t,e,n){this._requestManager=t,this._json=e,this._address=n};c.prototype.encode=function(t){t=t||{};var e={};return["fromBlock","toBlock"].filter(function(e){return void 0!==t[e]}).forEach(function(n){e[n]=i.inputBlockNumberFormatter(t[n])}),e.address=this._address,e},c.prototype.decode=function(t){t.data=t.data||"",t.topics=t.topics||[];var e=t.topics[0].slice(2),n=this._json.filter(function(t){return e===r(a.transformToFullName(t))})[0];if(!n)return console.warn("cannot find event for log"),t;var i=new o(this._requestManager,n,this._address);return i.decode(t)},c.prototype.execute=function(t,e){a.isFunction(arguments[arguments.length-1])&&(e=arguments[arguments.length-1],
1===arguments.length&&(t=null));var n=this.encode(t),r=this.decode.bind(this);return new s(this._requestManager,n,u.eth(),r,e)},c.prototype.attachToContract=function(t){var e=this.execute.bind(this);t.allEvents=e},t.exports=c},function(t,e,n){"use strict";var r=n(50),o=n(16),i=function(t){this.requestManager=t._requestManager,this.requests=[]};i.prototype.add=function(t){this.requests.push(t)},i.prototype.execute=function(){var t=this.requests;this.requestManager.sendBatch(t,function(e,n){n=n||[],t.map(function(t,e){return n[e]||{}}).forEach(function(e,n){if(t[n].callback){if(!r.isValidResponse(e))return t[n].callback(o.InvalidResponse(e));t[n].callback(null,t[n].format?t[n].format(e.result):e.result)}})})},t.exports=i},function(t,e,n){"use strict";var r=n(3),o=n(25),i=n(49),a=n(75),s=n(71),u=function(t,e){return t.filter(function(t){return"constructor"===t.type&&t.inputs.length===e.length}).map(function(t){return t.inputs.map(function(t){return t.type})}).map(function(t){return o.encodeParams(t,e)})[0]||""},c=function(t){t.abi.filter(function(t){return"function"===t.type}).map(function(e){return new a(t._eth,e,t.address)}).forEach(function(e){e.attachToContract(t)})},p=function(t){var e=t.abi.filter(function(t){return"event"===t.type}),n=new s(t._eth._requestManager,e,t.address);n.attachToContract(t),e.map(function(e){return new i(t._eth._requestManager,e,t.address)}).forEach(function(e){e.attachToContract(t)})},f=function(t,e){var n=0,r=!1,o=t._eth.filter("latest",function(i){if(!i&&!r)if(n++,n>50){if(o.stopWatching(),r=!0,!e)throw new Error("Contract transaction couldn't be found after 50 blocks");e(new Error("Contract transaction couldn't be found after 50 blocks"))}else t._eth.getTransactionReceipt(t.transactionHash,function(n,i){i&&!r&&t._eth.getCode(i.contractAddress,function(n,a){if(!r&&a)if(o.stopWatching(),r=!0,a.length>3)t.address=i.contractAddress,c(t),p(t),e&&e(null,t);else{if(!e)throw new Error("The contract code couldn't be stored, please check your gas amount.");e(new Error("The contract code couldn't be stored, please check your gas amount."))}})})})},l=function(t,e){this.eth=t,this.abi=e,this.new=function(){var t,e=new h(this.eth,this.abi),n={},o=Array.prototype.slice.call(arguments);r.isFunction(o[o.length-1])&&(t=o.pop());var i=o[o.length-1];r.isObject(i)&&!r.isArray(i)&&(n=o.pop());var a=u(this.abi,o);if(n.data+=a,t)this.eth.sendTransaction(n,function(n,r){n?t(n):(e.transactionHash=r,t(null,e),f(e,t))});else{var s=this.eth.sendTransaction(n);e.transactionHash=s,f(e)}return e},this.new.getData=this.getData.bind(this)};l.prototype.at=function(t,e){var n=new h(this.eth,this.abi,t);return c(n),p(n),e&&e(null,n),n},l.prototype.getData=function(){var t={},e=Array.prototype.slice.call(arguments),n=e[e.length-1];r.isObject(n)&&!r.isArray(n)&&(t=e.pop());var o=u(this.abi,e);return t.data+=o,t.data};var h=function(t,e,n){this._eth=t,this.transactionHash=null,this.address=n,this.abi=e};t.exports=l},function(t,e,n){"use strict";var r=n(9),o=n(3),i=n(13),a=n(17),s=function(t){var e=function(e){var n;e.property?(t[e.property]||(t[e.property]={}),n=t[e.property]):n=t,e.methods&&e.methods.forEach(function(e){e.attachToObject(n),e.setRequestManager(t._requestManager)}),e.properties&&e.properties.forEach(function(e){e.attachToObject(n),e.setRequestManager(t._requestManager)})};return e.formatters=r,e.utils=o,e.Method=i,e.Property=a,e};t.exports=s},function(t,e,n){"use strict";var r=n(25),o=n(3),i=n(9),a=n(15),s=function(t,e,n){this._eth=t,this._inputTypes=e.inputs.map(function(t){return t.type}),this._outputTypes=e.outputs.map(function(t){return t.type}),this._constant=e.constant,this._name=o.transformToFullName(e),this._address=n};s.prototype.extractCallback=function(t){if(o.isFunction(t[t.length-1]))return t.pop()},s.prototype.extractDefaultBlock=function(t){if(t.length>this._inputTypes.length&&!o.isObject(t[t.length-1]))return i.inputDefaultBlockNumberFormatter(t.pop())},s.prototype.toPayload=function(t){var e={};return t.length>this._inputTypes.length&&o.isObject(t[t.length-1])&&(e=t[t.length-1]),e.to=this._address,e.data="0x"+this.signature()+r.encodeParams(this._inputTypes,t),e},s.prototype.signature=function(){return a(this._name).slice(0,8)},s.prototype.unpackOutput=function(t){if(t){t=t.length>=2?t.slice(2):t;var e=r.decodeParams(this._outputTypes,t);return 1===e.length?e[0]:e}},s.prototype.call=function(){var t=Array.prototype.slice.call(arguments).filter(function(t){return void 0!==t}),e=this.extractCallback(t),n=this.extractDefaultBlock(t),r=this.toPayload(t);if(!e){var o=this._eth.call(r,n);return this.unpackOutput(o)}var i=this;this._eth.call(r,n,function(t,n){e(t,i.unpackOutput(n))})},s.prototype.sendTransaction=function(){var t=Array.prototype.slice.call(arguments).filter(function(t){return void 0!==t}),e=this.extractCallback(t),n=this.toPayload(t);return e?void this._eth.sendTransaction(n,e):this._eth.sendTransaction(n)},s.prototype.estimateGas=function(){var t=Array.prototype.slice.call(arguments),e=this.extractCallback(t),n=this.toPayload(t);return e?void this._eth.estimateGas(n,e):this._eth.estimateGas(n)},s.prototype.getData=function(){var t=Array.prototype.slice.call(arguments),e=this.toPayload(t);return e.data},s.prototype.displayName=function(){return o.extractDisplayName(this._name)},s.prototype.typeName=function(){return o.extractTypeName(this._name)},s.prototype.request=function(){var t=Array.prototype.slice.call(arguments),e=this.extractCallback(t),n=this.toPayload(t),r=this.unpackOutput.bind(this);return{method:this._constant?"eth_call":"eth_sendTransaction",callback:e,params:[n],format:r}},s.prototype.execute=function(){var t=!this._constant;return t?this.sendTransaction.apply(this,Array.prototype.slice.call(arguments)):this.call.apply(this,Array.prototype.slice.call(arguments))},s.prototype.attachToContract=function(t){var e=this.execute.bind(this);e.request=this.request.bind(this),e.call=this.call.bind(this),e.sendTransaction=this.sendTransaction.bind(this),e.estimateGas=this.estimateGas.bind(this),e.getData=this.getData.bind(this);var n=this.displayName();t[n]||(t[n]=e),t[n][this.typeName()]=e},t.exports=s},function(t,e,n){"use strict";var r,o=n(16);r="undefined"!=typeof window&&window.XMLHttpRequest?window.XMLHttpRequest:n(69).XMLHttpRequest;var i=function(t){this.host=t||"http://localhost:8545"};i.prototype.prepareRequest=function(t){var e=new r;return e.open("POST",this.host,t),e.setRequestHeader("Content-Type","application/json"),e},i.prototype.send=function(t){var e=this.prepareRequest(!1);try{e.send(JSON.stringify(t))}catch(t){throw o.InvalidConnection(this.host)}var n=e.responseText;try{n=JSON.parse(n)}catch(t){throw o.InvalidResponse(e.responseText)}return n},i.prototype.sendAsync=function(t,e){var n=this.prepareRequest(!0);n.onreadystatechange=function(){if(4===n.readyState){var t=n.responseText,r=null;try{t=JSON.parse(t)}catch(t){r=o.InvalidResponse(n.responseText)}e(r,t)}};try{n.send(JSON.stringify(t))}catch(t){e(o.InvalidConnection(this.host))}},i.prototype.isConnected=function(){try{return this.send({id:9999999999,jsonrpc:"2.0",method:"net_listening",params:[]}),!0}catch(t){return!1}},t.exports=i},function(t,e,n){"use strict";var r=n(3),o=n(16),i=function(t,e){var n=this;this.responseCallbacks={},this.path=t,this.connection=e.connect({path:this.path}),this.connection.on("error",function(t){console.error("IPC Connection Error",t),n._timeout()}),this.connection.on("end",function(){n._timeout()}),this.connection.on("data",function(t){n._parseResponse(t.toString()).forEach(function(t){var e=null;r.isArray(t)?t.forEach(function(t){n.responseCallbacks[t.id]&&(e=t.id)}):e=t.id,n.responseCallbacks[e]&&(n.responseCallbacks[e](null,t),delete n.responseCallbacks[e])})})};i.prototype._parseResponse=function(t){var e=this,n=[],r=t.replace(/\}[\n\r]?\{/g,"}|--|{").replace(/\}\][\n\r]?\[\{/g,"}]|--|[{").replace(/\}[\n\r]?\[\{/g,"}|--|[{").replace(/\}\][\n\r]?\{/g,"}]|--|{").split("|--|");return r.forEach(function(t){e.lastChunk&&(t=e.lastChunk+t);var r=null;try{r=JSON.parse(t)}catch(n){return e.lastChunk=t,clearTimeout(e.lastChunkTimeout),void(e.lastChunkTimeout=setTimeout(function(){throw e._timeout(),o.InvalidResponse(t)},15e3))}clearTimeout(e.lastChunkTimeout),e.lastChunk=null,r&&n.push(r)}),n},i.prototype._addResponseCallback=function(t,e){var n=t.id||t[0].id,r=t.method||t[0].method;this.responseCallbacks[n]=e,this.responseCallbacks[n].method=r},i.prototype._timeout=function(){for(var t in this.responseCallbacks)this.responseCallbacks.hasOwnProperty(t)&&(this.responseCallbacks[t](o.InvalidConnection("on IPC")),delete this.responseCallbacks[t])},i.prototype.isConnected=function(){var t=this;return t.connection.writable||t.connection.connect({path:t.path}),!!this.connection.writable},i.prototype.send=function(t){if(this.connection.writeSync){var e;this.connection.writable||this.connection.connect({path:this.path});var n=this.connection.writeSync(JSON.stringify(t));try{e=JSON.parse(n)}catch(t){throw o.InvalidResponse(n)}return e}throw new Error('You tried to send "'+t.method+'" synchronously. Synchronous requests are not supported by the IPC provider.')},i.prototype.sendAsync=function(t,e){this.connection.writable||this.connection.connect({path:this.path}),this.connection.write(JSON.stringify(t)),this._addResponseCallback(t,e)},t.exports=i},function(t,e,n){"use strict";var r=n(13),o=function(t){this._requestManager=t._requestManager;var e=this;i().forEach(function(n){n.attachToObject(e),n.setRequestManager(t._requestManager)})},i=function(){var t=new r({name:"putString",call:"db_putString",params:3}),e=new r({name:"getString",call:"db_getString",params:2}),n=new r({name:"putHex",call:"db_putHex",params:3}),o=new r({name:"getHex",call:"db_getHex",params:2});return[t,e,n,o]};t.exports=o},function(t,e,n){"use strict";function r(t){this._requestManager=t._requestManager;var e=this;w().forEach(function(t){t.attachToObject(e),t.setRequestManager(e._requestManager)}),S().forEach(function(t){t.attachToObject(e),t.setRequestManager(e._requestManager)}),this.iban=y,this.sendIBANTransaction=d.bind(null,this)}var o=n(9),i=n(3),a=n(13),s=n(17),u=n(20),c=n(73),p=n(23),f=n(21),l=n(86),h=n(83),y=n(22),d=n(87),m=function(t){return i.isString(t[0])&&0===t[0].indexOf("0x")?"eth_getBlockByHash":"eth_getBlockByNumber"},v=function(t){return i.isString(t[0])&&0===t[0].indexOf("0x")?"eth_getTransactionByBlockHashAndIndex":"eth_getTransactionByBlockNumberAndIndex"},b=function(t){return i.isString(t[0])&&0===t[0].indexOf("0x")?"eth_getUncleByBlockHashAndIndex":"eth_getUncleByBlockNumberAndIndex"},g=function(t){return i.isString(t[0])&&0===t[0].indexOf("0x")?"eth_getBlockTransactionCountByHash":"eth_getBlockTransactionCountByNumber"},_=function(t){return i.isString(t[0])&&0===t[0].indexOf("0x")?"eth_getUncleCountByBlockHash":"eth_getUncleCountByBlockNumber"};Object.defineProperty(r.prototype,"defaultBlock",{get:function(){return u.defaultBlock},set:function(t){return u.defaultBlock=t,t}}),Object.defineProperty(r.prototype,"defaultAccount",{get:function(){return u.defaultAccount},set:function(t){return u.defaultAccount=t,t}});var w=function(){var t=new a({name:"getBalance",call:"eth_getBalance",params:2,inputFormatter:[o.inputAddressFormatter,o.inputDefaultBlockNumberFormatter],outputFormatter:o.outputBigNumberFormatter}),e=new a({name:"getStorageAt",call:"eth_getStorageAt",params:3,inputFormatter:[null,i.toHex,o.inputDefaultBlockNumberFormatter]}),n=new a({name:"getCode",call:"eth_getCode",params:2,inputFormatter:[o.inputAddressFormatter,o.inputDefaultBlockNumberFormatter]}),r=new a({name:"getBlock",call:m,params:2,inputFormatter:[o.inputBlockNumberFormatter,function(t){return!!t}],outputFormatter:o.outputBlockFormatter}),s=new a({name:"getUncle",call:b,params:2,inputFormatter:[o.inputBlockNumberFormatter,i.toHex],outputFormatter:o.outputBlockFormatter}),u=new a({name:"getCompilers",call:"eth_getCompilers",params:0}),c=new a({name:"getBlockTransactionCount",call:g,params:1,inputFormatter:[o.inputBlockNumberFormatter],outputFormatter:i.toDecimal}),p=new a({name:"getBlockUncleCount",call:_,params:1,inputFormatter:[o.inputBlockNumberFormatter],outputFormatter:i.toDecimal}),f=new a({name:"getTransaction",call:"eth_getTransactionByHash",params:1,outputFormatter:o.outputTransactionFormatter}),l=new a({name:"getTransactionFromBlock",call:v,params:2,inputFormatter:[o.inputBlockNumberFormatter,i.toHex],outputFormatter:o.outputTransactionFormatter}),h=new a({name:"getTransactionReceipt",call:"eth_getTransactionReceipt",params:1,outputFormatter:o.outputTransactionReceiptFormatter}),y=new a({name:"getTransactionCount",call:"eth_getTransactionCount",params:2,inputFormatter:[null,o.inputDefaultBlockNumberFormatter],outputFormatter:i.toDecimal}),d=new a({name:"sendRawTransaction",call:"eth_sendRawTransaction",params:1,inputFormatter:[null]}),w=new a({name:"sendTransaction",call:"eth_sendTransaction",params:1,inputFormatter:[o.inputTransactionFormatter]}),S=new a({name:"sign",call:"eth_sign",params:2,inputFormatter:[o.inputAddressFormatter,null]}),x=new a({name:"call",call:"eth_call",params:2,inputFormatter:[o.inputCallFormatter,o.inputDefaultBlockNumberFormatter]}),k=new a({name:"estimateGas",call:"eth_estimateGas",params:1,inputFormatter:[o.inputCallFormatter],outputFormatter:i.toDecimal}),B=new a({name:"compile.solidity",call:"eth_compileSolidity",params:1}),A=new a({name:"compile.lll",call:"eth_compileLLL",params:1}),C=new a({name:"compile.serpent",call:"eth_compileSerpent",params:1}),F=new a({name:"submitWork",call:"eth_submitWork",params:3}),O=new a({name:"getWork",call:"eth_getWork",params:0});return[t,e,n,r,s,u,c,p,f,l,h,y,x,k,d,w,S,B,A,C,F,O]},S=function(){return[new s({name:"coinbase",getter:"eth_coinbase"}),new s({name:"mining",getter:"eth_mining"}),new s({name:"hashrate",getter:"eth_hashrate",outputFormatter:i.toDecimal}),new s({name:"syncing",getter:"eth_syncing",outputFormatter:o.outputSyncingFormatter}),new s({name:"gasPrice",getter:"eth_gasPrice",outputFormatter:o.outputBigNumberFormatter}),new s({name:"accounts",getter:"eth_accounts"}),new s({name:"blockNumber",getter:"eth_blockNumber",outputFormatter:i.toDecimal}),new s({name:"protocolVersion",getter:"eth_protocolVersion"})]};r.prototype.contract=function(t){var e=new c(this,t);return e},r.prototype.filter=function(t,e){return new f(this._requestManager,t,p.eth(),o.outputLogFormatter,e)},r.prototype.namereg=function(){return this.contract(h.global.abi).at(h.global.address)},r.prototype.icapNamereg=function(){return this.contract(h.icap.abi).at(h.icap.address)},r.prototype.isSyncing=function(t){return new l(this._requestManager,t)},t.exports=r},function(t,e,n){"use strict";var r=n(3),o=n(17),i=function(t){this._requestManager=t._requestManager;var e=this;a().forEach(function(n){n.attachToObject(e),n.setRequestManager(t._requestManager)})},a=function(){return[new o({name:"listening",getter:"net_listening"}),new o({name:"peerCount",getter:"net_peerCount",outputFormatter:r.toDecimal})]};t.exports=i},function(t,e,n){"use strict";function r(t){this._requestManager=t._requestManager;var e=this;s().forEach(function(t){t.attachToObject(e),t.setRequestManager(e._requestManager)}),u().forEach(function(t){t.attachToObject(e),t.setRequestManager(e._requestManager)})}var o=n(13),i=n(17),a=n(9),s=function(){var t=new o({name:"newAccount",call:"personal_newAccount",params:1,inputFormatter:[null]}),e=new o({name:"unlockAccount",call:"personal_unlockAccount",params:3,inputFormatter:[a.inputAddressFormatter,null,null]}),n=new o({name:"unlockAccountAndSendTransaction",call:"personal_signAndSendTransaction",params:2,inputFormatter:[a.inputTransactionFormatter,null]}),r=new o({name:"lockAccount",call:"personal_lockAccount",params:1,inputFormatter:[a.inputAddressFormatter]});return[t,e,n,r]},u=function(){return[new i({name:"listAccounts",getter:"personal_listAccounts"})]};t.exports=r},function(t,e,n){"use strict";var r=n(13),o=n(9),i=n(21),a=n(23),s=function(t){this._requestManager=t._requestManager;var e=this;u().forEach(function(t){t.attachToObject(e),t.setRequestManager(e._requestManager)})};s.prototype.filter=function(t,e){return new i(this._requestManager,t,a.shh(),o.outputPostFormatter,e)};var u=function(){var t=new r({name:"post",call:"shh_post",params:1,inputFormatter:[o.inputPostFormatter]}),e=new r({name:"newIdentity",call:"shh_newIdentity",params:0}),n=new r({name:"hasIdentity",call:"shh_hasIdentity",params:1}),i=new r({name:"newGroup",call:"shh_newGroup",params:0}),a=new r({name:"addToGroup",call:"shh_addToGroup",params:0});return[t,e,n,i,a]};t.exports=s},function(t,e,n){"use strict";var r=n(53),o=n(54),i="0xc6d9d2cd449a754c494264e1809c50e34d64562b",a="0xa1a111bc074c9cfa781f0c38e63bd51c91b8af00";t.exports={global:{abi:r,address:i},icap:{abi:o,address:a}}},function(t,e,n){"use strict";var r=n(50),o=n(3),i=n(20),a=n(16),s=function(t){this.provider=t,this.polls={},this.timeout=null};s.prototype.send=function(t){if(!this.provider)return console.error(a.InvalidProvider()),null;var e=r.toPayload(t.method,t.params),n=this.provider.send(e);if(!r.isValidResponse(n))throw a.InvalidResponse(n);return n.result},s.prototype.sendAsync=function(t,e){if(!this.provider)return e(a.InvalidProvider());var n=r.toPayload(t.method,t.params);this.provider.sendAsync(n,function(t,n){return t?e(t):r.isValidResponse(n)?void e(null,n.result):e(a.InvalidResponse(n))})},s.prototype.sendBatch=function(t,e){if(!this.provider)return e(a.InvalidProvider());var n=r.toBatchPayload(t);this.provider.sendAsync(n,function(t,n){return t?e(t):o.isArray(n)?void e(t,n):e(a.InvalidResponse(n))})},s.prototype.setProvider=function(t){this.provider=t},s.prototype.startPolling=function(t,e,n,r){this.polls[e]={data:t,id:e,callback:n,uninstall:r},this.timeout||this.poll()},s.prototype.stopPolling=function(t){delete this.polls[t],0===Object.keys(this.polls).length&&this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},s.prototype.reset=function(t){for(var e in this.polls)t&&e.indexOf("syncPoll_")!==-1||(this.polls[e].uninstall(),delete this.polls[e]);0===Object.keys(this.polls).length&&this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},s.prototype.poll=function(){if(this.timeout=setTimeout(this.poll.bind(this),i.ETH_POLLING_TIMEOUT),0!==Object.keys(this.polls).length){if(!this.provider)return void console.error(a.InvalidProvider());var t=[],e=[];for(var n in this.polls)t.push(this.polls[n].data),e.push(n);if(0!==t.length){var s=r.toBatchPayload(t),u={};s.forEach(function(t,n){u[t.id]=e[n]});var c=this;this.provider.sendAsync(s,function(t,e){if(!t){if(!o.isArray(e))throw a.InvalidResponse(e);e.map(function(t){var e=u[t.id];return!!c.polls[e]&&(t.callback=c.polls[e].callback,t)}).filter(function(t){return!!t}).filter(function(t){var e=r.isValidResponse(t);return e||t.callback(a.InvalidResponse(t)),e}).forEach(function(t){t.callback(null,t.result)})}})}}},t.exports=s},function(t,e){"use strict";var n=function(){this.defaultBlock="latest",this.defaultAccount=void 0};t.exports=n},function(t,e,n){"use strict";var r=n(9),o=n(3),i=1,a=function(t){var e=function(e,n){return e?t.callbacks.forEach(function(t){t(e)}):(o.isObject(n)&&n.startingBlock&&(n=r.outputSyncingFormatter(n)),void t.callbacks.forEach(function(e){t.lastSyncState!==n&&(!t.lastSyncState&&o.isObject(n)&&e(null,!0),setTimeout(function(){e(null,n)},0),t.lastSyncState=n)}))};t.requestManager.startPolling({method:"eth_syncing",params:[]},t.pollId,e,t.stopWatching.bind(t))},s=function(t,e){return this.requestManager=t,this.pollId="syncPoll_"+i++,this.callbacks=[],this.addCallback(e),this.lastSyncState=!1,a(this),this};s.prototype.addCallback=function(t){return t&&this.callbacks.push(t),this},s.prototype.stopWatching=function(){this.requestManager.stopPolling(this.pollId),this.callbacks=[]},t.exports=s},function(t,e,n){"use strict";var r=n(22),o=n(55),i=function(t,e,n,o,i){var u=new r(n);if(!u.isValid())throw new Error("invalid iban address");if(u.isDirect())return a(t,e,u.address(),o,i);if(!i){var c=t.icapNamereg().addr(u.institution());return s(t,e,c,o,u.client())}t.icapNamereg().addr(u.institution(),function(n,r){return s(t,e,r,o,u.client(),i)})},a=function(t,e,n,r,o){return t.sendTransaction({address:n,from:e,value:r},o)},s=function(t,e,n,r,i,a){var s=o;return t.contract(s).at(n).deposit(i,{from:e,value:r},a)};t.exports=i},function(t,e){"use strict";t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e){"use strict";var n={};n.abi={RSC_AddressResolver:[{constant:!0,inputs:[{name:"hash",type:"bytes32"}],name:"getAddress",outputs:[{name:"_oaddr",type:"address"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"",type:"bytes32"}],name:"addresses",outputs:[{name:"",type:"address"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_newowner",type:"address"}],name:"changeOwner",outputs:[],payable:!1,type:"function"},{constant:!1,inputs:[{name:"hash",type:"bytes32"},{name:"_newaddr",type:"address"}],name:"setAddr",outputs:[],payable:!1,type:"function"},{inputs:[],payable:!1,type:"constructor"}],RSC_Token:[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"success",type:"bool"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_newOwner",type:"address"}],name:"setOwner",outputs:[],payable:!1,type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"success",type:"bool"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"Symbol",outputs:[{name:"",type:"string"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_newTotalSupply",type:"uint256"}],name:"setNewTotalSupply",outputs:[],payable:!1,type:"function"},{constant:!0,inputs:[],name:"riskManager",outputs:[{name:"",type:"address"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"version",outputs:[{name:"",type:"string"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_newRiskManager",type:"address"}],name:"setRiskManager",outputs:[],payable:!1,type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"success",type:"bool"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"},{name:"_extraData",type:"bytes"}],name:"approveAndCall",outputs:[{name:"success",type:"bool"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"remaining",type:"uint256"}],payable:!1,type:"function"},{inputs:[{name:"_initialAmount",type:"uint256"}],payable:!1,type:"constructor"},{payable:!1,type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"_from",type:"address"},{indexed:!0,name:"_to",type:"address"},{indexed:!1,name:"_value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"_owner",type:"address"},{indexed:!0,name:"_spender",type:"address"},{indexed:!1,name:"_value",type:"uint256"}],name:"Approval",type:"event"}],RSC_SimpleSale:[{constant:!0,inputs:[],name:"TOTAL_TOKENS",outputs:[{name:"",type:"uint256"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"STARTBLOCK",outputs:[{name:"",type:"uint256"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"saleFinished",outputs:[{name:"",type:"bool"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"amount",type:"uint256"}],name:"setNewTotalSupply",outputs:[],payable:!1,type:"function"},{constant:!0,inputs:[],name:"FUNDING_GOAL",outputs:[{name:"",type:"uint256"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"tokenPrice",outputs:[{name:"",type:"uint256"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_tokenPrice",type:"uint256"}],name:"setPrice",outputs:[],payable:!1,type:"function"},{constant:!1,inputs:[],name:"tokenSale",outputs:[],payable:!0,type:"function"},{constant:!1,inputs:[{name:"_RSC_Token",type:"address"}],name:"setTokenContract",outputs:[],payable:!1,type:"function"},{constant:!0,inputs:[],name:"totalRaised",outputs:[{name:"",type:"uint256"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"RSC_Token_Contract",outputs:[{name:"",type:"address"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"MAXIMUM_SALE_BLOCK",outputs:[{name:"",type:"uint256"}],payable:!1,type:"function"},{inputs:[],payable:!1,type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,name:"investor",type:"address"},{indexed:!1,name:"amount",type:"uint256"}],name:"Log_Sale",type:"event"}],RSC_Insurance:[{constant:!1,inputs:[{name:"_policyId",type:"uint256"}],name:"expirePolicy",outputs:[],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_risk",type:"string"}],name:"newPolicy",outputs:[],payable:!0,type:"function"},{constant:!1,inputs:[{name:"_policyId",type:"uint256"},{name:"_payout",type:"uint256"},{name:"_claim",type:"string"}],name:"payOut",outputs:[],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_amount",type:"uint256"}],name:"decrease_fund",outputs:[],payable:!1,type:"function"},{constant:!0,inputs:[],name:"riskManager",outputs:[{name:"",type:"address"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"_customer",type:"address"}],name:"getPolicyCount",outputs:[{name:"_count",type:"uint256"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_riskManager",type:"address"}],name:"setRiskManager",outputs:[],payable:!1,type:"function"},{constant:!1,inputs:[],name:"increase_fund",outputs:[],payable:!0,type:"function"},{constant:!1,inputs:[{name:"_oracle",type:"address"}],name:"setOracle",outputs:[],payable:!1,type:"function"},{constant:!0,inputs:[],name:"oracle",outputs:[{name:"",type:"address"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"balance",outputs:[{name:"",type:"uint256"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"",type:"uint256"}],name:"policies",outputs:[{name:"customer",type:"address"},{name:"premium",type:"uint256"},{name:"risk",type:"string"},{name:"probability",type:"uint256"},{name:"state",type:"uint8"},{name:"stateTime",type:"uint256"},{name:"stateMessage",type:"string"},{name:"calculatedPayout",type:"uint256"},{name:"actualPayout",type:"uint256"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_policyId",type:"uint256"},{name:"_probability",type:"uint256"},{name:"_doUnderwrite",type:"bool"}],name:"underwrite",outputs:[],payable:!1,type:"function"},{inputs:[],payable:!1,type:"constructor"},{payable:!1,type:"fallback"},{anonymous:!1,inputs:[{indexed:!1,name:"policyId",type:"uint256"},{indexed:!1,name:"customer",type:"address"},{indexed:!1,name:"risk",type:"string"},{indexed:!1,name:"premium",type:"uint256"}],name:"LOG_PolicyApplied",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"policyId",type:"uint256"}],name:"LOG_PolicyAccepted",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"policyId",type:"uint256"},{indexed:!1,name:"amount",type:"uint256"}],name:"LOG_PolicyPaidOut",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"policyId",type:"uint256"}],name:"LOG_PolicyExpired",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"policyId",type:"uint256"},{indexed:!1,name:"reason",type:"string"}],name:"LOG_PolicyDeclined",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"policyId",type:"uint256"},{indexed:!1,name:"reason",type:"string"}],name:"LOG_SendFail",type:"event"}],RSC_RiskManager:[]},t.exports=n},function(t,e){"use strict";var n={};n.contracts={RSC_AddressResolver:"RSC_AddressResolver",RSC_Token:"RSC_Token",RSC_SimpleSale:"RSC_SimpleSale",RSC_Insurance:"RSC_Insurance",RSC_RiskManager:"RSC_RiskManager"},t.exports=n},function(t,e){"use strict";var n={testrpc:{desc:"testrpc",ownerAddress:"",AddressResolver_addr:"0xe20fd9d31d5e8647836ac3310dd3602708ece6b3",OAR_Addr:"",multisig:"0xDC7cFc4e9864fEaB8aa07be7C4608DA91cc1f36b",httpProvider:"http://testrpc.etherisc.com"},ropsten:{desc:"ropsten",ownerAddress:"0xffc614ee978630d7fb0c06758deb580c152154d3",AddressResolver_addr:"0xc3463b1aaa94ee0332d480860231c04a52cf108d",OAR_Addr:"0xc03a2615d5efaf5f49f60b7bb6583eaec212fdf1",multisig:"0xffc614ee978630d7fb0c06758deb580c152154d3",httpProvider:"http://localhost:8645",etherscan_url:function(t){return"https://testnet.etherscan.io/address/"+t},etherscan_tx_url:function(t){return"https://testnet.etherscan.io/tx/"+t},oraclizeQueryApi:function(t){return"https://api.oraclize.it/api/v1/query/eth_testnet_"+t+"/status"}},mainnet:{desc:"mainnet",ownerAddress:"",AddressResolver_addr:"",OAR_Addr:"0x1d3b2638a7cc9f2cb3d298a3da7a90b67e5506ed",multisig:"0x5cb5F46a655C02889172323760d12d0e5D83CDAf",httpProvider:"http://localhost:8545",etherscan_url:function(t){return"https://www.etherscan.io/address/"},etherscan_tx_url:function(t){return"https://etherscan.io/tx/"+t},oraclizeQueryApi:function(t){return"https://api.oraclize.it/api/v1/query/eth_mainnet_"+t+"/status"}}};t.exports=n},function(t,e,n){"use strict";function r(){function t(){return new Promise(function(t,e){if("undefined"!=typeof web3)return web3=new o(web3.currentProvider),void t(web3);var n="No web3? You should consider trying MetaMask!";console.warn(n),e({message:n})})}function e(){return new Promise(function(t,e){web3.version.getNetwork(function(n,r){return 3!==r&&"3"!==r?void e({message:"Connected to the wrong network!"}):void t({network:r})})})}function n(){return new Promise(function(t,e){web3.eth.getBalance(web3.eth.accounts[0],function(e,n){t({web3_Connected:!0,balance:web3.fromWei(n).toFixed(2),account:web3.eth.accounts[0]})})})}function r(){t().then(e,function(t){m.message=t.message}).then(function(t){var e=t.network;return m.network=e,!0},function(t){m.message=t.message}).then(n).then(function(t){var e=t.web3_Connected,n=t.balance,r=t.account;return m.web3_Connected=e,m.balance=n,m.account=r,!0}).then(function(){function t(t){for(var n in t)e(n)}function e(t){n.getAddress(web3.sha3(t),function(e,n){return e?void console.error(e):void web3.eth.contract(s.abi[t]).at(n,function(e,n){d[t]=n})})}console.log("Server started"),web3.eth.getBlockNumber(function(t,e){console.log("BlockNumber: "+e)});var n=web3.eth.contract(s.abi.RSC_AddressResolver).at(u.ropsten.AddressResolver_addr);t(a.contracts)})}function f(){return console.log("Method Call: getPolicies"),"undefined"==typeof i(d,"RSC_Insurance")?(console.log("Did not load the policies yet."),new Promise(function(t){return t([])})):y(d.RSC_Insurance).then(function(t){for(var e=[],n=0;n<t;n++){var r=h(d.RSC_Insurance,n);e.push(r)}return Promise.all(e)})}function l(t){var e={value:web3.toWei(t,"ether")};return new Promise(function(t,n){web3.version.getNetwork(function(r,o){if(1==o){var i={message:c()};return void n({success:!1,message:i.message.slice(0,i.message.indexOf("\n")),hash:""})}if(3!==o&&"3"!==o){var a={message:p()};return void n({success:!1,message:a.message.slice(0,a.message.indexOf("\n")),hash:""})}try{d.RSC_SimpleSale.tokenSale(e,function(e,r){return e?void n({success:!1,message:e.message.slice(0,e.message.indexOf("\n")),hash:""}):void t({success:!0,
message:r,hash:r})})}catch(t){n({success:!1,message:t.message.slice(0,t.message.indexOf("\n")),hash:""})}})})}function h(t,e){return new Promise(function(n,r){t.policies(e,function(t,e){return t?void r(t):(e.push(e[0].slice(0,7)),e[1]=web3.fromWei(e[1],"ether").toFixed(4),e[3]=web3.toDecimal(e[3])/1e4,e[5]=new Date(1e3*web3.toDecimal(e[5])).toUTCString(),e[7]=web3.fromWei(e[7],"ether").toFixed(4),e[8]=web3.fromWei(e[8],"ether").toFixed(4),void n(e))})})}function y(t){return new Promise(function(e,n){t.getPolicyCount(function(t,r){return t?void n(t):void e(r.toNumber())})})}var d={},m={};return r(),{getPolicies:f,tokenSale:l,state:m}}var o=n(59),i=n(57),a=n(90),s=n(89),u=n(91),c=function(){return"Attention: Your metamask is connected to mainnet. Don't use this prototype on mainnet - it can result in loss of money!"},p=function(){return"Attention: Your metamask is not connected to testnet. Only use this prototype on testnet - otherwise it can result in loss of money!"};angular.module("app").service("ethereum",r)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vYnVuZGxlLmpzIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCA1ZDljOGZlZjhlMmVlZmNhODZlMyIsIndlYnBhY2s6Ly8vLi9+L2NyeXB0by1qcy9jb3JlLmpzIiwid2VicGFjazovLy8uL34vY3J5cHRvLWpzL2NpcGhlci1jb3JlLmpzIiwid2VicGFjazovLy8uL34vd2ViMy9saWIvdXRpbHMvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jcnlwdG8tanMvZW5jLWJhc2U2NC5qcyIsIndlYnBhY2s6Ly8vLi9+L2NyeXB0by1qcy9ldnBrZGYuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jcnlwdG8tanMvbWQ1LmpzIiwid2VicGFjazovLy8uL34vd2ViMy9saWIvc29saWRpdHkvZm9ybWF0dGVycy5qcyIsIndlYnBhY2s6Ly8vLi9+L3dlYjMvbGliL3NvbGlkaXR5L3R5cGUuanMiLCJ3ZWJwYWNrOi8vLy4vfi93ZWIzL2xpYi93ZWIzL2Zvcm1hdHRlcnMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jcnlwdG8tanMveDY0LWNvcmUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jcnlwdG8tanMvaG1hYy5qcyIsIndlYnBhY2s6Ly8vLi9+L2NyeXB0by1qcy9zaGExLmpzIiwid2VicGFjazovLy8uL34vd2ViMy9saWIvd2ViMy9tZXRob2QuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iaWdudW1iZXIuanMvYmlnbnVtYmVyLmpzIiwid2VicGFjazovLy8uL34vd2ViMy9saWIvdXRpbHMvc2hhMy5qcyIsIndlYnBhY2s6Ly8vLi9+L3dlYjMvbGliL3dlYjMvZXJyb3JzLmpzIiwid2VicGFjazovLy8uL34vd2ViMy9saWIvd2ViMy9wcm9wZXJ0eS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NyeXB0by1qcy9zaGEyNTYuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jcnlwdG8tanMvc2hhNTEyLmpzIiwid2VicGFjazovLy8uL34vd2ViMy9saWIvdXRpbHMvY29uZmlnLmpzIiwid2VicGFjazovLy8uL34vd2ViMy9saWIvd2ViMy9maWx0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vfi93ZWIzL2xpYi93ZWIzL2liYW4uanMiLCJ3ZWJwYWNrOi8vLy4vfi93ZWIzL2xpYi93ZWIzL21ldGhvZHMvd2F0Y2hlcy5qcyIsIndlYnBhY2s6Ly8vLi9+L2NyeXB0by1qcy9zaGEzLmpzIiwid2VicGFjazovLy8uL34vd2ViMy9saWIvc29saWRpdHkvY29kZXIuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jcnlwdG8tanMvYWVzLmpzIiwid2VicGFjazovLy8uL34vY3J5cHRvLWpzL2VuYy11dGYxNi5qcyIsIndlYnBhY2s6Ly8vLi9+L2NyeXB0by1qcy9mb3JtYXQtaGV4LmpzIiwid2VicGFjazovLy8uL34vY3J5cHRvLWpzL2xpYi10eXBlZGFycmF5cy5qcyIsIndlYnBhY2s6Ly8vLi9+L2NyeXB0by1qcy9tb2RlLWNmYi5qcyIsIndlYnBhY2s6Ly8vLi9+L2NyeXB0by1qcy9tb2RlLWN0ci1nbGFkbWFuLmpzIiwid2VicGFjazovLy8uL34vY3J5cHRvLWpzL21vZGUtY3RyLmpzIiwid2VicGFjazovLy8uL34vY3J5cHRvLWpzL21vZGUtZWNiLmpzIiwid2VicGFjazovLy8uL34vY3J5cHRvLWpzL21vZGUtb2ZiLmpzIiwid2VicGFjazovLy8uL34vY3J5cHRvLWpzL3BhZC1hbnNpeDkyMy5qcyIsIndlYnBhY2s6Ly8vLi9+L2NyeXB0by1qcy9wYWQtaXNvMTAxMjYuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jcnlwdG8tanMvcGFkLWlzbzk3OTcxLmpzIiwid2VicGFjazovLy8uL34vY3J5cHRvLWpzL3BhZC1ub3BhZGRpbmcuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jcnlwdG8tanMvcGFkLXplcm9wYWRkaW5nLmpzIiwid2VicGFjazovLy8uL34vY3J5cHRvLWpzL3Bia2RmMi5qcyIsIndlYnBhY2s6Ly8vLi9+L2NyeXB0by1qcy9yYWJiaXQtbGVnYWN5LmpzIiwid2VicGFjazovLy8uL34vY3J5cHRvLWpzL3JhYmJpdC5qcyIsIndlYnBhY2s6Ly8vLi9+L2NyeXB0by1qcy9yYzQuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jcnlwdG8tanMvcmlwZW1kMTYwLmpzIiwid2VicGFjazovLy8uL34vY3J5cHRvLWpzL3NoYTIyNC5qcyIsIndlYnBhY2s6Ly8vLi9+L2NyeXB0by1qcy9zaGEzODQuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jcnlwdG8tanMvdHJpcGxlZGVzLmpzIiwid2VicGFjazovLy8uL34vd2ViMy9saWIvc29saWRpdHkvcGFyYW0uanMiLCJ3ZWJwYWNrOi8vLy4vfi93ZWIzL2xpYi93ZWIzL2V2ZW50LmpzIiwid2VicGFjazovLy8uL34vd2ViMy9saWIvd2ViMy9qc29ucnBjLmpzIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9hbWQtb3B0aW9ucy5qcyIsIndlYnBhY2s6Ly8vLi9+L2NyeXB0by1qcy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9+L3dlYjMvbGliL2NvbnRyYWN0cy9HbG9iYWxSZWdpc3RyYXIuanNvbiIsIndlYnBhY2s6Ly8vLi9+L3dlYjMvbGliL2NvbnRyYWN0cy9JQ0FQUmVnaXN0cmFyLmpzb24iLCJ3ZWJwYWNrOi8vLy4vfi93ZWIzL2xpYi9jb250cmFjdHMvU21hcnRFeGNoYW5nZS5qc29uIiwid2VicGFjazovLy8uL34vd2ViMy9saWIvdmVyc2lvbi5qc29uIiwid2VicGFjazovLy8uL34vc3F1YmEvZGlzdC9zcXViYS5qcyIsIndlYnBhY2s6Ly8vLi9+L3V0ZjgvdXRmOC5qcyIsIndlYnBhY2s6Ly8vLi9+L3dlYjMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi93ZWIzL2xpYi9zb2xpZGl0eS9hZGRyZXNzLmpzIiwid2VicGFjazovLy8uL34vd2ViMy9saWIvc29saWRpdHkvYm9vbC5qcyIsIndlYnBhY2s6Ly8vLi9+L3dlYjMvbGliL3NvbGlkaXR5L2J5dGVzLmpzIiwid2VicGFjazovLy8uL34vd2ViMy9saWIvc29saWRpdHkvZHluYW1pY2J5dGVzLmpzIiwid2VicGFjazovLy8uL34vd2ViMy9saWIvc29saWRpdHkvaW50LmpzIiwid2VicGFjazovLy8uL34vd2ViMy9saWIvc29saWRpdHkvcmVhbC5qcyIsIndlYnBhY2s6Ly8vLi9+L3dlYjMvbGliL3NvbGlkaXR5L3N0cmluZy5qcyIsIndlYnBhY2s6Ly8vLi9+L3dlYjMvbGliL3NvbGlkaXR5L3VpbnQuanMiLCJ3ZWJwYWNrOi8vLy4vfi93ZWIzL2xpYi9zb2xpZGl0eS91cmVhbC5qcyIsIndlYnBhY2s6Ly8vLi9+L3dlYjMvbGliL3V0aWxzL2Jyb3dzZXIteGhyLmpzIiwid2VicGFjazovLy8uL34vd2ViMy9saWIvd2ViMy5qcyIsIndlYnBhY2s6Ly8vLi9+L3dlYjMvbGliL3dlYjMvYWxsZXZlbnRzLmpzIiwid2VicGFjazovLy8uL34vd2ViMy9saWIvd2ViMy9iYXRjaC5qcyIsIndlYnBhY2s6Ly8vLi9+L3dlYjMvbGliL3dlYjMvY29udHJhY3QuanMiLCJ3ZWJwYWNrOi8vLy4vfi93ZWIzL2xpYi93ZWIzL2V4dGVuZC5qcyIsIndlYnBhY2s6Ly8vLi9+L3dlYjMvbGliL3dlYjMvZnVuY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vfi93ZWIzL2xpYi93ZWIzL2h0dHBwcm92aWRlci5qcyIsIndlYnBhY2s6Ly8vLi9+L3dlYjMvbGliL3dlYjMvaXBjcHJvdmlkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vfi93ZWIzL2xpYi93ZWIzL21ldGhvZHMvZGIuanMiLCJ3ZWJwYWNrOi8vLy4vfi93ZWIzL2xpYi93ZWIzL21ldGhvZHMvZXRoLmpzIiwid2VicGFjazovLy8uL34vd2ViMy9saWIvd2ViMy9tZXRob2RzL25ldC5qcyIsIndlYnBhY2s6Ly8vLi9+L3dlYjMvbGliL3dlYjMvbWV0aG9kcy9wZXJzb25hbC5qcyIsIndlYnBhY2s6Ly8vLi9+L3dlYjMvbGliL3dlYjMvbWV0aG9kcy9zaGguanMiLCJ3ZWJwYWNrOi8vLy4vfi93ZWIzL2xpYi93ZWIzL25hbWVyZWcuanMiLCJ3ZWJwYWNrOi8vLy4vfi93ZWIzL2xpYi93ZWIzL3JlcXVlc3RtYW5hZ2VyLmpzIiwid2VicGFjazovLy8uL34vd2ViMy9saWIvd2ViMy9zZXR0aW5ncy5qcyIsIndlYnBhY2s6Ly8vLi9+L3dlYjMvbGliL3dlYjMvc3luY2luZy5qcyIsIndlYnBhY2s6Ly8vLi9+L3dlYjMvbGliL3dlYjMvdHJhbnNmZXIuanMiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL21vZHVsZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9saWIvYWJpX2Jpbi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9saWIvY29udHJhY3RfaWRzLmpzIiwid2VicGFjazovLy8uL3NyYy9zY3JpcHRzL2xpYi9uZXR3b3Jrcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9zZXJ2aWNlcy9ldGhlcmV1bS5qcyJdLCJuYW1lcyI6WyJtb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiaW5zdGFsbGVkTW9kdWxlcyIsImV4cG9ydHMiLCJtb2R1bGUiLCJpZCIsImxvYWRlZCIsImNhbGwiLCJtIiwiYyIsInAiLCJfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18iLCJfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fIiwiX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18iLCJfdHlwZW9mIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJvYmoiLCJjb25zdHJ1Y3RvciIsInByb3RvdHlwZSIsInJvb3QiLCJmYWN0b3J5IiwiYXBwbHkiLCJ1bmRlZmluZWQiLCJDcnlwdG9KUyIsIk1hdGgiLCJjcmVhdGUiLCJPYmplY3QiLCJGIiwic3VidHlwZSIsIkMiLCJDX2xpYiIsImxpYiIsIkJhc2UiLCJleHRlbmQiLCJvdmVycmlkZXMiLCJ0aGlzIiwibWl4SW4iLCJoYXNPd25Qcm9wZXJ0eSIsImluaXQiLCIkc3VwZXIiLCJhcmd1bWVudHMiLCJpbnN0YW5jZSIsInByb3BlcnRpZXMiLCJwcm9wZXJ0eU5hbWUiLCJ0b1N0cmluZyIsImNsb25lIiwiV29yZEFycmF5Iiwid29yZHMiLCJzaWdCeXRlcyIsImxlbmd0aCIsImVuY29kZXIiLCJIZXgiLCJzdHJpbmdpZnkiLCJjb25jYXQiLCJ3b3JkQXJyYXkiLCJ0aGlzV29yZHMiLCJ0aGF0V29yZHMiLCJ0aGlzU2lnQnl0ZXMiLCJ0aGF0U2lnQnl0ZXMiLCJjbGFtcCIsImkiLCJ0aGF0Qnl0ZSIsImNlaWwiLCJzbGljZSIsInJhbmRvbSIsIm5CeXRlcyIsInJjYWNoZSIsInIiLCJtX3ciLCJtX3oiLCJtYXNrIiwicmVzdWx0IiwiX3IiLCJwdXNoIiwiQ19lbmMiLCJlbmMiLCJoZXhDaGFycyIsImJpdGUiLCJqb2luIiwicGFyc2UiLCJoZXhTdHIiLCJoZXhTdHJMZW5ndGgiLCJwYXJzZUludCIsInN1YnN0ciIsIkxhdGluMSIsImxhdGluMUNoYXJzIiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwibGF0aW4xU3RyIiwibGF0aW4xU3RyTGVuZ3RoIiwiY2hhckNvZGVBdCIsIlV0ZjgiLCJkZWNvZGVVUklDb21wb25lbnQiLCJlc2NhcGUiLCJlIiwiRXJyb3IiLCJ1dGY4U3RyIiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJCdWZmZXJlZEJsb2NrQWxnb3JpdGhtIiwicmVzZXQiLCJfZGF0YSIsIl9uRGF0YUJ5dGVzIiwiX2FwcGVuZCIsImRhdGEiLCJfcHJvY2VzcyIsImRvRmx1c2giLCJkYXRhV29yZHMiLCJkYXRhU2lnQnl0ZXMiLCJibG9ja1NpemUiLCJibG9ja1NpemVCeXRlcyIsIm5CbG9ja3NSZWFkeSIsIm1heCIsIl9taW5CdWZmZXJTaXplIiwibldvcmRzUmVhZHkiLCJuQnl0ZXNSZWFkeSIsIm1pbiIsIm9mZnNldCIsIl9kb1Byb2Nlc3NCbG9jayIsInByb2Nlc3NlZFdvcmRzIiwic3BsaWNlIiwiQ19hbGdvIiwiSGFzaGVyIiwiY2ZnIiwiX2RvUmVzZXQiLCJ1cGRhdGUiLCJtZXNzYWdlVXBkYXRlIiwiZmluYWxpemUiLCJoYXNoIiwiX2RvRmluYWxpemUiLCJfY3JlYXRlSGVscGVyIiwiaGFzaGVyIiwibWVzc2FnZSIsIl9jcmVhdGVIbWFjSGVscGVyIiwia2V5IiwiSE1BQyIsImFsZ28iLCJDaXBoZXIiLCJCYXNlNjQiLCJFdnBLREYiLCJjcmVhdGVFbmNyeXB0b3IiLCJfRU5DX1hGT1JNX01PREUiLCJjcmVhdGVEZWNyeXB0b3IiLCJfREVDX1hGT1JNX01PREUiLCJ4Zm9ybU1vZGUiLCJfeGZvcm1Nb2RlIiwiX2tleSIsInByb2Nlc3MiLCJkYXRhVXBkYXRlIiwiZmluYWxQcm9jZXNzZWREYXRhIiwia2V5U2l6ZSIsIml2U2l6ZSIsInNlbGVjdENpcGhlclN0cmF0ZWd5IiwiUGFzc3dvcmRCYXNlZENpcGhlciIsIlNlcmlhbGl6YWJsZUNpcGhlciIsImNpcGhlciIsImVuY3J5cHQiLCJkZWNyeXB0IiwiY2lwaGVydGV4dCIsIkNfbW9kZSIsIlN0cmVhbUNpcGhlciIsImZpbmFsUHJvY2Vzc2VkQmxvY2tzIiwibW9kZSIsIkJsb2NrQ2lwaGVyTW9kZSIsIml2IiwiRW5jcnlwdG9yIiwiRGVjcnlwdG9yIiwiX2NpcGhlciIsIl9pdiIsIkNCQyIsInhvckJsb2NrIiwiYmxvY2siLCJfcHJldkJsb2NrIiwicHJvY2Vzc0Jsb2NrIiwiZW5jcnlwdEJsb2NrIiwidGhpc0Jsb2NrIiwiZGVjcnlwdEJsb2NrIiwiQ19wYWQiLCJwYWQiLCJQa2NzNyIsIm5QYWRkaW5nQnl0ZXMiLCJwYWRkaW5nV29yZCIsInBhZGRpbmdXb3JkcyIsInBhZGRpbmciLCJ1bnBhZCIsIkNpcGhlclBhcmFtcyIsIkJsb2NrQ2lwaGVyIiwibW9kZUNyZWF0b3IiLCJfbW9kZSIsImNpcGhlclBhcmFtcyIsImZvcm1hdHRlciIsIkNfZm9ybWF0IiwiZm9ybWF0IiwiT3BlblNTTEZvcm1hdHRlciIsIk9wZW5TU0wiLCJzYWx0Iiwib3BlblNTTFN0ciIsImNpcGhlcnRleHRXb3JkcyIsImVuY3J5cHRvciIsImNpcGhlckNmZyIsImFsZ29yaXRobSIsIl9wYXJzZSIsInBsYWludGV4dCIsIkNfa2RmIiwia2RmIiwiT3BlblNTTEtkZiIsImV4ZWN1dGUiLCJwYXNzd29yZCIsImNvbXB1dGUiLCJkZXJpdmVkUGFyYW1zIiwiQmlnTnVtYmVyIiwic2hhMyIsInV0ZjgiLCJ1bml0TWFwIiwibm9ldGhlciIsIndlaSIsImt3ZWkiLCJLd2VpIiwiYmFiYmFnZSIsImZlbXRvZXRoZXIiLCJtd2VpIiwiTXdlaSIsImxvdmVsYWNlIiwicGljb2V0aGVyIiwiZ3dlaSIsIkd3ZWkiLCJzaGFubm9uIiwibmFub2V0aGVyIiwibmFubyIsInN6YWJvIiwibWljcm9ldGhlciIsIm1pY3JvIiwiZmlubmV5IiwibWlsbGlldGhlciIsIm1pbGxpIiwiZXRoZXIiLCJrZXRoZXIiLCJncmFuZCIsIm1ldGhlciIsImdldGhlciIsInRldGhlciIsInBhZExlZnQiLCJzdHJpbmciLCJjaGFycyIsInNpZ24iLCJBcnJheSIsInBhZFJpZ2h0IiwidG9VdGY4IiwiaGV4Iiwic3RyIiwibCIsInN1YnN0cmluZyIsImNvZGUiLCJkZWNvZGUiLCJ0b0FzY2lpIiwiZnJvbVV0ZjgiLCJlbmNvZGUiLCJuIiwiZnJvbUFzY2lpIiwidHJhbnNmb3JtVG9GdWxsTmFtZSIsImpzb24iLCJuYW1lIiwiaW5kZXhPZiIsInR5cGVOYW1lIiwiaW5wdXRzIiwibWFwIiwidHlwZSIsImV4dHJhY3REaXNwbGF5TmFtZSIsImV4dHJhY3RUeXBlTmFtZSIsInJlcGxhY2UiLCJ0b0RlY2ltYWwiLCJ2YWx1ZSIsInRvQmlnTnVtYmVyIiwidG9OdW1iZXIiLCJmcm9tRGVjaW1hbCIsIm51bWJlciIsImxlc3NUaGFuIiwidG9IZXgiLCJ2YWwiLCJpc0Jvb2xlYW4iLCJpc0JpZ051bWJlciIsImlzT2JqZWN0IiwiSlNPTiIsImlzU3RyaW5nIiwiaXNGaW5pdGUiLCJnZXRWYWx1ZU9mVW5pdCIsInVuaXQiLCJ0b0xvd2VyQ2FzZSIsInVuaXRWYWx1ZSIsImZyb21XZWkiLCJyZXR1cm5WYWx1ZSIsImRpdmlkZWRCeSIsInRvV2VpIiwidGltZXMiLCJ0b1R3b3NDb21wbGVtZW50IiwiYmlnTnVtYmVyIiwicGx1cyIsImlzU3RyaWN0QWRkcmVzcyIsImFkZHJlc3MiLCJ0ZXN0IiwiaXNBZGRyZXNzIiwiaXNDaGVja3N1bUFkZHJlc3MiLCJhZGRyZXNzSGFzaCIsInRvVXBwZXJDYXNlIiwidG9DaGVja3N1bUFkZHJlc3MiLCJjaGVja3N1bUFkZHJlc3MiLCJ0b0FkZHJlc3MiLCJvYmplY3QiLCJpc0Z1bmN0aW9uIiwiaXNBcnJheSIsImlzSnNvbiIsInBhcnNlTG9vcCIsImJhc2U2NFN0ciIsImJhc2U2NFN0ckxlbmd0aCIsInJldmVyc2VNYXAiLCJiaXRzMSIsImJpdHMyIiwiX21hcCIsImJhc2U2NENoYXJzIiwiYnl0ZTEiLCJieXRlMiIsImJ5dGUzIiwidHJpcGxldCIsImoiLCJjaGFyQXQiLCJwYWRkaW5nQ2hhciIsIl9yZXZlcnNlTWFwIiwicGFkZGluZ0luZGV4IiwidW5kZWYiLCJNRDUiLCJpdGVyYXRpb25zIiwiZGVyaXZlZEtleSIsImRlcml2ZWRLZXlXb3JkcyIsIkZGIiwiYSIsImIiLCJkIiwieCIsInMiLCJ0IiwiR0ciLCJISCIsIklJIiwiVCIsImFicyIsInNpbiIsIl9oYXNoIiwiTSIsIm9mZnNldF9pIiwiTV9vZmZzZXRfaSIsIkgiLCJNX29mZnNldF8wIiwiTV9vZmZzZXRfMSIsIk1fb2Zmc2V0XzIiLCJNX29mZnNldF8zIiwiTV9vZmZzZXRfNCIsIk1fb2Zmc2V0XzUiLCJNX29mZnNldF82IiwiTV9vZmZzZXRfNyIsIk1fb2Zmc2V0XzgiLCJNX29mZnNldF85IiwiTV9vZmZzZXRfMTAiLCJNX29mZnNldF8xMSIsIk1fb2Zmc2V0XzEyIiwiTV9vZmZzZXRfMTMiLCJNX29mZnNldF8xNCIsIk1fb2Zmc2V0XzE1IiwibkJpdHNUb3RhbCIsIm5CaXRzTGVmdCIsIm5CaXRzVG90YWxIIiwiZmxvb3IiLCJuQml0c1RvdGFsTCIsIkhfaSIsIkhtYWNNRDUiLCJ1dGlscyIsIlNvbGlkaXR5UGFyYW0iLCJmb3JtYXRJbnB1dEludCIsImNvbmZpZyIsIkVUSF9CSUdOVU1CRVJfUk9VTkRJTkdfTU9ERSIsInJvdW5kIiwiZm9ybWF0SW5wdXRCeXRlcyIsImZvcm1hdElucHV0RHluYW1pY0J5dGVzIiwiZm9ybWF0SW5wdXRTdHJpbmciLCJmb3JtYXRJbnB1dEJvb2wiLCJmb3JtYXRJbnB1dFJlYWwiLCJwb3ciLCJzaWduZWRJc05lZ2F0aXZlIiwiZm9ybWF0T3V0cHV0SW50IiwicGFyYW0iLCJzdGF0aWNQYXJ0IiwibWludXMiLCJmb3JtYXRPdXRwdXRVSW50IiwiZm9ybWF0T3V0cHV0UmVhbCIsImZvcm1hdE91dHB1dFVSZWFsIiwiZm9ybWF0T3V0cHV0Qm9vbCIsImZvcm1hdE91dHB1dEJ5dGVzIiwiZm9ybWF0T3V0cHV0RHluYW1pY0J5dGVzIiwiZHluYW1pY1BhcnQiLCJmb3JtYXRPdXRwdXRTdHJpbmciLCJmb3JtYXRPdXRwdXRBZGRyZXNzIiwiZiIsIlNvbGlkaXR5VHlwZSIsIl9pbnB1dEZvcm1hdHRlciIsImlucHV0Rm9ybWF0dGVyIiwiX291dHB1dEZvcm1hdHRlciIsIm91dHB1dEZvcm1hdHRlciIsImlzVHlwZSIsInN0YXRpY1BhcnRMZW5ndGgiLCJpc0R5bmFtaWNBcnJheSIsIm5lc3RlZFR5cGVzIiwibWF0Y2giLCJpc1N0YXRpY0FycmF5Iiwic3RhdGljQXJyYXlMZW5ndGgiLCJuZXN0ZWROYW1lIiwiaXNEeW5hbWljVHlwZSIsInNlbGYiLCJmb3JFYWNoIiwidiIsImJ5dGVzIiwiYXJyYXlPZmZzZXQiLCJhcnJheVN0YXJ0IiwibmVzdGVkU3RhdGljUGFydExlbmd0aCIsInJvdW5kZWROZXN0ZWRTdGF0aWNQYXJ0TGVuZ3RoIiwiZHluYW1pY09mZnNldCIsInJvdW5kZWRMZW5ndGgiLCJJYmFuIiwib3V0cHV0QmlnTnVtYmVyRm9ybWF0dGVyIiwiaXNQcmVkZWZpbmVkQmxvY2tOdW1iZXIiLCJibG9ja051bWJlciIsImlucHV0RGVmYXVsdEJsb2NrTnVtYmVyRm9ybWF0dGVyIiwiZGVmYXVsdEJsb2NrIiwiaW5wdXRCbG9ja051bWJlckZvcm1hdHRlciIsImlucHV0Q2FsbEZvcm1hdHRlciIsIm9wdGlvbnMiLCJmcm9tIiwiZGVmYXVsdEFjY291bnQiLCJpbnB1dEFkZHJlc3NGb3JtYXR0ZXIiLCJ0byIsImZpbHRlciIsImlucHV0VHJhbnNhY3Rpb25Gb3JtYXR0ZXIiLCJvdXRwdXRUcmFuc2FjdGlvbkZvcm1hdHRlciIsInR4IiwidHJhbnNhY3Rpb25JbmRleCIsIm5vbmNlIiwiZ2FzIiwiZ2FzUHJpY2UiLCJvdXRwdXRUcmFuc2FjdGlvblJlY2VpcHRGb3JtYXR0ZXIiLCJyZWNlaXB0IiwiY3VtdWxhdGl2ZUdhc1VzZWQiLCJnYXNVc2VkIiwibG9ncyIsImxvZyIsIm91dHB1dExvZ0Zvcm1hdHRlciIsIm91dHB1dEJsb2NrRm9ybWF0dGVyIiwiZ2FzTGltaXQiLCJzaXplIiwidGltZXN0YW1wIiwiZGlmZmljdWx0eSIsInRvdGFsRGlmZmljdWx0eSIsInRyYW5zYWN0aW9ucyIsIml0ZW0iLCJsb2dJbmRleCIsImlucHV0UG9zdEZvcm1hdHRlciIsInBvc3QiLCJ0dGwiLCJ3b3JrVG9Qcm92ZSIsInByaW9yaXR5IiwidG9waWNzIiwidG9waWMiLCJvdXRwdXRQb3N0Rm9ybWF0dGVyIiwiZXhwaXJ5Iiwic2VudCIsIndvcmtQcm92ZWQiLCJpYmFuIiwiaXNWYWxpZCIsImlzRGlyZWN0Iiwib3V0cHV0U3luY2luZ0Zvcm1hdHRlciIsInN0YXJ0aW5nQmxvY2siLCJjdXJyZW50QmxvY2siLCJoaWdoZXN0QmxvY2siLCJrbm93blN0YXRlcyIsInB1bGxlZFN0YXRlcyIsIlgzMldvcmRBcnJheSIsIkNfeDY0IiwieDY0IiwiV29yZCIsImhpZ2giLCJsb3ciLCJ0b1gzMiIsIng2NFdvcmRzIiwieDY0V29yZHNMZW5ndGgiLCJ4MzJXb3JkcyIsIng2NFdvcmQiLCJ3b3Jkc0xlbmd0aCIsIl9oYXNoZXIiLCJoYXNoZXJCbG9ja1NpemUiLCJoYXNoZXJCbG9ja1NpemVCeXRlcyIsIm9LZXkiLCJfb0tleSIsImlLZXkiLCJfaUtleSIsIm9LZXlXb3JkcyIsImlLZXlXb3JkcyIsImlubmVySGFzaCIsImhtYWMiLCJXIiwiU0hBMSIsIkhtYWNTSEExIiwiZXJyb3JzIiwiTWV0aG9kIiwicGFyYW1zIiwicmVxdWVzdE1hbmFnZXIiLCJzZXRSZXF1ZXN0TWFuYWdlciIsInJtIiwiZ2V0Q2FsbCIsImFyZ3MiLCJleHRyYWN0Q2FsbGJhY2siLCJwb3AiLCJ2YWxpZGF0ZUFyZ3MiLCJJbnZhbGlkTnVtYmVyT2ZQYXJhbXMiLCJmb3JtYXRJbnB1dCIsImluZGV4IiwiZm9ybWF0T3V0cHV0IiwidG9QYXlsb2FkIiwiY2FsbGJhY2siLCJtZXRob2QiLCJhdHRhY2hUb09iamVjdCIsImZ1bmMiLCJidWlsZENhbGwiLCJzcGxpdCIsInNlbmQiLCJwYXlsb2FkIiwic2VuZEFzeW5jIiwiZXJyIiwicmVxdWVzdCIsImJpbmQiLCJnbG9iYWwiLCJhbm90aGVyIiwiY29uZmlnT2JqIiwibnVtIiwibGVuIiwiRVJST1JTIiwicmFpc2UiLCJpc1ZhbGlkSW50IiwiREVDSU1BTF9QTEFDRVMiLCJST1VORElOR19NT0RFIiwiUmVnRXhwIiwiQUxQSEFCRVQiLCJwYXJzZU51bWVyaWMiLCJ0b29NYW55RGlnaXRzIiwiY29udmVydEJhc2UiLCJpc051bWVyaWMiLCJzZWFyY2giLCJNQVhfRVhQIiwiTUlOX0VYUCIsIkxPR19CQVNFIiwiYmFzZU91dCIsImJhc2VJbiIsImsiLCJ4YyIsInkiLCJkcCIsIlBPV19QUkVDSVNJT04iLCJ0b0Jhc2VPdXQiLCJ0b0ZpeGVkUG9pbnQiLCJjb2VmZlRvU3RyaW5nIiwiZGl2IiwidW5zaGlmdCIsImNhbGxlciIsImMwIiwibmUiLCJyb3VuZGluZ01vZGUiLCJUT19FWFBfTkVHIiwidG9FeHBvbmVudGlhbCIsIm1heE9yTWluIiwiaW50VmFsaWRhdG9yV2l0aEVycm9ycyIsInRydW5jYXRlIiwibm9ybWFsaXNlIiwibXNnIiwiZXJyb3IiLCJzZCIsIm5pIiwicmQiLCJwb3dzMTAiLCJQT1dTX1RFTiIsIm91dCIsIm1hdGhjZWlsIiwibWF0aGZsb29yIiwiQkFTRSIsIlAiLCJPTkUiLCJUT19FWFBfUE9TIiwiQ1JZUFRPIiwiTU9EVUxPX01PREUiLCJGT1JNQVQiLCJkZWNpbWFsU2VwYXJhdG9yIiwiZ3JvdXBTZXBhcmF0b3IiLCJncm91cFNpemUiLCJzZWNvbmRhcnlHcm91cFNpemUiLCJmcmFjdGlvbkdyb3VwU2VwYXJhdG9yIiwiZnJhY3Rpb25Hcm91cFNpemUiLCJST1VORF9VUCIsIlJPVU5EX0RPV04iLCJST1VORF9DRUlMIiwiUk9VTkRfRkxPT1IiLCJST1VORF9IQUxGX1VQIiwiUk9VTkRfSEFMRl9ET1dOIiwiUk9VTkRfSEFMRl9FVkVOIiwiUk9VTkRfSEFMRl9DRUlMIiwiUk9VTkRfSEFMRl9GTE9PUiIsIkVVQ0xJRCIsIm8iLCJoYXMiLCJNQVgiLCJpbnRWYWxpZGF0b3JOb0Vycm9ycyIsIm5vdEJvb2wiLCJjcnlwdG8iLCJsdCIsImd0IiwicG93Ml81MyIsInJhbmRvbTUzYml0SW50IiwicmFuZCIsImdldFJhbmRvbVZhbHVlcyIsIlVpbnQzMkFycmF5IiwicmFuZG9tQnl0ZXMiLCJjb3B5Iiwic2hpZnQiLCJtdWx0aXBseSIsImJhc2UiLCJ0ZW1wIiwieGxvIiwieGhpIiwiY2FycnkiLCJrbG8iLCJTUVJUX0JBU0UiLCJraGkiLCJjb21wYXJlIiwiYUwiLCJiTCIsImNtcCIsInN1YnRyYWN0IiwibW9yZSIsInByb2QiLCJwcm9kTCIsInEiLCJxYyIsInJlbSIsInJlbUwiLCJyZW0wIiwieGkiLCJ4TCIsInljMCIsInlMIiwieXoiLCJ5YyIsIk5hTiIsImJpdEZsb29yIiwiYmFzZVByZWZpeCIsImRvdEFmdGVyIiwiZG90QmVmb3JlIiwiaXNJbmZpbml0eU9yTmFOIiwid2hpdGVzcGFjZU9yUGx1cyIsImlzTmFOIiwicDEiLCJwMiIsImFic29sdXRlVmFsdWUiLCJjb21wYXJlZFRvIiwiZGVjaW1hbFBsYWNlcyIsImRpdmlkZWRUb0ludGVnZXJCeSIsImRpdlRvSW50IiwiZXF1YWxzIiwiZXEiLCJncmVhdGVyVGhhbiIsImdyZWF0ZXJUaGFuT3JFcXVhbFRvIiwiZ3RlIiwiaXNJbnRlZ2VyIiwiaXNJbnQiLCJpc05lZ2F0aXZlIiwiaXNOZWciLCJpc1plcm8iLCJsZXNzVGhhbk9yRXF1YWxUbyIsImx0ZSIsInN1YiIsInhMVHkiLCJ4ZSIsInllIiwicmV2ZXJzZSIsIm1vZHVsbyIsIm1vZCIsIm5lZ2F0ZWQiLCJuZWciLCJhZGQiLCJwcmVjaXNpb24iLCJ6IiwiTUFYX1NBRkVfSU5URUdFUiIsInNxdWFyZVJvb3QiLCJzcXJ0IiwicmVwIiwiaGFsZiIsIm11bCIsInhjTCIsInljTCIsInlsbyIsInloaSIsInpjIiwic3FydEJhc2UiLCJ0b0RpZ2l0cyIsInRvRml4ZWQiLCJ0b0Zvcm1hdCIsImFyciIsImcxIiwiZzIiLCJpbnRQYXJ0IiwiZnJhY3Rpb25QYXJ0IiwiaW50RGlnaXRzIiwidG9GcmFjdGlvbiIsIm1kIiwiZDAiLCJkMiIsImV4cCIsIm4wIiwibjEiLCJkMSIsInRvUG93ZXIiLCJwYXJzZUZsb2F0IiwidG9QcmVjaXNpb24iLCJ0cnVuY2F0ZWQiLCJ0cnVuYyIsInZhbHVlT2YiLCJ0b0pTT04iLCJhcnJMIiwiZW5jb2RpbmciLCJvdXRwdXRMZW5ndGgiLCJJbnZhbGlkQ29ubmVjdGlvbiIsImhvc3QiLCJJbnZhbGlkUHJvdmlkZXIiLCJJbnZhbGlkUmVzcG9uc2UiLCJQcm9wZXJ0eSIsImdldHRlciIsInNldHRlciIsImFyZyIsInByb3RvIiwiZ2V0IiwiYnVpbGRHZXQiLCJlbnVtZXJhYmxlIiwibmFtZXMiLCJkZWZpbmVQcm9wZXJ0eSIsImFzeW5jR2V0dGVyTmFtZSIsImJ1aWxkQXN5bmNHZXQiLCJwcm9wZXJ0eSIsIksiLCJpc1ByaW1lIiwic3FydE4iLCJmYWN0b3IiLCJnZXRGcmFjdGlvbmFsQml0cyIsIm5QcmltZSIsIlNIQTI1NiIsImciLCJoIiwiZ2FtbWEweCIsImdhbW1hMCIsImdhbW1hMXgiLCJnYW1tYTEiLCJjaCIsIm1haiIsInNpZ21hMCIsInNpZ21hMSIsInQxIiwidDIiLCJIbWFjU0hBMjU2IiwiWDY0V29yZF9jcmVhdGUiLCJYNjRXb3JkIiwiWDY0V29yZEFycmF5IiwiU0hBNTEyIiwiSDAiLCJIMSIsIkgyIiwiSDMiLCJINCIsIkg1IiwiSDYiLCJINyIsIkgwaCIsIkgwbCIsIkgxaCIsIkgxbCIsIkgyaCIsIkgybCIsIkgzaCIsIkgzbCIsIkg0aCIsIkg0bCIsIkg1aCIsIkg1bCIsIkg2aCIsIkg2bCIsIkg3aCIsIkg3bCIsImFoIiwiYWwiLCJiaCIsImJsIiwiY2wiLCJkaCIsImRsIiwiZWgiLCJlbCIsImZoIiwiZmwiLCJnaCIsImdsIiwiaGgiLCJobCIsIldpIiwiV2loIiwiV2lsIiwiZ2FtbWEweGgiLCJnYW1tYTB4bCIsImdhbW1hMGgiLCJnYW1tYTBsIiwiZ2FtbWExeGgiLCJnYW1tYTF4bCIsImdhbW1hMWgiLCJnYW1tYTFsIiwiV2k3IiwiV2k3aCIsIldpN2wiLCJXaTE2IiwiV2kxNmgiLCJXaTE2bCIsImNoaCIsImNobCIsIm1hamgiLCJtYWpsIiwic2lnbWEwaCIsInNpZ21hMGwiLCJzaWdtYTFoIiwic2lnbWExbCIsIktpIiwiS2loIiwiS2lsIiwidDFsIiwidDFoIiwidDJsIiwidDJoIiwiSG1hY1NIQTUxMiIsIkVUSF9VTklUUyIsIkVUSF9QQURESU5HIiwiRVRIX1NJR05BVFVSRV9MRU5HVEgiLCJFVEhfUE9MTElOR19USU1FT1VUIiwiZm9ybWF0dGVycyIsInRvVG9waWMiLCJnZXRPcHRpb25zIiwiZnJvbUJsb2NrIiwidG9CbG9jayIsImdldExvZ3NBdFN0YXJ0IiwibWVzc2FnZXMiLCJwb2xsRmlsdGVyIiwib25NZXNzYWdlIiwiY2FsbGJhY2tzIiwic3RhcnRQb2xsaW5nIiwiaW1wbGVtZW50YXRpb24iLCJwb2xsIiwiZmlsdGVySWQiLCJzdG9wV2F0Y2hpbmciLCJGaWx0ZXIiLCJtZXRob2RzIiwiZ2V0TG9nc0NhbGxiYWNrcyIsInBvbGxGaWx0ZXJzIiwibmV3RmlsdGVyIiwiY2IiLCJ3YXRjaCIsInN0b3BQb2xsaW5nIiwidW5pbnN0YWxsRmlsdGVyIiwiZ2V0TG9ncyIsInJlcyIsImlzbzEzNjE2UHJlcGFyZSIsIkEiLCJaIiwibW9kOTcxMCIsInJlbWFpbmRlciIsIl9pYmFuIiwiZnJvbUFkZHJlc3MiLCJhc0JuIiwiYmFzZTM2IiwicGFkZGVkIiwiZnJvbUJiYW4iLCJiYmFuIiwiY291bnRyeUNvZGUiLCJjaGVja0RpZ2l0IiwiY3JlYXRlSW5kaXJlY3QiLCJpbnN0aXR1dGlvbiIsImlkZW50aWZpZXIiLCJpc0luZGlyZWN0IiwiY2hlY2tzdW0iLCJjbGllbnQiLCJldGgiLCJuZXdGaWx0ZXJDYWxsIiwic2hoIiwiUkhPX09GRlNFVFMiLCJQSV9JTkRFWEVTIiwiUk9VTkRfQ09OU1RBTlRTIiwibmV3WCIsIm5ld1kiLCJMRlNSIiwicm91bmRDb25zdGFudE1zdyIsInJvdW5kQ29uc3RhbnRMc3ciLCJiaXRQb3NpdGlvbiIsIlNIQTMiLCJzdGF0ZSIsIl9zdGF0ZSIsIm5CbG9ja1NpemVMYW5lcyIsIk0yaSIsIk0yaTEiLCJsYW5lIiwidE1zdyIsInRMc3ciLCJUeCIsIlR4NCIsIlR4MSIsIlR4MU1zdyIsIlR4MUxzdyIsImxhbmVJbmRleCIsImxhbmVNc3ciLCJsYW5lTHN3IiwicmhvT2Zmc2V0IiwiVFBpTGFuZSIsIlQwIiwic3RhdGUwIiwiVExhbmUiLCJUeDFMYW5lIiwiVHgyTGFuZSIsInJvdW5kQ29uc3RhbnQiLCJibG9ja1NpemVCaXRzIiwib3V0cHV0TGVuZ3RoQnl0ZXMiLCJvdXRwdXRMZW5ndGhMYW5lcyIsImhhc2hXb3JkcyIsIkhtYWNTSEEzIiwiU29saWRpdHlUeXBlQWRkcmVzcyIsIlNvbGlkaXR5VHlwZUJvb2wiLCJTb2xpZGl0eVR5cGVJbnQiLCJTb2xpZGl0eVR5cGVVSW50IiwiU29saWRpdHlUeXBlRHluYW1pY0J5dGVzIiwiU29saWRpdHlUeXBlU3RyaW5nIiwiU29saWRpdHlUeXBlUmVhbCIsIlNvbGlkaXR5VHlwZVVSZWFsIiwiU29saWRpdHlUeXBlQnl0ZXMiLCJTb2xpZGl0eUNvZGVyIiwidHlwZXMiLCJfdHlwZXMiLCJfcmVxdWlyZVR5cGUiLCJzb2xpZGl0eVR5cGUiLCJlbmNvZGVQYXJhbSIsImVuY29kZVBhcmFtcyIsInNvbGlkaXR5VHlwZXMiLCJnZXRTb2xpZGl0eVR5cGVzIiwiZW5jb2RlZHMiLCJyZWR1Y2UiLCJhY2MiLCJyb3VuZGVkU3RhdGljUGFydExlbmd0aCIsImVuY29kZU11bHRpV2l0aE9mZnNldCIsImlzRHluYW1pYyIsImVuY29kZVdpdGhPZmZzZXQiLCJlbmNvZGVkIiwicHJldmlvdXNMZW5ndGgiLCJhZGRpdGlvbmFsT2Zmc2V0IiwiZGVjb2RlUGFyYW0iLCJkZWNvZGVQYXJhbXMiLCJvZmZzZXRzIiwiZ2V0T2Zmc2V0cyIsImxlbmd0aHMiLCJjb2RlciIsIlNCT1giLCJJTlZfU0JPWCIsIlNVQl9NSVhfMCIsIlNVQl9NSVhfMSIsIlNVQl9NSVhfMiIsIlNVQl9NSVhfMyIsIklOVl9TVUJfTUlYXzAiLCJJTlZfU1VCX01JWF8xIiwiSU5WX1NVQl9NSVhfMiIsIklOVl9TVUJfTUlYXzMiLCJzeCIsIngyIiwieDQiLCJ4OCIsIlJDT04iLCJBRVMiLCJfblJvdW5kcyIsIl9rZXlQcmlvclJlc2V0Iiwia2V5V29yZHMiLCJuUm91bmRzIiwia3NSb3dzIiwia2V5U2NoZWR1bGUiLCJfa2V5U2NoZWR1bGUiLCJrc1JvdyIsImludktleVNjaGVkdWxlIiwiX2ludktleVNjaGVkdWxlIiwiaW52S3NSb3ciLCJfZG9DcnlwdEJsb2NrIiwiczAiLCJzMSIsInMyIiwiczMiLCJ0MCIsInQzIiwic3dhcEVuZGlhbiIsIndvcmQiLCJVdGYxNiIsIlV0ZjE2QkUiLCJ1dGYxNkNoYXJzIiwiY29kZVBvaW50IiwidXRmMTZTdHIiLCJ1dGYxNlN0ckxlbmd0aCIsIlV0ZjE2TEUiLCJpbnB1dCIsIkFycmF5QnVmZmVyIiwic3VwZXJJbml0Iiwic3ViSW5pdCIsInR5cGVkQXJyYXkiLCJVaW50OEFycmF5IiwiSW50OEFycmF5IiwiVWludDhDbGFtcGVkQXJyYXkiLCJJbnQxNkFycmF5IiwiVWludDE2QXJyYXkiLCJJbnQzMkFycmF5IiwiRmxvYXQzMkFycmF5IiwiRmxvYXQ2NEFycmF5IiwiYnVmZmVyIiwiYnl0ZU9mZnNldCIsImJ5dGVMZW5ndGgiLCJ0eXBlZEFycmF5Qnl0ZUxlbmd0aCIsIkNGQiIsImdlbmVyYXRlS2V5c3RyZWFtQW5kRW5jcnlwdCIsImtleXN0cmVhbSIsIkNUUkdsYWRtYW4iLCJpbmNXb3JkIiwiYjEiLCJiMiIsImIzIiwiaW5jQ291bnRlciIsImNvdW50ZXIiLCJfY291bnRlciIsIkNUUiIsIkVDQiIsIk9GQiIsIl9rZXlzdHJlYW0iLCJBbnNpWDkyMyIsImxhc3RCeXRlUG9zIiwiQW5zaXg5MjMiLCJJc28xMDEyNiIsIklzbzk3OTcxIiwiWmVyb1BhZGRpbmciLCJOb1BhZGRpbmciLCJQQktERjIiLCJibG9ja0luZGV4IiwiYmxvY2tJbmRleFdvcmRzIiwiYmxvY2tXb3JkcyIsImJsb2NrV29yZHNMZW5ndGgiLCJpbnRlcm1lZGlhdGUiLCJpbnRlcm1lZGlhdGVXb3JkcyIsIm5leHRTdGF0ZSIsIlgiLCJfWCIsIl9DIiwiQ18iLCJfYiIsImd4IiwiZ2EiLCJnYiIsIkciLCJTIiwiUmFiYml0TGVnYWN5IiwiSVYiLCJJVl8wIiwiSVZfMSIsImkwIiwiaTIiLCJpMSIsImkzIiwiUmFiYml0IiwiZ2VuZXJhdGVLZXlzdHJlYW1Xb3JkIiwiX1MiLCJfaSIsIl9qIiwia2V5c3RyZWFtV29yZCIsIlJDNCIsImtleVNpZ0J5dGVzIiwia2V5Qnl0ZUluZGV4Iiwia2V5Qnl0ZSIsIlJDNERyb3AiLCJkcm9wIiwiZjEiLCJmMiIsImYzIiwiZjQiLCJmNSIsInJvdGwiLCJfemwiLCJfenIiLCJfc2wiLCJfc3IiLCJfaGwiLCJfaHIiLCJSSVBFTUQxNjAiLCJhciIsImJyIiwiY3IiLCJkciIsImVyIiwiaHIiLCJ6bCIsInpyIiwic2wiLCJzciIsIkhtYWNSSVBFTUQxNjAiLCJTSEEyMjQiLCJIbWFjU0hBMjI0IiwiU0hBMzg0IiwiSG1hY1NIQTM4NCIsImV4Y2hhbmdlTFIiLCJfbEJsb2NrIiwiX3JCbG9jayIsImV4Y2hhbmdlUkwiLCJQQzEiLCJQQzIiLCJCSVRfU0hJRlRTIiwiU0JPWF9QIiwiMCIsIjI2ODQzNTQ1NiIsIjUzNjg3MDkxMiIsIjgwNTMwNjM2OCIsIjEwNzM3NDE4MjQiLCIxMzQyMTc3MjgwIiwiMTYxMDYxMjczNiIsIjE4NzkwNDgxOTIiLCIyMTQ3NDgzNjQ4IiwiMjQxNTkxOTEwNCIsIjI2ODQzNTQ1NjAiLCIyOTUyNzkwMDE2IiwiMzIyMTIyNTQ3MiIsIjM0ODk2NjA5MjgiLCIzNzU4MDk2Mzg0IiwiNDAyNjUzMTg0MCIsIjEzNDIxNzcyOCIsIjQwMjY1MzE4NCIsIjY3MTA4ODY0MCIsIjkzOTUyNDA5NiIsIjEyMDc5NTk1NTIiLCIxNDc2Mzk1MDA4IiwiMTc0NDgzMDQ2NCIsIjIwMTMyNjU5MjAiLCIyMjgxNzAxMzc2IiwiMjU1MDEzNjgzMiIsIjI4MTg1NzIyODgiLCIzMDg3MDA3NzQ0IiwiMzM1NTQ0MzIwMCIsIjM2MjM4Nzg2NTYiLCIzODkyMzE0MTEyIiwiNDE2MDc0OTU2OCIsIjEiLCIyNjg0MzU0NTciLCI1MzY4NzA5MTMiLCI4MDUzMDYzNjkiLCIxMDczNzQxODI1IiwiMTM0MjE3NzI4MSIsIjE2MTA2MTI3MzciLCIxODc5MDQ4MTkzIiwiMjE0NzQ4MzY0OSIsIjI0MTU5MTkxMDUiLCIyNjg0MzU0NTYxIiwiMjk1Mjc5MDAxNyIsIjMyMjEyMjU0NzMiLCIzNDg5NjYwOTI5IiwiMzc1ODA5NjM4NSIsIjQwMjY1MzE4NDEiLCIxMzQyMTc3MjkiLCI0MDI2NTMxODUiLCI2NzEwODg2NDEiLCI5Mzk1MjQwOTciLCIxMjA3OTU5NTUzIiwiMTQ3NjM5NTAwOSIsIjE3NDQ4MzA0NjUiLCIyMDEzMjY1OTIxIiwiMjI4MTcwMTM3NyIsIjI1NTAxMzY4MzMiLCIyODE4NTcyMjg5IiwiMzA4NzAwNzc0NSIsIjMzNTU0NDMyMDEiLCIzNjIzODc4NjU3IiwiMzg5MjMxNDExMyIsIjQxNjA3NDk1NjkiLCIxNjc3NzIxNiIsIjMzNTU0NDMyIiwiNTAzMzE2NDgiLCI2NzEwODg2NCIsIjgzODg2MDgwIiwiMTAwNjYzMjk2IiwiMTE3NDQwNTEyIiwiMTUwOTk0OTQ0IiwiMTY3NzcyMTYwIiwiMTg0NTQ5Mzc2IiwiMjAxMzI2NTkyIiwiMjE4MTAzODA4IiwiMjM0ODgxMDI0IiwiMjUxNjU4MjQwIiwiODM4ODYwOCIsIjI1MTY1ODI0IiwiNDE5NDMwNDAiLCI1ODcyMDI1NiIsIjc1NDk3NDcyIiwiOTIyNzQ2ODgiLCIxMDkwNTE5MDQiLCIxMjU4MjkxMjAiLCIxNDI2MDYzMzYiLCIxNTkzODM1NTIiLCIxNzYxNjA3NjgiLCIxOTI5Mzc5ODQiLCIyMDk3MTUyMDAiLCIyMjY0OTI0MTYiLCIyNDMyNjk2MzIiLCIyNjAwNDY4NDgiLCIyODUyMTI2NzIiLCIzMDE5ODk4ODgiLCIzMTg3NjcxMDQiLCIzMzU1NDQzMjAiLCIzNTIzMjE1MzYiLCIzNjkwOTg3NTIiLCIzODU4NzU5NjgiLCI0MTk0MzA0MDAiLCI0MzYyMDc2MTYiLCI0NTI5ODQ4MzIiLCI0Njk3NjIwNDgiLCI0ODY1MzkyNjQiLCI1MDMzMTY0ODAiLCI1MjAwOTM2OTYiLCIyNzY4MjQwNjQiLCIyOTM2MDEyODAiLCIzMTAzNzg0OTYiLCIzMjcxNTU3MTIiLCIzNDM5MzI5MjgiLCIzNjA3MTAxNDQiLCIzNzc0ODczNjAiLCIzOTQyNjQ1NzYiLCI0MTEwNDE3OTIiLCI0Mjc4MTkwMDgiLCI0NDQ1OTYyMjQiLCI0NjEzNzM0NDAiLCI0NzgxNTA2NTYiLCI0OTQ5Mjc4NzIiLCI1MTE3MDUwODgiLCI1Mjg0ODIzMDQiLCIxMDQ4NTc2IiwiMjA5NzE1MiIsIjMxNDU3MjgiLCI0MTk0MzA0IiwiNTI0Mjg4MCIsIjYyOTE0NTYiLCI3MzQwMDMyIiwiOTQzNzE4NCIsIjEwNDg1NzYwIiwiMTE1MzQzMzYiLCIxMjU4MjkxMiIsIjEzNjMxNDg4IiwiMTQ2ODAwNjQiLCIxNTcyODY0MCIsIjUyNDI4OCIsIjE1NzI4NjQiLCIyNjIxNDQwIiwiMzY3MDAxNiIsIjQ3MTg1OTIiLCI1NzY3MTY4IiwiNjgxNTc0NCIsIjc4NjQzMjAiLCI4OTEyODk2IiwiOTk2MTQ3MiIsIjExMDEwMDQ4IiwiMTIwNTg2MjQiLCIxMzEwNzIwMCIsIjE0MTU1Nzc2IiwiMTUyMDQzNTIiLCIxNjI1MjkyOCIsIjE3ODI1NzkyIiwiMTg4NzQzNjgiLCIxOTkyMjk0NCIsIjIwOTcxNTIwIiwiMjIwMjAwOTYiLCIyMzA2ODY3MiIsIjI0MTE3MjQ4IiwiMjYyMTQ0MDAiLCIyNzI2Mjk3NiIsIjI4MzExNTUyIiwiMjkzNjAxMjgiLCIzMDQwODcwNCIsIjMxNDU3MjgwIiwiMzI1MDU4NTYiLCIxNzMwMTUwNCIsIjE4MzUwMDgwIiwiMTkzOTg2NTYiLCIyMDQ0NzIzMiIsIjIxNDk1ODA4IiwiMjI1NDQzODQiLCIyMzU5Mjk2MCIsIjI0NjQxNTM2IiwiMjU2OTAxMTIiLCIyNjczODY4OCIsIjI3Nzg3MjY0IiwiMjg4MzU4NDAiLCIyOTg4NDQxNiIsIjMwOTMyOTkyIiwiMzE5ODE1NjgiLCIzMzAzMDE0NCIsIjY1NTM2IiwiMTMxMDcyIiwiMTk2NjA4IiwiMjYyMTQ0IiwiMzI3NjgwIiwiMzkzMjE2IiwiNDU4NzUyIiwiNTg5ODI0IiwiNjU1MzYwIiwiNzIwODk2IiwiNzg2NDMyIiwiODUxOTY4IiwiOTE3NTA0IiwiOTgzMDQwIiwiMzI3NjgiLCI5ODMwNCIsIjE2Mzg0MCIsIjIyOTM3NiIsIjI5NDkxMiIsIjM2MDQ0OCIsIjQyNTk4NCIsIjQ5MTUyMCIsIjU1NzA1NiIsIjYyMjU5MiIsIjY4ODEyOCIsIjc1MzY2NCIsIjgxOTIwMCIsIjg4NDczNiIsIjk1MDI3MiIsIjEwMTU4MDgiLCIxMTE0MTEyIiwiMTE3OTY0OCIsIjEyNDUxODQiLCIxMzEwNzIwIiwiMTM3NjI1NiIsIjE0NDE3OTIiLCIxNTA3MzI4IiwiMTYzODQwMCIsIjE3MDM5MzYiLCIxNzY5NDcyIiwiMTgzNTAwOCIsIjE5MDA1NDQiLCIxOTY2MDgwIiwiMjAzMTYxNiIsIjEwODEzNDQiLCIxMTQ2ODgwIiwiMTIxMjQxNiIsIjEyNzc5NTIiLCIxMzQzNDg4IiwiMTQwOTAyNCIsIjE0NzQ1NjAiLCIxNTQwMDk2IiwiMTYwNTYzMiIsIjE2NzExNjgiLCIxNzM2NzA0IiwiMTgwMjI0MCIsIjE4Njc3NzYiLCIxOTMzMzEyIiwiMTk5ODg0OCIsIjIwNjQzODQiLCI0MDk2IiwiODE5MiIsIjEyMjg4IiwiMTYzODQiLCIyMDQ4MCIsIjI0NTc2IiwiMjg2NzIiLCIzNjg2NCIsIjQwOTYwIiwiNDUwNTYiLCI0OTE1MiIsIjUzMjQ4IiwiNTczNDQiLCI2MTQ0MCIsIjIwNDgiLCI2MTQ0IiwiMTAyNDAiLCIxNDMzNiIsIjE4NDMyIiwiMjI1MjgiLCIyNjYyNCIsIjMwNzIwIiwiMzQ4MTYiLCIzODkxMiIsIjQzMDA4IiwiNDcxMDQiLCI1MTIwMCIsIjU1Mjk2IiwiNTkzOTIiLCI2MzQ4OCIsIjY5NjMyIiwiNzM3MjgiLCI3NzgyNCIsIjgxOTIwIiwiODYwMTYiLCI5MDExMiIsIjk0MjA4IiwiMTAyNDAwIiwiMTA2NDk2IiwiMTEwNTkyIiwiMTE0Njg4IiwiMTE4Nzg0IiwiMTIyODgwIiwiMTI2OTc2IiwiNjc1ODQiLCI3MTY4MCIsIjc1Nzc2IiwiNzk4NzIiLCI4Mzk2OCIsIjg4MDY0IiwiOTIxNjAiLCI5NjI1NiIsIjEwMDM1MiIsIjEwNDQ0OCIsIjEwODU0NCIsIjExMjY0MCIsIjExNjczNiIsIjEyMDgzMiIsIjEyNDkyOCIsIjEyOTAyNCIsIjI1NiIsIjUxMiIsIjc2OCIsIjEwMjQiLCIxMjgwIiwiMTUzNiIsIjE3OTIiLCIyMzA0IiwiMjU2MCIsIjI4MTYiLCIzMDcyIiwiMzMyOCIsIjM1ODQiLCIzODQwIiwiMTI4IiwiMzg0IiwiNjQwIiwiODk2IiwiMTE1MiIsIjE0MDgiLCIxNjY0IiwiMTkyMCIsIjIxNzYiLCIyNDMyIiwiMjY4OCIsIjI5NDQiLCIzMjAwIiwiMzQ1NiIsIjM3MTIiLCIzOTY4IiwiNDM1MiIsIjQ2MDgiLCI0ODY0IiwiNTEyMCIsIjUzNzYiLCI1NjMyIiwiNTg4OCIsIjY0MDAiLCI2NjU2IiwiNjkxMiIsIjcxNjgiLCI3NDI0IiwiNzY4MCIsIjc5MzYiLCI0MjI0IiwiNDQ4MCIsIjQ3MzYiLCI0OTkyIiwiNTI0OCIsIjU1MDQiLCI1NzYwIiwiNjAxNiIsIjYyNzIiLCI2NTI4IiwiNjc4NCIsIjcwNDAiLCI3Mjk2IiwiNzU1MiIsIjc4MDgiLCI4MDY0IiwiMTYiLCIzMiIsIjQ4IiwiNjQiLCI4MCIsIjk2IiwiMTEyIiwiMTQ0IiwiMTYwIiwiMTc2IiwiMTkyIiwiMjA4IiwiMjI0IiwiMjQwIiwiOCIsIjI0IiwiNDAiLCI1NiIsIjcyIiwiODgiLCIxMDQiLCIxMjAiLCIxMzYiLCIxNTIiLCIxNjgiLCIxODQiLCIyMDAiLCIyMTYiLCIyMzIiLCIyNDgiLCIyNzIiLCIyODgiLCIzMDQiLCIzMjAiLCIzMzYiLCIzNTIiLCIzNjgiLCI0MDAiLCI0MTYiLCI0MzIiLCI0NDgiLCI0NjQiLCI0ODAiLCI0OTYiLCIyNjQiLCIyODAiLCIyOTYiLCIzMTIiLCIzMjgiLCIzNDQiLCIzNjAiLCIzNzYiLCIzOTIiLCI0MDgiLCI0MjQiLCI0NDAiLCI0NTYiLCI0NzIiLCI0ODgiLCI1MDQiLCIyIiwiMyIsIjQiLCI1IiwiNiIsIjciLCI5IiwiMTAiLCIxMSIsIjEyIiwiMTMiLCIxNCIsIjE1IiwiMjE0NzQ4MzY1MCIsIjIxNDc0ODM2NTEiLCIyMTQ3NDgzNjUyIiwiMjE0NzQ4MzY1MyIsIjIxNDc0ODM2NTQiLCIyMTQ3NDgzNjU1IiwiMjE0NzQ4MzY1NiIsIjIxNDc0ODM2NTciLCIyMTQ3NDgzNjU4IiwiMjE0NzQ4MzY1OSIsIjIxNDc0ODM2NjAiLCIyMTQ3NDgzNjYxIiwiMjE0NzQ4MzY2MiIsIjIxNDc0ODM2NjMiLCIxNyIsIjE4IiwiMTkiLCIyMCIsIjIxIiwiMjIiLCIyMyIsIjI1IiwiMjYiLCIyNyIsIjI4IiwiMjkiLCIzMCIsIjMxIiwiMjE0NzQ4MzY2NCIsIjIxNDc0ODM2NjUiLCIyMTQ3NDgzNjY2IiwiMjE0NzQ4MzY2NyIsIjIxNDc0ODM2NjgiLCIyMTQ3NDgzNjY5IiwiMjE0NzQ4MzY3MCIsIjIxNDc0ODM2NzEiLCIyMTQ3NDgzNjcyIiwiMjE0NzQ4MzY3MyIsIjIxNDc0ODM2NzQiLCIyMTQ3NDgzNjc1IiwiMjE0NzQ4MzY3NiIsIjIxNDc0ODM2NzciLCIyMTQ3NDgzNjc4IiwiMjE0NzQ4MzY3OSIsIlNCT1hfTUFTSyIsIkRFUyIsImtleUJpdHMiLCJrZXlCaXRQb3MiLCJzdWJLZXlzIiwiX3N1YktleXMiLCJuU3ViS2V5Iiwic3ViS2V5IiwiYml0U2hpZnQiLCJpbnZTdWJLZXlzIiwiX2ludlN1YktleXMiLCJsQmxvY2siLCJyQmxvY2siLCJUcmlwbGVERVMiLCJfZGVzMSIsIl9kZXMyIiwiX2RlczMiLCJkeW5hbWljUGFydExlbmd0aCIsIndpdGhPZmZzZXQiLCJjb21iaW5lIiwib2Zmc2V0QXNCeXRlcyIsImVuY29kZUxpc3QiLCJ0b3RhbE9mZnNldCIsIm9mZnNldFBhcmFtcyIsIndhdGNoZXMiLCJTb2xpZGl0eUV2ZW50IiwiX3JlcXVlc3RNYW5hZ2VyIiwiX3BhcmFtcyIsIl9uYW1lIiwiX2FkZHJlc3MiLCJfYW5vbnltb3VzIiwiYW5vbnltb3VzIiwiaW5kZXhlZCIsImRpc3BsYXlOYW1lIiwic2lnbmF0dXJlIiwiaW5kZXhlZFRvcGljcyIsImFyZ1RvcGljcyIsImluZGV4ZWREYXRhIiwiaW5kZXhlZFBhcmFtcyIsIm5vdEluZGV4ZWREYXRhIiwibm90SW5kZXhlZFBhcmFtcyIsImV2ZW50IiwiY3VycmVudCIsImF0dGFjaFRvQ29udHJhY3QiLCJjb250cmFjdCIsIkpzb25ycGMiLCJtZXNzYWdlSWQiLCJjb25zb2xlIiwianNvbnJwYyIsImlzVmFsaWRSZXNwb25zZSIsInJlc3BvbnNlIiwidmFsaWRhdGVTaW5nbGVNZXNzYWdlIiwiZXZlcnkiLCJ0b0JhdGNoUGF5bG9hZCIsIl9fd2VicGFja19hbWRfb3B0aW9uc19fIiwiY29uc3RhbnQiLCJvdXRwdXRzIiwidmVyc2lvbiIsIl90b0FycmF5IiwiaXNVbmRlZiIsInNxdWJhIiwicGF0aCIsIl9wYXRoIiwiaGVhZCIsInRhaWwiLCJ1Y3MyZGVjb2RlIiwiZXh0cmEiLCJvdXRwdXQiLCJ1Y3MyZW5jb2RlIiwiYXJyYXkiLCJzdHJpbmdGcm9tQ2hhckNvZGUiLCJjaGVja1NjYWxhclZhbHVlIiwiY3JlYXRlQnl0ZSIsImVuY29kZUNvZGVQb2ludCIsInN5bWJvbCIsInV0ZjhlbmNvZGUiLCJjb2RlUG9pbnRzIiwiYnl0ZVN0cmluZyIsInJlYWRDb250aW51YXRpb25CeXRlIiwiYnl0ZUluZGV4IiwiYnl0ZUNvdW50IiwiY29udGludWF0aW9uQnl0ZSIsImJ5dGVBcnJheSIsImRlY29kZVN5bWJvbCIsImJ5dGU0IiwidXRmOGRlY29kZSIsInRtcCIsImZyZWVFeHBvcnRzIiwiZnJlZU1vZHVsZSIsImZyZWVHbG9iYWwiLCJ3aW5kb3ciLCJub2RlVHlwZSIsIldlYjMiLCJtYXRjaGVzIiwiWE1MSHR0cFJlcXVlc3QiLCJwcm92aWRlciIsIlJlcXVlc3RNYW5hZ2VyIiwiY3VycmVudFByb3ZpZGVyIiwiRXRoIiwiZGIiLCJEQiIsIlNoaCIsIm5ldCIsIk5ldCIsInBlcnNvbmFsIiwiUGVyc29uYWwiLCJzZXR0aW5ncyIsIlNldHRpbmdzIiwiYXBpIiwicHJvdmlkZXJzIiwiSHR0cFByb3ZpZGVyIiwiSXBjUHJvdmlkZXIiLCJfZXh0ZW5kIiwiQmF0Y2giLCJzZXRQcm92aWRlciIsImtlZXBJc1N5bmNpbmciLCJpc0lCQU4iLCJmcm9tSUNBUCIsImljYXAiLCJpc0Nvbm5lY3RlZCIsImNyZWF0ZUJhdGNoIiwiQWxsU29saWRpdHlFdmVudHMiLCJfanNvbiIsImV2ZW50VG9waWMiLCJ3YXJuIiwiYWxsRXZlbnRzIiwid2ViMyIsInJlcXVlc3RzIiwic2VuZEJhdGNoIiwicmVzdWx0cyIsIlNvbGlkaXR5RnVuY3Rpb24iLCJBbGxFdmVudHMiLCJlbmNvZGVDb25zdHJ1Y3RvclBhcmFtcyIsImFiaSIsImFkZEZ1bmN0aW9uc1RvQ29udHJhY3QiLCJfZXRoIiwiYWRkRXZlbnRzVG9Db250cmFjdCIsImV2ZW50cyIsIkFsbCIsImNoZWNrRm9yQ29udHJhY3RBZGRyZXNzIiwiY291bnQiLCJjYWxsYmFja0ZpcmVkIiwiZ2V0VHJhbnNhY3Rpb25SZWNlaXB0IiwidHJhbnNhY3Rpb25IYXNoIiwiZ2V0Q29kZSIsImNvbnRyYWN0QWRkcmVzcyIsIkNvbnRyYWN0RmFjdG9yeSIsIm5ldyIsIkNvbnRyYWN0IiwibGFzdCIsInNlbmRUcmFuc2FjdGlvbiIsImdldERhdGEiLCJhdCIsImV4IiwiZXh0ZW5zaW9uIiwiZXh0ZW5kZWRPYmplY3QiLCJfaW5wdXRUeXBlcyIsIl9vdXRwdXRUeXBlcyIsIl9jb25zdGFudCIsImV4dHJhY3REZWZhdWx0QmxvY2siLCJ1bnBhY2tPdXRwdXQiLCJlc3RpbWF0ZUdhcyIsInRyYW5zYWN0aW9uIiwicHJlcGFyZVJlcXVlc3QiLCJhc3luYyIsIm9wZW4iLCJzZXRSZXF1ZXN0SGVhZGVyIiwicmVzcG9uc2VUZXh0Iiwib25yZWFkeXN0YXRlY2hhbmdlIiwicmVhZHlTdGF0ZSIsIl90aGlzIiwicmVzcG9uc2VDYWxsYmFja3MiLCJjb25uZWN0aW9uIiwiY29ubmVjdCIsIm9uIiwiX3RpbWVvdXQiLCJfcGFyc2VSZXNwb25zZSIsImxvYWQiLCJyZXR1cm5WYWx1ZXMiLCJkZWNodW5rZWREYXRhIiwibGFzdENodW5rIiwiY2xlYXJUaW1lb3V0IiwibGFzdENodW5rVGltZW91dCIsInNldFRpbWVvdXQiLCJfYWRkUmVzcG9uc2VDYWxsYmFjayIsIndyaXRhYmxlIiwid3JpdGVTeW5jIiwid3JpdGUiLCJwdXRTdHJpbmciLCJnZXRTdHJpbmciLCJwdXRIZXgiLCJnZXRIZXgiLCJzZW5kSUJBTlRyYW5zYWN0aW9uIiwidHJhbnNmZXIiLCJJc1N5bmNpbmciLCJuYW1lcmVnIiwiYmxvY2tDYWxsIiwidHJhbnNhY3Rpb25Gcm9tQmxvY2tDYWxsIiwidW5jbGVDYWxsIiwiZ2V0QmxvY2tUcmFuc2FjdGlvbkNvdW50Q2FsbCIsInVuY2xlQ291bnRDYWxsIiwic2V0IiwiZ2V0QmFsYW5jZSIsImdldFN0b3JhZ2VBdCIsImdldEJsb2NrIiwiZ2V0VW5jbGUiLCJnZXRDb21waWxlcnMiLCJnZXRCbG9ja1RyYW5zYWN0aW9uQ291bnQiLCJnZXRCbG9ja1VuY2xlQ291bnQiLCJnZXRUcmFuc2FjdGlvbiIsImdldFRyYW5zYWN0aW9uRnJvbUJsb2NrIiwiZ2V0VHJhbnNhY3Rpb25Db3VudCIsInNlbmRSYXdUcmFuc2FjdGlvbiIsImNvbXBpbGVTb2xpZGl0eSIsImNvbXBpbGVMTEwiLCJjb21waWxlU2VycGVudCIsInN1Ym1pdFdvcmsiLCJnZXRXb3JrIiwiZmlsIiwiaWNhcE5hbWVyZWciLCJpc1N5bmNpbmciLCJuZXdBY2NvdW50IiwidW5sb2NrQWNjb3VudCIsInVubG9ja0FjY291bnRBbmRTZW5kVHJhbnNhY3Rpb24iLCJsb2NrQWNjb3VudCIsIm5ld0lkZW50aXR5IiwiaGFzSWRlbnRpdHkiLCJuZXdHcm91cCIsImFkZFRvR3JvdXAiLCJnbG9iYWxSZWdpc3RyYXJBYmkiLCJpY2FwUmVnaXN0cmFyQWJpIiwiZ2xvYmFsTmFtZXJlZ0FkZHJlc3MiLCJpY2FwTmFtZXJlZ0FkZHJlc3MiLCJwb2xscyIsInRpbWVvdXQiLCJwb2xsSWQiLCJ1bmluc3RhbGwiLCJrZXlzIiwicG9sbHNEYXRhIiwicG9sbHNJZHMiLCJwb2xsc0lkTWFwIiwidmFsaWQiLCJwb2xsU3luY2luZyIsInN5bmMiLCJsYXN0U3luY1N0YXRlIiwiYWRkQ2FsbGJhY2siLCJleGNoYW5nZUFiaSIsInRyYW5zZmVyVG9BZGRyZXNzIiwiYWRkciIsImRlcG9zaXQiLCJ3ZWJwYWNrUG9seWZpbGwiLCJkZXByZWNhdGUiLCJwYXRocyIsImNoaWxkcmVuIiwiYWJpX2JpbiIsIlJTQ19BZGRyZXNzUmVzb2x2ZXIiLCJwYXlhYmxlIiwiUlNDX1Rva2VuIiwiUlNDX1NpbXBsZVNhbGUiLCJSU0NfSW5zdXJhbmNlIiwiUlNDX1Jpc2tNYW5hZ2VyIiwiY29udHJhY3RfaWRzIiwiY29udHJhY3RzIiwibmV0d29ya3MiLCJ0ZXN0cnBjIiwiZGVzYyIsIm93bmVyQWRkcmVzcyIsIkFkZHJlc3NSZXNvbHZlcl9hZGRyIiwiT0FSX0FkZHIiLCJtdWx0aXNpZyIsImh0dHBQcm92aWRlciIsInJvcHN0ZW4iLCJldGhlcnNjYW5fdXJsIiwiZXRoZXJzY2FuX3R4X3VybCIsIm9yYWNsaXplUXVlcnlBcGkiLCJxdWVyeUlkIiwibWFpbm5ldCIsImV0aGVyZXVtIiwid2ViM0Nvbm5lY3QiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImdldE5ldHdvcmsiLCJuZXR3b3JrIiwiYWNjb3VudHMiLCJ3ZWIzX0Nvbm5lY3RlZCIsImJhbGFuY2UiLCJhY2NvdW50IiwiaW5pdGlhbGl6ZSIsInRoZW4iLCJfcmVmIiwiX3JlZjIiLCJnZXRBbGxDb250cmFjdHMiLCJnZXRDb250cmFjdCIsImdldEFkZHJlc3MiLCJzZXJ2ZXJfY29udHJhY3RzIiwiZ2V0QmxvY2tOdW1iZXIiLCJnZXRQb2xpY2llcyIsImdldFBvbGljeUNvdW50IiwicG9saWN5Q291bnQiLCJwb2xpY2llcyIsInBvbGljeVByb21pc2UiLCJnZXRQb2xpY3lCeUluZGV4IiwiYWxsIiwidG9rZW5TYWxlIiwiYW1vdW50IiwibWFpbk5ldE1zZyIsInN1Y2Nlc3MiLCJtZXRhbWFza01zZyIsInJvdyIsIkRhdGUiLCJ0b1VUQ1N0cmluZyIsImFuZ3VsYXIiLCJzZXJ2aWNlIl0sIm1hcHBpbmdzIjoiQ0FBUyxTQUFVQSxHQ0luQixRQUFBQyxHQUFBQyxHQUdBLEdBQUFDLEVBQUFELEdBQ0EsTUFBQUMsR0FBQUQsR0FBQUUsT0FHQSxJQUFBQyxHQUFBRixFQUFBRCxJQUNBRSxXQUNBRSxHQUFBSixFQUNBSyxRQUFBLEVBVUEsT0FOQVAsR0FBQUUsR0FBQU0sS0FBQUgsRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUgsR0FHQUksRUFBQUUsUUFBQSxFQUdBRixFQUFBRCxRQXZCQSxHQUFBRCxLQXFDQSxPQVRBRixHQUFBUSxFQUFBVCxFQUdBQyxFQUFBUyxFQUFBUCxFQUdBRixFQUFBVSxFQUFBLEdBR0FWLEVBQUEsS0RNTSxTQUFTSSxFQUFRRCxFQUFTSCxHQUUvQkksRUFBT0QsUUFBVUgsRUFBb0IsS0FLaEMsU0FBU0ksRUFBUUQsRUFBU0gsR0FFL0IsR0FBSVcsR0FBZ0NDLEVBQThCQyxFQUU5REMsRUFBNEIsa0JBQVhDLFNB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QUssRUFBSSxFQUFHLEdBQzVELEVBQUksRUFBSSxFQUFJLEVBQUksRUFBRyxHQUFJLEdBQUssRUFBSSxFQUFHLEdBQUssRUFBRyxHQUFLLEVBQUksRUFBRyxHQUFJLEdBQzNELEdBQUksR0FBSSxHQUFLLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSSxFQUFJLEVBQUcsR0FBSSxHQUFLLEVBQUksRUFBSSxFQUFHLEtBQzVEbWpDLEVBQU05aEMsRUFBVXJCLFFBQ2YsR0FBSSxHQUFJLEdBQUksR0FBSyxFQUFJLEVBQUksRUFBSSxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUssRUFBSSxFQUFJLEVBQUksRUFDOUQsRUFBRyxFQUFLLEVBQUcsR0FBSSxHQUFLLEVBQUksRUFBRyxHQUFLLEVBQUcsR0FBSSxHQUFLLEVBQUcsR0FBSyxFQUFHLEdBQUksR0FDM0QsR0FBSSxHQUFLLEVBQUksRUFBRyxHQUFLLEVBQUcsR0FBSSxHQUFJLEdBQUssRUFBRyxHQUFLLEVBQUksRUFBRyxHQUFLLEVBQUksRUFDM0QsR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUssRUFBSSxFQUFJLEVBQUcsR0FBSyxFQUFJLEVBQUksRUFBSSxFQUFJLEVBQUcsR0FDOUQsRUFBRyxHQUFLLEVBQUcsR0FBSyxFQUFJLEVBQUcsR0FBSSxHQUFLLEVBQUcsR0FBSSxHQUFJLEdBQUksR0FBSyxFQUFJLEVBQUksSUFDNURvakMsRUFBTS9oQyxFQUFVckIsUUFDaEIsRUFBSSxFQUFJLEVBQUcsR0FBSSxHQUFJLEdBQUksR0FBSyxFQUFJLEVBQUksRUFBSSxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUssRUFDNUQsRUFBRyxHQUFJLEdBQUssRUFBRyxHQUFLLEVBQUksRUFBRyxHQUFLLEVBQUksRUFBRyxHQUFLLEVBQUksRUFBRyxHQUFJLEdBQUksR0FDM0QsRUFBSSxFQUFHLEdBQUksR0FBSyxFQUFJLEVBQUksRUFBRyxHQUFJLEdBQUksR0FBSyxFQUFHLEdBQUksR0FBSSxHQUFLLEVBQUksRUFDNUQsR0FBSyxFQUFJLEVBQUcsR0FBSSxHQUFJ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QyxVQUFZLE1BQ1pDLFVBQVksUUFDWkMsVUFBWSxFQUNaQyxXQUFZLElBQ1pDLFdBQVksUUFDWkMsV0FBWSxRQUNaQyxXQUFZLFFBQ1pDLFdBQVksSUFDWkMsV0FBWSxRQUNaQyxXQUFZLE1BQ1pDLFdBQVksUUFDWkMsV0FBWSxNQUNaQyxXQUFZLFFBQ1pDLFdBQVksRUFDWkMsV0FBWSxNQUNaQyxVQUFXLEVBQ1hDLFVBQVksUUFDWkMsVUFBWSxNQUNaQyxVQUFZLE1BQ1pDLFdBQVksUUFDWkMsV0FBWSxJQUNaQyxXQUFZLFFBQ1pDLFdBQVksRUFDWkMsV0FBWSxRQUNaQyxXQUFZLE1BQ1pDLFdBQVksUUFDWkMsV0FBWSxRQUNaQyxXQUFZLFFBQ1pDLFdBQVksTUFDWkMsV0FBWSxJQUNaQyxXQUFZLFFBQ1pDLEVBQUssTUFDTEMsVUFBWSxFQUNaQyxVQUFZLFFBQ1pDLFVBQVksUUFDWkMsV0FBWSxRQUNaQyxXQUFZLE1BQ1pDLFdBQVksSUFDWkMsV0FBWSxRQUNaQyxXQUFZLFFBQ1pDLFdBQVksUUFDWkMsV0FBWSxRQUNaQyxXQUFZLE1BQ1pDLFdBQVksSUFDWkMsV0FBWSxRQUNaQyxXQUFZLE1BQ1pDLFdBQVksRUFDWkMsVUFBVyxRQUNYQyxVQUFZLFFBQ1pDLFVBQVksUUFDWkMsVUFBWSxJQUNaQyxXQUFZLE1BQ1pDLFdBQVksUUFDWkMsV0FBWSxFQUNaQyxXQUFZLE1BQ1pDLFdBQVksTUFDWkMsV0FBWSxRQUNaQyxXQUFZLElBQ1pDLFdBQVksUUFDWkMsV0FBWSxRQUNaQyxXQUFZLEVBQ1pDLFdBQVksTUFDWkMsV0FBWSxVQUdaL0QsRUFBSyxXQUNMZ0UsU0FBVyxNQUNYQyxTQUFXLE9BQ1hDLFNBQVcsV0FDWEMsU0FBVyxXQUNYQyxTQUFXLFdBQ1hDLFVBQVcsV0FDWEMsVUFBVyxHQUNYdEQsVUFBVyxPQUNYdUQsVUFBVyxXQUNYQyxVQUFXLFdBQ1hDLFVBQVcsT0FDWEMsVUFBVyxPQUNYQyxVQUFXLEVBQ1hDLFVBQVcsTUFDWEMsVUFBVyxXQUNYQyxRQUFVLFdBQ1ZDLFNBQVcsT0FDWEMsU0FB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S0FBTyxRQUNQQyxLQUFPLFFBQ1BDLEtBQU8sVUFDUHBELEtBQU8sRUFDUHFELEtBQU8sVUFDUEMsS0FBTyxRQUNQQyxLQUFPLEVBQ1BDLEtBQU8sVUFDUEMsS0FBTyxRQUNQQyxLQUFPLEtBQ1BDLEtBQU8sVUFDUEMsSUFBTSxVQUNOQyxJQUFPLFVBQ1BDLElBQU8sRUFDUEMsSUFBTyxRQUNQQyxLQUFPLFFBQ1BDLEtBQU8sVUFDUEMsS0FBTyxVQUNQQyxLQUFPLEtBQ1BDLEtBQU8sUUFDUEMsS0FBTyxLQUNQQyxLQUFPLFVBQ1BDLEtBQU8sVUFDUEMsS0FBTyxFQUNQQyxLQUFPLFVBQ1BDLEtBQU8sUUFDUEMsS0FBTyxVQUNQekYsS0FBUSxVQUNSMEYsS0FBUSxVQUNSQyxLQUFRLFVBQ1JDLEtBQVEsS0FDUkMsS0FBUSxRQUNSQyxLQUFRLFVBQ1JDLEtBQVEsVUFDUkMsS0FBUSxRQUNSakYsS0FBUSxRQUNSa0YsS0FBUSxFQUNSQyxLQUFRLEVBQ1JDLEtBQVEsVUFDUkMsS0FBUSxLQUNSQyxLQUFRLFVBQ1JDLEtBQVEsVUFDUkMsS0FBUSxRQUNSQyxLQUFRLEVBQ1JDLEtBQVEsUUFDUkMsS0FBUSxRQUNSQyxLQUFRLFVBQ1JDLEtBQVEsVUFDUkMsS0FBUSxLQUNSQyxLQUFRLFVBQ1JDLEtBQVEsVUFDUkMsS0FBUSxVQUNSQyxLQUFRLFVBQ1JDLEtBQVEsS0FDUkMsS0FBUSxRQUNSQyxLQUFRLFFBQ1JDLEtBQVEsRUFDUkMsS0FBUSxVQUNSQyxLQUFRLFlBR1IzVyxFQUFLLFFBQ0w0VyxHQUFNLFNBQ05DLEdBQU0sS0FDTkMsR0FBTSxRQUNOQyxHQUFNLFNBQ05DLEdBQU0sRUFDTkMsR0FBTSxFQUNOQyxJQUFNLFNBQ05wRCxJQUFNLFNBQ05xRCxJQUFNLFFBQ05DLElBQU0sU0FDTkMsSUFBTSxTQUNOQyxJQUFNLFNBQ05DLElBQU0sS0FDTkMsSUFBTSxRQUNOQyxJQUFNLFNBQ05DLEVBQUssU0FDTEMsR0FBTSxFQUNOQyxHQUFNLFNBQ05DLEdBQU0sU0FDTkMsR0FBTSxRQUNOQyxHQUFNLFNBQ05D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QUFldkMsR0FDdEIsTUFBTyxJQUFJb0IsU0FBUSxTQUFTQyxFQUFTQyxHQUNuQ3RCLEVBQWN1QyxlQUFlLFNBQUM5MUMsRUFBS3NWLEdBQ2pDLE1BQUl0VixPQUNGNjBDLEdBQU83MEMsT0FHVDQwQyxHQUFRdC9CLEVBQUkxbEIsZ0JBbE5sQixHQUFNK2xELE1BRUFuK0IsSUFNTixPQUZBNDlCLE1BR0VTLGNBQ0FPLFlBQ0E1K0IsU0EvQkosR0FBTXd4QixHQUFPdHFELEVBQVEsSUFDZnNvRCxFQUFRdG9ELEVBQVEsSUFFaEIrMEQsRUFBZS8wRCxFQUFRLElBQ3ZCdzBELEVBQVV4MEQsRUFBUSxJQUNsQmkxRCxFQUFXajFELEVBQVEsSUFFbkI0M0QsRUFBYSxpQkFBTSwySEFHbkJFLEVBQWMsaUJBQU0sdUlBSTFCSSxTQUNHOTNELE9BQU8sT0FDUCszRCxRQUFRLFdBQVlwQyIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqLyAoZnVuY3Rpb24obW9kdWxlcykgeyAvLyB3ZWJwYWNrQm9vdHN0cmFwXG4vKioqKioqLyBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4vKioqKioqLyBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4vKioqKioqLyBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG4vKioqKioqLyBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4vKioqKioqLyBcdFx0XHRleHBvcnRzOiB7fSxcbi8qKioqKiovIFx0XHRcdGlkOiBtb2R1bGVJZCxcbi8qKioqKiovIFx0XHRcdGxvYWRlZDogZmFsc2Vcbi8qKioqKiovIFx0XHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbi8qKioqKiovIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuLyoqKioqKi8gXHRcdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuLyoqKioqKi8gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbi8qKioqKiovIFx0fVxuLyoqKioqKi9cbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLyoqKioqKi8gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbi8qKioqKiovIH0pXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKi8gKFtcbi8qIDAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5Mik7XG5cblxuLyoqKi8gfSxcbi8qIDEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18sIF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18sIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fO1widXNlIHN0cmljdFwiO1xuXHRcblx0dmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXHRcblx0OyhmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSkge1xuXHRcdGlmICgoIGZhbHNlID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2YoZXhwb3J0cykpID09PSBcIm9iamVjdFwiKSB7XG5cdFx0XHQvLyBDb21tb25KU1xuXHRcdFx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzID0gZmFjdG9yeSgpO1xuXHRcdH0gZWxzZSBpZiAodHJ1ZSkge1xuXHRcdFx0Ly8gQU1EXG5cdFx0XHQhKF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18gPSBbXSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fID0gKGZhY3RvcnkpLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyA9ICh0eXBlb2YgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fID09PSAnZnVuY3Rpb24nID8gKF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXy5hcHBseShleHBvcnRzLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fKSkgOiBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18pLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyAhPT0gdW5kZWZpbmVkICYmIChtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fKSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIEdsb2JhbCAoYnJvd3Nlcilcblx0XHRcdHJvb3QuQ3J5cHRvSlMgPSBmYWN0b3J5KCk7XG5cdFx0fVxuXHR9KSh1bmRlZmluZWQsIGZ1bmN0aW9uICgpIHtcblx0XG5cdFx0LyoqXG5cdCAgKiBDcnlwdG9KUyBjb3JlIGNvbXBvbmVudHMuXG5cdCAgKi9cblx0XHR2YXIgQ3J5cHRvSlMgPSBDcnlwdG9KUyB8fCBmdW5jdGlvbiAoTWF0aCwgdW5kZWZpbmVkKSB7XG5cdFx0XHQvKlxuXHQgICAqIExvY2FsIHBvbHlmaWwgb2YgT2JqZWN0LmNyZWF0ZVxuXHQgICAqL1xuXHRcdFx0dmFyIGNyZWF0ZSA9IE9iamVjdC5jcmVhdGUgfHwgZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRmdW5jdGlvbiBGKCkge307XG5cdFxuXHRcdFx0XHRyZXR1cm4gZnVuY3Rpb24gKG9iaikge1xuXHRcdFx0XHRcdHZhciBzdWJ0eXBlO1xuXHRcblx0XHRcdFx0XHRGLnByb3RvdHlwZSA9IG9iajtcblx0XG5cdFx0XHRcdFx0c3VidHlwZSA9IG5ldyBGKCk7XG5cdFxuXHRcdFx0XHRcdEYucHJvdG90eXBlID0gbnVsbDtcblx0XG5cdFx0XHRcdFx0cmV0dXJuIHN1YnR5cGU7XG5cdFx0XHRcdH07XG5cdFx0XHR9KCk7XG5cdFxuXHRcdFx0LyoqXG5cdCAgICogQ3J5cHRvSlMgbmFtZXNwYWNlLlxuXHQgICAqL1xuXHRcdFx0dmFyIEMgPSB7fTtcblx0XG5cdFx0XHQvKipcblx0ICAgKiBMaWJyYXJ5IG5hbWVzcGFjZS5cblx0ICAgKi9cblx0XHRcdHZhciBDX2xpYiA9IEMubGliID0ge307XG5cdFxuXHRcdFx0LyoqXG5cdCAgICogQmFzZSBvYmplY3QgZm9yIHByb3RvdHlwYWwgaW5oZXJpdGFuY2UuXG5cdCAgICovXG5cdFx0XHR2YXIgQmFzZSA9IENfbGliLkJhc2UgPSBmdW5jdGlvbiAoKSB7XG5cdFxuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdC8qKlxuXHQgICAgICogQ3JlYXRlcyBhIG5ldyBvYmplY3QgdGhhdCBpbmhlcml0cyBmcm9tIHRoaXMgb2JqZWN0LlxuXHQgICAgICpcblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvdmVycmlkZXMgUHJvcGVydGllcyB0byBjb3B5IGludG8gdGhlIG5ldyBvYmplY3QuXG5cdCAgICAgKlxuXHQgICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgbmV3IG9iamVjdC5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiAgICAgdmFyIE15VHlwZSA9IENyeXB0b0pTLmxpYi5CYXNlLmV4dGVuZCh7XG5cdCAgICAgKiAgICAgICAgIGZpZWxkOiAndmFsdWUnLFxuXHQgICAgICpcblx0ICAgICAqICAgICAgICAgbWV0aG9kOiBmdW5jdGlvbiAoKSB7XG5cdCAgICAgKiAgICAgICAgIH1cblx0ICAgICAqICAgICB9KTtcblx0ICAgICAqL1xuXHRcdFx0XHRcdGV4dGVuZDogZnVuY3Rpb24gZXh0ZW5kKG92ZXJyaWRlcykge1xuXHRcdFx0XHRcdFx0Ly8gU3Bhd25cblx0XHRcdFx0XHRcdHZhciBzdWJ0eXBlID0gY3JlYXRlKHRoaXMpO1xuXHRcblx0XHRcdFx0XHRcdC8vIEF1Z21lbnRcblx0XHRcdFx0XHRcdGlmIChvdmVycmlkZXMpIHtcblx0XHRcdFx0XHRcdFx0c3VidHlwZS5taXhJbihvdmVycmlkZXMpO1xuXHRcdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRcdC8vIENyZWF0ZSBkZWZhdWx0IGluaXRpYWxpemVyXG5cdFx0XHRcdFx0XHRpZiAoIXN1YnR5cGUuaGFzT3duUHJvcGVydHkoJ2luaXQnKSB8fCB0aGlzLmluaXQgPT09IHN1YnR5cGUuaW5pdCkge1xuXHRcdFx0XHRcdFx0XHRzdWJ0eXBlLmluaXQgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0XHRcdFx0c3VidHlwZS4kc3VwZXIuaW5pdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHRcdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRcdC8vIEluaXRpYWxpemVyJ3MgcHJvdG90eXBlIGlzIHRoZSBzdWJ0eXBlIG9iamVjdFxuXHRcdFx0XHRcdFx0c3VidHlwZS5pbml0LnByb3RvdHlwZSA9IHN1YnR5cGU7XG5cdFxuXHRcdFx0XHRcdFx0Ly8gUmVmZXJlbmNlIHN1cGVydHlwZVxuXHRcdFx0XHRcdFx0c3VidHlwZS4kc3VwZXIgPSB0aGlzO1xuXHRcblx0XHRcdFx0XHRcdHJldHVybiBzdWJ0eXBlO1xuXHRcdFx0XHRcdH0sXG5cdFxuXHRcdFx0XHRcdC8qKlxuXHQgICAgICogRXh0ZW5kcyB0aGlzIG9iamVjdCBhbmQgcnVucyB0aGUgaW5pdCBtZXRob2QuXG5cdCAgICAgKiBBcmd1bWVudHMgdG8gY3JlYXRlKCkgd2lsbCBiZSBwYXNzZWQgdG8gaW5pdCgpLlxuXHQgICAgICpcblx0ICAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIG5ldyBvYmplY3QuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICpcblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogICAgIHZhciBpbnN0YW5jZSA9IE15VHlwZS5jcmVhdGUoKTtcblx0ICAgICAqL1xuXHRcdFx0XHRcdGNyZWF0ZTogZnVuY3Rpb24gY3JlYXRlKCkge1xuXHRcdFx0XHRcdFx0dmFyIGluc3RhbmNlID0gdGhpcy5leHRlbmQoKTtcblx0XHRcdFx0XHRcdGluc3RhbmNlLmluaXQuYXBwbHkoaW5zdGFuY2UsIGFyZ3VtZW50cyk7XG5cdFxuXHRcdFx0XHRcdFx0cmV0dXJuIGluc3RhbmNlO1xuXHRcdFx0XHRcdH0sXG5cdFxuXHRcdFx0XHRcdC8qKlxuXHQgICAgICogSW5pdGlhbGl6ZXMgYSBuZXdseSBjcmVhdGVkIG9iamVjdC5cblx0ICAgICAqIE92ZXJyaWRlIHRoaXMgbWV0aG9kIHRvIGFkZCBzb21lIGxvZ2ljIHdoZW4geW91ciBvYmplY3RzIGFyZSBjcmVhdGVkLlxuXHQgICAgICpcblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogICAgIHZhciBNeVR5cGUgPSBDcnlwdG9KUy5saWIuQmFzZS5leHRlbmQoe1xuXHQgICAgICogICAgICAgICBpbml0OiBmdW5jdGlvbiAoKSB7XG5cdCAgICAgKiAgICAgICAgICAgICAvLyAuLi5cblx0ICAgICAqICAgICAgICAgfVxuXHQgICAgICogICAgIH0pO1xuXHQgICAgICovXG5cdFx0XHRcdFx0aW5pdDogZnVuY3Rpb24gaW5pdCgpIHt9LFxuXHRcblx0XHRcdFx0XHQvKipcblx0ICAgICAqIENvcGllcyBwcm9wZXJ0aWVzIGludG8gdGhpcyBvYmplY3QuXG5cdCAgICAgKlxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IHByb3BlcnRpZXMgVGhlIHByb3BlcnRpZXMgdG8gbWl4IGluLlxuXHQgICAgICpcblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogICAgIE15VHlwZS5taXhJbih7XG5cdCAgICAgKiAgICAgICAgIGZpZWxkOiAndmFsdWUnXG5cdCAgICAgKiAgICAgfSk7XG5cdCAgICAgKi9cblx0XHRcdFx0XHRtaXhJbjogZnVuY3Rpb24gbWl4SW4ocHJvcGVydGllcykge1xuXHRcdFx0XHRcdFx0Zm9yICh2YXIgcHJvcGVydHlOYW1lIGluIHByb3BlcnRpZXMpIHtcblx0XHRcdFx0XHRcdFx0aWYgKHByb3BlcnRpZXMuaGFzT3duUHJvcGVydHkocHJvcGVydHlOYW1lKSkge1xuXHRcdFx0XHRcdFx0XHRcdHRoaXNbcHJvcGVydHlOYW1lXSA9IHByb3BlcnRpZXNbcHJvcGVydHlOYW1lXTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRcdC8vIElFIHdvbid0IGNvcHkgdG9TdHJpbmcgdXNpbmcgdGhlIGxvb3AgYWJvdmVcblx0XHRcdFx0XHRcdGlmIChwcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KCd0b1N0cmluZycpKSB7XG5cdFx0XHRcdFx0XHRcdHRoaXMudG9TdHJpbmcgPSBwcm9wZXJ0aWVzLnRvU3RyaW5nO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0sXG5cdFxuXHRcdFx0XHRcdC8qKlxuXHQgICAgICogQ3JlYXRlcyBhIGNvcHkgb2YgdGhpcyBvYmplY3QuXG5cdCAgICAgKlxuXHQgICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgY2xvbmUuXG5cdCAgICAgKlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiAgICAgdmFyIGNsb25lID0gaW5zdGFuY2UuY2xvbmUoKTtcblx0ICAgICAqL1xuXHRcdFx0XHRcdGNsb25lOiBmdW5jdGlvbiBjbG9uZSgpIHtcblx0XHRcdFx0XHRcdHJldHVybiB0aGlzLmluaXQucHJvdG90eXBlLmV4dGVuZCh0aGlzKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH07XG5cdFx0XHR9KCk7XG5cdFxuXHRcdFx0LyoqXG5cdCAgICogQW4gYXJyYXkgb2YgMzItYml0IHdvcmRzLlxuXHQgICAqXG5cdCAgICogQHByb3BlcnR5IHtBcnJheX0gd29yZHMgVGhlIGFycmF5IG9mIDMyLWJpdCB3b3Jkcy5cblx0ICAgKiBAcHJvcGVydHkge251bWJlcn0gc2lnQnl0ZXMgVGhlIG51bWJlciBvZiBzaWduaWZpY2FudCBieXRlcyBpbiB0aGlzIHdvcmQgYXJyYXkuXG5cdCAgICovXG5cdFx0XHR2YXIgV29yZEFycmF5ID0gQ19saWIuV29yZEFycmF5ID0gQmFzZS5leHRlbmQoe1xuXHRcdFx0XHQvKipcblx0ICAgICogSW5pdGlhbGl6ZXMgYSBuZXdseSBjcmVhdGVkIHdvcmQgYXJyYXkuXG5cdCAgICAqXG5cdCAgICAqIEBwYXJhbSB7QXJyYXl9IHdvcmRzIChPcHRpb25hbCkgQW4gYXJyYXkgb2YgMzItYml0IHdvcmRzLlxuXHQgICAgKiBAcGFyYW0ge251bWJlcn0gc2lnQnl0ZXMgKE9wdGlvbmFsKSBUaGUgbnVtYmVyIG9mIHNpZ25pZmljYW50IGJ5dGVzIGluIHRoZSB3b3Jkcy5cblx0ICAgICpcblx0ICAgICogQGV4YW1wbGVcblx0ICAgICpcblx0ICAgICogICAgIHZhciB3b3JkQXJyYXkgPSBDcnlwdG9KUy5saWIuV29yZEFycmF5LmNyZWF0ZSgpO1xuXHQgICAgKiAgICAgdmFyIHdvcmRBcnJheSA9IENyeXB0b0pTLmxpYi5Xb3JkQXJyYXkuY3JlYXRlKFsweDAwMDEwMjAzLCAweDA0MDUwNjA3XSk7XG5cdCAgICAqICAgICB2YXIgd29yZEFycmF5ID0gQ3J5cHRvSlMubGliLldvcmRBcnJheS5jcmVhdGUoWzB4MDAwMTAyMDMsIDB4MDQwNTA2MDddLCA2KTtcblx0ICAgICovXG5cdFx0XHRcdGluaXQ6IGZ1bmN0aW9uIGluaXQod29yZHMsIHNpZ0J5dGVzKSB7XG5cdFx0XHRcdFx0d29yZHMgPSB0aGlzLndvcmRzID0gd29yZHMgfHwgW107XG5cdFxuXHRcdFx0XHRcdGlmIChzaWdCeXRlcyAhPSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRcdHRoaXMuc2lnQnl0ZXMgPSBzaWdCeXRlcztcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0dGhpcy5zaWdCeXRlcyA9IHdvcmRzLmxlbmd0aCAqIDQ7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXHRcblx0XHRcdFx0LyoqXG5cdCAgICAqIENvbnZlcnRzIHRoaXMgd29yZCBhcnJheSB0byBhIHN0cmluZy5cblx0ICAgICpcblx0ICAgICogQHBhcmFtIHtFbmNvZGVyfSBlbmNvZGVyIChPcHRpb25hbCkgVGhlIGVuY29kaW5nIHN0cmF0ZWd5IHRvIHVzZS4gRGVmYXVsdDogQ3J5cHRvSlMuZW5jLkhleFxuXHQgICAgKlxuXHQgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBzdHJpbmdpZmllZCB3b3JkIGFycmF5LlxuXHQgICAgKlxuXHQgICAgKiBAZXhhbXBsZVxuXHQgICAgKlxuXHQgICAgKiAgICAgdmFyIHN0cmluZyA9IHdvcmRBcnJheSArICcnO1xuXHQgICAgKiAgICAgdmFyIHN0cmluZyA9IHdvcmRBcnJheS50b1N0cmluZygpO1xuXHQgICAgKiAgICAgdmFyIHN0cmluZyA9IHdvcmRBcnJheS50b1N0cmluZyhDcnlwdG9KUy5lbmMuVXRmOCk7XG5cdCAgICAqL1xuXHRcdFx0XHR0b1N0cmluZzogZnVuY3Rpb24gdG9TdHJpbmcoZW5jb2Rlcikge1xuXHRcdFx0XHRcdHJldHVybiAoZW5jb2RlciB8fCBIZXgpLnN0cmluZ2lmeSh0aGlzKTtcblx0XHRcdFx0fSxcblx0XG5cdFx0XHRcdC8qKlxuXHQgICAgKiBDb25jYXRlbmF0ZXMgYSB3b3JkIGFycmF5IHRvIHRoaXMgd29yZCBhcnJheS5cblx0ICAgICpcblx0ICAgICogQHBhcmFtIHtXb3JkQXJyYXl9IHdvcmRBcnJheSBUaGUgd29yZCBhcnJheSB0byBhcHBlbmQuXG5cdCAgICAqXG5cdCAgICAqIEByZXR1cm4ge1dvcmRBcnJheX0gVGhpcyB3b3JkIGFycmF5LlxuXHQgICAgKlxuXHQgICAgKiBAZXhhbXBsZVxuXHQgICAgKlxuXHQgICAgKiAgICAgd29yZEFycmF5MS5jb25jYXQod29yZEFycmF5Mik7XG5cdCAgICAqL1xuXHRcdFx0XHRjb25jYXQ6IGZ1bmN0aW9uIGNvbmNhdCh3b3JkQXJyYXkpIHtcblx0XHRcdFx0XHQvLyBTaG9ydGN1dHNcblx0XHRcdFx0XHR2YXIgdGhpc1dvcmRzID0gdGhpcy53b3Jkcztcblx0XHRcdFx0XHR2YXIgdGhhdFdvcmRzID0gd29yZEFycmF5LndvcmRzO1xuXHRcdFx0XHRcdHZhciB0aGlzU2lnQnl0ZXMgPSB0aGlzLnNpZ0J5dGVzO1xuXHRcdFx0XHRcdHZhciB0aGF0U2lnQnl0ZXMgPSB3b3JkQXJyYXkuc2lnQnl0ZXM7XG5cdFxuXHRcdFx0XHRcdC8vIENsYW1wIGV4Y2VzcyBiaXRzXG5cdFx0XHRcdFx0dGhpcy5jbGFtcCgpO1xuXHRcblx0XHRcdFx0XHQvLyBDb25jYXRcblx0XHRcdFx0XHRpZiAodGhpc1NpZ0J5dGVzICUgNCkge1xuXHRcdFx0XHRcdFx0Ly8gQ29weSBvbmUgYnl0ZSBhdCBhIHRpbWVcblx0XHRcdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgdGhhdFNpZ0J5dGVzOyBpKyspIHtcblx0XHRcdFx0XHRcdFx0dmFyIHRoYXRCeXRlID0gdGhhdFdvcmRzW2kgPj4+IDJdID4+PiAyNCAtIGkgJSA0ICogOCAmIDB4ZmY7XG5cdFx0XHRcdFx0XHRcdHRoaXNXb3Jkc1t0aGlzU2lnQnl0ZXMgKyBpID4+PiAyXSB8PSB0aGF0Qnl0ZSA8PCAyNCAtICh0aGlzU2lnQnl0ZXMgKyBpKSAlIDQgKiA4O1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHQvLyBDb3B5IG9uZSB3b3JkIGF0IGEgdGltZVxuXHRcdFx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCB0aGF0U2lnQnl0ZXM7IGkgKz0gNCkge1xuXHRcdFx0XHRcdFx0XHR0aGlzV29yZHNbdGhpc1NpZ0J5dGVzICsgaSA+Pj4gMl0gPSB0aGF0V29yZHNbaSA+Pj4gMl07XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHRoaXMuc2lnQnl0ZXMgKz0gdGhhdFNpZ0J5dGVzO1xuXHRcblx0XHRcdFx0XHQvLyBDaGFpbmFibGVcblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fSxcblx0XG5cdFx0XHRcdC8qKlxuXHQgICAgKiBSZW1vdmVzIGluc2lnbmlmaWNhbnQgYml0cy5cblx0ICAgICpcblx0ICAgICogQGV4YW1wbGVcblx0ICAgICpcblx0ICAgICogICAgIHdvcmRBcnJheS5jbGFtcCgpO1xuXHQgICAgKi9cblx0XHRcdFx0Y2xhbXA6IGZ1bmN0aW9uIGNsYW1wKCkge1xuXHRcdFx0XHRcdC8vIFNob3J0Y3V0c1xuXHRcdFx0XHRcdHZhciB3b3JkcyA9IHRoaXMud29yZHM7XG5cdFx0XHRcdFx0dmFyIHNpZ0J5dGVzID0gdGhpcy5zaWdCeXRlcztcblx0XG5cdFx0XHRcdFx0Ly8gQ2xhbXBcblx0XHRcdFx0XHR3b3Jkc1tzaWdCeXRlcyA+Pj4gMl0gJj0gMHhmZmZmZmZmZiA8PCAzMiAtIHNpZ0J5dGVzICUgNCAqIDg7XG5cdFx0XHRcdFx0d29yZHMubGVuZ3RoID0gTWF0aC5jZWlsKHNpZ0J5dGVzIC8gNCk7XG5cdFx0XHRcdH0sXG5cdFxuXHRcdFx0XHQvKipcblx0ICAgICogQ3JlYXRlcyBhIGNvcHkgb2YgdGhpcyB3b3JkIGFycmF5LlxuXHQgICAgKlxuXHQgICAgKiBAcmV0dXJuIHtXb3JkQXJyYXl9IFRoZSBjbG9uZS5cblx0ICAgICpcblx0ICAgICogQGV4YW1wbGVcblx0ICAgICpcblx0ICAgICogICAgIHZhciBjbG9uZSA9IHdvcmRBcnJheS5jbG9uZSgpO1xuXHQgICAgKi9cblx0XHRcdFx0Y2xvbmU6IGZ1bmN0aW9uIGNsb25lKCkge1xuXHRcdFx0XHRcdHZhciBjbG9uZSA9IEJhc2UuY2xvbmUuY2FsbCh0aGlzKTtcblx0XHRcdFx0XHRjbG9uZS53b3JkcyA9IHRoaXMud29yZHMuc2xpY2UoMCk7XG5cdFxuXHRcdFx0XHRcdHJldHVybiBjbG9uZTtcblx0XHRcdFx0fSxcblx0XG5cdFx0XHRcdC8qKlxuXHQgICAgKiBDcmVhdGVzIGEgd29yZCBhcnJheSBmaWxsZWQgd2l0aCByYW5kb20gYnl0ZXMuXG5cdCAgICAqXG5cdCAgICAqIEBwYXJhbSB7bnVtYmVyfSBuQnl0ZXMgVGhlIG51bWJlciBvZiByYW5kb20gYnl0ZXMgdG8gZ2VuZXJhdGUuXG5cdCAgICAqXG5cdCAgICAqIEByZXR1cm4ge1dvcmRBcnJheX0gVGhlIHJhbmRvbSB3b3JkIGFycmF5LlxuXHQgICAgKlxuXHQgICAgKiBAc3RhdGljXG5cdCAgICAqXG5cdCAgICAqIEBleGFtcGxlXG5cdCAgICAqXG5cdCAgICAqICAgICB2YXIgd29yZEFycmF5ID0gQ3J5cHRvSlMubGliLldvcmRBcnJheS5yYW5kb20oMTYpO1xuXHQgICAgKi9cblx0XHRcdFx0cmFuZG9tOiBmdW5jdGlvbiByYW5kb20obkJ5dGVzKSB7XG5cdFx0XHRcdFx0dmFyIHdvcmRzID0gW107XG5cdFxuXHRcdFx0XHRcdHZhciByID0gZnVuY3Rpb24gcihtX3cpIHtcblx0XHRcdFx0XHRcdHZhciBtX3cgPSBtX3c7XG5cdFx0XHRcdFx0XHR2YXIgbV96ID0gMHgzYWRlNjhiMTtcblx0XHRcdFx0XHRcdHZhciBtYXNrID0gMHhmZmZmZmZmZjtcblx0XG5cdFx0XHRcdFx0XHRyZXR1cm4gZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdFx0XHRtX3ogPSAweDkwNjkgKiAobV96ICYgMHhGRkZGKSArIChtX3ogPj4gMHgxMCkgJiBtYXNrO1xuXHRcdFx0XHRcdFx0XHRtX3cgPSAweDQ2NTAgKiAobV93ICYgMHhGRkZGKSArIChtX3cgPj4gMHgxMCkgJiBtYXNrO1xuXHRcdFx0XHRcdFx0XHR2YXIgcmVzdWx0ID0gKG1feiA8PCAweDEwKSArIG1fdyAmIG1hc2s7XG5cdFx0XHRcdFx0XHRcdHJlc3VsdCAvPSAweDEwMDAwMDAwMDtcblx0XHRcdFx0XHRcdFx0cmVzdWx0ICs9IDAuNTtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHJlc3VsdCAqIChNYXRoLnJhbmRvbSgpID4gLjUgPyAxIDogLTEpO1xuXHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHR9O1xuXHRcblx0XHRcdFx0XHRmb3IgKHZhciBpID0gMCwgcmNhY2hlOyBpIDwgbkJ5dGVzOyBpICs9IDQpIHtcblx0XHRcdFx0XHRcdHZhciBfciA9IHIoKHJjYWNoZSB8fCBNYXRoLnJhbmRvbSgpKSAqIDB4MTAwMDAwMDAwKTtcblx0XG5cdFx0XHRcdFx0XHRyY2FjaGUgPSBfcigpICogMHgzYWRlNjdiNztcblx0XHRcdFx0XHRcdHdvcmRzLnB1c2goX3IoKSAqIDB4MTAwMDAwMDAwIHwgMCk7XG5cdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRyZXR1cm4gbmV3IFdvcmRBcnJheS5pbml0KHdvcmRzLCBuQnl0ZXMpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XG5cdFx0XHQvKipcblx0ICAgKiBFbmNvZGVyIG5hbWVzcGFjZS5cblx0ICAgKi9cblx0XHRcdHZhciBDX2VuYyA9IEMuZW5jID0ge307XG5cdFxuXHRcdFx0LyoqXG5cdCAgICogSGV4IGVuY29kaW5nIHN0cmF0ZWd5LlxuXHQgICAqL1xuXHRcdFx0dmFyIEhleCA9IENfZW5jLkhleCA9IHtcblx0XHRcdFx0LyoqXG5cdCAgICAqIENvbnZlcnRzIGEgd29yZCBhcnJheSB0byBhIGhleCBzdHJpbmcuXG5cdCAgICAqXG5cdCAgICAqIEBwYXJhbSB7V29yZEFycmF5fSB3b3JkQXJyYXkgVGhlIHdvcmQgYXJyYXkuXG5cdCAgICAqXG5cdCAgICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIGhleCBzdHJpbmcuXG5cdCAgICAqXG5cdCAgICAqIEBzdGF0aWNcblx0ICAgICpcblx0ICAgICogQGV4YW1wbGVcblx0ICAgICpcblx0ICAgICogICAgIHZhciBoZXhTdHJpbmcgPSBDcnlwdG9KUy5lbmMuSGV4LnN0cmluZ2lmeSh3b3JkQXJyYXkpO1xuXHQgICAgKi9cblx0XHRcdFx0c3RyaW5naWZ5OiBmdW5jdGlvbiBzdHJpbmdpZnkod29yZEFycmF5KSB7XG5cdFx0XHRcdFx0Ly8gU2hvcnRjdXRzXG5cdFx0XHRcdFx0dmFyIHdvcmRzID0gd29yZEFycmF5LndvcmRzO1xuXHRcdFx0XHRcdHZhciBzaWdCeXRlcyA9IHdvcmRBcnJheS5zaWdCeXRlcztcblx0XG5cdFx0XHRcdFx0Ly8gQ29udmVydFxuXHRcdFx0XHRcdHZhciBoZXhDaGFycyA9IFtdO1xuXHRcdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc2lnQnl0ZXM7IGkrKykge1xuXHRcdFx0XHRcdFx0dmFyIGJpdGUgPSB3b3Jkc1tpID4+PiAyXSA+Pj4gMjQgLSBpICUgNCAqIDggJiAweGZmO1xuXHRcdFx0XHRcdFx0aGV4Q2hhcnMucHVzaCgoYml0ZSA+Pj4gNCkudG9TdHJpbmcoMTYpKTtcblx0XHRcdFx0XHRcdGhleENoYXJzLnB1c2goKGJpdGUgJiAweDBmKS50b1N0cmluZygxNikpO1xuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0cmV0dXJuIGhleENoYXJzLmpvaW4oJycpO1xuXHRcdFx0XHR9LFxuXHRcblx0XHRcdFx0LyoqXG5cdCAgICAqIENvbnZlcnRzIGEgaGV4IHN0cmluZyB0byBhIHdvcmQgYXJyYXkuXG5cdCAgICAqXG5cdCAgICAqIEBwYXJhbSB7c3RyaW5nfSBoZXhTdHIgVGhlIGhleCBzdHJpbmcuXG5cdCAgICAqXG5cdCAgICAqIEByZXR1cm4ge1dvcmRBcnJheX0gVGhlIHdvcmQgYXJyYXkuXG5cdCAgICAqXG5cdCAgICAqIEBzdGF0aWNcblx0ICAgICpcblx0ICAgICogQGV4YW1wbGVcblx0ICAgICpcblx0ICAgICogICAgIHZhciB3b3JkQXJyYXkgPSBDcnlwdG9KUy5lbmMuSGV4LnBhcnNlKGhleFN0cmluZyk7XG5cdCAgICAqL1xuXHRcdFx0XHRwYXJzZTogZnVuY3Rpb24gcGFyc2UoaGV4U3RyKSB7XG5cdFx0XHRcdFx0Ly8gU2hvcnRjdXRcblx0XHRcdFx0XHR2YXIgaGV4U3RyTGVuZ3RoID0gaGV4U3RyLmxlbmd0aDtcblx0XG5cdFx0XHRcdFx0Ly8gQ29udmVydFxuXHRcdFx0XHRcdHZhciB3b3JkcyA9IFtdO1xuXHRcdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgaGV4U3RyTGVuZ3RoOyBpICs9IDIpIHtcblx0XHRcdFx0XHRcdHdvcmRzW2kgPj4+IDNdIHw9IHBhcnNlSW50KGhleFN0ci5zdWJzdHIoaSwgMiksIDE2KSA8PCAyNCAtIGkgJSA4ICogNDtcblx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdHJldHVybiBuZXcgV29yZEFycmF5LmluaXQod29yZHMsIGhleFN0ckxlbmd0aCAvIDIpO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcblx0XHRcdC8qKlxuXHQgICAqIExhdGluMSBlbmNvZGluZyBzdHJhdGVneS5cblx0ICAgKi9cblx0XHRcdHZhciBMYXRpbjEgPSBDX2VuYy5MYXRpbjEgPSB7XG5cdFx0XHRcdC8qKlxuXHQgICAgKiBDb252ZXJ0cyBhIHdvcmQgYXJyYXkgdG8gYSBMYXRpbjEgc3RyaW5nLlxuXHQgICAgKlxuXHQgICAgKiBAcGFyYW0ge1dvcmRBcnJheX0gd29yZEFycmF5IFRoZSB3b3JkIGFycmF5LlxuXHQgICAgKlxuXHQgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBMYXRpbjEgc3RyaW5nLlxuXHQgICAgKlxuXHQgICAgKiBAc3RhdGljXG5cdCAgICAqXG5cdCAgICAqIEBleGFtcGxlXG5cdCAgICAqXG5cdCAgICAqICAgICB2YXIgbGF0aW4xU3RyaW5nID0gQ3J5cHRvSlMuZW5jLkxhdGluMS5zdHJpbmdpZnkod29yZEFycmF5KTtcblx0ICAgICovXG5cdFx0XHRcdHN0cmluZ2lmeTogZnVuY3Rpb24gc3RyaW5naWZ5KHdvcmRBcnJheSkge1xuXHRcdFx0XHRcdC8vIFNob3J0Y3V0c1xuXHRcdFx0XHRcdHZhciB3b3JkcyA9IHdvcmRBcnJheS53b3Jkcztcblx0XHRcdFx0XHR2YXIgc2lnQnl0ZXMgPSB3b3JkQXJyYXkuc2lnQnl0ZXM7XG5cdFxuXHRcdFx0XHRcdC8vIENvbnZlcnRcblx0XHRcdFx0XHR2YXIgbGF0aW4xQ2hhcnMgPSBbXTtcblx0XHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHNpZ0J5dGVzOyBpKyspIHtcblx0XHRcdFx0XHRcdHZhciBiaXRlID0gd29yZHNbaSA+Pj4gMl0gPj4+IDI0IC0gaSAlIDQgKiA4ICYgMHhmZjtcblx0XHRcdFx0XHRcdGxhdGluMUNoYXJzLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZShiaXRlKSk7XG5cdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRyZXR1cm4gbGF0aW4xQ2hhcnMuam9pbignJyk7XG5cdFx0XHRcdH0sXG5cdFxuXHRcdFx0XHQvKipcblx0ICAgICogQ29udmVydHMgYSBMYXRpbjEgc3RyaW5nIHRvIGEgd29yZCBhcnJheS5cblx0ICAgICpcblx0ICAgICogQHBhcmFtIHtzdHJpbmd9IGxhdGluMVN0ciBUaGUgTGF0aW4xIHN0cmluZy5cblx0ICAgICpcblx0ICAgICogQHJldHVybiB7V29yZEFycmF5fSBUaGUgd29yZCBhcnJheS5cblx0ICAgICpcblx0ICAgICogQHN0YXRpY1xuXHQgICAgKlxuXHQgICAgKiBAZXhhbXBsZVxuXHQgICAgKlxuXHQgICAgKiAgICAgdmFyIHdvcmRBcnJheSA9IENyeXB0b0pTLmVuYy5MYXRpbjEucGFyc2UobGF0aW4xU3RyaW5nKTtcblx0ICAgICovXG5cdFx0XHRcdHBhcnNlOiBmdW5jdGlvbiBwYXJzZShsYXRpbjFTdHIpIHtcblx0XHRcdFx0XHQvLyBTaG9ydGN1dFxuXHRcdFx0XHRcdHZhciBsYXRpbjFTdHJMZW5ndGggPSBsYXRpbjFTdHIubGVuZ3RoO1xuXHRcblx0XHRcdFx0XHQvLyBDb252ZXJ0XG5cdFx0XHRcdFx0dmFyIHdvcmRzID0gW107XG5cdFx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBsYXRpbjFTdHJMZW5ndGg7IGkrKykge1xuXHRcdFx0XHRcdFx0d29yZHNbaSA+Pj4gMl0gfD0gKGxhdGluMVN0ci5jaGFyQ29kZUF0KGkpICYgMHhmZikgPDwgMjQgLSBpICUgNCAqIDg7XG5cdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRyZXR1cm4gbmV3IFdvcmRBcnJheS5pbml0KHdvcmRzLCBsYXRpbjFTdHJMZW5ndGgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcblx0XHRcdC8qKlxuXHQgICAqIFVURi04IGVuY29kaW5nIHN0cmF0ZWd5LlxuXHQgICAqL1xuXHRcdFx0dmFyIFV0ZjggPSBDX2VuYy5VdGY4ID0ge1xuXHRcdFx0XHQvKipcblx0ICAgICogQ29udmVydHMgYSB3b3JkIGFycmF5IHRvIGEgVVRGLTggc3RyaW5nLlxuXHQgICAgKlxuXHQgICAgKiBAcGFyYW0ge1dvcmRBcnJheX0gd29yZEFycmF5IFRoZSB3b3JkIGFycmF5LlxuXHQgICAgKlxuXHQgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBVVEYtOCBzdHJpbmcuXG5cdCAgICAqXG5cdCAgICAqIEBzdGF0aWNcblx0ICAgICpcblx0ICAgICogQGV4YW1wbGVcblx0ICAgICpcblx0ICAgICogICAgIHZhciB1dGY4U3RyaW5nID0gQ3J5cHRvSlMuZW5jLlV0Zjguc3RyaW5naWZ5KHdvcmRBcnJheSk7XG5cdCAgICAqL1xuXHRcdFx0XHRzdHJpbmdpZnk6IGZ1bmN0aW9uIHN0cmluZ2lmeSh3b3JkQXJyYXkpIHtcblx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChlc2NhcGUoTGF0aW4xLnN0cmluZ2lmeSh3b3JkQXJyYXkpKSk7XG5cdFx0XHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCdNYWxmb3JtZWQgVVRGLTggZGF0YScpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSxcblx0XG5cdFx0XHRcdC8qKlxuXHQgICAgKiBDb252ZXJ0cyBhIFVURi04IHN0cmluZyB0byBhIHdvcmQgYXJyYXkuXG5cdCAgICAqXG5cdCAgICAqIEBwYXJhbSB7c3RyaW5nfSB1dGY4U3RyIFRoZSBVVEYtOCBzdHJpbmcuXG5cdCAgICAqXG5cdCAgICAqIEByZXR1cm4ge1dvcmRBcnJheX0gVGhlIHdvcmQgYXJyYXkuXG5cdCAgICAqXG5cdCAgICAqIEBzdGF0aWNcblx0ICAgICpcblx0ICAgICogQGV4YW1wbGVcblx0ICAgICpcblx0ICAgICogICAgIHZhciB3b3JkQXJyYXkgPSBDcnlwdG9KUy5lbmMuVXRmOC5wYXJzZSh1dGY4U3RyaW5nKTtcblx0ICAgICovXG5cdFx0XHRcdHBhcnNlOiBmdW5jdGlvbiBwYXJzZSh1dGY4U3RyKSB7XG5cdFx0XHRcdFx0cmV0dXJuIExhdGluMS5wYXJzZSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQodXRmOFN0cikpKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XG5cdFx0XHQvKipcblx0ICAgKiBBYnN0cmFjdCBidWZmZXJlZCBibG9jayBhbGdvcml0aG0gdGVtcGxhdGUuXG5cdCAgICpcblx0ICAgKiBUaGUgcHJvcGVydHkgYmxvY2tTaXplIG11c3QgYmUgaW1wbGVtZW50ZWQgaW4gYSBjb25jcmV0ZSBzdWJ0eXBlLlxuXHQgICAqXG5cdCAgICogQHByb3BlcnR5IHtudW1iZXJ9IF9taW5CdWZmZXJTaXplIFRoZSBudW1iZXIgb2YgYmxvY2tzIHRoYXQgc2hvdWxkIGJlIGtlcHQgdW5wcm9jZXNzZWQgaW4gdGhlIGJ1ZmZlci4gRGVmYXVsdDogMFxuXHQgICAqL1xuXHRcdFx0dmFyIEJ1ZmZlcmVkQmxvY2tBbGdvcml0aG0gPSBDX2xpYi5CdWZmZXJlZEJsb2NrQWxnb3JpdGhtID0gQmFzZS5leHRlbmQoe1xuXHRcdFx0XHQvKipcblx0ICAgICogUmVzZXRzIHRoaXMgYmxvY2sgYWxnb3JpdGhtJ3MgZGF0YSBidWZmZXIgdG8gaXRzIGluaXRpYWwgc3RhdGUuXG5cdCAgICAqXG5cdCAgICAqIEBleGFtcGxlXG5cdCAgICAqXG5cdCAgICAqICAgICBidWZmZXJlZEJsb2NrQWxnb3JpdGhtLnJlc2V0KCk7XG5cdCAgICAqL1xuXHRcdFx0XHRyZXNldDogZnVuY3Rpb24gcmVzZXQoKSB7XG5cdFx0XHRcdFx0Ly8gSW5pdGlhbCB2YWx1ZXNcblx0XHRcdFx0XHR0aGlzLl9kYXRhID0gbmV3IFdvcmRBcnJheS5pbml0KCk7XG5cdFx0XHRcdFx0dGhpcy5fbkRhdGFCeXRlcyA9IDA7XG5cdFx0XHRcdH0sXG5cdFxuXHRcdFx0XHQvKipcblx0ICAgICogQWRkcyBuZXcgZGF0YSB0byB0aGlzIGJsb2NrIGFsZ29yaXRobSdzIGJ1ZmZlci5cblx0ICAgICpcblx0ICAgICogQHBhcmFtIHtXb3JkQXJyYXl8c3RyaW5nfSBkYXRhIFRoZSBkYXRhIHRvIGFwcGVuZC4gU3RyaW5ncyBhcmUgY29udmVydGVkIHRvIGEgV29yZEFycmF5IHVzaW5nIFVURi04LlxuXHQgICAgKlxuXHQgICAgKiBAZXhhbXBsZVxuXHQgICAgKlxuXHQgICAgKiAgICAgYnVmZmVyZWRCbG9ja0FsZ29yaXRobS5fYXBwZW5kKCdkYXRhJyk7XG5cdCAgICAqICAgICBidWZmZXJlZEJsb2NrQWxnb3JpdGhtLl9hcHBlbmQod29yZEFycmF5KTtcblx0ICAgICovXG5cdFx0XHRcdF9hcHBlbmQ6IGZ1bmN0aW9uIF9hcHBlbmQoZGF0YSkge1xuXHRcdFx0XHRcdC8vIENvbnZlcnQgc3RyaW5nIHRvIFdvcmRBcnJheSwgZWxzZSBhc3N1bWUgV29yZEFycmF5IGFscmVhZHlcblx0XHRcdFx0XHRpZiAodHlwZW9mIGRhdGEgPT0gJ3N0cmluZycpIHtcblx0XHRcdFx0XHRcdGRhdGEgPSBVdGY4LnBhcnNlKGRhdGEpO1xuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0Ly8gQXBwZW5kXG5cdFx0XHRcdFx0dGhpcy5fZGF0YS5jb25jYXQoZGF0YSk7XG5cdFx0XHRcdFx0dGhpcy5fbkRhdGFCeXRlcyArPSBkYXRhLnNpZ0J5dGVzO1xuXHRcdFx0XHR9LFxuXHRcblx0XHRcdFx0LyoqXG5cdCAgICAqIFByb2Nlc3NlcyBhdmFpbGFibGUgZGF0YSBibG9ja3MuXG5cdCAgICAqXG5cdCAgICAqIFRoaXMgbWV0aG9kIGludm9rZXMgX2RvUHJvY2Vzc0Jsb2NrKG9mZnNldCksIHdoaWNoIG11c3QgYmUgaW1wbGVtZW50ZWQgYnkgYSBjb25jcmV0ZSBzdWJ0eXBlLlxuXHQgICAgKlxuXHQgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGRvRmx1c2ggV2hldGhlciBhbGwgYmxvY2tzIGFuZCBwYXJ0aWFsIGJsb2NrcyBzaG91bGQgYmUgcHJvY2Vzc2VkLlxuXHQgICAgKlxuXHQgICAgKiBAcmV0dXJuIHtXb3JkQXJyYXl9IFRoZSBwcm9jZXNzZWQgZGF0YS5cblx0ICAgICpcblx0ICAgICogQGV4YW1wbGVcblx0ICAgICpcblx0ICAgICogICAgIHZhciBwcm9jZXNzZWREYXRhID0gYnVmZmVyZWRCbG9ja0FsZ29yaXRobS5fcHJvY2VzcygpO1xuXHQgICAgKiAgICAgdmFyIHByb2Nlc3NlZERhdGEgPSBidWZmZXJlZEJsb2NrQWxnb3JpdGhtLl9wcm9jZXNzKCEhJ2ZsdXNoJyk7XG5cdCAgICAqL1xuXHRcdFx0XHRfcHJvY2VzczogZnVuY3Rpb24gX3Byb2Nlc3MoZG9GbHVzaCkge1xuXHRcdFx0XHRcdC8vIFNob3J0Y3V0c1xuXHRcdFx0XHRcdHZhciBkYXRhID0gdGhpcy5fZGF0YTtcblx0XHRcdFx0XHR2YXIgZGF0YVdvcmRzID0gZGF0YS53b3Jkcztcblx0XHRcdFx0XHR2YXIgZGF0YVNpZ0J5dGVzID0gZGF0YS5zaWdCeXRlcztcblx0XHRcdFx0XHR2YXIgYmxvY2tTaXplID0gdGhpcy5ibG9ja1NpemU7XG5cdFx0XHRcdFx0dmFyIGJsb2NrU2l6ZUJ5dGVzID0gYmxvY2tTaXplICogNDtcblx0XG5cdFx0XHRcdFx0Ly8gQ291bnQgYmxvY2tzIHJlYWR5XG5cdFx0XHRcdFx0dmFyIG5CbG9ja3NSZWFkeSA9IGRhdGFTaWdCeXRlcyAvIGJsb2NrU2l6ZUJ5dGVzO1xuXHRcdFx0XHRcdGlmIChkb0ZsdXNoKSB7XG5cdFx0XHRcdFx0XHQvLyBSb3VuZCB1cCB0byBpbmNsdWRlIHBhcnRpYWwgYmxvY2tzXG5cdFx0XHRcdFx0XHRuQmxvY2tzUmVhZHkgPSBNYXRoLmNlaWwobkJsb2Nrc1JlYWR5KTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0Ly8gUm91bmQgZG93biB0byBpbmNsdWRlIG9ubHkgZnVsbCBibG9ja3MsXG5cdFx0XHRcdFx0XHQvLyBsZXNzIHRoZSBudW1iZXIgb2YgYmxvY2tzIHRoYXQgbXVzdCByZW1haW4gaW4gdGhlIGJ1ZmZlclxuXHRcdFx0XHRcdFx0bkJsb2Nrc1JlYWR5ID0gTWF0aC5tYXgoKG5CbG9ja3NSZWFkeSB8IDApIC0gdGhpcy5fbWluQnVmZmVyU2l6ZSwgMCk7XG5cdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHQvLyBDb3VudCB3b3JkcyByZWFkeVxuXHRcdFx0XHRcdHZhciBuV29yZHNSZWFkeSA9IG5CbG9ja3NSZWFkeSAqIGJsb2NrU2l6ZTtcblx0XG5cdFx0XHRcdFx0Ly8gQ291bnQgYnl0ZXMgcmVhZHlcblx0XHRcdFx0XHR2YXIgbkJ5dGVzUmVhZHkgPSBNYXRoLm1pbihuV29yZHNSZWFkeSAqIDQsIGRhdGFTaWdCeXRlcyk7XG5cdFxuXHRcdFx0XHRcdC8vIFByb2Nlc3MgYmxvY2tzXG5cdFx0XHRcdFx0aWYgKG5Xb3Jkc1JlYWR5KSB7XG5cdFx0XHRcdFx0XHRmb3IgKHZhciBvZmZzZXQgPSAwOyBvZmZzZXQgPCBuV29yZHNSZWFkeTsgb2Zmc2V0ICs9IGJsb2NrU2l6ZSkge1xuXHRcdFx0XHRcdFx0XHQvLyBQZXJmb3JtIGNvbmNyZXRlLWFsZ29yaXRobSBsb2dpY1xuXHRcdFx0XHRcdFx0XHR0aGlzLl9kb1Byb2Nlc3NCbG9jayhkYXRhV29yZHMsIG9mZnNldCk7XG5cdFx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdFx0Ly8gUmVtb3ZlIHByb2Nlc3NlZCB3b3Jkc1xuXHRcdFx0XHRcdFx0dmFyIHByb2Nlc3NlZFdvcmRzID0gZGF0YVdvcmRzLnNwbGljZSgwLCBuV29yZHNSZWFkeSk7XG5cdFx0XHRcdFx0XHRkYXRhLnNpZ0J5dGVzIC09IG5CeXRlc1JlYWR5O1xuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0Ly8gUmV0dXJuIHByb2Nlc3NlZCB3b3Jkc1xuXHRcdFx0XHRcdHJldHVybiBuZXcgV29yZEFycmF5LmluaXQocHJvY2Vzc2VkV29yZHMsIG5CeXRlc1JlYWR5KTtcblx0XHRcdFx0fSxcblx0XG5cdFx0XHRcdC8qKlxuXHQgICAgKiBDcmVhdGVzIGEgY29weSBvZiB0aGlzIG9iamVjdC5cblx0ICAgICpcblx0ICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgY2xvbmUuXG5cdCAgICAqXG5cdCAgICAqIEBleGFtcGxlXG5cdCAgICAqXG5cdCAgICAqICAgICB2YXIgY2xvbmUgPSBidWZmZXJlZEJsb2NrQWxnb3JpdGhtLmNsb25lKCk7XG5cdCAgICAqL1xuXHRcdFx0XHRjbG9uZTogZnVuY3Rpb24gY2xvbmUoKSB7XG5cdFx0XHRcdFx0dmFyIGNsb25lID0gQmFzZS5jbG9uZS5jYWxsKHRoaXMpO1xuXHRcdFx0XHRcdGNsb25lLl9kYXRhID0gdGhpcy5fZGF0YS5jbG9uZSgpO1xuXHRcblx0XHRcdFx0XHRyZXR1cm4gY2xvbmU7XG5cdFx0XHRcdH0sXG5cdFxuXHRcdFx0XHRfbWluQnVmZmVyU2l6ZTogMFxuXHRcdFx0fSk7XG5cdFxuXHRcdFx0LyoqXG5cdCAgICogQWJzdHJhY3QgaGFzaGVyIHRlbXBsYXRlLlxuXHQgICAqXG5cdCAgICogQHByb3BlcnR5IHtudW1iZXJ9IGJsb2NrU2l6ZSBUaGUgbnVtYmVyIG9mIDMyLWJpdCB3b3JkcyB0aGlzIGhhc2hlciBvcGVyYXRlcyBvbi4gRGVmYXVsdDogMTYgKDUxMiBiaXRzKVxuXHQgICAqL1xuXHRcdFx0dmFyIEhhc2hlciA9IENfbGliLkhhc2hlciA9IEJ1ZmZlcmVkQmxvY2tBbGdvcml0aG0uZXh0ZW5kKHtcblx0XHRcdFx0LyoqXG5cdCAgICAqIENvbmZpZ3VyYXRpb24gb3B0aW9ucy5cblx0ICAgICovXG5cdFx0XHRcdGNmZzogQmFzZS5leHRlbmQoKSxcblx0XG5cdFx0XHRcdC8qKlxuXHQgICAgKiBJbml0aWFsaXplcyBhIG5ld2x5IGNyZWF0ZWQgaGFzaGVyLlxuXHQgICAgKlxuXHQgICAgKiBAcGFyYW0ge09iamVjdH0gY2ZnIChPcHRpb25hbCkgVGhlIGNvbmZpZ3VyYXRpb24gb3B0aW9ucyB0byB1c2UgZm9yIHRoaXMgaGFzaCBjb21wdXRhdGlvbi5cblx0ICAgICpcblx0ICAgICogQGV4YW1wbGVcblx0ICAgICpcblx0ICAgICogICAgIHZhciBoYXNoZXIgPSBDcnlwdG9KUy5hbGdvLlNIQTI1Ni5jcmVhdGUoKTtcblx0ICAgICovXG5cdFx0XHRcdGluaXQ6IGZ1bmN0aW9uIGluaXQoY2ZnKSB7XG5cdFx0XHRcdFx0Ly8gQXBwbHkgY29uZmlnIGRlZmF1bHRzXG5cdFx0XHRcdFx0dGhpcy5jZmcgPSB0aGlzLmNmZy5leHRlbmQoY2ZnKTtcblx0XG5cdFx0XHRcdFx0Ly8gU2V0IGluaXRpYWwgdmFsdWVzXG5cdFx0XHRcdFx0dGhpcy5yZXNldCgpO1xuXHRcdFx0XHR9LFxuXHRcblx0XHRcdFx0LyoqXG5cdCAgICAqIFJlc2V0cyB0aGlzIGhhc2hlciB0byBpdHMgaW5pdGlhbCBzdGF0ZS5cblx0ICAgICpcblx0ICAgICogQGV4YW1wbGVcblx0ICAgICpcblx0ICAgICogICAgIGhhc2hlci5yZXNldCgpO1xuXHQgICAgKi9cblx0XHRcdFx0cmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KCkge1xuXHRcdFx0XHRcdC8vIFJlc2V0IGRhdGEgYnVmZmVyXG5cdFx0XHRcdFx0QnVmZmVyZWRCbG9ja0FsZ29yaXRobS5yZXNldC5jYWxsKHRoaXMpO1xuXHRcblx0XHRcdFx0XHQvLyBQZXJmb3JtIGNvbmNyZXRlLWhhc2hlciBsb2dpY1xuXHRcdFx0XHRcdHRoaXMuX2RvUmVzZXQoKTtcblx0XHRcdFx0fSxcblx0XG5cdFx0XHRcdC8qKlxuXHQgICAgKiBVcGRhdGVzIHRoaXMgaGFzaGVyIHdpdGggYSBtZXNzYWdlLlxuXHQgICAgKlxuXHQgICAgKiBAcGFyYW0ge1dvcmRBcnJheXxzdHJpbmd9IG1lc3NhZ2VVcGRhdGUgVGhlIG1lc3NhZ2UgdG8gYXBwZW5kLlxuXHQgICAgKlxuXHQgICAgKiBAcmV0dXJuIHtIYXNoZXJ9IFRoaXMgaGFzaGVyLlxuXHQgICAgKlxuXHQgICAgKiBAZXhhbXBsZVxuXHQgICAgKlxuXHQgICAgKiAgICAgaGFzaGVyLnVwZGF0ZSgnbWVzc2FnZScpO1xuXHQgICAgKiAgICAgaGFzaGVyLnVwZGF0ZSh3b3JkQXJyYXkpO1xuXHQgICAgKi9cblx0XHRcdFx0dXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUobWVzc2FnZVVwZGF0ZSkge1xuXHRcdFx0XHRcdC8vIEFwcGVuZFxuXHRcdFx0XHRcdHRoaXMuX2FwcGVuZChtZXNzYWdlVXBkYXRlKTtcblx0XG5cdFx0XHRcdFx0Ly8gVXBkYXRlIHRoZSBoYXNoXG5cdFx0XHRcdFx0dGhpcy5fcHJvY2VzcygpO1xuXHRcblx0XHRcdFx0XHQvLyBDaGFpbmFibGVcblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fSxcblx0XG5cdFx0XHRcdC8qKlxuXHQgICAgKiBGaW5hbGl6ZXMgdGhlIGhhc2ggY29tcHV0YXRpb24uXG5cdCAgICAqIE5vdGUgdGhhdCB0aGUgZmluYWxpemUgb3BlcmF0aW9uIGlzIGVmZmVjdGl2ZWx5IGEgZGVzdHJ1Y3RpdmUsIHJlYWQtb25jZSBvcGVyYXRpb24uXG5cdCAgICAqXG5cdCAgICAqIEBwYXJhbSB7V29yZEFycmF5fHN0cmluZ30gbWVzc2FnZVVwZGF0ZSAoT3B0aW9uYWwpIEEgZmluYWwgbWVzc2FnZSB1cGRhdGUuXG5cdCAgICAqXG5cdCAgICAqIEByZXR1cm4ge1dvcmRBcnJheX0gVGhlIGhhc2guXG5cdCAgICAqXG5cdCAgICAqIEBleGFtcGxlXG5cdCAgICAqXG5cdCAgICAqICAgICB2YXIgaGFzaCA9IGhhc2hlci5maW5hbGl6ZSgpO1xuXHQgICAgKiAgICAgdmFyIGhhc2ggPSBoYXNoZXIuZmluYWxpemUoJ21lc3NhZ2UnKTtcblx0ICAgICogICAgIHZhciBoYXNoID0gaGFzaGVyLmZpbmFsaXplKHdvcmRBcnJheSk7XG5cdCAgICAqL1xuXHRcdFx0XHRmaW5hbGl6ZTogZnVuY3Rpb24gZmluYWxpemUobWVzc2FnZVVwZGF0ZSkge1xuXHRcdFx0XHRcdC8vIEZpbmFsIG1lc3NhZ2UgdXBkYXRlXG5cdFx0XHRcdFx0aWYgKG1lc3NhZ2VVcGRhdGUpIHtcblx0XHRcdFx0XHRcdHRoaXMuX2FwcGVuZChtZXNzYWdlVXBkYXRlKTtcblx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdC8vIFBlcmZvcm0gY29uY3JldGUtaGFzaGVyIGxvZ2ljXG5cdFx0XHRcdFx0dmFyIGhhc2ggPSB0aGlzLl9kb0ZpbmFsaXplKCk7XG5cdFxuXHRcdFx0XHRcdHJldHVybiBoYXNoO1xuXHRcdFx0XHR9LFxuXHRcblx0XHRcdFx0YmxvY2tTaXplOiA1MTIgLyAzMixcblx0XG5cdFx0XHRcdC8qKlxuXHQgICAgKiBDcmVhdGVzIGEgc2hvcnRjdXQgZnVuY3Rpb24gdG8gYSBoYXNoZXIncyBvYmplY3QgaW50ZXJmYWNlLlxuXHQgICAgKlxuXHQgICAgKiBAcGFyYW0ge0hhc2hlcn0gaGFzaGVyIFRoZSBoYXNoZXIgdG8gY3JlYXRlIGEgaGVscGVyIGZvci5cblx0ICAgICpcblx0ICAgICogQHJldHVybiB7RnVuY3Rpb259IFRoZSBzaG9ydGN1dCBmdW5jdGlvbi5cblx0ICAgICpcblx0ICAgICogQHN0YXRpY1xuXHQgICAgKlxuXHQgICAgKiBAZXhhbXBsZVxuXHQgICAgKlxuXHQgICAgKiAgICAgdmFyIFNIQTI1NiA9IENyeXB0b0pTLmxpYi5IYXNoZXIuX2NyZWF0ZUhlbHBlcihDcnlwdG9KUy5hbGdvLlNIQTI1Nik7XG5cdCAgICAqL1xuXHRcdFx0XHRfY3JlYXRlSGVscGVyOiBmdW5jdGlvbiBfY3JlYXRlSGVscGVyKGhhc2hlcikge1xuXHRcdFx0XHRcdHJldHVybiBmdW5jdGlvbiAobWVzc2FnZSwgY2ZnKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gbmV3IGhhc2hlci5pbml0KGNmZykuZmluYWxpemUobWVzc2FnZSk7XG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0fSxcblx0XG5cdFx0XHRcdC8qKlxuXHQgICAgKiBDcmVhdGVzIGEgc2hvcnRjdXQgZnVuY3Rpb24gdG8gdGhlIEhNQUMncyBvYmplY3QgaW50ZXJmYWNlLlxuXHQgICAgKlxuXHQgICAgKiBAcGFyYW0ge0hhc2hlcn0gaGFzaGVyIFRoZSBoYXNoZXIgdG8gdXNlIGluIHRoaXMgSE1BQyBoZWxwZXIuXG5cdCAgICAqXG5cdCAgICAqIEByZXR1cm4ge0Z1bmN0aW9ufSBUaGUgc2hvcnRjdXQgZnVuY3Rpb24uXG5cdCAgICAqXG5cdCAgICAqIEBzdGF0aWNcblx0ICAgICpcblx0ICAgICogQGV4YW1wbGVcblx0ICAgICpcblx0ICAgICogICAgIHZhciBIbWFjU0hBMjU2ID0gQ3J5cHRvSlMubGliLkhhc2hlci5fY3JlYXRlSG1hY0hlbHBlcihDcnlwdG9KUy5hbGdvLlNIQTI1Nik7XG5cdCAgICAqL1xuXHRcdFx0XHRfY3JlYXRlSG1hY0hlbHBlcjogZnVuY3Rpb24gX2NyZWF0ZUhtYWNIZWxwZXIoaGFzaGVyKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZ1bmN0aW9uIChtZXNzYWdlLCBrZXkpIHtcblx0XHRcdFx0XHRcdHJldHVybiBuZXcgQ19hbGdvLkhNQUMuaW5pdChoYXNoZXIsIGtleSkuZmluYWxpemUobWVzc2FnZSk7XG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFxuXHRcdFx0LyoqXG5cdCAgICogQWxnb3JpdGhtIG5hbWVzcGFjZS5cblx0ICAgKi9cblx0XHRcdHZhciBDX2FsZ28gPSBDLmFsZ28gPSB7fTtcblx0XG5cdFx0XHRyZXR1cm4gQztcblx0XHR9KE1hdGgpO1xuXHRcblx0XHRyZXR1cm4gQ3J5cHRvSlM7XG5cdH0pO1xuXG4vKioqLyB9LFxuLyogMiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXywgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXywgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX187XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHR2YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cdFxuXHQ7KGZ1bmN0aW9uIChyb290LCBmYWN0b3J5KSB7XG5cdFx0aWYgKCggZmFsc2UgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZihleHBvcnRzKSkgPT09IFwib2JqZWN0XCIpIHtcblx0XHRcdC8vIENvbW1vbkpTXG5cdFx0XHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMgPSBmYWN0b3J5KF9fd2VicGFja19yZXF1aXJlX18oMSkpO1xuXHRcdH0gZWxzZSBpZiAodHJ1ZSkge1xuXHRcdFx0Ly8gQU1EXG5cdFx0XHQhKF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18gPSBbX193ZWJwYWNrX3JlcXVpcmVfXygxKV0sIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyA9IChmYWN0b3J5KSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gPSAodHlwZW9mIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyA9PT0gJ2Z1bmN0aW9uJyA/IChfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18uYXBwbHkoZXhwb3J0cywgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXykpIDogX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fKSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gIT09IHVuZGVmaW5lZCAmJiAobW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXykpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBHbG9iYWwgKGJyb3dzZXIpXG5cdFx0XHRmYWN0b3J5KHJvb3QuQ3J5cHRvSlMpO1xuXHRcdH1cblx0fSkodW5kZWZpbmVkLCBmdW5jdGlvbiAoQ3J5cHRvSlMpIHtcblx0XG5cdFx0LyoqXG5cdCAgKiBDaXBoZXIgY29yZSBjb21wb25lbnRzLlxuXHQgICovXG5cdFx0Q3J5cHRvSlMubGliLkNpcGhlciB8fCBmdW5jdGlvbiAodW5kZWZpbmVkKSB7XG5cdFx0XHQvLyBTaG9ydGN1dHNcblx0XHRcdHZhciBDID0gQ3J5cHRvSlM7XG5cdFx0XHR2YXIgQ19saWIgPSBDLmxpYjtcblx0XHRcdHZhciBCYXNlID0gQ19saWIuQmFzZTtcblx0XHRcdHZhciBXb3JkQXJyYXkgPSBDX2xpYi5Xb3JkQXJyYXk7XG5cdFx0XHR2YXIgQnVmZmVyZWRCbG9ja0FsZ29yaXRobSA9IENfbGliLkJ1ZmZlcmVkQmxvY2tBbGdvcml0aG07XG5cdFx0XHR2YXIgQ19lbmMgPSBDLmVuYztcblx0XHRcdHZhciBVdGY4ID0gQ19lbmMuVXRmODtcblx0XHRcdHZhciBCYXNlNjQgPSBDX2VuYy5CYXNlNjQ7XG5cdFx0XHR2YXIgQ19hbGdvID0gQy5hbGdvO1xuXHRcdFx0dmFyIEV2cEtERiA9IENfYWxnby5FdnBLREY7XG5cdFxuXHRcdFx0LyoqXG5cdCAgICogQWJzdHJhY3QgYmFzZSBjaXBoZXIgdGVtcGxhdGUuXG5cdCAgICpcblx0ICAgKiBAcHJvcGVydHkge251bWJlcn0ga2V5U2l6ZSBUaGlzIGNpcGhlcidzIGtleSBzaXplLiBEZWZhdWx0OiA0ICgxMjggYml0cylcblx0ICAgKiBAcHJvcGVydHkge251bWJlcn0gaXZTaXplIFRoaXMgY2lwaGVyJ3MgSVYgc2l6ZS4gRGVmYXVsdDogNCAoMTI4IGJpdHMpXG5cdCAgICogQHByb3BlcnR5IHtudW1iZXJ9IF9FTkNfWEZPUk1fTU9ERSBBIGNvbnN0YW50IHJlcHJlc2VudGluZyBlbmNyeXB0aW9uIG1vZGUuXG5cdCAgICogQHByb3BlcnR5IHtudW1iZXJ9IF9ERUNfWEZPUk1fTU9ERSBBIGNvbnN0YW50IHJlcHJlc2VudGluZyBkZWNyeXB0aW9uIG1vZGUuXG5cdCAgICovXG5cdFx0XHR2YXIgQ2lwaGVyID0gQ19saWIuQ2lwaGVyID0gQnVmZmVyZWRCbG9ja0FsZ29yaXRobS5leHRlbmQoe1xuXHRcdFx0XHQvKipcblx0ICAgICogQ29uZmlndXJhdGlvbiBvcHRpb25zLlxuXHQgICAgKlxuXHQgICAgKiBAcHJvcGVydHkge1dvcmRBcnJheX0gaXYgVGhlIElWIHRvIHVzZSBmb3IgdGhpcyBvcGVyYXRpb24uXG5cdCAgICAqL1xuXHRcdFx0XHRjZmc6IEJhc2UuZXh0ZW5kKCksXG5cdFxuXHRcdFx0XHQvKipcblx0ICAgICogQ3JlYXRlcyB0aGlzIGNpcGhlciBpbiBlbmNyeXB0aW9uIG1vZGUuXG5cdCAgICAqXG5cdCAgICAqIEBwYXJhbSB7V29yZEFycmF5fSBrZXkgVGhlIGtleS5cblx0ICAgICogQHBhcmFtIHtPYmplY3R9IGNmZyAoT3B0aW9uYWwpIFRoZSBjb25maWd1cmF0aW9uIG9wdGlvbnMgdG8gdXNlIGZvciB0aGlzIG9wZXJhdGlvbi5cblx0ICAgICpcblx0ICAgICogQHJldHVybiB7Q2lwaGVyfSBBIGNpcGhlciBpbnN0YW5jZS5cblx0ICAgICpcblx0ICAgICogQHN0YXRpY1xuXHQgICAgKlxuXHQgICAgKiBAZXhhbXBsZVxuXHQgICAgKlxuXHQgICAgKiAgICAgdmFyIGNpcGhlciA9IENyeXB0b0pTLmFsZ28uQUVTLmNyZWF0ZUVuY3J5cHRvcihrZXlXb3JkQXJyYXksIHsgaXY6IGl2V29yZEFycmF5IH0pO1xuXHQgICAgKi9cblx0XHRcdFx0Y3JlYXRlRW5jcnlwdG9yOiBmdW5jdGlvbiBjcmVhdGVFbmNyeXB0b3Ioa2V5LCBjZmcpIHtcblx0XHRcdFx0XHRyZXR1cm4gdGhpcy5jcmVhdGUodGhpcy5fRU5DX1hGT1JNX01PREUsIGtleSwgY2ZnKTtcblx0XHRcdFx0fSxcblx0XG5cdFx0XHRcdC8qKlxuXHQgICAgKiBDcmVhdGVzIHRoaXMgY2lwaGVyIGluIGRlY3J5cHRpb24gbW9kZS5cblx0ICAgICpcblx0ICAgICogQHBhcmFtIHtXb3JkQXJyYXl9IGtleSBUaGUga2V5LlxuXHQgICAgKiBAcGFyYW0ge09iamVjdH0gY2ZnIChPcHRpb25hbCkgVGhlIGNvbmZpZ3VyYXRpb24gb3B0aW9ucyB0byB1c2UgZm9yIHRoaXMgb3BlcmF0aW9uLlxuXHQgICAgKlxuXHQgICAgKiBAcmV0dXJuIHtDaXBoZXJ9IEEgY2lwaGVyIGluc3RhbmNlLlxuXHQgICAgKlxuXHQgICAgKiBAc3RhdGljXG5cdCAgICAqXG5cdCAgICAqIEBleGFtcGxlXG5cdCAgICAqXG5cdCAgICAqICAgICB2YXIgY2lwaGVyID0gQ3J5cHRvSlMuYWxnby5BRVMuY3JlYXRlRGVjcnlwdG9yKGtleVdvcmRBcnJheSwgeyBpdjogaXZXb3JkQXJyYXkgfSk7XG5cdCAgICAqL1xuXHRcdFx0XHRjcmVhdGVEZWNyeXB0b3I6IGZ1bmN0aW9uIGNyZWF0ZURlY3J5cHRvcihrZXksIGNmZykge1xuXHRcdFx0XHRcdHJldHVybiB0aGlzLmNyZWF0ZSh0aGlzLl9ERUNfWEZPUk1fTU9ERSwga2V5LCBjZmcpO1xuXHRcdFx0XHR9LFxuXHRcblx0XHRcdFx0LyoqXG5cdCAgICAqIEluaXRpYWxpemVzIGEgbmV3bHkgY3JlYXRlZCBjaXBoZXIuXG5cdCAgICAqXG5cdCAgICAqIEBwYXJhbSB7bnVtYmVyfSB4Zm9ybU1vZGUgRWl0aGVyIHRoZSBlbmNyeXB0aW9uIG9yIGRlY3J5cHRpb24gdHJhbnNvcm1hdGlvbiBtb2RlIGNvbnN0YW50LlxuXHQgICAgKiBAcGFyYW0ge1dvcmRBcnJheX0ga2V5IFRoZSBrZXkuXG5cdCAgICAqIEBwYXJhbSB7T2JqZWN0fSBjZmcgKE9wdGlvbmFsKSBUaGUgY29uZmlndXJhdGlvbiBvcHRpb25zIHRvIHVzZSBmb3IgdGhpcyBvcGVyYXRpb24uXG5cdCAgICAqXG5cdCAgICAqIEBleGFtcGxlXG5cdCAgICAqXG5cdCAgICAqICAgICB2YXIgY2lwaGVyID0gQ3J5cHRvSlMuYWxnby5BRVMuY3JlYXRlKENyeXB0b0pTLmFsZ28uQUVTLl9FTkNfWEZPUk1fTU9ERSwga2V5V29yZEFycmF5LCB7IGl2OiBpdldvcmRBcnJheSB9KTtcblx0ICAgICovXG5cdFx0XHRcdGluaXQ6IGZ1bmN0aW9uIGluaXQoeGZvcm1Nb2RlLCBrZXksIGNmZykge1xuXHRcdFx0XHRcdC8vIEFwcGx5IGNvbmZpZyBkZWZhdWx0c1xuXHRcdFx0XHRcdHRoaXMuY2ZnID0gdGhpcy5jZmcuZXh0ZW5kKGNmZyk7XG5cdFxuXHRcdFx0XHRcdC8vIFN0b3JlIHRyYW5zZm9ybSBtb2RlIGFuZCBrZXlcblx0XHRcdFx0XHR0aGlzLl94Zm9ybU1vZGUgPSB4Zm9ybU1vZGU7XG5cdFx0XHRcdFx0dGhpcy5fa2V5ID0ga2V5O1xuXHRcblx0XHRcdFx0XHQvLyBTZXQgaW5pdGlhbCB2YWx1ZXNcblx0XHRcdFx0XHR0aGlzLnJlc2V0KCk7XG5cdFx0XHRcdH0sXG5cdFxuXHRcdFx0XHQvKipcblx0ICAgICogUmVzZXRzIHRoaXMgY2lwaGVyIHRvIGl0cyBpbml0aWFsIHN0YXRlLlxuXHQgICAgKlxuXHQgICAgKiBAZXhhbXBsZVxuXHQgICAgKlxuXHQgICAgKiAgICAgY2lwaGVyLnJlc2V0KCk7XG5cdCAgICAqL1xuXHRcdFx0XHRyZXNldDogZnVuY3Rpb24gcmVzZXQoKSB7XG5cdFx0XHRcdFx0Ly8gUmVzZXQgZGF0YSBidWZmZXJcblx0XHRcdFx0XHRCdWZmZXJlZEJsb2NrQWxnb3JpdGhtLnJlc2V0LmNhbGwodGhpcyk7XG5cdFxuXHRcdFx0XHRcdC8vIFBlcmZvcm0gY29uY3JldGUtY2lwaGVyIGxvZ2ljXG5cdFx0XHRcdFx0dGhpcy5fZG9SZXNldCgpO1xuXHRcdFx0XHR9LFxuXHRcblx0XHRcdFx0LyoqXG5cdCAgICAqIEFkZHMgZGF0YSB0byBiZSBlbmNyeXB0ZWQgb3IgZGVjcnlwdGVkLlxuXHQgICAgKlxuXHQgICAgKiBAcGFyYW0ge1dvcmRBcnJheXxzdHJpbmd9IGRhdGFVcGRhdGUgVGhlIGRhdGEgdG8gZW5jcnlwdCBvciBkZWNyeXB0LlxuXHQgICAgKlxuXHQgICAgKiBAcmV0dXJuIHtXb3JkQXJyYXl9IFRoZSBkYXRhIGFmdGVyIHByb2Nlc3NpbmcuXG5cdCAgICAqXG5cdCAgICAqIEBleGFtcGxlXG5cdCAgICAqXG5cdCAgICAqICAgICB2YXIgZW5jcnlwdGVkID0gY2lwaGVyLnByb2Nlc3MoJ2RhdGEnKTtcblx0ICAgICogICAgIHZhciBlbmNyeXB0ZWQgPSBjaXBoZXIucHJvY2Vzcyh3b3JkQXJyYXkpO1xuXHQgICAgKi9cblx0XHRcdFx0cHJvY2VzczogZnVuY3Rpb24gcHJvY2VzcyhkYXRhVXBkYXRlKSB7XG5cdFx0XHRcdFx0Ly8gQXBwZW5kXG5cdFx0XHRcdFx0dGhpcy5fYXBwZW5kKGRhdGFVcGRhdGUpO1xuXHRcblx0XHRcdFx0XHQvLyBQcm9jZXNzIGF2YWlsYWJsZSBibG9ja3Ncblx0XHRcdFx0XHRyZXR1cm4gdGhpcy5fcHJvY2VzcygpO1xuXHRcdFx0XHR9LFxuXHRcblx0XHRcdFx0LyoqXG5cdCAgICAqIEZpbmFsaXplcyB0aGUgZW5jcnlwdGlvbiBvciBkZWNyeXB0aW9uIHByb2Nlc3MuXG5cdCAgICAqIE5vdGUgdGhhdCB0aGUgZmluYWxpemUgb3BlcmF0aW9uIGlzIGVmZmVjdGl2ZWx5IGEgZGVzdHJ1Y3RpdmUsIHJlYWQtb25jZSBvcGVyYXRpb24uXG5cdCAgICAqXG5cdCAgICAqIEBwYXJhbSB7V29yZEFycmF5fHN0cmluZ30gZGF0YVVwZGF0ZSBUaGUgZmluYWwgZGF0YSB0byBlbmNyeXB0IG9yIGRlY3J5cHQuXG5cdCAgICAqXG5cdCAgICAqIEByZXR1cm4ge1dvcmRBcnJheX0gVGhlIGRhdGEgYWZ0ZXIgZmluYWwgcHJvY2Vzc2luZy5cblx0ICAgICpcblx0ICAgICogQGV4YW1wbGVcblx0ICAgICpcblx0ICAgICogICAgIHZhciBlbmNyeXB0ZWQgPSBjaXBoZXIuZmluYWxpemUoKTtcblx0ICAgICogICAgIHZhciBlbmNyeXB0ZWQgPSBjaXBoZXIuZmluYWxpemUoJ2RhdGEnKTtcblx0ICAgICogICAgIHZhciBlbmNyeXB0ZWQgPSBjaXBoZXIuZmluYWxpemUod29yZEFycmF5KTtcblx0ICAgICovXG5cdFx0XHRcdGZpbmFsaXplOiBmdW5jdGlvbiBmaW5hbGl6ZShkYXRhVXBkYXRlKSB7XG5cdFx0XHRcdFx0Ly8gRmluYWwgZGF0YSB1cGRhdGVcblx0XHRcdFx0XHRpZiAoZGF0YVVwZGF0ZSkge1xuXHRcdFx0XHRcdFx0dGhpcy5fYXBwZW5kKGRhdGFVcGRhdGUpO1xuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0Ly8gUGVyZm9ybSBjb25jcmV0ZS1jaXBoZXIgbG9naWNcblx0XHRcdFx0XHR2YXIgZmluYWxQcm9jZXNzZWREYXRhID0gdGhpcy5fZG9GaW5hbGl6ZSgpO1xuXHRcblx0XHRcdFx0XHRyZXR1cm4gZmluYWxQcm9jZXNzZWREYXRhO1xuXHRcdFx0XHR9LFxuXHRcblx0XHRcdFx0a2V5U2l6ZTogMTI4IC8gMzIsXG5cdFxuXHRcdFx0XHRpdlNpemU6IDEyOCAvIDMyLFxuXHRcblx0XHRcdFx0X0VOQ19YRk9STV9NT0RFOiAxLFxuXHRcblx0XHRcdFx0X0RFQ19YRk9STV9NT0RFOiAyLFxuXHRcblx0XHRcdFx0LyoqXG5cdCAgICAqIENyZWF0ZXMgc2hvcnRjdXQgZnVuY3Rpb25zIHRvIGEgY2lwaGVyJ3Mgb2JqZWN0IGludGVyZmFjZS5cblx0ICAgICpcblx0ICAgICogQHBhcmFtIHtDaXBoZXJ9IGNpcGhlciBUaGUgY2lwaGVyIHRvIGNyZWF0ZSBhIGhlbHBlciBmb3IuXG5cdCAgICAqXG5cdCAgICAqIEByZXR1cm4ge09iamVjdH0gQW4gb2JqZWN0IHdpdGggZW5jcnlwdCBhbmQgZGVjcnlwdCBzaG9ydGN1dCBmdW5jdGlvbnMuXG5cdCAgICAqXG5cdCAgICAqIEBzdGF0aWNcblx0ICAgICpcblx0ICAgICogQGV4YW1wbGVcblx0ICAgICpcblx0ICAgICogICAgIHZhciBBRVMgPSBDcnlwdG9KUy5saWIuQ2lwaGVyLl9jcmVhdGVIZWxwZXIoQ3J5cHRvSlMuYWxnby5BRVMpO1xuXHQgICAgKi9cblx0XHRcdFx0X2NyZWF0ZUhlbHBlcjogZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdGZ1bmN0aW9uIHNlbGVjdENpcGhlclN0cmF0ZWd5KGtleSkge1xuXHRcdFx0XHRcdFx0aWYgKHR5cGVvZiBrZXkgPT0gJ3N0cmluZycpIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIFBhc3N3b3JkQmFzZWRDaXBoZXI7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gU2VyaWFsaXphYmxlQ2lwaGVyO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0cmV0dXJuIGZ1bmN0aW9uIChjaXBoZXIpIHtcblx0XHRcdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0XHRcdGVuY3J5cHQ6IGZ1bmN0aW9uIGVuY3J5cHQobWVzc2FnZSwga2V5LCBjZmcpIHtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gc2VsZWN0Q2lwaGVyU3RyYXRlZ3koa2V5KS5lbmNyeXB0KGNpcGhlciwgbWVzc2FnZSwga2V5LCBjZmcpO1xuXHRcdFx0XHRcdFx0XHR9LFxuXHRcblx0XHRcdFx0XHRcdFx0ZGVjcnlwdDogZnVuY3Rpb24gZGVjcnlwdChjaXBoZXJ0ZXh0LCBrZXksIGNmZykge1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBzZWxlY3RDaXBoZXJTdHJhdGVneShrZXkpLmRlY3J5cHQoY2lwaGVyLCBjaXBoZXJ0ZXh0LCBrZXksIGNmZyk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0fSgpXG5cdFx0XHR9KTtcblx0XG5cdFx0XHQvKipcblx0ICAgKiBBYnN0cmFjdCBiYXNlIHN0cmVhbSBjaXBoZXIgdGVtcGxhdGUuXG5cdCAgICpcblx0ICAgKiBAcHJvcGVydHkge251bWJlcn0gYmxvY2tTaXplIFRoZSBudW1iZXIgb2YgMzItYml0IHdvcmRzIHRoaXMgY2lwaGVyIG9wZXJhdGVzIG9uLiBEZWZhdWx0OiAxICgzMiBiaXRzKVxuXHQgICAqL1xuXHRcdFx0dmFyIFN0cmVhbUNpcGhlciA9IENfbGliLlN0cmVhbUNpcGhlciA9IENpcGhlci5leHRlbmQoe1xuXHRcdFx0XHRfZG9GaW5hbGl6ZTogZnVuY3Rpb24gX2RvRmluYWxpemUoKSB7XG5cdFx0XHRcdFx0Ly8gUHJvY2VzcyBwYXJ0aWFsIGJsb2Nrc1xuXHRcdFx0XHRcdHZhciBmaW5hbFByb2Nlc3NlZEJsb2NrcyA9IHRoaXMuX3Byb2Nlc3MoISEnZmx1c2gnKTtcblx0XG5cdFx0XHRcdFx0cmV0dXJuIGZpbmFsUHJvY2Vzc2VkQmxvY2tzO1xuXHRcdFx0XHR9LFxuXHRcblx0XHRcdFx0YmxvY2tTaXplOiAxXG5cdFx0XHR9KTtcblx0XG5cdFx0XHQvKipcblx0ICAgKiBNb2RlIG5hbWVzcGFjZS5cblx0ICAgKi9cblx0XHRcdHZhciBDX21vZGUgPSBDLm1vZGUgPSB7fTtcblx0XG5cdFx0XHQvKipcblx0ICAgKiBBYnN0cmFjdCBiYXNlIGJsb2NrIGNpcGhlciBtb2RlIHRlbXBsYXRlLlxuXHQgICAqL1xuXHRcdFx0dmFyIEJsb2NrQ2lwaGVyTW9kZSA9IENfbGliLkJsb2NrQ2lwaGVyTW9kZSA9IEJhc2UuZXh0ZW5kKHtcblx0XHRcdFx0LyoqXG5cdCAgICAqIENyZWF0ZXMgdGhpcyBtb2RlIGZvciBlbmNyeXB0aW9uLlxuXHQgICAgKlxuXHQgICAgKiBAcGFyYW0ge0NpcGhlcn0gY2lwaGVyIEEgYmxvY2sgY2lwaGVyIGluc3RhbmNlLlxuXHQgICAgKiBAcGFyYW0ge0FycmF5fSBpdiBUaGUgSVYgd29yZHMuXG5cdCAgICAqXG5cdCAgICAqIEBzdGF0aWNcblx0ICAgICpcblx0ICAgICogQGV4YW1wbGVcblx0ICAgICpcblx0ICAgICogICAgIHZhciBtb2RlID0gQ3J5cHRvSlMubW9kZS5DQkMuY3JlYXRlRW5jcnlwdG9yKGNpcGhlciwgaXYud29yZHMpO1xuXHQgICAgKi9cblx0XHRcdFx0Y3JlYXRlRW5jcnlwdG9yOiBmdW5jdGlvbiBjcmVhdGVFbmNyeXB0b3IoY2lwaGVyLCBpdikge1xuXHRcdFx0XHRcdHJldHVybiB0aGlzLkVuY3J5cHRvci5jcmVhdGUoY2lwaGVyLCBpdik7XG5cdFx0XHRcdH0sXG5cdFxuXHRcdFx0XHQvKipcblx0ICAgICogQ3JlYXRlcyB0aGlzIG1vZGUgZm9yIGRlY3J5cHRpb24uXG5cdCAgICAqXG5cdCAgICAqIEBwYXJhbSB7Q2lwaGVyfSBjaXBoZXIgQSBibG9jayBjaXBoZXIgaW5zdGFuY2UuXG5cdCAgICAqIEBwYXJhbSB7QXJyYXl9IGl2IFRoZSBJViB3b3Jkcy5cblx0ICAgICpcblx0ICAgICogQHN0YXRpY1xuXHQgICAgKlxuXHQgICAgKiBAZXhhbXBsZVxuXHQgICAgKlxuXHQgICAgKiAgICAgdmFyIG1vZGUgPSBDcnlwdG9KUy5tb2RlLkNCQy5jcmVhdGVEZWNyeXB0b3IoY2lwaGVyLCBpdi53b3Jkcyk7XG5cdCAgICAqL1xuXHRcdFx0XHRjcmVhdGVEZWNyeXB0b3I6IGZ1bmN0aW9uIGNyZWF0ZURlY3J5cHRvcihjaXBoZXIsIGl2KSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXMuRGVjcnlwdG9yLmNyZWF0ZShjaXBoZXIsIGl2KTtcblx0XHRcdFx0fSxcblx0XG5cdFx0XHRcdC8qKlxuXHQgICAgKiBJbml0aWFsaXplcyBhIG5ld2x5IGNyZWF0ZWQgbW9kZS5cblx0ICAgICpcblx0ICAgICogQHBhcmFtIHtDaXBoZXJ9IGNpcGhlciBBIGJsb2NrIGNpcGhlciBpbnN0YW5jZS5cblx0ICAgICogQHBhcmFtIHtBcnJheX0gaXYgVGhlIElWIHdvcmRzLlxuXHQgICAgKlxuXHQgICAgKiBAZXhhbXBsZVxuXHQgICAgKlxuXHQgICAgKiAgICAgdmFyIG1vZGUgPSBDcnlwdG9KUy5tb2RlLkNCQy5FbmNyeXB0b3IuY3JlYXRlKGNpcGhlciwgaXYud29yZHMpO1xuXHQgICAgKi9cblx0XHRcdFx0aW5pdDogZnVuY3Rpb24gaW5pdChjaXBoZXIsIGl2KSB7XG5cdFx0XHRcdFx0dGhpcy5fY2lwaGVyID0gY2lwaGVyO1xuXHRcdFx0XHRcdHRoaXMuX2l2ID0gaXY7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcblx0XHRcdC8qKlxuXHQgICAqIENpcGhlciBCbG9jayBDaGFpbmluZyBtb2RlLlxuXHQgICAqL1xuXHRcdFx0dmFyIENCQyA9IENfbW9kZS5DQkMgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdC8qKlxuXHQgICAgKiBBYnN0cmFjdCBiYXNlIENCQyBtb2RlLlxuXHQgICAgKi9cblx0XHRcdFx0dmFyIENCQyA9IEJsb2NrQ2lwaGVyTW9kZS5leHRlbmQoKTtcblx0XG5cdFx0XHRcdC8qKlxuXHQgICAgKiBDQkMgZW5jcnlwdG9yLlxuXHQgICAgKi9cblx0XHRcdFx0Q0JDLkVuY3J5cHRvciA9IENCQy5leHRlbmQoe1xuXHRcdFx0XHRcdC8qKlxuXHQgICAgICogUHJvY2Vzc2VzIHRoZSBkYXRhIGJsb2NrIGF0IG9mZnNldC5cblx0ICAgICAqXG5cdCAgICAgKiBAcGFyYW0ge0FycmF5fSB3b3JkcyBUaGUgZGF0YSB3b3JkcyB0byBvcGVyYXRlIG9uLlxuXHQgICAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBUaGUgb2Zmc2V0IHdoZXJlIHRoZSBibG9jayBzdGFydHMuXG5cdCAgICAgKlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiAgICAgbW9kZS5wcm9jZXNzQmxvY2soZGF0YS53b3Jkcywgb2Zmc2V0KTtcblx0ICAgICAqL1xuXHRcdFx0XHRcdHByb2Nlc3NCbG9jazogZnVuY3Rpb24gcHJvY2Vzc0Jsb2NrKHdvcmRzLCBvZmZzZXQpIHtcblx0XHRcdFx0XHRcdC8vIFNob3J0Y3V0c1xuXHRcdFx0XHRcdFx0dmFyIGNpcGhlciA9IHRoaXMuX2NpcGhlcjtcblx0XHRcdFx0XHRcdHZhciBibG9ja1NpemUgPSBjaXBoZXIuYmxvY2tTaXplO1xuXHRcblx0XHRcdFx0XHRcdC8vIFhPUiBhbmQgZW5jcnlwdFxuXHRcdFx0XHRcdFx0eG9yQmxvY2suY2FsbCh0aGlzLCB3b3Jkcywgb2Zmc2V0LCBibG9ja1NpemUpO1xuXHRcdFx0XHRcdFx0Y2lwaGVyLmVuY3J5cHRCbG9jayh3b3Jkcywgb2Zmc2V0KTtcblx0XG5cdFx0XHRcdFx0XHQvLyBSZW1lbWJlciB0aGlzIGJsb2NrIHRvIHVzZSB3aXRoIG5leHQgYmxvY2tcblx0XHRcdFx0XHRcdHRoaXMuX3ByZXZCbG9jayA9IHdvcmRzLnNsaWNlKG9mZnNldCwgb2Zmc2V0ICsgYmxvY2tTaXplKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcblx0XHRcdFx0LyoqXG5cdCAgICAqIENCQyBkZWNyeXB0b3IuXG5cdCAgICAqL1xuXHRcdFx0XHRDQkMuRGVjcnlwdG9yID0gQ0JDLmV4dGVuZCh7XG5cdFx0XHRcdFx0LyoqXG5cdCAgICAgKiBQcm9jZXNzZXMgdGhlIGRhdGEgYmxvY2sgYXQgb2Zmc2V0LlxuXHQgICAgICpcblx0ICAgICAqIEBwYXJhbSB7QXJyYXl9IHdvcmRzIFRoZSBkYXRhIHdvcmRzIHRvIG9wZXJhdGUgb24uXG5cdCAgICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IFRoZSBvZmZzZXQgd2hlcmUgdGhlIGJsb2NrIHN0YXJ0cy5cblx0ICAgICAqXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqICAgICBtb2RlLnByb2Nlc3NCbG9jayhkYXRhLndvcmRzLCBvZmZzZXQpO1xuXHQgICAgICovXG5cdFx0XHRcdFx0cHJvY2Vzc0Jsb2NrOiBmdW5jdGlvbiBwcm9jZXNzQmxvY2sod29yZHMsIG9mZnNldCkge1xuXHRcdFx0XHRcdFx0Ly8gU2hvcnRjdXRzXG5cdFx0XHRcdFx0XHR2YXIgY2lwaGVyID0gdGhpcy5fY2lwaGVyO1xuXHRcdFx0XHRcdFx0dmFyIGJsb2NrU2l6ZSA9IGNpcGhlci5ibG9ja1NpemU7XG5cdFxuXHRcdFx0XHRcdFx0Ly8gUmVtZW1iZXIgdGhpcyBibG9jayB0byB1c2Ugd2l0aCBuZXh0IGJsb2NrXG5cdFx0XHRcdFx0XHR2YXIgdGhpc0Jsb2NrID0gd29yZHMuc2xpY2Uob2Zmc2V0LCBvZmZzZXQgKyBibG9ja1NpemUpO1xuXHRcblx0XHRcdFx0XHRcdC8vIERlY3J5cHQgYW5kIFhPUlxuXHRcdFx0XHRcdFx0Y2lwaGVyLmRlY3J5cHRCbG9jayh3b3Jkcywgb2Zmc2V0KTtcblx0XHRcdFx0XHRcdHhvckJsb2NrLmNhbGwodGhpcywgd29yZHMsIG9mZnNldCwgYmxvY2tTaXplKTtcblx0XG5cdFx0XHRcdFx0XHQvLyBUaGlzIGJsb2NrIGJlY29tZXMgdGhlIHByZXZpb3VzIGJsb2NrXG5cdFx0XHRcdFx0XHR0aGlzLl9wcmV2QmxvY2sgPSB0aGlzQmxvY2s7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XG5cdFx0XHRcdGZ1bmN0aW9uIHhvckJsb2NrKHdvcmRzLCBvZmZzZXQsIGJsb2NrU2l6ZSkge1xuXHRcdFx0XHRcdC8vIFNob3J0Y3V0XG5cdFx0XHRcdFx0dmFyIGl2ID0gdGhpcy5faXY7XG5cdFxuXHRcdFx0XHRcdC8vIENob29zZSBtaXhpbmcgYmxvY2tcblx0XHRcdFx0XHRpZiAoaXYpIHtcblx0XHRcdFx0XHRcdHZhciBibG9jayA9IGl2O1xuXHRcblx0XHRcdFx0XHRcdC8vIFJlbW92ZSBJViBmb3Igc3Vic2VxdWVudCBibG9ja3Ncblx0XHRcdFx0XHRcdHRoaXMuX2l2ID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHR2YXIgYmxvY2sgPSB0aGlzLl9wcmV2QmxvY2s7XG5cdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHQvLyBYT1IgYmxvY2tzXG5cdFx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBibG9ja1NpemU7IGkrKykge1xuXHRcdFx0XHRcdFx0d29yZHNbb2Zmc2V0ICsgaV0gXj0gYmxvY2tbaV07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRyZXR1cm4gQ0JDO1xuXHRcdFx0fSgpO1xuXHRcblx0XHRcdC8qKlxuXHQgICAqIFBhZGRpbmcgbmFtZXNwYWNlLlxuXHQgICAqL1xuXHRcdFx0dmFyIENfcGFkID0gQy5wYWQgPSB7fTtcblx0XG5cdFx0XHQvKipcblx0ICAgKiBQS0NTICM1LzcgcGFkZGluZyBzdHJhdGVneS5cblx0ICAgKi9cblx0XHRcdHZhciBQa2NzNyA9IENfcGFkLlBrY3M3ID0ge1xuXHRcdFx0XHQvKipcblx0ICAgICogUGFkcyBkYXRhIHVzaW5nIHRoZSBhbGdvcml0aG0gZGVmaW5lZCBpbiBQS0NTICM1LzcuXG5cdCAgICAqXG5cdCAgICAqIEBwYXJhbSB7V29yZEFycmF5fSBkYXRhIFRoZSBkYXRhIHRvIHBhZC5cblx0ICAgICogQHBhcmFtIHtudW1iZXJ9IGJsb2NrU2l6ZSBUaGUgbXVsdGlwbGUgdGhhdCB0aGUgZGF0YSBzaG91bGQgYmUgcGFkZGVkIHRvLlxuXHQgICAgKlxuXHQgICAgKiBAc3RhdGljXG5cdCAgICAqXG5cdCAgICAqIEBleGFtcGxlXG5cdCAgICAqXG5cdCAgICAqICAgICBDcnlwdG9KUy5wYWQuUGtjczcucGFkKHdvcmRBcnJheSwgNCk7XG5cdCAgICAqL1xuXHRcdFx0XHRwYWQ6IGZ1bmN0aW9uIHBhZChkYXRhLCBibG9ja1NpemUpIHtcblx0XHRcdFx0XHQvLyBTaG9ydGN1dFxuXHRcdFx0XHRcdHZhciBibG9ja1NpemVCeXRlcyA9IGJsb2NrU2l6ZSAqIDQ7XG5cdFxuXHRcdFx0XHRcdC8vIENvdW50IHBhZGRpbmcgYnl0ZXNcblx0XHRcdFx0XHR2YXIgblBhZGRpbmdCeXRlcyA9IGJsb2NrU2l6ZUJ5dGVzIC0gZGF0YS5zaWdCeXRlcyAlIGJsb2NrU2l6ZUJ5dGVzO1xuXHRcblx0XHRcdFx0XHQvLyBDcmVhdGUgcGFkZGluZyB3b3JkXG5cdFx0XHRcdFx0dmFyIHBhZGRpbmdXb3JkID0gblBhZGRpbmdCeXRlcyA8PCAyNCB8IG5QYWRkaW5nQnl0ZXMgPDwgMTYgfCBuUGFkZGluZ0J5dGVzIDw8IDggfCBuUGFkZGluZ0J5dGVzO1xuXHRcblx0XHRcdFx0XHQvLyBDcmVhdGUgcGFkZGluZ1xuXHRcdFx0XHRcdHZhciBwYWRkaW5nV29yZHMgPSBbXTtcblx0XHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IG5QYWRkaW5nQnl0ZXM7IGkgKz0gNCkge1xuXHRcdFx0XHRcdFx0cGFkZGluZ1dvcmRzLnB1c2gocGFkZGluZ1dvcmQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHR2YXIgcGFkZGluZyA9IFdvcmRBcnJheS5jcmVhdGUocGFkZGluZ1dvcmRzLCBuUGFkZGluZ0J5dGVzKTtcblx0XG5cdFx0XHRcdFx0Ly8gQWRkIHBhZGRpbmdcblx0XHRcdFx0XHRkYXRhLmNvbmNhdChwYWRkaW5nKTtcblx0XHRcdFx0fSxcblx0XG5cdFx0XHRcdC8qKlxuXHQgICAgKiBVbnBhZHMgZGF0YSB0aGF0IGhhZCBiZWVuIHBhZGRlZCB1c2luZyB0aGUgYWxnb3JpdGhtIGRlZmluZWQgaW4gUEtDUyAjNS83LlxuXHQgICAgKlxuXHQgICAgKiBAcGFyYW0ge1dvcmRBcnJheX0gZGF0YSBUaGUgZGF0YSB0byB1bnBhZC5cblx0ICAgICpcblx0ICAgICogQHN0YXRpY1xuXHQgICAgKlxuXHQgICAgKiBAZXhhbXBsZVxuXHQgICAgKlxuXHQgICAgKiAgICAgQ3J5cHRvSlMucGFkLlBrY3M3LnVucGFkKHdvcmRBcnJheSk7XG5cdCAgICAqL1xuXHRcdFx0XHR1bnBhZDogZnVuY3Rpb24gdW5wYWQoZGF0YSkge1xuXHRcdFx0XHRcdC8vIEdldCBudW1iZXIgb2YgcGFkZGluZyBieXRlcyBmcm9tIGxhc3QgYnl0ZVxuXHRcdFx0XHRcdHZhciBuUGFkZGluZ0J5dGVzID0gZGF0YS53b3Jkc1tkYXRhLnNpZ0J5dGVzIC0gMSA+Pj4gMl0gJiAweGZmO1xuXHRcblx0XHRcdFx0XHQvLyBSZW1vdmUgcGFkZGluZ1xuXHRcdFx0XHRcdGRhdGEuc2lnQnl0ZXMgLT0gblBhZGRpbmdCeXRlcztcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XG5cdFx0XHQvKipcblx0ICAgKiBBYnN0cmFjdCBiYXNlIGJsb2NrIGNpcGhlciB0ZW1wbGF0ZS5cblx0ICAgKlxuXHQgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBibG9ja1NpemUgVGhlIG51bWJlciBvZiAzMi1iaXQgd29yZHMgdGhpcyBjaXBoZXIgb3BlcmF0ZXMgb24uIERlZmF1bHQ6IDQgKDEyOCBiaXRzKVxuXHQgICAqL1xuXHRcdFx0dmFyIEJsb2NrQ2lwaGVyID0gQ19saWIuQmxvY2tDaXBoZXIgPSBDaXBoZXIuZXh0ZW5kKHtcblx0XHRcdFx0LyoqXG5cdCAgICAqIENvbmZpZ3VyYXRpb24gb3B0aW9ucy5cblx0ICAgICpcblx0ICAgICogQHByb3BlcnR5IHtNb2RlfSBtb2RlIFRoZSBibG9jayBtb2RlIHRvIHVzZS4gRGVmYXVsdDogQ0JDXG5cdCAgICAqIEBwcm9wZXJ0eSB7UGFkZGluZ30gcGFkZGluZyBUaGUgcGFkZGluZyBzdHJhdGVneSB0byB1c2UuIERlZmF1bHQ6IFBrY3M3XG5cdCAgICAqL1xuXHRcdFx0XHRjZmc6IENpcGhlci5jZmcuZXh0ZW5kKHtcblx0XHRcdFx0XHRtb2RlOiBDQkMsXG5cdFx0XHRcdFx0cGFkZGluZzogUGtjczdcblx0XHRcdFx0fSksXG5cdFxuXHRcdFx0XHRyZXNldDogZnVuY3Rpb24gcmVzZXQoKSB7XG5cdFx0XHRcdFx0Ly8gUmVzZXQgY2lwaGVyXG5cdFx0XHRcdFx0Q2lwaGVyLnJlc2V0LmNhbGwodGhpcyk7XG5cdFxuXHRcdFx0XHRcdC8vIFNob3J0Y3V0c1xuXHRcdFx0XHRcdHZhciBjZmcgPSB0aGlzLmNmZztcblx0XHRcdFx0XHR2YXIgaXYgPSBjZmcuaXY7XG5cdFx0XHRcdFx0dmFyIG1vZGUgPSBjZmcubW9kZTtcblx0XG5cdFx0XHRcdFx0Ly8gUmVzZXQgYmxvY2sgbW9kZVxuXHRcdFx0XHRcdGlmICh0aGlzLl94Zm9ybU1vZGUgPT0gdGhpcy5fRU5DX1hGT1JNX01PREUpIHtcblx0XHRcdFx0XHRcdHZhciBtb2RlQ3JlYXRvciA9IG1vZGUuY3JlYXRlRW5jcnlwdG9yO1xuXHRcdFx0XHRcdH0gZWxzZSAvKiBpZiAodGhpcy5feGZvcm1Nb2RlID09IHRoaXMuX0RFQ19YRk9STV9NT0RFKSAqL3tcblx0XHRcdFx0XHRcdFx0dmFyIG1vZGVDcmVhdG9yID0gbW9kZS5jcmVhdGVEZWNyeXB0b3I7XG5cdFxuXHRcdFx0XHRcdFx0XHQvLyBLZWVwIGF0IGxlYXN0IG9uZSBibG9jayBpbiB0aGUgYnVmZmVyIGZvciB1bnBhZGRpbmdcblx0XHRcdFx0XHRcdFx0dGhpcy5fbWluQnVmZmVyU2l6ZSA9IDE7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0dGhpcy5fbW9kZSA9IG1vZGVDcmVhdG9yLmNhbGwobW9kZSwgdGhpcywgaXYgJiYgaXYud29yZHMpO1xuXHRcdFx0XHR9LFxuXHRcblx0XHRcdFx0X2RvUHJvY2Vzc0Jsb2NrOiBmdW5jdGlvbiBfZG9Qcm9jZXNzQmxvY2sod29yZHMsIG9mZnNldCkge1xuXHRcdFx0XHRcdHRoaXMuX21vZGUucHJvY2Vzc0Jsb2NrKHdvcmRzLCBvZmZzZXQpO1xuXHRcdFx0XHR9LFxuXHRcblx0XHRcdFx0X2RvRmluYWxpemU6IGZ1bmN0aW9uIF9kb0ZpbmFsaXplKCkge1xuXHRcdFx0XHRcdC8vIFNob3J0Y3V0XG5cdFx0XHRcdFx0dmFyIHBhZGRpbmcgPSB0aGlzLmNmZy5wYWRkaW5nO1xuXHRcblx0XHRcdFx0XHQvLyBGaW5hbGl6ZVxuXHRcdFx0XHRcdGlmICh0aGlzLl94Zm9ybU1vZGUgPT0gdGhpcy5fRU5DX1hGT1JNX01PREUpIHtcblx0XHRcdFx0XHRcdC8vIFBhZCBkYXRhXG5cdFx0XHRcdFx0XHRwYWRkaW5nLnBhZCh0aGlzLl9kYXRhLCB0aGlzLmJsb2NrU2l6ZSk7XG5cdFxuXHRcdFx0XHRcdFx0Ly8gUHJvY2VzcyBmaW5hbCBibG9ja3Ncblx0XHRcdFx0XHRcdHZhciBmaW5hbFByb2Nlc3NlZEJsb2NrcyA9IHRoaXMuX3Byb2Nlc3MoISEnZmx1c2gnKTtcblx0XHRcdFx0XHR9IGVsc2UgLyogaWYgKHRoaXMuX3hmb3JtTW9kZSA9PSB0aGlzLl9ERUNfWEZPUk1fTU9ERSkgKi97XG5cdFx0XHRcdFx0XHRcdC8vIFByb2Nlc3MgZmluYWwgYmxvY2tzXG5cdFx0XHRcdFx0XHRcdHZhciBmaW5hbFByb2Nlc3NlZEJsb2NrcyA9IHRoaXMuX3Byb2Nlc3MoISEnZmx1c2gnKTtcblx0XG5cdFx0XHRcdFx0XHRcdC8vIFVucGFkIGRhdGFcblx0XHRcdFx0XHRcdFx0cGFkZGluZy51bnBhZChmaW5hbFByb2Nlc3NlZEJsb2Nrcyk7XG5cdFx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdHJldHVybiBmaW5hbFByb2Nlc3NlZEJsb2Nrcztcblx0XHRcdFx0fSxcblx0XG5cdFx0XHRcdGJsb2NrU2l6ZTogMTI4IC8gMzJcblx0XHRcdH0pO1xuXHRcblx0XHRcdC8qKlxuXHQgICAqIEEgY29sbGVjdGlvbiBvZiBjaXBoZXIgcGFyYW1ldGVycy5cblx0ICAgKlxuXHQgICAqIEBwcm9wZXJ0eSB7V29yZEFycmF5fSBjaXBoZXJ0ZXh0IFRoZSByYXcgY2lwaGVydGV4dC5cblx0ICAgKiBAcHJvcGVydHkge1dvcmRBcnJheX0ga2V5IFRoZSBrZXkgdG8gdGhpcyBjaXBoZXJ0ZXh0LlxuXHQgICAqIEBwcm9wZXJ0eSB7V29yZEFycmF5fSBpdiBUaGUgSVYgdXNlZCBpbiB0aGUgY2lwaGVyaW5nIG9wZXJhdGlvbi5cblx0ICAgKiBAcHJvcGVydHkge1dvcmRBcnJheX0gc2FsdCBUaGUgc2FsdCB1c2VkIHdpdGggYSBrZXkgZGVyaXZhdGlvbiBmdW5jdGlvbi5cblx0ICAgKiBAcHJvcGVydHkge0NpcGhlcn0gYWxnb3JpdGhtIFRoZSBjaXBoZXIgYWxnb3JpdGhtLlxuXHQgICAqIEBwcm9wZXJ0eSB7TW9kZX0gbW9kZSBUaGUgYmxvY2sgbW9kZSB1c2VkIGluIHRoZSBjaXBoZXJpbmcgb3BlcmF0aW9uLlxuXHQgICAqIEBwcm9wZXJ0eSB7UGFkZGluZ30gcGFkZGluZyBUaGUgcGFkZGluZyBzY2hlbWUgdXNlZCBpbiB0aGUgY2lwaGVyaW5nIG9wZXJhdGlvbi5cblx0ICAgKiBAcHJvcGVydHkge251bWJlcn0gYmxvY2tTaXplIFRoZSBibG9jayBzaXplIG9mIHRoZSBjaXBoZXIuXG5cdCAgICogQHByb3BlcnR5IHtGb3JtYXR9IGZvcm1hdHRlciBUaGUgZGVmYXVsdCBmb3JtYXR0aW5nIHN0cmF0ZWd5IHRvIGNvbnZlcnQgdGhpcyBjaXBoZXIgcGFyYW1zIG9iamVjdCB0byBhIHN0cmluZy5cblx0ICAgKi9cblx0XHRcdHZhciBDaXBoZXJQYXJhbXMgPSBDX2xpYi5DaXBoZXJQYXJhbXMgPSBCYXNlLmV4dGVuZCh7XG5cdFx0XHRcdC8qKlxuXHQgICAgKiBJbml0aWFsaXplcyBhIG5ld2x5IGNyZWF0ZWQgY2lwaGVyIHBhcmFtcyBvYmplY3QuXG5cdCAgICAqXG5cdCAgICAqIEBwYXJhbSB7T2JqZWN0fSBjaXBoZXJQYXJhbXMgQW4gb2JqZWN0IHdpdGggYW55IG9mIHRoZSBwb3NzaWJsZSBjaXBoZXIgcGFyYW1ldGVycy5cblx0ICAgICpcblx0ICAgICogQGV4YW1wbGVcblx0ICAgICpcblx0ICAgICogICAgIHZhciBjaXBoZXJQYXJhbXMgPSBDcnlwdG9KUy5saWIuQ2lwaGVyUGFyYW1zLmNyZWF0ZSh7XG5cdCAgICAqICAgICAgICAgY2lwaGVydGV4dDogY2lwaGVydGV4dFdvcmRBcnJheSxcblx0ICAgICogICAgICAgICBrZXk6IGtleVdvcmRBcnJheSxcblx0ICAgICogICAgICAgICBpdjogaXZXb3JkQXJyYXksXG5cdCAgICAqICAgICAgICAgc2FsdDogc2FsdFdvcmRBcnJheSxcblx0ICAgICogICAgICAgICBhbGdvcml0aG06IENyeXB0b0pTLmFsZ28uQUVTLFxuXHQgICAgKiAgICAgICAgIG1vZGU6IENyeXB0b0pTLm1vZGUuQ0JDLFxuXHQgICAgKiAgICAgICAgIHBhZGRpbmc6IENyeXB0b0pTLnBhZC5QS0NTNyxcblx0ICAgICogICAgICAgICBibG9ja1NpemU6IDQsXG5cdCAgICAqICAgICAgICAgZm9ybWF0dGVyOiBDcnlwdG9KUy5mb3JtYXQuT3BlblNTTFxuXHQgICAgKiAgICAgfSk7XG5cdCAgICAqL1xuXHRcdFx0XHRpbml0OiBmdW5jdGlvbiBpbml0KGNpcGhlclBhcmFtcykge1xuXHRcdFx0XHRcdHRoaXMubWl4SW4oY2lwaGVyUGFyYW1zKTtcblx0XHRcdFx0fSxcblx0XG5cdFx0XHRcdC8qKlxuXHQgICAgKiBDb252ZXJ0cyB0aGlzIGNpcGhlciBwYXJhbXMgb2JqZWN0IHRvIGEgc3RyaW5nLlxuXHQgICAgKlxuXHQgICAgKiBAcGFyYW0ge0Zvcm1hdH0gZm9ybWF0dGVyIChPcHRpb25hbCkgVGhlIGZvcm1hdHRpbmcgc3RyYXRlZ3kgdG8gdXNlLlxuXHQgICAgKlxuXHQgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBzdHJpbmdpZmllZCBjaXBoZXIgcGFyYW1zLlxuXHQgICAgKlxuXHQgICAgKiBAdGhyb3dzIEVycm9yIElmIG5laXRoZXIgdGhlIGZvcm1hdHRlciBub3IgdGhlIGRlZmF1bHQgZm9ybWF0dGVyIGlzIHNldC5cblx0ICAgICpcblx0ICAgICogQGV4YW1wbGVcblx0ICAgICpcblx0ICAgICogICAgIHZhciBzdHJpbmcgPSBjaXBoZXJQYXJhbXMgKyAnJztcblx0ICAgICogICAgIHZhciBzdHJpbmcgPSBjaXBoZXJQYXJhbXMudG9TdHJpbmcoKTtcblx0ICAgICogICAgIHZhciBzdHJpbmcgPSBjaXBoZXJQYXJhbXMudG9TdHJpbmcoQ3J5cHRvSlMuZm9ybWF0Lk9wZW5TU0wpO1xuXHQgICAgKi9cblx0XHRcdFx0dG9TdHJpbmc6IGZ1bmN0aW9uIHRvU3RyaW5nKGZvcm1hdHRlcikge1xuXHRcdFx0XHRcdHJldHVybiAoZm9ybWF0dGVyIHx8IHRoaXMuZm9ybWF0dGVyKS5zdHJpbmdpZnkodGhpcyk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcblx0XHRcdC8qKlxuXHQgICAqIEZvcm1hdCBuYW1lc3BhY2UuXG5cdCAgICovXG5cdFx0XHR2YXIgQ19mb3JtYXQgPSBDLmZvcm1hdCA9IHt9O1xuXHRcblx0XHRcdC8qKlxuXHQgICAqIE9wZW5TU0wgZm9ybWF0dGluZyBzdHJhdGVneS5cblx0ICAgKi9cblx0XHRcdHZhciBPcGVuU1NMRm9ybWF0dGVyID0gQ19mb3JtYXQuT3BlblNTTCA9IHtcblx0XHRcdFx0LyoqXG5cdCAgICAqIENvbnZlcnRzIGEgY2lwaGVyIHBhcmFtcyBvYmplY3QgdG8gYW4gT3BlblNTTC1jb21wYXRpYmxlIHN0cmluZy5cblx0ICAgICpcblx0ICAgICogQHBhcmFtIHtDaXBoZXJQYXJhbXN9IGNpcGhlclBhcmFtcyBUaGUgY2lwaGVyIHBhcmFtcyBvYmplY3QuXG5cdCAgICAqXG5cdCAgICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIE9wZW5TU0wtY29tcGF0aWJsZSBzdHJpbmcuXG5cdCAgICAqXG5cdCAgICAqIEBzdGF0aWNcblx0ICAgICpcblx0ICAgICogQGV4YW1wbGVcblx0ICAgICpcblx0ICAgICogICAgIHZhciBvcGVuU1NMU3RyaW5nID0gQ3J5cHRvSlMuZm9ybWF0Lk9wZW5TU0wuc3RyaW5naWZ5KGNpcGhlclBhcmFtcyk7XG5cdCAgICAqL1xuXHRcdFx0XHRzdHJpbmdpZnk6IGZ1bmN0aW9uIHN0cmluZ2lmeShjaXBoZXJQYXJhbXMpIHtcblx0XHRcdFx0XHQvLyBTaG9ydGN1dHNcblx0XHRcdFx0XHR2YXIgY2lwaGVydGV4dCA9IGNpcGhlclBhcmFtcy5jaXBoZXJ0ZXh0O1xuXHRcdFx0XHRcdHZhciBzYWx0ID0gY2lwaGVyUGFyYW1zLnNhbHQ7XG5cdFxuXHRcdFx0XHRcdC8vIEZvcm1hdFxuXHRcdFx0XHRcdGlmIChzYWx0KSB7XG5cdFx0XHRcdFx0XHR2YXIgd29yZEFycmF5ID0gV29yZEFycmF5LmNyZWF0ZShbMHg1MzYxNmM3NCwgMHg2NTY0NWY1Zl0pLmNvbmNhdChzYWx0KS5jb25jYXQoY2lwaGVydGV4dCk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHZhciB3b3JkQXJyYXkgPSBjaXBoZXJ0ZXh0O1xuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0cmV0dXJuIHdvcmRBcnJheS50b1N0cmluZyhCYXNlNjQpO1xuXHRcdFx0XHR9LFxuXHRcblx0XHRcdFx0LyoqXG5cdCAgICAqIENvbnZlcnRzIGFuIE9wZW5TU0wtY29tcGF0aWJsZSBzdHJpbmcgdG8gYSBjaXBoZXIgcGFyYW1zIG9iamVjdC5cblx0ICAgICpcblx0ICAgICogQHBhcmFtIHtzdHJpbmd9IG9wZW5TU0xTdHIgVGhlIE9wZW5TU0wtY29tcGF0aWJsZSBzdHJpbmcuXG5cdCAgICAqXG5cdCAgICAqIEByZXR1cm4ge0NpcGhlclBhcmFtc30gVGhlIGNpcGhlciBwYXJhbXMgb2JqZWN0LlxuXHQgICAgKlxuXHQgICAgKiBAc3RhdGljXG5cdCAgICAqXG5cdCAgICAqIEBleGFtcGxlXG5cdCAgICAqXG5cdCAgICAqICAgICB2YXIgY2lwaGVyUGFyYW1zID0gQ3J5cHRvSlMuZm9ybWF0Lk9wZW5TU0wucGFyc2Uob3BlblNTTFN0cmluZyk7XG5cdCAgICAqL1xuXHRcdFx0XHRwYXJzZTogZnVuY3Rpb24gcGFyc2Uob3BlblNTTFN0cikge1xuXHRcdFx0XHRcdC8vIFBhcnNlIGJhc2U2NFxuXHRcdFx0XHRcdHZhciBjaXBoZXJ0ZXh0ID0gQmFzZTY0LnBhcnNlKG9wZW5TU0xTdHIpO1xuXHRcblx0XHRcdFx0XHQvLyBTaG9ydGN1dFxuXHRcdFx0XHRcdHZhciBjaXBoZXJ0ZXh0V29yZHMgPSBjaXBoZXJ0ZXh0LndvcmRzO1xuXHRcblx0XHRcdFx0XHQvLyBUZXN0IGZvciBzYWx0XG5cdFx0XHRcdFx0aWYgKGNpcGhlcnRleHRXb3Jkc1swXSA9PSAweDUzNjE2Yzc0ICYmIGNpcGhlcnRleHRXb3Jkc1sxXSA9PSAweDY1NjQ1ZjVmKSB7XG5cdFx0XHRcdFx0XHQvLyBFeHRyYWN0IHNhbHRcblx0XHRcdFx0XHRcdHZhciBzYWx0ID0gV29yZEFycmF5LmNyZWF0ZShjaXBoZXJ0ZXh0V29yZHMuc2xpY2UoMiwgNCkpO1xuXHRcblx0XHRcdFx0XHRcdC8vIFJlbW92ZSBzYWx0IGZyb20gY2lwaGVydGV4dFxuXHRcdFx0XHRcdFx0Y2lwaGVydGV4dFdvcmRzLnNwbGljZSgwLCA0KTtcblx0XHRcdFx0XHRcdGNpcGhlcnRleHQuc2lnQnl0ZXMgLT0gMTY7XG5cdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRyZXR1cm4gQ2lwaGVyUGFyYW1zLmNyZWF0ZSh7IGNpcGhlcnRleHQ6IGNpcGhlcnRleHQsIHNhbHQ6IHNhbHQgfSk7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFxuXHRcdFx0LyoqXG5cdCAgICogQSBjaXBoZXIgd3JhcHBlciB0aGF0IHJldHVybnMgY2lwaGVydGV4dCBhcyBhIHNlcmlhbGl6YWJsZSBjaXBoZXIgcGFyYW1zIG9iamVjdC5cblx0ICAgKi9cblx0XHRcdHZhciBTZXJpYWxpemFibGVDaXBoZXIgPSBDX2xpYi5TZXJpYWxpemFibGVDaXBoZXIgPSBCYXNlLmV4dGVuZCh7XG5cdFx0XHRcdC8qKlxuXHQgICAgKiBDb25maWd1cmF0aW9uIG9wdGlvbnMuXG5cdCAgICAqXG5cdCAgICAqIEBwcm9wZXJ0eSB7Rm9ybWF0dGVyfSBmb3JtYXQgVGhlIGZvcm1hdHRpbmcgc3RyYXRlZ3kgdG8gY29udmVydCBjaXBoZXIgcGFyYW0gb2JqZWN0cyB0byBhbmQgZnJvbSBhIHN0cmluZy4gRGVmYXVsdDogT3BlblNTTFxuXHQgICAgKi9cblx0XHRcdFx0Y2ZnOiBCYXNlLmV4dGVuZCh7XG5cdFx0XHRcdFx0Zm9ybWF0OiBPcGVuU1NMRm9ybWF0dGVyXG5cdFx0XHRcdH0pLFxuXHRcblx0XHRcdFx0LyoqXG5cdCAgICAqIEVuY3J5cHRzIGEgbWVzc2FnZS5cblx0ICAgICpcblx0ICAgICogQHBhcmFtIHtDaXBoZXJ9IGNpcGhlciBUaGUgY2lwaGVyIGFsZ29yaXRobSB0byB1c2UuXG5cdCAgICAqIEBwYXJhbSB7V29yZEFycmF5fHN0cmluZ30gbWVzc2FnZSBUaGUgbWVzc2FnZSB0byBlbmNyeXB0LlxuXHQgICAgKiBAcGFyYW0ge1dvcmRBcnJheX0ga2V5IFRoZSBrZXkuXG5cdCAgICAqIEBwYXJhbSB7T2JqZWN0fSBjZmcgKE9wdGlvbmFsKSBUaGUgY29uZmlndXJhdGlvbiBvcHRpb25zIHRvIHVzZSBmb3IgdGhpcyBvcGVyYXRpb24uXG5cdCAgICAqXG5cdCAgICAqIEByZXR1cm4ge0NpcGhlclBhcmFtc30gQSBjaXBoZXIgcGFyYW1zIG9iamVjdC5cblx0ICAgICpcblx0ICAgICogQHN0YXRpY1xuXHQgICAgKlxuXHQgICAgKiBAZXhhbXBsZVxuXHQgICAgKlxuXHQgICAgKiAgICAgdmFyIGNpcGhlcnRleHRQYXJhbXMgPSBDcnlwdG9KUy5saWIuU2VyaWFsaXphYmxlQ2lwaGVyLmVuY3J5cHQoQ3J5cHRvSlMuYWxnby5BRVMsIG1lc3NhZ2UsIGtleSk7XG5cdCAgICAqICAgICB2YXIgY2lwaGVydGV4dFBhcmFtcyA9IENyeXB0b0pTLmxpYi5TZXJpYWxpemFibGVDaXBoZXIuZW5jcnlwdChDcnlwdG9KUy5hbGdvLkFFUywgbWVzc2FnZSwga2V5LCB7IGl2OiBpdiB9KTtcblx0ICAgICogICAgIHZhciBjaXBoZXJ0ZXh0UGFyYW1zID0gQ3J5cHRvSlMubGliLlNlcmlhbGl6YWJsZUNpcGhlci5lbmNyeXB0KENyeXB0b0pTLmFsZ28uQUVTLCBtZXNzYWdlLCBrZXksIHsgaXY6IGl2LCBmb3JtYXQ6IENyeXB0b0pTLmZvcm1hdC5PcGVuU1NMIH0pO1xuXHQgICAgKi9cblx0XHRcdFx0ZW5jcnlwdDogZnVuY3Rpb24gZW5jcnlwdChjaXBoZXIsIG1lc3NhZ2UsIGtleSwgY2ZnKSB7XG5cdFx0XHRcdFx0Ly8gQXBwbHkgY29uZmlnIGRlZmF1bHRzXG5cdFx0XHRcdFx0Y2ZnID0gdGhpcy5jZmcuZXh0ZW5kKGNmZyk7XG5cdFxuXHRcdFx0XHRcdC8vIEVuY3J5cHRcblx0XHRcdFx0XHR2YXIgZW5jcnlwdG9yID0gY2lwaGVyLmNyZWF0ZUVuY3J5cHRvcihrZXksIGNmZyk7XG5cdFx0XHRcdFx0dmFyIGNpcGhlcnRleHQgPSBlbmNyeXB0b3IuZmluYWxpemUobWVzc2FnZSk7XG5cdFxuXHRcdFx0XHRcdC8vIFNob3J0Y3V0XG5cdFx0XHRcdFx0dmFyIGNpcGhlckNmZyA9IGVuY3J5cHRvci5jZmc7XG5cdFxuXHRcdFx0XHRcdC8vIENyZWF0ZSBhbmQgcmV0dXJuIHNlcmlhbGl6YWJsZSBjaXBoZXIgcGFyYW1zXG5cdFx0XHRcdFx0cmV0dXJuIENpcGhlclBhcmFtcy5jcmVhdGUoe1xuXHRcdFx0XHRcdFx0Y2lwaGVydGV4dDogY2lwaGVydGV4dCxcblx0XHRcdFx0XHRcdGtleToga2V5LFxuXHRcdFx0XHRcdFx0aXY6IGNpcGhlckNmZy5pdixcblx0XHRcdFx0XHRcdGFsZ29yaXRobTogY2lwaGVyLFxuXHRcdFx0XHRcdFx0bW9kZTogY2lwaGVyQ2ZnLm1vZGUsXG5cdFx0XHRcdFx0XHRwYWRkaW5nOiBjaXBoZXJDZmcucGFkZGluZyxcblx0XHRcdFx0XHRcdGJsb2NrU2l6ZTogY2lwaGVyLmJsb2NrU2l6ZSxcblx0XHRcdFx0XHRcdGZvcm1hdHRlcjogY2ZnLmZvcm1hdFxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9LFxuXHRcblx0XHRcdFx0LyoqXG5cdCAgICAqIERlY3J5cHRzIHNlcmlhbGl6ZWQgY2lwaGVydGV4dC5cblx0ICAgICpcblx0ICAgICogQHBhcmFtIHtDaXBoZXJ9IGNpcGhlciBUaGUgY2lwaGVyIGFsZ29yaXRobSB0byB1c2UuXG5cdCAgICAqIEBwYXJhbSB7Q2lwaGVyUGFyYW1zfHN0cmluZ30gY2lwaGVydGV4dCBUaGUgY2lwaGVydGV4dCB0byBkZWNyeXB0LlxuXHQgICAgKiBAcGFyYW0ge1dvcmRBcnJheX0ga2V5IFRoZSBrZXkuXG5cdCAgICAqIEBwYXJhbSB7T2JqZWN0fSBjZmcgKE9wdGlvbmFsKSBUaGUgY29uZmlndXJhdGlvbiBvcHRpb25zIHRvIHVzZSBmb3IgdGhpcyBvcGVyYXRpb24uXG5cdCAgICAqXG5cdCAgICAqIEByZXR1cm4ge1dvcmRBcnJheX0gVGhlIHBsYWludGV4dC5cblx0ICAgICpcblx0ICAgICogQHN0YXRpY1xuXHQgICAgKlxuXHQgICAgKiBAZXhhbXBsZVxuXHQgICAgKlxuXHQgICAgKiAgICAgdmFyIHBsYWludGV4dCA9IENyeXB0b0pTLmxpYi5TZXJpYWxpemFibGVDaXBoZXIuZGVjcnlwdChDcnlwdG9KUy5hbGdvLkFFUywgZm9ybWF0dGVkQ2lwaGVydGV4dCwga2V5LCB7IGl2OiBpdiwgZm9ybWF0OiBDcnlwdG9KUy5mb3JtYXQuT3BlblNTTCB9KTtcblx0ICAgICogICAgIHZhciBwbGFpbnRleHQgPSBDcnlwdG9KUy5saWIuU2VyaWFsaXphYmxlQ2lwaGVyLmRlY3J5cHQoQ3J5cHRvSlMuYWxnby5BRVMsIGNpcGhlcnRleHRQYXJhbXMsIGtleSwgeyBpdjogaXYsIGZvcm1hdDogQ3J5cHRvSlMuZm9ybWF0Lk9wZW5TU0wgfSk7XG5cdCAgICAqL1xuXHRcdFx0XHRkZWNyeXB0OiBmdW5jdGlvbiBkZWNyeXB0KGNpcGhlciwgY2lwaGVydGV4dCwga2V5LCBjZmcpIHtcblx0XHRcdFx0XHQvLyBBcHBseSBjb25maWcgZGVmYXVsdHNcblx0XHRcdFx0XHRjZmcgPSB0aGlzLmNmZy5leHRlbmQoY2ZnKTtcblx0XG5cdFx0XHRcdFx0Ly8gQ29udmVydCBzdHJpbmcgdG8gQ2lwaGVyUGFyYW1zXG5cdFx0XHRcdFx0Y2lwaGVydGV4dCA9IHRoaXMuX3BhcnNlKGNpcGhlcnRleHQsIGNmZy5mb3JtYXQpO1xuXHRcblx0XHRcdFx0XHQvLyBEZWNyeXB0XG5cdFx0XHRcdFx0dmFyIHBsYWludGV4dCA9IGNpcGhlci5jcmVhdGVEZWNyeXB0b3Ioa2V5LCBjZmcpLmZpbmFsaXplKGNpcGhlcnRleHQuY2lwaGVydGV4dCk7XG5cdFxuXHRcdFx0XHRcdHJldHVybiBwbGFpbnRleHQ7XG5cdFx0XHRcdH0sXG5cdFxuXHRcdFx0XHQvKipcblx0ICAgICogQ29udmVydHMgc2VyaWFsaXplZCBjaXBoZXJ0ZXh0IHRvIENpcGhlclBhcmFtcyxcblx0ICAgICogZWxzZSBhc3N1bWVkIENpcGhlclBhcmFtcyBhbHJlYWR5IGFuZCByZXR1cm5zIGNpcGhlcnRleHQgdW5jaGFuZ2VkLlxuXHQgICAgKlxuXHQgICAgKiBAcGFyYW0ge0NpcGhlclBhcmFtc3xzdHJpbmd9IGNpcGhlcnRleHQgVGhlIGNpcGhlcnRleHQuXG5cdCAgICAqIEBwYXJhbSB7Rm9ybWF0dGVyfSBmb3JtYXQgVGhlIGZvcm1hdHRpbmcgc3RyYXRlZ3kgdG8gdXNlIHRvIHBhcnNlIHNlcmlhbGl6ZWQgY2lwaGVydGV4dC5cblx0ICAgICpcblx0ICAgICogQHJldHVybiB7Q2lwaGVyUGFyYW1zfSBUaGUgdW5zZXJpYWxpemVkIGNpcGhlcnRleHQuXG5cdCAgICAqXG5cdCAgICAqIEBzdGF0aWNcblx0ICAgICpcblx0ICAgICogQGV4YW1wbGVcblx0ICAgICpcblx0ICAgICogICAgIHZhciBjaXBoZXJ0ZXh0UGFyYW1zID0gQ3J5cHRvSlMubGliLlNlcmlhbGl6YWJsZUNpcGhlci5fcGFyc2UoY2lwaGVydGV4dFN0cmluZ09yUGFyYW1zLCBmb3JtYXQpO1xuXHQgICAgKi9cblx0XHRcdFx0X3BhcnNlOiBmdW5jdGlvbiBfcGFyc2UoY2lwaGVydGV4dCwgZm9ybWF0KSB7XG5cdFx0XHRcdFx0aWYgKHR5cGVvZiBjaXBoZXJ0ZXh0ID09ICdzdHJpbmcnKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZm9ybWF0LnBhcnNlKGNpcGhlcnRleHQsIHRoaXMpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gY2lwaGVydGV4dDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcblx0XHRcdC8qKlxuXHQgICAqIEtleSBkZXJpdmF0aW9uIGZ1bmN0aW9uIG5hbWVzcGFjZS5cblx0ICAgKi9cblx0XHRcdHZhciBDX2tkZiA9IEMua2RmID0ge307XG5cdFxuXHRcdFx0LyoqXG5cdCAgICogT3BlblNTTCBrZXkgZGVyaXZhdGlvbiBmdW5jdGlvbi5cblx0ICAgKi9cblx0XHRcdHZhciBPcGVuU1NMS2RmID0gQ19rZGYuT3BlblNTTCA9IHtcblx0XHRcdFx0LyoqXG5cdCAgICAqIERlcml2ZXMgYSBrZXkgYW5kIElWIGZyb20gYSBwYXNzd29yZC5cblx0ICAgICpcblx0ICAgICogQHBhcmFtIHtzdHJpbmd9IHBhc3N3b3JkIFRoZSBwYXNzd29yZCB0byBkZXJpdmUgZnJvbS5cblx0ICAgICogQHBhcmFtIHtudW1iZXJ9IGtleVNpemUgVGhlIHNpemUgaW4gd29yZHMgb2YgdGhlIGtleSB0byBnZW5lcmF0ZS5cblx0ICAgICogQHBhcmFtIHtudW1iZXJ9IGl2U2l6ZSBUaGUgc2l6ZSBpbiB3b3JkcyBvZiB0aGUgSVYgdG8gZ2VuZXJhdGUuXG5cdCAgICAqIEBwYXJhbSB7V29yZEFycmF5fHN0cmluZ30gc2FsdCAoT3B0aW9uYWwpIEEgNjQtYml0IHNhbHQgdG8gdXNlLiBJZiBvbWl0dGVkLCBhIHNhbHQgd2lsbCBiZSBnZW5lcmF0ZWQgcmFuZG9tbHkuXG5cdCAgICAqXG5cdCAgICAqIEByZXR1cm4ge0NpcGhlclBhcmFtc30gQSBjaXBoZXIgcGFyYW1zIG9iamVjdCB3aXRoIHRoZSBrZXksIElWLCBhbmQgc2FsdC5cblx0ICAgICpcblx0ICAgICogQHN0YXRpY1xuXHQgICAgKlxuXHQgICAgKiBAZXhhbXBsZVxuXHQgICAgKlxuXHQgICAgKiAgICAgdmFyIGRlcml2ZWRQYXJhbXMgPSBDcnlwdG9KUy5rZGYuT3BlblNTTC5leGVjdXRlKCdQYXNzd29yZCcsIDI1Ni8zMiwgMTI4LzMyKTtcblx0ICAgICogICAgIHZhciBkZXJpdmVkUGFyYW1zID0gQ3J5cHRvSlMua2RmLk9wZW5TU0wuZXhlY3V0ZSgnUGFzc3dvcmQnLCAyNTYvMzIsIDEyOC8zMiwgJ3NhbHRzYWx0Jyk7XG5cdCAgICAqL1xuXHRcdFx0XHRleGVjdXRlOiBmdW5jdGlvbiBleGVjdXRlKHBhc3N3b3JkLCBrZXlTaXplLCBpdlNpemUsIHNhbHQpIHtcblx0XHRcdFx0XHQvLyBHZW5lcmF0ZSByYW5kb20gc2FsdFxuXHRcdFx0XHRcdGlmICghc2FsdCkge1xuXHRcdFx0XHRcdFx0c2FsdCA9IFdvcmRBcnJheS5yYW5kb20oNjQgLyA4KTtcblx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdC8vIERlcml2ZSBrZXkgYW5kIElWXG5cdFx0XHRcdFx0dmFyIGtleSA9IEV2cEtERi5jcmVhdGUoeyBrZXlTaXplOiBrZXlTaXplICsgaXZTaXplIH0pLmNvbXB1dGUocGFzc3dvcmQsIHNhbHQpO1xuXHRcblx0XHRcdFx0XHQvLyBTZXBhcmF0ZSBrZXkgYW5kIElWXG5cdFx0XHRcdFx0dmFyIGl2ID0gV29yZEFycmF5LmNyZWF0ZShrZXkud29yZHMuc2xpY2Uoa2V5U2l6ZSksIGl2U2l6ZSAqIDQpO1xuXHRcdFx0XHRcdGtleS5zaWdCeXRlcyA9IGtleVNpemUgKiA0O1xuXHRcblx0XHRcdFx0XHQvLyBSZXR1cm4gcGFyYW1zXG5cdFx0XHRcdFx0cmV0dXJuIENpcGhlclBhcmFtcy5jcmVhdGUoeyBrZXk6IGtleSwgaXY6IGl2LCBzYWx0OiBzYWx0IH0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcblx0XHRcdC8qKlxuXHQgICAqIEEgc2VyaWFsaXphYmxlIGNpcGhlciB3cmFwcGVyIHRoYXQgZGVyaXZlcyB0aGUga2V5IGZyb20gYSBwYXNzd29yZCxcblx0ICAgKiBhbmQgcmV0dXJucyBjaXBoZXJ0ZXh0IGFzIGEgc2VyaWFsaXphYmxlIGNpcGhlciBwYXJhbXMgb2JqZWN0LlxuXHQgICAqL1xuXHRcdFx0dmFyIFBhc3N3b3JkQmFzZWRDaXBoZXIgPSBDX2xpYi5QYXNzd29yZEJhc2VkQ2lwaGVyID0gU2VyaWFsaXphYmxlQ2lwaGVyLmV4dGVuZCh7XG5cdFx0XHRcdC8qKlxuXHQgICAgKiBDb25maWd1cmF0aW9uIG9wdGlvbnMuXG5cdCAgICAqXG5cdCAgICAqIEBwcm9wZXJ0eSB7S0RGfSBrZGYgVGhlIGtleSBkZXJpdmF0aW9uIGZ1bmN0aW9uIHRvIHVzZSB0byBnZW5lcmF0ZSBhIGtleSBhbmQgSVYgZnJvbSBhIHBhc3N3b3JkLiBEZWZhdWx0OiBPcGVuU1NMXG5cdCAgICAqL1xuXHRcdFx0XHRjZmc6IFNlcmlhbGl6YWJsZUNpcGhlci5jZmcuZXh0ZW5kKHtcblx0XHRcdFx0XHRrZGY6IE9wZW5TU0xLZGZcblx0XHRcdFx0fSksXG5cdFxuXHRcdFx0XHQvKipcblx0ICAgICogRW5jcnlwdHMgYSBtZXNzYWdlIHVzaW5nIGEgcGFzc3dvcmQuXG5cdCAgICAqXG5cdCAgICAqIEBwYXJhbSB7Q2lwaGVyfSBjaXBoZXIgVGhlIGNpcGhlciBhbGdvcml0aG0gdG8gdXNlLlxuXHQgICAgKiBAcGFyYW0ge1dvcmRBcnJheXxzdHJpbmd9IG1lc3NhZ2UgVGhlIG1lc3NhZ2UgdG8gZW5jcnlwdC5cblx0ICAgICogQHBhcmFtIHtzdHJpbmd9IHBhc3N3b3JkIFRoZSBwYXNzd29yZC5cblx0ICAgICogQHBhcmFtIHtPYmplY3R9IGNmZyAoT3B0aW9uYWwpIFRoZSBjb25maWd1cmF0aW9uIG9wdGlvbnMgdG8gdXNlIGZvciB0aGlzIG9wZXJhdGlvbi5cblx0ICAgICpcblx0ICAgICogQHJldHVybiB7Q2lwaGVyUGFyYW1zfSBBIGNpcGhlciBwYXJhbXMgb2JqZWN0LlxuXHQgICAgKlxuXHQgICAgKiBAc3RhdGljXG5cdCAgICAqXG5cdCAgICAqIEBleGFtcGxlXG5cdCAgICAqXG5cdCAgICAqICAgICB2YXIgY2lwaGVydGV4dFBhcmFtcyA9IENyeXB0b0pTLmxpYi5QYXNzd29yZEJhc2VkQ2lwaGVyLmVuY3J5cHQoQ3J5cHRvSlMuYWxnby5BRVMsIG1lc3NhZ2UsICdwYXNzd29yZCcpO1xuXHQgICAgKiAgICAgdmFyIGNpcGhlcnRleHRQYXJhbXMgPSBDcnlwdG9KUy5saWIuUGFzc3dvcmRCYXNlZENpcGhlci5lbmNyeXB0KENyeXB0b0pTLmFsZ28uQUVTLCBtZXNzYWdlLCAncGFzc3dvcmQnLCB7IGZvcm1hdDogQ3J5cHRvSlMuZm9ybWF0Lk9wZW5TU0wgfSk7XG5cdCAgICAqL1xuXHRcdFx0XHRlbmNyeXB0OiBmdW5jdGlvbiBlbmNyeXB0KGNpcGhlciwgbWVzc2FnZSwgcGFzc3dvcmQsIGNmZykge1xuXHRcdFx0XHRcdC8vIEFwcGx5IGNvbmZpZyBkZWZhdWx0c1xuXHRcdFx0XHRcdGNmZyA9IHRoaXMuY2ZnLmV4dGVuZChjZmcpO1xuXHRcblx0XHRcdFx0XHQvLyBEZXJpdmUga2V5IGFuZCBvdGhlciBwYXJhbXNcblx0XHRcdFx0XHR2YXIgZGVyaXZlZFBhcmFtcyA9IGNmZy5rZGYuZXhlY3V0ZShwYXNzd29yZCwgY2lwaGVyLmtleVNpemUsIGNpcGhlci5pdlNpemUpO1xuXHRcblx0XHRcdFx0XHQvLyBBZGQgSVYgdG8gY29uZmlnXG5cdFx0XHRcdFx0Y2ZnLml2ID0gZGVyaXZlZFBhcmFtcy5pdjtcblx0XG5cdFx0XHRcdFx0Ly8gRW5jcnlwdFxuXHRcdFx0XHRcdHZhciBjaXBoZXJ0ZXh0ID0gU2VyaWFsaXphYmxlQ2lwaGVyLmVuY3J5cHQuY2FsbCh0aGlzLCBjaXBoZXIsIG1lc3NhZ2UsIGRlcml2ZWRQYXJhbXMua2V5LCBjZmcpO1xuXHRcblx0XHRcdFx0XHQvLyBNaXggaW4gZGVyaXZlZCBwYXJhbXNcblx0XHRcdFx0XHRjaXBoZXJ0ZXh0Lm1peEluKGRlcml2ZWRQYXJhbXMpO1xuXHRcblx0XHRcdFx0XHRyZXR1cm4gY2lwaGVydGV4dDtcblx0XHRcdFx0fSxcblx0XG5cdFx0XHRcdC8qKlxuXHQgICAgKiBEZWNyeXB0cyBzZXJpYWxpemVkIGNpcGhlcnRleHQgdXNpbmcgYSBwYXNzd29yZC5cblx0ICAgICpcblx0ICAgICogQHBhcmFtIHtDaXBoZXJ9IGNpcGhlciBUaGUgY2lwaGVyIGFsZ29yaXRobSB0byB1c2UuXG5cdCAgICAqIEBwYXJhbSB7Q2lwaGVyUGFyYW1zfHN0cmluZ30gY2lwaGVydGV4dCBUaGUgY2lwaGVydGV4dCB0byBkZWNyeXB0LlxuXHQgICAgKiBAcGFyYW0ge3N0cmluZ30gcGFzc3dvcmQgVGhlIHBhc3N3b3JkLlxuXHQgICAgKiBAcGFyYW0ge09iamVjdH0gY2ZnIChPcHRpb25hbCkgVGhlIGNvbmZpZ3VyYXRpb24gb3B0aW9ucyB0byB1c2UgZm9yIHRoaXMgb3BlcmF0aW9uLlxuXHQgICAgKlxuXHQgICAgKiBAcmV0dXJuIHtXb3JkQXJyYXl9IFRoZSBwbGFpbnRleHQuXG5cdCAgICAqXG5cdCAgICAqIEBzdGF0aWNcblx0ICAgICpcblx0ICAgICogQGV4YW1wbGVcblx0ICAgICpcblx0ICAgICogICAgIHZhciBwbGFpbnRleHQgPSBDcnlwdG9KUy5saWIuUGFzc3dvcmRCYXNlZENpcGhlci5kZWNyeXB0KENyeXB0b0pTLmFsZ28uQUVTLCBmb3JtYXR0ZWRDaXBoZXJ0ZXh0LCAncGFzc3dvcmQnLCB7IGZvcm1hdDogQ3J5cHRvSlMuZm9ybWF0Lk9wZW5TU0wgfSk7XG5cdCAgICAqICAgICB2YXIgcGxhaW50ZXh0ID0gQ3J5cHRvSlMubGliLlBhc3N3b3JkQmFzZWRDaXBoZXIuZGVjcnlwdChDcnlwdG9KUy5hbGdvLkFFUywgY2lwaGVydGV4dFBhcmFtcywgJ3Bhc3N3b3JkJywgeyBmb3JtYXQ6IENyeXB0b0pTLmZvcm1hdC5PcGVuU1NMIH0pO1xuXHQgICAgKi9cblx0XHRcdFx0ZGVjcnlwdDogZnVuY3Rpb24gZGVjcnlwdChjaXBoZXIsIGNpcGhlcnRleHQsIHBhc3N3b3JkLCBjZmcpIHtcblx0XHRcdFx0XHQvLyBBcHBseSBjb25maWcgZGVmYXVsdHNcblx0XHRcdFx0XHRjZmcgPSB0aGlzLmNmZy5leHRlbmQoY2ZnKTtcblx0XG5cdFx0XHRcdFx0Ly8gQ29udmVydCBzdHJpbmcgdG8gQ2lwaGVyUGFyYW1zXG5cdFx0XHRcdFx0Y2lwaGVydGV4dCA9IHRoaXMuX3BhcnNlKGNpcGhlcnRleHQsIGNmZy5mb3JtYXQpO1xuXHRcblx0XHRcdFx0XHQvLyBEZXJpdmUga2V5IGFuZCBvdGhlciBwYXJhbXNcblx0XHRcdFx0XHR2YXIgZGVyaXZlZFBhcmFtcyA9IGNmZy5rZGYuZXhlY3V0ZShwYXNzd29yZCwgY2lwaGVyLmtleVNpemUsIGNpcGhlci5pdlNpemUsIGNpcGhlcnRleHQuc2FsdCk7XG5cdFxuXHRcdFx0XHRcdC8vIEFkZCBJViB0byBjb25maWdcblx0XHRcdFx0XHRjZmcuaXYgPSBkZXJpdmVkUGFyYW1zLml2O1xuXHRcblx0XHRcdFx0XHQvLyBEZWNyeXB0XG5cdFx0XHRcdFx0dmFyIHBsYWludGV4dCA9IFNlcmlhbGl6YWJsZUNpcGhlci5kZWNyeXB0LmNhbGwodGhpcywgY2lwaGVyLCBjaXBoZXJ0ZXh0LCBkZXJpdmVkUGFyYW1zLmtleSwgY2ZnKTtcblx0XG5cdFx0XHRcdFx0cmV0dXJuIHBsYWludGV4dDtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fSgpO1xuXHR9KTtcblxuLyoqKi8gfSxcbi8qIDMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblx0XG5cdC8qXG5cdCAgICBUaGlzIGZpbGUgaXMgcGFydCBvZiB3ZWIzLmpzLlxuXHRcblx0ICAgIHdlYjMuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuXHQgICAgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG5cdCAgICB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuXHQgICAgKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cblx0XG5cdCAgICB3ZWIzLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG5cdCAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuXHQgICAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuXHQgICAgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG5cdFxuXHQgICAgWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG5cdCAgICBhbG9uZyB3aXRoIHdlYjMuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG5cdCovXG5cdC8qKlxuXHQgKiBAZmlsZSB1dGlscy5qc1xuXHQgKiBAYXV0aG9yIE1hcmVrIEtvdGV3aWN6IDxtYXJla0BldGhkZXYuY29tPlxuXHQgKiBAZGF0ZSAyMDE1XG5cdCAqL1xuXHRcblx0LyoqXG5cdCAqIFV0aWxzXG5cdCAqXG5cdCAqIEBtb2R1bGUgdXRpbHNcblx0ICovXG5cdFxuXHQvKipcblx0ICogVXRpbGl0eSBmdW5jdGlvbnNcblx0ICpcblx0ICogQGNsYXNzIFt1dGlsc10gdXRpbHNcblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqL1xuXHRcblx0dmFyIEJpZ051bWJlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTQpO1xuXHR2YXIgc2hhMyA9IF9fd2VicGFja19yZXF1aXJlX18oMTUpO1xuXHR2YXIgdXRmOCA9IF9fd2VicGFja19yZXF1aXJlX18oNTgpO1xuXHRcblx0dmFyIHVuaXRNYXAgPSB7XG5cdCAgICAnbm9ldGhlcic6ICcwJyxcblx0ICAgICd3ZWknOiAnMScsXG5cdCAgICAna3dlaSc6ICcxMDAwJyxcblx0ICAgICdLd2VpJzogJzEwMDAnLFxuXHQgICAgJ2JhYmJhZ2UnOiAnMTAwMCcsXG5cdCAgICAnZmVtdG9ldGhlcic6ICcxMDAwJyxcblx0ICAgICdtd2VpJzogJzEwMDAwMDAnLFxuXHQgICAgJ013ZWknOiAnMTAwMDAwMCcsXG5cdCAgICAnbG92ZWxhY2UnOiAnMTAwMDAwMCcsXG5cdCAgICAncGljb2V0aGVyJzogJzEwMDAwMDAnLFxuXHQgICAgJ2d3ZWknOiAnMTAwMDAwMDAwMCcsXG5cdCAgICAnR3dlaSc6ICcxMDAwMDAwMDAwJyxcblx0ICAgICdzaGFubm9uJzogJzEwMDAwMDAwMDAnLFxuXHQgICAgJ25hbm9ldGhlcic6ICcxMDAwMDAwMDAwJyxcblx0ICAgICduYW5vJzogJzEwMDAwMDAwMDAnLFxuXHQgICAgJ3N6YWJvJzogJzEwMDAwMDAwMDAwMDAnLFxuXHQgICAgJ21pY3JvZXRoZXInOiAnMTAwMDAwMDAwMDAwMCcsXG5cdCAgICAnbWljcm8nOiAnMTAwMDAwMDAwMDAwMCcsXG5cdCAgICAnZmlubmV5JzogJzEwMDAwMDAwMDAwMDAwMDAnLFxuXHQgICAgJ21pbGxpZXRoZXInOiAnMTAwMDAwMDAwMDAwMDAwMCcsXG5cdCAgICAnbWlsbGknOiAnMTAwMDAwMDAwMDAwMDAwMCcsXG5cdCAgICAnZXRoZXInOiAnMTAwMDAwMDAwMDAwMDAwMDAwMCcsXG5cdCAgICAna2V0aGVyJzogJzEwMDAwMDAwMDAwMDAwMDAwMDAwMDAnLFxuXHQgICAgJ2dyYW5kJzogJzEwMDAwMDAwMDAwMDAwMDAwMDAwMDAnLFxuXHQgICAgJ21ldGhlcic6ICcxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwJyxcblx0ICAgICdnZXRoZXInOiAnMTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMCcsXG5cdCAgICAndGV0aGVyJzogJzEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAnXG5cdH07XG5cdFxuXHQvKipcblx0ICogU2hvdWxkIGJlIGNhbGxlZCB0byBwYWQgc3RyaW5nIHRvIGV4cGVjdGVkIGxlbmd0aFxuXHQgKlxuXHQgKiBAbWV0aG9kIHBhZExlZnRcblx0ICogQHBhcmFtIHtTdHJpbmd9IHN0cmluZyB0byBiZSBwYWRkZWRcblx0ICogQHBhcmFtIHtOdW1iZXJ9IGNoYXJhY3RlcnMgdGhhdCByZXN1bHQgc3RyaW5nIHNob3VsZCBoYXZlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBzaWduLCBieSBkZWZhdWx0IDBcblx0ICogQHJldHVybnMge1N0cmluZ30gcmlnaHQgYWxpZ25lZCBzdHJpbmdcblx0ICovXG5cdHZhciBwYWRMZWZ0ID0gZnVuY3Rpb24gcGFkTGVmdChzdHJpbmcsIGNoYXJzLCBzaWduKSB7XG5cdCAgICByZXR1cm4gbmV3IEFycmF5KGNoYXJzIC0gc3RyaW5nLmxlbmd0aCArIDEpLmpvaW4oc2lnbiA/IHNpZ24gOiBcIjBcIikgKyBzdHJpbmc7XG5cdH07XG5cdFxuXHQvKipcblx0ICogU2hvdWxkIGJlIGNhbGxlZCB0byBwYWQgc3RyaW5nIHRvIGV4cGVjdGVkIGxlbmd0aFxuXHQgKlxuXHQgKiBAbWV0aG9kIHBhZFJpZ2h0XG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBzdHJpbmcgdG8gYmUgcGFkZGVkXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBjaGFyYWN0ZXJzIHRoYXQgcmVzdWx0IHN0cmluZyBzaG91bGQgaGF2ZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gc2lnbiwgYnkgZGVmYXVsdCAwXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IHJpZ2h0IGFsaWduZWQgc3RyaW5nXG5cdCAqL1xuXHR2YXIgcGFkUmlnaHQgPSBmdW5jdGlvbiBwYWRSaWdodChzdHJpbmcsIGNoYXJzLCBzaWduKSB7XG5cdCAgICByZXR1cm4gc3RyaW5nICsgbmV3IEFycmF5KGNoYXJzIC0gc3RyaW5nLmxlbmd0aCArIDEpLmpvaW4oc2lnbiA/IHNpZ24gOiBcIjBcIik7XG5cdH07XG5cdFxuXHQvKipcblx0ICogU2hvdWxkIGJlIGNhbGxlZCB0byBnZXQgdXRmOCBmcm9tIGl0J3MgaGV4IHJlcHJlc2VudGF0aW9uXG5cdCAqXG5cdCAqIEBtZXRob2QgdG9VdGY4XG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBzdHJpbmcgaW4gaGV4XG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IGFzY2lpIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBoZXggdmFsdWVcblx0ICovXG5cdHZhciB0b1V0ZjggPSBmdW5jdGlvbiB0b1V0ZjgoaGV4KSB7XG5cdCAgICAvLyBGaW5kIHRlcm1pbmF0aW9uXG5cdCAgICB2YXIgc3RyID0gXCJcIjtcblx0ICAgIHZhciBpID0gMCxcblx0ICAgICAgICBsID0gaGV4Lmxlbmd0aDtcblx0ICAgIGlmIChoZXguc3Vic3RyaW5nKDAsIDIpID09PSAnMHgnKSB7XG5cdCAgICAgICAgaSA9IDI7XG5cdCAgICB9XG5cdCAgICBmb3IgKDsgaSA8IGw7IGkgKz0gMikge1xuXHQgICAgICAgIHZhciBjb2RlID0gcGFyc2VJbnQoaGV4LnN1YnN0cihpLCAyKSwgMTYpO1xuXHQgICAgICAgIGlmIChjb2RlID09PSAwKSBicmVhaztcblx0ICAgICAgICBzdHIgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShjb2RlKTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gdXRmOC5kZWNvZGUoc3RyKTtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBTaG91bGQgYmUgY2FsbGVkIHRvIGdldCBhc2NpaSBmcm9tIGl0J3MgaGV4IHJlcHJlc2VudGF0aW9uXG5cdCAqXG5cdCAqIEBtZXRob2QgdG9Bc2NpaVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gc3RyaW5nIGluIGhleFxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfSBhc2NpaSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgaGV4IHZhbHVlXG5cdCAqL1xuXHR2YXIgdG9Bc2NpaSA9IGZ1bmN0aW9uIHRvQXNjaWkoaGV4KSB7XG5cdCAgICAvLyBGaW5kIHRlcm1pbmF0aW9uXG5cdCAgICB2YXIgc3RyID0gXCJcIjtcblx0ICAgIHZhciBpID0gMCxcblx0ICAgICAgICBsID0gaGV4Lmxlbmd0aDtcblx0ICAgIGlmIChoZXguc3Vic3RyaW5nKDAsIDIpID09PSAnMHgnKSB7XG5cdCAgICAgICAgaSA9IDI7XG5cdCAgICB9XG5cdCAgICBmb3IgKDsgaSA8IGw7IGkgKz0gMikge1xuXHQgICAgICAgIHZhciBjb2RlID0gcGFyc2VJbnQoaGV4LnN1YnN0cihpLCAyKSwgMTYpO1xuXHQgICAgICAgIHN0ciArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGNvZGUpO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBzdHI7XG5cdH07XG5cdFxuXHQvKipcblx0ICogU2hvdWxkIGJlIGNhbGxlZCB0byBnZXQgaGV4IHJlcHJlc2VudGF0aW9uIChwcmVmaXhlZCBieSAweCkgb2YgdXRmOCBzdHJpbmdcblx0ICpcblx0ICogQG1ldGhvZCBmcm9tVXRmOFxuXHQgKiBAcGFyYW0ge1N0cmluZ30gc3RyaW5nXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBvcHRpb25hbCBwYWRkaW5nXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IGhleCByZXByZXNlbnRhdGlvbiBvZiBpbnB1dCBzdHJpbmdcblx0ICovXG5cdHZhciBmcm9tVXRmOCA9IGZ1bmN0aW9uIGZyb21VdGY4KHN0cikge1xuXHQgICAgc3RyID0gdXRmOC5lbmNvZGUoc3RyKTtcblx0ICAgIHZhciBoZXggPSBcIlwiO1xuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICB2YXIgY29kZSA9IHN0ci5jaGFyQ29kZUF0KGkpO1xuXHQgICAgICAgIGlmIChjb2RlID09PSAwKSBicmVhaztcblx0ICAgICAgICB2YXIgbiA9IGNvZGUudG9TdHJpbmcoMTYpO1xuXHQgICAgICAgIGhleCArPSBuLmxlbmd0aCA8IDIgPyAnMCcgKyBuIDogbjtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gXCIweFwiICsgaGV4O1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFNob3VsZCBiZSBjYWxsZWQgdG8gZ2V0IGhleCByZXByZXNlbnRhdGlvbiAocHJlZml4ZWQgYnkgMHgpIG9mIGFzY2lpIHN0cmluZ1xuXHQgKlxuXHQgKiBAbWV0aG9kIGZyb21Bc2NpaVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gc3RyaW5nXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBvcHRpb25hbCBwYWRkaW5nXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IGhleCByZXByZXNlbnRhdGlvbiBvZiBpbnB1dCBzdHJpbmdcblx0ICovXG5cdHZhciBmcm9tQXNjaWkgPSBmdW5jdGlvbiBmcm9tQXNjaWkoc3RyKSB7XG5cdCAgICB2YXIgaGV4ID0gXCJcIjtcblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgdmFyIGNvZGUgPSBzdHIuY2hhckNvZGVBdChpKTtcblx0ICAgICAgICB2YXIgbiA9IGNvZGUudG9TdHJpbmcoMTYpO1xuXHQgICAgICAgIGhleCArPSBuLmxlbmd0aCA8IDIgPyAnMCcgKyBuIDogbjtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gXCIweFwiICsgaGV4O1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFNob3VsZCBiZSB1c2VkIHRvIGNyZWF0ZSBmdWxsIGZ1bmN0aW9uL2V2ZW50IG5hbWUgZnJvbSBqc29uIGFiaVxuXHQgKlxuXHQgKiBAbWV0aG9kIHRyYW5zZm9ybVRvRnVsbE5hbWVcblx0ICogQHBhcmFtIHtPYmplY3R9IGpzb24tYWJpXG5cdCAqIEByZXR1cm4ge1N0cmluZ30gZnVsbCBmbmN0aW9uL2V2ZW50IG5hbWVcblx0ICovXG5cdHZhciB0cmFuc2Zvcm1Ub0Z1bGxOYW1lID0gZnVuY3Rpb24gdHJhbnNmb3JtVG9GdWxsTmFtZShqc29uKSB7XG5cdCAgICBpZiAoanNvbi5uYW1lLmluZGV4T2YoJygnKSAhPT0gLTEpIHtcblx0ICAgICAgICByZXR1cm4ganNvbi5uYW1lO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciB0eXBlTmFtZSA9IGpzb24uaW5wdXRzLm1hcChmdW5jdGlvbiAoaSkge1xuXHQgICAgICAgIHJldHVybiBpLnR5cGU7XG5cdCAgICB9KS5qb2luKCk7XG5cdCAgICByZXR1cm4ganNvbi5uYW1lICsgJygnICsgdHlwZU5hbWUgKyAnKSc7XG5cdH07XG5cdFxuXHQvKipcblx0ICogU2hvdWxkIGJlIGNhbGxlZCB0byBnZXQgZGlzcGxheSBuYW1lIG9mIGNvbnRyYWN0IGZ1bmN0aW9uXG5cdCAqXG5cdCAqIEBtZXRob2QgZXh0cmFjdERpc3BsYXlOYW1lXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIG9mIGZ1bmN0aW9uL2V2ZW50XG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IGRpc3BsYXkgbmFtZSBmb3IgZnVuY3Rpb24vZXZlbnQgZWcuIG11bHRpcGx5KHVpbnQyNTYpIC0+IG11bHRpcGx5XG5cdCAqL1xuXHR2YXIgZXh0cmFjdERpc3BsYXlOYW1lID0gZnVuY3Rpb24gZXh0cmFjdERpc3BsYXlOYW1lKG5hbWUpIHtcblx0ICAgIHZhciBsZW5ndGggPSBuYW1lLmluZGV4T2YoJygnKTtcblx0ICAgIHJldHVybiBsZW5ndGggIT09IC0xID8gbmFtZS5zdWJzdHIoMCwgbGVuZ3RoKSA6IG5hbWU7XG5cdH07XG5cdFxuXHQvLy8gQHJldHVybnMgb3ZlcmxvYWRlZCBwYXJ0IG9mIGZ1bmN0aW9uL2V2ZW50IG5hbWVcblx0dmFyIGV4dHJhY3RUeXBlTmFtZSA9IGZ1bmN0aW9uIGV4dHJhY3RUeXBlTmFtZShuYW1lKSB7XG5cdCAgICAvLy8gVE9ETzogbWFrZSBpdCBpbnZ1bG5lcmFibGVcblx0ICAgIHZhciBsZW5ndGggPSBuYW1lLmluZGV4T2YoJygnKTtcblx0ICAgIHJldHVybiBsZW5ndGggIT09IC0xID8gbmFtZS5zdWJzdHIobGVuZ3RoICsgMSwgbmFtZS5sZW5ndGggLSAxIC0gKGxlbmd0aCArIDEpKS5yZXBsYWNlKCcgJywgJycpIDogXCJcIjtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBDb252ZXJ0cyB2YWx1ZSB0byBpdCdzIGRlY2ltYWwgcmVwcmVzZW50YXRpb24gaW4gc3RyaW5nXG5cdCAqXG5cdCAqIEBtZXRob2QgdG9EZWNpbWFsXG5cdCAqIEBwYXJhbSB7U3RyaW5nfE51bWJlcnxCaWdOdW1iZXJ9XG5cdCAqIEByZXR1cm4ge1N0cmluZ31cblx0ICovXG5cdHZhciB0b0RlY2ltYWwgPSBmdW5jdGlvbiB0b0RlY2ltYWwodmFsdWUpIHtcblx0ICAgIHJldHVybiB0b0JpZ051bWJlcih2YWx1ZSkudG9OdW1iZXIoKTtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBDb252ZXJ0cyB2YWx1ZSB0byBpdCdzIGhleCByZXByZXNlbnRhdGlvblxuXHQgKlxuXHQgKiBAbWV0aG9kIGZyb21EZWNpbWFsXG5cdCAqIEBwYXJhbSB7U3RyaW5nfE51bWJlcnxCaWdOdW1iZXJ9XG5cdCAqIEByZXR1cm4ge1N0cmluZ31cblx0ICovXG5cdHZhciBmcm9tRGVjaW1hbCA9IGZ1bmN0aW9uIGZyb21EZWNpbWFsKHZhbHVlKSB7XG5cdCAgICB2YXIgbnVtYmVyID0gdG9CaWdOdW1iZXIodmFsdWUpO1xuXHQgICAgdmFyIHJlc3VsdCA9IG51bWJlci50b1N0cmluZygxNik7XG5cdFxuXHQgICAgcmV0dXJuIG51bWJlci5sZXNzVGhhbigwKSA/ICctMHgnICsgcmVzdWx0LnN1YnN0cigxKSA6ICcweCcgKyByZXN1bHQ7XG5cdH07XG5cdFxuXHQvKipcblx0ICogQXV0byBjb252ZXJ0cyBhbnkgZ2l2ZW4gdmFsdWUgaW50byBpdCdzIGhleCByZXByZXNlbnRhdGlvbi5cblx0ICpcblx0ICogQW5kIGV2ZW4gc3RyaW5naWZ5cyBvYmplY3RzIGJlZm9yZS5cblx0ICpcblx0ICogQG1ldGhvZCB0b0hleFxuXHQgKiBAcGFyYW0ge1N0cmluZ3xOdW1iZXJ8QmlnTnVtYmVyfE9iamVjdH1cblx0ICogQHJldHVybiB7U3RyaW5nfVxuXHQgKi9cblx0dmFyIHRvSGV4ID0gZnVuY3Rpb24gdG9IZXgodmFsKSB7XG5cdCAgICAvKmpzaGludCBtYXhjb21wbGV4aXR5OiA4ICovXG5cdFxuXHQgICAgaWYgKGlzQm9vbGVhbih2YWwpKSByZXR1cm4gZnJvbURlY2ltYWwoK3ZhbCk7XG5cdFxuXHQgICAgaWYgKGlzQmlnTnVtYmVyKHZhbCkpIHJldHVybiBmcm9tRGVjaW1hbCh2YWwpO1xuXHRcblx0ICAgIGlmIChpc09iamVjdCh2YWwpKSByZXR1cm4gZnJvbVV0ZjgoSlNPTi5zdHJpbmdpZnkodmFsKSk7XG5cdFxuXHQgICAgLy8gaWYgaXRzIGEgbmVnYXRpdmUgbnVtYmVyLCBwYXNzIGl0IHRocm91Z2ggZnJvbURlY2ltYWxcblx0ICAgIGlmIChpc1N0cmluZyh2YWwpKSB7XG5cdCAgICAgICAgaWYgKHZhbC5pbmRleE9mKCctMHgnKSA9PT0gMCkgcmV0dXJuIGZyb21EZWNpbWFsKHZhbCk7ZWxzZSBpZiAodmFsLmluZGV4T2YoJzB4JykgPT09IDApIHJldHVybiB2YWw7ZWxzZSBpZiAoIWlzRmluaXRlKHZhbCkpIHJldHVybiBmcm9tQXNjaWkodmFsKTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gZnJvbURlY2ltYWwodmFsKTtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBSZXR1cm5zIHZhbHVlIG9mIHVuaXQgaW4gV2VpXG5cdCAqXG5cdCAqIEBtZXRob2QgZ2V0VmFsdWVPZlVuaXRcblx0ICogQHBhcmFtIHtTdHJpbmd9IHVuaXQgdGhlIHVuaXQgdG8gY29udmVydCB0bywgZGVmYXVsdCBldGhlclxuXHQgKiBAcmV0dXJucyB7QmlnTnVtYmVyfSB2YWx1ZSBvZiB0aGUgdW5pdCAoaW4gV2VpKVxuXHQgKiBAdGhyb3dzIGVycm9yIGlmIHRoZSB1bml0IGlzIG5vdCBjb3JyZWN0Ondcblx0ICovXG5cdHZhciBnZXRWYWx1ZU9mVW5pdCA9IGZ1bmN0aW9uIGdldFZhbHVlT2ZVbml0KHVuaXQpIHtcblx0ICAgIHVuaXQgPSB1bml0ID8gdW5pdC50b0xvd2VyQ2FzZSgpIDogJ2V0aGVyJztcblx0ICAgIHZhciB1bml0VmFsdWUgPSB1bml0TWFwW3VuaXRdO1xuXHQgICAgaWYgKHVuaXRWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGlzIHVuaXQgZG9lc25cXCd0IGV4aXN0cywgcGxlYXNlIHVzZSB0aGUgb25lIG9mIHRoZSBmb2xsb3dpbmcgdW5pdHMnICsgSlNPTi5zdHJpbmdpZnkodW5pdE1hcCwgbnVsbCwgMikpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIG5ldyBCaWdOdW1iZXIodW5pdFZhbHVlLCAxMCk7XG5cdH07XG5cdFxuXHQvKipcblx0ICogVGFrZXMgYSBudW1iZXIgb2Ygd2VpIGFuZCBjb252ZXJ0cyBpdCB0byBhbnkgb3RoZXIgZXRoZXIgdW5pdC5cblx0ICpcblx0ICogUG9zc2libGUgdW5pdHMgYXJlOlxuXHQgKiAgIFNJIFNob3J0ICAgU0kgRnVsbCAgICAgICAgRWZmaWd5ICAgICAgIE90aGVyXG5cdCAqIC0ga3dlaSAgICAgICBmZW10b2V0aGVyICAgICBiYWJiYWdlXG5cdCAqIC0gbXdlaSAgICAgICBwaWNvZXRoZXIgICAgICBsb3ZlbGFjZVxuXHQgKiAtIGd3ZWkgICAgICAgbmFub2V0aGVyICAgICAgc2hhbm5vbiAgICAgIG5hbm9cblx0ICogLSAtLSAgICAgICAgIG1pY3JvZXRoZXIgICAgIHN6YWJvICAgICAgICBtaWNyb1xuXHQgKiAtIC0tICAgICAgICAgbWlsbGlldGhlciAgICAgZmlubmV5ICAgICAgIG1pbGxpXG5cdCAqIC0gZXRoZXIgICAgICAtLSAgICAgICAgICAgICAtLVxuXHQgKiAtIGtldGhlciAgICAgICAgICAgICAgICAgICAgLS0gICAgICAgICAgIGdyYW5kXG5cdCAqIC0gbWV0aGVyXG5cdCAqIC0gZ2V0aGVyXG5cdCAqIC0gdGV0aGVyXG5cdCAqXG5cdCAqIEBtZXRob2QgZnJvbVdlaVxuXHQgKiBAcGFyYW0ge051bWJlcnxTdHJpbmd9IG51bWJlciBjYW4gYmUgYSBudW1iZXIsIG51bWJlciBzdHJpbmcgb3IgYSBIRVggb2YgYSBkZWNpbWFsXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSB1bml0IHRoZSB1bml0IHRvIGNvbnZlcnQgdG8sIGRlZmF1bHQgZXRoZXJcblx0ICogQHJldHVybiB7U3RyaW5nfE9iamVjdH0gV2hlbiBnaXZlbiBhIEJpZ051bWJlciBvYmplY3QgaXQgcmV0dXJucyBvbmUgYXMgd2VsbCwgb3RoZXJ3aXNlIGEgbnVtYmVyXG5cdCovXG5cdHZhciBmcm9tV2VpID0gZnVuY3Rpb24gZnJvbVdlaShudW1iZXIsIHVuaXQpIHtcblx0ICAgIHZhciByZXR1cm5WYWx1ZSA9IHRvQmlnTnVtYmVyKG51bWJlcikuZGl2aWRlZEJ5KGdldFZhbHVlT2ZVbml0KHVuaXQpKTtcblx0XG5cdCAgICByZXR1cm4gaXNCaWdOdW1iZXIobnVtYmVyKSA/IHJldHVyblZhbHVlIDogcmV0dXJuVmFsdWUudG9TdHJpbmcoMTApO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFRha2VzIGEgbnVtYmVyIG9mIGEgdW5pdCBhbmQgY29udmVydHMgaXQgdG8gd2VpLlxuXHQgKlxuXHQgKiBQb3NzaWJsZSB1bml0cyBhcmU6XG5cdCAqICAgU0kgU2hvcnQgICBTSSBGdWxsICAgICAgICBFZmZpZ3kgICAgICAgT3RoZXJcblx0ICogLSBrd2VpICAgICAgIGZlbXRvZXRoZXIgICAgIGJhYmJhZ2Vcblx0ICogLSBtd2VpICAgICAgIHBpY29ldGhlciAgICAgIGxvdmVsYWNlXG5cdCAqIC0gZ3dlaSAgICAgICBuYW5vZXRoZXIgICAgICBzaGFubm9uICAgICAgbmFub1xuXHQgKiAtIC0tICAgICAgICAgbWljcm9ldGhlciAgICAgc3phYm8gICAgICAgIG1pY3JvXG5cdCAqIC0gLS0gICAgICAgICBtaWNyb2V0aGVyICAgICBzemFibyAgICAgICAgbWljcm9cblx0ICogLSAtLSAgICAgICAgIG1pbGxpZXRoZXIgICAgIGZpbm5leSAgICAgICBtaWxsaVxuXHQgKiAtIGV0aGVyICAgICAgLS0gICAgICAgICAgICAgLS1cblx0ICogLSBrZXRoZXIgICAgICAgICAgICAgICAgICAgIC0tICAgICAgICAgICBncmFuZFxuXHQgKiAtIG1ldGhlclxuXHQgKiAtIGdldGhlclxuXHQgKiAtIHRldGhlclxuXHQgKlxuXHQgKiBAbWV0aG9kIHRvV2VpXG5cdCAqIEBwYXJhbSB7TnVtYmVyfFN0cmluZ3xCaWdOdW1iZXJ9IG51bWJlciBjYW4gYmUgYSBudW1iZXIsIG51bWJlciBzdHJpbmcgb3IgYSBIRVggb2YgYSBkZWNpbWFsXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSB1bml0IHRoZSB1bml0IHRvIGNvbnZlcnQgZnJvbSwgZGVmYXVsdCBldGhlclxuXHQgKiBAcmV0dXJuIHtTdHJpbmd8T2JqZWN0fSBXaGVuIGdpdmVuIGEgQmlnTnVtYmVyIG9iamVjdCBpdCByZXR1cm5zIG9uZSBhcyB3ZWxsLCBvdGhlcndpc2UgYSBudW1iZXJcblx0Ki9cblx0dmFyIHRvV2VpID0gZnVuY3Rpb24gdG9XZWkobnVtYmVyLCB1bml0KSB7XG5cdCAgICB2YXIgcmV0dXJuVmFsdWUgPSB0b0JpZ051bWJlcihudW1iZXIpLnRpbWVzKGdldFZhbHVlT2ZVbml0KHVuaXQpKTtcblx0XG5cdCAgICByZXR1cm4gaXNCaWdOdW1iZXIobnVtYmVyKSA/IHJldHVyblZhbHVlIDogcmV0dXJuVmFsdWUudG9TdHJpbmcoMTApO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFRha2VzIGFuIGlucHV0IGFuZCB0cmFuc2Zvcm1zIGl0IGludG8gYW4gYmlnbnVtYmVyXG5cdCAqXG5cdCAqIEBtZXRob2QgdG9CaWdOdW1iZXJcblx0ICogQHBhcmFtIHtOdW1iZXJ8U3RyaW5nfEJpZ051bWJlcn0gYSBudW1iZXIsIHN0cmluZywgSEVYIHN0cmluZyBvciBCaWdOdW1iZXJcblx0ICogQHJldHVybiB7QmlnTnVtYmVyfSBCaWdOdW1iZXJcblx0Ki9cblx0dmFyIHRvQmlnTnVtYmVyID0gZnVuY3Rpb24gdG9CaWdOdW1iZXIobnVtYmVyKSB7XG5cdCAgICAvKmpzaGludCBtYXhjb21wbGV4aXR5OjUgKi9cblx0ICAgIG51bWJlciA9IG51bWJlciB8fCAwO1xuXHQgICAgaWYgKGlzQmlnTnVtYmVyKG51bWJlcikpIHJldHVybiBudW1iZXI7XG5cdFxuXHQgICAgaWYgKGlzU3RyaW5nKG51bWJlcikgJiYgKG51bWJlci5pbmRleE9mKCcweCcpID09PSAwIHx8IG51bWJlci5pbmRleE9mKCctMHgnKSA9PT0gMCkpIHtcblx0ICAgICAgICByZXR1cm4gbmV3IEJpZ051bWJlcihudW1iZXIucmVwbGFjZSgnMHgnLCAnJyksIDE2KTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gbmV3IEJpZ051bWJlcihudW1iZXIudG9TdHJpbmcoMTApLCAxMCk7XG5cdH07XG5cdFxuXHQvKipcblx0ICogVGFrZXMgYW5kIGlucHV0IHRyYW5zZm9ybXMgaXQgaW50byBiaWdudW1iZXIgYW5kIGlmIGl0IGlzIG5lZ2F0aXZlIHZhbHVlLCBpbnRvIHR3bydzIGNvbXBsZW1lbnRcblx0ICpcblx0ICogQG1ldGhvZCB0b1R3b3NDb21wbGVtZW50XG5cdCAqIEBwYXJhbSB7TnVtYmVyfFN0cmluZ3xCaWdOdW1iZXJ9XG5cdCAqIEByZXR1cm4ge0JpZ051bWJlcn1cblx0ICovXG5cdHZhciB0b1R3b3NDb21wbGVtZW50ID0gZnVuY3Rpb24gdG9Ud29zQ29tcGxlbWVudChudW1iZXIpIHtcblx0ICAgIHZhciBiaWdOdW1iZXIgPSB0b0JpZ051bWJlcihudW1iZXIpO1xuXHQgICAgaWYgKGJpZ051bWJlci5sZXNzVGhhbigwKSkge1xuXHQgICAgICAgIHJldHVybiBuZXcgQmlnTnVtYmVyKFwiZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZlwiLCAxNikucGx1cyhiaWdOdW1iZXIpLnBsdXMoMSk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gYmlnTnVtYmVyO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIENoZWNrcyBpZiB0aGUgZ2l2ZW4gc3RyaW5nIGlzIHN0cmljdGx5IGFuIGFkZHJlc3Ncblx0ICpcblx0ICogQG1ldGhvZCBpc1N0cmljdEFkZHJlc3Ncblx0ICogQHBhcmFtIHtTdHJpbmd9IGFkZHJlc3MgdGhlIGdpdmVuIEhFWCBhZHJlc3Ncblx0ICogQHJldHVybiB7Qm9vbGVhbn1cblx0Ki9cblx0dmFyIGlzU3RyaWN0QWRkcmVzcyA9IGZ1bmN0aW9uIGlzU3RyaWN0QWRkcmVzcyhhZGRyZXNzKSB7XG5cdCAgICByZXR1cm4gKC9eMHhbMC05YS1mXXs0MH0kL2kudGVzdChhZGRyZXNzKVxuXHQgICAgKTtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBDaGVja3MgaWYgdGhlIGdpdmVuIHN0cmluZyBpcyBhbiBhZGRyZXNzXG5cdCAqXG5cdCAqIEBtZXRob2QgaXNBZGRyZXNzXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBhZGRyZXNzIHRoZSBnaXZlbiBIRVggYWRyZXNzXG5cdCAqIEByZXR1cm4ge0Jvb2xlYW59XG5cdCovXG5cdHZhciBpc0FkZHJlc3MgPSBmdW5jdGlvbiBpc0FkZHJlc3MoYWRkcmVzcykge1xuXHQgICAgaWYgKCEvXigweCk/WzAtOWEtZl17NDB9JC9pLnRlc3QoYWRkcmVzcykpIHtcblx0ICAgICAgICAvLyBjaGVjayBpZiBpdCBoYXMgdGhlIGJhc2ljIHJlcXVpcmVtZW50cyBvZiBhbiBhZGRyZXNzXG5cdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgfSBlbHNlIGlmICgvXigweCk/WzAtOWEtZl17NDB9JC8udGVzdChhZGRyZXNzKSB8fCAvXigweCk/WzAtOUEtRl17NDB9JC8udGVzdChhZGRyZXNzKSkge1xuXHQgICAgICAgIC8vIElmIGl0J3MgYWxsIHNtYWxsIGNhcHMgb3IgYWxsIGFsbCBjYXBzLCByZXR1cm4gdHJ1ZVxuXHQgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICAvLyBPdGhlcndpc2UgY2hlY2sgZWFjaCBjYXNlXG5cdCAgICAgICAgcmV0dXJuIGlzQ2hlY2tzdW1BZGRyZXNzKGFkZHJlc3MpO1xuXHQgICAgfVxuXHR9O1xuXHRcblx0LyoqXG5cdCAqIENoZWNrcyBpZiB0aGUgZ2l2ZW4gc3RyaW5nIGlzIGEgY2hlY2tzdW1tZWQgYWRkcmVzc1xuXHQgKlxuXHQgKiBAbWV0aG9kIGlzQ2hlY2tzdW1BZGRyZXNzXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBhZGRyZXNzIHRoZSBnaXZlbiBIRVggYWRyZXNzXG5cdCAqIEByZXR1cm4ge0Jvb2xlYW59XG5cdCovXG5cdHZhciBpc0NoZWNrc3VtQWRkcmVzcyA9IGZ1bmN0aW9uIGlzQ2hlY2tzdW1BZGRyZXNzKGFkZHJlc3MpIHtcblx0ICAgIC8vIENoZWNrIGVhY2ggY2FzZVxuXHQgICAgYWRkcmVzcyA9IGFkZHJlc3MucmVwbGFjZSgnMHgnLCAnJyk7XG5cdCAgICB2YXIgYWRkcmVzc0hhc2ggPSBzaGEzKGFkZHJlc3MudG9Mb3dlckNhc2UoKSk7XG5cdFxuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA0MDsgaSsrKSB7XG5cdCAgICAgICAgLy8gdGhlIG50aCBsZXR0ZXIgc2hvdWxkIGJlIHVwcGVyY2FzZSBpZiB0aGUgbnRoIGRpZ2l0IG9mIGNhc2VtYXAgaXMgMVxuXHQgICAgICAgIGlmIChwYXJzZUludChhZGRyZXNzSGFzaFtpXSwgMTYpID4gNyAmJiBhZGRyZXNzW2ldLnRvVXBwZXJDYXNlKCkgIT09IGFkZHJlc3NbaV0gfHwgcGFyc2VJbnQoYWRkcmVzc0hhc2hbaV0sIDE2KSA8PSA3ICYmIGFkZHJlc3NbaV0udG9Mb3dlckNhc2UoKSAhPT0gYWRkcmVzc1tpXSkge1xuXHQgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIHRydWU7XG5cdH07XG5cdFxuXHQvKipcblx0ICogTWFrZXMgYSBjaGVja3N1bSBhZGRyZXNzXG5cdCAqXG5cdCAqIEBtZXRob2QgdG9DaGVja3N1bUFkZHJlc3Ncblx0ICogQHBhcmFtIHtTdHJpbmd9IGFkZHJlc3MgdGhlIGdpdmVuIEhFWCBhZHJlc3Ncblx0ICogQHJldHVybiB7U3RyaW5nfVxuXHQqL1xuXHR2YXIgdG9DaGVja3N1bUFkZHJlc3MgPSBmdW5jdGlvbiB0b0NoZWNrc3VtQWRkcmVzcyhhZGRyZXNzKSB7XG5cdCAgICBpZiAodHlwZW9mIGFkZHJlc3MgPT09ICd1bmRlZmluZWQnKSByZXR1cm4gJyc7XG5cdFxuXHQgICAgYWRkcmVzcyA9IGFkZHJlc3MudG9Mb3dlckNhc2UoKS5yZXBsYWNlKCcweCcsICcnKTtcblx0ICAgIHZhciBhZGRyZXNzSGFzaCA9IHNoYTMoYWRkcmVzcyk7XG5cdCAgICB2YXIgY2hlY2tzdW1BZGRyZXNzID0gJzB4Jztcblx0XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFkZHJlc3MubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAvLyBJZiBpdGggY2hhcmFjdGVyIGlzIDkgdG8gZiB0aGVuIG1ha2UgaXQgdXBwZXJjYXNlIFxuXHQgICAgICAgIGlmIChwYXJzZUludChhZGRyZXNzSGFzaFtpXSwgMTYpID4gNykge1xuXHQgICAgICAgICAgICBjaGVja3N1bUFkZHJlc3MgKz0gYWRkcmVzc1tpXS50b1VwcGVyQ2FzZSgpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIGNoZWNrc3VtQWRkcmVzcyArPSBhZGRyZXNzW2ldO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIHJldHVybiBjaGVja3N1bUFkZHJlc3M7XG5cdH07XG5cdFxuXHQvKipcblx0ICogVHJhbnNmb3JtcyBnaXZlbiBzdHJpbmcgdG8gdmFsaWQgMjAgYnl0ZXMtbGVuZ3RoIGFkZHJlcyB3aXRoIDB4IHByZWZpeFxuXHQgKlxuXHQgKiBAbWV0aG9kIHRvQWRkcmVzc1xuXHQgKiBAcGFyYW0ge1N0cmluZ30gYWRkcmVzc1xuXHQgKiBAcmV0dXJuIHtTdHJpbmd9IGZvcm1hdHRlZCBhZGRyZXNzXG5cdCAqL1xuXHR2YXIgdG9BZGRyZXNzID0gZnVuY3Rpb24gdG9BZGRyZXNzKGFkZHJlc3MpIHtcblx0ICAgIGlmIChpc1N0cmljdEFkZHJlc3MoYWRkcmVzcykpIHtcblx0ICAgICAgICByZXR1cm4gYWRkcmVzcztcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoL15bMC05YS1mXXs0MH0kLy50ZXN0KGFkZHJlc3MpKSB7XG5cdCAgICAgICAgcmV0dXJuICcweCcgKyBhZGRyZXNzO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiAnMHgnICsgcGFkTGVmdCh0b0hleChhZGRyZXNzKS5zdWJzdHIoMiksIDQwKTtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBSZXR1cm5zIHRydWUgaWYgb2JqZWN0IGlzIEJpZ051bWJlciwgb3RoZXJ3aXNlIGZhbHNlXG5cdCAqXG5cdCAqIEBtZXRob2QgaXNCaWdOdW1iZXJcblx0ICogQHBhcmFtIHtPYmplY3R9XG5cdCAqIEByZXR1cm4ge0Jvb2xlYW59XG5cdCAqL1xuXHR2YXIgaXNCaWdOdW1iZXIgPSBmdW5jdGlvbiBpc0JpZ051bWJlcihvYmplY3QpIHtcblx0ICAgIHJldHVybiBvYmplY3QgaW5zdGFuY2VvZiBCaWdOdW1iZXIgfHwgb2JqZWN0ICYmIG9iamVjdC5jb25zdHJ1Y3RvciAmJiBvYmplY3QuY29uc3RydWN0b3IubmFtZSA9PT0gJ0JpZ051bWJlcic7XG5cdH07XG5cdFxuXHQvKipcblx0ICogUmV0dXJucyB0cnVlIGlmIG9iamVjdCBpcyBzdHJpbmcsIG90aGVyd2lzZSBmYWxzZVxuXHQgKlxuXHQgKiBAbWV0aG9kIGlzU3RyaW5nXG5cdCAqIEBwYXJhbSB7T2JqZWN0fVxuXHQgKiBAcmV0dXJuIHtCb29sZWFufVxuXHQgKi9cblx0dmFyIGlzU3RyaW5nID0gZnVuY3Rpb24gaXNTdHJpbmcob2JqZWN0KSB7XG5cdCAgICByZXR1cm4gdHlwZW9mIG9iamVjdCA9PT0gJ3N0cmluZycgfHwgb2JqZWN0ICYmIG9iamVjdC5jb25zdHJ1Y3RvciAmJiBvYmplY3QuY29uc3RydWN0b3IubmFtZSA9PT0gJ1N0cmluZyc7XG5cdH07XG5cdFxuXHQvKipcblx0ICogUmV0dXJucyB0cnVlIGlmIG9iamVjdCBpcyBmdW5jdGlvbiwgb3RoZXJ3aXNlIGZhbHNlXG5cdCAqXG5cdCAqIEBtZXRob2QgaXNGdW5jdGlvblxuXHQgKiBAcGFyYW0ge09iamVjdH1cblx0ICogQHJldHVybiB7Qm9vbGVhbn1cblx0ICovXG5cdHZhciBpc0Z1bmN0aW9uID0gZnVuY3Rpb24gaXNGdW5jdGlvbihvYmplY3QpIHtcblx0ICAgIHJldHVybiB0eXBlb2Ygb2JqZWN0ID09PSAnZnVuY3Rpb24nO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFJldHVybnMgdHJ1ZSBpZiBvYmplY3QgaXMgT2JqZXQsIG90aGVyd2lzZSBmYWxzZVxuXHQgKlxuXHQgKiBAbWV0aG9kIGlzT2JqZWN0XG5cdCAqIEBwYXJhbSB7T2JqZWN0fVxuXHQgKiBAcmV0dXJuIHtCb29sZWFufVxuXHQgKi9cblx0dmFyIGlzT2JqZWN0ID0gZnVuY3Rpb24gaXNPYmplY3Qob2JqZWN0KSB7XG5cdCAgICByZXR1cm4gKHR5cGVvZiBvYmplY3QgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKG9iamVjdCkpID09PSAnb2JqZWN0Jztcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBSZXR1cm5zIHRydWUgaWYgb2JqZWN0IGlzIGJvb2xlYW4sIG90aGVyd2lzZSBmYWxzZVxuXHQgKlxuXHQgKiBAbWV0aG9kIGlzQm9vbGVhblxuXHQgKiBAcGFyYW0ge09iamVjdH1cblx0ICogQHJldHVybiB7Qm9vbGVhbn1cblx0ICovXG5cdHZhciBpc0Jvb2xlYW4gPSBmdW5jdGlvbiBpc0Jvb2xlYW4ob2JqZWN0KSB7XG5cdCAgICByZXR1cm4gdHlwZW9mIG9iamVjdCA9PT0gJ2Jvb2xlYW4nO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFJldHVybnMgdHJ1ZSBpZiBvYmplY3QgaXMgYXJyYXksIG90aGVyd2lzZSBmYWxzZVxuXHQgKlxuXHQgKiBAbWV0aG9kIGlzQXJyYXlcblx0ICogQHBhcmFtIHtPYmplY3R9XG5cdCAqIEByZXR1cm4ge0Jvb2xlYW59XG5cdCAqL1xuXHR2YXIgaXNBcnJheSA9IGZ1bmN0aW9uIGlzQXJyYXkob2JqZWN0KSB7XG5cdCAgICByZXR1cm4gb2JqZWN0IGluc3RhbmNlb2YgQXJyYXk7XG5cdH07XG5cdFxuXHQvKipcblx0ICogUmV0dXJucyB0cnVlIGlmIGdpdmVuIHN0cmluZyBpcyB2YWxpZCBqc29uIG9iamVjdFxuXHQgKlxuXHQgKiBAbWV0aG9kIGlzSnNvblxuXHQgKiBAcGFyYW0ge1N0cmluZ31cblx0ICogQHJldHVybiB7Qm9vbGVhbn1cblx0ICovXG5cdHZhciBpc0pzb24gPSBmdW5jdGlvbiBpc0pzb24oc3RyKSB7XG5cdCAgICB0cnkge1xuXHQgICAgICAgIHJldHVybiAhIUpTT04ucGFyc2Uoc3RyKTtcblx0ICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9XG5cdH07XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IHtcblx0ICAgIHBhZExlZnQ6IHBhZExlZnQsXG5cdCAgICBwYWRSaWdodDogcGFkUmlnaHQsXG5cdCAgICB0b0hleDogdG9IZXgsXG5cdCAgICB0b0RlY2ltYWw6IHRvRGVjaW1hbCxcblx0ICAgIGZyb21EZWNpbWFsOiBmcm9tRGVjaW1hbCxcblx0ICAgIHRvVXRmODogdG9VdGY4LFxuXHQgICAgdG9Bc2NpaTogdG9Bc2NpaSxcblx0ICAgIGZyb21VdGY4OiBmcm9tVXRmOCxcblx0ICAgIGZyb21Bc2NpaTogZnJvbUFzY2lpLFxuXHQgICAgdHJhbnNmb3JtVG9GdWxsTmFtZTogdHJhbnNmb3JtVG9GdWxsTmFtZSxcblx0ICAgIGV4dHJhY3REaXNwbGF5TmFtZTogZXh0cmFjdERpc3BsYXlOYW1lLFxuXHQgICAgZXh0cmFjdFR5cGVOYW1lOiBleHRyYWN0VHlwZU5hbWUsXG5cdCAgICB0b1dlaTogdG9XZWksXG5cdCAgICBmcm9tV2VpOiBmcm9tV2VpLFxuXHQgICAgdG9CaWdOdW1iZXI6IHRvQmlnTnVtYmVyLFxuXHQgICAgdG9Ud29zQ29tcGxlbWVudDogdG9Ud29zQ29tcGxlbWVudCxcblx0ICAgIHRvQWRkcmVzczogdG9BZGRyZXNzLFxuXHQgICAgaXNCaWdOdW1iZXI6IGlzQmlnTnVtYmVyLFxuXHQgICAgaXNTdHJpY3RBZGRyZXNzOiBpc1N0cmljdEFkZHJlc3MsXG5cdCAgICBpc0FkZHJlc3M6IGlzQWRkcmVzcyxcblx0ICAgIGlzQ2hlY2tzdW1BZGRyZXNzOiBpc0NoZWNrc3VtQWRkcmVzcyxcblx0ICAgIHRvQ2hlY2tzdW1BZGRyZXNzOiB0b0NoZWNrc3VtQWRkcmVzcyxcblx0ICAgIGlzRnVuY3Rpb246IGlzRnVuY3Rpb24sXG5cdCAgICBpc1N0cmluZzogaXNTdHJpbmcsXG5cdCAgICBpc09iamVjdDogaXNPYmplY3QsXG5cdCAgICBpc0Jvb2xlYW46IGlzQm9vbGVhbixcblx0ICAgIGlzQXJyYXk6IGlzQXJyYXksXG5cdCAgICBpc0pzb246IGlzSnNvblxuXHR9O1xuXG4vKioqLyB9LFxuLyogNCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXywgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXywgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX187XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHR2YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cdFxuXHQ7KGZ1bmN0aW9uIChyb290LCBmYWN0b3J5KSB7XG5cdFx0aWYgKCggZmFsc2UgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZihleHBvcnRzKSkgPT09IFwib2JqZWN0XCIpIHtcblx0XHRcdC8vIENvbW1vbkpTXG5cdFx0XHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMgPSBmYWN0b3J5KF9fd2VicGFja19yZXF1aXJlX18oMSkpO1xuXHRcdH0gZWxzZSBpZiAodHJ1ZSkge1xuXHRcdFx0Ly8gQU1EXG5cdFx0XHQhKF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18gPSBbX193ZWJwYWNrX3JlcXVpcmVfXygxKV0sIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyA9IChmYWN0b3J5KSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gPSAodHlwZW9mIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyA9PT0gJ2Z1bmN0aW9uJyA/IChfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18uYXBwbHkoZXhwb3J0cywgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXykpIDogX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fKSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gIT09IHVuZGVmaW5lZCAmJiAobW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXykpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBHbG9iYWwgKGJyb3dzZXIpXG5cdFx0XHRmYWN0b3J5KHJvb3QuQ3J5cHRvSlMpO1xuXHRcdH1cblx0fSkodW5kZWZpbmVkLCBmdW5jdGlvbiAoQ3J5cHRvSlMpIHtcblx0XG5cdFx0KGZ1bmN0aW9uICgpIHtcblx0XHRcdC8vIFNob3J0Y3V0c1xuXHRcdFx0dmFyIEMgPSBDcnlwdG9KUztcblx0XHRcdHZhciBDX2xpYiA9IEMubGliO1xuXHRcdFx0dmFyIFdvcmRBcnJheSA9IENfbGliLldvcmRBcnJheTtcblx0XHRcdHZhciBDX2VuYyA9IEMuZW5jO1xuXHRcblx0XHRcdC8qKlxuXHQgICAqIEJhc2U2NCBlbmNvZGluZyBzdHJhdGVneS5cblx0ICAgKi9cblx0XHRcdHZhciBCYXNlNjQgPSBDX2VuYy5CYXNlNjQgPSB7XG5cdFx0XHRcdC8qKlxuXHQgICAgKiBDb252ZXJ0cyBhIHdvcmQgYXJyYXkgdG8gYSBCYXNlNjQgc3RyaW5nLlxuXHQgICAgKlxuXHQgICAgKiBAcGFyYW0ge1dvcmRBcnJheX0gd29yZEFycmF5IFRoZSB3b3JkIGFycmF5LlxuXHQgICAgKlxuXHQgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBCYXNlNjQgc3RyaW5nLlxuXHQgICAgKlxuXHQgICAgKiBAc3RhdGljXG5cdCAgICAqXG5cdCAgICAqIEBleGFtcGxlXG5cdCAgICAqXG5cdCAgICAqICAgICB2YXIgYmFzZTY0U3RyaW5nID0gQ3J5cHRvSlMuZW5jLkJhc2U2NC5zdHJpbmdpZnkod29yZEFycmF5KTtcblx0ICAgICovXG5cdFx0XHRcdHN0cmluZ2lmeTogZnVuY3Rpb24gc3RyaW5naWZ5KHdvcmRBcnJheSkge1xuXHRcdFx0XHRcdC8vIFNob3J0Y3V0c1xuXHRcdFx0XHRcdHZhciB3b3JkcyA9IHdvcmRBcnJheS53b3Jkcztcblx0XHRcdFx0XHR2YXIgc2lnQnl0ZXMgPSB3b3JkQXJyYXkuc2lnQnl0ZXM7XG5cdFx0XHRcdFx0dmFyIG1hcCA9IHRoaXMuX21hcDtcblx0XG5cdFx0XHRcdFx0Ly8gQ2xhbXAgZXhjZXNzIGJpdHNcblx0XHRcdFx0XHR3b3JkQXJyYXkuY2xhbXAoKTtcblx0XG5cdFx0XHRcdFx0Ly8gQ29udmVydFxuXHRcdFx0XHRcdHZhciBiYXNlNjRDaGFycyA9IFtdO1xuXHRcdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc2lnQnl0ZXM7IGkgKz0gMykge1xuXHRcdFx0XHRcdFx0dmFyIGJ5dGUxID0gd29yZHNbaSA+Pj4gMl0gPj4+IDI0IC0gaSAlIDQgKiA4ICYgMHhmZjtcblx0XHRcdFx0XHRcdHZhciBieXRlMiA9IHdvcmRzW2kgKyAxID4+PiAyXSA+Pj4gMjQgLSAoaSArIDEpICUgNCAqIDggJiAweGZmO1xuXHRcdFx0XHRcdFx0dmFyIGJ5dGUzID0gd29yZHNbaSArIDIgPj4+IDJdID4+PiAyNCAtIChpICsgMikgJSA0ICogOCAmIDB4ZmY7XG5cdFxuXHRcdFx0XHRcdFx0dmFyIHRyaXBsZXQgPSBieXRlMSA8PCAxNiB8IGJ5dGUyIDw8IDggfCBieXRlMztcblx0XG5cdFx0XHRcdFx0XHRmb3IgKHZhciBqID0gMDsgaiA8IDQgJiYgaSArIGogKiAwLjc1IDwgc2lnQnl0ZXM7IGorKykge1xuXHRcdFx0XHRcdFx0XHRiYXNlNjRDaGFycy5wdXNoKG1hcC5jaGFyQXQodHJpcGxldCA+Pj4gNiAqICgzIC0gaikgJiAweDNmKSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHQvLyBBZGQgcGFkZGluZ1xuXHRcdFx0XHRcdHZhciBwYWRkaW5nQ2hhciA9IG1hcC5jaGFyQXQoNjQpO1xuXHRcdFx0XHRcdGlmIChwYWRkaW5nQ2hhcikge1xuXHRcdFx0XHRcdFx0d2hpbGUgKGJhc2U2NENoYXJzLmxlbmd0aCAlIDQpIHtcblx0XHRcdFx0XHRcdFx0YmFzZTY0Q2hhcnMucHVzaChwYWRkaW5nQ2hhcik7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRyZXR1cm4gYmFzZTY0Q2hhcnMuam9pbignJyk7XG5cdFx0XHRcdH0sXG5cdFxuXHRcdFx0XHQvKipcblx0ICAgICogQ29udmVydHMgYSBCYXNlNjQgc3RyaW5nIHRvIGEgd29yZCBhcnJheS5cblx0ICAgICpcblx0ICAgICogQHBhcmFtIHtzdHJpbmd9IGJhc2U2NFN0ciBUaGUgQmFzZTY0IHN0cmluZy5cblx0ICAgICpcblx0ICAgICogQHJldHVybiB7V29yZEFycmF5fSBUaGUgd29yZCBhcnJheS5cblx0ICAgICpcblx0ICAgICogQHN0YXRpY1xuXHQgICAgKlxuXHQgICAgKiBAZXhhbXBsZVxuXHQgICAgKlxuXHQgICAgKiAgICAgdmFyIHdvcmRBcnJheSA9IENyeXB0b0pTLmVuYy5CYXNlNjQucGFyc2UoYmFzZTY0U3RyaW5nKTtcblx0ICAgICovXG5cdFx0XHRcdHBhcnNlOiBmdW5jdGlvbiBwYXJzZShiYXNlNjRTdHIpIHtcblx0XHRcdFx0XHQvLyBTaG9ydGN1dHNcblx0XHRcdFx0XHR2YXIgYmFzZTY0U3RyTGVuZ3RoID0gYmFzZTY0U3RyLmxlbmd0aDtcblx0XHRcdFx0XHR2YXIgbWFwID0gdGhpcy5fbWFwO1xuXHRcdFx0XHRcdHZhciByZXZlcnNlTWFwID0gdGhpcy5fcmV2ZXJzZU1hcDtcblx0XG5cdFx0XHRcdFx0aWYgKCFyZXZlcnNlTWFwKSB7XG5cdFx0XHRcdFx0XHRyZXZlcnNlTWFwID0gdGhpcy5fcmV2ZXJzZU1hcCA9IFtdO1xuXHRcdFx0XHRcdFx0Zm9yICh2YXIgaiA9IDA7IGogPCBtYXAubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0XHRcdFx0cmV2ZXJzZU1hcFttYXAuY2hhckNvZGVBdChqKV0gPSBqO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0Ly8gSWdub3JlIHBhZGRpbmdcblx0XHRcdFx0XHR2YXIgcGFkZGluZ0NoYXIgPSBtYXAuY2hhckF0KDY0KTtcblx0XHRcdFx0XHRpZiAocGFkZGluZ0NoYXIpIHtcblx0XHRcdFx0XHRcdHZhciBwYWRkaW5nSW5kZXggPSBiYXNlNjRTdHIuaW5kZXhPZihwYWRkaW5nQ2hhcik7XG5cdFx0XHRcdFx0XHRpZiAocGFkZGluZ0luZGV4ICE9PSAtMSkge1xuXHRcdFx0XHRcdFx0XHRiYXNlNjRTdHJMZW5ndGggPSBwYWRkaW5nSW5kZXg7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHQvLyBDb252ZXJ0XG5cdFx0XHRcdFx0cmV0dXJuIHBhcnNlTG9vcChiYXNlNjRTdHIsIGJhc2U2NFN0ckxlbmd0aCwgcmV2ZXJzZU1hcCk7XG5cdFx0XHRcdH0sXG5cdFxuXHRcdFx0XHRfbWFwOiAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz0nXG5cdFx0XHR9O1xuXHRcblx0XHRcdGZ1bmN0aW9uIHBhcnNlTG9vcChiYXNlNjRTdHIsIGJhc2U2NFN0ckxlbmd0aCwgcmV2ZXJzZU1hcCkge1xuXHRcdFx0XHR2YXIgd29yZHMgPSBbXTtcblx0XHRcdFx0dmFyIG5CeXRlcyA9IDA7XG5cdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgYmFzZTY0U3RyTGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHRpZiAoaSAlIDQpIHtcblx0XHRcdFx0XHRcdHZhciBiaXRzMSA9IHJldmVyc2VNYXBbYmFzZTY0U3RyLmNoYXJDb2RlQXQoaSAtIDEpXSA8PCBpICUgNCAqIDI7XG5cdFx0XHRcdFx0XHR2YXIgYml0czIgPSByZXZlcnNlTWFwW2Jhc2U2NFN0ci5jaGFyQ29kZUF0KGkpXSA+Pj4gNiAtIGkgJSA0ICogMjtcblx0XHRcdFx0XHRcdHdvcmRzW25CeXRlcyA+Pj4gMl0gfD0gKGJpdHMxIHwgYml0czIpIDw8IDI0IC0gbkJ5dGVzICUgNCAqIDg7XG5cdFx0XHRcdFx0XHRuQnl0ZXMrKztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIFdvcmRBcnJheS5jcmVhdGUod29yZHMsIG5CeXRlcyk7XG5cdFx0XHR9XG5cdFx0fSkoKTtcblx0XG5cdFx0cmV0dXJuIENyeXB0b0pTLmVuYy5CYXNlNjQ7XG5cdH0pO1xuXG4vKioqLyB9LFxuLyogNSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXywgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXywgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX187XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHR2YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cdFxuXHQ7KGZ1bmN0aW9uIChyb290LCBmYWN0b3J5LCB1bmRlZikge1xuXHRcdGlmICgoIGZhbHNlID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2YoZXhwb3J0cykpID09PSBcIm9iamVjdFwiKSB7XG5cdFx0XHQvLyBDb21tb25KU1xuXHRcdFx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzID0gZmFjdG9yeShfX3dlYnBhY2tfcmVxdWlyZV9fKDEpLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKSwgX193ZWJwYWNrX3JlcXVpcmVfXygxMSkpO1xuXHRcdH0gZWxzZSBpZiAodHJ1ZSkge1xuXHRcdFx0Ly8gQU1EXG5cdFx0XHQhKF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18gPSBbX193ZWJwYWNrX3JlcXVpcmVfXygxKSwgX193ZWJwYWNrX3JlcXVpcmVfXygxMiksIF9fd2VicGFja19yZXF1aXJlX18oMTEpXSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fID0gKGZhY3RvcnkpLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyA9ICh0eXBlb2YgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fID09PSAnZnVuY3Rpb24nID8gKF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXy5hcHBseShleHBvcnRzLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fKSkgOiBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18pLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyAhPT0gdW5kZWZpbmVkICYmIChtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fKSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIEdsb2JhbCAoYnJvd3Nlcilcblx0XHRcdGZhY3Rvcnkocm9vdC5DcnlwdG9KUyk7XG5cdFx0fVxuXHR9KSh1bmRlZmluZWQsIGZ1bmN0aW9uIChDcnlwdG9KUykge1xuXHRcblx0XHQoZnVuY3Rpb24gKCkge1xuXHRcdFx0Ly8gU2hvcnRjdXRzXG5cdFx0XHR2YXIgQyA9IENyeXB0b0pTO1xuXHRcdFx0dmFyIENfbGliID0gQy5saWI7XG5cdFx0XHR2YXIgQmFzZSA9IENfbGliLkJhc2U7XG5cdFx0XHR2YXIgV29yZEFycmF5ID0gQ19saWIuV29yZEFycmF5O1xuXHRcdFx0dmFyIENfYWxnbyA9IEMuYWxnbztcblx0XHRcdHZhciBNRDUgPSBDX2FsZ28uTUQ1O1xuXHRcblx0XHRcdC8qKlxuXHQgICAqIFRoaXMga2V5IGRlcml2YXRpb24gZnVuY3Rpb24gaXMgbWVhbnQgdG8gY29uZm9ybSB3aXRoIEVWUF9CeXRlc1RvS2V5LlxuXHQgICAqIHd3dy5vcGVuc3NsLm9yZy9kb2NzL2NyeXB0by9FVlBfQnl0ZXNUb0tleS5odG1sXG5cdCAgICovXG5cdFx0XHR2YXIgRXZwS0RGID0gQ19hbGdvLkV2cEtERiA9IEJhc2UuZXh0ZW5kKHtcblx0XHRcdFx0LyoqXG5cdCAgICAqIENvbmZpZ3VyYXRpb24gb3B0aW9ucy5cblx0ICAgICpcblx0ICAgICogQHByb3BlcnR5IHtudW1iZXJ9IGtleVNpemUgVGhlIGtleSBzaXplIGluIHdvcmRzIHRvIGdlbmVyYXRlLiBEZWZhdWx0OiA0ICgxMjggYml0cylcblx0ICAgICogQHByb3BlcnR5IHtIYXNoZXJ9IGhhc2hlciBUaGUgaGFzaCBhbGdvcml0aG0gdG8gdXNlLiBEZWZhdWx0OiBNRDVcblx0ICAgICogQHByb3BlcnR5IHtudW1iZXJ9IGl0ZXJhdGlvbnMgVGhlIG51bWJlciBvZiBpdGVyYXRpb25zIHRvIHBlcmZvcm0uIERlZmF1bHQ6IDFcblx0ICAgICovXG5cdFx0XHRcdGNmZzogQmFzZS5leHRlbmQoe1xuXHRcdFx0XHRcdGtleVNpemU6IDEyOCAvIDMyLFxuXHRcdFx0XHRcdGhhc2hlcjogTUQ1LFxuXHRcdFx0XHRcdGl0ZXJhdGlvbnM6IDFcblx0XHRcdFx0fSksXG5cdFxuXHRcdFx0XHQvKipcblx0ICAgICogSW5pdGlhbGl6ZXMgYSBuZXdseSBjcmVhdGVkIGtleSBkZXJpdmF0aW9uIGZ1bmN0aW9uLlxuXHQgICAgKlxuXHQgICAgKiBAcGFyYW0ge09iamVjdH0gY2ZnIChPcHRpb25hbCkgVGhlIGNvbmZpZ3VyYXRpb24gb3B0aW9ucyB0byB1c2UgZm9yIHRoZSBkZXJpdmF0aW9uLlxuXHQgICAgKlxuXHQgICAgKiBAZXhhbXBsZVxuXHQgICAgKlxuXHQgICAgKiAgICAgdmFyIGtkZiA9IENyeXB0b0pTLmFsZ28uRXZwS0RGLmNyZWF0ZSgpO1xuXHQgICAgKiAgICAgdmFyIGtkZiA9IENyeXB0b0pTLmFsZ28uRXZwS0RGLmNyZWF0ZSh7IGtleVNpemU6IDggfSk7XG5cdCAgICAqICAgICB2YXIga2RmID0gQ3J5cHRvSlMuYWxnby5FdnBLREYuY3JlYXRlKHsga2V5U2l6ZTogOCwgaXRlcmF0aW9uczogMTAwMCB9KTtcblx0ICAgICovXG5cdFx0XHRcdGluaXQ6IGZ1bmN0aW9uIGluaXQoY2ZnKSB7XG5cdFx0XHRcdFx0dGhpcy5jZmcgPSB0aGlzLmNmZy5leHRlbmQoY2ZnKTtcblx0XHRcdFx0fSxcblx0XG5cdFx0XHRcdC8qKlxuXHQgICAgKiBEZXJpdmVzIGEga2V5IGZyb20gYSBwYXNzd29yZC5cblx0ICAgICpcblx0ICAgICogQHBhcmFtIHtXb3JkQXJyYXl8c3RyaW5nfSBwYXNzd29yZCBUaGUgcGFzc3dvcmQuXG5cdCAgICAqIEBwYXJhbSB7V29yZEFycmF5fHN0cmluZ30gc2FsdCBBIHNhbHQuXG5cdCAgICAqXG5cdCAgICAqIEByZXR1cm4ge1dvcmRBcnJheX0gVGhlIGRlcml2ZWQga2V5LlxuXHQgICAgKlxuXHQgICAgKiBAZXhhbXBsZVxuXHQgICAgKlxuXHQgICAgKiAgICAgdmFyIGtleSA9IGtkZi5jb21wdXRlKHBhc3N3b3JkLCBzYWx0KTtcblx0ICAgICovXG5cdFx0XHRcdGNvbXB1dGU6IGZ1bmN0aW9uIGNvbXB1dGUocGFzc3dvcmQsIHNhbHQpIHtcblx0XHRcdFx0XHQvLyBTaG9ydGN1dFxuXHRcdFx0XHRcdHZhciBjZmcgPSB0aGlzLmNmZztcblx0XG5cdFx0XHRcdFx0Ly8gSW5pdCBoYXNoZXJcblx0XHRcdFx0XHR2YXIgaGFzaGVyID0gY2ZnLmhhc2hlci5jcmVhdGUoKTtcblx0XG5cdFx0XHRcdFx0Ly8gSW5pdGlhbCB2YWx1ZXNcblx0XHRcdFx0XHR2YXIgZGVyaXZlZEtleSA9IFdvcmRBcnJheS5jcmVhdGUoKTtcblx0XG5cdFx0XHRcdFx0Ly8gU2hvcnRjdXRzXG5cdFx0XHRcdFx0dmFyIGRlcml2ZWRLZXlXb3JkcyA9IGRlcml2ZWRLZXkud29yZHM7XG5cdFx0XHRcdFx0dmFyIGtleVNpemUgPSBjZmcua2V5U2l6ZTtcblx0XHRcdFx0XHR2YXIgaXRlcmF0aW9ucyA9IGNmZy5pdGVyYXRpb25zO1xuXHRcblx0XHRcdFx0XHQvLyBHZW5lcmF0ZSBrZXlcblx0XHRcdFx0XHR3aGlsZSAoZGVyaXZlZEtleVdvcmRzLmxlbmd0aCA8IGtleVNpemUpIHtcblx0XHRcdFx0XHRcdGlmIChibG9jaykge1xuXHRcdFx0XHRcdFx0XHRoYXNoZXIudXBkYXRlKGJsb2NrKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHZhciBibG9jayA9IGhhc2hlci51cGRhdGUocGFzc3dvcmQpLmZpbmFsaXplKHNhbHQpO1xuXHRcdFx0XHRcdFx0aGFzaGVyLnJlc2V0KCk7XG5cdFxuXHRcdFx0XHRcdFx0Ly8gSXRlcmF0aW9uc1xuXHRcdFx0XHRcdFx0Zm9yICh2YXIgaSA9IDE7IGkgPCBpdGVyYXRpb25zOyBpKyspIHtcblx0XHRcdFx0XHRcdFx0YmxvY2sgPSBoYXNoZXIuZmluYWxpemUoYmxvY2spO1xuXHRcdFx0XHRcdFx0XHRoYXNoZXIucmVzZXQoKTtcblx0XHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0XHRkZXJpdmVkS2V5LmNvbmNhdChibG9jayk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGRlcml2ZWRLZXkuc2lnQnl0ZXMgPSBrZXlTaXplICogNDtcblx0XG5cdFx0XHRcdFx0cmV0dXJuIGRlcml2ZWRLZXk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcblx0XHRcdC8qKlxuXHQgICAqIERlcml2ZXMgYSBrZXkgZnJvbSBhIHBhc3N3b3JkLlxuXHQgICAqXG5cdCAgICogQHBhcmFtIHtXb3JkQXJyYXl8c3RyaW5nfSBwYXNzd29yZCBUaGUgcGFzc3dvcmQuXG5cdCAgICogQHBhcmFtIHtXb3JkQXJyYXl8c3RyaW5nfSBzYWx0IEEgc2FsdC5cblx0ICAgKiBAcGFyYW0ge09iamVjdH0gY2ZnIChPcHRpb25hbCkgVGhlIGNvbmZpZ3VyYXRpb24gb3B0aW9ucyB0byB1c2UgZm9yIHRoaXMgY29tcHV0YXRpb24uXG5cdCAgICpcblx0ICAgKiBAcmV0dXJuIHtXb3JkQXJyYXl9IFRoZSBkZXJpdmVkIGtleS5cblx0ICAgKlxuXHQgICAqIEBzdGF0aWNcblx0ICAgKlxuXHQgICAqIEBleGFtcGxlXG5cdCAgICpcblx0ICAgKiAgICAgdmFyIGtleSA9IENyeXB0b0pTLkV2cEtERihwYXNzd29yZCwgc2FsdCk7XG5cdCAgICogICAgIHZhciBrZXkgPSBDcnlwdG9KUy5FdnBLREYocGFzc3dvcmQsIHNhbHQsIHsga2V5U2l6ZTogOCB9KTtcblx0ICAgKiAgICAgdmFyIGtleSA9IENyeXB0b0pTLkV2cEtERihwYXNzd29yZCwgc2FsdCwgeyBrZXlTaXplOiA4LCBpdGVyYXRpb25zOiAxMDAwIH0pO1xuXHQgICAqL1xuXHRcdFx0Qy5FdnBLREYgPSBmdW5jdGlvbiAocGFzc3dvcmQsIHNhbHQsIGNmZykge1xuXHRcdFx0XHRyZXR1cm4gRXZwS0RGLmNyZWF0ZShjZmcpLmNvbXB1dGUocGFzc3dvcmQsIHNhbHQpO1xuXHRcdFx0fTtcblx0XHR9KSgpO1xuXHRcblx0XHRyZXR1cm4gQ3J5cHRvSlMuRXZwS0RGO1xuXHR9KTtcblxuLyoqKi8gfSxcbi8qIDYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18sIF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18sIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fO1widXNlIHN0cmljdFwiO1xuXHRcblx0dmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXHRcblx0OyhmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSkge1xuXHRcdGlmICgoIGZhbHNlID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2YoZXhwb3J0cykpID09PSBcIm9iamVjdFwiKSB7XG5cdFx0XHQvLyBDb21tb25KU1xuXHRcdFx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzID0gZmFjdG9yeShfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKTtcblx0XHR9IGVsc2UgaWYgKHRydWUpIHtcblx0XHRcdC8vIEFNRFxuXHRcdFx0IShfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fID0gW19fd2VicGFja19yZXF1aXJlX18oMSldLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18gPSAoZmFjdG9yeSksIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fID0gKHR5cGVvZiBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18gPT09ICdmdW5jdGlvbicgPyAoX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fLmFwcGx5KGV4cG9ydHMsIF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18pKSA6IF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyksIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fICE9PSB1bmRlZmluZWQgJiYgKG1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18pKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gR2xvYmFsIChicm93c2VyKVxuXHRcdFx0ZmFjdG9yeShyb290LkNyeXB0b0pTKTtcblx0XHR9XG5cdH0pKHVuZGVmaW5lZCwgZnVuY3Rpb24gKENyeXB0b0pTKSB7XG5cdFxuXHRcdChmdW5jdGlvbiAoTWF0aCkge1xuXHRcdFx0Ly8gU2hvcnRjdXRzXG5cdFx0XHR2YXIgQyA9IENyeXB0b0pTO1xuXHRcdFx0dmFyIENfbGliID0gQy5saWI7XG5cdFx0XHR2YXIgV29yZEFycmF5ID0gQ19saWIuV29yZEFycmF5O1xuXHRcdFx0dmFyIEhhc2hlciA9IENfbGliLkhhc2hlcjtcblx0XHRcdHZhciBDX2FsZ28gPSBDLmFsZ287XG5cdFxuXHRcdFx0Ly8gQ29uc3RhbnRzIHRhYmxlXG5cdFx0XHR2YXIgVCA9IFtdO1xuXHRcblx0XHRcdC8vIENvbXB1dGUgY29uc3RhbnRzXG5cdFx0XHQoZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IDY0OyBpKyspIHtcblx0XHRcdFx0XHRUW2ldID0gTWF0aC5hYnMoTWF0aC5zaW4oaSArIDEpKSAqIDB4MTAwMDAwMDAwIHwgMDtcblx0XHRcdFx0fVxuXHRcdFx0fSkoKTtcblx0XG5cdFx0XHQvKipcblx0ICAgKiBNRDUgaGFzaCBhbGdvcml0aG0uXG5cdCAgICovXG5cdFx0XHR2YXIgTUQ1ID0gQ19hbGdvLk1ENSA9IEhhc2hlci5leHRlbmQoe1xuXHRcdFx0XHRfZG9SZXNldDogZnVuY3Rpb24gX2RvUmVzZXQoKSB7XG5cdFx0XHRcdFx0dGhpcy5faGFzaCA9IG5ldyBXb3JkQXJyYXkuaW5pdChbMHg2NzQ1MjMwMSwgMHhlZmNkYWI4OSwgMHg5OGJhZGNmZSwgMHgxMDMyNTQ3Nl0pO1xuXHRcdFx0XHR9LFxuXHRcblx0XHRcdFx0X2RvUHJvY2Vzc0Jsb2NrOiBmdW5jdGlvbiBfZG9Qcm9jZXNzQmxvY2soTSwgb2Zmc2V0KSB7XG5cdFx0XHRcdFx0Ly8gU3dhcCBlbmRpYW5cblx0XHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IDE2OyBpKyspIHtcblx0XHRcdFx0XHRcdC8vIFNob3J0Y3V0c1xuXHRcdFx0XHRcdFx0dmFyIG9mZnNldF9pID0gb2Zmc2V0ICsgaTtcblx0XHRcdFx0XHRcdHZhciBNX29mZnNldF9pID0gTVtvZmZzZXRfaV07XG5cdFxuXHRcdFx0XHRcdFx0TVtvZmZzZXRfaV0gPSAoTV9vZmZzZXRfaSA8PCA4IHwgTV9vZmZzZXRfaSA+Pj4gMjQpICYgMHgwMGZmMDBmZiB8IChNX29mZnNldF9pIDw8IDI0IHwgTV9vZmZzZXRfaSA+Pj4gOCkgJiAweGZmMDBmZjAwO1xuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0Ly8gU2hvcnRjdXRzXG5cdFx0XHRcdFx0dmFyIEggPSB0aGlzLl9oYXNoLndvcmRzO1xuXHRcblx0XHRcdFx0XHR2YXIgTV9vZmZzZXRfMCA9IE1bb2Zmc2V0ICsgMF07XG5cdFx0XHRcdFx0dmFyIE1fb2Zmc2V0XzEgPSBNW29mZnNldCArIDFdO1xuXHRcdFx0XHRcdHZhciBNX29mZnNldF8yID0gTVtvZmZzZXQgKyAyXTtcblx0XHRcdFx0XHR2YXIgTV9vZmZzZXRfMyA9IE1bb2Zmc2V0ICsgM107XG5cdFx0XHRcdFx0dmFyIE1fb2Zmc2V0XzQgPSBNW29mZnNldCArIDRdO1xuXHRcdFx0XHRcdHZhciBNX29mZnNldF81ID0gTVtvZmZzZXQgKyA1XTtcblx0XHRcdFx0XHR2YXIgTV9vZmZzZXRfNiA9IE1bb2Zmc2V0ICsgNl07XG5cdFx0XHRcdFx0dmFyIE1fb2Zmc2V0XzcgPSBNW29mZnNldCArIDddO1xuXHRcdFx0XHRcdHZhciBNX29mZnNldF84ID0gTVtvZmZzZXQgKyA4XTtcblx0XHRcdFx0XHR2YXIgTV9vZmZzZXRfOSA9IE1bb2Zmc2V0ICsgOV07XG5cdFx0XHRcdFx0dmFyIE1fb2Zmc2V0XzEwID0gTVtvZmZzZXQgKyAxMF07XG5cdFx0XHRcdFx0dmFyIE1fb2Zmc2V0XzExID0gTVtvZmZzZXQgKyAxMV07XG5cdFx0XHRcdFx0dmFyIE1fb2Zmc2V0XzEyID0gTVtvZmZzZXQgKyAxMl07XG5cdFx0XHRcdFx0dmFyIE1fb2Zmc2V0XzEzID0gTVtvZmZzZXQgKyAxM107XG5cdFx0XHRcdFx0dmFyIE1fb2Zmc2V0XzE0ID0gTVtvZmZzZXQgKyAxNF07XG5cdFx0XHRcdFx0dmFyIE1fb2Zmc2V0XzE1ID0gTVtvZmZzZXQgKyAxNV07XG5cdFxuXHRcdFx0XHRcdC8vIFdvcmtpbmcgdmFyaWFsYmVzXG5cdFx0XHRcdFx0dmFyIGEgPSBIWzBdO1xuXHRcdFx0XHRcdHZhciBiID0gSFsxXTtcblx0XHRcdFx0XHR2YXIgYyA9IEhbMl07XG5cdFx0XHRcdFx0dmFyIGQgPSBIWzNdO1xuXHRcblx0XHRcdFx0XHQvLyBDb21wdXRhdGlvblxuXHRcdFx0XHRcdGEgPSBGRihhLCBiLCBjLCBkLCBNX29mZnNldF8wLCA3LCBUWzBdKTtcblx0XHRcdFx0XHRkID0gRkYoZCwgYSwgYiwgYywgTV9vZmZzZXRfMSwgMTIsIFRbMV0pO1xuXHRcdFx0XHRcdGMgPSBGRihjLCBkLCBhLCBiLCBNX29mZnNldF8yLCAxNywgVFsyXSk7XG5cdFx0XHRcdFx0YiA9IEZGKGIsIGMsIGQsIGEsIE1fb2Zmc2V0XzMsIDIyLCBUWzNdKTtcblx0XHRcdFx0XHRhID0gRkYoYSwgYiwgYywgZCwgTV9vZmZzZXRfNCwgNywgVFs0XSk7XG5cdFx0XHRcdFx0ZCA9IEZGKGQsIGEsIGIsIGMsIE1fb2Zmc2V0XzUsIDEyLCBUWzVdKTtcblx0XHRcdFx0XHRjID0gRkYoYywgZCwgYSwgYiwgTV9vZmZzZXRfNiwgMTcsIFRbNl0pO1xuXHRcdFx0XHRcdGIgPSBGRihiLCBjLCBkLCBhLCBNX29mZnNldF83LCAyMiwgVFs3XSk7XG5cdFx0XHRcdFx0YSA9IEZGKGEsIGIsIGMsIGQsIE1fb2Zmc2V0XzgsIDcsIFRbOF0pO1xuXHRcdFx0XHRcdGQgPSBGRihkLCBhLCBiLCBjLCBNX29mZnNldF85LCAxMiwgVFs5XSk7XG5cdFx0XHRcdFx0YyA9IEZGKGMsIGQsIGEsIGIsIE1fb2Zmc2V0XzEwLCAxNywgVFsxMF0pO1xuXHRcdFx0XHRcdGIgPSBGRihiLCBjLCBkLCBhLCBNX29mZnNldF8xMSwgMjIsIFRbMTFdKTtcblx0XHRcdFx0XHRhID0gRkYoYSwgYiwgYywgZCwgTV9vZmZzZXRfMTIsIDcsIFRbMTJdKTtcblx0XHRcdFx0XHRkID0gRkYoZCwgYSwgYiwgYywgTV9vZmZzZXRfMTMsIDEyLCBUWzEzXSk7XG5cdFx0XHRcdFx0YyA9IEZGKGMsIGQsIGEsIGIsIE1fb2Zmc2V0XzE0LCAxNywgVFsxNF0pO1xuXHRcdFx0XHRcdGIgPSBGRihiLCBjLCBkLCBhLCBNX29mZnNldF8xNSwgMjIsIFRbMTVdKTtcblx0XG5cdFx0XHRcdFx0YSA9IEdHKGEsIGIsIGMsIGQsIE1fb2Zmc2V0XzEsIDUsIFRbMTZdKTtcblx0XHRcdFx0XHRkID0gR0coZCwgYSwgYiwgYywgTV9vZmZzZXRfNiwgOSwgVFsxN10pO1xuXHRcdFx0XHRcdGMgPSBHRyhjLCBkLCBhLCBiLCBNX29mZnNldF8xMSwgMTQsIFRbMThdKTtcblx0XHRcdFx0XHRiID0gR0coYiwgYywgZCwgYSwgTV9vZmZzZXRfMCwgMjAsIFRbMTldKTtcblx0XHRcdFx0XHRhID0gR0coYSwgYiwgYywgZCwgTV9vZmZzZXRfNSwgNSwgVFsyMF0pO1xuXHRcdFx0XHRcdGQgPSBHRyhkLCBhLCBiLCBjLCBNX29mZnNldF8xMCwgOSwgVFsyMV0pO1xuXHRcdFx0XHRcdGMgPSBHRyhjLCBkLCBhLCBiLCBNX29mZnNldF8xNSwgMTQsIFRbMjJdKTtcblx0XHRcdFx0XHRiID0gR0coYiwgYywgZCwgYSwgTV9vZmZzZXRfNCwgMjAsIFRbMjNdKTtcblx0XHRcdFx0XHRhID0gR0coYSwgYiwgYywgZCwgTV9vZmZzZXRfOSwgNSwgVFsyNF0pO1xuXHRcdFx0XHRcdGQgPSBHRyhkLCBhLCBiLCBjLCBNX29mZnNldF8xNCwgOSwgVFsyNV0pO1xuXHRcdFx0XHRcdGMgPSBHRyhjLCBkLCBhLCBiLCBNX29mZnNldF8zLCAxNCwgVFsyNl0pO1xuXHRcdFx0XHRcdGIgPSBHRyhiLCBjLCBkLCBhLCBNX29mZnNldF84LCAyMCwgVFsyN10pO1xuXHRcdFx0XHRcdGEgPSBHRyhhLCBiLCBjLCBkLCBNX29mZnNldF8xMywgNSwgVFsyOF0pO1xuXHRcdFx0XHRcdGQgPSBHRyhkLCBhLCBiLCBjLCBNX29mZnNldF8yLCA5LCBUWzI5XSk7XG5cdFx0XHRcdFx0YyA9IEdHKGMsIGQsIGEsIGIsIE1fb2Zmc2V0XzcsIDE0LCBUWzMwXSk7XG5cdFx0XHRcdFx0YiA9IEdHKGIsIGMsIGQsIGEsIE1fb2Zmc2V0XzEyLCAyMCwgVFszMV0pO1xuXHRcblx0XHRcdFx0XHRhID0gSEgoYSwgYiwgYywgZCwgTV9vZmZzZXRfNSwgNCwgVFszMl0pO1xuXHRcdFx0XHRcdGQgPSBISChkLCBhLCBiLCBjLCBNX29mZnNldF84LCAxMSwgVFszM10pO1xuXHRcdFx0XHRcdGMgPSBISChjLCBkLCBhLCBiLCBNX29mZnNldF8xMSwgMTYsIFRbMzRdKTtcblx0XHRcdFx0XHRiID0gSEgoYiwgYywgZCwgYSwgTV9vZmZzZXRfMTQsIDIzLCBUWzM1XSk7XG5cdFx0XHRcdFx0YSA9IEhIKGEsIGIsIGMsIGQsIE1fb2Zmc2V0XzEsIDQsIFRbMzZdKTtcblx0XHRcdFx0XHRkID0gSEgoZCwgYSwgYiwgYywgTV9vZmZzZXRfNCwgMTEsIFRbMzddKTtcblx0XHRcdFx0XHRjID0gSEgoYywgZCwgYSwgYiwgTV9vZmZzZXRfNywgMTYsIFRbMzhdKTtcblx0XHRcdFx0XHRiID0gSEgoYiwgYywgZCwgYSwgTV9vZmZzZXRfMTAsIDIzLCBUWzM5XSk7XG5cdFx0XHRcdFx0YSA9IEhIKGEsIGIsIGMsIGQsIE1fb2Zmc2V0XzEzLCA0LCBUWzQwXSk7XG5cdFx0XHRcdFx0ZCA9IEhIKGQsIGEsIGIsIGMsIE1fb2Zmc2V0XzAsIDExLCBUWzQxXSk7XG5cdFx0XHRcdFx0YyA9IEhIKGMsIGQsIGEsIGIsIE1fb2Zmc2V0XzMsIDE2LCBUWzQyXSk7XG5cdFx0XHRcdFx0YiA9IEhIKGIsIGMsIGQsIGEsIE1fb2Zmc2V0XzYsIDIzLCBUWzQzXSk7XG5cdFx0XHRcdFx0YSA9IEhIKGEsIGIsIGMsIGQsIE1fb2Zmc2V0XzksIDQsIFRbNDRdKTtcblx0XHRcdFx0XHRkID0gSEgoZCwgYSwgYiwgYywgTV9vZmZzZXRfMTIsIDExLCBUWzQ1XSk7XG5cdFx0XHRcdFx0YyA9IEhIKGMsIGQsIGEsIGIsIE1fb2Zmc2V0XzE1LCAxNiwgVFs0Nl0pO1xuXHRcdFx0XHRcdGIgPSBISChiLCBjLCBkLCBhLCBNX29mZnNldF8yLCAyMywgVFs0N10pO1xuXHRcblx0XHRcdFx0XHRhID0gSUkoYSwgYiwgYywgZCwgTV9vZmZzZXRfMCwgNiwgVFs0OF0pO1xuXHRcdFx0XHRcdGQgPSBJSShkLCBhLCBiLCBjLCBNX29mZnNldF83LCAxMCwgVFs0OV0pO1xuXHRcdFx0XHRcdGMgPSBJSShjLCBkLCBhLCBiLCBNX29mZnNldF8xNCwgMTUsIFRbNTBdKTtcblx0XHRcdFx0XHRiID0gSUkoYiwgYywgZCwgYSwgTV9vZmZzZXRfNSwgMjEsIFRbNTFdKTtcblx0XHRcdFx0XHRhID0gSUkoYSwgYiwgYywgZCwgTV9vZmZzZXRfMTIsIDYsIFRbNTJdKTtcblx0XHRcdFx0XHRkID0gSUkoZCwgYSwgYiwgYywgTV9vZmZzZXRfMywgMTAsIFRbNTNdKTtcblx0XHRcdFx0XHRjID0gSUkoYywgZCwgYSwgYiwgTV9vZmZzZXRfMTAsIDE1LCBUWzU0XSk7XG5cdFx0XHRcdFx0YiA9IElJKGIsIGMsIGQsIGEsIE1fb2Zmc2V0XzEsIDIxLCBUWzU1XSk7XG5cdFx0XHRcdFx0YSA9IElJKGEsIGIsIGMsIGQsIE1fb2Zmc2V0XzgsIDYsIFRbNTZdKTtcblx0XHRcdFx0XHRkID0gSUkoZCwgYSwgYiwgYywgTV9vZmZzZXRfMTUsIDEwLCBUWzU3XSk7XG5cdFx0XHRcdFx0YyA9IElJKGMsIGQsIGEsIGIsIE1fb2Zmc2V0XzYsIDE1LCBUWzU4XSk7XG5cdFx0XHRcdFx0YiA9IElJKGIsIGMsIGQsIGEsIE1fb2Zmc2V0XzEzLCAyMSwgVFs1OV0pO1xuXHRcdFx0XHRcdGEgPSBJSShhLCBiLCBjLCBkLCBNX29mZnNldF80LCA2LCBUWzYwXSk7XG5cdFx0XHRcdFx0ZCA9IElJKGQsIGEsIGIsIGMsIE1fb2Zmc2V0XzExLCAxMCwgVFs2MV0pO1xuXHRcdFx0XHRcdGMgPSBJSShjLCBkLCBhLCBiLCBNX29mZnNldF8yLCAxNSwgVFs2Ml0pO1xuXHRcdFx0XHRcdGIgPSBJSShiLCBjLCBkLCBhLCBNX29mZnNldF85LCAyMSwgVFs2M10pO1xuXHRcblx0XHRcdFx0XHQvLyBJbnRlcm1lZGlhdGUgaGFzaCB2YWx1ZVxuXHRcdFx0XHRcdEhbMF0gPSBIWzBdICsgYSB8IDA7XG5cdFx0XHRcdFx0SFsxXSA9IEhbMV0gKyBiIHwgMDtcblx0XHRcdFx0XHRIWzJdID0gSFsyXSArIGMgfCAwO1xuXHRcdFx0XHRcdEhbM10gPSBIWzNdICsgZCB8IDA7XG5cdFx0XHRcdH0sXG5cdFxuXHRcdFx0XHRfZG9GaW5hbGl6ZTogZnVuY3Rpb24gX2RvRmluYWxpemUoKSB7XG5cdFx0XHRcdFx0Ly8gU2hvcnRjdXRzXG5cdFx0XHRcdFx0dmFyIGRhdGEgPSB0aGlzLl9kYXRhO1xuXHRcdFx0XHRcdHZhciBkYXRhV29yZHMgPSBkYXRhLndvcmRzO1xuXHRcblx0XHRcdFx0XHR2YXIgbkJpdHNUb3RhbCA9IHRoaXMuX25EYXRhQnl0ZXMgKiA4O1xuXHRcdFx0XHRcdHZhciBuQml0c0xlZnQgPSBkYXRhLnNpZ0J5dGVzICogODtcblx0XG5cdFx0XHRcdFx0Ly8gQWRkIHBhZGRpbmdcblx0XHRcdFx0XHRkYXRhV29yZHNbbkJpdHNMZWZ0ID4+PiA1XSB8PSAweDgwIDw8IDI0IC0gbkJpdHNMZWZ0ICUgMzI7XG5cdFxuXHRcdFx0XHRcdHZhciBuQml0c1RvdGFsSCA9IE1hdGguZmxvb3IobkJpdHNUb3RhbCAvIDB4MTAwMDAwMDAwKTtcblx0XHRcdFx0XHR2YXIgbkJpdHNUb3RhbEwgPSBuQml0c1RvdGFsO1xuXHRcdFx0XHRcdGRhdGFXb3Jkc1sobkJpdHNMZWZ0ICsgNjQgPj4+IDkgPDwgNCkgKyAxNV0gPSAobkJpdHNUb3RhbEggPDwgOCB8IG5CaXRzVG90YWxIID4+PiAyNCkgJiAweDAwZmYwMGZmIHwgKG5CaXRzVG90YWxIIDw8IDI0IHwgbkJpdHNUb3RhbEggPj4+IDgpICYgMHhmZjAwZmYwMDtcblx0XHRcdFx0XHRkYXRhV29yZHNbKG5CaXRzTGVmdCArIDY0ID4+PiA5IDw8IDQpICsgMTRdID0gKG5CaXRzVG90YWxMIDw8IDggfCBuQml0c1RvdGFsTCA+Pj4gMjQpICYgMHgwMGZmMDBmZiB8IChuQml0c1RvdGFsTCA8PCAyNCB8IG5CaXRzVG90YWxMID4+PiA4KSAmIDB4ZmYwMGZmMDA7XG5cdFxuXHRcdFx0XHRcdGRhdGEuc2lnQnl0ZXMgPSAoZGF0YVdvcmRzLmxlbmd0aCArIDEpICogNDtcblx0XG5cdFx0XHRcdFx0Ly8gSGFzaCBmaW5hbCBibG9ja3Ncblx0XHRcdFx0XHR0aGlzLl9wcm9jZXNzKCk7XG5cdFxuXHRcdFx0XHRcdC8vIFNob3J0Y3V0c1xuXHRcdFx0XHRcdHZhciBoYXNoID0gdGhpcy5faGFzaDtcblx0XHRcdFx0XHR2YXIgSCA9IGhhc2gud29yZHM7XG5cdFxuXHRcdFx0XHRcdC8vIFN3YXAgZW5kaWFuXG5cdFx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCA0OyBpKyspIHtcblx0XHRcdFx0XHRcdC8vIFNob3J0Y3V0XG5cdFx0XHRcdFx0XHR2YXIgSF9pID0gSFtpXTtcblx0XG5cdFx0XHRcdFx0XHRIW2ldID0gKEhfaSA8PCA4IHwgSF9pID4+PiAyNCkgJiAweDAwZmYwMGZmIHwgKEhfaSA8PCAyNCB8IEhfaSA+Pj4gOCkgJiAweGZmMDBmZjAwO1xuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0Ly8gUmV0dXJuIGZpbmFsIGNvbXB1dGVkIGhhc2hcblx0XHRcdFx0XHRyZXR1cm4gaGFzaDtcblx0XHRcdFx0fSxcblx0XG5cdFx0XHRcdGNsb25lOiBmdW5jdGlvbiBjbG9uZSgpIHtcblx0XHRcdFx0XHR2YXIgY2xvbmUgPSBIYXNoZXIuY2xvbmUuY2FsbCh0aGlzKTtcblx0XHRcdFx0XHRjbG9uZS5faGFzaCA9IHRoaXMuX2hhc2guY2xvbmUoKTtcblx0XG5cdFx0XHRcdFx0cmV0dXJuIGNsb25lO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XG5cdFx0XHRmdW5jdGlvbiBGRihhLCBiLCBjLCBkLCB4LCBzLCB0KSB7XG5cdFx0XHRcdHZhciBuID0gYSArIChiICYgYyB8IH5iICYgZCkgKyB4ICsgdDtcblx0XHRcdFx0cmV0dXJuIChuIDw8IHMgfCBuID4+PiAzMiAtIHMpICsgYjtcblx0XHRcdH1cblx0XG5cdFx0XHRmdW5jdGlvbiBHRyhhLCBiLCBjLCBkLCB4LCBzLCB0KSB7XG5cdFx0XHRcdHZhciBuID0gYSArIChiICYgZCB8IGMgJiB+ZCkgKyB4ICsgdDtcblx0XHRcdFx0cmV0dXJuIChuIDw8IHMgfCBuID4+PiAzMiAtIHMpICsgYjtcblx0XHRcdH1cblx0XG5cdFx0XHRmdW5jdGlvbiBISChhLCBiLCBjLCBkLCB4LCBzLCB0KSB7XG5cdFx0XHRcdHZhciBuID0gYSArIChiIF4gYyBeIGQpICsgeCArIHQ7XG5cdFx0XHRcdHJldHVybiAobiA8PCBzIHwgbiA+Pj4gMzIgLSBzKSArIGI7XG5cdFx0XHR9XG5cdFxuXHRcdFx0ZnVuY3Rpb24gSUkoYSwgYiwgYywgZCwgeCwgcywgdCkge1xuXHRcdFx0XHR2YXIgbiA9IGEgKyAoYyBeIChiIHwgfmQpKSArIHggKyB0O1xuXHRcdFx0XHRyZXR1cm4gKG4gPDwgcyB8IG4gPj4+IDMyIC0gcykgKyBiO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8qKlxuXHQgICAqIFNob3J0Y3V0IGZ1bmN0aW9uIHRvIHRoZSBoYXNoZXIncyBvYmplY3QgaW50ZXJmYWNlLlxuXHQgICAqXG5cdCAgICogQHBhcmFtIHtXb3JkQXJyYXl8c3RyaW5nfSBtZXNzYWdlIFRoZSBtZXNzYWdlIHRvIGhhc2guXG5cdCAgICpcblx0ICAgKiBAcmV0dXJuIHtXb3JkQXJyYXl9IFRoZSBoYXNoLlxuXHQgICAqXG5cdCAgICogQHN0YXRpY1xuXHQgICAqXG5cdCAgICogQGV4YW1wbGVcblx0ICAgKlxuXHQgICAqICAgICB2YXIgaGFzaCA9IENyeXB0b0pTLk1ENSgnbWVzc2FnZScpO1xuXHQgICAqICAgICB2YXIgaGFzaCA9IENyeXB0b0pTLk1ENSh3b3JkQXJyYXkpO1xuXHQgICAqL1xuXHRcdFx0Qy5NRDUgPSBIYXNoZXIuX2NyZWF0ZUhlbHBlcihNRDUpO1xuXHRcblx0XHRcdC8qKlxuXHQgICAqIFNob3J0Y3V0IGZ1bmN0aW9uIHRvIHRoZSBITUFDJ3Mgb2JqZWN0IGludGVyZmFjZS5cblx0ICAgKlxuXHQgICAqIEBwYXJhbSB7V29yZEFycmF5fHN0cmluZ30gbWVzc2FnZSBUaGUgbWVzc2FnZSB0byBoYXNoLlxuXHQgICAqIEBwYXJhbSB7V29yZEFycmF5fHN0cmluZ30ga2V5IFRoZSBzZWNyZXQga2V5LlxuXHQgICAqXG5cdCAgICogQHJldHVybiB7V29yZEFycmF5fSBUaGUgSE1BQy5cblx0ICAgKlxuXHQgICAqIEBzdGF0aWNcblx0ICAgKlxuXHQgICAqIEBleGFtcGxlXG5cdCAgICpcblx0ICAgKiAgICAgdmFyIGhtYWMgPSBDcnlwdG9KUy5IbWFjTUQ1KG1lc3NhZ2UsIGtleSk7XG5cdCAgICovXG5cdFx0XHRDLkhtYWNNRDUgPSBIYXNoZXIuX2NyZWF0ZUhtYWNIZWxwZXIoTUQ1KTtcblx0XHR9KShNYXRoKTtcblx0XG5cdFx0cmV0dXJuIENyeXB0b0pTLk1ENTtcblx0fSk7XG5cbi8qKiovIH0sXG4vKiA3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHQvKlxuXHQgICAgVGhpcyBmaWxlIGlzIHBhcnQgb2Ygd2ViMy5qcy5cblx0XG5cdCAgICB3ZWIzLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcblx0ICAgIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuXHQgICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3Jcblx0ICAgIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG5cdFxuXHQgICAgd2ViMy5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuXHQgICAgYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2Zcblx0ICAgIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcblx0ICAgIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuXHRcblx0ICAgIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuXHQgICAgYWxvbmcgd2l0aCB3ZWIzLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuXHQqL1xuXHQvKiogXG5cdCAqIEBmaWxlIGZvcm1hdHRlcnMuanNcblx0ICogQGF1dGhvciBNYXJlayBLb3Rld2ljeiA8bWFyZWtAZXRoZGV2LmNvbT5cblx0ICogQGRhdGUgMjAxNVxuXHQgKi9cblx0XG5cdHZhciBCaWdOdW1iZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0KTtcblx0dmFyIHV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0dmFyIGMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwKTtcblx0dmFyIFNvbGlkaXR5UGFyYW0gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ4KTtcblx0XG5cdC8qKlxuXHQgKiBGb3JtYXRzIGlucHV0IHZhbHVlIHRvIGJ5dGUgcmVwcmVzZW50YXRpb24gb2YgaW50XG5cdCAqIElmIHZhbHVlIGlzIG5lZ2F0aXZlLCByZXR1cm4gaXQncyB0d28ncyBjb21wbGVtZW50XG5cdCAqIElmIHRoZSB2YWx1ZSBpcyBmbG9hdGluZyBwb2ludCwgcm91bmQgaXQgZG93blxuXHQgKlxuXHQgKiBAbWV0aG9kIGZvcm1hdElucHV0SW50XG5cdCAqIEBwYXJhbSB7U3RyaW5nfE51bWJlcnxCaWdOdW1iZXJ9IHZhbHVlIHRoYXQgbmVlZHMgdG8gYmUgZm9ybWF0dGVkXG5cdCAqIEByZXR1cm5zIHtTb2xpZGl0eVBhcmFtfVxuXHQgKi9cblx0dmFyIGZvcm1hdElucHV0SW50ID0gZnVuY3Rpb24gZm9ybWF0SW5wdXRJbnQodmFsdWUpIHtcblx0ICAgIEJpZ051bWJlci5jb25maWcoYy5FVEhfQklHTlVNQkVSX1JPVU5ESU5HX01PREUpO1xuXHQgICAgdmFyIHJlc3VsdCA9IHV0aWxzLnBhZExlZnQodXRpbHMudG9Ud29zQ29tcGxlbWVudCh2YWx1ZSkucm91bmQoKS50b1N0cmluZygxNiksIDY0KTtcblx0ICAgIHJldHVybiBuZXcgU29saWRpdHlQYXJhbShyZXN1bHQpO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIEZvcm1hdHMgaW5wdXQgYnl0ZXNcblx0ICpcblx0ICogQG1ldGhvZCBmb3JtYXRJbnB1dEJ5dGVzXG5cdCAqIEBwYXJhbSB7U3RyaW5nfVxuXHQgKiBAcmV0dXJucyB7U29saWRpdHlQYXJhbX1cblx0ICovXG5cdHZhciBmb3JtYXRJbnB1dEJ5dGVzID0gZnVuY3Rpb24gZm9ybWF0SW5wdXRCeXRlcyh2YWx1ZSkge1xuXHQgICAgdmFyIHJlc3VsdCA9IHV0aWxzLnRvSGV4KHZhbHVlKS5zdWJzdHIoMik7XG5cdCAgICB2YXIgbCA9IE1hdGguZmxvb3IoKHJlc3VsdC5sZW5ndGggKyA2MykgLyA2NCk7XG5cdCAgICByZXN1bHQgPSB1dGlscy5wYWRSaWdodChyZXN1bHQsIGwgKiA2NCk7XG5cdCAgICByZXR1cm4gbmV3IFNvbGlkaXR5UGFyYW0ocmVzdWx0KTtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBGb3JtYXRzIGlucHV0IGJ5dGVzXG5cdCAqXG5cdCAqIEBtZXRob2QgZm9ybWF0RHluYW1pY0lucHV0Qnl0ZXNcblx0ICogQHBhcmFtIHtTdHJpbmd9XG5cdCAqIEByZXR1cm5zIHtTb2xpZGl0eVBhcmFtfVxuXHQgKi9cblx0dmFyIGZvcm1hdElucHV0RHluYW1pY0J5dGVzID0gZnVuY3Rpb24gZm9ybWF0SW5wdXREeW5hbWljQnl0ZXModmFsdWUpIHtcblx0ICAgIHZhciByZXN1bHQgPSB1dGlscy50b0hleCh2YWx1ZSkuc3Vic3RyKDIpO1xuXHQgICAgdmFyIGxlbmd0aCA9IHJlc3VsdC5sZW5ndGggLyAyO1xuXHQgICAgdmFyIGwgPSBNYXRoLmZsb29yKChyZXN1bHQubGVuZ3RoICsgNjMpIC8gNjQpO1xuXHQgICAgcmVzdWx0ID0gdXRpbHMucGFkUmlnaHQocmVzdWx0LCBsICogNjQpO1xuXHQgICAgcmV0dXJuIG5ldyBTb2xpZGl0eVBhcmFtKGZvcm1hdElucHV0SW50KGxlbmd0aCkudmFsdWUgKyByZXN1bHQpO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIEZvcm1hdHMgaW5wdXQgdmFsdWUgdG8gYnl0ZSByZXByZXNlbnRhdGlvbiBvZiBzdHJpbmdcblx0ICpcblx0ICogQG1ldGhvZCBmb3JtYXRJbnB1dFN0cmluZ1xuXHQgKiBAcGFyYW0ge1N0cmluZ31cblx0ICogQHJldHVybnMge1NvbGlkaXR5UGFyYW19XG5cdCAqL1xuXHR2YXIgZm9ybWF0SW5wdXRTdHJpbmcgPSBmdW5jdGlvbiBmb3JtYXRJbnB1dFN0cmluZyh2YWx1ZSkge1xuXHQgICAgdmFyIHJlc3VsdCA9IHV0aWxzLmZyb21VdGY4KHZhbHVlKS5zdWJzdHIoMik7XG5cdCAgICB2YXIgbGVuZ3RoID0gcmVzdWx0Lmxlbmd0aCAvIDI7XG5cdCAgICB2YXIgbCA9IE1hdGguZmxvb3IoKHJlc3VsdC5sZW5ndGggKyA2MykgLyA2NCk7XG5cdCAgICByZXN1bHQgPSB1dGlscy5wYWRSaWdodChyZXN1bHQsIGwgKiA2NCk7XG5cdCAgICByZXR1cm4gbmV3IFNvbGlkaXR5UGFyYW0oZm9ybWF0SW5wdXRJbnQobGVuZ3RoKS52YWx1ZSArIHJlc3VsdCk7XG5cdH07XG5cdFxuXHQvKipcblx0ICogRm9ybWF0cyBpbnB1dCB2YWx1ZSB0byBieXRlIHJlcHJlc2VudGF0aW9uIG9mIGJvb2xcblx0ICpcblx0ICogQG1ldGhvZCBmb3JtYXRJbnB1dEJvb2xcblx0ICogQHBhcmFtIHtCb29sZWFufVxuXHQgKiBAcmV0dXJucyB7U29saWRpdHlQYXJhbX1cblx0ICovXG5cdHZhciBmb3JtYXRJbnB1dEJvb2wgPSBmdW5jdGlvbiBmb3JtYXRJbnB1dEJvb2wodmFsdWUpIHtcblx0ICAgIHZhciByZXN1bHQgPSAnMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwJyArICh2YWx1ZSA/ICcxJyA6ICcwJyk7XG5cdCAgICByZXR1cm4gbmV3IFNvbGlkaXR5UGFyYW0ocmVzdWx0KTtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBGb3JtYXRzIGlucHV0IHZhbHVlIHRvIGJ5dGUgcmVwcmVzZW50YXRpb24gb2YgcmVhbFxuXHQgKiBWYWx1ZXMgYXJlIG11bHRpcGxpZWQgYnkgMl5tIGFuZCBlbmNvZGVkIGFzIGludGVnZXJzXG5cdCAqXG5cdCAqIEBtZXRob2QgZm9ybWF0SW5wdXRSZWFsXG5cdCAqIEBwYXJhbSB7U3RyaW5nfE51bWJlcnxCaWdOdW1iZXJ9XG5cdCAqIEByZXR1cm5zIHtTb2xpZGl0eVBhcmFtfVxuXHQgKi9cblx0dmFyIGZvcm1hdElucHV0UmVhbCA9IGZ1bmN0aW9uIGZvcm1hdElucHV0UmVhbCh2YWx1ZSkge1xuXHQgICAgcmV0dXJuIGZvcm1hdElucHV0SW50KG5ldyBCaWdOdW1iZXIodmFsdWUpLnRpbWVzKG5ldyBCaWdOdW1iZXIoMikucG93KDEyOCkpKTtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBDaGVjayBpZiBpbnB1dCB2YWx1ZSBpcyBuZWdhdGl2ZVxuXHQgKlxuXHQgKiBAbWV0aG9kIHNpZ25lZElzTmVnYXRpdmVcblx0ICogQHBhcmFtIHtTdHJpbmd9IHZhbHVlIGlzIGhleCBmb3JtYXRcblx0ICogQHJldHVybnMge0Jvb2xlYW59IHRydWUgaWYgaXQgaXMgbmVnYXRpdmUsIG90aGVyd2lzZSBmYWxzZVxuXHQgKi9cblx0dmFyIHNpZ25lZElzTmVnYXRpdmUgPSBmdW5jdGlvbiBzaWduZWRJc05lZ2F0aXZlKHZhbHVlKSB7XG5cdCAgICByZXR1cm4gbmV3IEJpZ051bWJlcih2YWx1ZS5zdWJzdHIoMCwgMSksIDE2KS50b1N0cmluZygyKS5zdWJzdHIoMCwgMSkgPT09ICcxJztcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBGb3JtYXRzIHJpZ2h0LWFsaWduZWQgb3V0cHV0IGJ5dGVzIHRvIGludFxuXHQgKlxuXHQgKiBAbWV0aG9kIGZvcm1hdE91dHB1dEludFxuXHQgKiBAcGFyYW0ge1NvbGlkaXR5UGFyYW19IHBhcmFtXG5cdCAqIEByZXR1cm5zIHtCaWdOdW1iZXJ9IHJpZ2h0LWFsaWduZWQgb3V0cHV0IGJ5dGVzIGZvcm1hdHRlZCB0byBiaWcgbnVtYmVyXG5cdCAqL1xuXHR2YXIgZm9ybWF0T3V0cHV0SW50ID0gZnVuY3Rpb24gZm9ybWF0T3V0cHV0SW50KHBhcmFtKSB7XG5cdCAgICB2YXIgdmFsdWUgPSBwYXJhbS5zdGF0aWNQYXJ0KCkgfHwgXCIwXCI7XG5cdFxuXHQgICAgLy8gY2hlY2sgaWYgaXQncyBuZWdhdGl2ZSBudW1iZXJcblx0ICAgIC8vIGl0IGl0IGlzLCByZXR1cm4gdHdvJ3MgY29tcGxlbWVudFxuXHQgICAgaWYgKHNpZ25lZElzTmVnYXRpdmUodmFsdWUpKSB7XG5cdCAgICAgICAgcmV0dXJuIG5ldyBCaWdOdW1iZXIodmFsdWUsIDE2KS5taW51cyhuZXcgQmlnTnVtYmVyKCdmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmJywgMTYpKS5taW51cygxKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBuZXcgQmlnTnVtYmVyKHZhbHVlLCAxNik7XG5cdH07XG5cdFxuXHQvKipcblx0ICogRm9ybWF0cyByaWdodC1hbGlnbmVkIG91dHB1dCBieXRlcyB0byB1aW50XG5cdCAqXG5cdCAqIEBtZXRob2QgZm9ybWF0T3V0cHV0VUludFxuXHQgKiBAcGFyYW0ge1NvbGlkaXR5UGFyYW19XG5cdCAqIEByZXR1cm5zIHtCaWdOdW1lYmVyfSByaWdodC1hbGlnbmVkIG91dHB1dCBieXRlcyBmb3JtYXR0ZWQgdG8gdWludFxuXHQgKi9cblx0dmFyIGZvcm1hdE91dHB1dFVJbnQgPSBmdW5jdGlvbiBmb3JtYXRPdXRwdXRVSW50KHBhcmFtKSB7XG5cdCAgICB2YXIgdmFsdWUgPSBwYXJhbS5zdGF0aWNQYXJ0KCkgfHwgXCIwXCI7XG5cdCAgICByZXR1cm4gbmV3IEJpZ051bWJlcih2YWx1ZSwgMTYpO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIEZvcm1hdHMgcmlnaHQtYWxpZ25lZCBvdXRwdXQgYnl0ZXMgdG8gcmVhbFxuXHQgKlxuXHQgKiBAbWV0aG9kIGZvcm1hdE91dHB1dFJlYWxcblx0ICogQHBhcmFtIHtTb2xpZGl0eVBhcmFtfVxuXHQgKiBAcmV0dXJucyB7QmlnTnVtYmVyfSBpbnB1dCBieXRlcyBmb3JtYXR0ZWQgdG8gcmVhbFxuXHQgKi9cblx0dmFyIGZvcm1hdE91dHB1dFJlYWwgPSBmdW5jdGlvbiBmb3JtYXRPdXRwdXRSZWFsKHBhcmFtKSB7XG5cdCAgICByZXR1cm4gZm9ybWF0T3V0cHV0SW50KHBhcmFtKS5kaXZpZGVkQnkobmV3IEJpZ051bWJlcigyKS5wb3coMTI4KSk7XG5cdH07XG5cdFxuXHQvKipcblx0ICogRm9ybWF0cyByaWdodC1hbGlnbmVkIG91dHB1dCBieXRlcyB0byB1cmVhbFxuXHQgKlxuXHQgKiBAbWV0aG9kIGZvcm1hdE91dHB1dFVSZWFsXG5cdCAqIEBwYXJhbSB7U29saWRpdHlQYXJhbX1cblx0ICogQHJldHVybnMge0JpZ051bWJlcn0gaW5wdXQgYnl0ZXMgZm9ybWF0dGVkIHRvIHVyZWFsXG5cdCAqL1xuXHR2YXIgZm9ybWF0T3V0cHV0VVJlYWwgPSBmdW5jdGlvbiBmb3JtYXRPdXRwdXRVUmVhbChwYXJhbSkge1xuXHQgICAgcmV0dXJuIGZvcm1hdE91dHB1dFVJbnQocGFyYW0pLmRpdmlkZWRCeShuZXcgQmlnTnVtYmVyKDIpLnBvdygxMjgpKTtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBTaG91bGQgYmUgdXNlZCB0byBmb3JtYXQgb3V0cHV0IGJvb2xcblx0ICpcblx0ICogQG1ldGhvZCBmb3JtYXRPdXRwdXRCb29sXG5cdCAqIEBwYXJhbSB7U29saWRpdHlQYXJhbX1cblx0ICogQHJldHVybnMge0Jvb2xlYW59IHJpZ2h0LWFsaWduZWQgaW5wdXQgYnl0ZXMgZm9ybWF0dGVkIHRvIGJvb2xcblx0ICovXG5cdHZhciBmb3JtYXRPdXRwdXRCb29sID0gZnVuY3Rpb24gZm9ybWF0T3V0cHV0Qm9vbChwYXJhbSkge1xuXHQgICAgcmV0dXJuIHBhcmFtLnN0YXRpY1BhcnQoKSA9PT0gJzAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDEnID8gdHJ1ZSA6IGZhbHNlO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFNob3VsZCBiZSB1c2VkIHRvIGZvcm1hdCBvdXRwdXQgYnl0ZXNcblx0ICpcblx0ICogQG1ldGhvZCBmb3JtYXRPdXRwdXRCeXRlc1xuXHQgKiBAcGFyYW0ge1NvbGlkaXR5UGFyYW19IGxlZnQtYWxpZ25lZCBoZXggcmVwcmVzZW50YXRpb24gb2Ygc3RyaW5nXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IGhleCBzdHJpbmdcblx0ICovXG5cdHZhciBmb3JtYXRPdXRwdXRCeXRlcyA9IGZ1bmN0aW9uIGZvcm1hdE91dHB1dEJ5dGVzKHBhcmFtKSB7XG5cdCAgICByZXR1cm4gJzB4JyArIHBhcmFtLnN0YXRpY1BhcnQoKTtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBTaG91bGQgYmUgdXNlZCB0byBmb3JtYXQgb3V0cHV0IGJ5dGVzXG5cdCAqXG5cdCAqIEBtZXRob2QgZm9ybWF0T3V0cHV0RHluYW1pY0J5dGVzXG5cdCAqIEBwYXJhbSB7U29saWRpdHlQYXJhbX0gbGVmdC1hbGlnbmVkIGhleCByZXByZXNlbnRhdGlvbiBvZiBzdHJpbmdcblx0ICogQHJldHVybnMge1N0cmluZ30gaGV4IHN0cmluZ1xuXHQgKi9cblx0dmFyIGZvcm1hdE91dHB1dER5bmFtaWNCeXRlcyA9IGZ1bmN0aW9uIGZvcm1hdE91dHB1dER5bmFtaWNCeXRlcyhwYXJhbSkge1xuXHQgICAgdmFyIGxlbmd0aCA9IG5ldyBCaWdOdW1iZXIocGFyYW0uZHluYW1pY1BhcnQoKS5zbGljZSgwLCA2NCksIDE2KS50b051bWJlcigpICogMjtcblx0ICAgIHJldHVybiAnMHgnICsgcGFyYW0uZHluYW1pY1BhcnQoKS5zdWJzdHIoNjQsIGxlbmd0aCk7XG5cdH07XG5cdFxuXHQvKipcblx0ICogU2hvdWxkIGJlIHVzZWQgdG8gZm9ybWF0IG91dHB1dCBzdHJpbmdcblx0ICpcblx0ICogQG1ldGhvZCBmb3JtYXRPdXRwdXRTdHJpbmdcblx0ICogQHBhcmFtIHtTb2xpZGl0eVBhcmFtfSBsZWZ0LWFsaWduZWQgaGV4IHJlcHJlc2VudGF0aW9uIG9mIHN0cmluZ1xuXHQgKiBAcmV0dXJucyB7U3RyaW5nfSBhc2NpaSBzdHJpbmdcblx0ICovXG5cdHZhciBmb3JtYXRPdXRwdXRTdHJpbmcgPSBmdW5jdGlvbiBmb3JtYXRPdXRwdXRTdHJpbmcocGFyYW0pIHtcblx0ICAgIHZhciBsZW5ndGggPSBuZXcgQmlnTnVtYmVyKHBhcmFtLmR5bmFtaWNQYXJ0KCkuc2xpY2UoMCwgNjQpLCAxNikudG9OdW1iZXIoKSAqIDI7XG5cdCAgICByZXR1cm4gdXRpbHMudG9VdGY4KHBhcmFtLmR5bmFtaWNQYXJ0KCkuc3Vic3RyKDY0LCBsZW5ndGgpKTtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBTaG91bGQgYmUgdXNlZCB0byBmb3JtYXQgb3V0cHV0IGFkZHJlc3Ncblx0ICpcblx0ICogQG1ldGhvZCBmb3JtYXRPdXRwdXRBZGRyZXNzXG5cdCAqIEBwYXJhbSB7U29saWRpdHlQYXJhbX0gcmlnaHQtYWxpZ25lZCBpbnB1dCBieXRlc1xuXHQgKiBAcmV0dXJucyB7U3RyaW5nfSBhZGRyZXNzXG5cdCAqL1xuXHR2YXIgZm9ybWF0T3V0cHV0QWRkcmVzcyA9IGZ1bmN0aW9uIGZvcm1hdE91dHB1dEFkZHJlc3MocGFyYW0pIHtcblx0ICAgIHZhciB2YWx1ZSA9IHBhcmFtLnN0YXRpY1BhcnQoKTtcblx0ICAgIHJldHVybiBcIjB4XCIgKyB2YWx1ZS5zbGljZSh2YWx1ZS5sZW5ndGggLSA0MCwgdmFsdWUubGVuZ3RoKTtcblx0fTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0ge1xuXHQgICAgZm9ybWF0SW5wdXRJbnQ6IGZvcm1hdElucHV0SW50LFxuXHQgICAgZm9ybWF0SW5wdXRCeXRlczogZm9ybWF0SW5wdXRCeXRlcyxcblx0ICAgIGZvcm1hdElucHV0RHluYW1pY0J5dGVzOiBmb3JtYXRJbnB1dER5bmFtaWNCeXRlcyxcblx0ICAgIGZvcm1hdElucHV0U3RyaW5nOiBmb3JtYXRJbnB1dFN0cmluZyxcblx0ICAgIGZvcm1hdElucHV0Qm9vbDogZm9ybWF0SW5wdXRCb29sLFxuXHQgICAgZm9ybWF0SW5wdXRSZWFsOiBmb3JtYXRJbnB1dFJlYWwsXG5cdCAgICBmb3JtYXRPdXRwdXRJbnQ6IGZvcm1hdE91dHB1dEludCxcblx0ICAgIGZvcm1hdE91dHB1dFVJbnQ6IGZvcm1hdE91dHB1dFVJbnQsXG5cdCAgICBmb3JtYXRPdXRwdXRSZWFsOiBmb3JtYXRPdXRwdXRSZWFsLFxuXHQgICAgZm9ybWF0T3V0cHV0VVJlYWw6IGZvcm1hdE91dHB1dFVSZWFsLFxuXHQgICAgZm9ybWF0T3V0cHV0Qm9vbDogZm9ybWF0T3V0cHV0Qm9vbCxcblx0ICAgIGZvcm1hdE91dHB1dEJ5dGVzOiBmb3JtYXRPdXRwdXRCeXRlcyxcblx0ICAgIGZvcm1hdE91dHB1dER5bmFtaWNCeXRlczogZm9ybWF0T3V0cHV0RHluYW1pY0J5dGVzLFxuXHQgICAgZm9ybWF0T3V0cHV0U3RyaW5nOiBmb3JtYXRPdXRwdXRTdHJpbmcsXG5cdCAgICBmb3JtYXRPdXRwdXRBZGRyZXNzOiBmb3JtYXRPdXRwdXRBZGRyZXNzXG5cdH07XG5cbi8qKiovIH0sXG4vKiA4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgZiA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cdHZhciBTb2xpZGl0eVBhcmFtID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0OCk7XG5cdFxuXHQvKipcblx0ICogU29saWRpdHlUeXBlIHByb3RvdHlwZSBpcyB1c2VkIHRvIGVuY29kZS9kZWNvZGUgc29saWRpdHkgcGFyYW1zIG9mIGNlcnRhaW4gdHlwZVxuXHQgKi9cblx0dmFyIFNvbGlkaXR5VHlwZSA9IGZ1bmN0aW9uIFNvbGlkaXR5VHlwZShjb25maWcpIHtcblx0ICAgIHRoaXMuX2lucHV0Rm9ybWF0dGVyID0gY29uZmlnLmlucHV0Rm9ybWF0dGVyO1xuXHQgICAgdGhpcy5fb3V0cHV0Rm9ybWF0dGVyID0gY29uZmlnLm91dHB1dEZvcm1hdHRlcjtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBTaG91bGQgYmUgdXNlZCB0byBkZXRlcm1pbmUgaWYgdGhpcyBTb2xpZGl0eVR5cGUgZG8gbWF0Y2ggZ2l2ZW4gbmFtZVxuXHQgKlxuXHQgKiBAbWV0aG9kIGlzVHlwZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gbmFtZVxuXHQgKiBAcmV0dXJuIHtCb29sfSB0cnVlIGlmIHR5cGUgbWF0Y2ggdGhpcyBTb2xpZGl0eVR5cGUsIG90aGVyd2lzZSBmYWxzZVxuXHQgKi9cblx0U29saWRpdHlUeXBlLnByb3RvdHlwZS5pc1R5cGUgPSBmdW5jdGlvbiAobmFtZSkge1xuXHQgICAgdGhyb3cgXCJ0aGlzIG1ldGhvZCBzaG91bGQgYmUgb3ZlcnJ3cml0dGVuIGZvciB0eXBlIFwiICsgbmFtZTtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBTaG91bGQgYmUgdXNlZCB0byBkZXRlcm1pbmUgd2hhdCBpcyB0aGUgbGVuZ3RoIG9mIHN0YXRpYyBwYXJ0IGluIGdpdmVuIHR5cGVcblx0ICpcblx0ICogQG1ldGhvZCBzdGF0aWNQYXJ0TGVuZ3RoXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lXG5cdCAqIEByZXR1cm4ge051bWJlcn0gbGVuZ3RoIG9mIHN0YXRpYyBwYXJ0IGluIGJ5dGVzXG5cdCAqL1xuXHRTb2xpZGl0eVR5cGUucHJvdG90eXBlLnN0YXRpY1BhcnRMZW5ndGggPSBmdW5jdGlvbiAobmFtZSkge1xuXHQgICAgdGhyb3cgXCJ0aGlzIG1ldGhvZCBzaG91bGQgYmUgb3ZlcnJ3cml0dGVuIGZvciB0eXBlOiBcIiArIG5hbWU7XG5cdH07XG5cdFxuXHQvKipcblx0ICogU2hvdWxkIGJlIHVzZWQgdG8gZGV0ZXJtaW5lIGlmIHR5cGUgaXMgZHluYW1pYyBhcnJheVxuXHQgKiBlZzogXG5cdCAqIFwidHlwZVtdXCIgPT4gdHJ1ZVxuXHQgKiBcInR5cGVbNF1cIiA9PiBmYWxzZVxuXHQgKlxuXHQgKiBAbWV0aG9kIGlzRHluYW1pY0FycmF5XG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lXG5cdCAqIEByZXR1cm4ge0Jvb2x9IHRydWUgaWYgdGhlIHR5cGUgaXMgZHluYW1pYyBhcnJheSBcblx0ICovXG5cdFNvbGlkaXR5VHlwZS5wcm90b3R5cGUuaXNEeW5hbWljQXJyYXkgPSBmdW5jdGlvbiAobmFtZSkge1xuXHQgICAgdmFyIG5lc3RlZFR5cGVzID0gdGhpcy5uZXN0ZWRUeXBlcyhuYW1lKTtcblx0ICAgIHJldHVybiAhIW5lc3RlZFR5cGVzICYmICFuZXN0ZWRUeXBlc1tuZXN0ZWRUeXBlcy5sZW5ndGggLSAxXS5tYXRjaCgvWzAtOV17MSx9L2cpO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFNob3VsZCBiZSB1c2VkIHRvIGRldGVybWluZSBpZiB0eXBlIGlzIHN0YXRpYyBhcnJheVxuXHQgKiBlZzogXG5cdCAqIFwidHlwZVtdXCIgPT4gZmFsc2Vcblx0ICogXCJ0eXBlWzRdXCIgPT4gdHJ1ZVxuXHQgKlxuXHQgKiBAbWV0aG9kIGlzU3RhdGljQXJyYXlcblx0ICogQHBhcmFtIHtTdHJpbmd9IG5hbWVcblx0ICogQHJldHVybiB7Qm9vbH0gdHJ1ZSBpZiB0aGUgdHlwZSBpcyBzdGF0aWMgYXJyYXkgXG5cdCAqL1xuXHRTb2xpZGl0eVR5cGUucHJvdG90eXBlLmlzU3RhdGljQXJyYXkgPSBmdW5jdGlvbiAobmFtZSkge1xuXHQgICAgdmFyIG5lc3RlZFR5cGVzID0gdGhpcy5uZXN0ZWRUeXBlcyhuYW1lKTtcblx0ICAgIHJldHVybiAhIW5lc3RlZFR5cGVzICYmICEhbmVzdGVkVHlwZXNbbmVzdGVkVHlwZXMubGVuZ3RoIC0gMV0ubWF0Y2goL1swLTldezEsfS9nKTtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBTaG91bGQgcmV0dXJuIGxlbmd0aCBvZiBzdGF0aWMgYXJyYXlcblx0ICogZWcuIFxuXHQgKiBcImludFszMl1cIiA9PiAzMlxuXHQgKiBcImludDI1NlsxNF1cIiA9PiAxNFxuXHQgKiBcImludFsyXVszXVwiID0+IDNcblx0ICogXCJpbnRcIiA9PiAxXG5cdCAqIFwiaW50WzFdXCIgPT4gMVxuXHQgKiBcImludFtdXCIgPT4gMVxuXHQgKlxuXHQgKiBAbWV0aG9kIHN0YXRpY0FycmF5TGVuZ3RoXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lXG5cdCAqIEByZXR1cm4ge051bWJlcn0gc3RhdGljIGFycmF5IGxlbmd0aFxuXHQgKi9cblx0U29saWRpdHlUeXBlLnByb3RvdHlwZS5zdGF0aWNBcnJheUxlbmd0aCA9IGZ1bmN0aW9uIChuYW1lKSB7XG5cdCAgICB2YXIgbmVzdGVkVHlwZXMgPSB0aGlzLm5lc3RlZFR5cGVzKG5hbWUpO1xuXHQgICAgaWYgKG5lc3RlZFR5cGVzKSB7XG5cdCAgICAgICAgcmV0dXJuIHBhcnNlSW50KG5lc3RlZFR5cGVzW25lc3RlZFR5cGVzLmxlbmd0aCAtIDFdLm1hdGNoKC9bMC05XXsxLH0vZykgfHwgMSk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gMTtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBTaG91bGQgcmV0dXJuIG5lc3RlZCB0eXBlXG5cdCAqIGVnLlxuXHQgKiBcImludFszMl1cIiA9PiBcImludFwiXG5cdCAqIFwiaW50MjU2WzE0XVwiID0+IFwiaW50MjU2XCJcblx0ICogXCJpbnRbMl1bM11cIiA9PiBcImludFsyXVwiXG5cdCAqIFwiaW50XCIgPT4gXCJpbnRcIlxuXHQgKiBcImludFtdXCIgPT4gXCJpbnRcIlxuXHQgKlxuXHQgKiBAbWV0aG9kIG5lc3RlZE5hbWVcblx0ICogQHBhcmFtIHtTdHJpbmd9IG5hbWVcblx0ICogQHJldHVybiB7U3RyaW5nfSBuZXN0ZWQgbmFtZVxuXHQgKi9cblx0U29saWRpdHlUeXBlLnByb3RvdHlwZS5uZXN0ZWROYW1lID0gZnVuY3Rpb24gKG5hbWUpIHtcblx0ICAgIC8vIHJlbW92ZSBsYXN0IFtdIGluIG5hbWVcblx0ICAgIHZhciBuZXN0ZWRUeXBlcyA9IHRoaXMubmVzdGVkVHlwZXMobmFtZSk7XG5cdCAgICBpZiAoIW5lc3RlZFR5cGVzKSB7XG5cdCAgICAgICAgcmV0dXJuIG5hbWU7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIG5hbWUuc3Vic3RyKDAsIG5hbWUubGVuZ3RoIC0gbmVzdGVkVHlwZXNbbmVzdGVkVHlwZXMubGVuZ3RoIC0gMV0ubGVuZ3RoKTtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBTaG91bGQgcmV0dXJuIHRydWUgaWYgdHlwZSBoYXMgZHluYW1pYyBzaXplIGJ5IGRlZmF1bHRcblx0ICogc3VjaCB0eXBlcyBhcmUgXCJzdHJpbmdcIiwgXCJieXRlc1wiXG5cdCAqXG5cdCAqIEBtZXRob2QgaXNEeW5hbWljVHlwZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gbmFtZVxuXHQgKiBAcmV0dXJuIHtCb29sfSB0cnVlIGlmIGlzIGR5bmFtaWMsIG90aGVyd2lzZSBmYWxzZVxuXHQgKi9cblx0U29saWRpdHlUeXBlLnByb3RvdHlwZS5pc0R5bmFtaWNUeXBlID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIGZhbHNlO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFNob3VsZCByZXR1cm4gYXJyYXkgb2YgbmVzdGVkIHR5cGVzXG5cdCAqIGVnLlxuXHQgKiBcImludFsyXVszXVtdXCIgPT4gW1wiWzJdXCIsIFwiWzNdXCIsIFwiW11cIl1cblx0ICogXCJpbnRbXSA9PiBbXCJbXVwiXVxuXHQgKiBcImludFwiID0+IG51bGxcblx0ICpcblx0ICogQG1ldGhvZCBuZXN0ZWRUeXBlc1xuXHQgKiBAcGFyYW0ge1N0cmluZ30gbmFtZVxuXHQgKiBAcmV0dXJuIHtBcnJheX0gYXJyYXkgb2YgbmVzdGVkIHR5cGVzXG5cdCAqL1xuXHRTb2xpZGl0eVR5cGUucHJvdG90eXBlLm5lc3RlZFR5cGVzID0gZnVuY3Rpb24gKG5hbWUpIHtcblx0ICAgIC8vIHJldHVybiBsaXN0IG9mIHN0cmluZ3MgZWcuIFwiW11cIiwgXCJbM11cIiwgXCJbXVwiLCBcIlsyXVwiXG5cdCAgICByZXR1cm4gbmFtZS5tYXRjaCgvKFxcW1swLTldKlxcXSkvZyk7XG5cdH07XG5cdFxuXHQvKipcblx0ICogU2hvdWxkIGJlIHVzZWQgdG8gZW5jb2RlIHRoZSB2YWx1ZVxuXHQgKlxuXHQgKiBAbWV0aG9kIGVuY29kZVxuXHQgKiBAcGFyYW0ge09iamVjdH0gdmFsdWUgXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lXG5cdCAqIEByZXR1cm4ge1N0cmluZ30gZW5jb2RlZCB2YWx1ZVxuXHQgKi9cblx0U29saWRpdHlUeXBlLnByb3RvdHlwZS5lbmNvZGUgPSBmdW5jdGlvbiAodmFsdWUsIG5hbWUpIHtcblx0ICAgIHZhciBzZWxmID0gdGhpcztcblx0ICAgIGlmICh0aGlzLmlzRHluYW1pY0FycmF5KG5hbWUpKSB7XG5cdFxuXHQgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIHZhciBsZW5ndGggPSB2YWx1ZS5sZW5ndGg7IC8vIGluIGludFxuXHQgICAgICAgICAgICB2YXIgbmVzdGVkTmFtZSA9IHNlbGYubmVzdGVkTmFtZShuYW1lKTtcblx0XG5cdCAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXTtcblx0ICAgICAgICAgICAgcmVzdWx0LnB1c2goZi5mb3JtYXRJbnB1dEludChsZW5ndGgpLmVuY29kZSgpKTtcblx0XG5cdCAgICAgICAgICAgIHZhbHVlLmZvckVhY2goZnVuY3Rpb24gKHYpIHtcblx0ICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHNlbGYuZW5jb2RlKHYsIG5lc3RlZE5hbWUpKTtcblx0ICAgICAgICAgICAgfSk7XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuXHQgICAgICAgIH0oKTtcblx0ICAgIH0gZWxzZSBpZiAodGhpcy5pc1N0YXRpY0FycmF5KG5hbWUpKSB7XG5cdFxuXHQgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIHZhciBsZW5ndGggPSBzZWxmLnN0YXRpY0FycmF5TGVuZ3RoKG5hbWUpOyAvLyBpbiBpbnRcblx0ICAgICAgICAgICAgdmFyIG5lc3RlZE5hbWUgPSBzZWxmLm5lc3RlZE5hbWUobmFtZSk7XG5cdFxuXHQgICAgICAgICAgICB2YXIgcmVzdWx0ID0gW107XG5cdCAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHNlbGYuZW5jb2RlKHZhbHVlW2ldLCBuZXN0ZWROYW1lKSk7XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG5cdCAgICAgICAgfSgpO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiB0aGlzLl9pbnB1dEZvcm1hdHRlcih2YWx1ZSwgbmFtZSkuZW5jb2RlKCk7XG5cdH07XG5cdFxuXHQvKipcblx0ICogU2hvdWxkIGJlIHVzZWQgdG8gZGVjb2RlIHZhbHVlIGZyb20gYnl0ZXNcblx0ICpcblx0ICogQG1ldGhvZCBkZWNvZGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IGJ5dGVzXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBvZmZzZXQgaW4gYnl0ZXNcblx0ICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgdHlwZSBuYW1lXG5cdCAqIEByZXR1cm5zIHtPYmplY3R9IGRlY29kZWQgdmFsdWVcblx0ICovXG5cdFNvbGlkaXR5VHlwZS5wcm90b3R5cGUuZGVjb2RlID0gZnVuY3Rpb24gKGJ5dGVzLCBvZmZzZXQsIG5hbWUpIHtcblx0ICAgIHZhciBzZWxmID0gdGhpcztcblx0XG5cdCAgICBpZiAodGhpcy5pc0R5bmFtaWNBcnJheShuYW1lKSkge1xuXHRcblx0ICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICB2YXIgYXJyYXlPZmZzZXQgPSBwYXJzZUludCgnMHgnICsgYnl0ZXMuc3Vic3RyKG9mZnNldCAqIDIsIDY0KSk7IC8vIGluIGJ5dGVzXG5cdCAgICAgICAgICAgIHZhciBsZW5ndGggPSBwYXJzZUludCgnMHgnICsgYnl0ZXMuc3Vic3RyKGFycmF5T2Zmc2V0ICogMiwgNjQpKTsgLy8gaW4gaW50XG5cdCAgICAgICAgICAgIHZhciBhcnJheVN0YXJ0ID0gYXJyYXlPZmZzZXQgKyAzMjsgLy8gYXJyYXkgc3RhcnRzIGFmdGVyIGxlbmd0aDsgLy8gaW4gYnl0ZXNcblx0XG5cdCAgICAgICAgICAgIHZhciBuZXN0ZWROYW1lID0gc2VsZi5uZXN0ZWROYW1lKG5hbWUpO1xuXHQgICAgICAgICAgICB2YXIgbmVzdGVkU3RhdGljUGFydExlbmd0aCA9IHNlbGYuc3RhdGljUGFydExlbmd0aChuZXN0ZWROYW1lKTsgLy8gaW4gYnl0ZXNcblx0ICAgICAgICAgICAgdmFyIHJvdW5kZWROZXN0ZWRTdGF0aWNQYXJ0TGVuZ3RoID0gTWF0aC5mbG9vcigobmVzdGVkU3RhdGljUGFydExlbmd0aCArIDMxKSAvIDMyKSAqIDMyO1xuXHQgICAgICAgICAgICB2YXIgcmVzdWx0ID0gW107XG5cdFxuXHQgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aCAqIHJvdW5kZWROZXN0ZWRTdGF0aWNQYXJ0TGVuZ3RoOyBpICs9IHJvdW5kZWROZXN0ZWRTdGF0aWNQYXJ0TGVuZ3RoKSB7XG5cdCAgICAgICAgICAgICAgICByZXN1bHQucHVzaChzZWxmLmRlY29kZShieXRlcywgYXJyYXlTdGFydCArIGksIG5lc3RlZE5hbWUpKTtcblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcblx0ICAgICAgICB9KCk7XG5cdCAgICB9IGVsc2UgaWYgKHRoaXMuaXNTdGF0aWNBcnJheShuYW1lKSkge1xuXHRcblx0ICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICB2YXIgbGVuZ3RoID0gc2VsZi5zdGF0aWNBcnJheUxlbmd0aChuYW1lKTsgLy8gaW4gaW50XG5cdCAgICAgICAgICAgIHZhciBhcnJheVN0YXJ0ID0gb2Zmc2V0OyAvLyBpbiBieXRlc1xuXHRcblx0ICAgICAgICAgICAgdmFyIG5lc3RlZE5hbWUgPSBzZWxmLm5lc3RlZE5hbWUobmFtZSk7XG5cdCAgICAgICAgICAgIHZhciBuZXN0ZWRTdGF0aWNQYXJ0TGVuZ3RoID0gc2VsZi5zdGF0aWNQYXJ0TGVuZ3RoKG5lc3RlZE5hbWUpOyAvLyBpbiBieXRlc1xuXHQgICAgICAgICAgICB2YXIgcm91bmRlZE5lc3RlZFN0YXRpY1BhcnRMZW5ndGggPSBNYXRoLmZsb29yKChuZXN0ZWRTdGF0aWNQYXJ0TGVuZ3RoICsgMzEpIC8gMzIpICogMzI7XG5cdCAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXTtcblx0XG5cdCAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoICogcm91bmRlZE5lc3RlZFN0YXRpY1BhcnRMZW5ndGg7IGkgKz0gcm91bmRlZE5lc3RlZFN0YXRpY1BhcnRMZW5ndGgpIHtcblx0ICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHNlbGYuZGVjb2RlKGJ5dGVzLCBhcnJheVN0YXJ0ICsgaSwgbmVzdGVkTmFtZSkpO1xuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuXHQgICAgICAgIH0oKTtcblx0ICAgIH0gZWxzZSBpZiAodGhpcy5pc0R5bmFtaWNUeXBlKG5hbWUpKSB7XG5cdFxuXHQgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIHZhciBkeW5hbWljT2Zmc2V0ID0gcGFyc2VJbnQoJzB4JyArIGJ5dGVzLnN1YnN0cihvZmZzZXQgKiAyLCA2NCkpOyAvLyBpbiBieXRlc1xuXHQgICAgICAgICAgICB2YXIgbGVuZ3RoID0gcGFyc2VJbnQoJzB4JyArIGJ5dGVzLnN1YnN0cihkeW5hbWljT2Zmc2V0ICogMiwgNjQpKTsgLy8gaW4gYnl0ZXNcblx0ICAgICAgICAgICAgdmFyIHJvdW5kZWRMZW5ndGggPSBNYXRoLmZsb29yKChsZW5ndGggKyAzMSkgLyAzMik7IC8vIGluIGludFxuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIHNlbGYuX291dHB1dEZvcm1hdHRlcihuZXcgU29saWRpdHlQYXJhbShieXRlcy5zdWJzdHIoZHluYW1pY09mZnNldCAqIDIsICgxICsgcm91bmRlZExlbmd0aCkgKiA2NCksIDApKTtcblx0ICAgICAgICB9KCk7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGxlbmd0aCA9IHRoaXMuc3RhdGljUGFydExlbmd0aChuYW1lKTtcblx0ICAgIHJldHVybiB0aGlzLl9vdXRwdXRGb3JtYXR0ZXIobmV3IFNvbGlkaXR5UGFyYW0oYnl0ZXMuc3Vic3RyKG9mZnNldCAqIDIsIGxlbmd0aCAqIDIpKSk7XG5cdH07XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IFNvbGlkaXR5VHlwZTtcblxuLyoqKi8gfSxcbi8qIDkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdC8qXG5cdCAgICBUaGlzIGZpbGUgaXMgcGFydCBvZiB3ZWIzLmpzLlxuXHRcblx0ICAgIHdlYjMuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuXHQgICAgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG5cdCAgICB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuXHQgICAgKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cblx0XG5cdCAgICB3ZWIzLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG5cdCAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuXHQgICAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuXHQgICAgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG5cdFxuXHQgICAgWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG5cdCAgICBhbG9uZyB3aXRoIHdlYjMuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG5cdCovXG5cdC8qKlxuXHQgKiBAZmlsZSBmb3JtYXR0ZXJzLmpzXG5cdCAqIEBhdXRob3IgTWFyZWsgS290ZXdpY3ogPG1hcmVrQGV0aGRldi5jb20+XG5cdCAqIEBhdXRob3IgRmFiaWFuIFZvZ2Vsc3RlbGxlciA8ZmFiaWFuQGV0aGRldi5jb20+XG5cdCAqIEBkYXRlIDIwMTVcblx0ICovXG5cdFxuXHR2YXIgdXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHR2YXIgY29uZmlnID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMCk7XG5cdHZhciBJYmFuID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMik7XG5cdFxuXHQvKipcblx0ICogU2hvdWxkIHRoZSBmb3JtYXQgb3V0cHV0IHRvIGEgYmlnIG51bWJlclxuXHQgKlxuXHQgKiBAbWV0aG9kIG91dHB1dEJpZ051bWJlckZvcm1hdHRlclxuXHQgKiBAcGFyYW0ge1N0cmluZ3xOdW1iZXJ8QmlnTnVtYmVyfVxuXHQgKiBAcmV0dXJucyB7QmlnTnVtYmVyfSBvYmplY3Rcblx0ICovXG5cdHZhciBvdXRwdXRCaWdOdW1iZXJGb3JtYXR0ZXIgPSBmdW5jdGlvbiBvdXRwdXRCaWdOdW1iZXJGb3JtYXR0ZXIobnVtYmVyKSB7XG5cdCAgICByZXR1cm4gdXRpbHMudG9CaWdOdW1iZXIobnVtYmVyKTtcblx0fTtcblx0XG5cdHZhciBpc1ByZWRlZmluZWRCbG9ja051bWJlciA9IGZ1bmN0aW9uIGlzUHJlZGVmaW5lZEJsb2NrTnVtYmVyKGJsb2NrTnVtYmVyKSB7XG5cdCAgICByZXR1cm4gYmxvY2tOdW1iZXIgPT09ICdsYXRlc3QnIHx8IGJsb2NrTnVtYmVyID09PSAncGVuZGluZycgfHwgYmxvY2tOdW1iZXIgPT09ICdlYXJsaWVzdCc7XG5cdH07XG5cdFxuXHR2YXIgaW5wdXREZWZhdWx0QmxvY2tOdW1iZXJGb3JtYXR0ZXIgPSBmdW5jdGlvbiBpbnB1dERlZmF1bHRCbG9ja051bWJlckZvcm1hdHRlcihibG9ja051bWJlcikge1xuXHQgICAgaWYgKGJsb2NrTnVtYmVyID09PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICByZXR1cm4gY29uZmlnLmRlZmF1bHRCbG9jaztcblx0ICAgIH1cblx0ICAgIHJldHVybiBpbnB1dEJsb2NrTnVtYmVyRm9ybWF0dGVyKGJsb2NrTnVtYmVyKTtcblx0fTtcblx0XG5cdHZhciBpbnB1dEJsb2NrTnVtYmVyRm9ybWF0dGVyID0gZnVuY3Rpb24gaW5wdXRCbG9ja051bWJlckZvcm1hdHRlcihibG9ja051bWJlcikge1xuXHQgICAgaWYgKGJsb2NrTnVtYmVyID09PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuXHQgICAgfSBlbHNlIGlmIChpc1ByZWRlZmluZWRCbG9ja051bWJlcihibG9ja051bWJlcikpIHtcblx0ICAgICAgICByZXR1cm4gYmxvY2tOdW1iZXI7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gdXRpbHMudG9IZXgoYmxvY2tOdW1iZXIpO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIEZvcm1hdHMgdGhlIGlucHV0IG9mIGEgdHJhbnNhY3Rpb24gYW5kIGNvbnZlcnRzIGFsbCB2YWx1ZXMgdG8gSEVYXG5cdCAqXG5cdCAqIEBtZXRob2QgaW5wdXRDYWxsRm9ybWF0dGVyXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSB0cmFuc2FjdGlvbiBvcHRpb25zXG5cdCAqIEByZXR1cm5zIG9iamVjdFxuXHQqL1xuXHR2YXIgaW5wdXRDYWxsRm9ybWF0dGVyID0gZnVuY3Rpb24gaW5wdXRDYWxsRm9ybWF0dGVyKG9wdGlvbnMpIHtcblx0XG5cdCAgICBvcHRpb25zLmZyb20gPSBvcHRpb25zLmZyb20gfHwgY29uZmlnLmRlZmF1bHRBY2NvdW50O1xuXHRcblx0ICAgIGlmIChvcHRpb25zLmZyb20pIHtcblx0ICAgICAgICBvcHRpb25zLmZyb20gPSBpbnB1dEFkZHJlc3NGb3JtYXR0ZXIob3B0aW9ucy5mcm9tKTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAob3B0aW9ucy50bykge1xuXHQgICAgICAgIC8vIGl0IG1pZ2h0IGJlIGNvbnRyYWN0IGNyZWF0aW9uXG5cdCAgICAgICAgb3B0aW9ucy50byA9IGlucHV0QWRkcmVzc0Zvcm1hdHRlcihvcHRpb25zLnRvKTtcblx0ICAgIH1cblx0XG5cdCAgICBbJ2dhc1ByaWNlJywgJ2dhcycsICd2YWx1ZScsICdub25jZSddLmZpbHRlcihmdW5jdGlvbiAoa2V5KSB7XG5cdCAgICAgICAgcmV0dXJuIG9wdGlvbnNba2V5XSAhPT0gdW5kZWZpbmVkO1xuXHQgICAgfSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdCAgICAgICAgb3B0aW9uc1trZXldID0gdXRpbHMuZnJvbURlY2ltYWwob3B0aW9uc1trZXldKTtcblx0ICAgIH0pO1xuXHRcblx0ICAgIHJldHVybiBvcHRpb25zO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIEZvcm1hdHMgdGhlIGlucHV0IG9mIGEgdHJhbnNhY3Rpb24gYW5kIGNvbnZlcnRzIGFsbCB2YWx1ZXMgdG8gSEVYXG5cdCAqXG5cdCAqIEBtZXRob2QgaW5wdXRUcmFuc2FjdGlvbkZvcm1hdHRlclxuXHQgKiBAcGFyYW0ge09iamVjdH0gdHJhbnNhY3Rpb24gb3B0aW9uc1xuXHQgKiBAcmV0dXJucyBvYmplY3Rcblx0Ki9cblx0dmFyIGlucHV0VHJhbnNhY3Rpb25Gb3JtYXR0ZXIgPSBmdW5jdGlvbiBpbnB1dFRyYW5zYWN0aW9uRm9ybWF0dGVyKG9wdGlvbnMpIHtcblx0XG5cdCAgICBvcHRpb25zLmZyb20gPSBvcHRpb25zLmZyb20gfHwgY29uZmlnLmRlZmF1bHRBY2NvdW50O1xuXHQgICAgb3B0aW9ucy5mcm9tID0gaW5wdXRBZGRyZXNzRm9ybWF0dGVyKG9wdGlvbnMuZnJvbSk7XG5cdFxuXHQgICAgaWYgKG9wdGlvbnMudG8pIHtcblx0ICAgICAgICAvLyBpdCBtaWdodCBiZSBjb250cmFjdCBjcmVhdGlvblxuXHQgICAgICAgIG9wdGlvbnMudG8gPSBpbnB1dEFkZHJlc3NGb3JtYXR0ZXIob3B0aW9ucy50byk7XG5cdCAgICB9XG5cdFxuXHQgICAgWydnYXNQcmljZScsICdnYXMnLCAndmFsdWUnLCAnbm9uY2UnXS5maWx0ZXIoZnVuY3Rpb24gKGtleSkge1xuXHQgICAgICAgIHJldHVybiBvcHRpb25zW2tleV0gIT09IHVuZGVmaW5lZDtcblx0ICAgIH0pLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHQgICAgICAgIG9wdGlvbnNba2V5XSA9IHV0aWxzLmZyb21EZWNpbWFsKG9wdGlvbnNba2V5XSk7XG5cdCAgICB9KTtcblx0XG5cdCAgICByZXR1cm4gb3B0aW9ucztcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBGb3JtYXRzIHRoZSBvdXRwdXQgb2YgYSB0cmFuc2FjdGlvbiB0byBpdHMgcHJvcGVyIHZhbHVlc1xuXHQgKlxuXHQgKiBAbWV0aG9kIG91dHB1dFRyYW5zYWN0aW9uRm9ybWF0dGVyXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSB0eFxuXHQgKiBAcmV0dXJucyB7T2JqZWN0fVxuXHQqL1xuXHR2YXIgb3V0cHV0VHJhbnNhY3Rpb25Gb3JtYXR0ZXIgPSBmdW5jdGlvbiBvdXRwdXRUcmFuc2FjdGlvbkZvcm1hdHRlcih0eCkge1xuXHQgICAgaWYgKHR4LmJsb2NrTnVtYmVyICE9PSBudWxsKSB0eC5ibG9ja051bWJlciA9IHV0aWxzLnRvRGVjaW1hbCh0eC5ibG9ja051bWJlcik7XG5cdCAgICBpZiAodHgudHJhbnNhY3Rpb25JbmRleCAhPT0gbnVsbCkgdHgudHJhbnNhY3Rpb25JbmRleCA9IHV0aWxzLnRvRGVjaW1hbCh0eC50cmFuc2FjdGlvbkluZGV4KTtcblx0ICAgIHR4Lm5vbmNlID0gdXRpbHMudG9EZWNpbWFsKHR4Lm5vbmNlKTtcblx0ICAgIHR4LmdhcyA9IHV0aWxzLnRvRGVjaW1hbCh0eC5nYXMpO1xuXHQgICAgdHguZ2FzUHJpY2UgPSB1dGlscy50b0JpZ051bWJlcih0eC5nYXNQcmljZSk7XG5cdCAgICB0eC52YWx1ZSA9IHV0aWxzLnRvQmlnTnVtYmVyKHR4LnZhbHVlKTtcblx0ICAgIHJldHVybiB0eDtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBGb3JtYXRzIHRoZSBvdXRwdXQgb2YgYSB0cmFuc2FjdGlvbiByZWNlaXB0IHRvIGl0cyBwcm9wZXIgdmFsdWVzXG5cdCAqXG5cdCAqIEBtZXRob2Qgb3V0cHV0VHJhbnNhY3Rpb25SZWNlaXB0Rm9ybWF0dGVyXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSByZWNlaXB0XG5cdCAqIEByZXR1cm5zIHtPYmplY3R9XG5cdCovXG5cdHZhciBvdXRwdXRUcmFuc2FjdGlvblJlY2VpcHRGb3JtYXR0ZXIgPSBmdW5jdGlvbiBvdXRwdXRUcmFuc2FjdGlvblJlY2VpcHRGb3JtYXR0ZXIocmVjZWlwdCkge1xuXHQgICAgaWYgKHJlY2VpcHQuYmxvY2tOdW1iZXIgIT09IG51bGwpIHJlY2VpcHQuYmxvY2tOdW1iZXIgPSB1dGlscy50b0RlY2ltYWwocmVjZWlwdC5ibG9ja051bWJlcik7XG5cdCAgICBpZiAocmVjZWlwdC50cmFuc2FjdGlvbkluZGV4ICE9PSBudWxsKSByZWNlaXB0LnRyYW5zYWN0aW9uSW5kZXggPSB1dGlscy50b0RlY2ltYWwocmVjZWlwdC50cmFuc2FjdGlvbkluZGV4KTtcblx0ICAgIHJlY2VpcHQuY3VtdWxhdGl2ZUdhc1VzZWQgPSB1dGlscy50b0RlY2ltYWwocmVjZWlwdC5jdW11bGF0aXZlR2FzVXNlZCk7XG5cdCAgICByZWNlaXB0Lmdhc1VzZWQgPSB1dGlscy50b0RlY2ltYWwocmVjZWlwdC5nYXNVc2VkKTtcblx0XG5cdCAgICBpZiAodXRpbHMuaXNBcnJheShyZWNlaXB0LmxvZ3MpKSB7XG5cdCAgICAgICAgcmVjZWlwdC5sb2dzID0gcmVjZWlwdC5sb2dzLm1hcChmdW5jdGlvbiAobG9nKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBvdXRwdXRMb2dGb3JtYXR0ZXIobG9nKTtcblx0ICAgICAgICB9KTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gcmVjZWlwdDtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBGb3JtYXRzIHRoZSBvdXRwdXQgb2YgYSBibG9jayB0byBpdHMgcHJvcGVyIHZhbHVlc1xuXHQgKlxuXHQgKiBAbWV0aG9kIG91dHB1dEJsb2NrRm9ybWF0dGVyXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBibG9ja1xuXHQgKiBAcmV0dXJucyB7T2JqZWN0fVxuXHQqL1xuXHR2YXIgb3V0cHV0QmxvY2tGb3JtYXR0ZXIgPSBmdW5jdGlvbiBvdXRwdXRCbG9ja0Zvcm1hdHRlcihibG9jaykge1xuXHRcblx0ICAgIC8vIHRyYW5zZm9ybSB0byBudW1iZXJcblx0ICAgIGJsb2NrLmdhc0xpbWl0ID0gdXRpbHMudG9EZWNpbWFsKGJsb2NrLmdhc0xpbWl0KTtcblx0ICAgIGJsb2NrLmdhc1VzZWQgPSB1dGlscy50b0RlY2ltYWwoYmxvY2suZ2FzVXNlZCk7XG5cdCAgICBibG9jay5zaXplID0gdXRpbHMudG9EZWNpbWFsKGJsb2NrLnNpemUpO1xuXHQgICAgYmxvY2sudGltZXN0YW1wID0gdXRpbHMudG9EZWNpbWFsKGJsb2NrLnRpbWVzdGFtcCk7XG5cdCAgICBpZiAoYmxvY2subnVtYmVyICE9PSBudWxsKSBibG9jay5udW1iZXIgPSB1dGlscy50b0RlY2ltYWwoYmxvY2subnVtYmVyKTtcblx0XG5cdCAgICBibG9jay5kaWZmaWN1bHR5ID0gdXRpbHMudG9CaWdOdW1iZXIoYmxvY2suZGlmZmljdWx0eSk7XG5cdCAgICBibG9jay50b3RhbERpZmZpY3VsdHkgPSB1dGlscy50b0JpZ051bWJlcihibG9jay50b3RhbERpZmZpY3VsdHkpO1xuXHRcblx0ICAgIGlmICh1dGlscy5pc0FycmF5KGJsb2NrLnRyYW5zYWN0aW9ucykpIHtcblx0ICAgICAgICBibG9jay50cmFuc2FjdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xuXHQgICAgICAgICAgICBpZiAoIXV0aWxzLmlzU3RyaW5nKGl0ZW0pKSByZXR1cm4gb3V0cHV0VHJhbnNhY3Rpb25Gb3JtYXR0ZXIoaXRlbSk7XG5cdCAgICAgICAgfSk7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIGJsb2NrO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIEZvcm1hdHMgdGhlIG91dHB1dCBvZiBhIGxvZ1xuXHQgKlxuXHQgKiBAbWV0aG9kIG91dHB1dExvZ0Zvcm1hdHRlclxuXHQgKiBAcGFyYW0ge09iamVjdH0gbG9nIG9iamVjdFxuXHQgKiBAcmV0dXJucyB7T2JqZWN0fSBsb2dcblx0Ki9cblx0dmFyIG91dHB1dExvZ0Zvcm1hdHRlciA9IGZ1bmN0aW9uIG91dHB1dExvZ0Zvcm1hdHRlcihsb2cpIHtcblx0ICAgIGlmIChsb2cuYmxvY2tOdW1iZXIgIT09IG51bGwpIGxvZy5ibG9ja051bWJlciA9IHV0aWxzLnRvRGVjaW1hbChsb2cuYmxvY2tOdW1iZXIpO1xuXHQgICAgaWYgKGxvZy50cmFuc2FjdGlvbkluZGV4ICE9PSBudWxsKSBsb2cudHJhbnNhY3Rpb25JbmRleCA9IHV0aWxzLnRvRGVjaW1hbChsb2cudHJhbnNhY3Rpb25JbmRleCk7XG5cdCAgICBpZiAobG9nLmxvZ0luZGV4ICE9PSBudWxsKSBsb2cubG9nSW5kZXggPSB1dGlscy50b0RlY2ltYWwobG9nLmxvZ0luZGV4KTtcblx0XG5cdCAgICByZXR1cm4gbG9nO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIEZvcm1hdHMgdGhlIGlucHV0IG9mIGEgd2hpc3BlciBwb3N0IGFuZCBjb252ZXJ0cyBhbGwgdmFsdWVzIHRvIEhFWFxuXHQgKlxuXHQgKiBAbWV0aG9kIGlucHV0UG9zdEZvcm1hdHRlclxuXHQgKiBAcGFyYW0ge09iamVjdH0gdHJhbnNhY3Rpb24gb2JqZWN0XG5cdCAqIEByZXR1cm5zIHtPYmplY3R9XG5cdCovXG5cdHZhciBpbnB1dFBvc3RGb3JtYXR0ZXIgPSBmdW5jdGlvbiBpbnB1dFBvc3RGb3JtYXR0ZXIocG9zdCkge1xuXHRcblx0ICAgIC8vIHBvc3QucGF5bG9hZCA9IHV0aWxzLnRvSGV4KHBvc3QucGF5bG9hZCk7XG5cdCAgICBwb3N0LnR0bCA9IHV0aWxzLmZyb21EZWNpbWFsKHBvc3QudHRsKTtcblx0ICAgIHBvc3Qud29ya1RvUHJvdmUgPSB1dGlscy5mcm9tRGVjaW1hbChwb3N0LndvcmtUb1Byb3ZlKTtcblx0ICAgIHBvc3QucHJpb3JpdHkgPSB1dGlscy5mcm9tRGVjaW1hbChwb3N0LnByaW9yaXR5KTtcblx0XG5cdCAgICAvLyBmYWxsYmFja1xuXHQgICAgaWYgKCF1dGlscy5pc0FycmF5KHBvc3QudG9waWNzKSkge1xuXHQgICAgICAgIHBvc3QudG9waWNzID0gcG9zdC50b3BpY3MgPyBbcG9zdC50b3BpY3NdIDogW107XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gZm9ybWF0IHRoZSBmb2xsb3dpbmcgb3B0aW9uc1xuXHQgICAgcG9zdC50b3BpY3MgPSBwb3N0LnRvcGljcy5tYXAoZnVuY3Rpb24gKHRvcGljKSB7XG5cdCAgICAgICAgLy8gY29udmVydCBvbmx5IGlmIG5vdCBoZXhcblx0ICAgICAgICByZXR1cm4gdG9waWMuaW5kZXhPZignMHgnKSA9PT0gMCA/IHRvcGljIDogdXRpbHMuZnJvbVV0ZjgodG9waWMpO1xuXHQgICAgfSk7XG5cdFxuXHQgICAgcmV0dXJuIHBvc3Q7XG5cdH07XG5cdFxuXHQvKipcblx0ICogRm9ybWF0cyB0aGUgb3V0cHV0IG9mIGEgcmVjZWl2ZWQgcG9zdCBtZXNzYWdlXG5cdCAqXG5cdCAqIEBtZXRob2Qgb3V0cHV0UG9zdEZvcm1hdHRlclxuXHQgKiBAcGFyYW0ge09iamVjdH1cblx0ICogQHJldHVybnMge09iamVjdH1cblx0ICovXG5cdHZhciBvdXRwdXRQb3N0Rm9ybWF0dGVyID0gZnVuY3Rpb24gb3V0cHV0UG9zdEZvcm1hdHRlcihwb3N0KSB7XG5cdFxuXHQgICAgcG9zdC5leHBpcnkgPSB1dGlscy50b0RlY2ltYWwocG9zdC5leHBpcnkpO1xuXHQgICAgcG9zdC5zZW50ID0gdXRpbHMudG9EZWNpbWFsKHBvc3Quc2VudCk7XG5cdCAgICBwb3N0LnR0bCA9IHV0aWxzLnRvRGVjaW1hbChwb3N0LnR0bCk7XG5cdCAgICBwb3N0LndvcmtQcm92ZWQgPSB1dGlscy50b0RlY2ltYWwocG9zdC53b3JrUHJvdmVkKTtcblx0ICAgIC8vIHBvc3QucGF5bG9hZFJhdyA9IHBvc3QucGF5bG9hZDtcblx0ICAgIC8vIHBvc3QucGF5bG9hZCA9IHV0aWxzLnRvQXNjaWkocG9zdC5wYXlsb2FkKTtcblx0XG5cdCAgICAvLyBpZiAodXRpbHMuaXNKc29uKHBvc3QucGF5bG9hZCkpIHtcblx0ICAgIC8vICAgICBwb3N0LnBheWxvYWQgPSBKU09OLnBhcnNlKHBvc3QucGF5bG9hZCk7XG5cdCAgICAvLyB9XG5cdFxuXHQgICAgLy8gZm9ybWF0IHRoZSBmb2xsb3dpbmcgb3B0aW9uc1xuXHQgICAgaWYgKCFwb3N0LnRvcGljcykge1xuXHQgICAgICAgIHBvc3QudG9waWNzID0gW107XG5cdCAgICB9XG5cdCAgICBwb3N0LnRvcGljcyA9IHBvc3QudG9waWNzLm1hcChmdW5jdGlvbiAodG9waWMpIHtcblx0ICAgICAgICByZXR1cm4gdXRpbHMudG9Bc2NpaSh0b3BpYyk7XG5cdCAgICB9KTtcblx0XG5cdCAgICByZXR1cm4gcG9zdDtcblx0fTtcblx0XG5cdHZhciBpbnB1dEFkZHJlc3NGb3JtYXR0ZXIgPSBmdW5jdGlvbiBpbnB1dEFkZHJlc3NGb3JtYXR0ZXIoYWRkcmVzcykge1xuXHQgICAgdmFyIGliYW4gPSBuZXcgSWJhbihhZGRyZXNzKTtcblx0ICAgIGlmIChpYmFuLmlzVmFsaWQoKSAmJiBpYmFuLmlzRGlyZWN0KCkpIHtcblx0ICAgICAgICByZXR1cm4gJzB4JyArIGliYW4uYWRkcmVzcygpO1xuXHQgICAgfSBlbHNlIGlmICh1dGlscy5pc1N0cmljdEFkZHJlc3MoYWRkcmVzcykpIHtcblx0ICAgICAgICByZXR1cm4gYWRkcmVzcztcblx0ICAgIH0gZWxzZSBpZiAodXRpbHMuaXNBZGRyZXNzKGFkZHJlc3MpKSB7XG5cdCAgICAgICAgcmV0dXJuICcweCcgKyBhZGRyZXNzO1xuXHQgICAgfVxuXHQgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIGFkZHJlc3MnKTtcblx0fTtcblx0XG5cdHZhciBvdXRwdXRTeW5jaW5nRm9ybWF0dGVyID0gZnVuY3Rpb24gb3V0cHV0U3luY2luZ0Zvcm1hdHRlcihyZXN1bHQpIHtcblx0XG5cdCAgICByZXN1bHQuc3RhcnRpbmdCbG9jayA9IHV0aWxzLnRvRGVjaW1hbChyZXN1bHQuc3RhcnRpbmdCbG9jayk7XG5cdCAgICByZXN1bHQuY3VycmVudEJsb2NrID0gdXRpbHMudG9EZWNpbWFsKHJlc3VsdC5jdXJyZW50QmxvY2spO1xuXHQgICAgcmVzdWx0LmhpZ2hlc3RCbG9jayA9IHV0aWxzLnRvRGVjaW1hbChyZXN1bHQuaGlnaGVzdEJsb2NrKTtcblx0ICAgIGlmIChyZXN1bHQua25vd25TdGF0ZXMpIHtcblx0ICAgICAgICByZXN1bHQua25vd25TdGF0ZXMgPSB1dGlscy50b0RlY2ltYWwocmVzdWx0Lmtub3duU3RhdGVzKTtcblx0ICAgICAgICByZXN1bHQucHVsbGVkU3RhdGVzID0gdXRpbHMudG9EZWNpbWFsKHJlc3VsdC5wdWxsZWRTdGF0ZXMpO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiByZXN1bHQ7XG5cdH07XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IHtcblx0ICAgIGlucHV0RGVmYXVsdEJsb2NrTnVtYmVyRm9ybWF0dGVyOiBpbnB1dERlZmF1bHRCbG9ja051bWJlckZvcm1hdHRlcixcblx0ICAgIGlucHV0QmxvY2tOdW1iZXJGb3JtYXR0ZXI6IGlucHV0QmxvY2tOdW1iZXJGb3JtYXR0ZXIsXG5cdCAgICBpbnB1dENhbGxGb3JtYXR0ZXI6IGlucHV0Q2FsbEZvcm1hdHRlcixcblx0ICAgIGlucHV0VHJhbnNhY3Rpb25Gb3JtYXR0ZXI6IGlucHV0VHJhbnNhY3Rpb25Gb3JtYXR0ZXIsXG5cdCAgICBpbnB1dEFkZHJlc3NGb3JtYXR0ZXI6IGlucHV0QWRkcmVzc0Zvcm1hdHRlcixcblx0ICAgIGlucHV0UG9zdEZvcm1hdHRlcjogaW5wdXRQb3N0Rm9ybWF0dGVyLFxuXHQgICAgb3V0cHV0QmlnTnVtYmVyRm9ybWF0dGVyOiBvdXRwdXRCaWdOdW1iZXJGb3JtYXR0ZXIsXG5cdCAgICBvdXRwdXRUcmFuc2FjdGlvbkZvcm1hdHRlcjogb3V0cHV0VHJhbnNhY3Rpb25Gb3JtYXR0ZXIsXG5cdCAgICBvdXRwdXRUcmFuc2FjdGlvblJlY2VpcHRGb3JtYXR0ZXI6IG91dHB1dFRyYW5zYWN0aW9uUmVjZWlwdEZvcm1hdHRlcixcblx0ICAgIG91dHB1dEJsb2NrRm9ybWF0dGVyOiBvdXRwdXRCbG9ja0Zvcm1hdHRlcixcblx0ICAgIG91dHB1dExvZ0Zvcm1hdHRlcjogb3V0cHV0TG9nRm9ybWF0dGVyLFxuXHQgICAgb3V0cHV0UG9zdEZvcm1hdHRlcjogb3V0cHV0UG9zdEZvcm1hdHRlcixcblx0ICAgIG91dHB1dFN5bmNpbmdGb3JtYXR0ZXI6IG91dHB1dFN5bmNpbmdGb3JtYXR0ZXJcblx0fTtcblxuLyoqKi8gfSxcbi8qIDEwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXztcInVzZSBzdHJpY3RcIjtcblx0XG5cdHZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblx0XG5cdDsoZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHtcblx0XHRpZiAoKCBmYWxzZSA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKGV4cG9ydHMpKSA9PT0gXCJvYmplY3RcIikge1xuXHRcdFx0Ly8gQ29tbW9uSlNcblx0XHRcdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0cyA9IGZhY3RvcnkoX193ZWJwYWNrX3JlcXVpcmVfXygxKSk7XG5cdFx0fSBlbHNlIGlmICh0cnVlKSB7XG5cdFx0XHQvLyBBTURcblx0XHRcdCEoX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXyA9IFtfX3dlYnBhY2tfcmVxdWlyZV9fKDEpXSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fID0gKGZhY3RvcnkpLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyA9ICh0eXBlb2YgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fID09PSAnZnVuY3Rpb24nID8gKF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXy5hcHBseShleHBvcnRzLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fKSkgOiBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18pLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyAhPT0gdW5kZWZpbmVkICYmIChtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fKSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIEdsb2JhbCAoYnJvd3Nlcilcblx0XHRcdGZhY3Rvcnkocm9vdC5DcnlwdG9KUyk7XG5cdFx0fVxuXHR9KSh1bmRlZmluZWQsIGZ1bmN0aW9uIChDcnlwdG9KUykge1xuXHRcblx0XHQoZnVuY3Rpb24gKHVuZGVmaW5lZCkge1xuXHRcdFx0Ly8gU2hvcnRjdXRzXG5cdFx0XHR2YXIgQyA9IENyeXB0b0pTO1xuXHRcdFx0dmFyIENfbGliID0gQy5saWI7XG5cdFx0XHR2YXIgQmFzZSA9IENfbGliLkJhc2U7XG5cdFx0XHR2YXIgWDMyV29yZEFycmF5ID0gQ19saWIuV29yZEFycmF5O1xuXHRcblx0XHRcdC8qKlxuXHQgICAqIHg2NCBuYW1lc3BhY2UuXG5cdCAgICovXG5cdFx0XHR2YXIgQ194NjQgPSBDLng2NCA9IHt9O1xuXHRcblx0XHRcdC8qKlxuXHQgICAqIEEgNjQtYml0IHdvcmQuXG5cdCAgICovXG5cdFx0XHR2YXIgWDY0V29yZCA9IENfeDY0LldvcmQgPSBCYXNlLmV4dGVuZCh7XG5cdFx0XHRcdC8qKlxuXHQgICAgKiBJbml0aWFsaXplcyBhIG5ld2x5IGNyZWF0ZWQgNjQtYml0IHdvcmQuXG5cdCAgICAqXG5cdCAgICAqIEBwYXJhbSB7bnVtYmVyfSBoaWdoIFRoZSBoaWdoIDMyIGJpdHMuXG5cdCAgICAqIEBwYXJhbSB7bnVtYmVyfSBsb3cgVGhlIGxvdyAzMiBiaXRzLlxuXHQgICAgKlxuXHQgICAgKiBAZXhhbXBsZVxuXHQgICAgKlxuXHQgICAgKiAgICAgdmFyIHg2NFdvcmQgPSBDcnlwdG9KUy54NjQuV29yZC5jcmVhdGUoMHgwMDAxMDIwMywgMHgwNDA1MDYwNyk7XG5cdCAgICAqL1xuXHRcdFx0XHRpbml0OiBmdW5jdGlvbiBpbml0KGhpZ2gsIGxvdykge1xuXHRcdFx0XHRcdHRoaXMuaGlnaCA9IGhpZ2g7XG5cdFx0XHRcdFx0dGhpcy5sb3cgPSBsb3c7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdC8qKlxuXHQgICAgKiBCaXR3aXNlIE5PVHMgdGhpcyB3b3JkLlxuXHQgICAgKlxuXHQgICAgKiBAcmV0dXJuIHtYNjRXb3JkfSBBIG5ldyB4NjQtV29yZCBvYmplY3QgYWZ0ZXIgbmVnYXRpbmcuXG5cdCAgICAqXG5cdCAgICAqIEBleGFtcGxlXG5cdCAgICAqXG5cdCAgICAqICAgICB2YXIgbmVnYXRlZCA9IHg2NFdvcmQubm90KCk7XG5cdCAgICAqL1xuXHRcdFx0XHQvLyBub3Q6IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0Ly8gdmFyIGhpZ2ggPSB+dGhpcy5oaWdoO1xuXHRcdFx0XHQvLyB2YXIgbG93ID0gfnRoaXMubG93O1xuXHRcblx0XHRcdFx0Ly8gcmV0dXJuIFg2NFdvcmQuY3JlYXRlKGhpZ2gsIGxvdyk7XG5cdFx0XHRcdC8vIH0sXG5cdFxuXHRcdFx0XHQvKipcblx0ICAgICogQml0d2lzZSBBTkRzIHRoaXMgd29yZCB3aXRoIHRoZSBwYXNzZWQgd29yZC5cblx0ICAgICpcblx0ICAgICogQHBhcmFtIHtYNjRXb3JkfSB3b3JkIFRoZSB4NjQtV29yZCB0byBBTkQgd2l0aCB0aGlzIHdvcmQuXG5cdCAgICAqXG5cdCAgICAqIEByZXR1cm4ge1g2NFdvcmR9IEEgbmV3IHg2NC1Xb3JkIG9iamVjdCBhZnRlciBBTkRpbmcuXG5cdCAgICAqXG5cdCAgICAqIEBleGFtcGxlXG5cdCAgICAqXG5cdCAgICAqICAgICB2YXIgYW5kZWQgPSB4NjRXb3JkLmFuZChhbm90aGVyWDY0V29yZCk7XG5cdCAgICAqL1xuXHRcdFx0XHQvLyBhbmQ6IGZ1bmN0aW9uICh3b3JkKSB7XG5cdFx0XHRcdC8vIHZhciBoaWdoID0gdGhpcy5oaWdoICYgd29yZC5oaWdoO1xuXHRcdFx0XHQvLyB2YXIgbG93ID0gdGhpcy5sb3cgJiB3b3JkLmxvdztcblx0XG5cdFx0XHRcdC8vIHJldHVybiBYNjRXb3JkLmNyZWF0ZShoaWdoLCBsb3cpO1xuXHRcdFx0XHQvLyB9LFxuXHRcblx0XHRcdFx0LyoqXG5cdCAgICAqIEJpdHdpc2UgT1JzIHRoaXMgd29yZCB3aXRoIHRoZSBwYXNzZWQgd29yZC5cblx0ICAgICpcblx0ICAgICogQHBhcmFtIHtYNjRXb3JkfSB3b3JkIFRoZSB4NjQtV29yZCB0byBPUiB3aXRoIHRoaXMgd29yZC5cblx0ICAgICpcblx0ICAgICogQHJldHVybiB7WDY0V29yZH0gQSBuZXcgeDY0LVdvcmQgb2JqZWN0IGFmdGVyIE9SaW5nLlxuXHQgICAgKlxuXHQgICAgKiBAZXhhbXBsZVxuXHQgICAgKlxuXHQgICAgKiAgICAgdmFyIG9yZWQgPSB4NjRXb3JkLm9yKGFub3RoZXJYNjRXb3JkKTtcblx0ICAgICovXG5cdFx0XHRcdC8vIG9yOiBmdW5jdGlvbiAod29yZCkge1xuXHRcdFx0XHQvLyB2YXIgaGlnaCA9IHRoaXMuaGlnaCB8IHdvcmQuaGlnaDtcblx0XHRcdFx0Ly8gdmFyIGxvdyA9IHRoaXMubG93IHwgd29yZC5sb3c7XG5cdFxuXHRcdFx0XHQvLyByZXR1cm4gWDY0V29yZC5jcmVhdGUoaGlnaCwgbG93KTtcblx0XHRcdFx0Ly8gfSxcblx0XG5cdFx0XHRcdC8qKlxuXHQgICAgKiBCaXR3aXNlIFhPUnMgdGhpcyB3b3JkIHdpdGggdGhlIHBhc3NlZCB3b3JkLlxuXHQgICAgKlxuXHQgICAgKiBAcGFyYW0ge1g2NFdvcmR9IHdvcmQgVGhlIHg2NC1Xb3JkIHRvIFhPUiB3aXRoIHRoaXMgd29yZC5cblx0ICAgICpcblx0ICAgICogQHJldHVybiB7WDY0V29yZH0gQSBuZXcgeDY0LVdvcmQgb2JqZWN0IGFmdGVyIFhPUmluZy5cblx0ICAgICpcblx0ICAgICogQGV4YW1wbGVcblx0ICAgICpcblx0ICAgICogICAgIHZhciB4b3JlZCA9IHg2NFdvcmQueG9yKGFub3RoZXJYNjRXb3JkKTtcblx0ICAgICovXG5cdFx0XHRcdC8vIHhvcjogZnVuY3Rpb24gKHdvcmQpIHtcblx0XHRcdFx0Ly8gdmFyIGhpZ2ggPSB0aGlzLmhpZ2ggXiB3b3JkLmhpZ2g7XG5cdFx0XHRcdC8vIHZhciBsb3cgPSB0aGlzLmxvdyBeIHdvcmQubG93O1xuXHRcblx0XHRcdFx0Ly8gcmV0dXJuIFg2NFdvcmQuY3JlYXRlKGhpZ2gsIGxvdyk7XG5cdFx0XHRcdC8vIH0sXG5cdFxuXHRcdFx0XHQvKipcblx0ICAgICogU2hpZnRzIHRoaXMgd29yZCBuIGJpdHMgdG8gdGhlIGxlZnQuXG5cdCAgICAqXG5cdCAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgYml0cyB0byBzaGlmdC5cblx0ICAgICpcblx0ICAgICogQHJldHVybiB7WDY0V29yZH0gQSBuZXcgeDY0LVdvcmQgb2JqZWN0IGFmdGVyIHNoaWZ0aW5nLlxuXHQgICAgKlxuXHQgICAgKiBAZXhhbXBsZVxuXHQgICAgKlxuXHQgICAgKiAgICAgdmFyIHNoaWZ0ZWQgPSB4NjRXb3JkLnNoaWZ0TCgyNSk7XG5cdCAgICAqL1xuXHRcdFx0XHQvLyBzaGlmdEw6IGZ1bmN0aW9uIChuKSB7XG5cdFx0XHRcdC8vIGlmIChuIDwgMzIpIHtcblx0XHRcdFx0Ly8gdmFyIGhpZ2ggPSAodGhpcy5oaWdoIDw8IG4pIHwgKHRoaXMubG93ID4+PiAoMzIgLSBuKSk7XG5cdFx0XHRcdC8vIHZhciBsb3cgPSB0aGlzLmxvdyA8PCBuO1xuXHRcdFx0XHQvLyB9IGVsc2Uge1xuXHRcdFx0XHQvLyB2YXIgaGlnaCA9IHRoaXMubG93IDw8IChuIC0gMzIpO1xuXHRcdFx0XHQvLyB2YXIgbG93ID0gMDtcblx0XHRcdFx0Ly8gfVxuXHRcblx0XHRcdFx0Ly8gcmV0dXJuIFg2NFdvcmQuY3JlYXRlKGhpZ2gsIGxvdyk7XG5cdFx0XHRcdC8vIH0sXG5cdFxuXHRcdFx0XHQvKipcblx0ICAgICogU2hpZnRzIHRoaXMgd29yZCBuIGJpdHMgdG8gdGhlIHJpZ2h0LlxuXHQgICAgKlxuXHQgICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIGJpdHMgdG8gc2hpZnQuXG5cdCAgICAqXG5cdCAgICAqIEByZXR1cm4ge1g2NFdvcmR9IEEgbmV3IHg2NC1Xb3JkIG9iamVjdCBhZnRlciBzaGlmdGluZy5cblx0ICAgICpcblx0ICAgICogQGV4YW1wbGVcblx0ICAgICpcblx0ICAgICogICAgIHZhciBzaGlmdGVkID0geDY0V29yZC5zaGlmdFIoNyk7XG5cdCAgICAqL1xuXHRcdFx0XHQvLyBzaGlmdFI6IGZ1bmN0aW9uIChuKSB7XG5cdFx0XHRcdC8vIGlmIChuIDwgMzIpIHtcblx0XHRcdFx0Ly8gdmFyIGxvdyA9ICh0aGlzLmxvdyA+Pj4gbikgfCAodGhpcy5oaWdoIDw8ICgzMiAtIG4pKTtcblx0XHRcdFx0Ly8gdmFyIGhpZ2ggPSB0aGlzLmhpZ2ggPj4+IG47XG5cdFx0XHRcdC8vIH0gZWxzZSB7XG5cdFx0XHRcdC8vIHZhciBsb3cgPSB0aGlzLmhpZ2ggPj4+IChuIC0gMzIpO1xuXHRcdFx0XHQvLyB2YXIgaGlnaCA9IDA7XG5cdFx0XHRcdC8vIH1cblx0XG5cdFx0XHRcdC8vIHJldHVybiBYNjRXb3JkLmNyZWF0ZShoaWdoLCBsb3cpO1xuXHRcdFx0XHQvLyB9LFxuXHRcblx0XHRcdFx0LyoqXG5cdCAgICAqIFJvdGF0ZXMgdGhpcyB3b3JkIG4gYml0cyB0byB0aGUgbGVmdC5cblx0ICAgICpcblx0ICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiBiaXRzIHRvIHJvdGF0ZS5cblx0ICAgICpcblx0ICAgICogQHJldHVybiB7WDY0V29yZH0gQSBuZXcgeDY0LVdvcmQgb2JqZWN0IGFmdGVyIHJvdGF0aW5nLlxuXHQgICAgKlxuXHQgICAgKiBAZXhhbXBsZVxuXHQgICAgKlxuXHQgICAgKiAgICAgdmFyIHJvdGF0ZWQgPSB4NjRXb3JkLnJvdEwoMjUpO1xuXHQgICAgKi9cblx0XHRcdFx0Ly8gcm90TDogZnVuY3Rpb24gKG4pIHtcblx0XHRcdFx0Ly8gcmV0dXJuIHRoaXMuc2hpZnRMKG4pLm9yKHRoaXMuc2hpZnRSKDY0IC0gbikpO1xuXHRcdFx0XHQvLyB9LFxuXHRcblx0XHRcdFx0LyoqXG5cdCAgICAqIFJvdGF0ZXMgdGhpcyB3b3JkIG4gYml0cyB0byB0aGUgcmlnaHQuXG5cdCAgICAqXG5cdCAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgYml0cyB0byByb3RhdGUuXG5cdCAgICAqXG5cdCAgICAqIEByZXR1cm4ge1g2NFdvcmR9IEEgbmV3IHg2NC1Xb3JkIG9iamVjdCBhZnRlciByb3RhdGluZy5cblx0ICAgICpcblx0ICAgICogQGV4YW1wbGVcblx0ICAgICpcblx0ICAgICogICAgIHZhciByb3RhdGVkID0geDY0V29yZC5yb3RSKDcpO1xuXHQgICAgKi9cblx0XHRcdFx0Ly8gcm90UjogZnVuY3Rpb24gKG4pIHtcblx0XHRcdFx0Ly8gcmV0dXJuIHRoaXMuc2hpZnRSKG4pLm9yKHRoaXMuc2hpZnRMKDY0IC0gbikpO1xuXHRcdFx0XHQvLyB9LFxuXHRcblx0XHRcdFx0LyoqXG5cdCAgICAqIEFkZHMgdGhpcyB3b3JkIHdpdGggdGhlIHBhc3NlZCB3b3JkLlxuXHQgICAgKlxuXHQgICAgKiBAcGFyYW0ge1g2NFdvcmR9IHdvcmQgVGhlIHg2NC1Xb3JkIHRvIGFkZCB3aXRoIHRoaXMgd29yZC5cblx0ICAgICpcblx0ICAgICogQHJldHVybiB7WDY0V29yZH0gQSBuZXcgeDY0LVdvcmQgb2JqZWN0IGFmdGVyIGFkZGluZy5cblx0ICAgICpcblx0ICAgICogQGV4YW1wbGVcblx0ICAgICpcblx0ICAgICogICAgIHZhciBhZGRlZCA9IHg2NFdvcmQuYWRkKGFub3RoZXJYNjRXb3JkKTtcblx0ICAgICovXG5cdFx0XHRcdC8vIGFkZDogZnVuY3Rpb24gKHdvcmQpIHtcblx0XHRcdFx0Ly8gdmFyIGxvdyA9ICh0aGlzLmxvdyArIHdvcmQubG93KSB8IDA7XG5cdFx0XHRcdC8vIHZhciBjYXJyeSA9IChsb3cgPj4+IDApIDwgKHRoaXMubG93ID4+PiAwKSA/IDEgOiAwO1xuXHRcdFx0XHQvLyB2YXIgaGlnaCA9ICh0aGlzLmhpZ2ggKyB3b3JkLmhpZ2ggKyBjYXJyeSkgfCAwO1xuXHRcblx0XHRcdFx0Ly8gcmV0dXJuIFg2NFdvcmQuY3JlYXRlKGhpZ2gsIGxvdyk7XG5cdFx0XHRcdC8vIH1cblx0XHRcdH0pO1xuXHRcblx0XHRcdC8qKlxuXHQgICAqIEFuIGFycmF5IG9mIDY0LWJpdCB3b3Jkcy5cblx0ICAgKlxuXHQgICAqIEBwcm9wZXJ0eSB7QXJyYXl9IHdvcmRzIFRoZSBhcnJheSBvZiBDcnlwdG9KUy54NjQuV29yZCBvYmplY3RzLlxuXHQgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBzaWdCeXRlcyBUaGUgbnVtYmVyIG9mIHNpZ25pZmljYW50IGJ5dGVzIGluIHRoaXMgd29yZCBhcnJheS5cblx0ICAgKi9cblx0XHRcdHZhciBYNjRXb3JkQXJyYXkgPSBDX3g2NC5Xb3JkQXJyYXkgPSBCYXNlLmV4dGVuZCh7XG5cdFx0XHRcdC8qKlxuXHQgICAgKiBJbml0aWFsaXplcyBhIG5ld2x5IGNyZWF0ZWQgd29yZCBhcnJheS5cblx0ICAgICpcblx0ICAgICogQHBhcmFtIHtBcnJheX0gd29yZHMgKE9wdGlvbmFsKSBBbiBhcnJheSBvZiBDcnlwdG9KUy54NjQuV29yZCBvYmplY3RzLlxuXHQgICAgKiBAcGFyYW0ge251bWJlcn0gc2lnQnl0ZXMgKE9wdGlvbmFsKSBUaGUgbnVtYmVyIG9mIHNpZ25pZmljYW50IGJ5dGVzIGluIHRoZSB3b3Jkcy5cblx0ICAgICpcblx0ICAgICogQGV4YW1wbGVcblx0ICAgICpcblx0ICAgICogICAgIHZhciB3b3JkQXJyYXkgPSBDcnlwdG9KUy54NjQuV29yZEFycmF5LmNyZWF0ZSgpO1xuXHQgICAgKlxuXHQgICAgKiAgICAgdmFyIHdvcmRBcnJheSA9IENyeXB0b0pTLng2NC5Xb3JkQXJyYXkuY3JlYXRlKFtcblx0ICAgICogICAgICAgICBDcnlwdG9KUy54NjQuV29yZC5jcmVhdGUoMHgwMDAxMDIwMywgMHgwNDA1MDYwNyksXG5cdCAgICAqICAgICAgICAgQ3J5cHRvSlMueDY0LldvcmQuY3JlYXRlKDB4MTgxOTFhMWIsIDB4MWMxZDFlMWYpXG5cdCAgICAqICAgICBdKTtcblx0ICAgICpcblx0ICAgICogICAgIHZhciB3b3JkQXJyYXkgPSBDcnlwdG9KUy54NjQuV29yZEFycmF5LmNyZWF0ZShbXG5cdCAgICAqICAgICAgICAgQ3J5cHRvSlMueDY0LldvcmQuY3JlYXRlKDB4MDAwMTAyMDMsIDB4MDQwNTA2MDcpLFxuXHQgICAgKiAgICAgICAgIENyeXB0b0pTLng2NC5Xb3JkLmNyZWF0ZSgweDE4MTkxYTFiLCAweDFjMWQxZTFmKVxuXHQgICAgKiAgICAgXSwgMTApO1xuXHQgICAgKi9cblx0XHRcdFx0aW5pdDogZnVuY3Rpb24gaW5pdCh3b3Jkcywgc2lnQnl0ZXMpIHtcblx0XHRcdFx0XHR3b3JkcyA9IHRoaXMud29yZHMgPSB3b3JkcyB8fCBbXTtcblx0XG5cdFx0XHRcdFx0aWYgKHNpZ0J5dGVzICE9IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdFx0dGhpcy5zaWdCeXRlcyA9IHNpZ0J5dGVzO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHR0aGlzLnNpZ0J5dGVzID0gd29yZHMubGVuZ3RoICogODtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sXG5cdFxuXHRcdFx0XHQvKipcblx0ICAgICogQ29udmVydHMgdGhpcyA2NC1iaXQgd29yZCBhcnJheSB0byBhIDMyLWJpdCB3b3JkIGFycmF5LlxuXHQgICAgKlxuXHQgICAgKiBAcmV0dXJuIHtDcnlwdG9KUy5saWIuV29yZEFycmF5fSBUaGlzIHdvcmQgYXJyYXkncyBkYXRhIGFzIGEgMzItYml0IHdvcmQgYXJyYXkuXG5cdCAgICAqXG5cdCAgICAqIEBleGFtcGxlXG5cdCAgICAqXG5cdCAgICAqICAgICB2YXIgeDMyV29yZEFycmF5ID0geDY0V29yZEFycmF5LnRvWDMyKCk7XG5cdCAgICAqL1xuXHRcdFx0XHR0b1gzMjogZnVuY3Rpb24gdG9YMzIoKSB7XG5cdFx0XHRcdFx0Ly8gU2hvcnRjdXRzXG5cdFx0XHRcdFx0dmFyIHg2NFdvcmRzID0gdGhpcy53b3Jkcztcblx0XHRcdFx0XHR2YXIgeDY0V29yZHNMZW5ndGggPSB4NjRXb3Jkcy5sZW5ndGg7XG5cdFxuXHRcdFx0XHRcdC8vIENvbnZlcnRcblx0XHRcdFx0XHR2YXIgeDMyV29yZHMgPSBbXTtcblx0XHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHg2NFdvcmRzTGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHRcdHZhciB4NjRXb3JkID0geDY0V29yZHNbaV07XG5cdFx0XHRcdFx0XHR4MzJXb3Jkcy5wdXNoKHg2NFdvcmQuaGlnaCk7XG5cdFx0XHRcdFx0XHR4MzJXb3Jkcy5wdXNoKHg2NFdvcmQubG93KTtcblx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdHJldHVybiBYMzJXb3JkQXJyYXkuY3JlYXRlKHgzMldvcmRzLCB0aGlzLnNpZ0J5dGVzKTtcblx0XHRcdFx0fSxcblx0XG5cdFx0XHRcdC8qKlxuXHQgICAgKiBDcmVhdGVzIGEgY29weSBvZiB0aGlzIHdvcmQgYXJyYXkuXG5cdCAgICAqXG5cdCAgICAqIEByZXR1cm4ge1g2NFdvcmRBcnJheX0gVGhlIGNsb25lLlxuXHQgICAgKlxuXHQgICAgKiBAZXhhbXBsZVxuXHQgICAgKlxuXHQgICAgKiAgICAgdmFyIGNsb25lID0geDY0V29yZEFycmF5LmNsb25lKCk7XG5cdCAgICAqL1xuXHRcdFx0XHRjbG9uZTogZnVuY3Rpb24gY2xvbmUoKSB7XG5cdFx0XHRcdFx0dmFyIGNsb25lID0gQmFzZS5jbG9uZS5jYWxsKHRoaXMpO1xuXHRcblx0XHRcdFx0XHQvLyBDbG9uZSBcIndvcmRzXCIgYXJyYXlcblx0XHRcdFx0XHR2YXIgd29yZHMgPSBjbG9uZS53b3JkcyA9IHRoaXMud29yZHMuc2xpY2UoMCk7XG5cdFxuXHRcdFx0XHRcdC8vIENsb25lIGVhY2ggWDY0V29yZCBvYmplY3Rcblx0XHRcdFx0XHR2YXIgd29yZHNMZW5ndGggPSB3b3Jkcy5sZW5ndGg7XG5cdFx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCB3b3Jkc0xlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdFx0XHR3b3Jkc1tpXSA9IHdvcmRzW2ldLmNsb25lKCk7XG5cdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRyZXR1cm4gY2xvbmU7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH0pKCk7XG5cdFxuXHRcdHJldHVybiBDcnlwdG9KUztcblx0fSk7XG5cbi8qKiovIH0sXG4vKiAxMSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXywgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXywgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX187XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHR2YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cdFxuXHQ7KGZ1bmN0aW9uIChyb290LCBmYWN0b3J5KSB7XG5cdFx0aWYgKCggZmFsc2UgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZihleHBvcnRzKSkgPT09IFwib2JqZWN0XCIpIHtcblx0XHRcdC8vIENvbW1vbkpTXG5cdFx0XHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMgPSBmYWN0b3J5KF9fd2VicGFja19yZXF1aXJlX18oMSkpO1xuXHRcdH0gZWxzZSBpZiAodHJ1ZSkge1xuXHRcdFx0Ly8gQU1EXG5cdFx0XHQhKF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18gPSBbX193ZWJwYWNrX3JlcXVpcmVfXygxKV0sIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyA9IChmYWN0b3J5KSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gPSAodHlwZW9mIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyA9PT0gJ2Z1bmN0aW9uJyA/IChfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18uYXBwbHkoZXhwb3J0cywgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXykpIDogX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fKSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gIT09IHVuZGVmaW5lZCAmJiAobW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXykpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBHbG9iYWwgKGJyb3dzZXIpXG5cdFx0XHRmYWN0b3J5KHJvb3QuQ3J5cHRvSlMpO1xuXHRcdH1cblx0fSkodW5kZWZpbmVkLCBmdW5jdGlvbiAoQ3J5cHRvSlMpIHtcblx0XG5cdFx0KGZ1bmN0aW9uICgpIHtcblx0XHRcdC8vIFNob3J0Y3V0c1xuXHRcdFx0dmFyIEMgPSBDcnlwdG9KUztcblx0XHRcdHZhciBDX2xpYiA9IEMubGliO1xuXHRcdFx0dmFyIEJhc2UgPSBDX2xpYi5CYXNlO1xuXHRcdFx0dmFyIENfZW5jID0gQy5lbmM7XG5cdFx0XHR2YXIgVXRmOCA9IENfZW5jLlV0Zjg7XG5cdFx0XHR2YXIgQ19hbGdvID0gQy5hbGdvO1xuXHRcblx0XHRcdC8qKlxuXHQgICAqIEhNQUMgYWxnb3JpdGhtLlxuXHQgICAqL1xuXHRcdFx0dmFyIEhNQUMgPSBDX2FsZ28uSE1BQyA9IEJhc2UuZXh0ZW5kKHtcblx0XHRcdFx0LyoqXG5cdCAgICAqIEluaXRpYWxpemVzIGEgbmV3bHkgY3JlYXRlZCBITUFDLlxuXHQgICAgKlxuXHQgICAgKiBAcGFyYW0ge0hhc2hlcn0gaGFzaGVyIFRoZSBoYXNoIGFsZ29yaXRobSB0byB1c2UuXG5cdCAgICAqIEBwYXJhbSB7V29yZEFycmF5fHN0cmluZ30ga2V5IFRoZSBzZWNyZXQga2V5LlxuXHQgICAgKlxuXHQgICAgKiBAZXhhbXBsZVxuXHQgICAgKlxuXHQgICAgKiAgICAgdmFyIGhtYWNIYXNoZXIgPSBDcnlwdG9KUy5hbGdvLkhNQUMuY3JlYXRlKENyeXB0b0pTLmFsZ28uU0hBMjU2LCBrZXkpO1xuXHQgICAgKi9cblx0XHRcdFx0aW5pdDogZnVuY3Rpb24gaW5pdChoYXNoZXIsIGtleSkge1xuXHRcdFx0XHRcdC8vIEluaXQgaGFzaGVyXG5cdFx0XHRcdFx0aGFzaGVyID0gdGhpcy5faGFzaGVyID0gbmV3IGhhc2hlci5pbml0KCk7XG5cdFxuXHRcdFx0XHRcdC8vIENvbnZlcnQgc3RyaW5nIHRvIFdvcmRBcnJheSwgZWxzZSBhc3N1bWUgV29yZEFycmF5IGFscmVhZHlcblx0XHRcdFx0XHRpZiAodHlwZW9mIGtleSA9PSAnc3RyaW5nJykge1xuXHRcdFx0XHRcdFx0a2V5ID0gVXRmOC5wYXJzZShrZXkpO1xuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0Ly8gU2hvcnRjdXRzXG5cdFx0XHRcdFx0dmFyIGhhc2hlckJsb2NrU2l6ZSA9IGhhc2hlci5ibG9ja1NpemU7XG5cdFx0XHRcdFx0dmFyIGhhc2hlckJsb2NrU2l6ZUJ5dGVzID0gaGFzaGVyQmxvY2tTaXplICogNDtcblx0XG5cdFx0XHRcdFx0Ly8gQWxsb3cgYXJiaXRyYXJ5IGxlbmd0aCBrZXlzXG5cdFx0XHRcdFx0aWYgKGtleS5zaWdCeXRlcyA+IGhhc2hlckJsb2NrU2l6ZUJ5dGVzKSB7XG5cdFx0XHRcdFx0XHRrZXkgPSBoYXNoZXIuZmluYWxpemUoa2V5KTtcblx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdC8vIENsYW1wIGV4Y2VzcyBiaXRzXG5cdFx0XHRcdFx0a2V5LmNsYW1wKCk7XG5cdFxuXHRcdFx0XHRcdC8vIENsb25lIGtleSBmb3IgaW5uZXIgYW5kIG91dGVyIHBhZHNcblx0XHRcdFx0XHR2YXIgb0tleSA9IHRoaXMuX29LZXkgPSBrZXkuY2xvbmUoKTtcblx0XHRcdFx0XHR2YXIgaUtleSA9IHRoaXMuX2lLZXkgPSBrZXkuY2xvbmUoKTtcblx0XG5cdFx0XHRcdFx0Ly8gU2hvcnRjdXRzXG5cdFx0XHRcdFx0dmFyIG9LZXlXb3JkcyA9IG9LZXkud29yZHM7XG5cdFx0XHRcdFx0dmFyIGlLZXlXb3JkcyA9IGlLZXkud29yZHM7XG5cdFxuXHRcdFx0XHRcdC8vIFhPUiBrZXlzIHdpdGggcGFkIGNvbnN0YW50c1xuXHRcdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgaGFzaGVyQmxvY2tTaXplOyBpKyspIHtcblx0XHRcdFx0XHRcdG9LZXlXb3Jkc1tpXSBePSAweDVjNWM1YzVjO1xuXHRcdFx0XHRcdFx0aUtleVdvcmRzW2ldIF49IDB4MzYzNjM2MzY7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdG9LZXkuc2lnQnl0ZXMgPSBpS2V5LnNpZ0J5dGVzID0gaGFzaGVyQmxvY2tTaXplQnl0ZXM7XG5cdFxuXHRcdFx0XHRcdC8vIFNldCBpbml0aWFsIHZhbHVlc1xuXHRcdFx0XHRcdHRoaXMucmVzZXQoKTtcblx0XHRcdFx0fSxcblx0XG5cdFx0XHRcdC8qKlxuXHQgICAgKiBSZXNldHMgdGhpcyBITUFDIHRvIGl0cyBpbml0aWFsIHN0YXRlLlxuXHQgICAgKlxuXHQgICAgKiBAZXhhbXBsZVxuXHQgICAgKlxuXHQgICAgKiAgICAgaG1hY0hhc2hlci5yZXNldCgpO1xuXHQgICAgKi9cblx0XHRcdFx0cmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KCkge1xuXHRcdFx0XHRcdC8vIFNob3J0Y3V0XG5cdFx0XHRcdFx0dmFyIGhhc2hlciA9IHRoaXMuX2hhc2hlcjtcblx0XG5cdFx0XHRcdFx0Ly8gUmVzZXRcblx0XHRcdFx0XHRoYXNoZXIucmVzZXQoKTtcblx0XHRcdFx0XHRoYXNoZXIudXBkYXRlKHRoaXMuX2lLZXkpO1xuXHRcdFx0XHR9LFxuXHRcblx0XHRcdFx0LyoqXG5cdCAgICAqIFVwZGF0ZXMgdGhpcyBITUFDIHdpdGggYSBtZXNzYWdlLlxuXHQgICAgKlxuXHQgICAgKiBAcGFyYW0ge1dvcmRBcnJheXxzdHJpbmd9IG1lc3NhZ2VVcGRhdGUgVGhlIG1lc3NhZ2UgdG8gYXBwZW5kLlxuXHQgICAgKlxuXHQgICAgKiBAcmV0dXJuIHtITUFDfSBUaGlzIEhNQUMgaW5zdGFuY2UuXG5cdCAgICAqXG5cdCAgICAqIEBleGFtcGxlXG5cdCAgICAqXG5cdCAgICAqICAgICBobWFjSGFzaGVyLnVwZGF0ZSgnbWVzc2FnZScpO1xuXHQgICAgKiAgICAgaG1hY0hhc2hlci51cGRhdGUod29yZEFycmF5KTtcblx0ICAgICovXG5cdFx0XHRcdHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKG1lc3NhZ2VVcGRhdGUpIHtcblx0XHRcdFx0XHR0aGlzLl9oYXNoZXIudXBkYXRlKG1lc3NhZ2VVcGRhdGUpO1xuXHRcblx0XHRcdFx0XHQvLyBDaGFpbmFibGVcblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fSxcblx0XG5cdFx0XHRcdC8qKlxuXHQgICAgKiBGaW5hbGl6ZXMgdGhlIEhNQUMgY29tcHV0YXRpb24uXG5cdCAgICAqIE5vdGUgdGhhdCB0aGUgZmluYWxpemUgb3BlcmF0aW9uIGlzIGVmZmVjdGl2ZWx5IGEgZGVzdHJ1Y3RpdmUsIHJlYWQtb25jZSBvcGVyYXRpb24uXG5cdCAgICAqXG5cdCAgICAqIEBwYXJhbSB7V29yZEFycmF5fHN0cmluZ30gbWVzc2FnZVVwZGF0ZSAoT3B0aW9uYWwpIEEgZmluYWwgbWVzc2FnZSB1cGRhdGUuXG5cdCAgICAqXG5cdCAgICAqIEByZXR1cm4ge1dvcmRBcnJheX0gVGhlIEhNQUMuXG5cdCAgICAqXG5cdCAgICAqIEBleGFtcGxlXG5cdCAgICAqXG5cdCAgICAqICAgICB2YXIgaG1hYyA9IGhtYWNIYXNoZXIuZmluYWxpemUoKTtcblx0ICAgICogICAgIHZhciBobWFjID0gaG1hY0hhc2hlci5maW5hbGl6ZSgnbWVzc2FnZScpO1xuXHQgICAgKiAgICAgdmFyIGhtYWMgPSBobWFjSGFzaGVyLmZpbmFsaXplKHdvcmRBcnJheSk7XG5cdCAgICAqL1xuXHRcdFx0XHRmaW5hbGl6ZTogZnVuY3Rpb24gZmluYWxpemUobWVzc2FnZVVwZGF0ZSkge1xuXHRcdFx0XHRcdC8vIFNob3J0Y3V0XG5cdFx0XHRcdFx0dmFyIGhhc2hlciA9IHRoaXMuX2hhc2hlcjtcblx0XG5cdFx0XHRcdFx0Ly8gQ29tcHV0ZSBITUFDXG5cdFx0XHRcdFx0dmFyIGlubmVySGFzaCA9IGhhc2hlci5maW5hbGl6ZShtZXNzYWdlVXBkYXRlKTtcblx0XHRcdFx0XHRoYXNoZXIucmVzZXQoKTtcblx0XHRcdFx0XHR2YXIgaG1hYyA9IGhhc2hlci5maW5hbGl6ZSh0aGlzLl9vS2V5LmNsb25lKCkuY29uY2F0KGlubmVySGFzaCkpO1xuXHRcblx0XHRcdFx0XHRyZXR1cm4gaG1hYztcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fSkoKTtcblx0fSk7XG5cbi8qKiovIH0sXG4vKiAxMiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXywgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXywgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX187XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHR2YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cdFxuXHQ7KGZ1bmN0aW9uIChyb290LCBmYWN0b3J5KSB7XG5cdFx0aWYgKCggZmFsc2UgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZihleHBvcnRzKSkgPT09IFwib2JqZWN0XCIpIHtcblx0XHRcdC8vIENvbW1vbkpTXG5cdFx0XHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMgPSBmYWN0b3J5KF9fd2VicGFja19yZXF1aXJlX18oMSkpO1xuXHRcdH0gZWxzZSBpZiAodHJ1ZSkge1xuXHRcdFx0Ly8gQU1EXG5cdFx0XHQhKF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18gPSBbX193ZWJwYWNrX3JlcXVpcmVfXygxKV0sIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyA9IChmYWN0b3J5KSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gPSAodHlwZW9mIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyA9PT0gJ2Z1bmN0aW9uJyA/IChfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18uYXBwbHkoZXhwb3J0cywgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXykpIDogX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fKSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gIT09IHVuZGVmaW5lZCAmJiAobW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXykpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBHbG9iYWwgKGJyb3dzZXIpXG5cdFx0XHRmYWN0b3J5KHJvb3QuQ3J5cHRvSlMpO1xuXHRcdH1cblx0fSkodW5kZWZpbmVkLCBmdW5jdGlvbiAoQ3J5cHRvSlMpIHtcblx0XG5cdFx0KGZ1bmN0aW9uICgpIHtcblx0XHRcdC8vIFNob3J0Y3V0c1xuXHRcdFx0dmFyIEMgPSBDcnlwdG9KUztcblx0XHRcdHZhciBDX2xpYiA9IEMubGliO1xuXHRcdFx0dmFyIFdvcmRBcnJheSA9IENfbGliLldvcmRBcnJheTtcblx0XHRcdHZhciBIYXNoZXIgPSBDX2xpYi5IYXNoZXI7XG5cdFx0XHR2YXIgQ19hbGdvID0gQy5hbGdvO1xuXHRcblx0XHRcdC8vIFJldXNhYmxlIG9iamVjdFxuXHRcdFx0dmFyIFcgPSBbXTtcblx0XG5cdFx0XHQvKipcblx0ICAgKiBTSEEtMSBoYXNoIGFsZ29yaXRobS5cblx0ICAgKi9cblx0XHRcdHZhciBTSEExID0gQ19hbGdvLlNIQTEgPSBIYXNoZXIuZXh0ZW5kKHtcblx0XHRcdFx0X2RvUmVzZXQ6IGZ1bmN0aW9uIF9kb1Jlc2V0KCkge1xuXHRcdFx0XHRcdHRoaXMuX2hhc2ggPSBuZXcgV29yZEFycmF5LmluaXQoWzB4Njc0NTIzMDEsIDB4ZWZjZGFiODksIDB4OThiYWRjZmUsIDB4MTAzMjU0NzYsIDB4YzNkMmUxZjBdKTtcblx0XHRcdFx0fSxcblx0XG5cdFx0XHRcdF9kb1Byb2Nlc3NCbG9jazogZnVuY3Rpb24gX2RvUHJvY2Vzc0Jsb2NrKE0sIG9mZnNldCkge1xuXHRcdFx0XHRcdC8vIFNob3J0Y3V0XG5cdFx0XHRcdFx0dmFyIEggPSB0aGlzLl9oYXNoLndvcmRzO1xuXHRcblx0XHRcdFx0XHQvLyBXb3JraW5nIHZhcmlhYmxlc1xuXHRcdFx0XHRcdHZhciBhID0gSFswXTtcblx0XHRcdFx0XHR2YXIgYiA9IEhbMV07XG5cdFx0XHRcdFx0dmFyIGMgPSBIWzJdO1xuXHRcdFx0XHRcdHZhciBkID0gSFszXTtcblx0XHRcdFx0XHR2YXIgZSA9IEhbNF07XG5cdFxuXHRcdFx0XHRcdC8vIENvbXB1dGF0aW9uXG5cdFx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCA4MDsgaSsrKSB7XG5cdFx0XHRcdFx0XHRpZiAoaSA8IDE2KSB7XG5cdFx0XHRcdFx0XHRcdFdbaV0gPSBNW29mZnNldCArIGldIHwgMDtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdHZhciBuID0gV1tpIC0gM10gXiBXW2kgLSA4XSBeIFdbaSAtIDE0XSBeIFdbaSAtIDE2XTtcblx0XHRcdFx0XHRcdFx0V1tpXSA9IG4gPDwgMSB8IG4gPj4+IDMxO1xuXHRcdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRcdHZhciB0ID0gKGEgPDwgNSB8IGEgPj4+IDI3KSArIGUgKyBXW2ldO1xuXHRcdFx0XHRcdFx0aWYgKGkgPCAyMCkge1xuXHRcdFx0XHRcdFx0XHR0ICs9IChiICYgYyB8IH5iICYgZCkgKyAweDVhODI3OTk5O1xuXHRcdFx0XHRcdFx0fSBlbHNlIGlmIChpIDwgNDApIHtcblx0XHRcdFx0XHRcdFx0dCArPSAoYiBeIGMgXiBkKSArIDB4NmVkOWViYTE7XG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYgKGkgPCA2MCkge1xuXHRcdFx0XHRcdFx0XHR0ICs9IChiICYgYyB8IGIgJiBkIHwgYyAmIGQpIC0gMHg3MGU0NDMyNDtcblx0XHRcdFx0XHRcdH0gZWxzZSAvKiBpZiAoaSA8IDgwKSAqL3tcblx0XHRcdFx0XHRcdFx0XHR0ICs9IChiIF4gYyBeIGQpIC0gMHgzNTlkM2UyYTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRcdGUgPSBkO1xuXHRcdFx0XHRcdFx0ZCA9IGM7XG5cdFx0XHRcdFx0XHRjID0gYiA8PCAzMCB8IGIgPj4+IDI7XG5cdFx0XHRcdFx0XHRiID0gYTtcblx0XHRcdFx0XHRcdGEgPSB0O1xuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0Ly8gSW50ZXJtZWRpYXRlIGhhc2ggdmFsdWVcblx0XHRcdFx0XHRIWzBdID0gSFswXSArIGEgfCAwO1xuXHRcdFx0XHRcdEhbMV0gPSBIWzFdICsgYiB8IDA7XG5cdFx0XHRcdFx0SFsyXSA9IEhbMl0gKyBjIHwgMDtcblx0XHRcdFx0XHRIWzNdID0gSFszXSArIGQgfCAwO1xuXHRcdFx0XHRcdEhbNF0gPSBIWzRdICsgZSB8IDA7XG5cdFx0XHRcdH0sXG5cdFxuXHRcdFx0XHRfZG9GaW5hbGl6ZTogZnVuY3Rpb24gX2RvRmluYWxpemUoKSB7XG5cdFx0XHRcdFx0Ly8gU2hvcnRjdXRzXG5cdFx0XHRcdFx0dmFyIGRhdGEgPSB0aGlzLl9kYXRhO1xuXHRcdFx0XHRcdHZhciBkYXRhV29yZHMgPSBkYXRhLndvcmRzO1xuXHRcblx0XHRcdFx0XHR2YXIgbkJpdHNUb3RhbCA9IHRoaXMuX25EYXRhQnl0ZXMgKiA4O1xuXHRcdFx0XHRcdHZhciBuQml0c0xlZnQgPSBkYXRhLnNpZ0J5dGVzICogODtcblx0XG5cdFx0XHRcdFx0Ly8gQWRkIHBhZGRpbmdcblx0XHRcdFx0XHRkYXRhV29yZHNbbkJpdHNMZWZ0ID4+PiA1XSB8PSAweDgwIDw8IDI0IC0gbkJpdHNMZWZ0ICUgMzI7XG5cdFx0XHRcdFx0ZGF0YVdvcmRzWyhuQml0c0xlZnQgKyA2NCA+Pj4gOSA8PCA0KSArIDE0XSA9IE1hdGguZmxvb3IobkJpdHNUb3RhbCAvIDB4MTAwMDAwMDAwKTtcblx0XHRcdFx0XHRkYXRhV29yZHNbKG5CaXRzTGVmdCArIDY0ID4+PiA5IDw8IDQpICsgMTVdID0gbkJpdHNUb3RhbDtcblx0XHRcdFx0XHRkYXRhLnNpZ0J5dGVzID0gZGF0YVdvcmRzLmxlbmd0aCAqIDQ7XG5cdFxuXHRcdFx0XHRcdC8vIEhhc2ggZmluYWwgYmxvY2tzXG5cdFx0XHRcdFx0dGhpcy5fcHJvY2VzcygpO1xuXHRcblx0XHRcdFx0XHQvLyBSZXR1cm4gZmluYWwgY29tcHV0ZWQgaGFzaFxuXHRcdFx0XHRcdHJldHVybiB0aGlzLl9oYXNoO1xuXHRcdFx0XHR9LFxuXHRcblx0XHRcdFx0Y2xvbmU6IGZ1bmN0aW9uIGNsb25lKCkge1xuXHRcdFx0XHRcdHZhciBjbG9uZSA9IEhhc2hlci5jbG9uZS5jYWxsKHRoaXMpO1xuXHRcdFx0XHRcdGNsb25lLl9oYXNoID0gdGhpcy5faGFzaC5jbG9uZSgpO1xuXHRcblx0XHRcdFx0XHRyZXR1cm4gY2xvbmU7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcblx0XHRcdC8qKlxuXHQgICAqIFNob3J0Y3V0IGZ1bmN0aW9uIHRvIHRoZSBoYXNoZXIncyBvYmplY3QgaW50ZXJmYWNlLlxuXHQgICAqXG5cdCAgICogQHBhcmFtIHtXb3JkQXJyYXl8c3RyaW5nfSBtZXNzYWdlIFRoZSBtZXNzYWdlIHRvIGhhc2guXG5cdCAgICpcblx0ICAgKiBAcmV0dXJuIHtXb3JkQXJyYXl9IFRoZSBoYXNoLlxuXHQgICAqXG5cdCAgICogQHN0YXRpY1xuXHQgICAqXG5cdCAgICogQGV4YW1wbGVcblx0ICAgKlxuXHQgICAqICAgICB2YXIgaGFzaCA9IENyeXB0b0pTLlNIQTEoJ21lc3NhZ2UnKTtcblx0ICAgKiAgICAgdmFyIGhhc2ggPSBDcnlwdG9KUy5TSEExKHdvcmRBcnJheSk7XG5cdCAgICovXG5cdFx0XHRDLlNIQTEgPSBIYXNoZXIuX2NyZWF0ZUhlbHBlcihTSEExKTtcblx0XG5cdFx0XHQvKipcblx0ICAgKiBTaG9ydGN1dCBmdW5jdGlvbiB0byB0aGUgSE1BQydzIG9iamVjdCBpbnRlcmZhY2UuXG5cdCAgICpcblx0ICAgKiBAcGFyYW0ge1dvcmRBcnJheXxzdHJpbmd9IG1lc3NhZ2UgVGhlIG1lc3NhZ2UgdG8gaGFzaC5cblx0ICAgKiBAcGFyYW0ge1dvcmRBcnJheXxzdHJpbmd9IGtleSBUaGUgc2VjcmV0IGtleS5cblx0ICAgKlxuXHQgICAqIEByZXR1cm4ge1dvcmRBcnJheX0gVGhlIEhNQUMuXG5cdCAgICpcblx0ICAgKiBAc3RhdGljXG5cdCAgICpcblx0ICAgKiBAZXhhbXBsZVxuXHQgICAqXG5cdCAgICogICAgIHZhciBobWFjID0gQ3J5cHRvSlMuSG1hY1NIQTEobWVzc2FnZSwga2V5KTtcblx0ICAgKi9cblx0XHRcdEMuSG1hY1NIQTEgPSBIYXNoZXIuX2NyZWF0ZUhtYWNIZWxwZXIoU0hBMSk7XG5cdFx0fSkoKTtcblx0XG5cdFx0cmV0dXJuIENyeXB0b0pTLlNIQTE7XG5cdH0pO1xuXG4vKioqLyB9LFxuLyogMTMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdC8qXG5cdCAgICBUaGlzIGZpbGUgaXMgcGFydCBvZiB3ZWIzLmpzLlxuXHRcblx0ICAgIHdlYjMuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuXHQgICAgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG5cdCAgICB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuXHQgICAgKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cblx0XG5cdCAgICB3ZWIzLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG5cdCAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuXHQgICAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuXHQgICAgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG5cdFxuXHQgICAgWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG5cdCAgICBhbG9uZyB3aXRoIHdlYjMuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG5cdCovXG5cdC8qKlxuXHQgKiBAZmlsZSBtZXRob2QuanNcblx0ICogQGF1dGhvciBNYXJlayBLb3Rld2ljeiA8bWFyZWtAZXRoZGV2LmNvbT5cblx0ICogQGRhdGUgMjAxNVxuXHQgKi9cblx0XG5cdHZhciB1dGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdHZhciBlcnJvcnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2KTtcblx0XG5cdHZhciBNZXRob2QgPSBmdW5jdGlvbiBNZXRob2Qob3B0aW9ucykge1xuXHQgICAgdGhpcy5uYW1lID0gb3B0aW9ucy5uYW1lO1xuXHQgICAgdGhpcy5jYWxsID0gb3B0aW9ucy5jYWxsO1xuXHQgICAgdGhpcy5wYXJhbXMgPSBvcHRpb25zLnBhcmFtcyB8fCAwO1xuXHQgICAgdGhpcy5pbnB1dEZvcm1hdHRlciA9IG9wdGlvbnMuaW5wdXRGb3JtYXR0ZXI7XG5cdCAgICB0aGlzLm91dHB1dEZvcm1hdHRlciA9IG9wdGlvbnMub3V0cHV0Rm9ybWF0dGVyO1xuXHQgICAgdGhpcy5yZXF1ZXN0TWFuYWdlciA9IG51bGw7XG5cdH07XG5cdFxuXHRNZXRob2QucHJvdG90eXBlLnNldFJlcXVlc3RNYW5hZ2VyID0gZnVuY3Rpb24gKHJtKSB7XG5cdCAgICB0aGlzLnJlcXVlc3RNYW5hZ2VyID0gcm07XG5cdH07XG5cdFxuXHQvKipcblx0ICogU2hvdWxkIGJlIHVzZWQgdG8gZGV0ZXJtaW5lIG5hbWUgb2YgdGhlIGpzb25ycGMgbWV0aG9kIGJhc2VkIG9uIGFyZ3VtZW50c1xuXHQgKlxuXHQgKiBAbWV0aG9kIGdldENhbGxcblx0ICogQHBhcmFtIHtBcnJheX0gYXJndW1lbnRzXG5cdCAqIEByZXR1cm4ge1N0cmluZ30gbmFtZSBvZiBqc29ucnBjIG1ldGhvZFxuXHQgKi9cblx0TWV0aG9kLnByb3RvdHlwZS5nZXRDYWxsID0gZnVuY3Rpb24gKGFyZ3MpIHtcblx0ICAgIHJldHVybiB1dGlscy5pc0Z1bmN0aW9uKHRoaXMuY2FsbCkgPyB0aGlzLmNhbGwoYXJncykgOiB0aGlzLmNhbGw7XG5cdH07XG5cdFxuXHQvKipcblx0ICogU2hvdWxkIGJlIHVzZWQgdG8gZXh0cmFjdCBjYWxsYmFjayBmcm9tIGFycmF5IG9mIGFyZ3VtZW50cy4gTW9kaWZpZXMgaW5wdXQgcGFyYW1cblx0ICpcblx0ICogQG1ldGhvZCBleHRyYWN0Q2FsbGJhY2tcblx0ICogQHBhcmFtIHtBcnJheX0gYXJndW1lbnRzXG5cdCAqIEByZXR1cm4ge0Z1bmN0aW9ufE51bGx9IGNhbGxiYWNrLCBpZiBleGlzdHNcblx0ICovXG5cdE1ldGhvZC5wcm90b3R5cGUuZXh0cmFjdENhbGxiYWNrID0gZnVuY3Rpb24gKGFyZ3MpIHtcblx0ICAgIGlmICh1dGlscy5pc0Z1bmN0aW9uKGFyZ3NbYXJncy5sZW5ndGggLSAxXSkpIHtcblx0ICAgICAgICByZXR1cm4gYXJncy5wb3AoKTsgLy8gbW9kaWZ5IHRoZSBhcmdzIGFycmF5IVxuXHQgICAgfVxuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFNob3VsZCBiZSBjYWxsZWQgdG8gY2hlY2sgaWYgdGhlIG51bWJlciBvZiBhcmd1bWVudHMgaXMgY29ycmVjdFxuXHQgKiBcblx0ICogQG1ldGhvZCB2YWxpZGF0ZUFyZ3Ncblx0ICogQHBhcmFtIHtBcnJheX0gYXJndW1lbnRzXG5cdCAqIEB0aHJvd3Mge0Vycm9yfSBpZiBpdCBpcyBub3Rcblx0ICovXG5cdE1ldGhvZC5wcm90b3R5cGUudmFsaWRhdGVBcmdzID0gZnVuY3Rpb24gKGFyZ3MpIHtcblx0ICAgIGlmIChhcmdzLmxlbmd0aCAhPT0gdGhpcy5wYXJhbXMpIHtcblx0ICAgICAgICB0aHJvdyBlcnJvcnMuSW52YWxpZE51bWJlck9mUGFyYW1zKCk7XG5cdCAgICB9XG5cdH07XG5cdFxuXHQvKipcblx0ICogU2hvdWxkIGJlIGNhbGxlZCB0byBmb3JtYXQgaW5wdXQgYXJncyBvZiBtZXRob2Rcblx0ICogXG5cdCAqIEBtZXRob2QgZm9ybWF0SW5wdXRcblx0ICogQHBhcmFtIHtBcnJheX1cblx0ICogQHJldHVybiB7QXJyYXl9XG5cdCAqL1xuXHRNZXRob2QucHJvdG90eXBlLmZvcm1hdElucHV0ID0gZnVuY3Rpb24gKGFyZ3MpIHtcblx0ICAgIGlmICghdGhpcy5pbnB1dEZvcm1hdHRlcikge1xuXHQgICAgICAgIHJldHVybiBhcmdzO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiB0aGlzLmlucHV0Rm9ybWF0dGVyLm1hcChmdW5jdGlvbiAoZm9ybWF0dGVyLCBpbmRleCkge1xuXHQgICAgICAgIHJldHVybiBmb3JtYXR0ZXIgPyBmb3JtYXR0ZXIoYXJnc1tpbmRleF0pIDogYXJnc1tpbmRleF07XG5cdCAgICB9KTtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBTaG91bGQgYmUgY2FsbGVkIHRvIGZvcm1hdCBvdXRwdXQocmVzdWx0KSBvZiBtZXRob2Rcblx0ICpcblx0ICogQG1ldGhvZCBmb3JtYXRPdXRwdXRcblx0ICogQHBhcmFtIHtPYmplY3R9XG5cdCAqIEByZXR1cm4ge09iamVjdH1cblx0ICovXG5cdE1ldGhvZC5wcm90b3R5cGUuZm9ybWF0T3V0cHV0ID0gZnVuY3Rpb24gKHJlc3VsdCkge1xuXHQgICAgcmV0dXJuIHRoaXMub3V0cHV0Rm9ybWF0dGVyICYmIHJlc3VsdCA/IHRoaXMub3V0cHV0Rm9ybWF0dGVyKHJlc3VsdCkgOiByZXN1bHQ7XG5cdH07XG5cdFxuXHQvKipcblx0ICogU2hvdWxkIGNyZWF0ZSBwYXlsb2FkIGZyb20gZ2l2ZW4gaW5wdXQgYXJnc1xuXHQgKlxuXHQgKiBAbWV0aG9kIHRvUGF5bG9hZFxuXHQgKiBAcGFyYW0ge0FycmF5fSBhcmdzXG5cdCAqIEByZXR1cm4ge09iamVjdH1cblx0ICovXG5cdE1ldGhvZC5wcm90b3R5cGUudG9QYXlsb2FkID0gZnVuY3Rpb24gKGFyZ3MpIHtcblx0ICAgIHZhciBjYWxsID0gdGhpcy5nZXRDYWxsKGFyZ3MpO1xuXHQgICAgdmFyIGNhbGxiYWNrID0gdGhpcy5leHRyYWN0Q2FsbGJhY2soYXJncyk7XG5cdCAgICB2YXIgcGFyYW1zID0gdGhpcy5mb3JtYXRJbnB1dChhcmdzKTtcblx0ICAgIHRoaXMudmFsaWRhdGVBcmdzKHBhcmFtcyk7XG5cdFxuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgICBtZXRob2Q6IGNhbGwsXG5cdCAgICAgICAgcGFyYW1zOiBwYXJhbXMsXG5cdCAgICAgICAgY2FsbGJhY2s6IGNhbGxiYWNrXG5cdCAgICB9O1xuXHR9O1xuXHRcblx0TWV0aG9kLnByb3RvdHlwZS5hdHRhY2hUb09iamVjdCA9IGZ1bmN0aW9uIChvYmopIHtcblx0ICAgIHZhciBmdW5jID0gdGhpcy5idWlsZENhbGwoKTtcblx0ICAgIGZ1bmMuY2FsbCA9IHRoaXMuY2FsbDsgLy8gVE9ETyEhISB0aGF0J3MgdWdseS4gZmlsdGVyLmpzIHVzZXMgaXRcblx0ICAgIHZhciBuYW1lID0gdGhpcy5uYW1lLnNwbGl0KCcuJyk7XG5cdCAgICBpZiAobmFtZS5sZW5ndGggPiAxKSB7XG5cdCAgICAgICAgb2JqW25hbWVbMF1dID0gb2JqW25hbWVbMF1dIHx8IHt9O1xuXHQgICAgICAgIG9ialtuYW1lWzBdXVtuYW1lWzFdXSA9IGZ1bmM7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIG9ialtuYW1lWzBdXSA9IGZ1bmM7XG5cdCAgICB9XG5cdH07XG5cdFxuXHRNZXRob2QucHJvdG90eXBlLmJ1aWxkQ2FsbCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZhciBtZXRob2QgPSB0aGlzO1xuXHQgICAgdmFyIHNlbmQgPSBmdW5jdGlvbiBzZW5kKCkge1xuXHQgICAgICAgIHZhciBwYXlsb2FkID0gbWV0aG9kLnRvUGF5bG9hZChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKTtcblx0ICAgICAgICBpZiAocGF5bG9hZC5jYWxsYmFjaykge1xuXHQgICAgICAgICAgICByZXR1cm4gbWV0aG9kLnJlcXVlc3RNYW5hZ2VyLnNlbmRBc3luYyhwYXlsb2FkLCBmdW5jdGlvbiAoZXJyLCByZXN1bHQpIHtcblx0ICAgICAgICAgICAgICAgIHBheWxvYWQuY2FsbGJhY2soZXJyLCBtZXRob2QuZm9ybWF0T3V0cHV0KHJlc3VsdCkpO1xuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIG1ldGhvZC5mb3JtYXRPdXRwdXQobWV0aG9kLnJlcXVlc3RNYW5hZ2VyLnNlbmQocGF5bG9hZCkpO1xuXHQgICAgfTtcblx0ICAgIHNlbmQucmVxdWVzdCA9IHRoaXMucmVxdWVzdC5iaW5kKHRoaXMpO1xuXHQgICAgcmV0dXJuIHNlbmQ7XG5cdH07XG5cdFxuXHQvKipcblx0ICogU2hvdWxkIGJlIGNhbGxlZCB0byBjcmVhdGUgcHVyZSBKU09OUlBDIHJlcXVlc3Qgd2hpY2ggY2FuIGJlIHVzZWQgaW4gYmF0Y2ggcmVxdWVzdFxuXHQgKlxuXHQgKiBAbWV0aG9kIHJlcXVlc3Rcblx0ICogQHBhcmFtIHsuLi59IHBhcmFtc1xuXHQgKiBAcmV0dXJuIHtPYmplY3R9IGpzb25ycGMgcmVxdWVzdFxuXHQgKi9cblx0TWV0aG9kLnByb3RvdHlwZS5yZXF1ZXN0ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdmFyIHBheWxvYWQgPSB0aGlzLnRvUGF5bG9hZChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKTtcblx0ICAgIHBheWxvYWQuZm9ybWF0ID0gdGhpcy5mb3JtYXRPdXRwdXQuYmluZCh0aGlzKTtcblx0ICAgIHJldHVybiBwYXlsb2FkO1xuXHR9O1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBNZXRob2Q7XG5cbi8qKiovIH0sXG4vKiAxNCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fOyd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblx0XG5cdC8qISBiaWdudW1iZXIuanMgdjIuMC43IGh0dHBzOi8vZ2l0aHViLmNvbS9NaWtlTWNsL2JpZ251bWJlci5qcy9MSUNFTkNFICovXG5cdFxuXHQ7KGZ1bmN0aW9uIChnbG9iYWwpIHtcblx0ICAgICd1c2Ugc3RyaWN0Jztcblx0XG5cdCAgICAvKlxuXHQgICAgICBiaWdudW1iZXIuanMgdjIuMC43XG5cdCAgICAgIEEgSmF2YVNjcmlwdCBsaWJyYXJ5IGZvciBhcmJpdHJhcnktcHJlY2lzaW9uIGFyaXRobWV0aWMuXG5cdCAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9NaWtlTWNsL2JpZ251bWJlci5qc1xuXHQgICAgICBDb3B5cmlnaHQgKGMpIDIwMTUgTWljaGFlbCBNY2xhdWdobGluIDxNOGNoODhsQGdtYWlsLmNvbT5cblx0ICAgICAgTUlUIEV4cGF0IExpY2VuY2Vcblx0ICAgICovXG5cdFxuXHQgICAgdmFyIEJpZ051bWJlcixcblx0ICAgICAgICBjcnlwdG8sXG5cdCAgICAgICAgcGFyc2VOdW1lcmljLFxuXHQgICAgICAgIGlzTnVtZXJpYyA9IC9eLT8oXFxkKyhcXC5cXGQqKT98XFwuXFxkKykoZVsrLV0/XFxkKyk/JC9pLFxuXHQgICAgICAgIG1hdGhjZWlsID0gTWF0aC5jZWlsLFxuXHQgICAgICAgIG1hdGhmbG9vciA9IE1hdGguZmxvb3IsXG5cdCAgICAgICAgbm90Qm9vbCA9ICcgbm90IGEgYm9vbGVhbiBvciBiaW5hcnkgZGlnaXQnLFxuXHQgICAgICAgIHJvdW5kaW5nTW9kZSA9ICdyb3VuZGluZyBtb2RlJyxcblx0ICAgICAgICB0b29NYW55RGlnaXRzID0gJ251bWJlciB0eXBlIGhhcyBtb3JlIHRoYW4gMTUgc2lnbmlmaWNhbnQgZGlnaXRzJyxcblx0ICAgICAgICBBTFBIQUJFVCA9ICcwMTIzNDU2Nzg5YWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWiRfJyxcblx0ICAgICAgICBCQVNFID0gMWUxNCxcblx0ICAgICAgICBMT0dfQkFTRSA9IDE0LFxuXHQgICAgICAgIE1BWF9TQUZFX0lOVEVHRVIgPSAweDFmZmZmZmZmZmZmZmZmLFxuXHQgICAgICAgIC8vIDJeNTMgLSAxXG5cdCAgICAvLyBNQVhfSU5UMzIgPSAweDdmZmZmZmZmLCAgICAgICAgICAgICAgICAgICAvLyAyXjMxIC0gMVxuXHQgICAgUE9XU19URU4gPSBbMSwgMTAsIDEwMCwgMWUzLCAxZTQsIDFlNSwgMWU2LCAxZTcsIDFlOCwgMWU5LCAxZTEwLCAxZTExLCAxZTEyLCAxZTEzXSxcblx0ICAgICAgICBTUVJUX0JBU0UgPSAxZTcsXG5cdFxuXHRcblx0ICAgIC8qXG5cdCAgICAgKiBUaGUgbGltaXQgb24gdGhlIHZhbHVlIG9mIERFQ0lNQUxfUExBQ0VTLCBUT19FWFBfTkVHLCBUT19FWFBfUE9TLCBNSU5fRVhQLCBNQVhfRVhQLCBhbmRcblx0ICAgICAqIHRoZSBhcmd1bWVudHMgdG8gdG9FeHBvbmVudGlhbCwgdG9GaXhlZCwgdG9Gb3JtYXQsIGFuZCB0b1ByZWNpc2lvbiwgYmV5b25kIHdoaWNoIGFuXG5cdCAgICAgKiBleGNlcHRpb24gaXMgdGhyb3duIChpZiBFUlJPUlMgaXMgdHJ1ZSkuXG5cdCAgICAgKi9cblx0ICAgIE1BWCA9IDFFOTsgLy8gMCB0byBNQVhfSU5UMzJcblx0XG5cdFxuXHQgICAgLypcblx0ICAgICAqIENyZWF0ZSBhbmQgcmV0dXJuIGEgQmlnTnVtYmVyIGNvbnN0cnVjdG9yLlxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBhbm90aGVyKGNvbmZpZ09iaikge1xuXHQgICAgICAgIHZhciBkaXYsXG5cdFxuXHRcblx0ICAgICAgICAvLyBpZCB0cmFja3MgdGhlIGNhbGxlciBmdW5jdGlvbiwgc28gaXRzIG5hbWUgY2FuIGJlIGluY2x1ZGVkIGluIGVycm9yIG1lc3NhZ2VzLlxuXHQgICAgICAgIGlkID0gMCxcblx0ICAgICAgICAgICAgUCA9IEJpZ051bWJlci5wcm90b3R5cGUsXG5cdCAgICAgICAgICAgIE9ORSA9IG5ldyBCaWdOdW1iZXIoMSksXG5cdFxuXHRcblx0ICAgICAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIEVESVRBQkxFIERFRkFVTFRTICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cdFxuXHQgICAgICAgIC8qXG5cdCAgICAgICAgICogVGhlIGRlZmF1bHQgdmFsdWVzIGJlbG93IG11c3QgYmUgaW50ZWdlcnMgd2l0aGluIHRoZSBpbmNsdXNpdmUgcmFuZ2VzIHN0YXRlZC5cblx0ICAgICAgICAgKiBUaGUgdmFsdWVzIGNhbiBhbHNvIGJlIGNoYW5nZWQgYXQgcnVuLXRpbWUgdXNpbmcgQmlnTnVtYmVyLmNvbmZpZy5cblx0ICAgICAgICAgKi9cblx0XG5cdCAgICAgICAgLy8gVGhlIG1heGltdW0gbnVtYmVyIG9mIGRlY2ltYWwgcGxhY2VzIGZvciBvcGVyYXRpb25zIGludm9sdmluZyBkaXZpc2lvbi5cblx0ICAgICAgICBERUNJTUFMX1BMQUNFUyA9IDIwLFxuXHQgICAgICAgICAgICAvLyAwIHRvIE1BWFxuXHRcblx0ICAgICAgICAvKlxuXHQgICAgICAgICAqIFRoZSByb3VuZGluZyBtb2RlIHVzZWQgd2hlbiByb3VuZGluZyB0byB0aGUgYWJvdmUgZGVjaW1hbCBwbGFjZXMsIGFuZCB3aGVuIHVzaW5nXG5cdCAgICAgICAgICogdG9FeHBvbmVudGlhbCwgdG9GaXhlZCwgdG9Gb3JtYXQgYW5kIHRvUHJlY2lzaW9uLCBhbmQgcm91bmQgKGRlZmF1bHQgdmFsdWUpLlxuXHQgICAgICAgICAqIFVQICAgICAgICAgMCBBd2F5IGZyb20gemVyby5cblx0ICAgICAgICAgKiBET1dOICAgICAgIDEgVG93YXJkcyB6ZXJvLlxuXHQgICAgICAgICAqIENFSUwgICAgICAgMiBUb3dhcmRzICtJbmZpbml0eS5cblx0ICAgICAgICAgKiBGTE9PUiAgICAgIDMgVG93YXJkcyAtSW5maW5pdHkuXG5cdCAgICAgICAgICogSEFMRl9VUCAgICA0IFRvd2FyZHMgbmVhcmVzdCBuZWlnaGJvdXIuIElmIGVxdWlkaXN0YW50LCB1cC5cblx0ICAgICAgICAgKiBIQUxGX0RPV04gIDUgVG93YXJkcyBuZWFyZXN0IG5laWdoYm91ci4gSWYgZXF1aWRpc3RhbnQsIGRvd24uXG5cdCAgICAgICAgICogSEFMRl9FVkVOICA2IFRvd2FyZHMgbmVhcmVzdCBuZWlnaGJvdXIuIElmIGVxdWlkaXN0YW50LCB0b3dhcmRzIGV2ZW4gbmVpZ2hib3VyLlxuXHQgICAgICAgICAqIEhBTEZfQ0VJTCAgNyBUb3dhcmRzIG5lYXJlc3QgbmVpZ2hib3VyLiBJZiBlcXVpZGlzdGFudCwgdG93YXJkcyArSW5maW5pdHkuXG5cdCAgICAgICAgICogSEFMRl9GTE9PUiA4IFRvd2FyZHMgbmVhcmVzdCBuZWlnaGJvdXIuIElmIGVxdWlkaXN0YW50LCB0b3dhcmRzIC1JbmZpbml0eS5cblx0ICAgICAgICAgKi9cblx0ICAgICAgICBST1VORElOR19NT0RFID0gNCxcblx0ICAgICAgICAgICAgLy8gMCB0byA4XG5cdFxuXHQgICAgICAgIC8vIEVYUE9ORU5USUFMX0FUIDogW1RPX0VYUF9ORUcgLCBUT19FWFBfUE9TXVxuXHRcblx0ICAgICAgICAvLyBUaGUgZXhwb25lbnQgdmFsdWUgYXQgYW5kIGJlbmVhdGggd2hpY2ggdG9TdHJpbmcgcmV0dXJucyBleHBvbmVudGlhbCBub3RhdGlvbi5cblx0ICAgICAgICAvLyBOdW1iZXIgdHlwZTogLTdcblx0ICAgICAgICBUT19FWFBfTkVHID0gLTcsXG5cdCAgICAgICAgICAgIC8vIDAgdG8gLU1BWFxuXHRcblx0ICAgICAgICAvLyBUaGUgZXhwb25lbnQgdmFsdWUgYXQgYW5kIGFib3ZlIHdoaWNoIHRvU3RyaW5nIHJldHVybnMgZXhwb25lbnRpYWwgbm90YXRpb24uXG5cdCAgICAgICAgLy8gTnVtYmVyIHR5cGU6IDIxXG5cdCAgICAgICAgVE9fRVhQX1BPUyA9IDIxLFxuXHQgICAgICAgICAgICAvLyAwIHRvIE1BWFxuXHRcblx0ICAgICAgICAvLyBSQU5HRSA6IFtNSU5fRVhQLCBNQVhfRVhQXVxuXHRcblx0ICAgICAgICAvLyBUaGUgbWluaW11bSBleHBvbmVudCB2YWx1ZSwgYmVuZWF0aCB3aGljaCB1bmRlcmZsb3cgdG8gemVybyBvY2N1cnMuXG5cdCAgICAgICAgLy8gTnVtYmVyIHR5cGU6IC0zMjQgICg1ZS0zMjQpXG5cdCAgICAgICAgTUlOX0VYUCA9IC0xZTcsXG5cdCAgICAgICAgICAgIC8vIC0xIHRvIC1NQVhcblx0XG5cdCAgICAgICAgLy8gVGhlIG1heGltdW0gZXhwb25lbnQgdmFsdWUsIGFib3ZlIHdoaWNoIG92ZXJmbG93IHRvIEluZmluaXR5IG9jY3Vycy5cblx0ICAgICAgICAvLyBOdW1iZXIgdHlwZTogIDMwOCAgKDEuNzk3NjkzMTM0ODYyMzE1N2UrMzA4KVxuXHQgICAgICAgIC8vIEZvciBNQVhfRVhQID4gMWU3LCBlLmcuIG5ldyBCaWdOdW1iZXIoJzFlMTAwMDAwMDAwJykucGx1cygxKSBtYXkgYmUgc2xvdy5cblx0ICAgICAgICBNQVhfRVhQID0gMWU3LFxuXHQgICAgICAgICAgICAvLyAxIHRvIE1BWFxuXHRcblx0ICAgICAgICAvLyBXaGV0aGVyIEJpZ051bWJlciBFcnJvcnMgYXJlIGV2ZXIgdGhyb3duLlxuXHQgICAgICAgIEVSUk9SUyA9IHRydWUsXG5cdCAgICAgICAgICAgIC8vIHRydWUgb3IgZmFsc2Vcblx0XG5cdCAgICAgICAgLy8gQ2hhbmdlIHRvIGludFZhbGlkYXRvck5vRXJyb3JzIGlmIEVSUk9SUyBpcyBmYWxzZS5cblx0ICAgICAgICBpc1ZhbGlkSW50ID0gaW50VmFsaWRhdG9yV2l0aEVycm9ycyxcblx0ICAgICAgICAgICAgLy8gaW50VmFsaWRhdG9yV2l0aEVycm9ycy9pbnRWYWxpZGF0b3JOb0Vycm9yc1xuXHRcblx0ICAgICAgICAvLyBXaGV0aGVyIHRvIHVzZSBjcnlwdG9ncmFwaGljYWxseS1zZWN1cmUgcmFuZG9tIG51bWJlciBnZW5lcmF0aW9uLCBpZiBhdmFpbGFibGUuXG5cdCAgICAgICAgQ1JZUFRPID0gZmFsc2UsXG5cdCAgICAgICAgICAgIC8vIHRydWUgb3IgZmFsc2Vcblx0XG5cdCAgICAgICAgLypcblx0ICAgICAgICAgKiBUaGUgbW9kdWxvIG1vZGUgdXNlZCB3aGVuIGNhbGN1bGF0aW5nIHRoZSBtb2R1bHVzOiBhIG1vZCBuLlxuXHQgICAgICAgICAqIFRoZSBxdW90aWVudCAocSA9IGEgLyBuKSBpcyBjYWxjdWxhdGVkIGFjY29yZGluZyB0byB0aGUgY29ycmVzcG9uZGluZyByb3VuZGluZyBtb2RlLlxuXHQgICAgICAgICAqIFRoZSByZW1haW5kZXIgKHIpIGlzIGNhbGN1bGF0ZWQgYXM6IHIgPSBhIC0gbiAqIHEuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBVUCAgICAgICAgMCBUaGUgcmVtYWluZGVyIGlzIHBvc2l0aXZlIGlmIHRoZSBkaXZpZGVuZCBpcyBuZWdhdGl2ZSwgZWxzZSBpcyBuZWdhdGl2ZS5cblx0ICAgICAgICAgKiBET1dOICAgICAgMSBUaGUgcmVtYWluZGVyIGhhcyB0aGUgc2FtZSBzaWduIGFzIHRoZSBkaXZpZGVuZC5cblx0ICAgICAgICAgKiAgICAgICAgICAgICBUaGlzIG1vZHVsbyBtb2RlIGlzIGNvbW1vbmx5IGtub3duIGFzICd0cnVuY2F0ZWQgZGl2aXNpb24nIGFuZCBpc1xuXHQgICAgICAgICAqICAgICAgICAgICAgIGVxdWl2YWxlbnQgdG8gKGEgJSBuKSBpbiBKYXZhU2NyaXB0LlxuXHQgICAgICAgICAqIEZMT09SICAgICAzIFRoZSByZW1haW5kZXIgaGFzIHRoZSBzYW1lIHNpZ24gYXMgdGhlIGRpdmlzb3IgKFB5dGhvbiAlKS5cblx0ICAgICAgICAgKiBIQUxGX0VWRU4gNiBUaGlzIG1vZHVsbyBtb2RlIGltcGxlbWVudHMgdGhlIElFRUUgNzU0IHJlbWFpbmRlciBmdW5jdGlvbi5cblx0ICAgICAgICAgKiBFVUNMSUQgICAgOSBFdWNsaWRpYW4gZGl2aXNpb24uIHEgPSBzaWduKG4pICogZmxvb3IoYSAvIGFicyhuKSkuXG5cdCAgICAgICAgICogICAgICAgICAgICAgVGhlIHJlbWFpbmRlciBpcyBhbHdheXMgcG9zaXRpdmUuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBUaGUgdHJ1bmNhdGVkIGRpdmlzaW9uLCBmbG9vcmVkIGRpdmlzaW9uLCBFdWNsaWRpYW4gZGl2aXNpb24gYW5kIElFRUUgNzU0IHJlbWFpbmRlclxuXHQgICAgICAgICAqIG1vZGVzIGFyZSBjb21tb25seSB1c2VkIGZvciB0aGUgbW9kdWx1cyBvcGVyYXRpb24uXG5cdCAgICAgICAgICogQWx0aG91Z2ggdGhlIG90aGVyIHJvdW5kaW5nIG1vZGVzIGNhbiBhbHNvIGJlIHVzZWQsIHRoZXkgbWF5IG5vdCBnaXZlIHVzZWZ1bCByZXN1bHRzLlxuXHQgICAgICAgICAqL1xuXHQgICAgICAgIE1PRFVMT19NT0RFID0gMSxcblx0ICAgICAgICAgICAgLy8gMCB0byA5XG5cdFxuXHQgICAgICAgIC8vIFRoZSBtYXhpbXVtIG51bWJlciBvZiBzaWduaWZpY2FudCBkaWdpdHMgb2YgdGhlIHJlc3VsdCBvZiB0aGUgdG9Qb3dlciBvcGVyYXRpb24uXG5cdCAgICAgICAgLy8gSWYgUE9XX1BSRUNJU0lPTiBpcyAwLCB0aGVyZSB3aWxsIGJlIHVubGltaXRlZCBzaWduaWZpY2FudCBkaWdpdHMuXG5cdCAgICAgICAgUE9XX1BSRUNJU0lPTiA9IDEwMCxcblx0ICAgICAgICAgICAgLy8gMCB0byBNQVhcblx0XG5cdCAgICAgICAgLy8gVGhlIGZvcm1hdCBzcGVjaWZpY2F0aW9uIHVzZWQgYnkgdGhlIEJpZ051bWJlci5wcm90b3R5cGUudG9Gb3JtYXQgbWV0aG9kLlxuXHQgICAgICAgIEZPUk1BVCA9IHtcblx0ICAgICAgICAgICAgZGVjaW1hbFNlcGFyYXRvcjogJy4nLFxuXHQgICAgICAgICAgICBncm91cFNlcGFyYXRvcjogJywnLFxuXHQgICAgICAgICAgICBncm91cFNpemU6IDMsXG5cdCAgICAgICAgICAgIHNlY29uZGFyeUdyb3VwU2l6ZTogMCxcblx0ICAgICAgICAgICAgZnJhY3Rpb25Hcm91cFNlcGFyYXRvcjogJ1xceEEwJywgLy8gbm9uLWJyZWFraW5nIHNwYWNlXG5cdCAgICAgICAgICAgIGZyYWN0aW9uR3JvdXBTaXplOiAwXG5cdCAgICAgICAgfTtcblx0XG5cdCAgICAgICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblx0XG5cdCAgICAgICAgLy8gQ09OU1RSVUNUT1Jcblx0XG5cdFxuXHQgICAgICAgIC8qXG5cdCAgICAgICAgICogVGhlIEJpZ051bWJlciBjb25zdHJ1Y3RvciBhbmQgZXhwb3J0ZWQgZnVuY3Rpb24uXG5cdCAgICAgICAgICogQ3JlYXRlIGFuZCByZXR1cm4gYSBuZXcgaW5zdGFuY2Ugb2YgYSBCaWdOdW1iZXIgb2JqZWN0LlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogbiB7bnVtYmVyfHN0cmluZ3xCaWdOdW1iZXJ9IEEgbnVtZXJpYyB2YWx1ZS5cblx0ICAgICAgICAgKiBbYl0ge251bWJlcn0gVGhlIGJhc2Ugb2Ygbi4gSW50ZWdlciwgMiB0byA2NCBpbmNsdXNpdmUuXG5cdCAgICAgICAgICovXG5cdCAgICAgICAgZnVuY3Rpb24gQmlnTnVtYmVyKG4sIGIpIHtcblx0ICAgICAgICAgICAgdmFyIGMsXG5cdCAgICAgICAgICAgICAgICBlLFxuXHQgICAgICAgICAgICAgICAgaSxcblx0ICAgICAgICAgICAgICAgIG51bSxcblx0ICAgICAgICAgICAgICAgIGxlbixcblx0ICAgICAgICAgICAgICAgIHN0cixcblx0ICAgICAgICAgICAgICAgIHggPSB0aGlzO1xuXHRcblx0ICAgICAgICAgICAgLy8gRW5hYmxlIGNvbnN0cnVjdG9yIHVzYWdlIHdpdGhvdXQgbmV3LlxuXHQgICAgICAgICAgICBpZiAoISh4IGluc3RhbmNlb2YgQmlnTnVtYmVyKSkge1xuXHRcblx0ICAgICAgICAgICAgICAgIC8vICdCaWdOdW1iZXIoKSBjb25zdHJ1Y3RvciBjYWxsIHdpdGhvdXQgbmV3OiB7bn0nXG5cdCAgICAgICAgICAgICAgICBpZiAoRVJST1JTKSByYWlzZSgyNiwgJ2NvbnN0cnVjdG9yIGNhbGwgd2l0aG91dCBuZXcnLCBuKTtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQmlnTnVtYmVyKG4sIGIpO1xuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICAvLyAnbmV3IEJpZ051bWJlcigpIGJhc2Ugbm90IGFuIGludGVnZXI6IHtifSdcblx0ICAgICAgICAgICAgLy8gJ25ldyBCaWdOdW1iZXIoKSBiYXNlIG91dCBvZiByYW5nZToge2J9J1xuXHQgICAgICAgICAgICBpZiAoYiA9PSBudWxsIHx8ICFpc1ZhbGlkSW50KGIsIDIsIDY0LCBpZCwgJ2Jhc2UnKSkge1xuXHRcblx0ICAgICAgICAgICAgICAgIC8vIER1cGxpY2F0ZS5cblx0ICAgICAgICAgICAgICAgIGlmIChuIGluc3RhbmNlb2YgQmlnTnVtYmVyKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgeC5zID0gbi5zO1xuXHQgICAgICAgICAgICAgICAgICAgIHguZSA9IG4uZTtcblx0ICAgICAgICAgICAgICAgICAgICB4LmMgPSAobiA9IG4uYykgPyBuLnNsaWNlKCkgOiBuO1xuXHQgICAgICAgICAgICAgICAgICAgIGlkID0gMDtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICAgICAgaWYgKChudW0gPSB0eXBlb2YgbiA9PSAnbnVtYmVyJykgJiYgbiAqIDAgPT0gMCkge1xuXHQgICAgICAgICAgICAgICAgICAgIHgucyA9IDEgLyBuIDwgMCA/IChuID0gLW4sIC0xKSA6IDE7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgIC8vIEZhc3QgcGF0aCBmb3IgaW50ZWdlcnMuXG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKG4gPT09IH5+bikge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGUgPSAwLCBpID0gbjsgaSA+PSAxMDsgaSAvPSAxMCwgZSsrKSB7fVxuXHQgICAgICAgICAgICAgICAgICAgICAgICB4LmUgPSBlO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB4LmMgPSBbbl07XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlkID0gMDtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgICAgICAgICAgc3RyID0gbiArICcnO1xuXHQgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAoIWlzTnVtZXJpYy50ZXN0KHN0ciA9IG4gKyAnJykpIHJldHVybiBwYXJzZU51bWVyaWMoeCwgc3RyLCBudW0pO1xuXHQgICAgICAgICAgICAgICAgICAgIHgucyA9IHN0ci5jaGFyQ29kZUF0KDApID09PSA0NSA/IChzdHIgPSBzdHIuc2xpY2UoMSksIC0xKSA6IDE7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICBiID0gYiB8IDA7XG5cdCAgICAgICAgICAgICAgICBzdHIgPSBuICsgJyc7XG5cdFxuXHQgICAgICAgICAgICAgICAgLy8gRW5zdXJlIHJldHVybiB2YWx1ZSBpcyByb3VuZGVkIHRvIERFQ0lNQUxfUExBQ0VTIGFzIHdpdGggb3RoZXIgYmFzZXMuXG5cdCAgICAgICAgICAgICAgICAvLyBBbGxvdyBleHBvbmVudGlhbCBub3RhdGlvbiB0byBiZSB1c2VkIHdpdGggYmFzZSAxMCBhcmd1bWVudC5cblx0ICAgICAgICAgICAgICAgIGlmIChiID09IDEwKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgeCA9IG5ldyBCaWdOdW1iZXIobiBpbnN0YW5jZW9mIEJpZ051bWJlciA/IG4gOiBzdHIpO1xuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiByb3VuZCh4LCBERUNJTUFMX1BMQUNFUyArIHguZSArIDEsIFJPVU5ESU5HX01PREUpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgICAgIC8vIEF2b2lkIHBvdGVudGlhbCBpbnRlcnByZXRhdGlvbiBvZiBJbmZpbml0eSBhbmQgTmFOIGFzIGJhc2UgNDQrIHZhbHVlcy5cblx0ICAgICAgICAgICAgICAgIC8vIEFueSBudW1iZXIgaW4gZXhwb25lbnRpYWwgZm9ybSB3aWxsIGZhaWwgZHVlIHRvIHRoZSBbRWVdWystXS5cblx0ICAgICAgICAgICAgICAgIGlmICgobnVtID0gdHlwZW9mIG4gPT0gJ251bWJlcicpICYmIG4gKiAwICE9IDAgfHwgIW5ldyBSZWdFeHAoJ14tPycgKyAoYyA9ICdbJyArIEFMUEhBQkVULnNsaWNlKDAsIGIpICsgJ10rJykgKyAnKD86XFxcXC4nICsgYyArICcpPyQnLCBiIDwgMzcgPyAnaScgOiAnJykudGVzdChzdHIpKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlTnVtZXJpYyh4LCBzdHIsIG51bSwgYik7XG5cdCAgICAgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICAgICAgaWYgKG51bSkge1xuXHQgICAgICAgICAgICAgICAgICAgIHgucyA9IDEgLyBuIDwgMCA/IChzdHIgPSBzdHIuc2xpY2UoMSksIC0xKSA6IDE7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgIGlmIChFUlJPUlMgJiYgc3RyLnJlcGxhY2UoL14wXFwuMCp8XFwuLywgJycpLmxlbmd0aCA+IDE1KSB7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAvLyAnbmV3IEJpZ051bWJlcigpIG51bWJlciB0eXBlIGhhcyBtb3JlIHRoYW4gMTUgc2lnbmlmaWNhbnQgZGlnaXRzOiB7bn0nXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJhaXNlKGlkLCB0b29NYW55RGlnaXRzLCBuKTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgIC8vIFByZXZlbnQgbGF0ZXIgY2hlY2sgZm9yIGxlbmd0aCBvbiBjb252ZXJ0ZWQgbnVtYmVyLlxuXHQgICAgICAgICAgICAgICAgICAgIG51bSA9IGZhbHNlO1xuXHQgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICB4LnMgPSBzdHIuY2hhckNvZGVBdCgwKSA9PT0gNDUgPyAoc3RyID0gc3RyLnNsaWNlKDEpLCAtMSkgOiAxO1xuXHQgICAgICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgICAgIHN0ciA9IGNvbnZlcnRCYXNlKHN0ciwgMTAsIGIsIHgucyk7XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIC8vIERlY2ltYWwgcG9pbnQ/XG5cdCAgICAgICAgICAgIGlmICgoZSA9IHN0ci5pbmRleE9mKCcuJykpID4gLTEpIHN0ciA9IHN0ci5yZXBsYWNlKCcuJywgJycpO1xuXHRcblx0ICAgICAgICAgICAgLy8gRXhwb25lbnRpYWwgZm9ybT9cblx0ICAgICAgICAgICAgaWYgKChpID0gc3RyLnNlYXJjaCgvZS9pKSkgPiAwKSB7XG5cdFxuXHQgICAgICAgICAgICAgICAgLy8gRGV0ZXJtaW5lIGV4cG9uZW50LlxuXHQgICAgICAgICAgICAgICAgaWYgKGUgPCAwKSBlID0gaTtcblx0ICAgICAgICAgICAgICAgIGUgKz0gK3N0ci5zbGljZShpICsgMSk7XG5cdCAgICAgICAgICAgICAgICBzdHIgPSBzdHIuc3Vic3RyaW5nKDAsIGkpO1xuXHQgICAgICAgICAgICB9IGVsc2UgaWYgKGUgPCAwKSB7XG5cdFxuXHQgICAgICAgICAgICAgICAgLy8gSW50ZWdlci5cblx0ICAgICAgICAgICAgICAgIGUgPSBzdHIubGVuZ3RoO1xuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICAvLyBEZXRlcm1pbmUgbGVhZGluZyB6ZXJvcy5cblx0ICAgICAgICAgICAgZm9yIChpID0gMDsgc3RyLmNoYXJDb2RlQXQoaSkgPT09IDQ4OyBpKyspIHt9XG5cdFxuXHQgICAgICAgICAgICAvLyBEZXRlcm1pbmUgdHJhaWxpbmcgemVyb3MuXG5cdCAgICAgICAgICAgIGZvciAobGVuID0gc3RyLmxlbmd0aDsgc3RyLmNoYXJDb2RlQXQoLS1sZW4pID09PSA0ODspIHt9XG5cdCAgICAgICAgICAgIHN0ciA9IHN0ci5zbGljZShpLCBsZW4gKyAxKTtcblx0XG5cdCAgICAgICAgICAgIGlmIChzdHIpIHtcblx0ICAgICAgICAgICAgICAgIGxlbiA9IHN0ci5sZW5ndGg7XG5cdFxuXHQgICAgICAgICAgICAgICAgLy8gRGlzYWxsb3cgbnVtYmVycyB3aXRoIG92ZXIgMTUgc2lnbmlmaWNhbnQgZGlnaXRzIGlmIG51bWJlciB0eXBlLlxuXHQgICAgICAgICAgICAgICAgLy8gJ25ldyBCaWdOdW1iZXIoKSBudW1iZXIgdHlwZSBoYXMgbW9yZSB0aGFuIDE1IHNpZ25pZmljYW50IGRpZ2l0czoge259J1xuXHQgICAgICAgICAgICAgICAgaWYgKG51bSAmJiBFUlJPUlMgJiYgbGVuID4gMTUpIHJhaXNlKGlkLCB0b29NYW55RGlnaXRzLCB4LnMgKiBuKTtcblx0XG5cdCAgICAgICAgICAgICAgICBlID0gZSAtIGkgLSAxO1xuXHRcblx0ICAgICAgICAgICAgICAgIC8vIE92ZXJmbG93P1xuXHQgICAgICAgICAgICAgICAgaWYgKGUgPiBNQVhfRVhQKSB7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgIC8vIEluZmluaXR5LlxuXHQgICAgICAgICAgICAgICAgICAgIHguYyA9IHguZSA9IG51bGw7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgIC8vIFVuZGVyZmxvdz9cblx0ICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZSA8IE1JTl9FWFApIHtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgLy8gWmVyby5cblx0ICAgICAgICAgICAgICAgICAgICB4LmMgPSBbeC5lID0gMF07XG5cdCAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgIHguZSA9IGU7XG5cdCAgICAgICAgICAgICAgICAgICAgeC5jID0gW107XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgIC8vIFRyYW5zZm9ybSBiYXNlXG5cdFxuXHQgICAgICAgICAgICAgICAgICAgIC8vIGUgaXMgdGhlIGJhc2UgMTAgZXhwb25lbnQuXG5cdCAgICAgICAgICAgICAgICAgICAgLy8gaSBpcyB3aGVyZSB0byBzbGljZSBzdHIgdG8gZ2V0IHRoZSBmaXJzdCBlbGVtZW50IG9mIHRoZSBjb2VmZmljaWVudCBhcnJheS5cblx0ICAgICAgICAgICAgICAgICAgICBpID0gKGUgKyAxKSAlIExPR19CQVNFO1xuXHQgICAgICAgICAgICAgICAgICAgIGlmIChlIDwgMCkgaSArPSBMT0dfQkFTRTtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKGkgPCBsZW4pIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkpIHguYy5wdXNoKCtzdHIuc2xpY2UoMCwgaSkpO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZW4gLT0gTE9HX0JBU0U7IGkgPCBsZW47KSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB4LmMucHVzaCgrc3RyLnNsaWNlKGksIGkgKz0gTE9HX0JBU0UpKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgc3RyID0gc3RyLnNsaWNlKGkpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBpID0gTE9HX0JBU0UgLSBzdHIubGVuZ3RoO1xuXHQgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGkgLT0gbGVuO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgICAgICAgICAgZm9yICg7IGktLTsgc3RyICs9ICcwJykge31cblx0ICAgICAgICAgICAgICAgICAgICB4LmMucHVzaCgrc3RyKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0XG5cdCAgICAgICAgICAgICAgICAvLyBaZXJvLlxuXHQgICAgICAgICAgICAgICAgeC5jID0gW3guZSA9IDBdO1xuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICBpZCA9IDA7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICAvLyBDT05TVFJVQ1RPUiBQUk9QRVJUSUVTXG5cdFxuXHRcblx0ICAgICAgICBCaWdOdW1iZXIuYW5vdGhlciA9IGFub3RoZXI7XG5cdFxuXHQgICAgICAgIEJpZ051bWJlci5ST1VORF9VUCA9IDA7XG5cdCAgICAgICAgQmlnTnVtYmVyLlJPVU5EX0RPV04gPSAxO1xuXHQgICAgICAgIEJpZ051bWJlci5ST1VORF9DRUlMID0gMjtcblx0ICAgICAgICBCaWdOdW1iZXIuUk9VTkRfRkxPT1IgPSAzO1xuXHQgICAgICAgIEJpZ051bWJlci5ST1VORF9IQUxGX1VQID0gNDtcblx0ICAgICAgICBCaWdOdW1iZXIuUk9VTkRfSEFMRl9ET1dOID0gNTtcblx0ICAgICAgICBCaWdOdW1iZXIuUk9VTkRfSEFMRl9FVkVOID0gNjtcblx0ICAgICAgICBCaWdOdW1iZXIuUk9VTkRfSEFMRl9DRUlMID0gNztcblx0ICAgICAgICBCaWdOdW1iZXIuUk9VTkRfSEFMRl9GTE9PUiA9IDg7XG5cdCAgICAgICAgQmlnTnVtYmVyLkVVQ0xJRCA9IDk7XG5cdFxuXHQgICAgICAgIC8qXG5cdCAgICAgICAgICogQ29uZmlndXJlIGluZnJlcXVlbnRseS1jaGFuZ2luZyBsaWJyYXJ5LXdpZGUgc2V0dGluZ3MuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBBY2NlcHQgYW4gb2JqZWN0IG9yIGFuIGFyZ3VtZW50IGxpc3QsIHdpdGggb25lIG9yIG1hbnkgb2YgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzIG9yXG5cdCAgICAgICAgICogcGFyYW1ldGVycyByZXNwZWN0aXZlbHk6XG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiAgIERFQ0lNQUxfUExBQ0VTICB7bnVtYmVyfSAgSW50ZWdlciwgMCB0byBNQVggaW5jbHVzaXZlXG5cdCAgICAgICAgICogICBST1VORElOR19NT0RFICAge251bWJlcn0gIEludGVnZXIsIDAgdG8gOCBpbmNsdXNpdmVcblx0ICAgICAgICAgKiAgIEVYUE9ORU5USUFMX0FUICB7bnVtYmVyfG51bWJlcltdfSAgSW50ZWdlciwgLU1BWCB0byBNQVggaW5jbHVzaXZlIG9yXG5cdCAgICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtpbnRlZ2VyIC1NQVggdG8gMCBpbmNsLiwgMCB0byBNQVggaW5jbC5dXG5cdCAgICAgICAgICogICBSQU5HRSAgICAgICAgICAge251bWJlcnxudW1iZXJbXX0gIE5vbi16ZXJvIGludGVnZXIsIC1NQVggdG8gTUFYIGluY2x1c2l2ZSBvclxuXHQgICAgICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbaW50ZWdlciAtTUFYIHRvIC0xIGluY2wuLCBpbnRlZ2VyIDEgdG8gTUFYIGluY2wuXVxuXHQgICAgICAgICAqICAgRVJST1JTICAgICAgICAgIHtib29sZWFufG51bWJlcn0gICB0cnVlLCBmYWxzZSwgMSBvciAwXG5cdCAgICAgICAgICogICBDUllQVE8gICAgICAgICAge2Jvb2xlYW58bnVtYmVyfSAgIHRydWUsIGZhbHNlLCAxIG9yIDBcblx0ICAgICAgICAgKiAgIE1PRFVMT19NT0RFICAgICB7bnVtYmVyfSAgICAgICAgICAgMCB0byA5IGluY2x1c2l2ZVxuXHQgICAgICAgICAqICAgUE9XX1BSRUNJU0lPTiAgIHtudW1iZXJ9ICAgICAgICAgICAwIHRvIE1BWCBpbmNsdXNpdmVcblx0ICAgICAgICAgKiAgIEZPUk1BVCAgICAgICAgICB7b2JqZWN0fSAgICAgICAgICAgU2VlIEJpZ051bWJlci5wcm90b3R5cGUudG9Gb3JtYXRcblx0ICAgICAgICAgKiAgICAgIGRlY2ltYWxTZXBhcmF0b3IgICAgICAge3N0cmluZ31cblx0ICAgICAgICAgKiAgICAgIGdyb3VwU2VwYXJhdG9yICAgICAgICAge3N0cmluZ31cblx0ICAgICAgICAgKiAgICAgIGdyb3VwU2l6ZSAgICAgICAgICAgICAge251bWJlcn1cblx0ICAgICAgICAgKiAgICAgIHNlY29uZGFyeUdyb3VwU2l6ZSAgICAge251bWJlcn1cblx0ICAgICAgICAgKiAgICAgIGZyYWN0aW9uR3JvdXBTZXBhcmF0b3Ige3N0cmluZ31cblx0ICAgICAgICAgKiAgICAgIGZyYWN0aW9uR3JvdXBTaXplICAgICAge251bWJlcn1cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIChUaGUgdmFsdWVzIGFzc2lnbmVkIHRvIHRoZSBhYm92ZSBGT1JNQVQgb2JqZWN0IHByb3BlcnRpZXMgYXJlIG5vdCBjaGVja2VkIGZvciB2YWxpZGl0eS4pXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBFLmcuXG5cdCAgICAgICAgICogQmlnTnVtYmVyLmNvbmZpZygyMCwgNCkgaXMgZXF1aXZhbGVudCB0b1xuXHQgICAgICAgICAqIEJpZ051bWJlci5jb25maWcoeyBERUNJTUFMX1BMQUNFUyA6IDIwLCBST1VORElOR19NT0RFIDogNCB9KVxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogSWdub3JlIHByb3BlcnRpZXMvcGFyYW1ldGVycyBzZXQgdG8gbnVsbCBvciB1bmRlZmluZWQuXG5cdCAgICAgICAgICogUmV0dXJuIGFuIG9iamVjdCB3aXRoIHRoZSBwcm9wZXJ0aWVzIGN1cnJlbnQgdmFsdWVzLlxuXHQgICAgICAgICAqL1xuXHQgICAgICAgIEJpZ051bWJlci5jb25maWcgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIHZhciB2LFxuXHQgICAgICAgICAgICAgICAgcCxcblx0ICAgICAgICAgICAgICAgIGkgPSAwLFxuXHQgICAgICAgICAgICAgICAgciA9IHt9LFxuXHQgICAgICAgICAgICAgICAgYSA9IGFyZ3VtZW50cyxcblx0ICAgICAgICAgICAgICAgIG8gPSBhWzBdLFxuXHQgICAgICAgICAgICAgICAgaGFzID0gbyAmJiAodHlwZW9mIG8gPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKG8pKSA9PSAnb2JqZWN0JyA/IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgIGlmIChvLmhhc093blByb3BlcnR5KHApKSByZXR1cm4gKHYgPSBvW3BdKSAhPSBudWxsO1xuXHQgICAgICAgICAgICB9IDogZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgaWYgKGEubGVuZ3RoID4gaSkgcmV0dXJuICh2ID0gYVtpKytdKSAhPSBudWxsO1xuXHQgICAgICAgICAgICB9O1xuXHRcblx0ICAgICAgICAgICAgLy8gREVDSU1BTF9QTEFDRVMge251bWJlcn0gSW50ZWdlciwgMCB0byBNQVggaW5jbHVzaXZlLlxuXHQgICAgICAgICAgICAvLyAnY29uZmlnKCkgREVDSU1BTF9QTEFDRVMgbm90IGFuIGludGVnZXI6IHt2fSdcblx0ICAgICAgICAgICAgLy8gJ2NvbmZpZygpIERFQ0lNQUxfUExBQ0VTIG91dCBvZiByYW5nZToge3Z9J1xuXHQgICAgICAgICAgICBpZiAoaGFzKHAgPSAnREVDSU1BTF9QTEFDRVMnKSAmJiBpc1ZhbGlkSW50KHYsIDAsIE1BWCwgMiwgcCkpIHtcblx0ICAgICAgICAgICAgICAgIERFQ0lNQUxfUExBQ0VTID0gdiB8IDA7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgcltwXSA9IERFQ0lNQUxfUExBQ0VTO1xuXHRcblx0ICAgICAgICAgICAgLy8gUk9VTkRJTkdfTU9ERSB7bnVtYmVyfSBJbnRlZ2VyLCAwIHRvIDggaW5jbHVzaXZlLlxuXHQgICAgICAgICAgICAvLyAnY29uZmlnKCkgUk9VTkRJTkdfTU9ERSBub3QgYW4gaW50ZWdlcjoge3Z9J1xuXHQgICAgICAgICAgICAvLyAnY29uZmlnKCkgUk9VTkRJTkdfTU9ERSBvdXQgb2YgcmFuZ2U6IHt2fSdcblx0ICAgICAgICAgICAgaWYgKGhhcyhwID0gJ1JPVU5ESU5HX01PREUnKSAmJiBpc1ZhbGlkSW50KHYsIDAsIDgsIDIsIHApKSB7XG5cdCAgICAgICAgICAgICAgICBST1VORElOR19NT0RFID0gdiB8IDA7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgcltwXSA9IFJPVU5ESU5HX01PREU7XG5cdFxuXHQgICAgICAgICAgICAvLyBFWFBPTkVOVElBTF9BVCB7bnVtYmVyfG51bWJlcltdfVxuXHQgICAgICAgICAgICAvLyBJbnRlZ2VyLCAtTUFYIHRvIE1BWCBpbmNsdXNpdmUgb3IgW2ludGVnZXIgLU1BWCB0byAwIGluY2x1c2l2ZSwgMCB0byBNQVggaW5jbHVzaXZlXS5cblx0ICAgICAgICAgICAgLy8gJ2NvbmZpZygpIEVYUE9ORU5USUFMX0FUIG5vdCBhbiBpbnRlZ2VyOiB7dn0nXG5cdCAgICAgICAgICAgIC8vICdjb25maWcoKSBFWFBPTkVOVElBTF9BVCBvdXQgb2YgcmFuZ2U6IHt2fSdcblx0ICAgICAgICAgICAgaWYgKGhhcyhwID0gJ0VYUE9ORU5USUFMX0FUJykpIHtcblx0XG5cdCAgICAgICAgICAgICAgICBpZiAoaXNBcnJheSh2KSkge1xuXHQgICAgICAgICAgICAgICAgICAgIGlmIChpc1ZhbGlkSW50KHZbMF0sIC1NQVgsIDAsIDIsIHApICYmIGlzVmFsaWRJbnQodlsxXSwgMCwgTUFYLCAyLCBwKSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBUT19FWFBfTkVHID0gdlswXSB8IDA7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIFRPX0VYUF9QT1MgPSB2WzFdIHwgMDtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlzVmFsaWRJbnQodiwgLU1BWCwgTUFYLCAyLCBwKSkge1xuXHQgICAgICAgICAgICAgICAgICAgIFRPX0VYUF9ORUcgPSAtKFRPX0VYUF9QT1MgPSAodiA8IDAgPyAtdiA6IHYpIHwgMCk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgcltwXSA9IFtUT19FWFBfTkVHLCBUT19FWFBfUE9TXTtcblx0XG5cdCAgICAgICAgICAgIC8vIFJBTkdFIHtudW1iZXJ8bnVtYmVyW119IE5vbi16ZXJvIGludGVnZXIsIC1NQVggdG8gTUFYIGluY2x1c2l2ZSBvclxuXHQgICAgICAgICAgICAvLyBbaW50ZWdlciAtTUFYIHRvIC0xIGluY2x1c2l2ZSwgaW50ZWdlciAxIHRvIE1BWCBpbmNsdXNpdmVdLlxuXHQgICAgICAgICAgICAvLyAnY29uZmlnKCkgUkFOR0Ugbm90IGFuIGludGVnZXI6IHt2fSdcblx0ICAgICAgICAgICAgLy8gJ2NvbmZpZygpIFJBTkdFIGNhbm5vdCBiZSB6ZXJvOiB7dn0nXG5cdCAgICAgICAgICAgIC8vICdjb25maWcoKSBSQU5HRSBvdXQgb2YgcmFuZ2U6IHt2fSdcblx0ICAgICAgICAgICAgaWYgKGhhcyhwID0gJ1JBTkdFJykpIHtcblx0XG5cdCAgICAgICAgICAgICAgICBpZiAoaXNBcnJheSh2KSkge1xuXHQgICAgICAgICAgICAgICAgICAgIGlmIChpc1ZhbGlkSW50KHZbMF0sIC1NQVgsIC0xLCAyLCBwKSAmJiBpc1ZhbGlkSW50KHZbMV0sIDEsIE1BWCwgMiwgcCkpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgTUlOX0VYUCA9IHZbMF0gfCAwO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBNQVhfRVhQID0gdlsxXSB8IDA7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpc1ZhbGlkSW50KHYsIC1NQVgsIE1BWCwgMiwgcCkpIHtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAodiB8IDApIE1JTl9FWFAgPSAtKE1BWF9FWFAgPSAodiA8IDAgPyAtdiA6IHYpIHwgMCk7ZWxzZSBpZiAoRVJST1JTKSByYWlzZSgyLCBwICsgJyBjYW5ub3QgYmUgemVybycsIHYpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHJbcF0gPSBbTUlOX0VYUCwgTUFYX0VYUF07XG5cdFxuXHQgICAgICAgICAgICAvLyBFUlJPUlMge2Jvb2xlYW58bnVtYmVyfSB0cnVlLCBmYWxzZSwgMSBvciAwLlxuXHQgICAgICAgICAgICAvLyAnY29uZmlnKCkgRVJST1JTIG5vdCBhIGJvb2xlYW4gb3IgYmluYXJ5IGRpZ2l0OiB7dn0nXG5cdCAgICAgICAgICAgIGlmIChoYXMocCA9ICdFUlJPUlMnKSkge1xuXHRcblx0ICAgICAgICAgICAgICAgIGlmICh2ID09PSAhIXYgfHwgdiA9PT0gMSB8fCB2ID09PSAwKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgaWQgPSAwO1xuXHQgICAgICAgICAgICAgICAgICAgIGlzVmFsaWRJbnQgPSAoRVJST1JTID0gISF2KSA/IGludFZhbGlkYXRvcldpdGhFcnJvcnMgOiBpbnRWYWxpZGF0b3JOb0Vycm9ycztcblx0ICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoRVJST1JTKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmFpc2UoMiwgcCArIG5vdEJvb2wsIHYpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHJbcF0gPSBFUlJPUlM7XG5cdFxuXHQgICAgICAgICAgICAvLyBDUllQVE8ge2Jvb2xlYW58bnVtYmVyfSB0cnVlLCBmYWxzZSwgMSBvciAwLlxuXHQgICAgICAgICAgICAvLyAnY29uZmlnKCkgQ1JZUFRPIG5vdCBhIGJvb2xlYW4gb3IgYmluYXJ5IGRpZ2l0OiB7dn0nXG5cdCAgICAgICAgICAgIC8vICdjb25maWcoKSBjcnlwdG8gdW5hdmFpbGFibGU6IHtjcnlwdG99J1xuXHQgICAgICAgICAgICBpZiAoaGFzKHAgPSAnQ1JZUFRPJykpIHtcblx0XG5cdCAgICAgICAgICAgICAgICBpZiAodiA9PT0gISF2IHx8IHYgPT09IDEgfHwgdiA9PT0gMCkge1xuXHQgICAgICAgICAgICAgICAgICAgIENSWVBUTyA9ICEhKHYgJiYgY3J5cHRvICYmICh0eXBlb2YgY3J5cHRvID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihjcnlwdG8pKSA9PSAnb2JqZWN0Jyk7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKHYgJiYgIUNSWVBUTyAmJiBFUlJPUlMpIHJhaXNlKDIsICdjcnlwdG8gdW5hdmFpbGFibGUnLCBjcnlwdG8pO1xuXHQgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChFUlJPUlMpIHtcblx0ICAgICAgICAgICAgICAgICAgICByYWlzZSgyLCBwICsgbm90Qm9vbCwgdik7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgcltwXSA9IENSWVBUTztcblx0XG5cdCAgICAgICAgICAgIC8vIE1PRFVMT19NT0RFIHtudW1iZXJ9IEludGVnZXIsIDAgdG8gOSBpbmNsdXNpdmUuXG5cdCAgICAgICAgICAgIC8vICdjb25maWcoKSBNT0RVTE9fTU9ERSBub3QgYW4gaW50ZWdlcjoge3Z9J1xuXHQgICAgICAgICAgICAvLyAnY29uZmlnKCkgTU9EVUxPX01PREUgb3V0IG9mIHJhbmdlOiB7dn0nXG5cdCAgICAgICAgICAgIGlmIChoYXMocCA9ICdNT0RVTE9fTU9ERScpICYmIGlzVmFsaWRJbnQodiwgMCwgOSwgMiwgcCkpIHtcblx0ICAgICAgICAgICAgICAgIE1PRFVMT19NT0RFID0gdiB8IDA7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgcltwXSA9IE1PRFVMT19NT0RFO1xuXHRcblx0ICAgICAgICAgICAgLy8gUE9XX1BSRUNJU0lPTiB7bnVtYmVyfSBJbnRlZ2VyLCAwIHRvIE1BWCBpbmNsdXNpdmUuXG5cdCAgICAgICAgICAgIC8vICdjb25maWcoKSBQT1dfUFJFQ0lTSU9OIG5vdCBhbiBpbnRlZ2VyOiB7dn0nXG5cdCAgICAgICAgICAgIC8vICdjb25maWcoKSBQT1dfUFJFQ0lTSU9OIG91dCBvZiByYW5nZToge3Z9J1xuXHQgICAgICAgICAgICBpZiAoaGFzKHAgPSAnUE9XX1BSRUNJU0lPTicpICYmIGlzVmFsaWRJbnQodiwgMCwgTUFYLCAyLCBwKSkge1xuXHQgICAgICAgICAgICAgICAgUE9XX1BSRUNJU0lPTiA9IHYgfCAwO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHJbcF0gPSBQT1dfUFJFQ0lTSU9OO1xuXHRcblx0ICAgICAgICAgICAgLy8gRk9STUFUIHtvYmplY3R9XG5cdCAgICAgICAgICAgIC8vICdjb25maWcoKSBGT1JNQVQgbm90IGFuIG9iamVjdDoge3Z9J1xuXHQgICAgICAgICAgICBpZiAoaGFzKHAgPSAnRk9STUFUJykpIHtcblx0XG5cdCAgICAgICAgICAgICAgICBpZiAoKHR5cGVvZiB2ID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZih2KSkgPT0gJ29iamVjdCcpIHtcblx0ICAgICAgICAgICAgICAgICAgICBGT1JNQVQgPSB2O1xuXHQgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChFUlJPUlMpIHtcblx0ICAgICAgICAgICAgICAgICAgICByYWlzZSgyLCBwICsgJyBub3QgYW4gb2JqZWN0Jywgdik7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgcltwXSA9IEZPUk1BVDtcblx0XG5cdCAgICAgICAgICAgIHJldHVybiByO1xuXHQgICAgICAgIH07XG5cdFxuXHQgICAgICAgIC8qXG5cdCAgICAgICAgICogUmV0dXJuIGEgbmV3IEJpZ051bWJlciB3aG9zZSB2YWx1ZSBpcyB0aGUgbWF4aW11bSBvZiB0aGUgYXJndW1lbnRzLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogYXJndW1lbnRzIHtudW1iZXJ8c3RyaW5nfEJpZ051bWJlcn1cblx0ICAgICAgICAgKi9cblx0ICAgICAgICBCaWdOdW1iZXIubWF4ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICByZXR1cm4gbWF4T3JNaW4oYXJndW1lbnRzLCBQLmx0KTtcblx0ICAgICAgICB9O1xuXHRcblx0ICAgICAgICAvKlxuXHQgICAgICAgICAqIFJldHVybiBhIG5ldyBCaWdOdW1iZXIgd2hvc2UgdmFsdWUgaXMgdGhlIG1pbmltdW0gb2YgdGhlIGFyZ3VtZW50cy5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIGFyZ3VtZW50cyB7bnVtYmVyfHN0cmluZ3xCaWdOdW1iZXJ9XG5cdCAgICAgICAgICovXG5cdCAgICAgICAgQmlnTnVtYmVyLm1pbiA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIG1heE9yTWluKGFyZ3VtZW50cywgUC5ndCk7XG5cdCAgICAgICAgfTtcblx0XG5cdCAgICAgICAgLypcblx0ICAgICAgICAgKiBSZXR1cm4gYSBuZXcgQmlnTnVtYmVyIHdpdGggYSByYW5kb20gdmFsdWUgZXF1YWwgdG8gb3IgZ3JlYXRlciB0aGFuIDAgYW5kIGxlc3MgdGhhbiAxLFxuXHQgICAgICAgICAqIGFuZCB3aXRoIGRwLCBvciBERUNJTUFMX1BMQUNFUyBpZiBkcCBpcyBvbWl0dGVkLCBkZWNpbWFsIHBsYWNlcyAob3IgbGVzcyBpZiB0cmFpbGluZ1xuXHQgICAgICAgICAqIHplcm9zIGFyZSBwcm9kdWNlZCkuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBbZHBdIHtudW1iZXJ9IERlY2ltYWwgcGxhY2VzLiBJbnRlZ2VyLCAwIHRvIE1BWCBpbmNsdXNpdmUuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiAncmFuZG9tKCkgZGVjaW1hbCBwbGFjZXMgbm90IGFuIGludGVnZXI6IHtkcH0nXG5cdCAgICAgICAgICogJ3JhbmRvbSgpIGRlY2ltYWwgcGxhY2VzIG91dCBvZiByYW5nZToge2RwfSdcblx0ICAgICAgICAgKiAncmFuZG9tKCkgY3J5cHRvIHVuYXZhaWxhYmxlOiB7Y3J5cHRvfSdcblx0ICAgICAgICAgKi9cblx0ICAgICAgICBCaWdOdW1iZXIucmFuZG9tID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICB2YXIgcG93Ml81MyA9IDB4MjAwMDAwMDAwMDAwMDA7XG5cdFxuXHQgICAgICAgICAgICAvLyBSZXR1cm4gYSA1MyBiaXQgaW50ZWdlciBuLCB3aGVyZSAwIDw9IG4gPCA5MDA3MTk5MjU0NzQwOTkyLlxuXHQgICAgICAgICAgICAvLyBDaGVjayBpZiBNYXRoLnJhbmRvbSgpIHByb2R1Y2VzIG1vcmUgdGhhbiAzMiBiaXRzIG9mIHJhbmRvbW5lc3MuXG5cdCAgICAgICAgICAgIC8vIElmIGl0IGRvZXMsIGFzc3VtZSBhdCBsZWFzdCA1MyBiaXRzIGFyZSBwcm9kdWNlZCwgb3RoZXJ3aXNlIGFzc3VtZSBhdCBsZWFzdCAzMCBiaXRzLlxuXHQgICAgICAgICAgICAvLyAweDQwMDAwMDAwIGlzIDJeMzAsIDB4ODAwMDAwIGlzIDJeMjMsIDB4MWZmZmZmIGlzIDJeMjEgLSAxLlxuXHQgICAgICAgICAgICB2YXIgcmFuZG9tNTNiaXRJbnQgPSBNYXRoLnJhbmRvbSgpICogcG93Ml81MyAmIDB4MWZmZmZmID8gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIG1hdGhmbG9vcihNYXRoLnJhbmRvbSgpICogcG93Ml81Myk7XG5cdCAgICAgICAgICAgIH0gOiBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gKE1hdGgucmFuZG9tKCkgKiAweDQwMDAwMDAwIHwgMCkgKiAweDgwMDAwMCArIChNYXRoLnJhbmRvbSgpICogMHg4MDAwMDAgfCAwKTtcblx0ICAgICAgICAgICAgfTtcblx0XG5cdCAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoZHApIHtcblx0ICAgICAgICAgICAgICAgIHZhciBhLFxuXHQgICAgICAgICAgICAgICAgICAgIGIsXG5cdCAgICAgICAgICAgICAgICAgICAgZSxcblx0ICAgICAgICAgICAgICAgICAgICBrLFxuXHQgICAgICAgICAgICAgICAgICAgIHYsXG5cdCAgICAgICAgICAgICAgICAgICAgaSA9IDAsXG5cdCAgICAgICAgICAgICAgICAgICAgYyA9IFtdLFxuXHQgICAgICAgICAgICAgICAgICAgIHJhbmQgPSBuZXcgQmlnTnVtYmVyKE9ORSk7XG5cdFxuXHQgICAgICAgICAgICAgICAgZHAgPSBkcCA9PSBudWxsIHx8ICFpc1ZhbGlkSW50KGRwLCAwLCBNQVgsIDE0KSA/IERFQ0lNQUxfUExBQ0VTIDogZHAgfCAwO1xuXHQgICAgICAgICAgICAgICAgayA9IG1hdGhjZWlsKGRwIC8gTE9HX0JBU0UpO1xuXHRcblx0ICAgICAgICAgICAgICAgIGlmIChDUllQVE8pIHtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgLy8gQnJvd3NlcnMgc3VwcG9ydGluZyBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzLlxuXHQgICAgICAgICAgICAgICAgICAgIGlmIChjcnlwdG8gJiYgY3J5cHRvLmdldFJhbmRvbVZhbHVlcykge1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgYSA9IGNyeXB0by5nZXRSYW5kb21WYWx1ZXMobmV3IFVpbnQzMkFycmF5KGsgKj0gMikpO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgZm9yICg7IGkgPCBrOykge1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDUzIGJpdHM6XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAoKE1hdGgucG93KDIsIDMyKSAtIDEpICogTWF0aC5wb3coMiwgMjEpKS50b1N0cmluZygyKVxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gMTExMTEgMTExMTExMTEgMTExMTExMTEgMTExMTExMTEgMTExMDAwMDAgMDAwMDAwMDAgMDAwMDAwMDBcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICgoTWF0aC5wb3coMiwgMzIpIC0gMSkgPj4+IDExKS50b1N0cmluZygyKVxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMTExMTEgMTExMTExMTEgMTExMTExMTFcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDB4MjAwMDAgaXMgMl4yMS5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYgPSBhW2ldICogMHgyMDAwMCArIChhW2kgKyAxXSA+Pj4gMTEpO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlamVjdGlvbiBzYW1wbGluZzpcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDAgPD0gdiA8IDkwMDcxOTkyNTQ3NDA5OTJcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFByb2JhYmlsaXR5IHRoYXQgdiA+PSA5ZTE1LCBpc1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gNzE5OTI1NDc0MDk5MiAvIDkwMDcxOTkyNTQ3NDA5OTIgfj0gMC4wMDA4LCBpLmUuIDEgaW4gMTI1MVxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHYgPj0gOWUxNSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGIgPSBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50MzJBcnJheSgyKSk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYVtpXSA9IGJbMF07XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYVtpICsgMV0gPSBiWzFdO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gMCA8PSB2IDw9IDg5OTk5OTk5OTk5OTk5OTlcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAwIDw9ICh2ICUgMWUxNCkgPD0gOTk5OTk5OTk5OTk5OTlcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjLnB1c2godiAlIDFlMTQpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgKz0gMjtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgICAgICBpID0gayAvIDI7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAvLyBOb2RlLmpzIHN1cHBvcnRpbmcgY3J5cHRvLnJhbmRvbUJ5dGVzLlxuXHQgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY3J5cHRvICYmIGNyeXB0by5yYW5kb21CeXRlcykge1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgLy8gYnVmZmVyXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGEgPSBjcnlwdG8ucmFuZG9tQnl0ZXMoayAqPSA3KTtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoOyBpIDwgazspIHtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAweDEwMDAwMDAwMDAwMDAgaXMgMl40OCwgMHgxMDAwMDAwMDAwMCBpcyAyXjQwXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAweDEwMDAwMDAwMCBpcyAyXjMyLCAweDEwMDAwMDAgaXMgMl4yNFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gMTExMTEgMTExMTExMTEgMTExMTExMTEgMTExMTExMTEgMTExMTExMTEgMTExMTExMTEgMTExMTExMTFcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDAgPD0gdiA8IDkwMDcxOTkyNTQ3NDA5OTJcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYgPSAoYVtpXSAmIDMxKSAqIDB4MTAwMDAwMDAwMDAwMCArIGFbaSArIDFdICogMHgxMDAwMDAwMDAwMCArIGFbaSArIDJdICogMHgxMDAwMDAwMDAgKyBhW2kgKyAzXSAqIDB4MTAwMDAwMCArIChhW2kgKyA0XSA8PCAxNikgKyAoYVtpICsgNV0gPDwgOCkgKyBhW2kgKyA2XTtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodiA+PSA5ZTE1KSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3J5cHRvLnJhbmRvbUJ5dGVzKDcpLmNvcHkoYSwgaSk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAwIDw9ICh2ICUgMWUxNCkgPD0gOTk5OTk5OTk5OTk5OTlcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjLnB1c2godiAlIDFlMTQpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgKz0gNztcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgICAgICBpID0gayAvIDc7XG5cdCAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChFUlJPUlMpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmFpc2UoMTQsICdjcnlwdG8gdW5hdmFpbGFibGUnLCBjcnlwdG8pO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgICAgICAvLyBVc2UgTWF0aC5yYW5kb206IENSWVBUTyBpcyBmYWxzZSBvciBjcnlwdG8gaXMgdW5hdmFpbGFibGUgYW5kIEVSUk9SUyBpcyBmYWxzZS5cblx0ICAgICAgICAgICAgICAgIGlmICghaSkge1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICBmb3IgKDsgaSA8IGs7KSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHYgPSByYW5kb201M2JpdEludCgpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBpZiAodiA8IDllMTUpIGNbaSsrXSA9IHYgJSAxZTE0O1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgICAgICBrID0gY1stLWldO1xuXHQgICAgICAgICAgICAgICAgZHAgJT0gTE9HX0JBU0U7XG5cdFxuXHQgICAgICAgICAgICAgICAgLy8gQ29udmVydCB0cmFpbGluZyBkaWdpdHMgdG8gemVyb3MgYWNjb3JkaW5nIHRvIGRwLlxuXHQgICAgICAgICAgICAgICAgaWYgKGsgJiYgZHApIHtcblx0ICAgICAgICAgICAgICAgICAgICB2ID0gUE9XU19URU5bTE9HX0JBU0UgLSBkcF07XG5cdCAgICAgICAgICAgICAgICAgICAgY1tpXSA9IG1hdGhmbG9vcihrIC8gdikgKiB2O1xuXHQgICAgICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgICAgIC8vIFJlbW92ZSB0cmFpbGluZyBlbGVtZW50cyB3aGljaCBhcmUgemVyby5cblx0ICAgICAgICAgICAgICAgIGZvciAoOyBjW2ldID09PSAwOyBjLnBvcCgpLCBpLS0pIHt9XG5cdFxuXHQgICAgICAgICAgICAgICAgLy8gWmVybz9cblx0ICAgICAgICAgICAgICAgIGlmIChpIDwgMCkge1xuXHQgICAgICAgICAgICAgICAgICAgIGMgPSBbZSA9IDBdO1xuXHQgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIGxlYWRpbmcgZWxlbWVudHMgd2hpY2ggYXJlIHplcm8gYW5kIGFkanVzdCBleHBvbmVudCBhY2NvcmRpbmdseS5cblx0ICAgICAgICAgICAgICAgICAgICBmb3IgKGUgPSAtMTsgY1swXSA9PT0gMDsgYy5zaGlmdCgpLCBlIC09IExPR19CQVNFKSB7fVxuXHRcblx0ICAgICAgICAgICAgICAgICAgICAvLyBDb3VudCB0aGUgZGlnaXRzIG9mIHRoZSBmaXJzdCBlbGVtZW50IG9mIGMgdG8gZGV0ZXJtaW5lIGxlYWRpbmcgemVyb3MsIGFuZC4uLlxuXHQgICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDEsIHYgPSBjWzBdOyB2ID49IDEwOyB2IC89IDEwLCBpKyspIHt9XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgIC8vIGFkanVzdCB0aGUgZXhwb25lbnQgYWNjb3JkaW5nbHkuXG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKGkgPCBMT0dfQkFTRSkgZSAtPSBMT0dfQkFTRSAtIGk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICAgICAgcmFuZC5lID0gZTtcblx0ICAgICAgICAgICAgICAgIHJhbmQuYyA9IGM7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gcmFuZDtcblx0ICAgICAgICAgICAgfTtcblx0ICAgICAgICB9KCk7XG5cdFxuXHQgICAgICAgIC8vIFBSSVZBVEUgRlVOQ1RJT05TXG5cdFxuXHRcblx0ICAgICAgICAvLyBDb252ZXJ0IGEgbnVtZXJpYyBzdHJpbmcgb2YgYmFzZUluIHRvIGEgbnVtZXJpYyBzdHJpbmcgb2YgYmFzZU91dC5cblx0ICAgICAgICBmdW5jdGlvbiBjb252ZXJ0QmFzZShzdHIsIGJhc2VPdXQsIGJhc2VJbiwgc2lnbikge1xuXHQgICAgICAgICAgICB2YXIgZCxcblx0ICAgICAgICAgICAgICAgIGUsXG5cdCAgICAgICAgICAgICAgICBrLFxuXHQgICAgICAgICAgICAgICAgcixcblx0ICAgICAgICAgICAgICAgIHgsXG5cdCAgICAgICAgICAgICAgICB4Yyxcblx0ICAgICAgICAgICAgICAgIHksXG5cdCAgICAgICAgICAgICAgICBpID0gc3RyLmluZGV4T2YoJy4nKSxcblx0ICAgICAgICAgICAgICAgIGRwID0gREVDSU1BTF9QTEFDRVMsXG5cdCAgICAgICAgICAgICAgICBybSA9IFJPVU5ESU5HX01PREU7XG5cdFxuXHQgICAgICAgICAgICBpZiAoYmFzZUluIDwgMzcpIHN0ciA9IHN0ci50b0xvd2VyQ2FzZSgpO1xuXHRcblx0ICAgICAgICAgICAgLy8gTm9uLWludGVnZXIuXG5cdCAgICAgICAgICAgIGlmIChpID49IDApIHtcblx0ICAgICAgICAgICAgICAgIGsgPSBQT1dfUFJFQ0lTSU9OO1xuXHRcblx0ICAgICAgICAgICAgICAgIC8vIFVubGltaXRlZCBwcmVjaXNpb24uXG5cdCAgICAgICAgICAgICAgICBQT1dfUFJFQ0lTSU9OID0gMDtcblx0ICAgICAgICAgICAgICAgIHN0ciA9IHN0ci5yZXBsYWNlKCcuJywgJycpO1xuXHQgICAgICAgICAgICAgICAgeSA9IG5ldyBCaWdOdW1iZXIoYmFzZUluKTtcblx0ICAgICAgICAgICAgICAgIHggPSB5LnBvdyhzdHIubGVuZ3RoIC0gaSk7XG5cdCAgICAgICAgICAgICAgICBQT1dfUFJFQ0lTSU9OID0gaztcblx0XG5cdCAgICAgICAgICAgICAgICAvLyBDb252ZXJ0IHN0ciBhcyBpZiBhbiBpbnRlZ2VyLCB0aGVuIHJlc3RvcmUgdGhlIGZyYWN0aW9uIHBhcnQgYnkgZGl2aWRpbmcgdGhlXG5cdCAgICAgICAgICAgICAgICAvLyByZXN1bHQgYnkgaXRzIGJhc2UgcmFpc2VkIHRvIGEgcG93ZXIuXG5cdCAgICAgICAgICAgICAgICB5LmMgPSB0b0Jhc2VPdXQodG9GaXhlZFBvaW50KGNvZWZmVG9TdHJpbmcoeC5jKSwgeC5lKSwgMTAsIGJhc2VPdXQpO1xuXHQgICAgICAgICAgICAgICAgeS5lID0geS5jLmxlbmd0aDtcblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgLy8gQ29udmVydCB0aGUgbnVtYmVyIGFzIGludGVnZXIuXG5cdCAgICAgICAgICAgIHhjID0gdG9CYXNlT3V0KHN0ciwgYmFzZUluLCBiYXNlT3V0KTtcblx0ICAgICAgICAgICAgZSA9IGsgPSB4Yy5sZW5ndGg7XG5cdFxuXHQgICAgICAgICAgICAvLyBSZW1vdmUgdHJhaWxpbmcgemVyb3MuXG5cdCAgICAgICAgICAgIGZvciAoOyB4Y1stLWtdID09IDA7IHhjLnBvcCgpKSB7fVxuXHQgICAgICAgICAgICBpZiAoIXhjWzBdKSByZXR1cm4gJzAnO1xuXHRcblx0ICAgICAgICAgICAgaWYgKGkgPCAwKSB7XG5cdCAgICAgICAgICAgICAgICAtLWU7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICB4LmMgPSB4Yztcblx0ICAgICAgICAgICAgICAgIHguZSA9IGU7XG5cdFxuXHQgICAgICAgICAgICAgICAgLy8gc2lnbiBpcyBuZWVkZWQgZm9yIGNvcnJlY3Qgcm91bmRpbmcuXG5cdCAgICAgICAgICAgICAgICB4LnMgPSBzaWduO1xuXHQgICAgICAgICAgICAgICAgeCA9IGRpdih4LCB5LCBkcCwgcm0sIGJhc2VPdXQpO1xuXHQgICAgICAgICAgICAgICAgeGMgPSB4LmM7XG5cdCAgICAgICAgICAgICAgICByID0geC5yO1xuXHQgICAgICAgICAgICAgICAgZSA9IHguZTtcblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgZCA9IGUgKyBkcCArIDE7XG5cdFxuXHQgICAgICAgICAgICAvLyBUaGUgcm91bmRpbmcgZGlnaXQsIGkuZS4gdGhlIGRpZ2l0IHRvIHRoZSByaWdodCBvZiB0aGUgZGlnaXQgdGhhdCBtYXkgYmUgcm91bmRlZCB1cC5cblx0ICAgICAgICAgICAgaSA9IHhjW2RdO1xuXHQgICAgICAgICAgICBrID0gYmFzZU91dCAvIDI7XG5cdCAgICAgICAgICAgIHIgPSByIHx8IGQgPCAwIHx8IHhjW2QgKyAxXSAhPSBudWxsO1xuXHRcblx0ICAgICAgICAgICAgciA9IHJtIDwgNCA/IChpICE9IG51bGwgfHwgcikgJiYgKHJtID09IDAgfHwgcm0gPT0gKHgucyA8IDAgPyAzIDogMikpIDogaSA+IGsgfHwgaSA9PSBrICYmIChybSA9PSA0IHx8IHIgfHwgcm0gPT0gNiAmJiB4Y1tkIC0gMV0gJiAxIHx8IHJtID09ICh4LnMgPCAwID8gOCA6IDcpKTtcblx0XG5cdCAgICAgICAgICAgIGlmIChkIDwgMSB8fCAheGNbMF0pIHtcblx0XG5cdCAgICAgICAgICAgICAgICAvLyAxXi1kcCBvciAwLlxuXHQgICAgICAgICAgICAgICAgc3RyID0gciA/IHRvRml4ZWRQb2ludCgnMScsIC1kcCkgOiAnMCc7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICB4Yy5sZW5ndGggPSBkO1xuXHRcblx0ICAgICAgICAgICAgICAgIGlmIChyKSB7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgIC8vIFJvdW5kaW5nIHVwIG1heSBtZWFuIHRoZSBwcmV2aW91cyBkaWdpdCBoYXMgdG8gYmUgcm91bmRlZCB1cCBhbmQgc28gb24uXG5cdCAgICAgICAgICAgICAgICAgICAgZm9yICgtLWJhc2VPdXQ7ICsreGNbLS1kXSA+IGJhc2VPdXQ7KSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHhjW2RdID0gMDtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgKytlO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgeGMudW5zaGlmdCgxKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgICAgICAvLyBEZXRlcm1pbmUgdHJhaWxpbmcgemVyb3MuXG5cdCAgICAgICAgICAgICAgICBmb3IgKGsgPSB4Yy5sZW5ndGg7ICF4Y1stLWtdOykge31cblx0XG5cdCAgICAgICAgICAgICAgICAvLyBFLmcuIFs0LCAxMSwgMTVdIGJlY29tZXMgNGJmLlxuXHQgICAgICAgICAgICAgICAgZm9yIChpID0gMCwgc3RyID0gJyc7IGkgPD0gazsgc3RyICs9IEFMUEhBQkVULmNoYXJBdCh4Y1tpKytdKSkge31cblx0ICAgICAgICAgICAgICAgIHN0ciA9IHRvRml4ZWRQb2ludChzdHIsIGUpO1xuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICAvLyBUaGUgY2FsbGVyIHdpbGwgYWRkIHRoZSBzaWduLlxuXHQgICAgICAgICAgICByZXR1cm4gc3RyO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgLy8gUGVyZm9ybSBkaXZpc2lvbiBpbiB0aGUgc3BlY2lmaWVkIGJhc2UuIENhbGxlZCBieSBkaXYgYW5kIGNvbnZlcnRCYXNlLlxuXHQgICAgICAgIGRpdiA9IGZ1bmN0aW9uICgpIHtcblx0XG5cdCAgICAgICAgICAgIC8vIEFzc3VtZSBub24temVybyB4IGFuZCBrLlxuXHQgICAgICAgICAgICBmdW5jdGlvbiBtdWx0aXBseSh4LCBrLCBiYXNlKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgbSxcblx0ICAgICAgICAgICAgICAgICAgICB0ZW1wLFxuXHQgICAgICAgICAgICAgICAgICAgIHhsbyxcblx0ICAgICAgICAgICAgICAgICAgICB4aGksXG5cdCAgICAgICAgICAgICAgICAgICAgY2FycnkgPSAwLFxuXHQgICAgICAgICAgICAgICAgICAgIGkgPSB4Lmxlbmd0aCxcblx0ICAgICAgICAgICAgICAgICAgICBrbG8gPSBrICUgU1FSVF9CQVNFLFxuXHQgICAgICAgICAgICAgICAgICAgIGtoaSA9IGsgLyBTUVJUX0JBU0UgfCAwO1xuXHRcblx0ICAgICAgICAgICAgICAgIGZvciAoeCA9IHguc2xpY2UoKTsgaS0tOykge1xuXHQgICAgICAgICAgICAgICAgICAgIHhsbyA9IHhbaV0gJSBTUVJUX0JBU0U7XG5cdCAgICAgICAgICAgICAgICAgICAgeGhpID0geFtpXSAvIFNRUlRfQkFTRSB8IDA7XG5cdCAgICAgICAgICAgICAgICAgICAgbSA9IGtoaSAqIHhsbyArIHhoaSAqIGtsbztcblx0ICAgICAgICAgICAgICAgICAgICB0ZW1wID0ga2xvICogeGxvICsgbSAlIFNRUlRfQkFTRSAqIFNRUlRfQkFTRSArIGNhcnJ5O1xuXHQgICAgICAgICAgICAgICAgICAgIGNhcnJ5ID0gKHRlbXAgLyBiYXNlIHwgMCkgKyAobSAvIFNRUlRfQkFTRSB8IDApICsga2hpICogeGhpO1xuXHQgICAgICAgICAgICAgICAgICAgIHhbaV0gPSB0ZW1wICUgYmFzZTtcblx0ICAgICAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgICAgICBpZiAoY2FycnkpIHgudW5zaGlmdChjYXJyeSk7XG5cdFxuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHg7XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIGZ1bmN0aW9uIGNvbXBhcmUoYSwgYiwgYUwsIGJMKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgaSwgY21wO1xuXHRcblx0ICAgICAgICAgICAgICAgIGlmIChhTCAhPSBiTCkge1xuXHQgICAgICAgICAgICAgICAgICAgIGNtcCA9IGFMID4gYkwgPyAxIDogLTE7XG5cdCAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSBjbXAgPSAwOyBpIDwgYUw7IGkrKykge1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFbaV0gIT0gYltpXSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgY21wID0gYVtpXSA+IGJbaV0gPyAxIDogLTE7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIHJldHVybiBjbXA7XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIGZ1bmN0aW9uIHN1YnRyYWN0KGEsIGIsIGFMLCBiYXNlKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgaSA9IDA7XG5cdFxuXHQgICAgICAgICAgICAgICAgLy8gU3VidHJhY3QgYiBmcm9tIGEuXG5cdCAgICAgICAgICAgICAgICBmb3IgKDsgYUwtLTspIHtcblx0ICAgICAgICAgICAgICAgICAgICBhW2FMXSAtPSBpO1xuXHQgICAgICAgICAgICAgICAgICAgIGkgPSBhW2FMXSA8IGJbYUxdID8gMSA6IDA7XG5cdCAgICAgICAgICAgICAgICAgICAgYVthTF0gPSBpICogYmFzZSArIGFbYUxdIC0gYlthTF07XG5cdCAgICAgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIGxlYWRpbmcgemVyb3MuXG5cdCAgICAgICAgICAgICAgICBmb3IgKDsgIWFbMF0gJiYgYS5sZW5ndGggPiAxOyBhLnNoaWZ0KCkpIHt9XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIC8vIHg6IGRpdmlkZW5kLCB5OiBkaXZpc29yLlxuXHQgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHgsIHksIGRwLCBybSwgYmFzZSkge1xuXHQgICAgICAgICAgICAgICAgdmFyIGNtcCxcblx0ICAgICAgICAgICAgICAgICAgICBlLFxuXHQgICAgICAgICAgICAgICAgICAgIGksXG5cdCAgICAgICAgICAgICAgICAgICAgbW9yZSxcblx0ICAgICAgICAgICAgICAgICAgICBuLFxuXHQgICAgICAgICAgICAgICAgICAgIHByb2QsXG5cdCAgICAgICAgICAgICAgICAgICAgcHJvZEwsXG5cdCAgICAgICAgICAgICAgICAgICAgcSxcblx0ICAgICAgICAgICAgICAgICAgICBxYyxcblx0ICAgICAgICAgICAgICAgICAgICByZW0sXG5cdCAgICAgICAgICAgICAgICAgICAgcmVtTCxcblx0ICAgICAgICAgICAgICAgICAgICByZW0wLFxuXHQgICAgICAgICAgICAgICAgICAgIHhpLFxuXHQgICAgICAgICAgICAgICAgICAgIHhMLFxuXHQgICAgICAgICAgICAgICAgICAgIHljMCxcblx0ICAgICAgICAgICAgICAgICAgICB5TCxcblx0ICAgICAgICAgICAgICAgICAgICB5eixcblx0ICAgICAgICAgICAgICAgICAgICBzID0geC5zID09IHkucyA/IDEgOiAtMSxcblx0ICAgICAgICAgICAgICAgICAgICB4YyA9IHguYyxcblx0ICAgICAgICAgICAgICAgICAgICB5YyA9IHkuYztcblx0XG5cdCAgICAgICAgICAgICAgICAvLyBFaXRoZXIgTmFOLCBJbmZpbml0eSBvciAwP1xuXHQgICAgICAgICAgICAgICAgaWYgKCF4YyB8fCAheGNbMF0gfHwgIXljIHx8ICF5Y1swXSkge1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEJpZ051bWJlcihcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgLy8gUmV0dXJuIE5hTiBpZiBlaXRoZXIgTmFOLCBvciBib3RoIEluZmluaXR5IG9yIDAuXG5cdCAgICAgICAgICAgICAgICAgICAgIXgucyB8fCAheS5zIHx8ICh4YyA/IHljICYmIHhjWzBdID09IHljWzBdIDogIXljKSA/IE5hTiA6XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgIC8vIFJldHVybiDCsTAgaWYgeCBpcyDCsTAgb3IgeSBpcyDCsUluZmluaXR5LCBvciByZXR1cm4gwrFJbmZpbml0eSBhcyB5IGlzIMKxMC5cblx0ICAgICAgICAgICAgICAgICAgICB4YyAmJiB4Y1swXSA9PSAwIHx8ICF5YyA/IHMgKiAwIDogcyAvIDApO1xuXHQgICAgICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgICAgIHEgPSBuZXcgQmlnTnVtYmVyKHMpO1xuXHQgICAgICAgICAgICAgICAgcWMgPSBxLmMgPSBbXTtcblx0ICAgICAgICAgICAgICAgIGUgPSB4LmUgLSB5LmU7XG5cdCAgICAgICAgICAgICAgICBzID0gZHAgKyBlICsgMTtcblx0XG5cdCAgICAgICAgICAgICAgICBpZiAoIWJhc2UpIHtcblx0ICAgICAgICAgICAgICAgICAgICBiYXNlID0gQkFTRTtcblx0ICAgICAgICAgICAgICAgICAgICBlID0gYml0Rmxvb3IoeC5lIC8gTE9HX0JBU0UpIC0gYml0Rmxvb3IoeS5lIC8gTE9HX0JBU0UpO1xuXHQgICAgICAgICAgICAgICAgICAgIHMgPSBzIC8gTE9HX0JBU0UgfCAwO1xuXHQgICAgICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgICAgIC8vIFJlc3VsdCBleHBvbmVudCBtYXkgYmUgb25lIGxlc3MgdGhlbiB0aGUgY3VycmVudCB2YWx1ZSBvZiBlLlxuXHQgICAgICAgICAgICAgICAgLy8gVGhlIGNvZWZmaWNpZW50cyBvZiB0aGUgQmlnTnVtYmVycyBmcm9tIGNvbnZlcnRCYXNlIG1heSBoYXZlIHRyYWlsaW5nIHplcm9zLlxuXHQgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgeWNbaV0gPT0gKHhjW2ldIHx8IDApOyBpKyspIHt9XG5cdCAgICAgICAgICAgICAgICBpZiAoeWNbaV0gPiAoeGNbaV0gfHwgMCkpIGUtLTtcblx0XG5cdCAgICAgICAgICAgICAgICBpZiAocyA8IDApIHtcblx0ICAgICAgICAgICAgICAgICAgICBxYy5wdXNoKDEpO1xuXHQgICAgICAgICAgICAgICAgICAgIG1vcmUgPSB0cnVlO1xuXHQgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICB4TCA9IHhjLmxlbmd0aDtcblx0ICAgICAgICAgICAgICAgICAgICB5TCA9IHljLmxlbmd0aDtcblx0ICAgICAgICAgICAgICAgICAgICBpID0gMDtcblx0ICAgICAgICAgICAgICAgICAgICBzICs9IDI7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgIC8vIE5vcm1hbGlzZSB4YyBhbmQgeWMgc28gaGlnaGVzdCBvcmRlciBkaWdpdCBvZiB5YyBpcyA+PSBiYXNlIC8gMi5cblx0XG5cdCAgICAgICAgICAgICAgICAgICAgbiA9IG1hdGhmbG9vcihiYXNlIC8gKHljWzBdICsgMSkpO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAvLyBOb3QgbmVjZXNzYXJ5LCBidXQgdG8gaGFuZGxlIG9kZCBiYXNlcyB3aGVyZSB5Y1swXSA9PSAoIGJhc2UgLyAyICkgLSAxLlxuXHQgICAgICAgICAgICAgICAgICAgIC8vIGlmICggbiA+IDEgfHwgbisrID09IDEgJiYgeWNbMF0gPCBiYXNlIC8gMiApIHtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAobiA+IDEpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgeWMgPSBtdWx0aXBseSh5YywgbiwgYmFzZSk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHhjID0gbXVsdGlwbHkoeGMsIG4sIGJhc2UpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB5TCA9IHljLmxlbmd0aDtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgeEwgPSB4Yy5sZW5ndGg7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgICAgICAgICB4aSA9IHlMO1xuXHQgICAgICAgICAgICAgICAgICAgIHJlbSA9IHhjLnNsaWNlKDAsIHlMKTtcblx0ICAgICAgICAgICAgICAgICAgICByZW1MID0gcmVtLmxlbmd0aDtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgLy8gQWRkIHplcm9zIHRvIG1ha2UgcmVtYWluZGVyIGFzIGxvbmcgYXMgZGl2aXNvci5cblx0ICAgICAgICAgICAgICAgICAgICBmb3IgKDsgcmVtTCA8IHlMOyByZW1bcmVtTCsrXSA9IDApIHt9XG5cdCAgICAgICAgICAgICAgICAgICAgeXogPSB5Yy5zbGljZSgpO1xuXHQgICAgICAgICAgICAgICAgICAgIHl6LnVuc2hpZnQoMCk7XG5cdCAgICAgICAgICAgICAgICAgICAgeWMwID0geWNbMF07XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKHljWzFdID49IGJhc2UgLyAyKSB5YzArKztcblx0ICAgICAgICAgICAgICAgICAgICAvLyBOb3QgbmVjZXNzYXJ5LCBidXQgdG8gcHJldmVudCB0cmlhbCBkaWdpdCBuID4gYmFzZSwgd2hlbiB1c2luZyBiYXNlIDMuXG5cdCAgICAgICAgICAgICAgICAgICAgLy8gZWxzZSBpZiAoIGJhc2UgPT0gMyAmJiB5YzAgPT0gMSApIHljMCA9IDEgKyAxZS0xNTtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgZG8ge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBuID0gMDtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvbXBhcmUgZGl2aXNvciBhbmQgcmVtYWluZGVyLlxuXHQgICAgICAgICAgICAgICAgICAgICAgICBjbXAgPSBjb21wYXJlKHljLCByZW0sIHlMLCByZW1MKTtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIGRpdmlzb3IgPCByZW1haW5kZXIuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjbXAgPCAwKSB7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIHRyaWFsIGRpZ2l0LCBuLlxuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbTAgPSByZW1bMF07XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoeUwgIT0gcmVtTCkgcmVtMCA9IHJlbTAgKiBiYXNlICsgKHJlbVsxXSB8fCAwKTtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBuIGlzIGhvdyBtYW55IHRpbWVzIHRoZSBkaXZpc29yIGdvZXMgaW50byB0aGUgY3VycmVudCByZW1haW5kZXIuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBuID0gbWF0aGZsb29yKHJlbTAgLyB5YzApO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICBBbGdvcml0aG06XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgMS4gcHJvZHVjdCA9IGRpdmlzb3IgKiB0cmlhbCBkaWdpdCAobilcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAyLiBpZiBwcm9kdWN0ID4gcmVtYWluZGVyOiBwcm9kdWN0IC09IGRpdmlzb3IsIG4tLVxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gIDMuIHJlbWFpbmRlciAtPSBwcm9kdWN0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgNC4gaWYgcHJvZHVjdCB3YXMgPCByZW1haW5kZXIgYXQgMjpcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgIDUuIGNvbXBhcmUgbmV3IHJlbWFpbmRlciBhbmQgZGl2aXNvclxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgNi4gSWYgcmVtYWluZGVyID4gZGl2aXNvcjogcmVtYWluZGVyIC09IGRpdmlzb3IsIG4rK1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuID4gMSkge1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBuIG1heSBiZSA+IGJhc2Ugb25seSB3aGVuIGJhc2UgaXMgMy5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobiA+PSBiYXNlKSBuID0gYmFzZSAtIDE7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHByb2R1Y3QgPSBkaXZpc29yICogdHJpYWwgZGlnaXQuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZCA9IG11bHRpcGx5KHljLCBuLCBiYXNlKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9kTCA9IHByb2QubGVuZ3RoO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbUwgPSByZW0ubGVuZ3RoO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDb21wYXJlIHByb2R1Y3QgYW5kIHJlbWFpbmRlci5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBwcm9kdWN0ID4gcmVtYWluZGVyLlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRyaWFsIGRpZ2l0IG4gdG9vIGhpZ2guXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbiBpcyAxIHRvbyBoaWdoIGFib3V0IDUlIG9mIHRoZSB0aW1lLCBhbmQgaXMgbm90IGtub3duIHRvIGhhdmVcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBldmVyIGJlZW4gbW9yZSB0aGFuIDEgdG9vIGhpZ2guXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGNvbXBhcmUocHJvZCwgcmVtLCBwcm9kTCwgcmVtTCkgPT0gMSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuLS07XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTdWJ0cmFjdCBkaXZpc29yIGZyb20gcHJvZHVjdC5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VidHJhY3QocHJvZCwgeUwgPCBwcm9kTCA/IHl6IDogeWMsIHByb2RMLCBiYXNlKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZEwgPSBwcm9kLmxlbmd0aDtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY21wID0gMTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBuIGlzIDAgb3IgMSwgY21wIGlzIC0xLlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIG4gaXMgMCwgdGhlcmUgaXMgbm8gbmVlZCB0byBjb21wYXJlIHljIGFuZCByZW0gYWdhaW4gYmVsb3csXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc28gY2hhbmdlIGNtcCB0byAxIHRvIGF2b2lkIGl0LlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIG4gaXMgMSwgbGVhdmUgY21wIGFzIC0xLCBzbyB5YyBhbmQgcmVtIGFyZSBjb21wYXJlZCBhZ2Fpbi5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobiA9PSAwKSB7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBkaXZpc29yIDwgcmVtYWluZGVyLCBzbyBuIG11c3QgYmUgYXQgbGVhc3QgMS5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY21wID0gbiA9IDE7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBwcm9kdWN0ID0gZGl2aXNvclxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2QgPSB5Yy5zbGljZSgpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2RMID0gcHJvZC5sZW5ndGg7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb2RMIDwgcmVtTCkgcHJvZC51bnNoaWZ0KDApO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN1YnRyYWN0IHByb2R1Y3QgZnJvbSByZW1haW5kZXIuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJ0cmFjdChyZW0sIHByb2QsIHJlbUwsIGJhc2UpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtTCA9IHJlbS5sZW5ndGg7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgcHJvZHVjdCB3YXMgPCByZW1haW5kZXIuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY21wID09IC0xKSB7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvbXBhcmUgZGl2aXNvciBhbmQgbmV3IHJlbWFpbmRlci5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBkaXZpc29yIDwgbmV3IHJlbWFpbmRlciwgc3VidHJhY3QgZGl2aXNvciBmcm9tIHJlbWFpbmRlci5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUcmlhbCBkaWdpdCBuIHRvbyBsb3cuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbiBpcyAxIHRvbyBsb3cgYWJvdXQgNSUgb2YgdGhlIHRpbWUsIGFuZCB2ZXJ5IHJhcmVseSAyIHRvbyBsb3cuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGNvbXBhcmUoeWMsIHJlbSwgeUwsIHJlbUwpIDwgMSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuKys7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTdWJ0cmFjdCBkaXZpc29yIGZyb20gcmVtYWluZGVyLlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJ0cmFjdChyZW0sIHlMIDwgcmVtTCA/IHl6IDogeWMsIHJlbUwsIGJhc2UpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1MID0gcmVtLmxlbmd0aDtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY21wID09PSAwKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBuKys7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW0gPSBbMF07XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH0gLy8gZWxzZSBjbXAgPT09IDEgYW5kIG4gd2lsbCBiZSAwXG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAvLyBBZGQgdGhlIG5leHQgZGlnaXQsIG4sIHRvIHRoZSByZXN1bHQgYXJyYXkuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHFjW2krK10gPSBuO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSByZW1haW5kZXIuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZW1bMF0pIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbVtyZW1MKytdID0geGNbeGldIHx8IDA7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW0gPSBbeGNbeGldXTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbUwgPSAxO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgfSB3aGlsZSAoKHhpKysgPCB4TCB8fCByZW1bMF0gIT0gbnVsbCkgJiYgcy0tKTtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgbW9yZSA9IHJlbVswXSAhPSBudWxsO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAvLyBMZWFkaW5nIHplcm8/XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKCFxY1swXSkgcWMuc2hpZnQoKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgICAgICBpZiAoYmFzZSA9PSBCQVNFKSB7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgIC8vIFRvIGNhbGN1bGF0ZSBxLmUsIGZpcnN0IGdldCB0aGUgbnVtYmVyIG9mIGRpZ2l0cyBvZiBxY1swXS5cblx0ICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAxLCBzID0gcWNbMF07IHMgPj0gMTA7IHMgLz0gMTAsIGkrKykge31cblx0ICAgICAgICAgICAgICAgICAgICByb3VuZChxLCBkcCArIChxLmUgPSBpICsgZSAqIExPR19CQVNFIC0gMSkgKyAxLCBybSwgbW9yZSk7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgIC8vIENhbGxlciBpcyBjb252ZXJ0QmFzZS5cblx0ICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcS5lID0gZTtcblx0ICAgICAgICAgICAgICAgICAgICBxLnIgPSArbW9yZTtcblx0ICAgICAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gcTtcblx0ICAgICAgICAgICAgfTtcblx0ICAgICAgICB9KCk7XG5cdFxuXHQgICAgICAgIC8qXG5cdCAgICAgICAgICogUmV0dXJuIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgdmFsdWUgb2YgQmlnTnVtYmVyIG4gaW4gZml4ZWQtcG9pbnQgb3IgZXhwb25lbnRpYWxcblx0ICAgICAgICAgKiBub3RhdGlvbiByb3VuZGVkIHRvIHRoZSBzcGVjaWZpZWQgZGVjaW1hbCBwbGFjZXMgb3Igc2lnbmlmaWNhbnQgZGlnaXRzLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogbiBpcyBhIEJpZ051bWJlci5cblx0ICAgICAgICAgKiBpIGlzIHRoZSBpbmRleCBvZiB0aGUgbGFzdCBkaWdpdCByZXF1aXJlZCAoaS5lLiB0aGUgZGlnaXQgdGhhdCBtYXkgYmUgcm91bmRlZCB1cCkuXG5cdCAgICAgICAgICogcm0gaXMgdGhlIHJvdW5kaW5nIG1vZGUuXG5cdCAgICAgICAgICogY2FsbGVyIGlzIGNhbGxlciBpZDogdG9FeHBvbmVudGlhbCAxOSwgdG9GaXhlZCAyMCwgdG9Gb3JtYXQgMjEsIHRvUHJlY2lzaW9uIDI0LlxuXHQgICAgICAgICAqL1xuXHQgICAgICAgIGZ1bmN0aW9uIGZvcm1hdChuLCBpLCBybSwgY2FsbGVyKSB7XG5cdCAgICAgICAgICAgIHZhciBjMCwgZSwgbmUsIGxlbiwgc3RyO1xuXHRcblx0ICAgICAgICAgICAgcm0gPSBybSAhPSBudWxsICYmIGlzVmFsaWRJbnQocm0sIDAsIDgsIGNhbGxlciwgcm91bmRpbmdNb2RlKSA/IHJtIHwgMCA6IFJPVU5ESU5HX01PREU7XG5cdFxuXHQgICAgICAgICAgICBpZiAoIW4uYykgcmV0dXJuIG4udG9TdHJpbmcoKTtcblx0ICAgICAgICAgICAgYzAgPSBuLmNbMF07XG5cdCAgICAgICAgICAgIG5lID0gbi5lO1xuXHRcblx0ICAgICAgICAgICAgaWYgKGkgPT0gbnVsbCkge1xuXHQgICAgICAgICAgICAgICAgc3RyID0gY29lZmZUb1N0cmluZyhuLmMpO1xuXHQgICAgICAgICAgICAgICAgc3RyID0gY2FsbGVyID09IDE5IHx8IGNhbGxlciA9PSAyNCAmJiBuZSA8PSBUT19FWFBfTkVHID8gdG9FeHBvbmVudGlhbChzdHIsIG5lKSA6IHRvRml4ZWRQb2ludChzdHIsIG5lKTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIG4gPSByb3VuZChuZXcgQmlnTnVtYmVyKG4pLCBpLCBybSk7XG5cdFxuXHQgICAgICAgICAgICAgICAgLy8gbi5lIG1heSBoYXZlIGNoYW5nZWQgaWYgdGhlIHZhbHVlIHdhcyByb3VuZGVkIHVwLlxuXHQgICAgICAgICAgICAgICAgZSA9IG4uZTtcblx0XG5cdCAgICAgICAgICAgICAgICBzdHIgPSBjb2VmZlRvU3RyaW5nKG4uYyk7XG5cdCAgICAgICAgICAgICAgICBsZW4gPSBzdHIubGVuZ3RoO1xuXHRcblx0ICAgICAgICAgICAgICAgIC8vIHRvUHJlY2lzaW9uIHJldHVybnMgZXhwb25lbnRpYWwgbm90YXRpb24gaWYgdGhlIG51bWJlciBvZiBzaWduaWZpY2FudCBkaWdpdHNcblx0ICAgICAgICAgICAgICAgIC8vIHNwZWNpZmllZCBpcyBsZXNzIHRoYW4gdGhlIG51bWJlciBvZiBkaWdpdHMgbmVjZXNzYXJ5IHRvIHJlcHJlc2VudCB0aGUgaW50ZWdlclxuXHQgICAgICAgICAgICAgICAgLy8gcGFydCBvZiB0aGUgdmFsdWUgaW4gZml4ZWQtcG9pbnQgbm90YXRpb24uXG5cdFxuXHQgICAgICAgICAgICAgICAgLy8gRXhwb25lbnRpYWwgbm90YXRpb24uXG5cdCAgICAgICAgICAgICAgICBpZiAoY2FsbGVyID09IDE5IHx8IGNhbGxlciA9PSAyNCAmJiAoaSA8PSBlIHx8IGUgPD0gVE9fRVhQX05FRykpIHtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgLy8gQXBwZW5kIHplcm9zP1xuXHQgICAgICAgICAgICAgICAgICAgIGZvciAoOyBsZW4gPCBpOyBzdHIgKz0gJzAnLCBsZW4rKykge31cblx0ICAgICAgICAgICAgICAgICAgICBzdHIgPSB0b0V4cG9uZW50aWFsKHN0ciwgZSk7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgIC8vIEZpeGVkLXBvaW50IG5vdGF0aW9uLlxuXHQgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICBpIC09IG5lO1xuXHQgICAgICAgICAgICAgICAgICAgIHN0ciA9IHRvRml4ZWRQb2ludChzdHIsIGUpO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAvLyBBcHBlbmQgemVyb3M/XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKGUgKyAxID4gbGVuKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlmICgtLWkgPiAwKSBmb3IgKHN0ciArPSAnLic7IGktLTsgc3RyICs9ICcwJykge31cblx0ICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBpICs9IGUgLSBsZW47XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpID4gMCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUgKyAxID09IGxlbikgc3RyICs9ICcuJztcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoOyBpLS07IHN0ciArPSAnMCcpIHt9XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIHJldHVybiBuLnMgPCAwICYmIGMwID8gJy0nICsgc3RyIDogc3RyO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgLy8gSGFuZGxlIEJpZ051bWJlci5tYXggYW5kIEJpZ051bWJlci5taW4uXG5cdCAgICAgICAgZnVuY3Rpb24gbWF4T3JNaW4oYXJncywgbWV0aG9kKSB7XG5cdCAgICAgICAgICAgIHZhciBtLFxuXHQgICAgICAgICAgICAgICAgbixcblx0ICAgICAgICAgICAgICAgIGkgPSAwO1xuXHRcblx0ICAgICAgICAgICAgaWYgKGlzQXJyYXkoYXJnc1swXSkpIGFyZ3MgPSBhcmdzWzBdO1xuXHQgICAgICAgICAgICBtID0gbmV3IEJpZ051bWJlcihhcmdzWzBdKTtcblx0XG5cdCAgICAgICAgICAgIGZvciAoOyArK2kgPCBhcmdzLmxlbmd0aDspIHtcblx0ICAgICAgICAgICAgICAgIG4gPSBuZXcgQmlnTnVtYmVyKGFyZ3NbaV0pO1xuXHRcblx0ICAgICAgICAgICAgICAgIC8vIElmIGFueSBudW1iZXIgaXMgTmFOLCByZXR1cm4gTmFOLlxuXHQgICAgICAgICAgICAgICAgaWYgKCFuLnMpIHtcblx0ICAgICAgICAgICAgICAgICAgICBtID0gbjtcblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobWV0aG9kLmNhbGwobSwgbikpIHtcblx0ICAgICAgICAgICAgICAgICAgICBtID0gbjtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIG07XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICAvKlxuXHQgICAgICAgICAqIFJldHVybiB0cnVlIGlmIG4gaXMgYW4gaW50ZWdlciBpbiByYW5nZSwgb3RoZXJ3aXNlIHRocm93LlxuXHQgICAgICAgICAqIFVzZSBmb3IgYXJndW1lbnQgdmFsaWRhdGlvbiB3aGVuIEVSUk9SUyBpcyB0cnVlLlxuXHQgICAgICAgICAqL1xuXHQgICAgICAgIGZ1bmN0aW9uIGludFZhbGlkYXRvcldpdGhFcnJvcnMobiwgbWluLCBtYXgsIGNhbGxlciwgbmFtZSkge1xuXHQgICAgICAgICAgICBpZiAobiA8IG1pbiB8fCBuID4gbWF4IHx8IG4gIT0gdHJ1bmNhdGUobikpIHtcblx0ICAgICAgICAgICAgICAgIHJhaXNlKGNhbGxlciwgKG5hbWUgfHwgJ2RlY2ltYWwgcGxhY2VzJykgKyAobiA8IG1pbiB8fCBuID4gbWF4ID8gJyBvdXQgb2YgcmFuZ2UnIDogJyBub3QgYW4gaW50ZWdlcicpLCBuKTtcblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICAvKlxuXHQgICAgICAgICAqIFN0cmlwIHRyYWlsaW5nIHplcm9zLCBjYWxjdWxhdGUgYmFzZSAxMCBleHBvbmVudCBhbmQgY2hlY2sgYWdhaW5zdCBNSU5fRVhQIGFuZCBNQVhfRVhQLlxuXHQgICAgICAgICAqIENhbGxlZCBieSBtaW51cywgcGx1cyBhbmQgdGltZXMuXG5cdCAgICAgICAgICovXG5cdCAgICAgICAgZnVuY3Rpb24gbm9ybWFsaXNlKG4sIGMsIGUpIHtcblx0ICAgICAgICAgICAgdmFyIGkgPSAxLFxuXHQgICAgICAgICAgICAgICAgaiA9IGMubGVuZ3RoO1xuXHRcblx0ICAgICAgICAgICAgLy8gUmVtb3ZlIHRyYWlsaW5nIHplcm9zLlxuXHQgICAgICAgICAgICBmb3IgKDsgIWNbLS1qXTsgYy5wb3AoKSkge31cblx0XG5cdCAgICAgICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgYmFzZSAxMCBleHBvbmVudC4gRmlyc3QgZ2V0IHRoZSBudW1iZXIgb2YgZGlnaXRzIG9mIGNbMF0uXG5cdCAgICAgICAgICAgIGZvciAoaiA9IGNbMF07IGogPj0gMTA7IGogLz0gMTAsIGkrKykge31cblx0XG5cdCAgICAgICAgICAgIC8vIE92ZXJmbG93P1xuXHQgICAgICAgICAgICBpZiAoKGUgPSBpICsgZSAqIExPR19CQVNFIC0gMSkgPiBNQVhfRVhQKSB7XG5cdFxuXHQgICAgICAgICAgICAgICAgLy8gSW5maW5pdHkuXG5cdCAgICAgICAgICAgICAgICBuLmMgPSBuLmUgPSBudWxsO1xuXHRcblx0ICAgICAgICAgICAgICAgIC8vIFVuZGVyZmxvdz9cblx0ICAgICAgICAgICAgfSBlbHNlIGlmIChlIDwgTUlOX0VYUCkge1xuXHRcblx0ICAgICAgICAgICAgICAgIC8vIFplcm8uXG5cdCAgICAgICAgICAgICAgICBuLmMgPSBbbi5lID0gMF07XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICBuLmUgPSBlO1xuXHQgICAgICAgICAgICAgICAgbi5jID0gYztcblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIG47XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICAvLyBIYW5kbGUgdmFsdWVzIHRoYXQgZmFpbCB0aGUgdmFsaWRpdHkgdGVzdCBpbiBCaWdOdW1iZXIuXG5cdCAgICAgICAgcGFyc2VOdW1lcmljID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICB2YXIgYmFzZVByZWZpeCA9IC9eKC0/KTAoW3hib10pL2ksXG5cdCAgICAgICAgICAgICAgICBkb3RBZnRlciA9IC9eKFteLl0rKVxcLiQvLFxuXHQgICAgICAgICAgICAgICAgZG90QmVmb3JlID0gL15cXC4oW14uXSspJC8sXG5cdCAgICAgICAgICAgICAgICBpc0luZmluaXR5T3JOYU4gPSAvXi0/KEluZmluaXR5fE5hTikkLyxcblx0ICAgICAgICAgICAgICAgIHdoaXRlc3BhY2VPclBsdXMgPSAvXlxccypcXCt8Xlxccyt8XFxzKyQvZztcblx0XG5cdCAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoeCwgc3RyLCBudW0sIGIpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBiYXNlLFxuXHQgICAgICAgICAgICAgICAgICAgIHMgPSBudW0gPyBzdHIgOiBzdHIucmVwbGFjZSh3aGl0ZXNwYWNlT3JQbHVzLCAnJyk7XG5cdFxuXHQgICAgICAgICAgICAgICAgLy8gTm8gZXhjZXB0aW9uIG9uIMKxSW5maW5pdHkgb3IgTmFOLlxuXHQgICAgICAgICAgICAgICAgaWYgKGlzSW5maW5pdHlPck5hTi50ZXN0KHMpKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgeC5zID0gaXNOYU4ocykgPyBudWxsIDogcyA8IDAgPyAtMSA6IDE7XG5cdCAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgIGlmICghbnVtKSB7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAvLyBiYXNlUHJlZml4ID0gL14oLT8pMChbeGJvXSkoPz1cXHdbXFx3Ll0qJCkvaVxuXHQgICAgICAgICAgICAgICAgICAgICAgICBzID0gcy5yZXBsYWNlKGJhc2VQcmVmaXgsIGZ1bmN0aW9uIChtLCBwMSwgcDIpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhc2UgPSAocDIgPSBwMi50b0xvd2VyQ2FzZSgpKSA9PSAneCcgPyAxNiA6IHAyID09ICdiJyA/IDIgOiA4O1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICFiIHx8IGIgPT0gYmFzZSA/IHAxIDogbTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYikge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZSA9IGI7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRS5nLiAnMS4nIHRvICcxJywgJy4xJyB0byAnMC4xJ1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgcyA9IHMucmVwbGFjZShkb3RBZnRlciwgJyQxJykucmVwbGFjZShkb3RCZWZvcmUsICcwLiQxJyk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdHIgIT0gcykgcmV0dXJuIG5ldyBCaWdOdW1iZXIocywgYmFzZSk7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgICAgICAgICAvLyAnbmV3IEJpZ051bWJlcigpIG5vdCBhIG51bWJlcjoge259J1xuXHQgICAgICAgICAgICAgICAgICAgIC8vICduZXcgQmlnTnVtYmVyKCkgbm90IGEgYmFzZSB7Yn0gbnVtYmVyOiB7bn0nXG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKEVSUk9SUykgcmFpc2UoaWQsICdub3QgYScgKyAoYiA/ICcgYmFzZSAnICsgYiA6ICcnKSArICcgbnVtYmVyJywgc3RyKTtcblx0ICAgICAgICAgICAgICAgICAgICB4LnMgPSBudWxsO1xuXHQgICAgICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgICAgIHguYyA9IHguZSA9IG51bGw7XG5cdCAgICAgICAgICAgICAgICBpZCA9IDA7XG5cdCAgICAgICAgICAgIH07XG5cdCAgICAgICAgfSgpO1xuXHRcblx0ICAgICAgICAvLyBUaHJvdyBhIEJpZ051bWJlciBFcnJvci5cblx0ICAgICAgICBmdW5jdGlvbiByYWlzZShjYWxsZXIsIG1zZywgdmFsKSB7XG5cdCAgICAgICAgICAgIHZhciBlcnJvciA9IG5ldyBFcnJvcihbJ25ldyBCaWdOdW1iZXInLCAvLyAwXG5cdCAgICAgICAgICAgICdjbXAnLCAvLyAxXG5cdCAgICAgICAgICAgICdjb25maWcnLCAvLyAyXG5cdCAgICAgICAgICAgICdkaXYnLCAvLyAzXG5cdCAgICAgICAgICAgICdkaXZUb0ludCcsIC8vIDRcblx0ICAgICAgICAgICAgJ2VxJywgLy8gNVxuXHQgICAgICAgICAgICAnZ3QnLCAvLyA2XG5cdCAgICAgICAgICAgICdndGUnLCAvLyA3XG5cdCAgICAgICAgICAgICdsdCcsIC8vIDhcblx0ICAgICAgICAgICAgJ2x0ZScsIC8vIDlcblx0ICAgICAgICAgICAgJ21pbnVzJywgLy8gMTBcblx0ICAgICAgICAgICAgJ21vZCcsIC8vIDExXG5cdCAgICAgICAgICAgICdwbHVzJywgLy8gMTJcblx0ICAgICAgICAgICAgJ3ByZWNpc2lvbicsIC8vIDEzXG5cdCAgICAgICAgICAgICdyYW5kb20nLCAvLyAxNFxuXHQgICAgICAgICAgICAncm91bmQnLCAvLyAxNVxuXHQgICAgICAgICAgICAnc2hpZnQnLCAvLyAxNlxuXHQgICAgICAgICAgICAndGltZXMnLCAvLyAxN1xuXHQgICAgICAgICAgICAndG9EaWdpdHMnLCAvLyAxOFxuXHQgICAgICAgICAgICAndG9FeHBvbmVudGlhbCcsIC8vIDE5XG5cdCAgICAgICAgICAgICd0b0ZpeGVkJywgLy8gMjBcblx0ICAgICAgICAgICAgJ3RvRm9ybWF0JywgLy8gMjFcblx0ICAgICAgICAgICAgJ3RvRnJhY3Rpb24nLCAvLyAyMlxuXHQgICAgICAgICAgICAncG93JywgLy8gMjNcblx0ICAgICAgICAgICAgJ3RvUHJlY2lzaW9uJywgLy8gMjRcblx0ICAgICAgICAgICAgJ3RvU3RyaW5nJywgLy8gMjVcblx0ICAgICAgICAgICAgJ0JpZ051bWJlcicgLy8gMjZcblx0ICAgICAgICAgICAgXVtjYWxsZXJdICsgJygpICcgKyBtc2cgKyAnOiAnICsgdmFsKTtcblx0XG5cdCAgICAgICAgICAgIGVycm9yLm5hbWUgPSAnQmlnTnVtYmVyIEVycm9yJztcblx0ICAgICAgICAgICAgaWQgPSAwO1xuXHQgICAgICAgICAgICB0aHJvdyBlcnJvcjtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIC8qXG5cdCAgICAgICAgICogUm91bmQgeCB0byBzZCBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBybS4gQ2hlY2sgZm9yIG92ZXIvdW5kZXItZmxvdy5cblx0ICAgICAgICAgKiBJZiByIGlzIHRydXRoeSwgaXQgaXMga25vd24gdGhhdCB0aGVyZSBhcmUgbW9yZSBkaWdpdHMgYWZ0ZXIgdGhlIHJvdW5kaW5nIGRpZ2l0LlxuXHQgICAgICAgICAqL1xuXHQgICAgICAgIGZ1bmN0aW9uIHJvdW5kKHgsIHNkLCBybSwgcikge1xuXHQgICAgICAgICAgICB2YXIgZCxcblx0ICAgICAgICAgICAgICAgIGksXG5cdCAgICAgICAgICAgICAgICBqLFxuXHQgICAgICAgICAgICAgICAgayxcblx0ICAgICAgICAgICAgICAgIG4sXG5cdCAgICAgICAgICAgICAgICBuaSxcblx0ICAgICAgICAgICAgICAgIHJkLFxuXHQgICAgICAgICAgICAgICAgeGMgPSB4LmMsXG5cdCAgICAgICAgICAgICAgICBwb3dzMTAgPSBQT1dTX1RFTjtcblx0XG5cdCAgICAgICAgICAgIC8vIGlmIHggaXMgbm90IEluZmluaXR5IG9yIE5hTi4uLlxuXHQgICAgICAgICAgICBpZiAoeGMpIHtcblx0XG5cdCAgICAgICAgICAgICAgICAvLyByZCBpcyB0aGUgcm91bmRpbmcgZGlnaXQsIGkuZS4gdGhlIGRpZ2l0IGFmdGVyIHRoZSBkaWdpdCB0aGF0IG1heSBiZSByb3VuZGVkIHVwLlxuXHQgICAgICAgICAgICAgICAgLy8gbiBpcyBhIGJhc2UgMWUxNCBudW1iZXIsIHRoZSB2YWx1ZSBvZiB0aGUgZWxlbWVudCBvZiBhcnJheSB4LmMgY29udGFpbmluZyByZC5cblx0ICAgICAgICAgICAgICAgIC8vIG5pIGlzIHRoZSBpbmRleCBvZiBuIHdpdGhpbiB4LmMuXG5cdCAgICAgICAgICAgICAgICAvLyBkIGlzIHRoZSBudW1iZXIgb2YgZGlnaXRzIG9mIG4uXG5cdCAgICAgICAgICAgICAgICAvLyBpIGlzIHRoZSBpbmRleCBvZiByZCB3aXRoaW4gbiBpbmNsdWRpbmcgbGVhZGluZyB6ZXJvcy5cblx0ICAgICAgICAgICAgICAgIC8vIGogaXMgdGhlIGFjdHVhbCBpbmRleCBvZiByZCB3aXRoaW4gbiAoaWYgPCAwLCByZCBpcyBhIGxlYWRpbmcgemVybykuXG5cdCAgICAgICAgICAgICAgICBvdXQ6IHtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgLy8gR2V0IHRoZSBudW1iZXIgb2YgZGlnaXRzIG9mIHRoZSBmaXJzdCBlbGVtZW50IG9mIHhjLlxuXHQgICAgICAgICAgICAgICAgICAgIGZvciAoZCA9IDEsIGsgPSB4Y1swXTsgayA+PSAxMDsgayAvPSAxMCwgZCsrKSB7fVxuXHQgICAgICAgICAgICAgICAgICAgIGkgPSBzZCAtIGQ7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSByb3VuZGluZyBkaWdpdCBpcyBpbiB0aGUgZmlyc3QgZWxlbWVudCBvZiB4Yy4uLlxuXHQgICAgICAgICAgICAgICAgICAgIGlmIChpIDwgMCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBpICs9IExPR19CQVNFO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBqID0gc2Q7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIG4gPSB4Y1tuaSA9IDBdO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgLy8gR2V0IHRoZSByb3VuZGluZyBkaWdpdCBhdCBpbmRleCBqIG9mIG4uXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJkID0gbiAvIHBvd3MxMFtkIC0gaiAtIDFdICUgMTAgfCAwO1xuXHQgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIG5pID0gbWF0aGNlaWwoKGkgKyAxKSAvIExPR19CQVNFKTtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuaSA+PSB4Yy5sZW5ndGgpIHtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocikge1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBOZWVkZWQgYnkgc3FydC5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKDsgeGMubGVuZ3RoIDw9IG5pOyB4Yy5wdXNoKDApKSB7fVxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG4gPSByZCA9IDA7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZCA9IDE7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaSAlPSBMT0dfQkFTRTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqID0gaSAtIExPR19CQVNFICsgMTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsgb3V0O1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgbiA9IGsgPSB4Y1tuaV07XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gR2V0IHRoZSBudW1iZXIgb2YgZGlnaXRzIG9mIG4uXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGQgPSAxOyBrID49IDEwOyBrIC89IDEwLCBkKyspIHt9XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gR2V0IHRoZSBpbmRleCBvZiByZCB3aXRoaW4gbi5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgJT0gTE9HX0JBU0U7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gR2V0IHRoZSBpbmRleCBvZiByZCB3aXRoaW4gbiwgYWRqdXN0ZWQgZm9yIGxlYWRpbmcgemVyb3MuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgbnVtYmVyIG9mIGxlYWRpbmcgemVyb3Mgb2YgbiBpcyBnaXZlbiBieSBMT0dfQkFTRSAtIGQuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBqID0gaSAtIExPR19CQVNFICsgZDtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBHZXQgdGhlIHJvdW5kaW5nIGRpZ2l0IGF0IGluZGV4IGogb2Ygbi5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJkID0gaiA8IDAgPyAwIDogbiAvIHBvd3MxMFtkIC0gaiAtIDFdICUgMTAgfCAwO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgICAgICAgICByID0gciB8fCBzZCA8IDAgfHxcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgLy8gQXJlIHRoZXJlIGFueSBub24temVybyBkaWdpdHMgYWZ0ZXIgdGhlIHJvdW5kaW5nIGRpZ2l0P1xuXHQgICAgICAgICAgICAgICAgICAgIC8vIFRoZSBleHByZXNzaW9uICBuICUgcG93czEwWyBkIC0gaiAtIDEgXSAgcmV0dXJucyBhbGwgZGlnaXRzIG9mIG4gdG8gdGhlIHJpZ2h0XG5cdCAgICAgICAgICAgICAgICAgICAgLy8gb2YgdGhlIGRpZ2l0IGF0IGosIGUuZy4gaWYgbiBpcyA5MDg3MTQgYW5kIGogaXMgMiwgdGhlIGV4cHJlc3Npb24gZ2l2ZXMgNzE0LlxuXHQgICAgICAgICAgICAgICAgICAgIHhjW25pICsgMV0gIT0gbnVsbCB8fCAoaiA8IDAgPyBuIDogbiAlIHBvd3MxMFtkIC0gaiAtIDFdKTtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgciA9IHJtIDwgNCA/IChyZCB8fCByKSAmJiAocm0gPT0gMCB8fCBybSA9PSAoeC5zIDwgMCA/IDMgOiAyKSkgOiByZCA+IDUgfHwgcmQgPT0gNSAmJiAocm0gPT0gNCB8fCByIHx8IHJtID09IDYgJiZcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgd2hldGhlciB0aGUgZGlnaXQgdG8gdGhlIGxlZnQgb2YgdGhlIHJvdW5kaW5nIGRpZ2l0IGlzIG9kZC5cblx0ICAgICAgICAgICAgICAgICAgICAoaSA+IDAgPyBqID4gMCA/IG4gLyBwb3dzMTBbZCAtIGpdIDogMCA6IHhjW25pIC0gMV0pICUgMTAgJiAxIHx8IHJtID09ICh4LnMgPCAwID8gOCA6IDcpKTtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKHNkIDwgMSB8fCAheGNbMF0pIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgeGMubGVuZ3RoID0gMDtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyKSB7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29udmVydCBzZCB0byBkZWNpbWFsIHBsYWNlcy5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNkIC09IHguZSArIDE7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gMSwgMC4xLCAwLjAxLCAwLjAwMSwgMC4wMDAxIGV0Yy5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhjWzBdID0gcG93czEwW3NkICUgTE9HX0JBU0VdO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgeC5lID0gLXNkIHx8IDA7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gWmVyby5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhjWzBdID0geC5lID0gMDtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHg7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgZXhjZXNzIGRpZ2l0cy5cblx0ICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PSAwKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHhjLmxlbmd0aCA9IG5pO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBrID0gMTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgbmktLTtcblx0ICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB4Yy5sZW5ndGggPSBuaSArIDE7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGsgPSBwb3dzMTBbTE9HX0JBU0UgLSBpXTtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIC8vIEUuZy4gNTY3MDAgYmVjb21lcyA1NjAwMCBpZiA3IGlzIHRoZSByb3VuZGluZyBkaWdpdC5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgLy8gaiA+IDAgbWVhbnMgaSA+IG51bWJlciBvZiBsZWFkaW5nIHplcm9zIG9mIG4uXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHhjW25pXSA9IGogPiAwID8gbWF0aGZsb29yKG4gLyBwb3dzMTBbZCAtIGpdICUgcG93czEwW2pdKSAqIGsgOiAwO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgICAgICAgICAgLy8gUm91bmQgdXA/XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKHIpIHtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoOzspIHtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgZGlnaXQgdG8gYmUgcm91bmRlZCB1cCBpcyBpbiB0aGUgZmlyc3QgZWxlbWVudCBvZiB4Yy4uLlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5pID09IDApIHtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaSB3aWxsIGJlIHRoZSBsZW5ndGggb2YgeGNbMF0gYmVmb3JlIGsgaXMgYWRkZWQuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMSwgaiA9IHhjWzBdOyBqID49IDEwOyBqIC89IDEwLCBpKyspIHt9XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaiA9IHhjWzBdICs9IGs7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChrID0gMTsgaiA+PSAxMDsgaiAvPSAxMCwgaysrKSB7fVxuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiBpICE9IGsgdGhlIGxlbmd0aCBoYXMgaW5jcmVhc2VkLlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpICE9IGspIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeC5lKys7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh4Y1swXSA9PSBCQVNFKSB4Y1swXSA9IDE7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeGNbbmldICs9IGs7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHhjW25pXSAhPSBCQVNFKSBicmVhaztcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4Y1tuaS0tXSA9IDA7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgayA9IDE7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSB0cmFpbGluZyB6ZXJvcy5cblx0ICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSB4Yy5sZW5ndGg7IHhjWy0taV0gPT09IDA7IHhjLnBvcCgpKSB7fVxuXHQgICAgICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgICAgIC8vIE92ZXJmbG93PyBJbmZpbml0eS5cblx0ICAgICAgICAgICAgICAgIGlmICh4LmUgPiBNQVhfRVhQKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgeC5jID0geC5lID0gbnVsbDtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgLy8gVW5kZXJmbG93PyBaZXJvLlxuXHQgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh4LmUgPCBNSU5fRVhQKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgeC5jID0gW3guZSA9IDBdO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4geDtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIC8vIFBST1RPVFlQRS9JTlNUQU5DRSBNRVRIT0RTXG5cdFxuXHRcblx0ICAgICAgICAvKlxuXHQgICAgICAgICAqIFJldHVybiBhIG5ldyBCaWdOdW1iZXIgd2hvc2UgdmFsdWUgaXMgdGhlIGFic29sdXRlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyLlxuXHQgICAgICAgICAqL1xuXHQgICAgICAgIFAuYWJzb2x1dGVWYWx1ZSA9IFAuYWJzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICB2YXIgeCA9IG5ldyBCaWdOdW1iZXIodGhpcyk7XG5cdCAgICAgICAgICAgIGlmICh4LnMgPCAwKSB4LnMgPSAxO1xuXHQgICAgICAgICAgICByZXR1cm4geDtcblx0ICAgICAgICB9O1xuXHRcblx0ICAgICAgICAvKlxuXHQgICAgICAgICAqIFJldHVybiBhIG5ldyBCaWdOdW1iZXIgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIHJvdW5kZWQgdG8gYSB3aG9sZVxuXHQgICAgICAgICAqIG51bWJlciBpbiB0aGUgZGlyZWN0aW9uIG9mIEluZmluaXR5LlxuXHQgICAgICAgICAqL1xuXHQgICAgICAgIFAuY2VpbCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHJvdW5kKG5ldyBCaWdOdW1iZXIodGhpcyksIHRoaXMuZSArIDEsIDIpO1xuXHQgICAgICAgIH07XG5cdFxuXHQgICAgICAgIC8qXG5cdCAgICAgICAgICogUmV0dXJuXG5cdCAgICAgICAgICogMSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgaXMgZ3JlYXRlciB0aGFuIHRoZSB2YWx1ZSBvZiBCaWdOdW1iZXIoeSwgYiksXG5cdCAgICAgICAgICogLTEgaWYgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIGlzIGxlc3MgdGhhbiB0aGUgdmFsdWUgb2YgQmlnTnVtYmVyKHksIGIpLFxuXHQgICAgICAgICAqIDAgaWYgdGhleSBoYXZlIHRoZSBzYW1lIHZhbHVlLFxuXHQgICAgICAgICAqIG9yIG51bGwgaWYgdGhlIHZhbHVlIG9mIGVpdGhlciBpcyBOYU4uXG5cdCAgICAgICAgICovXG5cdCAgICAgICAgUC5jb21wYXJlZFRvID0gUC5jbXAgPSBmdW5jdGlvbiAoeSwgYikge1xuXHQgICAgICAgICAgICBpZCA9IDE7XG5cdCAgICAgICAgICAgIHJldHVybiBjb21wYXJlKHRoaXMsIG5ldyBCaWdOdW1iZXIoeSwgYikpO1xuXHQgICAgICAgIH07XG5cdFxuXHQgICAgICAgIC8qXG5cdCAgICAgICAgICogUmV0dXJuIHRoZSBudW1iZXIgb2YgZGVjaW1hbCBwbGFjZXMgb2YgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyLCBvciBudWxsIGlmIHRoZSB2YWx1ZVxuXHQgICAgICAgICAqIG9mIHRoaXMgQmlnTnVtYmVyIGlzIMKxSW5maW5pdHkgb3IgTmFOLlxuXHQgICAgICAgICAqL1xuXHQgICAgICAgIFAuZGVjaW1hbFBsYWNlcyA9IFAuZHAgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIHZhciBuLFxuXHQgICAgICAgICAgICAgICAgdixcblx0ICAgICAgICAgICAgICAgIGMgPSB0aGlzLmM7XG5cdFxuXHQgICAgICAgICAgICBpZiAoIWMpIHJldHVybiBudWxsO1xuXHQgICAgICAgICAgICBuID0gKCh2ID0gYy5sZW5ndGggLSAxKSAtIGJpdEZsb29yKHRoaXMuZSAvIExPR19CQVNFKSkgKiBMT0dfQkFTRTtcblx0XG5cdCAgICAgICAgICAgIC8vIFN1YnRyYWN0IHRoZSBudW1iZXIgb2YgdHJhaWxpbmcgemVyb3Mgb2YgdGhlIGxhc3QgbnVtYmVyLlxuXHQgICAgICAgICAgICBpZiAodiA9IGNbdl0pIGZvciAoOyB2ICUgMTAgPT0gMDsgdiAvPSAxMCwgbi0tKSB7fVxuXHQgICAgICAgICAgICBpZiAobiA8IDApIG4gPSAwO1xuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIG47XG5cdCAgICAgICAgfTtcblx0XG5cdCAgICAgICAgLypcblx0ICAgICAgICAgKiAgbiAvIDAgPSBJXG5cdCAgICAgICAgICogIG4gLyBOID0gTlxuXHQgICAgICAgICAqICBuIC8gSSA9IDBcblx0ICAgICAgICAgKiAgMCAvIG4gPSAwXG5cdCAgICAgICAgICogIDAgLyAwID0gTlxuXHQgICAgICAgICAqICAwIC8gTiA9IE5cblx0ICAgICAgICAgKiAgMCAvIEkgPSAwXG5cdCAgICAgICAgICogIE4gLyBuID0gTlxuXHQgICAgICAgICAqICBOIC8gMCA9IE5cblx0ICAgICAgICAgKiAgTiAvIE4gPSBOXG5cdCAgICAgICAgICogIE4gLyBJID0gTlxuXHQgICAgICAgICAqICBJIC8gbiA9IElcblx0ICAgICAgICAgKiAgSSAvIDAgPSBJXG5cdCAgICAgICAgICogIEkgLyBOID0gTlxuXHQgICAgICAgICAqICBJIC8gSSA9IE5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIFJldHVybiBhIG5ldyBCaWdOdW1iZXIgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIGRpdmlkZWQgYnkgdGhlIHZhbHVlIG9mXG5cdCAgICAgICAgICogQmlnTnVtYmVyKHksIGIpLCByb3VuZGVkIGFjY29yZGluZyB0byBERUNJTUFMX1BMQUNFUyBhbmQgUk9VTkRJTkdfTU9ERS5cblx0ICAgICAgICAgKi9cblx0ICAgICAgICBQLmRpdmlkZWRCeSA9IFAuZGl2ID0gZnVuY3Rpb24gKHksIGIpIHtcblx0ICAgICAgICAgICAgaWQgPSAzO1xuXHQgICAgICAgICAgICByZXR1cm4gZGl2KHRoaXMsIG5ldyBCaWdOdW1iZXIoeSwgYiksIERFQ0lNQUxfUExBQ0VTLCBST1VORElOR19NT0RFKTtcblx0ICAgICAgICB9O1xuXHRcblx0ICAgICAgICAvKlxuXHQgICAgICAgICAqIFJldHVybiBhIG5ldyBCaWdOdW1iZXIgd2hvc2UgdmFsdWUgaXMgdGhlIGludGVnZXIgcGFydCBvZiBkaXZpZGluZyB0aGUgdmFsdWUgb2YgdGhpc1xuXHQgICAgICAgICAqIEJpZ051bWJlciBieSB0aGUgdmFsdWUgb2YgQmlnTnVtYmVyKHksIGIpLlxuXHQgICAgICAgICAqL1xuXHQgICAgICAgIFAuZGl2aWRlZFRvSW50ZWdlckJ5ID0gUC5kaXZUb0ludCA9IGZ1bmN0aW9uICh5LCBiKSB7XG5cdCAgICAgICAgICAgIGlkID0gNDtcblx0ICAgICAgICAgICAgcmV0dXJuIGRpdih0aGlzLCBuZXcgQmlnTnVtYmVyKHksIGIpLCAwLCAxKTtcblx0ICAgICAgICB9O1xuXHRcblx0ICAgICAgICAvKlxuXHQgICAgICAgICAqIFJldHVybiB0cnVlIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBpcyBlcXVhbCB0byB0aGUgdmFsdWUgb2YgQmlnTnVtYmVyKHksIGIpLFxuXHQgICAgICAgICAqIG90aGVyd2lzZSByZXR1cm5zIGZhbHNlLlxuXHQgICAgICAgICAqL1xuXHQgICAgICAgIFAuZXF1YWxzID0gUC5lcSA9IGZ1bmN0aW9uICh5LCBiKSB7XG5cdCAgICAgICAgICAgIGlkID0gNTtcblx0ICAgICAgICAgICAgcmV0dXJuIGNvbXBhcmUodGhpcywgbmV3IEJpZ051bWJlcih5LCBiKSkgPT09IDA7XG5cdCAgICAgICAgfTtcblx0XG5cdCAgICAgICAgLypcblx0ICAgICAgICAgKiBSZXR1cm4gYSBuZXcgQmlnTnVtYmVyIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciByb3VuZGVkIHRvIGEgd2hvbGVcblx0ICAgICAgICAgKiBudW1iZXIgaW4gdGhlIGRpcmVjdGlvbiBvZiAtSW5maW5pdHkuXG5cdCAgICAgICAgICovXG5cdCAgICAgICAgUC5mbG9vciA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHJvdW5kKG5ldyBCaWdOdW1iZXIodGhpcyksIHRoaXMuZSArIDEsIDMpO1xuXHQgICAgICAgIH07XG5cdFxuXHQgICAgICAgIC8qXG5cdCAgICAgICAgICogUmV0dXJuIHRydWUgaWYgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIGlzIGdyZWF0ZXIgdGhhbiB0aGUgdmFsdWUgb2YgQmlnTnVtYmVyKHksIGIpLFxuXHQgICAgICAgICAqIG90aGVyd2lzZSByZXR1cm5zIGZhbHNlLlxuXHQgICAgICAgICAqL1xuXHQgICAgICAgIFAuZ3JlYXRlclRoYW4gPSBQLmd0ID0gZnVuY3Rpb24gKHksIGIpIHtcblx0ICAgICAgICAgICAgaWQgPSA2O1xuXHQgICAgICAgICAgICByZXR1cm4gY29tcGFyZSh0aGlzLCBuZXcgQmlnTnVtYmVyKHksIGIpKSA+IDA7XG5cdCAgICAgICAgfTtcblx0XG5cdCAgICAgICAgLypcblx0ICAgICAgICAgKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgaXMgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIHRoZSB2YWx1ZSBvZlxuXHQgICAgICAgICAqIEJpZ051bWJlcih5LCBiKSwgb3RoZXJ3aXNlIHJldHVybnMgZmFsc2UuXG5cdCAgICAgICAgICovXG5cdCAgICAgICAgUC5ncmVhdGVyVGhhbk9yRXF1YWxUbyA9IFAuZ3RlID0gZnVuY3Rpb24gKHksIGIpIHtcblx0ICAgICAgICAgICAgaWQgPSA3O1xuXHQgICAgICAgICAgICByZXR1cm4gKGIgPSBjb21wYXJlKHRoaXMsIG5ldyBCaWdOdW1iZXIoeSwgYikpKSA9PT0gMSB8fCBiID09PSAwO1xuXHQgICAgICAgIH07XG5cdFxuXHQgICAgICAgIC8qXG5cdCAgICAgICAgICogUmV0dXJuIHRydWUgaWYgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIGlzIGEgZmluaXRlIG51bWJlciwgb3RoZXJ3aXNlIHJldHVybnMgZmFsc2UuXG5cdCAgICAgICAgICovXG5cdCAgICAgICAgUC5pc0Zpbml0ZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgcmV0dXJuICEhdGhpcy5jO1xuXHQgICAgICAgIH07XG5cdFxuXHQgICAgICAgIC8qXG5cdCAgICAgICAgICogUmV0dXJuIHRydWUgaWYgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIGlzIGFuIGludGVnZXIsIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXG5cdCAgICAgICAgICovXG5cdCAgICAgICAgUC5pc0ludGVnZXIgPSBQLmlzSW50ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICByZXR1cm4gISF0aGlzLmMgJiYgYml0Rmxvb3IodGhpcy5lIC8gTE9HX0JBU0UpID4gdGhpcy5jLmxlbmd0aCAtIDI7XG5cdCAgICAgICAgfTtcblx0XG5cdCAgICAgICAgLypcblx0ICAgICAgICAgKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgaXMgTmFOLCBvdGhlcndpc2UgcmV0dXJucyBmYWxzZS5cblx0ICAgICAgICAgKi9cblx0ICAgICAgICBQLmlzTmFOID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICByZXR1cm4gIXRoaXMucztcblx0ICAgICAgICB9O1xuXHRcblx0ICAgICAgICAvKlxuXHQgICAgICAgICAqIFJldHVybiB0cnVlIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBpcyBuZWdhdGl2ZSwgb3RoZXJ3aXNlIHJldHVybnMgZmFsc2UuXG5cdCAgICAgICAgICovXG5cdCAgICAgICAgUC5pc05lZ2F0aXZlID0gUC5pc05lZyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMucyA8IDA7XG5cdCAgICAgICAgfTtcblx0XG5cdCAgICAgICAgLypcblx0ICAgICAgICAgKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgaXMgMCBvciAtMCwgb3RoZXJ3aXNlIHJldHVybnMgZmFsc2UuXG5cdCAgICAgICAgICovXG5cdCAgICAgICAgUC5pc1plcm8gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIHJldHVybiAhIXRoaXMuYyAmJiB0aGlzLmNbMF0gPT0gMDtcblx0ICAgICAgICB9O1xuXHRcblx0ICAgICAgICAvKlxuXHQgICAgICAgICAqIFJldHVybiB0cnVlIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBpcyBsZXNzIHRoYW4gdGhlIHZhbHVlIG9mIEJpZ051bWJlcih5LCBiKSxcblx0ICAgICAgICAgKiBvdGhlcndpc2UgcmV0dXJucyBmYWxzZS5cblx0ICAgICAgICAgKi9cblx0ICAgICAgICBQLmxlc3NUaGFuID0gUC5sdCA9IGZ1bmN0aW9uICh5LCBiKSB7XG5cdCAgICAgICAgICAgIGlkID0gODtcblx0ICAgICAgICAgICAgcmV0dXJuIGNvbXBhcmUodGhpcywgbmV3IEJpZ051bWJlcih5LCBiKSkgPCAwO1xuXHQgICAgICAgIH07XG5cdFxuXHQgICAgICAgIC8qXG5cdCAgICAgICAgICogUmV0dXJuIHRydWUgaWYgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIGlzIGxlc3MgdGhhbiBvciBlcXVhbCB0byB0aGUgdmFsdWUgb2Zcblx0ICAgICAgICAgKiBCaWdOdW1iZXIoeSwgYiksIG90aGVyd2lzZSByZXR1cm5zIGZhbHNlLlxuXHQgICAgICAgICAqL1xuXHQgICAgICAgIFAubGVzc1RoYW5PckVxdWFsVG8gPSBQLmx0ZSA9IGZ1bmN0aW9uICh5LCBiKSB7XG5cdCAgICAgICAgICAgIGlkID0gOTtcblx0ICAgICAgICAgICAgcmV0dXJuIChiID0gY29tcGFyZSh0aGlzLCBuZXcgQmlnTnVtYmVyKHksIGIpKSkgPT09IC0xIHx8IGIgPT09IDA7XG5cdCAgICAgICAgfTtcblx0XG5cdCAgICAgICAgLypcblx0ICAgICAgICAgKiAgbiAtIDAgPSBuXG5cdCAgICAgICAgICogIG4gLSBOID0gTlxuXHQgICAgICAgICAqICBuIC0gSSA9IC1JXG5cdCAgICAgICAgICogIDAgLSBuID0gLW5cblx0ICAgICAgICAgKiAgMCAtIDAgPSAwXG5cdCAgICAgICAgICogIDAgLSBOID0gTlxuXHQgICAgICAgICAqICAwIC0gSSA9IC1JXG5cdCAgICAgICAgICogIE4gLSBuID0gTlxuXHQgICAgICAgICAqICBOIC0gMCA9IE5cblx0ICAgICAgICAgKiAgTiAtIE4gPSBOXG5cdCAgICAgICAgICogIE4gLSBJID0gTlxuXHQgICAgICAgICAqICBJIC0gbiA9IElcblx0ICAgICAgICAgKiAgSSAtIDAgPSBJXG5cdCAgICAgICAgICogIEkgLSBOID0gTlxuXHQgICAgICAgICAqICBJIC0gSSA9IE5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIFJldHVybiBhIG5ldyBCaWdOdW1iZXIgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIG1pbnVzIHRoZSB2YWx1ZSBvZlxuXHQgICAgICAgICAqIEJpZ051bWJlcih5LCBiKS5cblx0ICAgICAgICAgKi9cblx0ICAgICAgICBQLm1pbnVzID0gUC5zdWIgPSBmdW5jdGlvbiAoeSwgYikge1xuXHQgICAgICAgICAgICB2YXIgaSxcblx0ICAgICAgICAgICAgICAgIGosXG5cdCAgICAgICAgICAgICAgICB0LFxuXHQgICAgICAgICAgICAgICAgeExUeSxcblx0ICAgICAgICAgICAgICAgIHggPSB0aGlzLFxuXHQgICAgICAgICAgICAgICAgYSA9IHgucztcblx0XG5cdCAgICAgICAgICAgIGlkID0gMTA7XG5cdCAgICAgICAgICAgIHkgPSBuZXcgQmlnTnVtYmVyKHksIGIpO1xuXHQgICAgICAgICAgICBiID0geS5zO1xuXHRcblx0ICAgICAgICAgICAgLy8gRWl0aGVyIE5hTj9cblx0ICAgICAgICAgICAgaWYgKCFhIHx8ICFiKSByZXR1cm4gbmV3IEJpZ051bWJlcihOYU4pO1xuXHRcblx0ICAgICAgICAgICAgLy8gU2lnbnMgZGlmZmVyP1xuXHQgICAgICAgICAgICBpZiAoYSAhPSBiKSB7XG5cdCAgICAgICAgICAgICAgICB5LnMgPSAtYjtcblx0ICAgICAgICAgICAgICAgIHJldHVybiB4LnBsdXMoeSk7XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIHZhciB4ZSA9IHguZSAvIExPR19CQVNFLFxuXHQgICAgICAgICAgICAgICAgeWUgPSB5LmUgLyBMT0dfQkFTRSxcblx0ICAgICAgICAgICAgICAgIHhjID0geC5jLFxuXHQgICAgICAgICAgICAgICAgeWMgPSB5LmM7XG5cdFxuXHQgICAgICAgICAgICBpZiAoIXhlIHx8ICF5ZSkge1xuXHRcblx0ICAgICAgICAgICAgICAgIC8vIEVpdGhlciBJbmZpbml0eT9cblx0ICAgICAgICAgICAgICAgIGlmICgheGMgfHwgIXljKSByZXR1cm4geGMgPyAoeS5zID0gLWIsIHkpIDogbmV3IEJpZ051bWJlcih5YyA/IHggOiBOYU4pO1xuXHRcblx0ICAgICAgICAgICAgICAgIC8vIEVpdGhlciB6ZXJvP1xuXHQgICAgICAgICAgICAgICAgaWYgKCF4Y1swXSB8fCAheWNbMF0pIHtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgLy8gUmV0dXJuIHkgaWYgeSBpcyBub24temVybywgeCBpZiB4IGlzIG5vbi16ZXJvLCBvciB6ZXJvIGlmIGJvdGggYXJlIHplcm8uXG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHljWzBdID8gKHkucyA9IC1iLCB5KSA6IG5ldyBCaWdOdW1iZXIoeGNbMF0gPyB4IDpcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgLy8gSUVFRSA3NTQgKDIwMDgpIDYuMzogbiAtIG4gPSAtMCB3aGVuIHJvdW5kaW5nIHRvIC1JbmZpbml0eVxuXHQgICAgICAgICAgICAgICAgICAgIFJPVU5ESU5HX01PREUgPT0gMyA/IC0wIDogMCk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIHhlID0gYml0Rmxvb3IoeGUpO1xuXHQgICAgICAgICAgICB5ZSA9IGJpdEZsb29yKHllKTtcblx0ICAgICAgICAgICAgeGMgPSB4Yy5zbGljZSgpO1xuXHRcblx0ICAgICAgICAgICAgLy8gRGV0ZXJtaW5lIHdoaWNoIGlzIHRoZSBiaWdnZXIgbnVtYmVyLlxuXHQgICAgICAgICAgICBpZiAoYSA9IHhlIC0geWUpIHtcblx0XG5cdCAgICAgICAgICAgICAgICBpZiAoeExUeSA9IGEgPCAwKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgYSA9IC1hO1xuXHQgICAgICAgICAgICAgICAgICAgIHQgPSB4Yztcblx0ICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgeWUgPSB4ZTtcblx0ICAgICAgICAgICAgICAgICAgICB0ID0geWM7XG5cdCAgICAgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICAgICAgdC5yZXZlcnNlKCk7XG5cdFxuXHQgICAgICAgICAgICAgICAgLy8gUHJlcGVuZCB6ZXJvcyB0byBlcXVhbGlzZSBleHBvbmVudHMuXG5cdCAgICAgICAgICAgICAgICBmb3IgKGIgPSBhOyBiLS07IHQucHVzaCgwKSkge31cblx0ICAgICAgICAgICAgICAgIHQucmV2ZXJzZSgpO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHRcblx0ICAgICAgICAgICAgICAgIC8vIEV4cG9uZW50cyBlcXVhbC4gQ2hlY2sgZGlnaXQgYnkgZGlnaXQuXG5cdCAgICAgICAgICAgICAgICBqID0gKHhMVHkgPSAoYSA9IHhjLmxlbmd0aCkgPCAoYiA9IHljLmxlbmd0aCkpID8gYSA6IGI7XG5cdFxuXHQgICAgICAgICAgICAgICAgZm9yIChhID0gYiA9IDA7IGIgPCBqOyBiKyspIHtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKHhjW2JdICE9IHljW2JdKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHhMVHkgPSB4Y1tiXSA8IHljW2JdO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIC8vIHggPCB5PyBQb2ludCB4YyB0byB0aGUgYXJyYXkgb2YgdGhlIGJpZ2dlciBudW1iZXIuXG5cdCAgICAgICAgICAgIGlmICh4TFR5KSB0ID0geGMsIHhjID0geWMsIHljID0gdCwgeS5zID0gLXkucztcblx0XG5cdCAgICAgICAgICAgIGIgPSAoaiA9IHljLmxlbmd0aCkgLSAoaSA9IHhjLmxlbmd0aCk7XG5cdFxuXHQgICAgICAgICAgICAvLyBBcHBlbmQgemVyb3MgdG8geGMgaWYgc2hvcnRlci5cblx0ICAgICAgICAgICAgLy8gTm8gbmVlZCB0byBhZGQgemVyb3MgdG8geWMgaWYgc2hvcnRlciBhcyBzdWJ0cmFjdCBvbmx5IG5lZWRzIHRvIHN0YXJ0IGF0IHljLmxlbmd0aC5cblx0ICAgICAgICAgICAgaWYgKGIgPiAwKSBmb3IgKDsgYi0tOyB4Y1tpKytdID0gMCkge31cblx0ICAgICAgICAgICAgYiA9IEJBU0UgLSAxO1xuXHRcblx0ICAgICAgICAgICAgLy8gU3VidHJhY3QgeWMgZnJvbSB4Yy5cblx0ICAgICAgICAgICAgZm9yICg7IGogPiBhOykge1xuXHRcblx0ICAgICAgICAgICAgICAgIGlmICh4Y1stLWpdIDwgeWNbal0pIHtcblx0ICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSBqOyBpICYmICF4Y1stLWldOyB4Y1tpXSA9IGIpIHt9XG5cdCAgICAgICAgICAgICAgICAgICAgLS14Y1tpXTtcblx0ICAgICAgICAgICAgICAgICAgICB4Y1tqXSArPSBCQVNFO1xuXHQgICAgICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgICAgIHhjW2pdIC09IHljW2pdO1xuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICAvLyBSZW1vdmUgbGVhZGluZyB6ZXJvcyBhbmQgYWRqdXN0IGV4cG9uZW50IGFjY29yZGluZ2x5LlxuXHQgICAgICAgICAgICBmb3IgKDsgeGNbMF0gPT0gMDsgeGMuc2hpZnQoKSwgLS15ZSkge31cblx0XG5cdCAgICAgICAgICAgIC8vIFplcm8/XG5cdCAgICAgICAgICAgIGlmICgheGNbMF0pIHtcblx0XG5cdCAgICAgICAgICAgICAgICAvLyBGb2xsb3dpbmcgSUVFRSA3NTQgKDIwMDgpIDYuMyxcblx0ICAgICAgICAgICAgICAgIC8vIG4gLSBuID0gKzAgIGJ1dCAgbiAtIG4gPSAtMCAgd2hlbiByb3VuZGluZyB0b3dhcmRzIC1JbmZpbml0eS5cblx0ICAgICAgICAgICAgICAgIHkucyA9IFJPVU5ESU5HX01PREUgPT0gMyA/IC0xIDogMTtcblx0ICAgICAgICAgICAgICAgIHkuYyA9IFt5LmUgPSAwXTtcblx0ICAgICAgICAgICAgICAgIHJldHVybiB5O1xuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICAvLyBObyBuZWVkIHRvIGNoZWNrIGZvciBJbmZpbml0eSBhcyAreCAtICt5ICE9IEluZmluaXR5ICYmIC14IC0gLXkgIT0gSW5maW5pdHlcblx0ICAgICAgICAgICAgLy8gZm9yIGZpbml0ZSB4IGFuZCB5LlxuXHQgICAgICAgICAgICByZXR1cm4gbm9ybWFsaXNlKHksIHhjLCB5ZSk7XG5cdCAgICAgICAgfTtcblx0XG5cdCAgICAgICAgLypcblx0ICAgICAgICAgKiAgIG4gJSAwID0gIE5cblx0ICAgICAgICAgKiAgIG4gJSBOID0gIE5cblx0ICAgICAgICAgKiAgIG4gJSBJID0gIG5cblx0ICAgICAgICAgKiAgIDAgJSBuID0gIDBcblx0ICAgICAgICAgKiAgLTAgJSBuID0gLTBcblx0ICAgICAgICAgKiAgIDAgJSAwID0gIE5cblx0ICAgICAgICAgKiAgIDAgJSBOID0gIE5cblx0ICAgICAgICAgKiAgIDAgJSBJID0gIDBcblx0ICAgICAgICAgKiAgIE4gJSBuID0gIE5cblx0ICAgICAgICAgKiAgIE4gJSAwID0gIE5cblx0ICAgICAgICAgKiAgIE4gJSBOID0gIE5cblx0ICAgICAgICAgKiAgIE4gJSBJID0gIE5cblx0ICAgICAgICAgKiAgIEkgJSBuID0gIE5cblx0ICAgICAgICAgKiAgIEkgJSAwID0gIE5cblx0ICAgICAgICAgKiAgIEkgJSBOID0gIE5cblx0ICAgICAgICAgKiAgIEkgJSBJID0gIE5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIFJldHVybiBhIG5ldyBCaWdOdW1iZXIgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIG1vZHVsbyB0aGUgdmFsdWUgb2Zcblx0ICAgICAgICAgKiBCaWdOdW1iZXIoeSwgYikuIFRoZSByZXN1bHQgZGVwZW5kcyBvbiB0aGUgdmFsdWUgb2YgTU9EVUxPX01PREUuXG5cdCAgICAgICAgICovXG5cdCAgICAgICAgUC5tb2R1bG8gPSBQLm1vZCA9IGZ1bmN0aW9uICh5LCBiKSB7XG5cdCAgICAgICAgICAgIHZhciBxLFxuXHQgICAgICAgICAgICAgICAgcyxcblx0ICAgICAgICAgICAgICAgIHggPSB0aGlzO1xuXHRcblx0ICAgICAgICAgICAgaWQgPSAxMTtcblx0ICAgICAgICAgICAgeSA9IG5ldyBCaWdOdW1iZXIoeSwgYik7XG5cdFxuXHQgICAgICAgICAgICAvLyBSZXR1cm4gTmFOIGlmIHggaXMgSW5maW5pdHkgb3IgTmFOLCBvciB5IGlzIE5hTiBvciB6ZXJvLlxuXHQgICAgICAgICAgICBpZiAoIXguYyB8fCAheS5zIHx8IHkuYyAmJiAheS5jWzBdKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEJpZ051bWJlcihOYU4pO1xuXHRcblx0ICAgICAgICAgICAgICAgIC8vIFJldHVybiB4IGlmIHkgaXMgSW5maW5pdHkgb3IgeCBpcyB6ZXJvLlxuXHQgICAgICAgICAgICB9IGVsc2UgaWYgKCF5LmMgfHwgeC5jICYmICF4LmNbMF0pIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQmlnTnVtYmVyKHgpO1xuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICBpZiAoTU9EVUxPX01PREUgPT0gOSkge1xuXHRcblx0ICAgICAgICAgICAgICAgIC8vIEV1Y2xpZGlhbiBkaXZpc2lvbjogcSA9IHNpZ24oeSkgKiBmbG9vcih4IC8gYWJzKHkpKVxuXHQgICAgICAgICAgICAgICAgLy8gciA9IHggLSBxeSAgICB3aGVyZSAgMCA8PSByIDwgYWJzKHkpXG5cdCAgICAgICAgICAgICAgICBzID0geS5zO1xuXHQgICAgICAgICAgICAgICAgeS5zID0gMTtcblx0ICAgICAgICAgICAgICAgIHEgPSBkaXYoeCwgeSwgMCwgMyk7XG5cdCAgICAgICAgICAgICAgICB5LnMgPSBzO1xuXHQgICAgICAgICAgICAgICAgcS5zICo9IHM7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICBxID0gZGl2KHgsIHksIDAsIE1PRFVMT19NT0RFKTtcblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIHgubWludXMocS50aW1lcyh5KSk7XG5cdCAgICAgICAgfTtcblx0XG5cdCAgICAgICAgLypcblx0ICAgICAgICAgKiBSZXR1cm4gYSBuZXcgQmlnTnVtYmVyIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBuZWdhdGVkLFxuXHQgICAgICAgICAqIGkuZS4gbXVsdGlwbGllZCBieSAtMS5cblx0ICAgICAgICAgKi9cblx0ICAgICAgICBQLm5lZ2F0ZWQgPSBQLm5lZyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgdmFyIHggPSBuZXcgQmlnTnVtYmVyKHRoaXMpO1xuXHQgICAgICAgICAgICB4LnMgPSAteC5zIHx8IG51bGw7XG5cdCAgICAgICAgICAgIHJldHVybiB4O1xuXHQgICAgICAgIH07XG5cdFxuXHQgICAgICAgIC8qXG5cdCAgICAgICAgICogIG4gKyAwID0gblxuXHQgICAgICAgICAqICBuICsgTiA9IE5cblx0ICAgICAgICAgKiAgbiArIEkgPSBJXG5cdCAgICAgICAgICogIDAgKyBuID0gblxuXHQgICAgICAgICAqICAwICsgMCA9IDBcblx0ICAgICAgICAgKiAgMCArIE4gPSBOXG5cdCAgICAgICAgICogIDAgKyBJID0gSVxuXHQgICAgICAgICAqICBOICsgbiA9IE5cblx0ICAgICAgICAgKiAgTiArIDAgPSBOXG5cdCAgICAgICAgICogIE4gKyBOID0gTlxuXHQgICAgICAgICAqICBOICsgSSA9IE5cblx0ICAgICAgICAgKiAgSSArIG4gPSBJXG5cdCAgICAgICAgICogIEkgKyAwID0gSVxuXHQgICAgICAgICAqICBJICsgTiA9IE5cblx0ICAgICAgICAgKiAgSSArIEkgPSBJXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBSZXR1cm4gYSBuZXcgQmlnTnVtYmVyIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBwbHVzIHRoZSB2YWx1ZSBvZlxuXHQgICAgICAgICAqIEJpZ051bWJlcih5LCBiKS5cblx0ICAgICAgICAgKi9cblx0ICAgICAgICBQLnBsdXMgPSBQLmFkZCA9IGZ1bmN0aW9uICh5LCBiKSB7XG5cdCAgICAgICAgICAgIHZhciB0LFxuXHQgICAgICAgICAgICAgICAgeCA9IHRoaXMsXG5cdCAgICAgICAgICAgICAgICBhID0geC5zO1xuXHRcblx0ICAgICAgICAgICAgaWQgPSAxMjtcblx0ICAgICAgICAgICAgeSA9IG5ldyBCaWdOdW1iZXIoeSwgYik7XG5cdCAgICAgICAgICAgIGIgPSB5LnM7XG5cdFxuXHQgICAgICAgICAgICAvLyBFaXRoZXIgTmFOP1xuXHQgICAgICAgICAgICBpZiAoIWEgfHwgIWIpIHJldHVybiBuZXcgQmlnTnVtYmVyKE5hTik7XG5cdFxuXHQgICAgICAgICAgICAvLyBTaWducyBkaWZmZXI/XG5cdCAgICAgICAgICAgIGlmIChhICE9IGIpIHtcblx0ICAgICAgICAgICAgICAgIHkucyA9IC1iO1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHgubWludXMoeSk7XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIHZhciB4ZSA9IHguZSAvIExPR19CQVNFLFxuXHQgICAgICAgICAgICAgICAgeWUgPSB5LmUgLyBMT0dfQkFTRSxcblx0ICAgICAgICAgICAgICAgIHhjID0geC5jLFxuXHQgICAgICAgICAgICAgICAgeWMgPSB5LmM7XG5cdFxuXHQgICAgICAgICAgICBpZiAoIXhlIHx8ICF5ZSkge1xuXHRcblx0ICAgICAgICAgICAgICAgIC8vIFJldHVybiDCsUluZmluaXR5IGlmIGVpdGhlciDCsUluZmluaXR5LlxuXHQgICAgICAgICAgICAgICAgaWYgKCF4YyB8fCAheWMpIHJldHVybiBuZXcgQmlnTnVtYmVyKGEgLyAwKTtcblx0XG5cdCAgICAgICAgICAgICAgICAvLyBFaXRoZXIgemVybz9cblx0ICAgICAgICAgICAgICAgIC8vIFJldHVybiB5IGlmIHkgaXMgbm9uLXplcm8sIHggaWYgeCBpcyBub24temVybywgb3IgemVybyBpZiBib3RoIGFyZSB6ZXJvLlxuXHQgICAgICAgICAgICAgICAgaWYgKCF4Y1swXSB8fCAheWNbMF0pIHJldHVybiB5Y1swXSA/IHkgOiBuZXcgQmlnTnVtYmVyKHhjWzBdID8geCA6IGEgKiAwKTtcblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgeGUgPSBiaXRGbG9vcih4ZSk7XG5cdCAgICAgICAgICAgIHllID0gYml0Rmxvb3IoeWUpO1xuXHQgICAgICAgICAgICB4YyA9IHhjLnNsaWNlKCk7XG5cdFxuXHQgICAgICAgICAgICAvLyBQcmVwZW5kIHplcm9zIHRvIGVxdWFsaXNlIGV4cG9uZW50cy4gRmFzdGVyIHRvIHVzZSByZXZlcnNlIHRoZW4gZG8gdW5zaGlmdHMuXG5cdCAgICAgICAgICAgIGlmIChhID0geGUgLSB5ZSkge1xuXHQgICAgICAgICAgICAgICAgaWYgKGEgPiAwKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgeWUgPSB4ZTtcblx0ICAgICAgICAgICAgICAgICAgICB0ID0geWM7XG5cdCAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgIGEgPSAtYTtcblx0ICAgICAgICAgICAgICAgICAgICB0ID0geGM7XG5cdCAgICAgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICAgICAgdC5yZXZlcnNlKCk7XG5cdCAgICAgICAgICAgICAgICBmb3IgKDsgYS0tOyB0LnB1c2goMCkpIHt9XG5cdCAgICAgICAgICAgICAgICB0LnJldmVyc2UoKTtcblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgYSA9IHhjLmxlbmd0aDtcblx0ICAgICAgICAgICAgYiA9IHljLmxlbmd0aDtcblx0XG5cdCAgICAgICAgICAgIC8vIFBvaW50IHhjIHRvIHRoZSBsb25nZXIgYXJyYXksIGFuZCBiIHRvIHRoZSBzaG9ydGVyIGxlbmd0aC5cblx0ICAgICAgICAgICAgaWYgKGEgLSBiIDwgMCkgdCA9IHljLCB5YyA9IHhjLCB4YyA9IHQsIGIgPSBhO1xuXHRcblx0ICAgICAgICAgICAgLy8gT25seSBzdGFydCBhZGRpbmcgYXQgeWMubGVuZ3RoIC0gMSBhcyB0aGUgZnVydGhlciBkaWdpdHMgb2YgeGMgY2FuIGJlIGlnbm9yZWQuXG5cdCAgICAgICAgICAgIGZvciAoYSA9IDA7IGI7KSB7XG5cdCAgICAgICAgICAgICAgICBhID0gKHhjWy0tYl0gPSB4Y1tiXSArIHljW2JdICsgYSkgLyBCQVNFIHwgMDtcblx0ICAgICAgICAgICAgICAgIHhjW2JdICU9IEJBU0U7XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIGlmIChhKSB7XG5cdCAgICAgICAgICAgICAgICB4Yy51bnNoaWZ0KGEpO1xuXHQgICAgICAgICAgICAgICAgKyt5ZTtcblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgLy8gTm8gbmVlZCB0byBjaGVjayBmb3IgemVybywgYXMgK3ggKyAreSAhPSAwICYmIC14ICsgLXkgIT0gMFxuXHQgICAgICAgICAgICAvLyB5ZSA9IE1BWF9FWFAgKyAxIHBvc3NpYmxlXG5cdCAgICAgICAgICAgIHJldHVybiBub3JtYWxpc2UoeSwgeGMsIHllKTtcblx0ICAgICAgICB9O1xuXHRcblx0ICAgICAgICAvKlxuXHQgICAgICAgICAqIFJldHVybiB0aGUgbnVtYmVyIG9mIHNpZ25pZmljYW50IGRpZ2l0cyBvZiB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBbel0ge2Jvb2xlYW58bnVtYmVyfSBXaGV0aGVyIHRvIGNvdW50IGludGVnZXItcGFydCB0cmFpbGluZyB6ZXJvczogdHJ1ZSwgZmFsc2UsIDEgb3IgMC5cblx0ICAgICAgICAgKi9cblx0ICAgICAgICBQLnByZWNpc2lvbiA9IFAuc2QgPSBmdW5jdGlvbiAoeikge1xuXHQgICAgICAgICAgICB2YXIgbixcblx0ICAgICAgICAgICAgICAgIHYsXG5cdCAgICAgICAgICAgICAgICB4ID0gdGhpcyxcblx0ICAgICAgICAgICAgICAgIGMgPSB4LmM7XG5cdFxuXHQgICAgICAgICAgICAvLyAncHJlY2lzaW9uKCkgYXJndW1lbnQgbm90IGEgYm9vbGVhbiBvciBiaW5hcnkgZGlnaXQ6IHt6fSdcblx0ICAgICAgICAgICAgaWYgKHogIT0gbnVsbCAmJiB6ICE9PSAhIXogJiYgeiAhPT0gMSAmJiB6ICE9PSAwKSB7XG5cdCAgICAgICAgICAgICAgICBpZiAoRVJST1JTKSByYWlzZSgxMywgJ2FyZ3VtZW50JyArIG5vdEJvb2wsIHopO1xuXHQgICAgICAgICAgICAgICAgaWYgKHogIT0gISF6KSB6ID0gbnVsbDtcblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgaWYgKCFjKSByZXR1cm4gbnVsbDtcblx0ICAgICAgICAgICAgdiA9IGMubGVuZ3RoIC0gMTtcblx0ICAgICAgICAgICAgbiA9IHYgKiBMT0dfQkFTRSArIDE7XG5cdFxuXHQgICAgICAgICAgICBpZiAodiA9IGNbdl0pIHtcblx0XG5cdCAgICAgICAgICAgICAgICAvLyBTdWJ0cmFjdCB0aGUgbnVtYmVyIG9mIHRyYWlsaW5nIHplcm9zIG9mIHRoZSBsYXN0IGVsZW1lbnQuXG5cdCAgICAgICAgICAgICAgICBmb3IgKDsgdiAlIDEwID09IDA7IHYgLz0gMTAsIG4tLSkge31cblx0XG5cdCAgICAgICAgICAgICAgICAvLyBBZGQgdGhlIG51bWJlciBvZiBkaWdpdHMgb2YgdGhlIGZpcnN0IGVsZW1lbnQuXG5cdCAgICAgICAgICAgICAgICBmb3IgKHYgPSBjWzBdOyB2ID49IDEwOyB2IC89IDEwLCBuKyspIHt9XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIGlmICh6ICYmIHguZSArIDEgPiBuKSBuID0geC5lICsgMTtcblx0XG5cdCAgICAgICAgICAgIHJldHVybiBuO1xuXHQgICAgICAgIH07XG5cdFxuXHQgICAgICAgIC8qXG5cdCAgICAgICAgICogUmV0dXJuIGEgbmV3IEJpZ051bWJlciB3aG9zZSB2YWx1ZSBpcyB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgcm91bmRlZCB0byBhIG1heGltdW0gb2Zcblx0ICAgICAgICAgKiBkcCBkZWNpbWFsIHBsYWNlcyB1c2luZyByb3VuZGluZyBtb2RlIHJtLCBvciB0byAwIGFuZCBST1VORElOR19NT0RFIHJlc3BlY3RpdmVseSBpZlxuXHQgICAgICAgICAqIG9taXR0ZWQuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBbZHBdIHtudW1iZXJ9IERlY2ltYWwgcGxhY2VzLiBJbnRlZ2VyLCAwIHRvIE1BWCBpbmNsdXNpdmUuXG5cdCAgICAgICAgICogW3JtXSB7bnVtYmVyfSBSb3VuZGluZyBtb2RlLiBJbnRlZ2VyLCAwIHRvIDggaW5jbHVzaXZlLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogJ3JvdW5kKCkgZGVjaW1hbCBwbGFjZXMgb3V0IG9mIHJhbmdlOiB7ZHB9J1xuXHQgICAgICAgICAqICdyb3VuZCgpIGRlY2ltYWwgcGxhY2VzIG5vdCBhbiBpbnRlZ2VyOiB7ZHB9J1xuXHQgICAgICAgICAqICdyb3VuZCgpIHJvdW5kaW5nIG1vZGUgbm90IGFuIGludGVnZXI6IHtybX0nXG5cdCAgICAgICAgICogJ3JvdW5kKCkgcm91bmRpbmcgbW9kZSBvdXQgb2YgcmFuZ2U6IHtybX0nXG5cdCAgICAgICAgICovXG5cdCAgICAgICAgUC5yb3VuZCA9IGZ1bmN0aW9uIChkcCwgcm0pIHtcblx0ICAgICAgICAgICAgdmFyIG4gPSBuZXcgQmlnTnVtYmVyKHRoaXMpO1xuXHRcblx0ICAgICAgICAgICAgaWYgKGRwID09IG51bGwgfHwgaXNWYWxpZEludChkcCwgMCwgTUFYLCAxNSkpIHtcblx0ICAgICAgICAgICAgICAgIHJvdW5kKG4sIH5+ZHAgKyB0aGlzLmUgKyAxLCBybSA9PSBudWxsIHx8ICFpc1ZhbGlkSW50KHJtLCAwLCA4LCAxNSwgcm91bmRpbmdNb2RlKSA/IFJPVU5ESU5HX01PREUgOiBybSB8IDApO1xuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gbjtcblx0ICAgICAgICB9O1xuXHRcblx0ICAgICAgICAvKlxuXHQgICAgICAgICAqIFJldHVybiBhIG5ldyBCaWdOdW1iZXIgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIHNoaWZ0ZWQgYnkgayBwbGFjZXNcblx0ICAgICAgICAgKiAocG93ZXJzIG9mIDEwKS4gU2hpZnQgdG8gdGhlIHJpZ2h0IGlmIG4gPiAwLCBhbmQgdG8gdGhlIGxlZnQgaWYgbiA8IDAuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBrIHtudW1iZXJ9IEludGVnZXIsIC1NQVhfU0FGRV9JTlRFR0VSIHRvIE1BWF9TQUZFX0lOVEVHRVIgaW5jbHVzaXZlLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogSWYgayBpcyBvdXQgb2YgcmFuZ2UgYW5kIEVSUk9SUyBpcyBmYWxzZSwgdGhlIHJlc3VsdCB3aWxsIGJlIMKxMCBpZiBrIDwgMCwgb3IgwrFJbmZpbml0eVxuXHQgICAgICAgICAqIG90aGVyd2lzZS5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqICdzaGlmdCgpIGFyZ3VtZW50IG5vdCBhbiBpbnRlZ2VyOiB7a30nXG5cdCAgICAgICAgICogJ3NoaWZ0KCkgYXJndW1lbnQgb3V0IG9mIHJhbmdlOiB7a30nXG5cdCAgICAgICAgICovXG5cdCAgICAgICAgUC5zaGlmdCA9IGZ1bmN0aW9uIChrKSB7XG5cdCAgICAgICAgICAgIHZhciBuID0gdGhpcztcblx0ICAgICAgICAgICAgcmV0dXJuIGlzVmFsaWRJbnQoaywgLU1BWF9TQUZFX0lOVEVHRVIsIE1BWF9TQUZFX0lOVEVHRVIsIDE2LCAnYXJndW1lbnQnKVxuXHRcblx0ICAgICAgICAgICAgLy8gayA8IDFlKzIxLCBvciB0cnVuY2F0ZShrKSB3aWxsIHByb2R1Y2UgZXhwb25lbnRpYWwgbm90YXRpb24uXG5cdCAgICAgICAgICAgID8gbi50aW1lcygnMWUnICsgdHJ1bmNhdGUoaykpIDogbmV3IEJpZ051bWJlcihuLmMgJiYgbi5jWzBdICYmIChrIDwgLU1BWF9TQUZFX0lOVEVHRVIgfHwgayA+IE1BWF9TQUZFX0lOVEVHRVIpID8gbi5zICogKGsgPCAwID8gMCA6IDEgLyAwKSA6IG4pO1xuXHQgICAgICAgIH07XG5cdFxuXHQgICAgICAgIC8qXG5cdCAgICAgICAgICogIHNxcnQoLW4pID0gIE5cblx0ICAgICAgICAgKiAgc3FydCggTikgPSAgTlxuXHQgICAgICAgICAqICBzcXJ0KC1JKSA9ICBOXG5cdCAgICAgICAgICogIHNxcnQoIEkpID0gIElcblx0ICAgICAgICAgKiAgc3FydCggMCkgPSAgMFxuXHQgICAgICAgICAqICBzcXJ0KC0wKSA9IC0wXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBSZXR1cm4gYSBuZXcgQmlnTnVtYmVyIHdob3NlIHZhbHVlIGlzIHRoZSBzcXVhcmUgcm9vdCBvZiB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIsXG5cdCAgICAgICAgICogcm91bmRlZCBhY2NvcmRpbmcgdG8gREVDSU1BTF9QTEFDRVMgYW5kIFJPVU5ESU5HX01PREUuXG5cdCAgICAgICAgICovXG5cdCAgICAgICAgUC5zcXVhcmVSb290ID0gUC5zcXJ0ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICB2YXIgbSxcblx0ICAgICAgICAgICAgICAgIG4sXG5cdCAgICAgICAgICAgICAgICByLFxuXHQgICAgICAgICAgICAgICAgcmVwLFxuXHQgICAgICAgICAgICAgICAgdCxcblx0ICAgICAgICAgICAgICAgIHggPSB0aGlzLFxuXHQgICAgICAgICAgICAgICAgYyA9IHguYyxcblx0ICAgICAgICAgICAgICAgIHMgPSB4LnMsXG5cdCAgICAgICAgICAgICAgICBlID0geC5lLFxuXHQgICAgICAgICAgICAgICAgZHAgPSBERUNJTUFMX1BMQUNFUyArIDQsXG5cdCAgICAgICAgICAgICAgICBoYWxmID0gbmV3IEJpZ051bWJlcignMC41Jyk7XG5cdFxuXHQgICAgICAgICAgICAvLyBOZWdhdGl2ZS9OYU4vSW5maW5pdHkvemVybz9cblx0ICAgICAgICAgICAgaWYgKHMgIT09IDEgfHwgIWMgfHwgIWNbMF0pIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQmlnTnVtYmVyKCFzIHx8IHMgPCAwICYmICghYyB8fCBjWzBdKSA/IE5hTiA6IGMgPyB4IDogMSAvIDApO1xuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICAvLyBJbml0aWFsIGVzdGltYXRlLlxuXHQgICAgICAgICAgICBzID0gTWF0aC5zcXJ0KCt4KTtcblx0XG5cdCAgICAgICAgICAgIC8vIE1hdGguc3FydCB1bmRlcmZsb3cvb3ZlcmZsb3c/XG5cdCAgICAgICAgICAgIC8vIFBhc3MgeCB0byBNYXRoLnNxcnQgYXMgaW50ZWdlciwgdGhlbiBhZGp1c3QgdGhlIGV4cG9uZW50IG9mIHRoZSByZXN1bHQuXG5cdCAgICAgICAgICAgIGlmIChzID09IDAgfHwgcyA9PSAxIC8gMCkge1xuXHQgICAgICAgICAgICAgICAgbiA9IGNvZWZmVG9TdHJpbmcoYyk7XG5cdCAgICAgICAgICAgICAgICBpZiAoKG4ubGVuZ3RoICsgZSkgJSAyID09IDApIG4gKz0gJzAnO1xuXHQgICAgICAgICAgICAgICAgcyA9IE1hdGguc3FydChuKTtcblx0ICAgICAgICAgICAgICAgIGUgPSBiaXRGbG9vcigoZSArIDEpIC8gMikgLSAoZSA8IDAgfHwgZSAlIDIpO1xuXHRcblx0ICAgICAgICAgICAgICAgIGlmIChzID09IDEgLyAwKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgbiA9ICcxZScgKyBlO1xuXHQgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICBuID0gcy50b0V4cG9uZW50aWFsKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgbiA9IG4uc2xpY2UoMCwgbi5pbmRleE9mKCdlJykgKyAxKSArIGU7XG5cdCAgICAgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICAgICAgciA9IG5ldyBCaWdOdW1iZXIobik7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICByID0gbmV3IEJpZ051bWJlcihzICsgJycpO1xuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICAvLyBDaGVjayBmb3IgemVyby5cblx0ICAgICAgICAgICAgLy8gciBjb3VsZCBiZSB6ZXJvIGlmIE1JTl9FWFAgaXMgY2hhbmdlZCBhZnRlciB0aGUgdGhpcyB2YWx1ZSB3YXMgY3JlYXRlZC5cblx0ICAgICAgICAgICAgLy8gVGhpcyB3b3VsZCBjYXVzZSBhIGRpdmlzaW9uIGJ5IHplcm8gKHgvdCkgYW5kIGhlbmNlIEluZmluaXR5IGJlbG93LCB3aGljaCB3b3VsZCBjYXVzZVxuXHQgICAgICAgICAgICAvLyBjb2VmZlRvU3RyaW5nIHRvIHRocm93LlxuXHQgICAgICAgICAgICBpZiAoci5jWzBdKSB7XG5cdCAgICAgICAgICAgICAgICBlID0gci5lO1xuXHQgICAgICAgICAgICAgICAgcyA9IGUgKyBkcDtcblx0ICAgICAgICAgICAgICAgIGlmIChzIDwgMykgcyA9IDA7XG5cdFxuXHQgICAgICAgICAgICAgICAgLy8gTmV3dG9uLVJhcGhzb24gaXRlcmF0aW9uLlxuXHQgICAgICAgICAgICAgICAgZm9yICg7Oykge1xuXHQgICAgICAgICAgICAgICAgICAgIHQgPSByO1xuXHQgICAgICAgICAgICAgICAgICAgIHIgPSBoYWxmLnRpbWVzKHQucGx1cyhkaXYoeCwgdCwgZHAsIDEpKSk7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgIGlmIChjb2VmZlRvU3RyaW5nKHQuYykuc2xpY2UoMCwgcykgPT09IChuID0gY29lZmZUb1N0cmluZyhyLmMpKS5zbGljZSgwLCBzKSkge1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGV4cG9uZW50IG9mIHIgbWF5IGhlcmUgYmUgb25lIGxlc3MgdGhhbiB0aGUgZmluYWwgcmVzdWx0IGV4cG9uZW50LFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAvLyBlLmcgMC4wMDA5OTk5IChlLTQpIC0tPiAwLjAwMSAoZS0zKSwgc28gYWRqdXN0IHMgc28gdGhlIHJvdW5kaW5nIGRpZ2l0c1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAvLyBhcmUgaW5kZXhlZCBjb3JyZWN0bHkuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyLmUgPCBlKSAtLXM7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIG4gPSBuLnNsaWNlKHMgLSAzLCBzICsgMSk7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgNHRoIHJvdW5kaW5nIGRpZ2l0IG1heSBiZSBpbiBlcnJvciBieSAtMSBzbyBpZiB0aGUgNCByb3VuZGluZyBkaWdpdHNcblx0ICAgICAgICAgICAgICAgICAgICAgICAgLy8gYXJlIDk5OTkgb3IgNDk5OSAoaS5lLiBhcHByb2FjaGluZyBhIHJvdW5kaW5nIGJvdW5kYXJ5KSBjb250aW51ZSB0aGVcblx0ICAgICAgICAgICAgICAgICAgICAgICAgLy8gaXRlcmF0aW9uLlxuXHQgICAgICAgICAgICAgICAgICAgICAgICBpZiAobiA9PSAnOTk5OScgfHwgIXJlcCAmJiBuID09ICc0OTk5Jykge1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9uIHRoZSBmaXJzdCBpdGVyYXRpb24gb25seSwgY2hlY2sgdG8gc2VlIGlmIHJvdW5kaW5nIHVwIGdpdmVzIHRoZVxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXhhY3QgcmVzdWx0IGFzIHRoZSBuaW5lcyBtYXkgaW5maW5pdGVseSByZXBlYXQuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJlcCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdW5kKHQsIHQuZSArIERFQ0lNQUxfUExBQ0VTICsgMiwgMCk7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0LnRpbWVzKHQpLmVxKHgpKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHIgPSB0O1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgZHAgKz0gNDtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMgKz0gNDtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcCA9IDE7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgcm91bmRpbmcgZGlnaXRzIGFyZSBudWxsLCAwezAsNH0gb3IgNTB7MCwzfSwgY2hlY2sgZm9yIGV4YWN0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZXN1bHQuIElmIG5vdCwgdGhlbiB0aGVyZSBhcmUgZnVydGhlciBkaWdpdHMgYW5kIG0gd2lsbCBiZSB0cnV0aHkuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIStuIHx8ICErbi5zbGljZSgxKSAmJiBuLmNoYXJBdCgwKSA9PSAnNScpIHtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVHJ1bmNhdGUgdG8gdGhlIGZpcnN0IHJvdW5kaW5nIGRpZ2l0LlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdW5kKHIsIHIuZSArIERFQ0lNQUxfUExBQ0VTICsgMiwgMSk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbSA9ICFyLnRpbWVzKHIpLmVxKHgpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gcm91bmQociwgci5lICsgREVDSU1BTF9QTEFDRVMgKyAxLCBST1VORElOR19NT0RFLCBtKTtcblx0ICAgICAgICB9O1xuXHRcblx0ICAgICAgICAvKlxuXHQgICAgICAgICAqICBuICogMCA9IDBcblx0ICAgICAgICAgKiAgbiAqIE4gPSBOXG5cdCAgICAgICAgICogIG4gKiBJID0gSVxuXHQgICAgICAgICAqICAwICogbiA9IDBcblx0ICAgICAgICAgKiAgMCAqIDAgPSAwXG5cdCAgICAgICAgICogIDAgKiBOID0gTlxuXHQgICAgICAgICAqICAwICogSSA9IE5cblx0ICAgICAgICAgKiAgTiAqIG4gPSBOXG5cdCAgICAgICAgICogIE4gKiAwID0gTlxuXHQgICAgICAgICAqICBOICogTiA9IE5cblx0ICAgICAgICAgKiAgTiAqIEkgPSBOXG5cdCAgICAgICAgICogIEkgKiBuID0gSVxuXHQgICAgICAgICAqICBJICogMCA9IE5cblx0ICAgICAgICAgKiAgSSAqIE4gPSBOXG5cdCAgICAgICAgICogIEkgKiBJID0gSVxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogUmV0dXJuIGEgbmV3IEJpZ051bWJlciB3aG9zZSB2YWx1ZSBpcyB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgdGltZXMgdGhlIHZhbHVlIG9mXG5cdCAgICAgICAgICogQmlnTnVtYmVyKHksIGIpLlxuXHQgICAgICAgICAqL1xuXHQgICAgICAgIFAudGltZXMgPSBQLm11bCA9IGZ1bmN0aW9uICh5LCBiKSB7XG5cdCAgICAgICAgICAgIHZhciBjLFxuXHQgICAgICAgICAgICAgICAgZSxcblx0ICAgICAgICAgICAgICAgIGksXG5cdCAgICAgICAgICAgICAgICBqLFxuXHQgICAgICAgICAgICAgICAgayxcblx0ICAgICAgICAgICAgICAgIG0sXG5cdCAgICAgICAgICAgICAgICB4Y0wsXG5cdCAgICAgICAgICAgICAgICB4bG8sXG5cdCAgICAgICAgICAgICAgICB4aGksXG5cdCAgICAgICAgICAgICAgICB5Y0wsXG5cdCAgICAgICAgICAgICAgICB5bG8sXG5cdCAgICAgICAgICAgICAgICB5aGksXG5cdCAgICAgICAgICAgICAgICB6Yyxcblx0ICAgICAgICAgICAgICAgIGJhc2UsXG5cdCAgICAgICAgICAgICAgICBzcXJ0QmFzZSxcblx0ICAgICAgICAgICAgICAgIHggPSB0aGlzLFxuXHQgICAgICAgICAgICAgICAgeGMgPSB4LmMsXG5cdCAgICAgICAgICAgICAgICB5YyA9IChpZCA9IDE3LCB5ID0gbmV3IEJpZ051bWJlcih5LCBiKSkuYztcblx0XG5cdCAgICAgICAgICAgIC8vIEVpdGhlciBOYU4sIMKxSW5maW5pdHkgb3IgwrEwP1xuXHQgICAgICAgICAgICBpZiAoIXhjIHx8ICF5YyB8fCAheGNbMF0gfHwgIXljWzBdKSB7XG5cdFxuXHQgICAgICAgICAgICAgICAgLy8gUmV0dXJuIE5hTiBpZiBlaXRoZXIgaXMgTmFOLCBvciBvbmUgaXMgMCBhbmQgdGhlIG90aGVyIGlzIEluZmluaXR5LlxuXHQgICAgICAgICAgICAgICAgaWYgKCF4LnMgfHwgIXkucyB8fCB4YyAmJiAheGNbMF0gJiYgIXljIHx8IHljICYmICF5Y1swXSAmJiAheGMpIHtcblx0ICAgICAgICAgICAgICAgICAgICB5LmMgPSB5LmUgPSB5LnMgPSBudWxsO1xuXHQgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICB5LnMgKj0geC5zO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAvLyBSZXR1cm4gwrFJbmZpbml0eSBpZiBlaXRoZXIgaXMgwrFJbmZpbml0eS5cblx0ICAgICAgICAgICAgICAgICAgICBpZiAoIXhjIHx8ICF5Yykge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB5LmMgPSB5LmUgPSBudWxsO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmV0dXJuIMKxMCBpZiBlaXRoZXIgaXMgwrEwLlxuXHQgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHkuYyA9IFswXTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgeS5lID0gMDtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHk7XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIGUgPSBiaXRGbG9vcih4LmUgLyBMT0dfQkFTRSkgKyBiaXRGbG9vcih5LmUgLyBMT0dfQkFTRSk7XG5cdCAgICAgICAgICAgIHkucyAqPSB4LnM7XG5cdCAgICAgICAgICAgIHhjTCA9IHhjLmxlbmd0aDtcblx0ICAgICAgICAgICAgeWNMID0geWMubGVuZ3RoO1xuXHRcblx0ICAgICAgICAgICAgLy8gRW5zdXJlIHhjIHBvaW50cyB0byBsb25nZXIgYXJyYXkgYW5kIHhjTCB0byBpdHMgbGVuZ3RoLlxuXHQgICAgICAgICAgICBpZiAoeGNMIDwgeWNMKSB6YyA9IHhjLCB4YyA9IHljLCB5YyA9IHpjLCBpID0geGNMLCB4Y0wgPSB5Y0wsIHljTCA9IGk7XG5cdFxuXHQgICAgICAgICAgICAvLyBJbml0aWFsaXNlIHRoZSByZXN1bHQgYXJyYXkgd2l0aCB6ZXJvcy5cblx0ICAgICAgICAgICAgZm9yIChpID0geGNMICsgeWNMLCB6YyA9IFtdOyBpLS07IHpjLnB1c2goMCkpIHt9XG5cdFxuXHQgICAgICAgICAgICBiYXNlID0gQkFTRTtcblx0ICAgICAgICAgICAgc3FydEJhc2UgPSBTUVJUX0JBU0U7XG5cdFxuXHQgICAgICAgICAgICBmb3IgKGkgPSB5Y0w7IC0taSA+PSAwOykge1xuXHQgICAgICAgICAgICAgICAgYyA9IDA7XG5cdCAgICAgICAgICAgICAgICB5bG8gPSB5Y1tpXSAlIHNxcnRCYXNlO1xuXHQgICAgICAgICAgICAgICAgeWhpID0geWNbaV0gLyBzcXJ0QmFzZSB8IDA7XG5cdFxuXHQgICAgICAgICAgICAgICAgZm9yIChrID0geGNMLCBqID0gaSArIGs7IGogPiBpOykge1xuXHQgICAgICAgICAgICAgICAgICAgIHhsbyA9IHhjWy0ta10gJSBzcXJ0QmFzZTtcblx0ICAgICAgICAgICAgICAgICAgICB4aGkgPSB4Y1trXSAvIHNxcnRCYXNlIHwgMDtcblx0ICAgICAgICAgICAgICAgICAgICBtID0geWhpICogeGxvICsgeGhpICogeWxvO1xuXHQgICAgICAgICAgICAgICAgICAgIHhsbyA9IHlsbyAqIHhsbyArIG0gJSBzcXJ0QmFzZSAqIHNxcnRCYXNlICsgemNbal0gKyBjO1xuXHQgICAgICAgICAgICAgICAgICAgIGMgPSAoeGxvIC8gYmFzZSB8IDApICsgKG0gLyBzcXJ0QmFzZSB8IDApICsgeWhpICogeGhpO1xuXHQgICAgICAgICAgICAgICAgICAgIHpjW2otLV0gPSB4bG8gJSBiYXNlO1xuXHQgICAgICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgICAgIHpjW2pdID0gYztcblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgaWYgKGMpIHtcblx0ICAgICAgICAgICAgICAgICsrZTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIHpjLnNoaWZ0KCk7XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIHJldHVybiBub3JtYWxpc2UoeSwgemMsIGUpO1xuXHQgICAgICAgIH07XG5cdFxuXHQgICAgICAgIC8qXG5cdCAgICAgICAgICogUmV0dXJuIGEgbmV3IEJpZ051bWJlciB3aG9zZSB2YWx1ZSBpcyB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgcm91bmRlZCB0byBhIG1heGltdW0gb2Zcblx0ICAgICAgICAgKiBzZCBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBybSwgb3IgUk9VTkRJTkdfTU9ERSBpZiBybSBpcyBvbWl0dGVkLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogW3NkXSB7bnVtYmVyfSBTaWduaWZpY2FudCBkaWdpdHMuIEludGVnZXIsIDEgdG8gTUFYIGluY2x1c2l2ZS5cblx0ICAgICAgICAgKiBbcm1dIHtudW1iZXJ9IFJvdW5kaW5nIG1vZGUuIEludGVnZXIsIDAgdG8gOCBpbmNsdXNpdmUuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiAndG9EaWdpdHMoKSBwcmVjaXNpb24gb3V0IG9mIHJhbmdlOiB7c2R9J1xuXHQgICAgICAgICAqICd0b0RpZ2l0cygpIHByZWNpc2lvbiBub3QgYW4gaW50ZWdlcjoge3NkfSdcblx0ICAgICAgICAgKiAndG9EaWdpdHMoKSByb3VuZGluZyBtb2RlIG5vdCBhbiBpbnRlZ2VyOiB7cm19J1xuXHQgICAgICAgICAqICd0b0RpZ2l0cygpIHJvdW5kaW5nIG1vZGUgb3V0IG9mIHJhbmdlOiB7cm19J1xuXHQgICAgICAgICAqL1xuXHQgICAgICAgIFAudG9EaWdpdHMgPSBmdW5jdGlvbiAoc2QsIHJtKSB7XG5cdCAgICAgICAgICAgIHZhciBuID0gbmV3IEJpZ051bWJlcih0aGlzKTtcblx0ICAgICAgICAgICAgc2QgPSBzZCA9PSBudWxsIHx8ICFpc1ZhbGlkSW50KHNkLCAxLCBNQVgsIDE4LCAncHJlY2lzaW9uJykgPyBudWxsIDogc2QgfCAwO1xuXHQgICAgICAgICAgICBybSA9IHJtID09IG51bGwgfHwgIWlzVmFsaWRJbnQocm0sIDAsIDgsIDE4LCByb3VuZGluZ01vZGUpID8gUk9VTkRJTkdfTU9ERSA6IHJtIHwgMDtcblx0ICAgICAgICAgICAgcmV0dXJuIHNkID8gcm91bmQobiwgc2QsIHJtKSA6IG47XG5cdCAgICAgICAgfTtcblx0XG5cdCAgICAgICAgLypcblx0ICAgICAgICAgKiBSZXR1cm4gYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBpbiBleHBvbmVudGlhbCBub3RhdGlvbiBhbmRcblx0ICAgICAgICAgKiByb3VuZGVkIHVzaW5nIFJPVU5ESU5HX01PREUgdG8gZHAgZml4ZWQgZGVjaW1hbCBwbGFjZXMuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBbZHBdIHtudW1iZXJ9IERlY2ltYWwgcGxhY2VzLiBJbnRlZ2VyLCAwIHRvIE1BWCBpbmNsdXNpdmUuXG5cdCAgICAgICAgICogW3JtXSB7bnVtYmVyfSBSb3VuZGluZyBtb2RlLiBJbnRlZ2VyLCAwIHRvIDggaW5jbHVzaXZlLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogJ3RvRXhwb25lbnRpYWwoKSBkZWNpbWFsIHBsYWNlcyBub3QgYW4gaW50ZWdlcjoge2RwfSdcblx0ICAgICAgICAgKiAndG9FeHBvbmVudGlhbCgpIGRlY2ltYWwgcGxhY2VzIG91dCBvZiByYW5nZToge2RwfSdcblx0ICAgICAgICAgKiAndG9FeHBvbmVudGlhbCgpIHJvdW5kaW5nIG1vZGUgbm90IGFuIGludGVnZXI6IHtybX0nXG5cdCAgICAgICAgICogJ3RvRXhwb25lbnRpYWwoKSByb3VuZGluZyBtb2RlIG91dCBvZiByYW5nZToge3JtfSdcblx0ICAgICAgICAgKi9cblx0ICAgICAgICBQLnRvRXhwb25lbnRpYWwgPSBmdW5jdGlvbiAoZHAsIHJtKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBmb3JtYXQodGhpcywgZHAgIT0gbnVsbCAmJiBpc1ZhbGlkSW50KGRwLCAwLCBNQVgsIDE5KSA/IH5+ZHAgKyAxIDogbnVsbCwgcm0sIDE5KTtcblx0ICAgICAgICB9O1xuXHRcblx0ICAgICAgICAvKlxuXHQgICAgICAgICAqIFJldHVybiBhIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIGluIGZpeGVkLXBvaW50IG5vdGF0aW9uIHJvdW5kaW5nXG5cdCAgICAgICAgICogdG8gZHAgZml4ZWQgZGVjaW1hbCBwbGFjZXMgdXNpbmcgcm91bmRpbmcgbW9kZSBybSwgb3IgUk9VTkRJTkdfTU9ERSBpZiBybSBpcyBvbWl0dGVkLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogTm90ZTogYXMgd2l0aCBKYXZhU2NyaXB0J3MgbnVtYmVyIHR5cGUsICgtMCkudG9GaXhlZCgwKSBpcyAnMCcsXG5cdCAgICAgICAgICogYnV0IGUuZy4gKC0wLjAwMDAxKS50b0ZpeGVkKDApIGlzICctMCcuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBbZHBdIHtudW1iZXJ9IERlY2ltYWwgcGxhY2VzLiBJbnRlZ2VyLCAwIHRvIE1BWCBpbmNsdXNpdmUuXG5cdCAgICAgICAgICogW3JtXSB7bnVtYmVyfSBSb3VuZGluZyBtb2RlLiBJbnRlZ2VyLCAwIHRvIDggaW5jbHVzaXZlLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogJ3RvRml4ZWQoKSBkZWNpbWFsIHBsYWNlcyBub3QgYW4gaW50ZWdlcjoge2RwfSdcblx0ICAgICAgICAgKiAndG9GaXhlZCgpIGRlY2ltYWwgcGxhY2VzIG91dCBvZiByYW5nZToge2RwfSdcblx0ICAgICAgICAgKiAndG9GaXhlZCgpIHJvdW5kaW5nIG1vZGUgbm90IGFuIGludGVnZXI6IHtybX0nXG5cdCAgICAgICAgICogJ3RvRml4ZWQoKSByb3VuZGluZyBtb2RlIG91dCBvZiByYW5nZToge3JtfSdcblx0ICAgICAgICAgKi9cblx0ICAgICAgICBQLnRvRml4ZWQgPSBmdW5jdGlvbiAoZHAsIHJtKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBmb3JtYXQodGhpcywgZHAgIT0gbnVsbCAmJiBpc1ZhbGlkSW50KGRwLCAwLCBNQVgsIDIwKSA/IH5+ZHAgKyB0aGlzLmUgKyAxIDogbnVsbCwgcm0sIDIwKTtcblx0ICAgICAgICB9O1xuXHRcblx0ICAgICAgICAvKlxuXHQgICAgICAgICAqIFJldHVybiBhIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIGluIGZpeGVkLXBvaW50IG5vdGF0aW9uIHJvdW5kZWRcblx0ICAgICAgICAgKiB1c2luZyBybSBvciBST1VORElOR19NT0RFIHRvIGRwIGRlY2ltYWwgcGxhY2VzLCBhbmQgZm9ybWF0dGVkIGFjY29yZGluZyB0byB0aGUgcHJvcGVydGllc1xuXHQgICAgICAgICAqIG9mIHRoZSBGT1JNQVQgb2JqZWN0IChzZWUgQmlnTnVtYmVyLmNvbmZpZykuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBGT1JNQVQgPSB7XG5cdCAgICAgICAgICogICAgICBkZWNpbWFsU2VwYXJhdG9yIDogJy4nLFxuXHQgICAgICAgICAqICAgICAgZ3JvdXBTZXBhcmF0b3IgOiAnLCcsXG5cdCAgICAgICAgICogICAgICBncm91cFNpemUgOiAzLFxuXHQgICAgICAgICAqICAgICAgc2Vjb25kYXJ5R3JvdXBTaXplIDogMCxcblx0ICAgICAgICAgKiAgICAgIGZyYWN0aW9uR3JvdXBTZXBhcmF0b3IgOiAnXFx4QTAnLCAgICAvLyBub24tYnJlYWtpbmcgc3BhY2Vcblx0ICAgICAgICAgKiAgICAgIGZyYWN0aW9uR3JvdXBTaXplIDogMFxuXHQgICAgICAgICAqIH07XG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBbZHBdIHtudW1iZXJ9IERlY2ltYWwgcGxhY2VzLiBJbnRlZ2VyLCAwIHRvIE1BWCBpbmNsdXNpdmUuXG5cdCAgICAgICAgICogW3JtXSB7bnVtYmVyfSBSb3VuZGluZyBtb2RlLiBJbnRlZ2VyLCAwIHRvIDggaW5jbHVzaXZlLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogJ3RvRm9ybWF0KCkgZGVjaW1hbCBwbGFjZXMgbm90IGFuIGludGVnZXI6IHtkcH0nXG5cdCAgICAgICAgICogJ3RvRm9ybWF0KCkgZGVjaW1hbCBwbGFjZXMgb3V0IG9mIHJhbmdlOiB7ZHB9J1xuXHQgICAgICAgICAqICd0b0Zvcm1hdCgpIHJvdW5kaW5nIG1vZGUgbm90IGFuIGludGVnZXI6IHtybX0nXG5cdCAgICAgICAgICogJ3RvRm9ybWF0KCkgcm91bmRpbmcgbW9kZSBvdXQgb2YgcmFuZ2U6IHtybX0nXG5cdCAgICAgICAgICovXG5cdCAgICAgICAgUC50b0Zvcm1hdCA9IGZ1bmN0aW9uIChkcCwgcm0pIHtcblx0ICAgICAgICAgICAgdmFyIHN0ciA9IGZvcm1hdCh0aGlzLCBkcCAhPSBudWxsICYmIGlzVmFsaWRJbnQoZHAsIDAsIE1BWCwgMjEpID8gfn5kcCArIHRoaXMuZSArIDEgOiBudWxsLCBybSwgMjEpO1xuXHRcblx0ICAgICAgICAgICAgaWYgKHRoaXMuYykge1xuXHQgICAgICAgICAgICAgICAgdmFyIGksXG5cdCAgICAgICAgICAgICAgICAgICAgYXJyID0gc3RyLnNwbGl0KCcuJyksXG5cdCAgICAgICAgICAgICAgICAgICAgZzEgPSArRk9STUFULmdyb3VwU2l6ZSxcblx0ICAgICAgICAgICAgICAgICAgICBnMiA9ICtGT1JNQVQuc2Vjb25kYXJ5R3JvdXBTaXplLFxuXHQgICAgICAgICAgICAgICAgICAgIGdyb3VwU2VwYXJhdG9yID0gRk9STUFULmdyb3VwU2VwYXJhdG9yLFxuXHQgICAgICAgICAgICAgICAgICAgIGludFBhcnQgPSBhcnJbMF0sXG5cdCAgICAgICAgICAgICAgICAgICAgZnJhY3Rpb25QYXJ0ID0gYXJyWzFdLFxuXHQgICAgICAgICAgICAgICAgICAgIGlzTmVnID0gdGhpcy5zIDwgMCxcblx0ICAgICAgICAgICAgICAgICAgICBpbnREaWdpdHMgPSBpc05lZyA/IGludFBhcnQuc2xpY2UoMSkgOiBpbnRQYXJ0LFxuXHQgICAgICAgICAgICAgICAgICAgIGxlbiA9IGludERpZ2l0cy5sZW5ndGg7XG5cdFxuXHQgICAgICAgICAgICAgICAgaWYgKGcyKSBpID0gZzEsIGcxID0gZzIsIGcyID0gaSwgbGVuIC09IGk7XG5cdFxuXHQgICAgICAgICAgICAgICAgaWYgKGcxID4gMCAmJiBsZW4gPiAwKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgaSA9IGxlbiAlIGcxIHx8IGcxO1xuXHQgICAgICAgICAgICAgICAgICAgIGludFBhcnQgPSBpbnREaWdpdHMuc3Vic3RyKDAsIGkpO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICBmb3IgKDsgaSA8IGxlbjsgaSArPSBnMSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBpbnRQYXJ0ICs9IGdyb3VwU2VwYXJhdG9yICsgaW50RGlnaXRzLnN1YnN0cihpLCBnMSk7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgICAgICAgICBpZiAoZzIgPiAwKSBpbnRQYXJ0ICs9IGdyb3VwU2VwYXJhdG9yICsgaW50RGlnaXRzLnNsaWNlKGkpO1xuXHQgICAgICAgICAgICAgICAgICAgIGlmIChpc05lZykgaW50UGFydCA9ICctJyArIGludFBhcnQ7XG5cdCAgICAgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICAgICAgc3RyID0gZnJhY3Rpb25QYXJ0ID8gaW50UGFydCArIEZPUk1BVC5kZWNpbWFsU2VwYXJhdG9yICsgKChnMiA9ICtGT1JNQVQuZnJhY3Rpb25Hcm91cFNpemUpID8gZnJhY3Rpb25QYXJ0LnJlcGxhY2UobmV3IFJlZ0V4cCgnXFxcXGR7JyArIGcyICsgJ31cXFxcQicsICdnJyksICckJicgKyBGT1JNQVQuZnJhY3Rpb25Hcm91cFNlcGFyYXRvcikgOiBmcmFjdGlvblBhcnQpIDogaW50UGFydDtcblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIHN0cjtcblx0ICAgICAgICB9O1xuXHRcblx0ICAgICAgICAvKlxuXHQgICAgICAgICAqIFJldHVybiBhIHN0cmluZyBhcnJheSByZXByZXNlbnRpbmcgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIGFzIGEgc2ltcGxlIGZyYWN0aW9uIHdpdGhcblx0ICAgICAgICAgKiBhbiBpbnRlZ2VyIG51bWVyYXRvciBhbmQgYW4gaW50ZWdlciBkZW5vbWluYXRvci4gVGhlIGRlbm9taW5hdG9yIHdpbGwgYmUgYSBwb3NpdGl2ZVxuXHQgICAgICAgICAqIG5vbi16ZXJvIHZhbHVlIGxlc3MgdGhhbiBvciBlcXVhbCB0byB0aGUgc3BlY2lmaWVkIG1heGltdW0gZGVub21pbmF0b3IuIElmIGEgbWF4aW11bVxuXHQgICAgICAgICAqIGRlbm9taW5hdG9yIGlzIG5vdCBzcGVjaWZpZWQsIHRoZSBkZW5vbWluYXRvciB3aWxsIGJlIHRoZSBsb3dlc3QgdmFsdWUgbmVjZXNzYXJ5IHRvXG5cdCAgICAgICAgICogcmVwcmVzZW50IHRoZSBudW1iZXIgZXhhY3RseS5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIFttZF0ge251bWJlcnxzdHJpbmd8QmlnTnVtYmVyfSBJbnRlZ2VyID49IDEgYW5kIDwgSW5maW5pdHkuIFRoZSBtYXhpbXVtIGRlbm9taW5hdG9yLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogJ3RvRnJhY3Rpb24oKSBtYXggZGVub21pbmF0b3Igbm90IGFuIGludGVnZXI6IHttZH0nXG5cdCAgICAgICAgICogJ3RvRnJhY3Rpb24oKSBtYXggZGVub21pbmF0b3Igb3V0IG9mIHJhbmdlOiB7bWR9J1xuXHQgICAgICAgICAqL1xuXHQgICAgICAgIFAudG9GcmFjdGlvbiA9IGZ1bmN0aW9uIChtZCkge1xuXHQgICAgICAgICAgICB2YXIgYXJyLFxuXHQgICAgICAgICAgICAgICAgZDAsXG5cdCAgICAgICAgICAgICAgICBkMixcblx0ICAgICAgICAgICAgICAgIGUsXG5cdCAgICAgICAgICAgICAgICBleHAsXG5cdCAgICAgICAgICAgICAgICBuLFxuXHQgICAgICAgICAgICAgICAgbjAsXG5cdCAgICAgICAgICAgICAgICBxLFxuXHQgICAgICAgICAgICAgICAgcyxcblx0ICAgICAgICAgICAgICAgIGsgPSBFUlJPUlMsXG5cdCAgICAgICAgICAgICAgICB4ID0gdGhpcyxcblx0ICAgICAgICAgICAgICAgIHhjID0geC5jLFxuXHQgICAgICAgICAgICAgICAgZCA9IG5ldyBCaWdOdW1iZXIoT05FKSxcblx0ICAgICAgICAgICAgICAgIG4xID0gZDAgPSBuZXcgQmlnTnVtYmVyKE9ORSksXG5cdCAgICAgICAgICAgICAgICBkMSA9IG4wID0gbmV3IEJpZ051bWJlcihPTkUpO1xuXHRcblx0ICAgICAgICAgICAgaWYgKG1kICE9IG51bGwpIHtcblx0ICAgICAgICAgICAgICAgIEVSUk9SUyA9IGZhbHNlO1xuXHQgICAgICAgICAgICAgICAgbiA9IG5ldyBCaWdOdW1iZXIobWQpO1xuXHQgICAgICAgICAgICAgICAgRVJST1JTID0gaztcblx0XG5cdCAgICAgICAgICAgICAgICBpZiAoIShrID0gbi5pc0ludCgpKSB8fCBuLmx0KE9ORSkpIHtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKEVSUk9SUykge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICByYWlzZSgyMiwgJ21heCBkZW5vbWluYXRvciAnICsgKGsgPyAnb3V0IG9mIHJhbmdlJyA6ICdub3QgYW4gaW50ZWdlcicpLCBtZCk7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgICAgICAgICAvLyBFUlJPUlMgaXMgZmFsc2U6XG5cdCAgICAgICAgICAgICAgICAgICAgLy8gSWYgbWQgaXMgYSBmaW5pdGUgbm9uLWludGVnZXIgPj0gMSwgcm91bmQgaXQgdG8gYW4gaW50ZWdlciBhbmQgdXNlIGl0LlxuXHQgICAgICAgICAgICAgICAgICAgIG1kID0gIWsgJiYgbi5jICYmIHJvdW5kKG4sIG4uZSArIDEsIDEpLmd0ZShPTkUpID8gbiA6IG51bGw7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIGlmICgheGMpIHJldHVybiB4LnRvU3RyaW5nKCk7XG5cdCAgICAgICAgICAgIHMgPSBjb2VmZlRvU3RyaW5nKHhjKTtcblx0XG5cdCAgICAgICAgICAgIC8vIERldGVybWluZSBpbml0aWFsIGRlbm9taW5hdG9yLlxuXHQgICAgICAgICAgICAvLyBkIGlzIGEgcG93ZXIgb2YgMTAgYW5kIHRoZSBtaW5pbXVtIG1heCBkZW5vbWluYXRvciB0aGF0IHNwZWNpZmllcyB0aGUgdmFsdWUgZXhhY3RseS5cblx0ICAgICAgICAgICAgZSA9IGQuZSA9IHMubGVuZ3RoIC0geC5lIC0gMTtcblx0ICAgICAgICAgICAgZC5jWzBdID0gUE9XU19URU5bKGV4cCA9IGUgJSBMT0dfQkFTRSkgPCAwID8gTE9HX0JBU0UgKyBleHAgOiBleHBdO1xuXHQgICAgICAgICAgICBtZCA9ICFtZCB8fCBuLmNtcChkKSA+IDAgPyBlID4gMCA/IGQgOiBuMSA6IG47XG5cdFxuXHQgICAgICAgICAgICBleHAgPSBNQVhfRVhQO1xuXHQgICAgICAgICAgICBNQVhfRVhQID0gMSAvIDA7XG5cdCAgICAgICAgICAgIG4gPSBuZXcgQmlnTnVtYmVyKHMpO1xuXHRcblx0ICAgICAgICAgICAgLy8gbjAgPSBkMSA9IDBcblx0ICAgICAgICAgICAgbjAuY1swXSA9IDA7XG5cdFxuXHQgICAgICAgICAgICBmb3IgKDs7KSB7XG5cdCAgICAgICAgICAgICAgICBxID0gZGl2KG4sIGQsIDAsIDEpO1xuXHQgICAgICAgICAgICAgICAgZDIgPSBkMC5wbHVzKHEudGltZXMoZDEpKTtcblx0ICAgICAgICAgICAgICAgIGlmIChkMi5jbXAobWQpID09IDEpIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgZDAgPSBkMTtcblx0ICAgICAgICAgICAgICAgIGQxID0gZDI7XG5cdCAgICAgICAgICAgICAgICBuMSA9IG4wLnBsdXMocS50aW1lcyhkMiA9IG4xKSk7XG5cdCAgICAgICAgICAgICAgICBuMCA9IGQyO1xuXHQgICAgICAgICAgICAgICAgZCA9IG4ubWludXMocS50aW1lcyhkMiA9IGQpKTtcblx0ICAgICAgICAgICAgICAgIG4gPSBkMjtcblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgZDIgPSBkaXYobWQubWludXMoZDApLCBkMSwgMCwgMSk7XG5cdCAgICAgICAgICAgIG4wID0gbjAucGx1cyhkMi50aW1lcyhuMSkpO1xuXHQgICAgICAgICAgICBkMCA9IGQwLnBsdXMoZDIudGltZXMoZDEpKTtcblx0ICAgICAgICAgICAgbjAucyA9IG4xLnMgPSB4LnM7XG5cdCAgICAgICAgICAgIGUgKj0gMjtcblx0XG5cdCAgICAgICAgICAgIC8vIERldGVybWluZSB3aGljaCBmcmFjdGlvbiBpcyBjbG9zZXIgdG8geCwgbjAvZDAgb3IgbjEvZDFcblx0ICAgICAgICAgICAgYXJyID0gZGl2KG4xLCBkMSwgZSwgUk9VTkRJTkdfTU9ERSkubWludXMoeCkuYWJzKCkuY21wKGRpdihuMCwgZDAsIGUsIFJPVU5ESU5HX01PREUpLm1pbnVzKHgpLmFicygpKSA8IDEgPyBbbjEudG9TdHJpbmcoKSwgZDEudG9TdHJpbmcoKV0gOiBbbjAudG9TdHJpbmcoKSwgZDAudG9TdHJpbmcoKV07XG5cdFxuXHQgICAgICAgICAgICBNQVhfRVhQID0gZXhwO1xuXHQgICAgICAgICAgICByZXR1cm4gYXJyO1xuXHQgICAgICAgIH07XG5cdFxuXHQgICAgICAgIC8qXG5cdCAgICAgICAgICogUmV0dXJuIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBjb252ZXJ0ZWQgdG8gYSBudW1iZXIgcHJpbWl0aXZlLlxuXHQgICAgICAgICAqL1xuXHQgICAgICAgIFAudG9OdW1iZXIgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIHZhciB4ID0gdGhpcztcblx0XG5cdCAgICAgICAgICAgIC8vIEVuc3VyZSB6ZXJvIGhhcyBjb3JyZWN0IHNpZ24uXG5cdCAgICAgICAgICAgIHJldHVybiAreCB8fCAoeC5zID8geC5zICogMCA6IE5hTik7XG5cdCAgICAgICAgfTtcblx0XG5cdCAgICAgICAgLypcblx0ICAgICAgICAgKiBSZXR1cm4gYSBCaWdOdW1iZXIgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIHJhaXNlZCB0byB0aGUgcG93ZXIgbi5cblx0ICAgICAgICAgKiBJZiBuIGlzIG5lZ2F0aXZlIHJvdW5kIGFjY29yZGluZyB0byBERUNJTUFMX1BMQUNFUyBhbmQgUk9VTkRJTkdfTU9ERS5cblx0ICAgICAgICAgKiBJZiBQT1dfUFJFQ0lTSU9OIGlzIG5vdCAwLCByb3VuZCB0byBQT1dfUFJFQ0lTSU9OIHVzaW5nIFJPVU5ESU5HX01PREUuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBuIHtudW1iZXJ9IEludGVnZXIsIC05MDA3MTk5MjU0NzQwOTkyIHRvIDkwMDcxOTkyNTQ3NDA5OTIgaW5jbHVzaXZlLlxuXHQgICAgICAgICAqIChQZXJmb3JtcyA1NCBsb29wIGl0ZXJhdGlvbnMgZm9yIG4gb2YgOTAwNzE5OTI1NDc0MDk5Mi4pXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiAncG93KCkgZXhwb25lbnQgbm90IGFuIGludGVnZXI6IHtufSdcblx0ICAgICAgICAgKiAncG93KCkgZXhwb25lbnQgb3V0IG9mIHJhbmdlOiB7bn0nXG5cdCAgICAgICAgICovXG5cdCAgICAgICAgUC50b1Bvd2VyID0gUC5wb3cgPSBmdW5jdGlvbiAobikge1xuXHQgICAgICAgICAgICB2YXIgayxcblx0ICAgICAgICAgICAgICAgIHksXG5cdCAgICAgICAgICAgICAgICBpID0gbWF0aGZsb29yKG4gPCAwID8gLW4gOiArbiksXG5cdCAgICAgICAgICAgICAgICB4ID0gdGhpcztcblx0XG5cdCAgICAgICAgICAgIC8vIFBhc3MgwrFJbmZpbml0eSB0byBNYXRoLnBvdyBpZiBleHBvbmVudCBpcyBvdXQgb2YgcmFuZ2UuXG5cdCAgICAgICAgICAgIGlmICghaXNWYWxpZEludChuLCAtTUFYX1NBRkVfSU5URUdFUiwgTUFYX1NBRkVfSU5URUdFUiwgMjMsICdleHBvbmVudCcpICYmICghaXNGaW5pdGUobikgfHwgaSA+IE1BWF9TQUZFX0lOVEVHRVIgJiYgKG4gLz0gMCkgfHwgcGFyc2VGbG9hdChuKSAhPSBuICYmICEobiA9IE5hTikpKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEJpZ051bWJlcihNYXRoLnBvdygreCwgbikpO1xuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICAvLyBUcnVuY2F0aW5nIGVhY2ggY29lZmZpY2llbnQgYXJyYXkgdG8gYSBsZW5ndGggb2YgayBhZnRlciBlYWNoIG11bHRpcGxpY2F0aW9uIGVxdWF0ZXNcblx0ICAgICAgICAgICAgLy8gdG8gdHJ1bmNhdGluZyBzaWduaWZpY2FudCBkaWdpdHMgdG8gUE9XX1BSRUNJU0lPTiArIFsyOCwgNDFdLCBpLmUuIHRoZXJlIHdpbGwgYmUgYVxuXHQgICAgICAgICAgICAvLyBtaW5pbXVtIG9mIDI4IGd1YXJkIGRpZ2l0cyByZXRhaW5lZC4gKFVzaW5nICsgMS41IHdvdWxkIGdpdmUgWzksIDIxXSBndWFyZCBkaWdpdHMuKVxuXHQgICAgICAgICAgICBrID0gUE9XX1BSRUNJU0lPTiA/IG1hdGhjZWlsKFBPV19QUkVDSVNJT04gLyBMT0dfQkFTRSArIDIpIDogMDtcblx0ICAgICAgICAgICAgeSA9IG5ldyBCaWdOdW1iZXIoT05FKTtcblx0XG5cdCAgICAgICAgICAgIGZvciAoOzspIHtcblx0XG5cdCAgICAgICAgICAgICAgICBpZiAoaSAlIDIpIHtcblx0ICAgICAgICAgICAgICAgICAgICB5ID0geS50aW1lcyh4KTtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAoIXkuYykgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKGsgJiYgeS5jLmxlbmd0aCA+IGspIHkuYy5sZW5ndGggPSBrO1xuXHQgICAgICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgICAgIGkgPSBtYXRoZmxvb3IoaSAvIDIpO1xuXHQgICAgICAgICAgICAgICAgaWYgKCFpKSBicmVhaztcblx0XG5cdCAgICAgICAgICAgICAgICB4ID0geC50aW1lcyh4KTtcblx0ICAgICAgICAgICAgICAgIGlmIChrICYmIHguYyAmJiB4LmMubGVuZ3RoID4gaykgeC5jLmxlbmd0aCA9IGs7XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIGlmIChuIDwgMCkgeSA9IE9ORS5kaXYoeSk7XG5cdCAgICAgICAgICAgIHJldHVybiBrID8gcm91bmQoeSwgUE9XX1BSRUNJU0lPTiwgUk9VTkRJTkdfTU9ERSkgOiB5O1xuXHQgICAgICAgIH07XG5cdFxuXHQgICAgICAgIC8qXG5cdCAgICAgICAgICogUmV0dXJuIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgcm91bmRlZCB0byBzZCBzaWduaWZpY2FudCBkaWdpdHNcblx0ICAgICAgICAgKiB1c2luZyByb3VuZGluZyBtb2RlIHJtIG9yIFJPVU5ESU5HX01PREUuIElmIHNkIGlzIGxlc3MgdGhhbiB0aGUgbnVtYmVyIG9mIGRpZ2l0c1xuXHQgICAgICAgICAqIG5lY2Vzc2FyeSB0byByZXByZXNlbnQgdGhlIGludGVnZXIgcGFydCBvZiB0aGUgdmFsdWUgaW4gZml4ZWQtcG9pbnQgbm90YXRpb24sIHRoZW4gdXNlXG5cdCAgICAgICAgICogZXhwb25lbnRpYWwgbm90YXRpb24uXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBbc2RdIHtudW1iZXJ9IFNpZ25pZmljYW50IGRpZ2l0cy4gSW50ZWdlciwgMSB0byBNQVggaW5jbHVzaXZlLlxuXHQgICAgICAgICAqIFtybV0ge251bWJlcn0gUm91bmRpbmcgbW9kZS4gSW50ZWdlciwgMCB0byA4IGluY2x1c2l2ZS5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqICd0b1ByZWNpc2lvbigpIHByZWNpc2lvbiBub3QgYW4gaW50ZWdlcjoge3NkfSdcblx0ICAgICAgICAgKiAndG9QcmVjaXNpb24oKSBwcmVjaXNpb24gb3V0IG9mIHJhbmdlOiB7c2R9J1xuXHQgICAgICAgICAqICd0b1ByZWNpc2lvbigpIHJvdW5kaW5nIG1vZGUgbm90IGFuIGludGVnZXI6IHtybX0nXG5cdCAgICAgICAgICogJ3RvUHJlY2lzaW9uKCkgcm91bmRpbmcgbW9kZSBvdXQgb2YgcmFuZ2U6IHtybX0nXG5cdCAgICAgICAgICovXG5cdCAgICAgICAgUC50b1ByZWNpc2lvbiA9IGZ1bmN0aW9uIChzZCwgcm0pIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGZvcm1hdCh0aGlzLCBzZCAhPSBudWxsICYmIGlzVmFsaWRJbnQoc2QsIDEsIE1BWCwgMjQsICdwcmVjaXNpb24nKSA/IHNkIHwgMCA6IG51bGwsIHJtLCAyNCk7XG5cdCAgICAgICAgfTtcblx0XG5cdCAgICAgICAgLypcblx0ICAgICAgICAgKiBSZXR1cm4gYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBpbiBiYXNlIGIsIG9yIGJhc2UgMTAgaWYgYiBpc1xuXHQgICAgICAgICAqIG9taXR0ZWQuIElmIGEgYmFzZSBpcyBzcGVjaWZpZWQsIGluY2x1ZGluZyBiYXNlIDEwLCByb3VuZCBhY2NvcmRpbmcgdG8gREVDSU1BTF9QTEFDRVMgYW5kXG5cdCAgICAgICAgICogUk9VTkRJTkdfTU9ERS4gSWYgYSBiYXNlIGlzIG5vdCBzcGVjaWZpZWQsIGFuZCB0aGlzIEJpZ051bWJlciBoYXMgYSBwb3NpdGl2ZSBleHBvbmVudFxuXHQgICAgICAgICAqIHRoYXQgaXMgZXF1YWwgdG8gb3IgZ3JlYXRlciB0aGFuIFRPX0VYUF9QT1MsIG9yIGEgbmVnYXRpdmUgZXhwb25lbnQgZXF1YWwgdG8gb3IgbGVzcyB0aGFuXG5cdCAgICAgICAgICogVE9fRVhQX05FRywgcmV0dXJuIGV4cG9uZW50aWFsIG5vdGF0aW9uLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogW2JdIHtudW1iZXJ9IEludGVnZXIsIDIgdG8gNjQgaW5jbHVzaXZlLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogJ3RvU3RyaW5nKCkgYmFzZSBub3QgYW4gaW50ZWdlcjoge2J9J1xuXHQgICAgICAgICAqICd0b1N0cmluZygpIGJhc2Ugb3V0IG9mIHJhbmdlOiB7Yn0nXG5cdCAgICAgICAgICovXG5cdCAgICAgICAgUC50b1N0cmluZyA9IGZ1bmN0aW9uIChiKSB7XG5cdCAgICAgICAgICAgIHZhciBzdHIsXG5cdCAgICAgICAgICAgICAgICBuID0gdGhpcyxcblx0ICAgICAgICAgICAgICAgIHMgPSBuLnMsXG5cdCAgICAgICAgICAgICAgICBlID0gbi5lO1xuXHRcblx0ICAgICAgICAgICAgLy8gSW5maW5pdHkgb3IgTmFOP1xuXHQgICAgICAgICAgICBpZiAoZSA9PT0gbnVsbCkge1xuXHRcblx0ICAgICAgICAgICAgICAgIGlmIChzKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgc3RyID0gJ0luZmluaXR5Jztcblx0ICAgICAgICAgICAgICAgICAgICBpZiAocyA8IDApIHN0ciA9ICctJyArIHN0cjtcblx0ICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgc3RyID0gJ05hTic7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICBzdHIgPSBjb2VmZlRvU3RyaW5nKG4uYyk7XG5cdFxuXHQgICAgICAgICAgICAgICAgaWYgKGIgPT0gbnVsbCB8fCAhaXNWYWxpZEludChiLCAyLCA2NCwgMjUsICdiYXNlJykpIHtcblx0ICAgICAgICAgICAgICAgICAgICBzdHIgPSBlIDw9IFRPX0VYUF9ORUcgfHwgZSA+PSBUT19FWFBfUE9TID8gdG9FeHBvbmVudGlhbChzdHIsIGUpIDogdG9GaXhlZFBvaW50KHN0ciwgZSk7XG5cdCAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgIHN0ciA9IGNvbnZlcnRCYXNlKHRvRml4ZWRQb2ludChzdHIsIGUpLCBiIHwgMCwgMTAsIHMpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgICAgIGlmIChzIDwgMCAmJiBuLmNbMF0pIHN0ciA9ICctJyArIHN0cjtcblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIHN0cjtcblx0ICAgICAgICB9O1xuXHRcblx0ICAgICAgICAvKlxuXHQgICAgICAgICAqIFJldHVybiBhIG5ldyBCaWdOdW1iZXIgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIHRydW5jYXRlZCB0byBhIHdob2xlXG5cdCAgICAgICAgICogbnVtYmVyLlxuXHQgICAgICAgICAqL1xuXHQgICAgICAgIFAudHJ1bmNhdGVkID0gUC50cnVuYyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHJvdW5kKG5ldyBCaWdOdW1iZXIodGhpcyksIHRoaXMuZSArIDEsIDEpO1xuXHQgICAgICAgIH07XG5cdFxuXHQgICAgICAgIC8qXG5cdCAgICAgICAgICogUmV0dXJuIGFzIHRvU3RyaW5nLCBidXQgZG8gbm90IGFjY2VwdCBhIGJhc2UgYXJndW1lbnQuXG5cdCAgICAgICAgICovXG5cdCAgICAgICAgUC52YWx1ZU9mID0gUC50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLnRvU3RyaW5nKCk7XG5cdCAgICAgICAgfTtcblx0XG5cdCAgICAgICAgLy8gQWxpYXNlcyBmb3IgQmlnRGVjaW1hbCBtZXRob2RzLlxuXHQgICAgICAgIC8vUC5hZGQgPSBQLnBsdXM7ICAgICAgICAgLy8gUC5hZGQgaW5jbHVkZWQgYWJvdmVcblx0ICAgICAgICAvL1Auc3VidHJhY3QgPSBQLm1pbnVzOyAgIC8vIFAuc3ViIGluY2x1ZGVkIGFib3ZlXG5cdCAgICAgICAgLy9QLm11bHRpcGx5ID0gUC50aW1lczsgICAvLyBQLm11bCBpbmNsdWRlZCBhYm92ZVxuXHQgICAgICAgIC8vUC5kaXZpZGUgPSBQLmRpdjtcblx0ICAgICAgICAvL1AucmVtYWluZGVyID0gUC5tb2Q7XG5cdCAgICAgICAgLy9QLmNvbXBhcmVUbyA9IFAuY21wO1xuXHQgICAgICAgIC8vUC5uZWdhdGUgPSBQLm5lZztcblx0XG5cdFxuXHQgICAgICAgIGlmIChjb25maWdPYmogIT0gbnVsbCkgQmlnTnVtYmVyLmNvbmZpZyhjb25maWdPYmopO1xuXHRcblx0ICAgICAgICByZXR1cm4gQmlnTnVtYmVyO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIFBSSVZBVEUgSEVMUEVSIEZVTkNUSU9OU1xuXHRcblx0XG5cdCAgICBmdW5jdGlvbiBiaXRGbG9vcihuKSB7XG5cdCAgICAgICAgdmFyIGkgPSBuIHwgMDtcblx0ICAgICAgICByZXR1cm4gbiA+IDAgfHwgbiA9PT0gaSA/IGkgOiBpIC0gMTtcblx0ICAgIH1cblx0XG5cdCAgICAvLyBSZXR1cm4gYSBjb2VmZmljaWVudCBhcnJheSBhcyBhIHN0cmluZyBvZiBiYXNlIDEwIGRpZ2l0cy5cblx0ICAgIGZ1bmN0aW9uIGNvZWZmVG9TdHJpbmcoYSkge1xuXHQgICAgICAgIHZhciBzLFxuXHQgICAgICAgICAgICB6LFxuXHQgICAgICAgICAgICBpID0gMSxcblx0ICAgICAgICAgICAgaiA9IGEubGVuZ3RoLFxuXHQgICAgICAgICAgICByID0gYVswXSArICcnO1xuXHRcblx0ICAgICAgICBmb3IgKDsgaSA8IGo7KSB7XG5cdCAgICAgICAgICAgIHMgPSBhW2krK10gKyAnJztcblx0ICAgICAgICAgICAgeiA9IExPR19CQVNFIC0gcy5sZW5ndGg7XG5cdCAgICAgICAgICAgIGZvciAoOyB6LS07IHMgPSAnMCcgKyBzKSB7fVxuXHQgICAgICAgICAgICByICs9IHM7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICAvLyBEZXRlcm1pbmUgdHJhaWxpbmcgemVyb3MuXG5cdCAgICAgICAgZm9yIChqID0gci5sZW5ndGg7IHIuY2hhckNvZGVBdCgtLWopID09PSA0ODspIHt9XG5cdCAgICAgICAgcmV0dXJuIHIuc2xpY2UoMCwgaiArIDEgfHwgMSk7XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gQ29tcGFyZSB0aGUgdmFsdWUgb2YgQmlnTnVtYmVycyB4IGFuZCB5LlxuXHQgICAgZnVuY3Rpb24gY29tcGFyZSh4LCB5KSB7XG5cdCAgICAgICAgdmFyIGEsXG5cdCAgICAgICAgICAgIGIsXG5cdCAgICAgICAgICAgIHhjID0geC5jLFxuXHQgICAgICAgICAgICB5YyA9IHkuYyxcblx0ICAgICAgICAgICAgaSA9IHgucyxcblx0ICAgICAgICAgICAgaiA9IHkucyxcblx0ICAgICAgICAgICAgayA9IHguZSxcblx0ICAgICAgICAgICAgbCA9IHkuZTtcblx0XG5cdCAgICAgICAgLy8gRWl0aGVyIE5hTj9cblx0ICAgICAgICBpZiAoIWkgfHwgIWopIHJldHVybiBudWxsO1xuXHRcblx0ICAgICAgICBhID0geGMgJiYgIXhjWzBdO1xuXHQgICAgICAgIGIgPSB5YyAmJiAheWNbMF07XG5cdFxuXHQgICAgICAgIC8vIEVpdGhlciB6ZXJvP1xuXHQgICAgICAgIGlmIChhIHx8IGIpIHJldHVybiBhID8gYiA/IDAgOiAtaiA6IGk7XG5cdFxuXHQgICAgICAgIC8vIFNpZ25zIGRpZmZlcj9cblx0ICAgICAgICBpZiAoaSAhPSBqKSByZXR1cm4gaTtcblx0XG5cdCAgICAgICAgYSA9IGkgPCAwO1xuXHQgICAgICAgIGIgPSBrID09IGw7XG5cdFxuXHQgICAgICAgIC8vIEVpdGhlciBJbmZpbml0eT9cblx0ICAgICAgICBpZiAoIXhjIHx8ICF5YykgcmV0dXJuIGIgPyAwIDogIXhjIF4gYSA/IDEgOiAtMTtcblx0XG5cdCAgICAgICAgLy8gQ29tcGFyZSBleHBvbmVudHMuXG5cdCAgICAgICAgaWYgKCFiKSByZXR1cm4gayA+IGwgXiBhID8gMSA6IC0xO1xuXHRcblx0ICAgICAgICBqID0gKGsgPSB4Yy5sZW5ndGgpIDwgKGwgPSB5Yy5sZW5ndGgpID8gayA6IGw7XG5cdFxuXHQgICAgICAgIC8vIENvbXBhcmUgZGlnaXQgYnkgZGlnaXQuXG5cdCAgICAgICAgZm9yIChpID0gMDsgaSA8IGo7IGkrKykge1xuXHQgICAgICAgICAgICBpZiAoeGNbaV0gIT0geWNbaV0pIHJldHVybiB4Y1tpXSA+IHljW2ldIF4gYSA/IDEgOiAtMTtcblx0ICAgICAgICB9IC8vIENvbXBhcmUgbGVuZ3Rocy5cblx0ICAgICAgICByZXR1cm4gayA9PSBsID8gMCA6IGsgPiBsIF4gYSA/IDEgOiAtMTtcblx0ICAgIH1cblx0XG5cdCAgICAvKlxuXHQgICAgICogUmV0dXJuIHRydWUgaWYgbiBpcyBhIHZhbGlkIG51bWJlciBpbiByYW5nZSwgb3RoZXJ3aXNlIGZhbHNlLlxuXHQgICAgICogVXNlIGZvciBhcmd1bWVudCB2YWxpZGF0aW9uIHdoZW4gRVJST1JTIGlzIGZhbHNlLlxuXHQgICAgICogTm90ZTogcGFyc2VJbnQoJzFlKzEnKSA9PSAxIGJ1dCBwYXJzZUZsb2F0KCcxZSsxJykgPT0gMTAuXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGludFZhbGlkYXRvck5vRXJyb3JzKG4sIG1pbiwgbWF4KSB7XG5cdCAgICAgICAgcmV0dXJuIChuID0gdHJ1bmNhdGUobikpID49IG1pbiAmJiBuIDw9IG1heDtcblx0ICAgIH1cblx0XG5cdCAgICBmdW5jdGlvbiBpc0FycmF5KG9iaikge1xuXHQgICAgICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSA9PSAnW29iamVjdCBBcnJheV0nO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qXG5cdCAgICAgKiBDb252ZXJ0IHN0cmluZyBvZiBiYXNlSW4gdG8gYW4gYXJyYXkgb2YgbnVtYmVycyBvZiBiYXNlT3V0LlxuXHQgICAgICogRWcuIGNvbnZlcnRCYXNlKCcyNTUnLCAxMCwgMTYpIHJldHVybnMgWzE1LCAxNV0uXG5cdCAgICAgKiBFZy4gY29udmVydEJhc2UoJ2ZmJywgMTYsIDEwKSByZXR1cm5zIFsyLCA1LCA1XS5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gdG9CYXNlT3V0KHN0ciwgYmFzZUluLCBiYXNlT3V0KSB7XG5cdCAgICAgICAgdmFyIGosXG5cdCAgICAgICAgICAgIGFyciA9IFswXSxcblx0ICAgICAgICAgICAgYXJyTCxcblx0ICAgICAgICAgICAgaSA9IDAsXG5cdCAgICAgICAgICAgIGxlbiA9IHN0ci5sZW5ndGg7XG5cdFxuXHQgICAgICAgIGZvciAoOyBpIDwgbGVuOykge1xuXHQgICAgICAgICAgICBmb3IgKGFyckwgPSBhcnIubGVuZ3RoOyBhcnJMLS07IGFyclthcnJMXSAqPSBiYXNlSW4pIHt9XG5cdCAgICAgICAgICAgIGFycltqID0gMF0gKz0gQUxQSEFCRVQuaW5kZXhPZihzdHIuY2hhckF0KGkrKykpO1xuXHRcblx0ICAgICAgICAgICAgZm9yICg7IGogPCBhcnIubGVuZ3RoOyBqKyspIHtcblx0XG5cdCAgICAgICAgICAgICAgICBpZiAoYXJyW2pdID4gYmFzZU91dCAtIDEpIHtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAoYXJyW2ogKyAxXSA9PSBudWxsKSBhcnJbaiArIDFdID0gMDtcblx0ICAgICAgICAgICAgICAgICAgICBhcnJbaiArIDFdICs9IGFycltqXSAvIGJhc2VPdXQgfCAwO1xuXHQgICAgICAgICAgICAgICAgICAgIGFycltqXSAlPSBiYXNlT3V0O1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICByZXR1cm4gYXJyLnJldmVyc2UoKTtcblx0ICAgIH1cblx0XG5cdCAgICBmdW5jdGlvbiB0b0V4cG9uZW50aWFsKHN0ciwgZSkge1xuXHQgICAgICAgIHJldHVybiAoc3RyLmxlbmd0aCA+IDEgPyBzdHIuY2hhckF0KDApICsgJy4nICsgc3RyLnNsaWNlKDEpIDogc3RyKSArIChlIDwgMCA/ICdlJyA6ICdlKycpICsgZTtcblx0ICAgIH1cblx0XG5cdCAgICBmdW5jdGlvbiB0b0ZpeGVkUG9pbnQoc3RyLCBlKSB7XG5cdCAgICAgICAgdmFyIGxlbiwgejtcblx0XG5cdCAgICAgICAgLy8gTmVnYXRpdmUgZXhwb25lbnQ/XG5cdCAgICAgICAgaWYgKGUgPCAwKSB7XG5cdFxuXHQgICAgICAgICAgICAvLyBQcmVwZW5kIHplcm9zLlxuXHQgICAgICAgICAgICBmb3IgKHogPSAnMC4nOyArK2U7IHogKz0gJzAnKSB7fVxuXHQgICAgICAgICAgICBzdHIgPSB6ICsgc3RyO1xuXHRcblx0ICAgICAgICAgICAgLy8gUG9zaXRpdmUgZXhwb25lbnRcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBsZW4gPSBzdHIubGVuZ3RoO1xuXHRcblx0ICAgICAgICAgICAgLy8gQXBwZW5kIHplcm9zLlxuXHQgICAgICAgICAgICBpZiAoKytlID4gbGVuKSB7XG5cdCAgICAgICAgICAgICAgICBmb3IgKHogPSAnMCcsIGUgLT0gbGVuOyAtLWU7IHogKz0gJzAnKSB7fVxuXHQgICAgICAgICAgICAgICAgc3RyICs9IHo7XG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAoZSA8IGxlbikge1xuXHQgICAgICAgICAgICAgICAgc3RyID0gc3RyLnNsaWNlKDAsIGUpICsgJy4nICsgc3RyLnNsaWNlKGUpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICByZXR1cm4gc3RyO1xuXHQgICAgfVxuXHRcblx0ICAgIGZ1bmN0aW9uIHRydW5jYXRlKG4pIHtcblx0ICAgICAgICBuID0gcGFyc2VGbG9hdChuKTtcblx0ICAgICAgICByZXR1cm4gbiA8IDAgPyBtYXRoY2VpbChuKSA6IG1hdGhmbG9vcihuKTtcblx0ICAgIH1cblx0XG5cdCAgICAvLyBFWFBPUlRcblx0XG5cdFxuXHQgICAgQmlnTnVtYmVyID0gYW5vdGhlcigpO1xuXHRcblx0ICAgIC8vIEFNRC5cblx0ICAgIGlmICh0cnVlKSB7XG5cdCAgICAgICAgIShfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIEJpZ051bWJlcjtcblx0ICAgICAgICB9LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXywgZXhwb3J0cywgbW9kdWxlKSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gIT09IHVuZGVmaW5lZCAmJiAobW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXykpO1xuXHRcblx0ICAgICAgICAvLyBOb2RlIGFuZCBvdGhlciBlbnZpcm9ubWVudHMgdGhhdCBzdXBwb3J0IG1vZHVsZS5leHBvcnRzLlxuXHQgICAgfSBlbHNlIGlmICh0eXBlb2YgbW9kdWxlICE9ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XG5cdCAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBCaWdOdW1iZXI7XG5cdCAgICAgICAgaWYgKCFjcnlwdG8pIHRyeSB7XG5cdCAgICAgICAgICAgIGNyeXB0byA9IHJlcXVpcmUoJ2NyeXB0bycpO1xuXHQgICAgICAgIH0gY2F0Y2ggKGUpIHt9XG5cdFxuXHQgICAgICAgIC8vIEJyb3dzZXIuXG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIGdsb2JhbC5CaWdOdW1iZXIgPSBCaWdOdW1iZXI7XG5cdCAgICB9XG5cdH0pKHVuZGVmaW5lZCk7XG5cbi8qKiovIH0sXG4vKiAxNSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0Lypcblx0ICAgIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIHdlYjMuanMuXG5cdFxuXHQgICAgd2ViMy5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG5cdCAgICBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcblx0ICAgIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG5cdCAgICAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuXHRcblx0ICAgIHdlYjMuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcblx0ICAgIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG5cdCAgICBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG5cdCAgICBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cblx0XG5cdCAgICBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2Vcblx0ICAgIGFsb25nIHdpdGggd2ViMy5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cblx0Ki9cblx0LyoqIFxuXHQgKiBAZmlsZSBzaGEzLmpzXG5cdCAqIEBhdXRob3IgTWFyZWsgS290ZXdpY3ogPG1hcmVrQGV0aGRldi5jb20+XG5cdCAqIEBkYXRlIDIwMTVcblx0ICovXG5cdFxuXHR2YXIgQ3J5cHRvSlMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUyKTtcblx0dmFyIHNoYTMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI0KTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHZhbHVlLCBvcHRpb25zKSB7XG5cdCAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmVuY29kaW5nID09PSAnaGV4Jykge1xuXHQgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPiAyICYmIHZhbHVlLnN1YnN0cigwLCAyKSA9PT0gJzB4Jykge1xuXHQgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnN1YnN0cigyKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgdmFsdWUgPSBDcnlwdG9KUy5lbmMuSGV4LnBhcnNlKHZhbHVlKTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gc2hhMyh2YWx1ZSwge1xuXHQgICAgICAgIG91dHB1dExlbmd0aDogMjU2XG5cdCAgICB9KS50b1N0cmluZygpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMTYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdC8qXG5cdCAgICBUaGlzIGZpbGUgaXMgcGFydCBvZiB3ZWIzLmpzLlxuXHRcblx0ICAgIHdlYjMuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuXHQgICAgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG5cdCAgICB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuXHQgICAgKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cblx0XG5cdCAgICB3ZWIzLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG5cdCAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuXHQgICAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuXHQgICAgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG5cdFxuXHQgICAgWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG5cdCAgICBhbG9uZyB3aXRoIHdlYjMuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG5cdCovXG5cdC8qKiBcblx0ICogQGZpbGUgZXJyb3JzLmpzXG5cdCAqIEBhdXRob3IgTWFyZWsgS290ZXdpY3ogPG1hcmVrQGV0aGRldi5jb20+XG5cdCAqIEBkYXRlIDIwMTVcblx0ICovXG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IHtcblx0ICAgIEludmFsaWROdW1iZXJPZlBhcmFtczogZnVuY3Rpb24gSW52YWxpZE51bWJlck9mUGFyYW1zKCkge1xuXHQgICAgICAgIHJldHVybiBuZXcgRXJyb3IoJ0ludmFsaWQgbnVtYmVyIG9mIGlucHV0IHBhcmFtZXRlcnMnKTtcblx0ICAgIH0sXG5cdCAgICBJbnZhbGlkQ29ubmVjdGlvbjogZnVuY3Rpb24gSW52YWxpZENvbm5lY3Rpb24oaG9zdCkge1xuXHQgICAgICAgIHJldHVybiBuZXcgRXJyb3IoJ0NPTk5FQ1RJT04gRVJST1I6IENvdWxkblxcJ3QgY29ubmVjdCB0byBub2RlICcgKyBob3N0ICsgJy4nKTtcblx0ICAgIH0sXG5cdCAgICBJbnZhbGlkUHJvdmlkZXI6IGZ1bmN0aW9uIEludmFsaWRQcm92aWRlcigpIHtcblx0ICAgICAgICByZXR1cm4gbmV3IEVycm9yKCdQcm92aWRlciBub3Qgc2V0IG9yIGludmFsaWQnKTtcblx0ICAgIH0sXG5cdCAgICBJbnZhbGlkUmVzcG9uc2U6IGZ1bmN0aW9uIEludmFsaWRSZXNwb25zZShyZXN1bHQpIHtcblx0ICAgICAgICB2YXIgbWVzc2FnZSA9ICEhcmVzdWx0ICYmICEhcmVzdWx0LmVycm9yICYmICEhcmVzdWx0LmVycm9yLm1lc3NhZ2UgPyByZXN1bHQuZXJyb3IubWVzc2FnZSA6ICdJbnZhbGlkIEpTT04gUlBDIHJlc3BvbnNlOiAnICsgSlNPTi5zdHJpbmdpZnkocmVzdWx0KTtcblx0ICAgICAgICByZXR1cm4gbmV3IEVycm9yKG1lc3NhZ2UpO1xuXHQgICAgfVxuXHR9O1xuXG4vKioqLyB9LFxuLyogMTcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdC8qXG5cdCAgICBUaGlzIGZpbGUgaXMgcGFydCBvZiB3ZWIzLmpzLlxuXHRcblx0ICAgIHdlYjMuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuXHQgICAgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG5cdCAgICB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuXHQgICAgKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cblx0XG5cdCAgICB3ZWIzLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG5cdCAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuXHQgICAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuXHQgICAgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG5cdFxuXHQgICAgWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG5cdCAgICBhbG9uZyB3aXRoIHdlYjMuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG5cdCovXG5cdC8qKlxuXHQgKiBAZmlsZSBwcm9wZXJ0eS5qc1xuXHQgKiBAYXV0aG9yIEZhYmlhbiBWb2dlbHN0ZWxsZXIgPGZhYmlhbkBmcm96ZW1hbi5kZT5cblx0ICogQGF1dGhvciBNYXJlayBLb3Rld2ljeiA8bWFyZWtAZXRoZGV2LmNvbT5cblx0ICogQGRhdGUgMjAxNVxuXHQgKi9cblx0XG5cdHZhciB1dGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgUHJvcGVydHkgPSBmdW5jdGlvbiBQcm9wZXJ0eShvcHRpb25zKSB7XG5cdCAgICB0aGlzLm5hbWUgPSBvcHRpb25zLm5hbWU7XG5cdCAgICB0aGlzLmdldHRlciA9IG9wdGlvbnMuZ2V0dGVyO1xuXHQgICAgdGhpcy5zZXR0ZXIgPSBvcHRpb25zLnNldHRlcjtcblx0ICAgIHRoaXMub3V0cHV0Rm9ybWF0dGVyID0gb3B0aW9ucy5vdXRwdXRGb3JtYXR0ZXI7XG5cdCAgICB0aGlzLmlucHV0Rm9ybWF0dGVyID0gb3B0aW9ucy5pbnB1dEZvcm1hdHRlcjtcblx0ICAgIHRoaXMucmVxdWVzdE1hbmFnZXIgPSBudWxsO1xuXHR9O1xuXHRcblx0UHJvcGVydHkucHJvdG90eXBlLnNldFJlcXVlc3RNYW5hZ2VyID0gZnVuY3Rpb24gKHJtKSB7XG5cdCAgICB0aGlzLnJlcXVlc3RNYW5hZ2VyID0gcm07XG5cdH07XG5cdFxuXHQvKipcblx0ICogU2hvdWxkIGJlIGNhbGxlZCB0byBmb3JtYXQgaW5wdXQgYXJncyBvZiBtZXRob2Rcblx0ICogXG5cdCAqIEBtZXRob2QgZm9ybWF0SW5wdXRcblx0ICogQHBhcmFtIHtBcnJheX1cblx0ICogQHJldHVybiB7QXJyYXl9XG5cdCAqL1xuXHRQcm9wZXJ0eS5wcm90b3R5cGUuZm9ybWF0SW5wdXQgPSBmdW5jdGlvbiAoYXJnKSB7XG5cdCAgICByZXR1cm4gdGhpcy5pbnB1dEZvcm1hdHRlciA/IHRoaXMuaW5wdXRGb3JtYXR0ZXIoYXJnKSA6IGFyZztcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBTaG91bGQgYmUgY2FsbGVkIHRvIGZvcm1hdCBvdXRwdXQocmVzdWx0KSBvZiBtZXRob2Rcblx0ICpcblx0ICogQG1ldGhvZCBmb3JtYXRPdXRwdXRcblx0ICogQHBhcmFtIHtPYmplY3R9XG5cdCAqIEByZXR1cm4ge09iamVjdH1cblx0ICovXG5cdFByb3BlcnR5LnByb3RvdHlwZS5mb3JtYXRPdXRwdXQgPSBmdW5jdGlvbiAocmVzdWx0KSB7XG5cdCAgICByZXR1cm4gdGhpcy5vdXRwdXRGb3JtYXR0ZXIgJiYgcmVzdWx0ICE9PSBudWxsID8gdGhpcy5vdXRwdXRGb3JtYXR0ZXIocmVzdWx0KSA6IHJlc3VsdDtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBTaG91bGQgYmUgdXNlZCB0byBleHRyYWN0IGNhbGxiYWNrIGZyb20gYXJyYXkgb2YgYXJndW1lbnRzLiBNb2RpZmllcyBpbnB1dCBwYXJhbVxuXHQgKlxuXHQgKiBAbWV0aG9kIGV4dHJhY3RDYWxsYmFja1xuXHQgKiBAcGFyYW0ge0FycmF5fSBhcmd1bWVudHNcblx0ICogQHJldHVybiB7RnVuY3Rpb258TnVsbH0gY2FsbGJhY2ssIGlmIGV4aXN0c1xuXHQgKi9cblx0UHJvcGVydHkucHJvdG90eXBlLmV4dHJhY3RDYWxsYmFjayA9IGZ1bmN0aW9uIChhcmdzKSB7XG5cdCAgICBpZiAodXRpbHMuaXNGdW5jdGlvbihhcmdzW2FyZ3MubGVuZ3RoIC0gMV0pKSB7XG5cdCAgICAgICAgcmV0dXJuIGFyZ3MucG9wKCk7IC8vIG1vZGlmeSB0aGUgYXJncyBhcnJheSFcblx0ICAgIH1cblx0fTtcblx0XG5cdC8qKlxuXHQgKiBTaG91bGQgYXR0YWNoIGZ1bmN0aW9uIHRvIG1ldGhvZFxuXHQgKiBcblx0ICogQG1ldGhvZCBhdHRhY2hUb09iamVjdFxuXHQgKiBAcGFyYW0ge09iamVjdH1cblx0ICogQHBhcmFtIHtGdW5jdGlvbn1cblx0ICovXG5cdFByb3BlcnR5LnByb3RvdHlwZS5hdHRhY2hUb09iamVjdCA9IGZ1bmN0aW9uIChvYmopIHtcblx0ICAgIHZhciBwcm90byA9IHtcblx0ICAgICAgICBnZXQ6IHRoaXMuYnVpbGRHZXQoKSxcblx0ICAgICAgICBlbnVtZXJhYmxlOiB0cnVlXG5cdCAgICB9O1xuXHRcblx0ICAgIHZhciBuYW1lcyA9IHRoaXMubmFtZS5zcGxpdCgnLicpO1xuXHQgICAgdmFyIG5hbWUgPSBuYW1lc1swXTtcblx0ICAgIGlmIChuYW1lcy5sZW5ndGggPiAxKSB7XG5cdCAgICAgICAgb2JqW25hbWVzWzBdXSA9IG9ialtuYW1lc1swXV0gfHwge307XG5cdCAgICAgICAgb2JqID0gb2JqW25hbWVzWzBdXTtcblx0ICAgICAgICBuYW1lID0gbmFtZXNbMV07XG5cdCAgICB9XG5cdFxuXHQgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgbmFtZSwgcHJvdG8pO1xuXHQgICAgb2JqW2FzeW5jR2V0dGVyTmFtZShuYW1lKV0gPSB0aGlzLmJ1aWxkQXN5bmNHZXQoKTtcblx0fTtcblx0XG5cdHZhciBhc3luY0dldHRlck5hbWUgPSBmdW5jdGlvbiBhc3luY0dldHRlck5hbWUobmFtZSkge1xuXHQgICAgcmV0dXJuICdnZXQnICsgbmFtZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIG5hbWUuc2xpY2UoMSk7XG5cdH07XG5cdFxuXHRQcm9wZXJ0eS5wcm90b3R5cGUuYnVpbGRHZXQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2YXIgcHJvcGVydHkgPSB0aGlzO1xuXHQgICAgcmV0dXJuIGZ1bmN0aW9uIGdldCgpIHtcblx0ICAgICAgICByZXR1cm4gcHJvcGVydHkuZm9ybWF0T3V0cHV0KHByb3BlcnR5LnJlcXVlc3RNYW5hZ2VyLnNlbmQoe1xuXHQgICAgICAgICAgICBtZXRob2Q6IHByb3BlcnR5LmdldHRlclxuXHQgICAgICAgIH0pKTtcblx0ICAgIH07XG5cdH07XG5cdFxuXHRQcm9wZXJ0eS5wcm90b3R5cGUuYnVpbGRBc3luY0dldCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZhciBwcm9wZXJ0eSA9IHRoaXM7XG5cdCAgICB2YXIgZ2V0ID0gZnVuY3Rpb24gZ2V0KGNhbGxiYWNrKSB7XG5cdCAgICAgICAgcHJvcGVydHkucmVxdWVzdE1hbmFnZXIuc2VuZEFzeW5jKHtcblx0ICAgICAgICAgICAgbWV0aG9kOiBwcm9wZXJ0eS5nZXR0ZXJcblx0ICAgICAgICB9LCBmdW5jdGlvbiAoZXJyLCByZXN1bHQpIHtcblx0ICAgICAgICAgICAgY2FsbGJhY2soZXJyLCBwcm9wZXJ0eS5mb3JtYXRPdXRwdXQocmVzdWx0KSk7XG5cdCAgICAgICAgfSk7XG5cdCAgICB9O1xuXHQgICAgZ2V0LnJlcXVlc3QgPSB0aGlzLnJlcXVlc3QuYmluZCh0aGlzKTtcblx0ICAgIHJldHVybiBnZXQ7XG5cdH07XG5cdFxuXHQvKipcblx0ICogU2hvdWxkIGJlIGNhbGxlZCB0byBjcmVhdGUgcHVyZSBKU09OUlBDIHJlcXVlc3Qgd2hpY2ggY2FuIGJlIHVzZWQgaW4gYmF0Y2ggcmVxdWVzdFxuXHQgKlxuXHQgKiBAbWV0aG9kIHJlcXVlc3Rcblx0ICogQHBhcmFtIHsuLi59IHBhcmFtc1xuXHQgKiBAcmV0dXJuIHtPYmplY3R9IGpzb25ycGMgcmVxdWVzdFxuXHQgKi9cblx0UHJvcGVydHkucHJvdG90eXBlLnJlcXVlc3QgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2YXIgcGF5bG9hZCA9IHtcblx0ICAgICAgICBtZXRob2Q6IHRoaXMuZ2V0dGVyLFxuXHQgICAgICAgIHBhcmFtczogW10sXG5cdCAgICAgICAgY2FsbGJhY2s6IHRoaXMuZXh0cmFjdENhbGxiYWNrKEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykpXG5cdCAgICB9O1xuXHQgICAgcGF5bG9hZC5mb3JtYXQgPSB0aGlzLmZvcm1hdE91dHB1dC5iaW5kKHRoaXMpO1xuXHQgICAgcmV0dXJuIHBheWxvYWQ7XG5cdH07XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IFByb3BlcnR5O1xuXG4vKioqLyB9LFxuLyogMTggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18sIF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18sIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fO1widXNlIHN0cmljdFwiO1xuXHRcblx0dmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXHRcblx0OyhmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSkge1xuXHRcdGlmICgoIGZhbHNlID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2YoZXhwb3J0cykpID09PSBcIm9iamVjdFwiKSB7XG5cdFx0XHQvLyBDb21tb25KU1xuXHRcdFx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzID0gZmFjdG9yeShfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKTtcblx0XHR9IGVsc2UgaWYgKHRydWUpIHtcblx0XHRcdC8vIEFNRFxuXHRcdFx0IShfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fID0gW19fd2VicGFja19yZXF1aXJlX18oMSldLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18gPSAoZmFjdG9yeSksIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fID0gKHR5cGVvZiBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18gPT09ICdmdW5jdGlvbicgPyAoX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fLmFwcGx5KGV4cG9ydHMsIF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18pKSA6IF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyksIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fICE9PSB1bmRlZmluZWQgJiYgKG1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18pKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gR2xvYmFsIChicm93c2VyKVxuXHRcdFx0ZmFjdG9yeShyb290LkNyeXB0b0pTKTtcblx0XHR9XG5cdH0pKHVuZGVmaW5lZCwgZnVuY3Rpb24gKENyeXB0b0pTKSB7XG5cdFxuXHRcdChmdW5jdGlvbiAoTWF0aCkge1xuXHRcdFx0Ly8gU2hvcnRjdXRzXG5cdFx0XHR2YXIgQyA9IENyeXB0b0pTO1xuXHRcdFx0dmFyIENfbGliID0gQy5saWI7XG5cdFx0XHR2YXIgV29yZEFycmF5ID0gQ19saWIuV29yZEFycmF5O1xuXHRcdFx0dmFyIEhhc2hlciA9IENfbGliLkhhc2hlcjtcblx0XHRcdHZhciBDX2FsZ28gPSBDLmFsZ287XG5cdFxuXHRcdFx0Ly8gSW5pdGlhbGl6YXRpb24gYW5kIHJvdW5kIGNvbnN0YW50cyB0YWJsZXNcblx0XHRcdHZhciBIID0gW107XG5cdFx0XHR2YXIgSyA9IFtdO1xuXHRcblx0XHRcdC8vIENvbXB1dGUgY29uc3RhbnRzXG5cdFx0XHQoZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRmdW5jdGlvbiBpc1ByaW1lKG4pIHtcblx0XHRcdFx0XHR2YXIgc3FydE4gPSBNYXRoLnNxcnQobik7XG5cdFx0XHRcdFx0Zm9yICh2YXIgZmFjdG9yID0gMjsgZmFjdG9yIDw9IHNxcnROOyBmYWN0b3IrKykge1xuXHRcdFx0XHRcdFx0aWYgKCEobiAlIGZhY3RvcikpIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdGZ1bmN0aW9uIGdldEZyYWN0aW9uYWxCaXRzKG4pIHtcblx0XHRcdFx0XHRyZXR1cm4gKG4gLSAobiB8IDApKSAqIDB4MTAwMDAwMDAwIHwgMDtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0dmFyIG4gPSAyO1xuXHRcdFx0XHR2YXIgblByaW1lID0gMDtcblx0XHRcdFx0d2hpbGUgKG5QcmltZSA8IDY0KSB7XG5cdFx0XHRcdFx0aWYgKGlzUHJpbWUobikpIHtcblx0XHRcdFx0XHRcdGlmIChuUHJpbWUgPCA4KSB7XG5cdFx0XHRcdFx0XHRcdEhbblByaW1lXSA9IGdldEZyYWN0aW9uYWxCaXRzKE1hdGgucG93KG4sIDEgLyAyKSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRLW25QcmltZV0gPSBnZXRGcmFjdGlvbmFsQml0cyhNYXRoLnBvdyhuLCAxIC8gMykpO1xuXHRcblx0XHRcdFx0XHRcdG5QcmltZSsrO1xuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0bisrO1xuXHRcdFx0XHR9XG5cdFx0XHR9KSgpO1xuXHRcblx0XHRcdC8vIFJldXNhYmxlIG9iamVjdFxuXHRcdFx0dmFyIFcgPSBbXTtcblx0XG5cdFx0XHQvKipcblx0ICAgKiBTSEEtMjU2IGhhc2ggYWxnb3JpdGhtLlxuXHQgICAqL1xuXHRcdFx0dmFyIFNIQTI1NiA9IENfYWxnby5TSEEyNTYgPSBIYXNoZXIuZXh0ZW5kKHtcblx0XHRcdFx0X2RvUmVzZXQ6IGZ1bmN0aW9uIF9kb1Jlc2V0KCkge1xuXHRcdFx0XHRcdHRoaXMuX2hhc2ggPSBuZXcgV29yZEFycmF5LmluaXQoSC5zbGljZSgwKSk7XG5cdFx0XHRcdH0sXG5cdFxuXHRcdFx0XHRfZG9Qcm9jZXNzQmxvY2s6IGZ1bmN0aW9uIF9kb1Byb2Nlc3NCbG9jayhNLCBvZmZzZXQpIHtcblx0XHRcdFx0XHQvLyBTaG9ydGN1dFxuXHRcdFx0XHRcdHZhciBIID0gdGhpcy5faGFzaC53b3Jkcztcblx0XG5cdFx0XHRcdFx0Ly8gV29ya2luZyB2YXJpYWJsZXNcblx0XHRcdFx0XHR2YXIgYSA9IEhbMF07XG5cdFx0XHRcdFx0dmFyIGIgPSBIWzFdO1xuXHRcdFx0XHRcdHZhciBjID0gSFsyXTtcblx0XHRcdFx0XHR2YXIgZCA9IEhbM107XG5cdFx0XHRcdFx0dmFyIGUgPSBIWzRdO1xuXHRcdFx0XHRcdHZhciBmID0gSFs1XTtcblx0XHRcdFx0XHR2YXIgZyA9IEhbNl07XG5cdFx0XHRcdFx0dmFyIGggPSBIWzddO1xuXHRcblx0XHRcdFx0XHQvLyBDb21wdXRhdGlvblxuXHRcdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgNjQ7IGkrKykge1xuXHRcdFx0XHRcdFx0aWYgKGkgPCAxNikge1xuXHRcdFx0XHRcdFx0XHRXW2ldID0gTVtvZmZzZXQgKyBpXSB8IDA7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHR2YXIgZ2FtbWEweCA9IFdbaSAtIDE1XTtcblx0XHRcdFx0XHRcdFx0dmFyIGdhbW1hMCA9IChnYW1tYTB4IDw8IDI1IHwgZ2FtbWEweCA+Pj4gNykgXiAoZ2FtbWEweCA8PCAxNCB8IGdhbW1hMHggPj4+IDE4KSBeIGdhbW1hMHggPj4+IDM7XG5cdFxuXHRcdFx0XHRcdFx0XHR2YXIgZ2FtbWExeCA9IFdbaSAtIDJdO1xuXHRcdFx0XHRcdFx0XHR2YXIgZ2FtbWExID0gKGdhbW1hMXggPDwgMTUgfCBnYW1tYTF4ID4+PiAxNykgXiAoZ2FtbWExeCA8PCAxMyB8IGdhbW1hMXggPj4+IDE5KSBeIGdhbW1hMXggPj4+IDEwO1xuXHRcblx0XHRcdFx0XHRcdFx0V1tpXSA9IGdhbW1hMCArIFdbaSAtIDddICsgZ2FtbWExICsgV1tpIC0gMTZdO1xuXHRcdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRcdHZhciBjaCA9IGUgJiBmIF4gfmUgJiBnO1xuXHRcdFx0XHRcdFx0dmFyIG1haiA9IGEgJiBiIF4gYSAmIGMgXiBiICYgYztcblx0XG5cdFx0XHRcdFx0XHR2YXIgc2lnbWEwID0gKGEgPDwgMzAgfCBhID4+PiAyKSBeIChhIDw8IDE5IHwgYSA+Pj4gMTMpIF4gKGEgPDwgMTAgfCBhID4+PiAyMik7XG5cdFx0XHRcdFx0XHR2YXIgc2lnbWExID0gKGUgPDwgMjYgfCBlID4+PiA2KSBeIChlIDw8IDIxIHwgZSA+Pj4gMTEpIF4gKGUgPDwgNyB8IGUgPj4+IDI1KTtcblx0XG5cdFx0XHRcdFx0XHR2YXIgdDEgPSBoICsgc2lnbWExICsgY2ggKyBLW2ldICsgV1tpXTtcblx0XHRcdFx0XHRcdHZhciB0MiA9IHNpZ21hMCArIG1hajtcblx0XG5cdFx0XHRcdFx0XHRoID0gZztcblx0XHRcdFx0XHRcdGcgPSBmO1xuXHRcdFx0XHRcdFx0ZiA9IGU7XG5cdFx0XHRcdFx0XHRlID0gZCArIHQxIHwgMDtcblx0XHRcdFx0XHRcdGQgPSBjO1xuXHRcdFx0XHRcdFx0YyA9IGI7XG5cdFx0XHRcdFx0XHRiID0gYTtcblx0XHRcdFx0XHRcdGEgPSB0MSArIHQyIHwgMDtcblx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdC8vIEludGVybWVkaWF0ZSBoYXNoIHZhbHVlXG5cdFx0XHRcdFx0SFswXSA9IEhbMF0gKyBhIHwgMDtcblx0XHRcdFx0XHRIWzFdID0gSFsxXSArIGIgfCAwO1xuXHRcdFx0XHRcdEhbMl0gPSBIWzJdICsgYyB8IDA7XG5cdFx0XHRcdFx0SFszXSA9IEhbM10gKyBkIHwgMDtcblx0XHRcdFx0XHRIWzRdID0gSFs0XSArIGUgfCAwO1xuXHRcdFx0XHRcdEhbNV0gPSBIWzVdICsgZiB8IDA7XG5cdFx0XHRcdFx0SFs2XSA9IEhbNl0gKyBnIHwgMDtcblx0XHRcdFx0XHRIWzddID0gSFs3XSArIGggfCAwO1xuXHRcdFx0XHR9LFxuXHRcblx0XHRcdFx0X2RvRmluYWxpemU6IGZ1bmN0aW9uIF9kb0ZpbmFsaXplKCkge1xuXHRcdFx0XHRcdC8vIFNob3J0Y3V0c1xuXHRcdFx0XHRcdHZhciBkYXRhID0gdGhpcy5fZGF0YTtcblx0XHRcdFx0XHR2YXIgZGF0YVdvcmRzID0gZGF0YS53b3Jkcztcblx0XG5cdFx0XHRcdFx0dmFyIG5CaXRzVG90YWwgPSB0aGlzLl9uRGF0YUJ5dGVzICogODtcblx0XHRcdFx0XHR2YXIgbkJpdHNMZWZ0ID0gZGF0YS5zaWdCeXRlcyAqIDg7XG5cdFxuXHRcdFx0XHRcdC8vIEFkZCBwYWRkaW5nXG5cdFx0XHRcdFx0ZGF0YVdvcmRzW25CaXRzTGVmdCA+Pj4gNV0gfD0gMHg4MCA8PCAyNCAtIG5CaXRzTGVmdCAlIDMyO1xuXHRcdFx0XHRcdGRhdGFXb3Jkc1sobkJpdHNMZWZ0ICsgNjQgPj4+IDkgPDwgNCkgKyAxNF0gPSBNYXRoLmZsb29yKG5CaXRzVG90YWwgLyAweDEwMDAwMDAwMCk7XG5cdFx0XHRcdFx0ZGF0YVdvcmRzWyhuQml0c0xlZnQgKyA2NCA+Pj4gOSA8PCA0KSArIDE1XSA9IG5CaXRzVG90YWw7XG5cdFx0XHRcdFx0ZGF0YS5zaWdCeXRlcyA9IGRhdGFXb3Jkcy5sZW5ndGggKiA0O1xuXHRcblx0XHRcdFx0XHQvLyBIYXNoIGZpbmFsIGJsb2Nrc1xuXHRcdFx0XHRcdHRoaXMuX3Byb2Nlc3MoKTtcblx0XG5cdFx0XHRcdFx0Ly8gUmV0dXJuIGZpbmFsIGNvbXB1dGVkIGhhc2hcblx0XHRcdFx0XHRyZXR1cm4gdGhpcy5faGFzaDtcblx0XHRcdFx0fSxcblx0XG5cdFx0XHRcdGNsb25lOiBmdW5jdGlvbiBjbG9uZSgpIHtcblx0XHRcdFx0XHR2YXIgY2xvbmUgPSBIYXNoZXIuY2xvbmUuY2FsbCh0aGlzKTtcblx0XHRcdFx0XHRjbG9uZS5faGFzaCA9IHRoaXMuX2hhc2guY2xvbmUoKTtcblx0XG5cdFx0XHRcdFx0cmV0dXJuIGNsb25lO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XG5cdFx0XHQvKipcblx0ICAgKiBTaG9ydGN1dCBmdW5jdGlvbiB0byB0aGUgaGFzaGVyJ3Mgb2JqZWN0IGludGVyZmFjZS5cblx0ICAgKlxuXHQgICAqIEBwYXJhbSB7V29yZEFycmF5fHN0cmluZ30gbWVzc2FnZSBUaGUgbWVzc2FnZSB0byBoYXNoLlxuXHQgICAqXG5cdCAgICogQHJldHVybiB7V29yZEFycmF5fSBUaGUgaGFzaC5cblx0ICAgKlxuXHQgICAqIEBzdGF0aWNcblx0ICAgKlxuXHQgICAqIEBleGFtcGxlXG5cdCAgICpcblx0ICAgKiAgICAgdmFyIGhhc2ggPSBDcnlwdG9KUy5TSEEyNTYoJ21lc3NhZ2UnKTtcblx0ICAgKiAgICAgdmFyIGhhc2ggPSBDcnlwdG9KUy5TSEEyNTYod29yZEFycmF5KTtcblx0ICAgKi9cblx0XHRcdEMuU0hBMjU2ID0gSGFzaGVyLl9jcmVhdGVIZWxwZXIoU0hBMjU2KTtcblx0XG5cdFx0XHQvKipcblx0ICAgKiBTaG9ydGN1dCBmdW5jdGlvbiB0byB0aGUgSE1BQydzIG9iamVjdCBpbnRlcmZhY2UuXG5cdCAgICpcblx0ICAgKiBAcGFyYW0ge1dvcmRBcnJheXxzdHJpbmd9IG1lc3NhZ2UgVGhlIG1lc3NhZ2UgdG8gaGFzaC5cblx0ICAgKiBAcGFyYW0ge1dvcmRBcnJheXxzdHJpbmd9IGtleSBUaGUgc2VjcmV0IGtleS5cblx0ICAgKlxuXHQgICAqIEByZXR1cm4ge1dvcmRBcnJheX0gVGhlIEhNQUMuXG5cdCAgICpcblx0ICAgKiBAc3RhdGljXG5cdCAgICpcblx0ICAgKiBAZXhhbXBsZVxuXHQgICAqXG5cdCAgICogICAgIHZhciBobWFjID0gQ3J5cHRvSlMuSG1hY1NIQTI1NihtZXNzYWdlLCBrZXkpO1xuXHQgICAqL1xuXHRcdFx0Qy5IbWFjU0hBMjU2ID0gSGFzaGVyLl9jcmVhdGVIbWFjSGVscGVyKFNIQTI1Nik7XG5cdFx0fSkoTWF0aCk7XG5cdFxuXHRcdHJldHVybiBDcnlwdG9KUy5TSEEyNTY7XG5cdH0pO1xuXG4vKioqLyB9LFxuLyogMTkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18sIF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18sIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fO1widXNlIHN0cmljdFwiO1xuXHRcblx0dmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXHRcblx0OyhmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSwgdW5kZWYpIHtcblx0XHRpZiAoKCBmYWxzZSA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKGV4cG9ydHMpKSA9PT0gXCJvYmplY3RcIikge1xuXHRcdFx0Ly8gQ29tbW9uSlNcblx0XHRcdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0cyA9IGZhY3RvcnkoX193ZWJwYWNrX3JlcXVpcmVfXygxKSwgX193ZWJwYWNrX3JlcXVpcmVfXygxMCkpO1xuXHRcdH0gZWxzZSBpZiAodHJ1ZSkge1xuXHRcdFx0Ly8gQU1EXG5cdFx0XHQhKF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18gPSBbX193ZWJwYWNrX3JlcXVpcmVfXygxKSwgX193ZWJwYWNrX3JlcXVpcmVfXygxMCldLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18gPSAoZmFjdG9yeSksIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fID0gKHR5cGVvZiBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18gPT09ICdmdW5jdGlvbicgPyAoX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fLmFwcGx5KGV4cG9ydHMsIF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18pKSA6IF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyksIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fICE9PSB1bmRlZmluZWQgJiYgKG1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18pKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gR2xvYmFsIChicm93c2VyKVxuXHRcdFx0ZmFjdG9yeShyb290LkNyeXB0b0pTKTtcblx0XHR9XG5cdH0pKHVuZGVmaW5lZCwgZnVuY3Rpb24gKENyeXB0b0pTKSB7XG5cdFxuXHRcdChmdW5jdGlvbiAoKSB7XG5cdFx0XHQvLyBTaG9ydGN1dHNcblx0XHRcdHZhciBDID0gQ3J5cHRvSlM7XG5cdFx0XHR2YXIgQ19saWIgPSBDLmxpYjtcblx0XHRcdHZhciBIYXNoZXIgPSBDX2xpYi5IYXNoZXI7XG5cdFx0XHR2YXIgQ194NjQgPSBDLng2NDtcblx0XHRcdHZhciBYNjRXb3JkID0gQ194NjQuV29yZDtcblx0XHRcdHZhciBYNjRXb3JkQXJyYXkgPSBDX3g2NC5Xb3JkQXJyYXk7XG5cdFx0XHR2YXIgQ19hbGdvID0gQy5hbGdvO1xuXHRcblx0XHRcdGZ1bmN0aW9uIFg2NFdvcmRfY3JlYXRlKCkge1xuXHRcdFx0XHRyZXR1cm4gWDY0V29yZC5jcmVhdGUuYXBwbHkoWDY0V29yZCwgYXJndW1lbnRzKTtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBDb25zdGFudHNcblx0XHRcdHZhciBLID0gW1g2NFdvcmRfY3JlYXRlKDB4NDI4YTJmOTgsIDB4ZDcyOGFlMjIpLCBYNjRXb3JkX2NyZWF0ZSgweDcxMzc0NDkxLCAweDIzZWY2NWNkKSwgWDY0V29yZF9jcmVhdGUoMHhiNWMwZmJjZiwgMHhlYzRkM2IyZiksIFg2NFdvcmRfY3JlYXRlKDB4ZTliNWRiYTUsIDB4ODE4OWRiYmMpLCBYNjRXb3JkX2NyZWF0ZSgweDM5NTZjMjViLCAweGYzNDhiNTM4KSwgWDY0V29yZF9jcmVhdGUoMHg1OWYxMTFmMSwgMHhiNjA1ZDAxOSksIFg2NFdvcmRfY3JlYXRlKDB4OTIzZjgyYTQsIDB4YWYxOTRmOWIpLCBYNjRXb3JkX2NyZWF0ZSgweGFiMWM1ZWQ1LCAweGRhNmQ4MTE4KSwgWDY0V29yZF9jcmVhdGUoMHhkODA3YWE5OCwgMHhhMzAzMDI0MiksIFg2NFdvcmRfY3JlYXRlKDB4MTI4MzViMDEsIDB4NDU3MDZmYmUpLCBYNjRXb3JkX2NyZWF0ZSgweDI0MzE4NWJlLCAweDRlZTRiMjhjKSwgWDY0V29yZF9jcmVhdGUoMHg1NTBjN2RjMywgMHhkNWZmYjRlMiksIFg2NFdvcmRfY3JlYXRlKDB4NzJiZTVkNzQsIDB4ZjI3Yjg5NmYpLCBYNjRXb3JkX2NyZWF0ZSgweDgwZGViMWZlLCAweDNiMTY5NmIxKSwgWDY0V29yZF9jcmVhdGUoMHg5YmRjMDZhNywgMHgyNWM3MTIzNSksIFg2NFdvcmRfY3JlYXRlKDB4YzE5YmYxNzQsIDB4Y2Y2OTI2OTQpLCBYNjRXb3JkX2NyZWF0ZSgweGU0OWI2OWMxLCAweDllZjE0YWQyKSwgWDY0V29yZF9jcmVhdGUoMHhlZmJlNDc4NiwgMHgzODRmMjVlMyksIFg2NFdvcmRfY3JlYXRlKDB4MGZjMTlkYzYsIDB4OGI4Y2Q1YjUpLCBYNjRXb3JkX2NyZWF0ZSgweDI0MGNhMWNjLCAweDc3YWM5YzY1KSwgWDY0V29yZF9jcmVhdGUoMHgyZGU5MmM2ZiwgMHg1OTJiMDI3NSksIFg2NFdvcmRfY3JlYXRlKDB4NGE3NDg0YWEsIDB4NmVhNmU0ODMpLCBYNjRXb3JkX2NyZWF0ZSgweDVjYjBhOWRjLCAweGJkNDFmYmQ0KSwgWDY0V29yZF9jcmVhdGUoMHg3NmY5ODhkYSwgMHg4MzExNTNiNSksIFg2NFdvcmRfY3JlYXRlKDB4OTgzZTUxNTIsIDB4ZWU2NmRmYWIpLCBYNjRXb3JkX2NyZWF0ZSgweGE4MzFjNjZkLCAweDJkYjQzMjEwKSwgWDY0V29yZF9jcmVhdGUoMHhiMDAzMjdjOCwgMHg5OGZiMjEzZiksIFg2NFdvcmRfY3JlYXRlKDB4YmY1OTdmYzcsIDB4YmVlZjBlZTQpLCBYNjRXb3JkX2NyZWF0ZSgweGM2ZTAwYmYzLCAweDNkYTg4ZmMyKSwgWDY0V29yZF9jcmVhdGUoMHhkNWE3OTE0NywgMHg5MzBhYTcyNSksIFg2NFdvcmRfY3JlYXRlKDB4MDZjYTYzNTEsIDB4ZTAwMzgyNmYpLCBYNjRXb3JkX2NyZWF0ZSgweDE0MjkyOTY3LCAweDBhMGU2ZTcwKSwgWDY0V29yZF9jcmVhdGUoMHgyN2I3MGE4NSwgMHg0NmQyMmZmYyksIFg2NFdvcmRfY3JlYXRlKDB4MmUxYjIxMzgsIDB4NWMyNmM5MjYpLCBYNjRXb3JkX2NyZWF0ZSgweDRkMmM2ZGZjLCAweDVhYzQyYWVkKSwgWDY0V29yZF9jcmVhdGUoMHg1MzM4MGQxMywgMHg5ZDk1YjNkZiksIFg2NFdvcmRfY3JlYXRlKDB4NjUwYTczNTQsIDB4OGJhZjYzZGUpLCBYNjRXb3JkX2NyZWF0ZSgweDc2NmEwYWJiLCAweDNjNzdiMmE4KSwgWDY0V29yZF9jcmVhdGUoMHg4MWMyYzkyZSwgMHg0N2VkYWVlNiksIFg2NFdvcmRfY3JlYXRlKDB4OTI3MjJjODUsIDB4MTQ4MjM1M2IpLCBYNjRXb3JkX2NyZWF0ZSgweGEyYmZlOGExLCAweDRjZjEwMzY0KSwgWDY0V29yZF9jcmVhdGUoMHhhODFhNjY0YiwgMHhiYzQyMzAwMSksIFg2NFdvcmRfY3JlYXRlKDB4YzI0YjhiNzAsIDB4ZDBmODk3OTEpLCBYNjRXb3JkX2NyZWF0ZSgweGM3NmM1MWEzLCAweDA2NTRiZTMwKSwgWDY0V29yZF9jcmVhdGUoMHhkMTkyZTgxOSwgMHhkNmVmNTIxOCksIFg2NFdvcmRfY3JlYXRlKDB4ZDY5OTA2MjQsIDB4NTU2NWE5MTApLCBYNjRXb3JkX2NyZWF0ZSgweGY0MGUzNTg1LCAweDU3NzEyMDJhKSwgWDY0V29yZF9jcmVhdGUoMHgxMDZhYTA3MCwgMHgzMmJiZDFiOCksIFg2NFdvcmRfY3JlYXRlKDB4MTlhNGMxMTYsIDB4YjhkMmQwYzgpLCBYNjRXb3JkX2NyZWF0ZSgweDFlMzc2YzA4LCAweDUxNDFhYjUzKSwgWDY0V29yZF9jcmVhdGUoMHgyNzQ4Nzc0YywgMHhkZjhlZWI5OSksIFg2NFdvcmRfY3JlYXRlKDB4MzRiMGJjYjUsIDB4ZTE5YjQ4YTgpLCBYNjRXb3JkX2NyZWF0ZSgweDM5MWMwY2IzLCAweGM1Yzk1YTYzKSwgWDY0V29yZF9jcmVhdGUoMHg0ZWQ4YWE0YSwgMHhlMzQxOGFjYiksIFg2NFdvcmRfY3JlYXRlKDB4NWI5Y2NhNGYsIDB4Nzc2M2UzNzMpLCBYNjRXb3JkX2NyZWF0ZSgweDY4MmU2ZmYzLCAweGQ2YjJiOGEzKSwgWDY0V29yZF9jcmVhdGUoMHg3NDhmODJlZSwgMHg1ZGVmYjJmYyksIFg2NFdvcmRfY3JlYXRlKDB4NzhhNTYzNmYsIDB4NDMxNzJmNjApLCBYNjRXb3JkX2NyZWF0ZSgweDg0Yzg3ODE0LCAweGExZjBhYjcyKSwgWDY0V29yZF9jcmVhdGUoMHg4Y2M3MDIwOCwgMHgxYTY0MzllYyksIFg2NFdvcmRfY3JlYXRlKDB4OTBiZWZmZmEsIDB4MjM2MzFlMjgpLCBYNjRXb3JkX2NyZWF0ZSgweGE0NTA2Y2ViLCAweGRlODJiZGU5KSwgWDY0V29yZF9jcmVhdGUoMHhiZWY5YTNmNywgMHhiMmM2NzkxNSksIFg2NFdvcmRfY3JlYXRlKDB4YzY3MTc4ZjIsIDB4ZTM3MjUzMmIpLCBYNjRXb3JkX2NyZWF0ZSgweGNhMjczZWNlLCAweGVhMjY2MTljKSwgWDY0V29yZF9jcmVhdGUoMHhkMTg2YjhjNywgMHgyMWMwYzIwNyksIFg2NFdvcmRfY3JlYXRlKDB4ZWFkYTdkZDYsIDB4Y2RlMGViMWUpLCBYNjRXb3JkX2NyZWF0ZSgweGY1N2Q0ZjdmLCAweGVlNmVkMTc4KSwgWDY0V29yZF9jcmVhdGUoMHgwNmYwNjdhYSwgMHg3MjE3NmZiYSksIFg2NFdvcmRfY3JlYXRlKDB4MGE2MzdkYzUsIDB4YTJjODk4YTYpLCBYNjRXb3JkX2NyZWF0ZSgweDExM2Y5ODA0LCAweGJlZjkwZGFlKSwgWDY0V29yZF9jcmVhdGUoMHgxYjcxMGIzNSwgMHgxMzFjNDcxYiksIFg2NFdvcmRfY3JlYXRlKDB4MjhkYjc3ZjUsIDB4MjMwNDdkODQpLCBYNjRXb3JkX2NyZWF0ZSgweDMyY2FhYjdiLCAweDQwYzcyNDkzKSwgWDY0V29yZF9jcmVhdGUoMHgzYzllYmUwYSwgMHgxNWM5YmViYyksIFg2NFdvcmRfY3JlYXRlKDB4NDMxZDY3YzQsIDB4OWMxMDBkNGMpLCBYNjRXb3JkX2NyZWF0ZSgweDRjYzVkNGJlLCAweGNiM2U0MmI2KSwgWDY0V29yZF9jcmVhdGUoMHg1OTdmMjk5YywgMHhmYzY1N2UyYSksIFg2NFdvcmRfY3JlYXRlKDB4NWZjYjZmYWIsIDB4M2FkNmZhZWMpLCBYNjRXb3JkX2NyZWF0ZSgweDZjNDQxOThjLCAweDRhNDc1ODE3KV07XG5cdFxuXHRcdFx0Ly8gUmV1c2FibGUgb2JqZWN0c1xuXHRcdFx0dmFyIFcgPSBbXTtcblx0XHRcdChmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgODA7IGkrKykge1xuXHRcdFx0XHRcdFdbaV0gPSBYNjRXb3JkX2NyZWF0ZSgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KSgpO1xuXHRcblx0XHRcdC8qKlxuXHQgICAqIFNIQS01MTIgaGFzaCBhbGdvcml0aG0uXG5cdCAgICovXG5cdFx0XHR2YXIgU0hBNTEyID0gQ19hbGdvLlNIQTUxMiA9IEhhc2hlci5leHRlbmQoe1xuXHRcdFx0XHRfZG9SZXNldDogZnVuY3Rpb24gX2RvUmVzZXQoKSB7XG5cdFx0XHRcdFx0dGhpcy5faGFzaCA9IG5ldyBYNjRXb3JkQXJyYXkuaW5pdChbbmV3IFg2NFdvcmQuaW5pdCgweDZhMDllNjY3LCAweGYzYmNjOTA4KSwgbmV3IFg2NFdvcmQuaW5pdCgweGJiNjdhZTg1LCAweDg0Y2FhNzNiKSwgbmV3IFg2NFdvcmQuaW5pdCgweDNjNmVmMzcyLCAweGZlOTRmODJiKSwgbmV3IFg2NFdvcmQuaW5pdCgweGE1NGZmNTNhLCAweDVmMWQzNmYxKSwgbmV3IFg2NFdvcmQuaW5pdCgweDUxMGU1MjdmLCAweGFkZTY4MmQxKSwgbmV3IFg2NFdvcmQuaW5pdCgweDliMDU2ODhjLCAweDJiM2U2YzFmKSwgbmV3IFg2NFdvcmQuaW5pdCgweDFmODNkOWFiLCAweGZiNDFiZDZiKSwgbmV3IFg2NFdvcmQuaW5pdCgweDViZTBjZDE5LCAweDEzN2UyMTc5KV0pO1xuXHRcdFx0XHR9LFxuXHRcblx0XHRcdFx0X2RvUHJvY2Vzc0Jsb2NrOiBmdW5jdGlvbiBfZG9Qcm9jZXNzQmxvY2soTSwgb2Zmc2V0KSB7XG5cdFx0XHRcdFx0Ly8gU2hvcnRjdXRzXG5cdFx0XHRcdFx0dmFyIEggPSB0aGlzLl9oYXNoLndvcmRzO1xuXHRcblx0XHRcdFx0XHR2YXIgSDAgPSBIWzBdO1xuXHRcdFx0XHRcdHZhciBIMSA9IEhbMV07XG5cdFx0XHRcdFx0dmFyIEgyID0gSFsyXTtcblx0XHRcdFx0XHR2YXIgSDMgPSBIWzNdO1xuXHRcdFx0XHRcdHZhciBINCA9IEhbNF07XG5cdFx0XHRcdFx0dmFyIEg1ID0gSFs1XTtcblx0XHRcdFx0XHR2YXIgSDYgPSBIWzZdO1xuXHRcdFx0XHRcdHZhciBINyA9IEhbN107XG5cdFxuXHRcdFx0XHRcdHZhciBIMGggPSBIMC5oaWdoO1xuXHRcdFx0XHRcdHZhciBIMGwgPSBIMC5sb3c7XG5cdFx0XHRcdFx0dmFyIEgxaCA9IEgxLmhpZ2g7XG5cdFx0XHRcdFx0dmFyIEgxbCA9IEgxLmxvdztcblx0XHRcdFx0XHR2YXIgSDJoID0gSDIuaGlnaDtcblx0XHRcdFx0XHR2YXIgSDJsID0gSDIubG93O1xuXHRcdFx0XHRcdHZhciBIM2ggPSBIMy5oaWdoO1xuXHRcdFx0XHRcdHZhciBIM2wgPSBIMy5sb3c7XG5cdFx0XHRcdFx0dmFyIEg0aCA9IEg0LmhpZ2g7XG5cdFx0XHRcdFx0dmFyIEg0bCA9IEg0Lmxvdztcblx0XHRcdFx0XHR2YXIgSDVoID0gSDUuaGlnaDtcblx0XHRcdFx0XHR2YXIgSDVsID0gSDUubG93O1xuXHRcdFx0XHRcdHZhciBINmggPSBINi5oaWdoO1xuXHRcdFx0XHRcdHZhciBINmwgPSBINi5sb3c7XG5cdFx0XHRcdFx0dmFyIEg3aCA9IEg3LmhpZ2g7XG5cdFx0XHRcdFx0dmFyIEg3bCA9IEg3Lmxvdztcblx0XG5cdFx0XHRcdFx0Ly8gV29ya2luZyB2YXJpYWJsZXNcblx0XHRcdFx0XHR2YXIgYWggPSBIMGg7XG5cdFx0XHRcdFx0dmFyIGFsID0gSDBsO1xuXHRcdFx0XHRcdHZhciBiaCA9IEgxaDtcblx0XHRcdFx0XHR2YXIgYmwgPSBIMWw7XG5cdFx0XHRcdFx0dmFyIGNoID0gSDJoO1xuXHRcdFx0XHRcdHZhciBjbCA9IEgybDtcblx0XHRcdFx0XHR2YXIgZGggPSBIM2g7XG5cdFx0XHRcdFx0dmFyIGRsID0gSDNsO1xuXHRcdFx0XHRcdHZhciBlaCA9IEg0aDtcblx0XHRcdFx0XHR2YXIgZWwgPSBINGw7XG5cdFx0XHRcdFx0dmFyIGZoID0gSDVoO1xuXHRcdFx0XHRcdHZhciBmbCA9IEg1bDtcblx0XHRcdFx0XHR2YXIgZ2ggPSBINmg7XG5cdFx0XHRcdFx0dmFyIGdsID0gSDZsO1xuXHRcdFx0XHRcdHZhciBoaCA9IEg3aDtcblx0XHRcdFx0XHR2YXIgaGwgPSBIN2w7XG5cdFxuXHRcdFx0XHRcdC8vIFJvdW5kc1xuXHRcdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgODA7IGkrKykge1xuXHRcdFx0XHRcdFx0Ly8gU2hvcnRjdXRcblx0XHRcdFx0XHRcdHZhciBXaSA9IFdbaV07XG5cdFxuXHRcdFx0XHRcdFx0Ly8gRXh0ZW5kIG1lc3NhZ2Vcblx0XHRcdFx0XHRcdGlmIChpIDwgMTYpIHtcblx0XHRcdFx0XHRcdFx0dmFyIFdpaCA9IFdpLmhpZ2ggPSBNW29mZnNldCArIGkgKiAyXSB8IDA7XG5cdFx0XHRcdFx0XHRcdHZhciBXaWwgPSBXaS5sb3cgPSBNW29mZnNldCArIGkgKiAyICsgMV0gfCAwO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0Ly8gR2FtbWEwXG5cdFx0XHRcdFx0XHRcdHZhciBnYW1tYTB4ID0gV1tpIC0gMTVdO1xuXHRcdFx0XHRcdFx0XHR2YXIgZ2FtbWEweGggPSBnYW1tYTB4LmhpZ2g7XG5cdFx0XHRcdFx0XHRcdHZhciBnYW1tYTB4bCA9IGdhbW1hMHgubG93O1xuXHRcdFx0XHRcdFx0XHR2YXIgZ2FtbWEwaCA9IChnYW1tYTB4aCA+Pj4gMSB8IGdhbW1hMHhsIDw8IDMxKSBeIChnYW1tYTB4aCA+Pj4gOCB8IGdhbW1hMHhsIDw8IDI0KSBeIGdhbW1hMHhoID4+PiA3O1xuXHRcdFx0XHRcdFx0XHR2YXIgZ2FtbWEwbCA9IChnYW1tYTB4bCA+Pj4gMSB8IGdhbW1hMHhoIDw8IDMxKSBeIChnYW1tYTB4bCA+Pj4gOCB8IGdhbW1hMHhoIDw8IDI0KSBeIChnYW1tYTB4bCA+Pj4gNyB8IGdhbW1hMHhoIDw8IDI1KTtcblx0XG5cdFx0XHRcdFx0XHRcdC8vIEdhbW1hMVxuXHRcdFx0XHRcdFx0XHR2YXIgZ2FtbWExeCA9IFdbaSAtIDJdO1xuXHRcdFx0XHRcdFx0XHR2YXIgZ2FtbWExeGggPSBnYW1tYTF4LmhpZ2g7XG5cdFx0XHRcdFx0XHRcdHZhciBnYW1tYTF4bCA9IGdhbW1hMXgubG93O1xuXHRcdFx0XHRcdFx0XHR2YXIgZ2FtbWExaCA9IChnYW1tYTF4aCA+Pj4gMTkgfCBnYW1tYTF4bCA8PCAxMykgXiAoZ2FtbWExeGggPDwgMyB8IGdhbW1hMXhsID4+PiAyOSkgXiBnYW1tYTF4aCA+Pj4gNjtcblx0XHRcdFx0XHRcdFx0dmFyIGdhbW1hMWwgPSAoZ2FtbWExeGwgPj4+IDE5IHwgZ2FtbWExeGggPDwgMTMpIF4gKGdhbW1hMXhsIDw8IDMgfCBnYW1tYTF4aCA+Pj4gMjkpIF4gKGdhbW1hMXhsID4+PiA2IHwgZ2FtbWExeGggPDwgMjYpO1xuXHRcblx0XHRcdFx0XHRcdFx0Ly8gV1tpXSA9IGdhbW1hMCArIFdbaSAtIDddICsgZ2FtbWExICsgV1tpIC0gMTZdXG5cdFx0XHRcdFx0XHRcdHZhciBXaTcgPSBXW2kgLSA3XTtcblx0XHRcdFx0XHRcdFx0dmFyIFdpN2ggPSBXaTcuaGlnaDtcblx0XHRcdFx0XHRcdFx0dmFyIFdpN2wgPSBXaTcubG93O1xuXHRcblx0XHRcdFx0XHRcdFx0dmFyIFdpMTYgPSBXW2kgLSAxNl07XG5cdFx0XHRcdFx0XHRcdHZhciBXaTE2aCA9IFdpMTYuaGlnaDtcblx0XHRcdFx0XHRcdFx0dmFyIFdpMTZsID0gV2kxNi5sb3c7XG5cdFxuXHRcdFx0XHRcdFx0XHR2YXIgV2lsID0gZ2FtbWEwbCArIFdpN2w7XG5cdFx0XHRcdFx0XHRcdHZhciBXaWggPSBnYW1tYTBoICsgV2k3aCArIChXaWwgPj4+IDAgPCBnYW1tYTBsID4+PiAwID8gMSA6IDApO1xuXHRcdFx0XHRcdFx0XHR2YXIgV2lsID0gV2lsICsgZ2FtbWExbDtcblx0XHRcdFx0XHRcdFx0dmFyIFdpaCA9IFdpaCArIGdhbW1hMWggKyAoV2lsID4+PiAwIDwgZ2FtbWExbCA+Pj4gMCA/IDEgOiAwKTtcblx0XHRcdFx0XHRcdFx0dmFyIFdpbCA9IFdpbCArIFdpMTZsO1xuXHRcdFx0XHRcdFx0XHR2YXIgV2loID0gV2loICsgV2kxNmggKyAoV2lsID4+PiAwIDwgV2kxNmwgPj4+IDAgPyAxIDogMCk7XG5cdFxuXHRcdFx0XHRcdFx0XHRXaS5oaWdoID0gV2loO1xuXHRcdFx0XHRcdFx0XHRXaS5sb3cgPSBXaWw7XG5cdFx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdFx0dmFyIGNoaCA9IGVoICYgZmggXiB+ZWggJiBnaDtcblx0XHRcdFx0XHRcdHZhciBjaGwgPSBlbCAmIGZsIF4gfmVsICYgZ2w7XG5cdFx0XHRcdFx0XHR2YXIgbWFqaCA9IGFoICYgYmggXiBhaCAmIGNoIF4gYmggJiBjaDtcblx0XHRcdFx0XHRcdHZhciBtYWpsID0gYWwgJiBibCBeIGFsICYgY2wgXiBibCAmIGNsO1xuXHRcblx0XHRcdFx0XHRcdHZhciBzaWdtYTBoID0gKGFoID4+PiAyOCB8IGFsIDw8IDQpIF4gKGFoIDw8IDMwIHwgYWwgPj4+IDIpIF4gKGFoIDw8IDI1IHwgYWwgPj4+IDcpO1xuXHRcdFx0XHRcdFx0dmFyIHNpZ21hMGwgPSAoYWwgPj4+IDI4IHwgYWggPDwgNCkgXiAoYWwgPDwgMzAgfCBhaCA+Pj4gMikgXiAoYWwgPDwgMjUgfCBhaCA+Pj4gNyk7XG5cdFx0XHRcdFx0XHR2YXIgc2lnbWExaCA9IChlaCA+Pj4gMTQgfCBlbCA8PCAxOCkgXiAoZWggPj4+IDE4IHwgZWwgPDwgMTQpIF4gKGVoIDw8IDIzIHwgZWwgPj4+IDkpO1xuXHRcdFx0XHRcdFx0dmFyIHNpZ21hMWwgPSAoZWwgPj4+IDE0IHwgZWggPDwgMTgpIF4gKGVsID4+PiAxOCB8IGVoIDw8IDE0KSBeIChlbCA8PCAyMyB8IGVoID4+PiA5KTtcblx0XG5cdFx0XHRcdFx0XHQvLyB0MSA9IGggKyBzaWdtYTEgKyBjaCArIEtbaV0gKyBXW2ldXG5cdFx0XHRcdFx0XHR2YXIgS2kgPSBLW2ldO1xuXHRcdFx0XHRcdFx0dmFyIEtpaCA9IEtpLmhpZ2g7XG5cdFx0XHRcdFx0XHR2YXIgS2lsID0gS2kubG93O1xuXHRcblx0XHRcdFx0XHRcdHZhciB0MWwgPSBobCArIHNpZ21hMWw7XG5cdFx0XHRcdFx0XHR2YXIgdDFoID0gaGggKyBzaWdtYTFoICsgKHQxbCA+Pj4gMCA8IGhsID4+PiAwID8gMSA6IDApO1xuXHRcdFx0XHRcdFx0dmFyIHQxbCA9IHQxbCArIGNobDtcblx0XHRcdFx0XHRcdHZhciB0MWggPSB0MWggKyBjaGggKyAodDFsID4+PiAwIDwgY2hsID4+PiAwID8gMSA6IDApO1xuXHRcdFx0XHRcdFx0dmFyIHQxbCA9IHQxbCArIEtpbDtcblx0XHRcdFx0XHRcdHZhciB0MWggPSB0MWggKyBLaWggKyAodDFsID4+PiAwIDwgS2lsID4+PiAwID8gMSA6IDApO1xuXHRcdFx0XHRcdFx0dmFyIHQxbCA9IHQxbCArIFdpbDtcblx0XHRcdFx0XHRcdHZhciB0MWggPSB0MWggKyBXaWggKyAodDFsID4+PiAwIDwgV2lsID4+PiAwID8gMSA6IDApO1xuXHRcblx0XHRcdFx0XHRcdC8vIHQyID0gc2lnbWEwICsgbWFqXG5cdFx0XHRcdFx0XHR2YXIgdDJsID0gc2lnbWEwbCArIG1hamw7XG5cdFx0XHRcdFx0XHR2YXIgdDJoID0gc2lnbWEwaCArIG1hamggKyAodDJsID4+PiAwIDwgc2lnbWEwbCA+Pj4gMCA/IDEgOiAwKTtcblx0XG5cdFx0XHRcdFx0XHQvLyBVcGRhdGUgd29ya2luZyB2YXJpYWJsZXNcblx0XHRcdFx0XHRcdGhoID0gZ2g7XG5cdFx0XHRcdFx0XHRobCA9IGdsO1xuXHRcdFx0XHRcdFx0Z2ggPSBmaDtcblx0XHRcdFx0XHRcdGdsID0gZmw7XG5cdFx0XHRcdFx0XHRmaCA9IGVoO1xuXHRcdFx0XHRcdFx0ZmwgPSBlbDtcblx0XHRcdFx0XHRcdGVsID0gZGwgKyB0MWwgfCAwO1xuXHRcdFx0XHRcdFx0ZWggPSBkaCArIHQxaCArIChlbCA+Pj4gMCA8IGRsID4+PiAwID8gMSA6IDApIHwgMDtcblx0XHRcdFx0XHRcdGRoID0gY2g7XG5cdFx0XHRcdFx0XHRkbCA9IGNsO1xuXHRcdFx0XHRcdFx0Y2ggPSBiaDtcblx0XHRcdFx0XHRcdGNsID0gYmw7XG5cdFx0XHRcdFx0XHRiaCA9IGFoO1xuXHRcdFx0XHRcdFx0YmwgPSBhbDtcblx0XHRcdFx0XHRcdGFsID0gdDFsICsgdDJsIHwgMDtcblx0XHRcdFx0XHRcdGFoID0gdDFoICsgdDJoICsgKGFsID4+PiAwIDwgdDFsID4+PiAwID8gMSA6IDApIHwgMDtcblx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdC8vIEludGVybWVkaWF0ZSBoYXNoIHZhbHVlXG5cdFx0XHRcdFx0SDBsID0gSDAubG93ID0gSDBsICsgYWw7XG5cdFx0XHRcdFx0SDAuaGlnaCA9IEgwaCArIGFoICsgKEgwbCA+Pj4gMCA8IGFsID4+PiAwID8gMSA6IDApO1xuXHRcdFx0XHRcdEgxbCA9IEgxLmxvdyA9IEgxbCArIGJsO1xuXHRcdFx0XHRcdEgxLmhpZ2ggPSBIMWggKyBiaCArIChIMWwgPj4+IDAgPCBibCA+Pj4gMCA/IDEgOiAwKTtcblx0XHRcdFx0XHRIMmwgPSBIMi5sb3cgPSBIMmwgKyBjbDtcblx0XHRcdFx0XHRIMi5oaWdoID0gSDJoICsgY2ggKyAoSDJsID4+PiAwIDwgY2wgPj4+IDAgPyAxIDogMCk7XG5cdFx0XHRcdFx0SDNsID0gSDMubG93ID0gSDNsICsgZGw7XG5cdFx0XHRcdFx0SDMuaGlnaCA9IEgzaCArIGRoICsgKEgzbCA+Pj4gMCA8IGRsID4+PiAwID8gMSA6IDApO1xuXHRcdFx0XHRcdEg0bCA9IEg0LmxvdyA9IEg0bCArIGVsO1xuXHRcdFx0XHRcdEg0LmhpZ2ggPSBINGggKyBlaCArIChINGwgPj4+IDAgPCBlbCA+Pj4gMCA/IDEgOiAwKTtcblx0XHRcdFx0XHRINWwgPSBINS5sb3cgPSBINWwgKyBmbDtcblx0XHRcdFx0XHRINS5oaWdoID0gSDVoICsgZmggKyAoSDVsID4+PiAwIDwgZmwgPj4+IDAgPyAxIDogMCk7XG5cdFx0XHRcdFx0SDZsID0gSDYubG93ID0gSDZsICsgZ2w7XG5cdFx0XHRcdFx0SDYuaGlnaCA9IEg2aCArIGdoICsgKEg2bCA+Pj4gMCA8IGdsID4+PiAwID8gMSA6IDApO1xuXHRcdFx0XHRcdEg3bCA9IEg3LmxvdyA9IEg3bCArIGhsO1xuXHRcdFx0XHRcdEg3LmhpZ2ggPSBIN2ggKyBoaCArIChIN2wgPj4+IDAgPCBobCA+Pj4gMCA/IDEgOiAwKTtcblx0XHRcdFx0fSxcblx0XG5cdFx0XHRcdF9kb0ZpbmFsaXplOiBmdW5jdGlvbiBfZG9GaW5hbGl6ZSgpIHtcblx0XHRcdFx0XHQvLyBTaG9ydGN1dHNcblx0XHRcdFx0XHR2YXIgZGF0YSA9IHRoaXMuX2RhdGE7XG5cdFx0XHRcdFx0dmFyIGRhdGFXb3JkcyA9IGRhdGEud29yZHM7XG5cdFxuXHRcdFx0XHRcdHZhciBuQml0c1RvdGFsID0gdGhpcy5fbkRhdGFCeXRlcyAqIDg7XG5cdFx0XHRcdFx0dmFyIG5CaXRzTGVmdCA9IGRhdGEuc2lnQnl0ZXMgKiA4O1xuXHRcblx0XHRcdFx0XHQvLyBBZGQgcGFkZGluZ1xuXHRcdFx0XHRcdGRhdGFXb3Jkc1tuQml0c0xlZnQgPj4+IDVdIHw9IDB4ODAgPDwgMjQgLSBuQml0c0xlZnQgJSAzMjtcblx0XHRcdFx0XHRkYXRhV29yZHNbKG5CaXRzTGVmdCArIDEyOCA+Pj4gMTAgPDwgNSkgKyAzMF0gPSBNYXRoLmZsb29yKG5CaXRzVG90YWwgLyAweDEwMDAwMDAwMCk7XG5cdFx0XHRcdFx0ZGF0YVdvcmRzWyhuQml0c0xlZnQgKyAxMjggPj4+IDEwIDw8IDUpICsgMzFdID0gbkJpdHNUb3RhbDtcblx0XHRcdFx0XHRkYXRhLnNpZ0J5dGVzID0gZGF0YVdvcmRzLmxlbmd0aCAqIDQ7XG5cdFxuXHRcdFx0XHRcdC8vIEhhc2ggZmluYWwgYmxvY2tzXG5cdFx0XHRcdFx0dGhpcy5fcHJvY2VzcygpO1xuXHRcblx0XHRcdFx0XHQvLyBDb252ZXJ0IGhhc2ggdG8gMzItYml0IHdvcmQgYXJyYXkgYmVmb3JlIHJldHVybmluZ1xuXHRcdFx0XHRcdHZhciBoYXNoID0gdGhpcy5faGFzaC50b1gzMigpO1xuXHRcblx0XHRcdFx0XHQvLyBSZXR1cm4gZmluYWwgY29tcHV0ZWQgaGFzaFxuXHRcdFx0XHRcdHJldHVybiBoYXNoO1xuXHRcdFx0XHR9LFxuXHRcblx0XHRcdFx0Y2xvbmU6IGZ1bmN0aW9uIGNsb25lKCkge1xuXHRcdFx0XHRcdHZhciBjbG9uZSA9IEhhc2hlci5jbG9uZS5jYWxsKHRoaXMpO1xuXHRcdFx0XHRcdGNsb25lLl9oYXNoID0gdGhpcy5faGFzaC5jbG9uZSgpO1xuXHRcblx0XHRcdFx0XHRyZXR1cm4gY2xvbmU7XG5cdFx0XHRcdH0sXG5cdFxuXHRcdFx0XHRibG9ja1NpemU6IDEwMjQgLyAzMlxuXHRcdFx0fSk7XG5cdFxuXHRcdFx0LyoqXG5cdCAgICogU2hvcnRjdXQgZnVuY3Rpb24gdG8gdGhlIGhhc2hlcidzIG9iamVjdCBpbnRlcmZhY2UuXG5cdCAgICpcblx0ICAgKiBAcGFyYW0ge1dvcmRBcnJheXxzdHJpbmd9IG1lc3NhZ2UgVGhlIG1lc3NhZ2UgdG8gaGFzaC5cblx0ICAgKlxuXHQgICAqIEByZXR1cm4ge1dvcmRBcnJheX0gVGhlIGhhc2guXG5cdCAgICpcblx0ICAgKiBAc3RhdGljXG5cdCAgICpcblx0ICAgKiBAZXhhbXBsZVxuXHQgICAqXG5cdCAgICogICAgIHZhciBoYXNoID0gQ3J5cHRvSlMuU0hBNTEyKCdtZXNzYWdlJyk7XG5cdCAgICogICAgIHZhciBoYXNoID0gQ3J5cHRvSlMuU0hBNTEyKHdvcmRBcnJheSk7XG5cdCAgICovXG5cdFx0XHRDLlNIQTUxMiA9IEhhc2hlci5fY3JlYXRlSGVscGVyKFNIQTUxMik7XG5cdFxuXHRcdFx0LyoqXG5cdCAgICogU2hvcnRjdXQgZnVuY3Rpb24gdG8gdGhlIEhNQUMncyBvYmplY3QgaW50ZXJmYWNlLlxuXHQgICAqXG5cdCAgICogQHBhcmFtIHtXb3JkQXJyYXl8c3RyaW5nfSBtZXNzYWdlIFRoZSBtZXNzYWdlIHRvIGhhc2guXG5cdCAgICogQHBhcmFtIHtXb3JkQXJyYXl8c3RyaW5nfSBrZXkgVGhlIHNlY3JldCBrZXkuXG5cdCAgICpcblx0ICAgKiBAcmV0dXJuIHtXb3JkQXJyYXl9IFRoZSBITUFDLlxuXHQgICAqXG5cdCAgICogQHN0YXRpY1xuXHQgICAqXG5cdCAgICogQGV4YW1wbGVcblx0ICAgKlxuXHQgICAqICAgICB2YXIgaG1hYyA9IENyeXB0b0pTLkhtYWNTSEE1MTIobWVzc2FnZSwga2V5KTtcblx0ICAgKi9cblx0XHRcdEMuSG1hY1NIQTUxMiA9IEhhc2hlci5fY3JlYXRlSG1hY0hlbHBlcihTSEE1MTIpO1xuXHRcdH0pKCk7XG5cdFxuXHRcdHJldHVybiBDcnlwdG9KUy5TSEE1MTI7XG5cdH0pO1xuXG4vKioqLyB9LFxuLyogMjAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdC8qXG5cdCAgICBUaGlzIGZpbGUgaXMgcGFydCBvZiB3ZWIzLmpzLlxuXHRcblx0ICAgIHdlYjMuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuXHQgICAgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG5cdCAgICB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuXHQgICAgKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cblx0XG5cdCAgICB3ZWIzLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG5cdCAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuXHQgICAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuXHQgICAgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG5cdFxuXHQgICAgWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG5cdCAgICBhbG9uZyB3aXRoIHdlYjMuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG5cdCovXG5cdC8qKiBAZmlsZSBjb25maWcuanNcblx0ICogQGF1dGhvcnM6XG5cdCAqICAgTWFyZWsgS290ZXdpY3ogPG1hcmVrQGV0aGRldi5jb20+XG5cdCAqIEBkYXRlIDIwMTVcblx0ICovXG5cdFxuXHQvKipcblx0ICogVXRpbHNcblx0ICogXG5cdCAqIEBtb2R1bGUgdXRpbHNcblx0ICovXG5cdFxuXHQvKipcblx0ICogVXRpbGl0eSBmdW5jdGlvbnNcblx0ICogXG5cdCAqIEBjbGFzcyBbdXRpbHNdIGNvbmZpZ1xuXHQgKiBAY29uc3RydWN0b3Jcblx0ICovXG5cdFxuXHQvLy8gcmVxdWlyZWQgdG8gZGVmaW5lIEVUSF9CSUdOVU1CRVJfUk9VTkRJTkdfTU9ERVxuXHR2YXIgQmlnTnVtYmVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNCk7XG5cdFxuXHR2YXIgRVRIX1VOSVRTID0gWyd3ZWknLCAna3dlaScsICdNd2VpJywgJ0d3ZWknLCAnc3phYm8nLCAnZmlubmV5JywgJ2ZlbXRvZXRoZXInLCAncGljb2V0aGVyJywgJ25hbm9ldGhlcicsICdtaWNyb2V0aGVyJywgJ21pbGxpZXRoZXInLCAnbmFubycsICdtaWNybycsICdtaWxsaScsICdldGhlcicsICdncmFuZCcsICdNZXRoZXInLCAnR2V0aGVyJywgJ1RldGhlcicsICdQZXRoZXInLCAnRWV0aGVyJywgJ1pldGhlcicsICdZZXRoZXInLCAnTmV0aGVyJywgJ0RldGhlcicsICdWZXRoZXInLCAnVWV0aGVyJ107XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IHtcblx0ICAgIEVUSF9QQURESU5HOiAzMixcblx0ICAgIEVUSF9TSUdOQVRVUkVfTEVOR1RIOiA0LFxuXHQgICAgRVRIX1VOSVRTOiBFVEhfVU5JVFMsXG5cdCAgICBFVEhfQklHTlVNQkVSX1JPVU5ESU5HX01PREU6IHsgUk9VTkRJTkdfTU9ERTogQmlnTnVtYmVyLlJPVU5EX0RPV04gfSxcblx0ICAgIEVUSF9QT0xMSU5HX1RJTUVPVVQ6IDEwMDAgLyAyLFxuXHQgICAgZGVmYXVsdEJsb2NrOiAnbGF0ZXN0Jyxcblx0ICAgIGRlZmF1bHRBY2NvdW50OiB1bmRlZmluZWRcblx0fTtcblxuLyoqKi8gfSxcbi8qIDIxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHQvKlxuXHQgICAgVGhpcyBmaWxlIGlzIHBhcnQgb2Ygd2ViMy5qcy5cblx0XG5cdCAgICB3ZWIzLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcblx0ICAgIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuXHQgICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3Jcblx0ICAgIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG5cdFxuXHQgICAgd2ViMy5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuXHQgICAgYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2Zcblx0ICAgIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcblx0ICAgIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuXHRcblx0ICAgIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuXHQgICAgYWxvbmcgd2l0aCB3ZWIzLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuXHQqL1xuXHQvKiogQGZpbGUgZmlsdGVyLmpzXG5cdCAqIEBhdXRob3JzOlxuXHQgKiAgIEplZmZyZXkgV2lsY2tlIDxqZWZmQGV0aGRldi5jb20+XG5cdCAqICAgTWFyZWsgS290ZXdpY3ogPG1hcmVrQGV0aGRldi5jb20+XG5cdCAqICAgTWFyaWFuIE9hbmNlYSA8bWFyaWFuQGV0aGRldi5jb20+XG5cdCAqICAgRmFiaWFuIFZvZ2Vsc3RlbGxlciA8ZmFiaWFuQGV0aGRldi5jb20+XG5cdCAqICAgR2F2IFdvb2QgPGdAZXRoZGV2LmNvbT5cblx0ICogQGRhdGUgMjAxNFxuXHQgKi9cblx0XG5cdHZhciBmb3JtYXR0ZXJzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcblx0dmFyIHV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdC8qKlxuXHQqIENvbnZlcnRzIGEgZ2l2ZW4gdG9waWMgdG8gYSBoZXggc3RyaW5nLCBidXQgYWxzbyBhbGxvd3MgbnVsbCB2YWx1ZXMuXG5cdCpcblx0KiBAcGFyYW0ge01peGVkfSB2YWx1ZVxuXHQqIEByZXR1cm4ge1N0cmluZ31cblx0Ki9cblx0dmFyIHRvVG9waWMgPSBmdW5jdGlvbiB0b1RvcGljKHZhbHVlKSB7XG5cdFxuXHQgICAgaWYgKHZhbHVlID09PSBudWxsIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiBudWxsO1xuXHRcblx0ICAgIHZhbHVlID0gU3RyaW5nKHZhbHVlKTtcblx0XG5cdCAgICBpZiAodmFsdWUuaW5kZXhPZignMHgnKSA9PT0gMCkgcmV0dXJuIHZhbHVlO2Vsc2UgcmV0dXJuIHV0aWxzLmZyb21VdGY4KHZhbHVlKTtcblx0fTtcblx0XG5cdC8vLyBUaGlzIG1ldGhvZCBzaG91bGQgYmUgY2FsbGVkIG9uIG9wdGlvbnMgb2JqZWN0LCB0byB2ZXJpZnkgZGVwcmVjYXRlZCBwcm9wZXJ0aWVzICYmIGxhenkgbG9hZCBkeW5hbWljIG9uZXNcblx0Ly8vIEBwYXJhbSBzaG91bGQgYmUgc3RyaW5nIG9yIG9iamVjdFxuXHQvLy8gQHJldHVybnMgb3B0aW9ucyBzdHJpbmcgb3Igb2JqZWN0XG5cdHZhciBnZXRPcHRpb25zID0gZnVuY3Rpb24gZ2V0T3B0aW9ucyhvcHRpb25zKSB7XG5cdFxuXHQgICAgaWYgKHV0aWxzLmlzU3RyaW5nKG9wdGlvbnMpKSB7XG5cdCAgICAgICAgcmV0dXJuIG9wdGlvbnM7XG5cdCAgICB9XG5cdFxuXHQgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cdFxuXHQgICAgLy8gbWFrZSBzdXJlIHRvcGljcywgZ2V0IGNvbnZlcnRlZCB0byBoZXhcblx0ICAgIG9wdGlvbnMudG9waWNzID0gb3B0aW9ucy50b3BpY3MgfHwgW107XG5cdCAgICBvcHRpb25zLnRvcGljcyA9IG9wdGlvbnMudG9waWNzLm1hcChmdW5jdGlvbiAodG9waWMpIHtcblx0ICAgICAgICByZXR1cm4gdXRpbHMuaXNBcnJheSh0b3BpYykgPyB0b3BpYy5tYXAodG9Ub3BpYykgOiB0b1RvcGljKHRvcGljKTtcblx0ICAgIH0pO1xuXHRcblx0ICAgIHJldHVybiB7XG5cdCAgICAgICAgdG9waWNzOiBvcHRpb25zLnRvcGljcyxcblx0ICAgICAgICBmcm9tOiBvcHRpb25zLmZyb20sXG5cdCAgICAgICAgdG86IG9wdGlvbnMudG8sXG5cdCAgICAgICAgYWRkcmVzczogb3B0aW9ucy5hZGRyZXNzLFxuXHQgICAgICAgIGZyb21CbG9jazogZm9ybWF0dGVycy5pbnB1dEJsb2NrTnVtYmVyRm9ybWF0dGVyKG9wdGlvbnMuZnJvbUJsb2NrKSxcblx0ICAgICAgICB0b0Jsb2NrOiBmb3JtYXR0ZXJzLmlucHV0QmxvY2tOdW1iZXJGb3JtYXR0ZXIob3B0aW9ucy50b0Jsb2NrKVxuXHQgICAgfTtcblx0fTtcblx0XG5cdC8qKlxuXHRBZGRzIHRoZSBjYWxsYmFjayBhbmQgc2V0cyB1cCB0aGUgbWV0aG9kcywgdG8gaXRlcmF0ZSBvdmVyIHRoZSByZXN1bHRzLlxuXHRcblx0QG1ldGhvZCBnZXRMb2dzQXRTdGFydFxuXHRAcGFyYW0ge09iamVjdH0gc2VsZlxuXHRAcGFyYW0ge2Z1bmNpdG9ufVxuXHQqL1xuXHR2YXIgZ2V0TG9nc0F0U3RhcnQgPSBmdW5jdGlvbiBnZXRMb2dzQXRTdGFydChzZWxmLCBjYWxsYmFjaykge1xuXHQgICAgLy8gY2FsbCBnZXRGaWx0ZXJMb2dzIGZvciB0aGUgZmlyc3Qgd2F0Y2ggY2FsbGJhY2sgc3RhcnRcblx0ICAgIGlmICghdXRpbHMuaXNTdHJpbmcoc2VsZi5vcHRpb25zKSkge1xuXHQgICAgICAgIHNlbGYuZ2V0KGZ1bmN0aW9uIChlcnIsIG1lc3NhZ2VzKSB7XG5cdCAgICAgICAgICAgIC8vIGRvbid0IHNlbmQgYWxsIHRoZSByZXNwb25zZXMgdG8gYWxsIHRoZSB3YXRjaGVzIGFnYWluLi4uIGp1c3QgdG8gc2VsZiBvbmVcblx0ICAgICAgICAgICAgaWYgKGVycikge1xuXHQgICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyKTtcblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgaWYgKHV0aWxzLmlzQXJyYXkobWVzc2FnZXMpKSB7XG5cdCAgICAgICAgICAgICAgICBtZXNzYWdlcy5mb3JFYWNoKGZ1bmN0aW9uIChtZXNzYWdlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sobnVsbCwgbWVzc2FnZSk7XG5cdCAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0pO1xuXHQgICAgfVxuXHR9O1xuXHRcblx0LyoqXG5cdEFkZHMgdGhlIGNhbGxiYWNrIGFuZCBzZXRzIHVwIHRoZSBtZXRob2RzLCB0byBpdGVyYXRlIG92ZXIgdGhlIHJlc3VsdHMuXG5cdFxuXHRAbWV0aG9kIHBvbGxGaWx0ZXJcblx0QHBhcmFtIHtPYmplY3R9IHNlbGZcblx0Ki9cblx0dmFyIHBvbGxGaWx0ZXIgPSBmdW5jdGlvbiBwb2xsRmlsdGVyKHNlbGYpIHtcblx0XG5cdCAgICB2YXIgb25NZXNzYWdlID0gZnVuY3Rpb24gb25NZXNzYWdlKGVycm9yLCBtZXNzYWdlcykge1xuXHQgICAgICAgIGlmIChlcnJvcikge1xuXHQgICAgICAgICAgICByZXR1cm4gc2VsZi5jYWxsYmFja3MuZm9yRWFjaChmdW5jdGlvbiAoY2FsbGJhY2spIHtcblx0ICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycm9yKTtcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBpZiAodXRpbHMuaXNBcnJheShtZXNzYWdlcykpIHtcblx0ICAgICAgICAgICAgbWVzc2FnZXMuZm9yRWFjaChmdW5jdGlvbiAobWVzc2FnZSkge1xuXHQgICAgICAgICAgICAgICAgbWVzc2FnZSA9IHNlbGYuZm9ybWF0dGVyID8gc2VsZi5mb3JtYXR0ZXIobWVzc2FnZSkgOiBtZXNzYWdlO1xuXHQgICAgICAgICAgICAgICAgc2VsZi5jYWxsYmFja3MuZm9yRWFjaChmdW5jdGlvbiAoY2FsbGJhY2spIHtcblx0ICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsLCBtZXNzYWdlKTtcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9XG5cdCAgICB9O1xuXHRcblx0ICAgIHNlbGYucmVxdWVzdE1hbmFnZXIuc3RhcnRQb2xsaW5nKHtcblx0ICAgICAgICBtZXRob2Q6IHNlbGYuaW1wbGVtZW50YXRpb24ucG9sbC5jYWxsLFxuXHQgICAgICAgIHBhcmFtczogW3NlbGYuZmlsdGVySWRdXG5cdCAgICB9LCBzZWxmLmZpbHRlcklkLCBvbk1lc3NhZ2UsIHNlbGYuc3RvcFdhdGNoaW5nLmJpbmQoc2VsZikpO1xuXHR9O1xuXHRcblx0dmFyIEZpbHRlciA9IGZ1bmN0aW9uIEZpbHRlcihyZXF1ZXN0TWFuYWdlciwgb3B0aW9ucywgbWV0aG9kcywgZm9ybWF0dGVyLCBjYWxsYmFjaykge1xuXHQgICAgdmFyIHNlbGYgPSB0aGlzO1xuXHQgICAgdmFyIGltcGxlbWVudGF0aW9uID0ge307XG5cdCAgICBtZXRob2RzLmZvckVhY2goZnVuY3Rpb24gKG1ldGhvZCkge1xuXHQgICAgICAgIG1ldGhvZC5zZXRSZXF1ZXN0TWFuYWdlcihyZXF1ZXN0TWFuYWdlcik7XG5cdCAgICAgICAgbWV0aG9kLmF0dGFjaFRvT2JqZWN0KGltcGxlbWVudGF0aW9uKTtcblx0ICAgIH0pO1xuXHQgICAgdGhpcy5yZXF1ZXN0TWFuYWdlciA9IHJlcXVlc3RNYW5hZ2VyO1xuXHQgICAgdGhpcy5vcHRpb25zID0gZ2V0T3B0aW9ucyhvcHRpb25zKTtcblx0ICAgIHRoaXMuaW1wbGVtZW50YXRpb24gPSBpbXBsZW1lbnRhdGlvbjtcblx0ICAgIHRoaXMuZmlsdGVySWQgPSBudWxsO1xuXHQgICAgdGhpcy5jYWxsYmFja3MgPSBbXTtcblx0ICAgIHRoaXMuZ2V0TG9nc0NhbGxiYWNrcyA9IFtdO1xuXHQgICAgdGhpcy5wb2xsRmlsdGVycyA9IFtdO1xuXHQgICAgdGhpcy5mb3JtYXR0ZXIgPSBmb3JtYXR0ZXI7XG5cdCAgICB0aGlzLmltcGxlbWVudGF0aW9uLm5ld0ZpbHRlcih0aGlzLm9wdGlvbnMsIGZ1bmN0aW9uIChlcnJvciwgaWQpIHtcblx0ICAgICAgICBpZiAoZXJyb3IpIHtcblx0ICAgICAgICAgICAgc2VsZi5jYWxsYmFja3MuZm9yRWFjaChmdW5jdGlvbiAoY2IpIHtcblx0ICAgICAgICAgICAgICAgIGNiKGVycm9yKTtcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgc2VsZi5maWx0ZXJJZCA9IGlkO1xuXHRcblx0ICAgICAgICAgICAgLy8gY2hlY2sgaWYgdGhlcmUgYXJlIGdldCBwZW5kaW5nIGNhbGxiYWNrcyBhcyBhIGNvbnNlcXVlbmNlXG5cdCAgICAgICAgICAgIC8vIG9mIGNhbGxpbmcgZ2V0KCkgd2l0aCBmaWx0ZXJJZCB1bmFzc2lnbmVkLlxuXHQgICAgICAgICAgICBzZWxmLmdldExvZ3NDYWxsYmFja3MuZm9yRWFjaChmdW5jdGlvbiAoY2IpIHtcblx0ICAgICAgICAgICAgICAgIHNlbGYuZ2V0KGNiKTtcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIHNlbGYuZ2V0TG9nc0NhbGxiYWNrcyA9IFtdO1xuXHRcblx0ICAgICAgICAgICAgLy8gZ2V0IGZpbHRlciBsb2dzIGZvciB0aGUgYWxyZWFkeSBleGlzdGluZyB3YXRjaCBjYWxsc1xuXHQgICAgICAgICAgICBzZWxmLmNhbGxiYWNrcy5mb3JFYWNoKGZ1bmN0aW9uIChjYikge1xuXHQgICAgICAgICAgICAgICAgZ2V0TG9nc0F0U3RhcnQoc2VsZiwgY2IpO1xuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgaWYgKHNlbGYuY2FsbGJhY2tzLmxlbmd0aCA+IDApIHBvbGxGaWx0ZXIoc2VsZik7XG5cdFxuXHQgICAgICAgICAgICAvLyBzdGFydCB0byB3YXRjaCBpbW1lZGlhdGVseVxuXHQgICAgICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi53YXRjaChjYWxsYmFjayk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9KTtcblx0XG5cdCAgICByZXR1cm4gdGhpcztcblx0fTtcblx0XG5cdEZpbHRlci5wcm90b3R5cGUud2F0Y2ggPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcblx0ICAgIHRoaXMuY2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuXHRcblx0ICAgIGlmICh0aGlzLmZpbHRlcklkKSB7XG5cdCAgICAgICAgZ2V0TG9nc0F0U3RhcnQodGhpcywgY2FsbGJhY2spO1xuXHQgICAgICAgIHBvbGxGaWx0ZXIodGhpcyk7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIHRoaXM7XG5cdH07XG5cdFxuXHRGaWx0ZXIucHJvdG90eXBlLnN0b3BXYXRjaGluZyA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuXHQgICAgdGhpcy5yZXF1ZXN0TWFuYWdlci5zdG9wUG9sbGluZyh0aGlzLmZpbHRlcklkKTtcblx0ICAgIHRoaXMuY2FsbGJhY2tzID0gW107XG5cdCAgICAvLyByZW1vdmUgZmlsdGVyIGFzeW5jXG5cdCAgICBpZiAoY2FsbGJhY2spIHtcblx0ICAgICAgICB0aGlzLmltcGxlbWVudGF0aW9uLnVuaW5zdGFsbEZpbHRlcih0aGlzLmZpbHRlcklkLCBjYWxsYmFjayk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiB0aGlzLmltcGxlbWVudGF0aW9uLnVuaW5zdGFsbEZpbHRlcih0aGlzLmZpbHRlcklkKTtcblx0ICAgIH1cblx0fTtcblx0XG5cdEZpbHRlci5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG5cdCAgICB2YXIgc2VsZiA9IHRoaXM7XG5cdCAgICBpZiAodXRpbHMuaXNGdW5jdGlvbihjYWxsYmFjaykpIHtcblx0ICAgICAgICBpZiAodGhpcy5maWx0ZXJJZCA9PT0gbnVsbCkge1xuXHQgICAgICAgICAgICAvLyBJZiBmaWx0ZXJJZCBpcyBub3Qgc2V0IHlldCwgY2FsbCBpdCBiYWNrXG5cdCAgICAgICAgICAgIC8vIHdoZW4gbmV3RmlsdGVyKCkgYXNzaWducyBpdC5cblx0ICAgICAgICAgICAgdGhpcy5nZXRMb2dzQ2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHRoaXMuaW1wbGVtZW50YXRpb24uZ2V0TG9ncyh0aGlzLmZpbHRlcklkLCBmdW5jdGlvbiAoZXJyLCByZXMpIHtcblx0ICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcblx0ICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIpO1xuXHQgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsLCByZXMubWFwKGZ1bmN0aW9uIChsb2cpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYuZm9ybWF0dGVyID8gc2VsZi5mb3JtYXR0ZXIobG9nKSA6IGxvZztcblx0ICAgICAgICAgICAgICAgICAgICB9KSk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgaWYgKHRoaXMuZmlsdGVySWQgPT09IG51bGwpIHtcblx0ICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGaWx0ZXIgSUQgRXJyb3I6IGZpbHRlcigpLmdldCgpIGNhblxcJ3QgYmUgY2hhaW5lZCBzeW5jaHJvbm91cywgcGxlYXNlIHByb3ZpZGUgYSBjYWxsYmFjayBmb3IgdGhlIGdldCgpIG1ldGhvZC4nKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgdmFyIGxvZ3MgPSB0aGlzLmltcGxlbWVudGF0aW9uLmdldExvZ3ModGhpcy5maWx0ZXJJZCk7XG5cdCAgICAgICAgcmV0dXJuIGxvZ3MubWFwKGZ1bmN0aW9uIChsb2cpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHNlbGYuZm9ybWF0dGVyID8gc2VsZi5mb3JtYXR0ZXIobG9nKSA6IGxvZztcblx0ICAgICAgICB9KTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gdGhpcztcblx0fTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gRmlsdGVyO1xuXG4vKioqLyB9LFxuLyogMjIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdC8qXG5cdCAgICBUaGlzIGZpbGUgaXMgcGFydCBvZiB3ZWIzLmpzLlxuXHRcblx0ICAgIHdlYjMuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuXHQgICAgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG5cdCAgICB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuXHQgICAgKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cblx0XG5cdCAgICB3ZWIzLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG5cdCAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuXHQgICAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuXHQgICAgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG5cdFxuXHQgICAgWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG5cdCAgICBhbG9uZyB3aXRoIHdlYjMuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG5cdCovXG5cdC8qKiBcblx0ICogQGZpbGUgaWJhbi5qc1xuXHQgKiBAYXV0aG9yIE1hcmVrIEtvdGV3aWN6IDxtYXJla0BldGhkZXYuY29tPlxuXHQgKiBAZGF0ZSAyMDE1XG5cdCAqL1xuXHRcblx0dmFyIEJpZ051bWJlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTQpO1xuXHRcblx0dmFyIHBhZExlZnQgPSBmdW5jdGlvbiBwYWRMZWZ0KHN0cmluZywgYnl0ZXMpIHtcblx0ICAgIHZhciByZXN1bHQgPSBzdHJpbmc7XG5cdCAgICB3aGlsZSAocmVzdWx0Lmxlbmd0aCA8IGJ5dGVzICogMikge1xuXHQgICAgICAgIHJlc3VsdCA9ICcwJyArIHJlc3VsdDtcblx0ICAgIH1cblx0ICAgIHJldHVybiByZXN1bHQ7XG5cdH07XG5cdFxuXHQvKipcblx0ICogUHJlcGFyZSBhbiBJQkFOIGZvciBtb2QgOTcgY29tcHV0YXRpb24gYnkgbW92aW5nIHRoZSBmaXJzdCA0IGNoYXJzIHRvIHRoZSBlbmQgYW5kIHRyYW5zZm9ybWluZyB0aGUgbGV0dGVycyB0b1xuXHQgKiBudW1iZXJzIChBID0gMTAsIEIgPSAxMSwgLi4uLCBaID0gMzUpLCBhcyBzcGVjaWZpZWQgaW4gSVNPMTM2MTYuXG5cdCAqXG5cdCAqIEBtZXRob2QgaXNvMTM2MTZQcmVwYXJlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBpYmFuIHRoZSBJQkFOXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IHRoZSBwcmVwYXJlZCBJQkFOXG5cdCAqL1xuXHR2YXIgaXNvMTM2MTZQcmVwYXJlID0gZnVuY3Rpb24gaXNvMTM2MTZQcmVwYXJlKGliYW4pIHtcblx0ICAgIHZhciBBID0gJ0EnLmNoYXJDb2RlQXQoMCk7XG5cdCAgICB2YXIgWiA9ICdaJy5jaGFyQ29kZUF0KDApO1xuXHRcblx0ICAgIGliYW4gPSBpYmFuLnRvVXBwZXJDYXNlKCk7XG5cdCAgICBpYmFuID0gaWJhbi5zdWJzdHIoNCkgKyBpYmFuLnN1YnN0cigwLCA0KTtcblx0XG5cdCAgICByZXR1cm4gaWJhbi5zcGxpdCgnJykubWFwKGZ1bmN0aW9uIChuKSB7XG5cdCAgICAgICAgdmFyIGNvZGUgPSBuLmNoYXJDb2RlQXQoMCk7XG5cdCAgICAgICAgaWYgKGNvZGUgPj0gQSAmJiBjb2RlIDw9IFopIHtcblx0ICAgICAgICAgICAgLy8gQSA9IDEwLCBCID0gMTEsIC4uLiBaID0gMzVcblx0ICAgICAgICAgICAgcmV0dXJuIGNvZGUgLSBBICsgMTA7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgcmV0dXJuIG47XG5cdCAgICAgICAgfVxuXHQgICAgfSkuam9pbignJyk7XG5cdH07XG5cdFxuXHQvKipcblx0ICogQ2FsY3VsYXRlcyB0aGUgTU9EIDk3IDEwIG9mIHRoZSBwYXNzZWQgSUJBTiBhcyBzcGVjaWZpZWQgaW4gSVNPNzA2NC5cblx0ICpcblx0ICogQG1ldGhvZCBtb2Q5NzEwXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBpYmFuXG5cdCAqIEByZXR1cm5zIHtOdW1iZXJ9XG5cdCAqL1xuXHR2YXIgbW9kOTcxMCA9IGZ1bmN0aW9uIG1vZDk3MTAoaWJhbikge1xuXHQgICAgdmFyIHJlbWFpbmRlciA9IGliYW4sXG5cdCAgICAgICAgYmxvY2s7XG5cdFxuXHQgICAgd2hpbGUgKHJlbWFpbmRlci5sZW5ndGggPiAyKSB7XG5cdCAgICAgICAgYmxvY2sgPSByZW1haW5kZXIuc2xpY2UoMCwgOSk7XG5cdCAgICAgICAgcmVtYWluZGVyID0gcGFyc2VJbnQoYmxvY2ssIDEwKSAlIDk3ICsgcmVtYWluZGVyLnNsaWNlKGJsb2NrLmxlbmd0aCk7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIHBhcnNlSW50KHJlbWFpbmRlciwgMTApICUgOTc7XG5cdH07XG5cdFxuXHQvKipcblx0ICogVGhpcyBwcm90b3R5cGUgc2hvdWxkIGJlIHVzZWQgdG8gY3JlYXRlIGliYW4gb2JqZWN0IGZyb20gaWJhbiBjb3JyZWN0IHN0cmluZ1xuXHQgKlxuXHQgKiBAcGFyYW0ge1N0cmluZ30gaWJhblxuXHQgKi9cblx0dmFyIEliYW4gPSBmdW5jdGlvbiBJYmFuKGliYW4pIHtcblx0ICAgIHRoaXMuX2liYW4gPSBpYmFuO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFRoaXMgbWV0aG9kIHNob3VsZCBiZSB1c2VkIHRvIGNyZWF0ZSBpYmFuIG9iamVjdCBmcm9tIGV0aGVyZXVtIGFkZHJlc3Ncblx0ICpcblx0ICogQG1ldGhvZCBmcm9tQWRkcmVzc1xuXHQgKiBAcGFyYW0ge1N0cmluZ30gYWRkcmVzc1xuXHQgKiBAcmV0dXJuIHtJYmFufSB0aGUgSUJBTiBvYmplY3Rcblx0ICovXG5cdEliYW4uZnJvbUFkZHJlc3MgPSBmdW5jdGlvbiAoYWRkcmVzcykge1xuXHQgICAgdmFyIGFzQm4gPSBuZXcgQmlnTnVtYmVyKGFkZHJlc3MsIDE2KTtcblx0ICAgIHZhciBiYXNlMzYgPSBhc0JuLnRvU3RyaW5nKDM2KTtcblx0ICAgIHZhciBwYWRkZWQgPSBwYWRMZWZ0KGJhc2UzNiwgMTUpO1xuXHQgICAgcmV0dXJuIEliYW4uZnJvbUJiYW4ocGFkZGVkLnRvVXBwZXJDYXNlKCkpO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIENvbnZlcnQgdGhlIHBhc3NlZCBCQkFOIHRvIGFuIElCQU4gZm9yIHRoaXMgY291bnRyeSBzcGVjaWZpY2F0aW9uLlxuXHQgKiBQbGVhc2Ugbm90ZSB0aGF0IDxpPlwiZ2VuZXJhdGlvbiBvZiB0aGUgSUJBTiBzaGFsbCBiZSB0aGUgZXhjbHVzaXZlIHJlc3BvbnNpYmlsaXR5IG9mIHRoZSBiYW5rL2JyYW5jaCBzZXJ2aWNpbmcgdGhlIGFjY291bnRcIjwvaT4uXG5cdCAqIFRoaXMgbWV0aG9kIGltcGxlbWVudHMgdGhlIHByZWZlcnJlZCBhbGdvcml0aG0gZGVzY3JpYmVkIGluIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSW50ZXJuYXRpb25hbF9CYW5rX0FjY291bnRfTnVtYmVyI0dlbmVyYXRpbmdfSUJBTl9jaGVja19kaWdpdHNcblx0ICpcblx0ICogQG1ldGhvZCBmcm9tQmJhblxuXHQgKiBAcGFyYW0ge1N0cmluZ30gYmJhbiB0aGUgQkJBTiB0byBjb252ZXJ0IHRvIElCQU5cblx0ICogQHJldHVybnMge0liYW59IHRoZSBJQkFOIG9iamVjdFxuXHQgKi9cblx0SWJhbi5mcm9tQmJhbiA9IGZ1bmN0aW9uIChiYmFuKSB7XG5cdCAgICB2YXIgY291bnRyeUNvZGUgPSAnWEUnO1xuXHRcblx0ICAgIHZhciByZW1haW5kZXIgPSBtb2Q5NzEwKGlzbzEzNjE2UHJlcGFyZShjb3VudHJ5Q29kZSArICcwMCcgKyBiYmFuKSk7XG5cdCAgICB2YXIgY2hlY2tEaWdpdCA9ICgnMCcgKyAoOTggLSByZW1haW5kZXIpKS5zbGljZSgtMik7XG5cdFxuXHQgICAgcmV0dXJuIG5ldyBJYmFuKGNvdW50cnlDb2RlICsgY2hlY2tEaWdpdCArIGJiYW4pO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFNob3VsZCBiZSB1c2VkIHRvIGNyZWF0ZSBJQkFOIG9iamVjdCBmb3IgZ2l2ZW4gaW5zdGl0dXRpb24gYW5kIGlkZW50aWZpZXJcblx0ICpcblx0ICogQG1ldGhvZCBjcmVhdGVJbmRpcmVjdFxuXHQgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucywgcmVxdWlyZWQgb3B0aW9ucyBhcmUgXCJpbnN0aXR1dGlvblwiIGFuZCBcImlkZW50aWZpZXJcIlxuXHQgKiBAcmV0dXJuIHtJYmFufSB0aGUgSUJBTiBvYmplY3Rcblx0ICovXG5cdEliYW4uY3JlYXRlSW5kaXJlY3QgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuXHQgICAgcmV0dXJuIEliYW4uZnJvbUJiYW4oJ0VUSCcgKyBvcHRpb25zLmluc3RpdHV0aW9uICsgb3B0aW9ucy5pZGVudGlmaWVyKTtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBUaG9zIG1ldGhvZCBzaG91bGQgYmUgdXNlZCB0byBjaGVjayBpZiBnaXZlbiBzdHJpbmcgaXMgdmFsaWQgaWJhbiBvYmplY3Rcblx0ICpcblx0ICogQG1ldGhvZCBpc1ZhbGlkXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBpYmFuIHN0cmluZ1xuXHQgKiBAcmV0dXJuIHtCb29sZWFufSB0cnVlIGlmIGl0IGlzIHZhbGlkIElCQU5cblx0ICovXG5cdEliYW4uaXNWYWxpZCA9IGZ1bmN0aW9uIChpYmFuKSB7XG5cdCAgICB2YXIgaSA9IG5ldyBJYmFuKGliYW4pO1xuXHQgICAgcmV0dXJuIGkuaXNWYWxpZCgpO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFNob3VsZCBiZSBjYWxsZWQgdG8gY2hlY2sgaWYgaWJhbiBpcyBjb3JyZWN0XG5cdCAqXG5cdCAqIEBtZXRob2QgaXNWYWxpZFxuXHQgKiBAcmV0dXJucyB7Qm9vbGVhbn0gdHJ1ZSBpZiBpdCBpcywgb3RoZXJ3aXNlIGZhbHNlXG5cdCAqL1xuXHRJYmFuLnByb3RvdHlwZS5pc1ZhbGlkID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuICgvXlhFWzAtOV17Mn0oRVRIWzAtOUEtWl17MTN9fFswLTlBLVpdezMwLDMxfSkkLy50ZXN0KHRoaXMuX2liYW4pICYmIG1vZDk3MTAoaXNvMTM2MTZQcmVwYXJlKHRoaXMuX2liYW4pKSA9PT0gMVxuXHQgICAgKTtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBTaG91bGQgYmUgY2FsbGVkIHRvIGNoZWNrIGlmIGliYW4gbnVtYmVyIGlzIGRpcmVjdFxuXHQgKlxuXHQgKiBAbWV0aG9kIGlzRGlyZWN0XG5cdCAqIEByZXR1cm5zIHtCb29sZWFufSB0cnVlIGlmIGl0IGlzLCBvdGhlcndpc2UgZmFsc2Vcblx0ICovXG5cdEliYW4ucHJvdG90eXBlLmlzRGlyZWN0ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIHRoaXMuX2liYW4ubGVuZ3RoID09PSAzNCB8fCB0aGlzLl9pYmFuLmxlbmd0aCA9PT0gMzU7XG5cdH07XG5cdFxuXHQvKipcblx0ICogU2hvdWxkIGJlIGNhbGxlZCB0byBjaGVjayBpZiBpYmFuIG51bWJlciBpZiBpbmRpcmVjdFxuXHQgKlxuXHQgKiBAbWV0aG9kIGlzSW5kaXJlY3Rcblx0ICogQHJldHVybnMge0Jvb2xlYW59IHRydWUgaWYgaXQgaXMsIG90aGVyd2lzZSBmYWxzZVxuXHQgKi9cblx0SWJhbi5wcm90b3R5cGUuaXNJbmRpcmVjdCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiB0aGlzLl9pYmFuLmxlbmd0aCA9PT0gMjA7XG5cdH07XG5cdFxuXHQvKipcblx0ICogU2hvdWxkIGJlIGNhbGxlZCB0byBnZXQgaWJhbiBjaGVja3N1bVxuXHQgKiBVc2VzIHRoZSBtb2QtOTctMTAgY2hlY2tzdW1taW5nIHByb3RvY29sIChJU08vSUVDIDcwNjQ6MjAwMylcblx0ICpcblx0ICogQG1ldGhvZCBjaGVja3N1bVxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfSBjaGVja3N1bVxuXHQgKi9cblx0SWJhbi5wcm90b3R5cGUuY2hlY2tzdW0gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5faWJhbi5zdWJzdHIoMiwgMik7XG5cdH07XG5cdFxuXHQvKipcblx0ICogU2hvdWxkIGJlIGNhbGxlZCB0byBnZXQgaW5zdGl0dXRpb24gaWRlbnRpZmllclxuXHQgKiBlZy4gWFJFR1xuXHQgKlxuXHQgKiBAbWV0aG9kIGluc3RpdHV0aW9uXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IGluc3RpdHV0aW9uIGlkZW50aWZpZXJcblx0ICovXG5cdEliYW4ucHJvdG90eXBlLmluc3RpdHV0aW9uID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIHRoaXMuaXNJbmRpcmVjdCgpID8gdGhpcy5faWJhbi5zdWJzdHIoNywgNCkgOiAnJztcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBTaG91bGQgYmUgY2FsbGVkIHRvIGdldCBjbGllbnQgaWRlbnRpZmllciB3aXRoaW4gaW5zdGl0dXRpb25cblx0ICogZWcuIEdBVk9GWU9SS1xuXHQgKlxuXHQgKiBAbWV0aG9kIGNsaWVudFxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfSBjbGllbnQgaWRlbnRpZmllclxuXHQgKi9cblx0SWJhbi5wcm90b3R5cGUuY2xpZW50ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIHRoaXMuaXNJbmRpcmVjdCgpID8gdGhpcy5faWJhbi5zdWJzdHIoMTEpIDogJyc7XG5cdH07XG5cdFxuXHQvKipcblx0ICogU2hvdWxkIGJlIGNhbGxlZCB0byBnZXQgY2xpZW50IGRpcmVjdCBhZGRyZXNzXG5cdCAqXG5cdCAqIEBtZXRob2QgYWRkcmVzc1xuXHQgKiBAcmV0dXJucyB7U3RyaW5nfSBjbGllbnQgZGlyZWN0IGFkZHJlc3Ncblx0ICovXG5cdEliYW4ucHJvdG90eXBlLmFkZHJlc3MgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBpZiAodGhpcy5pc0RpcmVjdCgpKSB7XG5cdCAgICAgICAgdmFyIGJhc2UzNiA9IHRoaXMuX2liYW4uc3Vic3RyKDQpO1xuXHQgICAgICAgIHZhciBhc0JuID0gbmV3IEJpZ051bWJlcihiYXNlMzYsIDM2KTtcblx0ICAgICAgICByZXR1cm4gcGFkTGVmdChhc0JuLnRvU3RyaW5nKDE2KSwgMjApO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiAnJztcblx0fTtcblx0XG5cdEliYW4ucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIHRoaXMuX2liYW47XG5cdH07XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IEliYW47XG5cbi8qKiovIH0sXG4vKiAyMyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0Lypcblx0ICAgIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIHdlYjMuanMuXG5cdFxuXHQgICAgd2ViMy5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG5cdCAgICBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcblx0ICAgIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG5cdCAgICAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuXHRcblx0ICAgIHdlYjMuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcblx0ICAgIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG5cdCAgICBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG5cdCAgICBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cblx0XG5cdCAgICBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2Vcblx0ICAgIGFsb25nIHdpdGggd2ViMy5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cblx0Ki9cblx0LyoqIEBmaWxlIHdhdGNoZXMuanNcblx0ICogQGF1dGhvcnM6XG5cdCAqICAgTWFyZWsgS290ZXdpY3ogPG1hcmVrQGV0aGRldi5jb20+XG5cdCAqIEBkYXRlIDIwMTVcblx0ICovXG5cdFxuXHR2YXIgTWV0aG9kID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMyk7XG5cdFxuXHQvLy8gQHJldHVybnMgYW4gYXJyYXkgb2Ygb2JqZWN0cyBkZXNjcmliaW5nIHdlYjMuZXRoLmZpbHRlciBhcGkgbWV0aG9kc1xuXHR2YXIgZXRoID0gZnVuY3Rpb24gZXRoKCkge1xuXHQgICAgdmFyIG5ld0ZpbHRlckNhbGwgPSBmdW5jdGlvbiBuZXdGaWx0ZXJDYWxsKGFyZ3MpIHtcblx0ICAgICAgICB2YXIgdHlwZSA9IGFyZ3NbMF07XG5cdFxuXHQgICAgICAgIHN3aXRjaCAodHlwZSkge1xuXHQgICAgICAgICAgICBjYXNlICdsYXRlc3QnOlxuXHQgICAgICAgICAgICAgICAgYXJncy5zaGlmdCgpO1xuXHQgICAgICAgICAgICAgICAgdGhpcy5wYXJhbXMgPSAwO1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuICdldGhfbmV3QmxvY2tGaWx0ZXInO1xuXHQgICAgICAgICAgICBjYXNlICdwZW5kaW5nJzpcblx0ICAgICAgICAgICAgICAgIGFyZ3Muc2hpZnQoKTtcblx0ICAgICAgICAgICAgICAgIHRoaXMucGFyYW1zID0gMDtcblx0ICAgICAgICAgICAgICAgIHJldHVybiAnZXRoX25ld1BlbmRpbmdUcmFuc2FjdGlvbkZpbHRlcic7XG5cdCAgICAgICAgICAgIGRlZmF1bHQ6XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gJ2V0aF9uZXdGaWx0ZXInO1xuXHQgICAgICAgIH1cblx0ICAgIH07XG5cdFxuXHQgICAgdmFyIG5ld0ZpbHRlciA9IG5ldyBNZXRob2Qoe1xuXHQgICAgICAgIG5hbWU6ICduZXdGaWx0ZXInLFxuXHQgICAgICAgIGNhbGw6IG5ld0ZpbHRlckNhbGwsXG5cdCAgICAgICAgcGFyYW1zOiAxXG5cdCAgICB9KTtcblx0XG5cdCAgICB2YXIgdW5pbnN0YWxsRmlsdGVyID0gbmV3IE1ldGhvZCh7XG5cdCAgICAgICAgbmFtZTogJ3VuaW5zdGFsbEZpbHRlcicsXG5cdCAgICAgICAgY2FsbDogJ2V0aF91bmluc3RhbGxGaWx0ZXInLFxuXHQgICAgICAgIHBhcmFtczogMVxuXHQgICAgfSk7XG5cdFxuXHQgICAgdmFyIGdldExvZ3MgPSBuZXcgTWV0aG9kKHtcblx0ICAgICAgICBuYW1lOiAnZ2V0TG9ncycsXG5cdCAgICAgICAgY2FsbDogJ2V0aF9nZXRGaWx0ZXJMb2dzJyxcblx0ICAgICAgICBwYXJhbXM6IDFcblx0ICAgIH0pO1xuXHRcblx0ICAgIHZhciBwb2xsID0gbmV3IE1ldGhvZCh7XG5cdCAgICAgICAgbmFtZTogJ3BvbGwnLFxuXHQgICAgICAgIGNhbGw6ICdldGhfZ2V0RmlsdGVyQ2hhbmdlcycsXG5cdCAgICAgICAgcGFyYW1zOiAxXG5cdCAgICB9KTtcblx0XG5cdCAgICByZXR1cm4gW25ld0ZpbHRlciwgdW5pbnN0YWxsRmlsdGVyLCBnZXRMb2dzLCBwb2xsXTtcblx0fTtcblx0XG5cdC8vLyBAcmV0dXJucyBhbiBhcnJheSBvZiBvYmplY3RzIGRlc2NyaWJpbmcgd2ViMy5zaGgud2F0Y2ggYXBpIG1ldGhvZHNcblx0dmFyIHNoaCA9IGZ1bmN0aW9uIHNoaCgpIHtcblx0ICAgIHZhciBuZXdGaWx0ZXIgPSBuZXcgTWV0aG9kKHtcblx0ICAgICAgICBuYW1lOiAnbmV3RmlsdGVyJyxcblx0ICAgICAgICBjYWxsOiAnc2hoX25ld0ZpbHRlcicsXG5cdCAgICAgICAgcGFyYW1zOiAxXG5cdCAgICB9KTtcblx0XG5cdCAgICB2YXIgdW5pbnN0YWxsRmlsdGVyID0gbmV3IE1ldGhvZCh7XG5cdCAgICAgICAgbmFtZTogJ3VuaW5zdGFsbEZpbHRlcicsXG5cdCAgICAgICAgY2FsbDogJ3NoaF91bmluc3RhbGxGaWx0ZXInLFxuXHQgICAgICAgIHBhcmFtczogMVxuXHQgICAgfSk7XG5cdFxuXHQgICAgdmFyIGdldExvZ3MgPSBuZXcgTWV0aG9kKHtcblx0ICAgICAgICBuYW1lOiAnZ2V0TG9ncycsXG5cdCAgICAgICAgY2FsbDogJ3NoaF9nZXRNZXNzYWdlcycsXG5cdCAgICAgICAgcGFyYW1zOiAxXG5cdCAgICB9KTtcblx0XG5cdCAgICB2YXIgcG9sbCA9IG5ldyBNZXRob2Qoe1xuXHQgICAgICAgIG5hbWU6ICdwb2xsJyxcblx0ICAgICAgICBjYWxsOiAnc2hoX2dldEZpbHRlckNoYW5nZXMnLFxuXHQgICAgICAgIHBhcmFtczogMVxuXHQgICAgfSk7XG5cdFxuXHQgICAgcmV0dXJuIFtuZXdGaWx0ZXIsIHVuaW5zdGFsbEZpbHRlciwgZ2V0TG9ncywgcG9sbF07XG5cdH07XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IHtcblx0ICAgIGV0aDogZXRoLFxuXHQgICAgc2hoOiBzaGhcblx0fTtcblxuLyoqKi8gfSxcbi8qIDI0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXztcInVzZSBzdHJpY3RcIjtcblx0XG5cdHZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblx0XG5cdDsoZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnksIHVuZGVmKSB7XG5cdFx0aWYgKCggZmFsc2UgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZihleHBvcnRzKSkgPT09IFwib2JqZWN0XCIpIHtcblx0XHRcdC8vIENvbW1vbkpTXG5cdFx0XHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMgPSBmYWN0b3J5KF9fd2VicGFja19yZXF1aXJlX18oMSksIF9fd2VicGFja19yZXF1aXJlX18oMTApKTtcblx0XHR9IGVsc2UgaWYgKHRydWUpIHtcblx0XHRcdC8vIEFNRFxuXHRcdFx0IShfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fID0gW19fd2VicGFja19yZXF1aXJlX18oMSksIF9fd2VicGFja19yZXF1aXJlX18oMTApXSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fID0gKGZhY3RvcnkpLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyA9ICh0eXBlb2YgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fID09PSAnZnVuY3Rpb24nID8gKF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXy5hcHBseShleHBvcnRzLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fKSkgOiBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18pLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyAhPT0gdW5kZWZpbmVkICYmIChtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fKSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIEdsb2JhbCAoYnJvd3Nlcilcblx0XHRcdGZhY3Rvcnkocm9vdC5DcnlwdG9KUyk7XG5cdFx0fVxuXHR9KSh1bmRlZmluZWQsIGZ1bmN0aW9uIChDcnlwdG9KUykge1xuXHRcblx0XHQoZnVuY3Rpb24gKE1hdGgpIHtcblx0XHRcdC8vIFNob3J0Y3V0c1xuXHRcdFx0dmFyIEMgPSBDcnlwdG9KUztcblx0XHRcdHZhciBDX2xpYiA9IEMubGliO1xuXHRcdFx0dmFyIFdvcmRBcnJheSA9IENfbGliLldvcmRBcnJheTtcblx0XHRcdHZhciBIYXNoZXIgPSBDX2xpYi5IYXNoZXI7XG5cdFx0XHR2YXIgQ194NjQgPSBDLng2NDtcblx0XHRcdHZhciBYNjRXb3JkID0gQ194NjQuV29yZDtcblx0XHRcdHZhciBDX2FsZ28gPSBDLmFsZ287XG5cdFxuXHRcdFx0Ly8gQ29uc3RhbnRzIHRhYmxlc1xuXHRcdFx0dmFyIFJIT19PRkZTRVRTID0gW107XG5cdFx0XHR2YXIgUElfSU5ERVhFUyA9IFtdO1xuXHRcdFx0dmFyIFJPVU5EX0NPTlNUQU5UUyA9IFtdO1xuXHRcblx0XHRcdC8vIENvbXB1dGUgQ29uc3RhbnRzXG5cdFx0XHQoZnVuY3Rpb24gKCkge1xuXHRcdFx0XHQvLyBDb21wdXRlIHJobyBvZmZzZXQgY29uc3RhbnRzXG5cdFx0XHRcdHZhciB4ID0gMSxcblx0XHRcdFx0ICAgIHkgPSAwO1xuXHRcdFx0XHRmb3IgKHZhciB0ID0gMDsgdCA8IDI0OyB0KyspIHtcblx0XHRcdFx0XHRSSE9fT0ZGU0VUU1t4ICsgNSAqIHldID0gKHQgKyAxKSAqICh0ICsgMikgLyAyICUgNjQ7XG5cdFxuXHRcdFx0XHRcdHZhciBuZXdYID0geSAlIDU7XG5cdFx0XHRcdFx0dmFyIG5ld1kgPSAoMiAqIHggKyAzICogeSkgJSA1O1xuXHRcdFx0XHRcdHggPSBuZXdYO1xuXHRcdFx0XHRcdHkgPSBuZXdZO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHQvLyBDb21wdXRlIHBpIGluZGV4IGNvbnN0YW50c1xuXHRcdFx0XHRmb3IgKHZhciB4ID0gMDsgeCA8IDU7IHgrKykge1xuXHRcdFx0XHRcdGZvciAodmFyIHkgPSAwOyB5IDwgNTsgeSsrKSB7XG5cdFx0XHRcdFx0XHRQSV9JTkRFWEVTW3ggKyA1ICogeV0gPSB5ICsgKDIgKiB4ICsgMyAqIHkpICUgNSAqIDU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHQvLyBDb21wdXRlIHJvdW5kIGNvbnN0YW50c1xuXHRcdFx0XHR2YXIgTEZTUiA9IDB4MDE7XG5cdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgMjQ7IGkrKykge1xuXHRcdFx0XHRcdHZhciByb3VuZENvbnN0YW50TXN3ID0gMDtcblx0XHRcdFx0XHR2YXIgcm91bmRDb25zdGFudExzdyA9IDA7XG5cdFxuXHRcdFx0XHRcdGZvciAodmFyIGogPSAwOyBqIDwgNzsgaisrKSB7XG5cdFx0XHRcdFx0XHRpZiAoTEZTUiAmIDB4MDEpIHtcblx0XHRcdFx0XHRcdFx0dmFyIGJpdFBvc2l0aW9uID0gKDEgPDwgaikgLSAxO1xuXHRcdFx0XHRcdFx0XHRpZiAoYml0UG9zaXRpb24gPCAzMikge1xuXHRcdFx0XHRcdFx0XHRcdHJvdW5kQ29uc3RhbnRMc3cgXj0gMSA8PCBiaXRQb3NpdGlvbjtcblx0XHRcdFx0XHRcdFx0fSBlbHNlIC8qIGlmIChiaXRQb3NpdGlvbiA+PSAzMikgKi97XG5cdFx0XHRcdFx0XHRcdFx0XHRyb3VuZENvbnN0YW50TXN3IF49IDEgPDwgYml0UG9zaXRpb24gLSAzMjtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdFx0Ly8gQ29tcHV0ZSBuZXh0IExGU1Jcblx0XHRcdFx0XHRcdGlmIChMRlNSICYgMHg4MCkge1xuXHRcdFx0XHRcdFx0XHQvLyBQcmltaXRpdmUgcG9seW5vbWlhbCBvdmVyIEdGKDIpOiB4XjggKyB4XjYgKyB4XjUgKyB4XjQgKyAxXG5cdFx0XHRcdFx0XHRcdExGU1IgPSBMRlNSIDw8IDEgXiAweDcxO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0TEZTUiA8PD0gMTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdFJPVU5EX0NPTlNUQU5UU1tpXSA9IFg2NFdvcmQuY3JlYXRlKHJvdW5kQ29uc3RhbnRNc3csIHJvdW5kQ29uc3RhbnRMc3cpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KSgpO1xuXHRcblx0XHRcdC8vIFJldXNhYmxlIG9iamVjdHMgZm9yIHRlbXBvcmFyeSB2YWx1ZXNcblx0XHRcdHZhciBUID0gW107XG5cdFx0XHQoZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IDI1OyBpKyspIHtcblx0XHRcdFx0XHRUW2ldID0gWDY0V29yZC5jcmVhdGUoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSkoKTtcblx0XG5cdFx0XHQvKipcblx0ICAgKiBTSEEtMyBoYXNoIGFsZ29yaXRobS5cblx0ICAgKi9cblx0XHRcdHZhciBTSEEzID0gQ19hbGdvLlNIQTMgPSBIYXNoZXIuZXh0ZW5kKHtcblx0XHRcdFx0LyoqXG5cdCAgICAqIENvbmZpZ3VyYXRpb24gb3B0aW9ucy5cblx0ICAgICpcblx0ICAgICogQHByb3BlcnR5IHtudW1iZXJ9IG91dHB1dExlbmd0aFxuXHQgICAgKiAgIFRoZSBkZXNpcmVkIG51bWJlciBvZiBiaXRzIGluIHRoZSBvdXRwdXQgaGFzaC5cblx0ICAgICogICBPbmx5IHZhbHVlcyBwZXJtaXR0ZWQgYXJlOiAyMjQsIDI1NiwgMzg0LCA1MTIuXG5cdCAgICAqICAgRGVmYXVsdDogNTEyXG5cdCAgICAqL1xuXHRcdFx0XHRjZmc6IEhhc2hlci5jZmcuZXh0ZW5kKHtcblx0XHRcdFx0XHRvdXRwdXRMZW5ndGg6IDUxMlxuXHRcdFx0XHR9KSxcblx0XG5cdFx0XHRcdF9kb1Jlc2V0OiBmdW5jdGlvbiBfZG9SZXNldCgpIHtcblx0XHRcdFx0XHR2YXIgc3RhdGUgPSB0aGlzLl9zdGF0ZSA9IFtdO1xuXHRcdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgMjU7IGkrKykge1xuXHRcdFx0XHRcdFx0c3RhdGVbaV0gPSBuZXcgWDY0V29yZC5pbml0KCk7XG5cdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHR0aGlzLmJsb2NrU2l6ZSA9ICgxNjAwIC0gMiAqIHRoaXMuY2ZnLm91dHB1dExlbmd0aCkgLyAzMjtcblx0XHRcdFx0fSxcblx0XG5cdFx0XHRcdF9kb1Byb2Nlc3NCbG9jazogZnVuY3Rpb24gX2RvUHJvY2Vzc0Jsb2NrKE0sIG9mZnNldCkge1xuXHRcdFx0XHRcdC8vIFNob3J0Y3V0c1xuXHRcdFx0XHRcdHZhciBzdGF0ZSA9IHRoaXMuX3N0YXRlO1xuXHRcdFx0XHRcdHZhciBuQmxvY2tTaXplTGFuZXMgPSB0aGlzLmJsb2NrU2l6ZSAvIDI7XG5cdFxuXHRcdFx0XHRcdC8vIEFic29yYlxuXHRcdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgbkJsb2NrU2l6ZUxhbmVzOyBpKyspIHtcblx0XHRcdFx0XHRcdC8vIFNob3J0Y3V0c1xuXHRcdFx0XHRcdFx0dmFyIE0yaSA9IE1bb2Zmc2V0ICsgMiAqIGldO1xuXHRcdFx0XHRcdFx0dmFyIE0yaTEgPSBNW29mZnNldCArIDIgKiBpICsgMV07XG5cdFxuXHRcdFx0XHRcdFx0Ly8gU3dhcCBlbmRpYW5cblx0XHRcdFx0XHRcdE0yaSA9IChNMmkgPDwgOCB8IE0yaSA+Pj4gMjQpICYgMHgwMGZmMDBmZiB8IChNMmkgPDwgMjQgfCBNMmkgPj4+IDgpICYgMHhmZjAwZmYwMDtcblx0XHRcdFx0XHRcdE0yaTEgPSAoTTJpMSA8PCA4IHwgTTJpMSA+Pj4gMjQpICYgMHgwMGZmMDBmZiB8IChNMmkxIDw8IDI0IHwgTTJpMSA+Pj4gOCkgJiAweGZmMDBmZjAwO1xuXHRcblx0XHRcdFx0XHRcdC8vIEFic29yYiBtZXNzYWdlIGludG8gc3RhdGVcblx0XHRcdFx0XHRcdHZhciBsYW5lID0gc3RhdGVbaV07XG5cdFx0XHRcdFx0XHRsYW5lLmhpZ2ggXj0gTTJpMTtcblx0XHRcdFx0XHRcdGxhbmUubG93IF49IE0yaTtcblx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdC8vIFJvdW5kc1xuXHRcdFx0XHRcdGZvciAodmFyIHJvdW5kID0gMDsgcm91bmQgPCAyNDsgcm91bmQrKykge1xuXHRcdFx0XHRcdFx0Ly8gVGhldGFcblx0XHRcdFx0XHRcdGZvciAodmFyIHggPSAwOyB4IDwgNTsgeCsrKSB7XG5cdFx0XHRcdFx0XHRcdC8vIE1peCBjb2x1bW4gbGFuZXNcblx0XHRcdFx0XHRcdFx0dmFyIHRNc3cgPSAwLFxuXHRcdFx0XHRcdFx0XHQgICAgdExzdyA9IDA7XG5cdFx0XHRcdFx0XHRcdGZvciAodmFyIHkgPSAwOyB5IDwgNTsgeSsrKSB7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIGxhbmUgPSBzdGF0ZVt4ICsgNSAqIHldO1xuXHRcdFx0XHRcdFx0XHRcdHRNc3cgXj0gbGFuZS5oaWdoO1xuXHRcdFx0XHRcdFx0XHRcdHRMc3cgXj0gbGFuZS5sb3c7XG5cdFx0XHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0XHRcdC8vIFRlbXBvcmFyeSB2YWx1ZXNcblx0XHRcdFx0XHRcdFx0dmFyIFR4ID0gVFt4XTtcblx0XHRcdFx0XHRcdFx0VHguaGlnaCA9IHRNc3c7XG5cdFx0XHRcdFx0XHRcdFR4LmxvdyA9IHRMc3c7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRmb3IgKHZhciB4ID0gMDsgeCA8IDU7IHgrKykge1xuXHRcdFx0XHRcdFx0XHQvLyBTaG9ydGN1dHNcblx0XHRcdFx0XHRcdFx0dmFyIFR4NCA9IFRbKHggKyA0KSAlIDVdO1xuXHRcdFx0XHRcdFx0XHR2YXIgVHgxID0gVFsoeCArIDEpICUgNV07XG5cdFx0XHRcdFx0XHRcdHZhciBUeDFNc3cgPSBUeDEuaGlnaDtcblx0XHRcdFx0XHRcdFx0dmFyIFR4MUxzdyA9IFR4MS5sb3c7XG5cdFxuXHRcdFx0XHRcdFx0XHQvLyBNaXggc3Vycm91bmRpbmcgY29sdW1uc1xuXHRcdFx0XHRcdFx0XHR2YXIgdE1zdyA9IFR4NC5oaWdoIF4gKFR4MU1zdyA8PCAxIHwgVHgxTHN3ID4+PiAzMSk7XG5cdFx0XHRcdFx0XHRcdHZhciB0THN3ID0gVHg0LmxvdyBeIChUeDFMc3cgPDwgMSB8IFR4MU1zdyA+Pj4gMzEpO1xuXHRcdFx0XHRcdFx0XHRmb3IgKHZhciB5ID0gMDsgeSA8IDU7IHkrKykge1xuXHRcdFx0XHRcdFx0XHRcdHZhciBsYW5lID0gc3RhdGVbeCArIDUgKiB5XTtcblx0XHRcdFx0XHRcdFx0XHRsYW5lLmhpZ2ggXj0gdE1zdztcblx0XHRcdFx0XHRcdFx0XHRsYW5lLmxvdyBePSB0THN3O1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdFx0Ly8gUmhvIFBpXG5cdFx0XHRcdFx0XHRmb3IgKHZhciBsYW5lSW5kZXggPSAxOyBsYW5lSW5kZXggPCAyNTsgbGFuZUluZGV4KyspIHtcblx0XHRcdFx0XHRcdFx0Ly8gU2hvcnRjdXRzXG5cdFx0XHRcdFx0XHRcdHZhciBsYW5lID0gc3RhdGVbbGFuZUluZGV4XTtcblx0XHRcdFx0XHRcdFx0dmFyIGxhbmVNc3cgPSBsYW5lLmhpZ2g7XG5cdFx0XHRcdFx0XHRcdHZhciBsYW5lTHN3ID0gbGFuZS5sb3c7XG5cdFx0XHRcdFx0XHRcdHZhciByaG9PZmZzZXQgPSBSSE9fT0ZGU0VUU1tsYW5lSW5kZXhdO1xuXHRcblx0XHRcdFx0XHRcdFx0Ly8gUm90YXRlIGxhbmVzXG5cdFx0XHRcdFx0XHRcdGlmIChyaG9PZmZzZXQgPCAzMikge1xuXHRcdFx0XHRcdFx0XHRcdHZhciB0TXN3ID0gbGFuZU1zdyA8PCByaG9PZmZzZXQgfCBsYW5lTHN3ID4+PiAzMiAtIHJob09mZnNldDtcblx0XHRcdFx0XHRcdFx0XHR2YXIgdExzdyA9IGxhbmVMc3cgPDwgcmhvT2Zmc2V0IHwgbGFuZU1zdyA+Pj4gMzIgLSByaG9PZmZzZXQ7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSAvKiBpZiAocmhvT2Zmc2V0ID49IDMyKSAqL3tcblx0XHRcdFx0XHRcdFx0XHRcdHZhciB0TXN3ID0gbGFuZUxzdyA8PCByaG9PZmZzZXQgLSAzMiB8IGxhbmVNc3cgPj4+IDY0IC0gcmhvT2Zmc2V0O1xuXHRcdFx0XHRcdFx0XHRcdFx0dmFyIHRMc3cgPSBsYW5lTXN3IDw8IHJob09mZnNldCAtIDMyIHwgbGFuZUxzdyA+Pj4gNjQgLSByaG9PZmZzZXQ7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRcdFx0Ly8gVHJhbnNwb3NlIGxhbmVzXG5cdFx0XHRcdFx0XHRcdHZhciBUUGlMYW5lID0gVFtQSV9JTkRFWEVTW2xhbmVJbmRleF1dO1xuXHRcdFx0XHRcdFx0XHRUUGlMYW5lLmhpZ2ggPSB0TXN3O1xuXHRcdFx0XHRcdFx0XHRUUGlMYW5lLmxvdyA9IHRMc3c7XG5cdFx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdFx0Ly8gUmhvIHBpIGF0IHggPSB5ID0gMFxuXHRcdFx0XHRcdFx0dmFyIFQwID0gVFswXTtcblx0XHRcdFx0XHRcdHZhciBzdGF0ZTAgPSBzdGF0ZVswXTtcblx0XHRcdFx0XHRcdFQwLmhpZ2ggPSBzdGF0ZTAuaGlnaDtcblx0XHRcdFx0XHRcdFQwLmxvdyA9IHN0YXRlMC5sb3c7XG5cdFxuXHRcdFx0XHRcdFx0Ly8gQ2hpXG5cdFx0XHRcdFx0XHRmb3IgKHZhciB4ID0gMDsgeCA8IDU7IHgrKykge1xuXHRcdFx0XHRcdFx0XHRmb3IgKHZhciB5ID0gMDsgeSA8IDU7IHkrKykge1xuXHRcdFx0XHRcdFx0XHRcdC8vIFNob3J0Y3V0c1xuXHRcdFx0XHRcdFx0XHRcdHZhciBsYW5lSW5kZXggPSB4ICsgNSAqIHk7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIGxhbmUgPSBzdGF0ZVtsYW5lSW5kZXhdO1xuXHRcdFx0XHRcdFx0XHRcdHZhciBUTGFuZSA9IFRbbGFuZUluZGV4XTtcblx0XHRcdFx0XHRcdFx0XHR2YXIgVHgxTGFuZSA9IFRbKHggKyAxKSAlIDUgKyA1ICogeV07XG5cdFx0XHRcdFx0XHRcdFx0dmFyIFR4MkxhbmUgPSBUWyh4ICsgMikgJSA1ICsgNSAqIHldO1xuXHRcblx0XHRcdFx0XHRcdFx0XHQvLyBNaXggcm93c1xuXHRcdFx0XHRcdFx0XHRcdGxhbmUuaGlnaCA9IFRMYW5lLmhpZ2ggXiB+VHgxTGFuZS5oaWdoICYgVHgyTGFuZS5oaWdoO1xuXHRcdFx0XHRcdFx0XHRcdGxhbmUubG93ID0gVExhbmUubG93IF4gflR4MUxhbmUubG93ICYgVHgyTGFuZS5sb3c7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0XHQvLyBJb3RhXG5cdFx0XHRcdFx0XHR2YXIgbGFuZSA9IHN0YXRlWzBdO1xuXHRcdFx0XHRcdFx0dmFyIHJvdW5kQ29uc3RhbnQgPSBST1VORF9DT05TVEFOVFNbcm91bmRdO1xuXHRcdFx0XHRcdFx0bGFuZS5oaWdoIF49IHJvdW5kQ29uc3RhbnQuaGlnaDtcblx0XHRcdFx0XHRcdGxhbmUubG93IF49IHJvdW5kQ29uc3RhbnQubG93Oztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sXG5cdFxuXHRcdFx0XHRfZG9GaW5hbGl6ZTogZnVuY3Rpb24gX2RvRmluYWxpemUoKSB7XG5cdFx0XHRcdFx0Ly8gU2hvcnRjdXRzXG5cdFx0XHRcdFx0dmFyIGRhdGEgPSB0aGlzLl9kYXRhO1xuXHRcdFx0XHRcdHZhciBkYXRhV29yZHMgPSBkYXRhLndvcmRzO1xuXHRcdFx0XHRcdHZhciBuQml0c1RvdGFsID0gdGhpcy5fbkRhdGFCeXRlcyAqIDg7XG5cdFx0XHRcdFx0dmFyIG5CaXRzTGVmdCA9IGRhdGEuc2lnQnl0ZXMgKiA4O1xuXHRcdFx0XHRcdHZhciBibG9ja1NpemVCaXRzID0gdGhpcy5ibG9ja1NpemUgKiAzMjtcblx0XG5cdFx0XHRcdFx0Ly8gQWRkIHBhZGRpbmdcblx0XHRcdFx0XHRkYXRhV29yZHNbbkJpdHNMZWZ0ID4+PiA1XSB8PSAweDEgPDwgMjQgLSBuQml0c0xlZnQgJSAzMjtcblx0XHRcdFx0XHRkYXRhV29yZHNbKE1hdGguY2VpbCgobkJpdHNMZWZ0ICsgMSkgLyBibG9ja1NpemVCaXRzKSAqIGJsb2NrU2l6ZUJpdHMgPj4+IDUpIC0gMV0gfD0gMHg4MDtcblx0XHRcdFx0XHRkYXRhLnNpZ0J5dGVzID0gZGF0YVdvcmRzLmxlbmd0aCAqIDQ7XG5cdFxuXHRcdFx0XHRcdC8vIEhhc2ggZmluYWwgYmxvY2tzXG5cdFx0XHRcdFx0dGhpcy5fcHJvY2VzcygpO1xuXHRcblx0XHRcdFx0XHQvLyBTaG9ydGN1dHNcblx0XHRcdFx0XHR2YXIgc3RhdGUgPSB0aGlzLl9zdGF0ZTtcblx0XHRcdFx0XHR2YXIgb3V0cHV0TGVuZ3RoQnl0ZXMgPSB0aGlzLmNmZy5vdXRwdXRMZW5ndGggLyA4O1xuXHRcdFx0XHRcdHZhciBvdXRwdXRMZW5ndGhMYW5lcyA9IG91dHB1dExlbmd0aEJ5dGVzIC8gODtcblx0XG5cdFx0XHRcdFx0Ly8gU3F1ZWV6ZVxuXHRcdFx0XHRcdHZhciBoYXNoV29yZHMgPSBbXTtcblx0XHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IG91dHB1dExlbmd0aExhbmVzOyBpKyspIHtcblx0XHRcdFx0XHRcdC8vIFNob3J0Y3V0c1xuXHRcdFx0XHRcdFx0dmFyIGxhbmUgPSBzdGF0ZVtpXTtcblx0XHRcdFx0XHRcdHZhciBsYW5lTXN3ID0gbGFuZS5oaWdoO1xuXHRcdFx0XHRcdFx0dmFyIGxhbmVMc3cgPSBsYW5lLmxvdztcblx0XG5cdFx0XHRcdFx0XHQvLyBTd2FwIGVuZGlhblxuXHRcdFx0XHRcdFx0bGFuZU1zdyA9IChsYW5lTXN3IDw8IDggfCBsYW5lTXN3ID4+PiAyNCkgJiAweDAwZmYwMGZmIHwgKGxhbmVNc3cgPDwgMjQgfCBsYW5lTXN3ID4+PiA4KSAmIDB4ZmYwMGZmMDA7XG5cdFx0XHRcdFx0XHRsYW5lTHN3ID0gKGxhbmVMc3cgPDwgOCB8IGxhbmVMc3cgPj4+IDI0KSAmIDB4MDBmZjAwZmYgfCAobGFuZUxzdyA8PCAyNCB8IGxhbmVMc3cgPj4+IDgpICYgMHhmZjAwZmYwMDtcblx0XG5cdFx0XHRcdFx0XHQvLyBTcXVlZXplIHN0YXRlIHRvIHJldHJpZXZlIGhhc2hcblx0XHRcdFx0XHRcdGhhc2hXb3Jkcy5wdXNoKGxhbmVMc3cpO1xuXHRcdFx0XHRcdFx0aGFzaFdvcmRzLnB1c2gobGFuZU1zdyk7XG5cdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHQvLyBSZXR1cm4gZmluYWwgY29tcHV0ZWQgaGFzaFxuXHRcdFx0XHRcdHJldHVybiBuZXcgV29yZEFycmF5LmluaXQoaGFzaFdvcmRzLCBvdXRwdXRMZW5ndGhCeXRlcyk7XG5cdFx0XHRcdH0sXG5cdFxuXHRcdFx0XHRjbG9uZTogZnVuY3Rpb24gY2xvbmUoKSB7XG5cdFx0XHRcdFx0dmFyIGNsb25lID0gSGFzaGVyLmNsb25lLmNhbGwodGhpcyk7XG5cdFxuXHRcdFx0XHRcdHZhciBzdGF0ZSA9IGNsb25lLl9zdGF0ZSA9IHRoaXMuX3N0YXRlLnNsaWNlKDApO1xuXHRcdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgMjU7IGkrKykge1xuXHRcdFx0XHRcdFx0c3RhdGVbaV0gPSBzdGF0ZVtpXS5jbG9uZSgpO1xuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0cmV0dXJuIGNsb25lO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XG5cdFx0XHQvKipcblx0ICAgKiBTaG9ydGN1dCBmdW5jdGlvbiB0byB0aGUgaGFzaGVyJ3Mgb2JqZWN0IGludGVyZmFjZS5cblx0ICAgKlxuXHQgICAqIEBwYXJhbSB7V29yZEFycmF5fHN0cmluZ30gbWVzc2FnZSBUaGUgbWVzc2FnZSB0byBoYXNoLlxuXHQgICAqXG5cdCAgICogQHJldHVybiB7V29yZEFycmF5fSBUaGUgaGFzaC5cblx0ICAgKlxuXHQgICAqIEBzdGF0aWNcblx0ICAgKlxuXHQgICAqIEBleGFtcGxlXG5cdCAgICpcblx0ICAgKiAgICAgdmFyIGhhc2ggPSBDcnlwdG9KUy5TSEEzKCdtZXNzYWdlJyk7XG5cdCAgICogICAgIHZhciBoYXNoID0gQ3J5cHRvSlMuU0hBMyh3b3JkQXJyYXkpO1xuXHQgICAqL1xuXHRcdFx0Qy5TSEEzID0gSGFzaGVyLl9jcmVhdGVIZWxwZXIoU0hBMyk7XG5cdFxuXHRcdFx0LyoqXG5cdCAgICogU2hvcnRjdXQgZnVuY3Rpb24gdG8gdGhlIEhNQUMncyBvYmplY3QgaW50ZXJmYWNlLlxuXHQgICAqXG5cdCAgICogQHBhcmFtIHtXb3JkQXJyYXl8c3RyaW5nfSBtZXNzYWdlIFRoZSBtZXNzYWdlIHRvIGhhc2guXG5cdCAgICogQHBhcmFtIHtXb3JkQXJyYXl8c3RyaW5nfSBrZXkgVGhlIHNlY3JldCBrZXkuXG5cdCAgICpcblx0ICAgKiBAcmV0dXJuIHtXb3JkQXJyYXl9IFRoZSBITUFDLlxuXHQgICAqXG5cdCAgICogQHN0YXRpY1xuXHQgICAqXG5cdCAgICogQGV4YW1wbGVcblx0ICAgKlxuXHQgICAqICAgICB2YXIgaG1hYyA9IENyeXB0b0pTLkhtYWNTSEEzKG1lc3NhZ2UsIGtleSk7XG5cdCAgICovXG5cdFx0XHRDLkhtYWNTSEEzID0gSGFzaGVyLl9jcmVhdGVIbWFjSGVscGVyKFNIQTMpO1xuXHRcdH0pKE1hdGgpO1xuXHRcblx0XHRyZXR1cm4gQ3J5cHRvSlMuU0hBMztcblx0fSk7XG5cbi8qKiovIH0sXG4vKiAyNSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0Lypcblx0ICAgIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIHdlYjMuanMuXG5cdFxuXHQgICAgd2ViMy5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG5cdCAgICBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcblx0ICAgIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG5cdCAgICAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuXHRcblx0ICAgIHdlYjMuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcblx0ICAgIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG5cdCAgICBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG5cdCAgICBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cblx0XG5cdCAgICBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2Vcblx0ICAgIGFsb25nIHdpdGggd2ViMy5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cblx0Ki9cblx0LyoqIFxuXHQgKiBAZmlsZSBjb2Rlci5qc1xuXHQgKiBAYXV0aG9yIE1hcmVrIEtvdGV3aWN6IDxtYXJla0BldGhkZXYuY29tPlxuXHQgKiBAZGF0ZSAyMDE1XG5cdCAqL1xuXHRcblx0dmFyIGYgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXHRcblx0dmFyIFNvbGlkaXR5VHlwZUFkZHJlc3MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYwKTtcblx0dmFyIFNvbGlkaXR5VHlwZUJvb2wgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYxKTtcblx0dmFyIFNvbGlkaXR5VHlwZUludCA9IF9fd2VicGFja19yZXF1aXJlX18oNjQpO1xuXHR2YXIgU29saWRpdHlUeXBlVUludCA9IF9fd2VicGFja19yZXF1aXJlX18oNjcpO1xuXHR2YXIgU29saWRpdHlUeXBlRHluYW1pY0J5dGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Myk7XG5cdHZhciBTb2xpZGl0eVR5cGVTdHJpbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY2KTtcblx0dmFyIFNvbGlkaXR5VHlwZVJlYWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY1KTtcblx0dmFyIFNvbGlkaXR5VHlwZVVSZWFsID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OCk7XG5cdHZhciBTb2xpZGl0eVR5cGVCeXRlcyA9IF9fd2VicGFja19yZXF1aXJlX18oNjIpO1xuXHRcblx0LyoqXG5cdCAqIFNvbGlkaXR5Q29kZXIgcHJvdG90eXBlIHNob3VsZCBiZSB1c2VkIHRvIGVuY29kZS9kZWNvZGUgc29saWRpdHkgcGFyYW1zIG9mIGFueSB0eXBlXG5cdCAqL1xuXHR2YXIgU29saWRpdHlDb2RlciA9IGZ1bmN0aW9uIFNvbGlkaXR5Q29kZXIodHlwZXMpIHtcblx0ICAgIHRoaXMuX3R5cGVzID0gdHlwZXM7XG5cdH07XG5cdFxuXHQvKipcblx0ICogVGhpcyBtZXRob2Qgc2hvdWxkIGJlIHVzZWQgdG8gdHJhbnNmb3JtIHR5cGUgdG8gU29saWRpdHlUeXBlXG5cdCAqXG5cdCAqIEBtZXRob2QgX3JlcXVpcmVUeXBlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG5cdCAqIEByZXR1cm5zIHtTb2xpZGl0eVR5cGV9IFxuXHQgKiBAdGhyb3dzIHtFcnJvcn0gdGhyb3dzIGlmIG5vIG1hdGNoaW5nIHR5cGUgaXMgZm91bmRcblx0ICovXG5cdFNvbGlkaXR5Q29kZXIucHJvdG90eXBlLl9yZXF1aXJlVHlwZSA9IGZ1bmN0aW9uICh0eXBlKSB7XG5cdCAgICB2YXIgc29saWRpdHlUeXBlID0gdGhpcy5fdHlwZXMuZmlsdGVyKGZ1bmN0aW9uICh0KSB7XG5cdCAgICAgICAgcmV0dXJuIHQuaXNUeXBlKHR5cGUpO1xuXHQgICAgfSlbMF07XG5cdFxuXHQgICAgaWYgKCFzb2xpZGl0eVR5cGUpIHtcblx0ICAgICAgICB0aHJvdyBFcnJvcignaW52YWxpZCBzb2xpZGl0eSB0eXBlITogJyArIHR5cGUpO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBzb2xpZGl0eVR5cGU7XG5cdH07XG5cdFxuXHQvKipcblx0ICogU2hvdWxkIGJlIHVzZWQgdG8gZW5jb2RlIHBsYWluIHBhcmFtXG5cdCAqXG5cdCAqIEBtZXRob2QgZW5jb2RlUGFyYW1cblx0ICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcblx0ICogQHBhcmFtIHtPYmplY3R9IHBsYWluIHBhcmFtXG5cdCAqIEByZXR1cm4ge1N0cmluZ30gZW5jb2RlZCBwbGFpbiBwYXJhbVxuXHQgKi9cblx0U29saWRpdHlDb2Rlci5wcm90b3R5cGUuZW5jb2RlUGFyYW0gPSBmdW5jdGlvbiAodHlwZSwgcGFyYW0pIHtcblx0ICAgIHJldHVybiB0aGlzLmVuY29kZVBhcmFtcyhbdHlwZV0sIFtwYXJhbV0pO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFNob3VsZCBiZSB1c2VkIHRvIGVuY29kZSBsaXN0IG9mIHBhcmFtc1xuXHQgKlxuXHQgKiBAbWV0aG9kIGVuY29kZVBhcmFtc1xuXHQgKiBAcGFyYW0ge0FycmF5fSB0eXBlc1xuXHQgKiBAcGFyYW0ge0FycmF5fSBwYXJhbXNcblx0ICogQHJldHVybiB7U3RyaW5nfSBlbmNvZGVkIGxpc3Qgb2YgcGFyYW1zXG5cdCAqL1xuXHRTb2xpZGl0eUNvZGVyLnByb3RvdHlwZS5lbmNvZGVQYXJhbXMgPSBmdW5jdGlvbiAodHlwZXMsIHBhcmFtcykge1xuXHQgICAgdmFyIHNvbGlkaXR5VHlwZXMgPSB0aGlzLmdldFNvbGlkaXR5VHlwZXModHlwZXMpO1xuXHRcblx0ICAgIHZhciBlbmNvZGVkcyA9IHNvbGlkaXR5VHlwZXMubWFwKGZ1bmN0aW9uIChzb2xpZGl0eVR5cGUsIGluZGV4KSB7XG5cdCAgICAgICAgcmV0dXJuIHNvbGlkaXR5VHlwZS5lbmNvZGUocGFyYW1zW2luZGV4XSwgdHlwZXNbaW5kZXhdKTtcblx0ICAgIH0pO1xuXHRcblx0ICAgIHZhciBkeW5hbWljT2Zmc2V0ID0gc29saWRpdHlUeXBlcy5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgc29saWRpdHlUeXBlLCBpbmRleCkge1xuXHQgICAgICAgIHZhciBzdGF0aWNQYXJ0TGVuZ3RoID0gc29saWRpdHlUeXBlLnN0YXRpY1BhcnRMZW5ndGgodHlwZXNbaW5kZXhdKTtcblx0ICAgICAgICB2YXIgcm91bmRlZFN0YXRpY1BhcnRMZW5ndGggPSBNYXRoLmZsb29yKChzdGF0aWNQYXJ0TGVuZ3RoICsgMzEpIC8gMzIpICogMzI7XG5cdCAgICAgICAgcmV0dXJuIGFjYyArIHJvdW5kZWRTdGF0aWNQYXJ0TGVuZ3RoO1xuXHQgICAgfSwgMCk7XG5cdFxuXHQgICAgdmFyIHJlc3VsdCA9IHRoaXMuZW5jb2RlTXVsdGlXaXRoT2Zmc2V0KHR5cGVzLCBzb2xpZGl0eVR5cGVzLCBlbmNvZGVkcywgZHluYW1pY09mZnNldCk7XG5cdFxuXHQgICAgcmV0dXJuIHJlc3VsdDtcblx0fTtcblx0XG5cdFNvbGlkaXR5Q29kZXIucHJvdG90eXBlLmVuY29kZU11bHRpV2l0aE9mZnNldCA9IGZ1bmN0aW9uICh0eXBlcywgc29saWRpdHlUeXBlcywgZW5jb2RlZHMsIGR5bmFtaWNPZmZzZXQpIHtcblx0ICAgIHZhciByZXN1bHQgPSBcIlwiO1xuXHQgICAgdmFyIHNlbGYgPSB0aGlzO1xuXHRcblx0ICAgIHZhciBpc0R5bmFtaWMgPSBmdW5jdGlvbiBpc0R5bmFtaWMoaSkge1xuXHQgICAgICAgIHJldHVybiBzb2xpZGl0eVR5cGVzW2ldLmlzRHluYW1pY0FycmF5KHR5cGVzW2ldKSB8fCBzb2xpZGl0eVR5cGVzW2ldLmlzRHluYW1pY1R5cGUodHlwZXNbaV0pO1xuXHQgICAgfTtcblx0XG5cdCAgICB0eXBlcy5mb3JFYWNoKGZ1bmN0aW9uICh0eXBlLCBpKSB7XG5cdCAgICAgICAgaWYgKGlzRHluYW1pYyhpKSkge1xuXHQgICAgICAgICAgICByZXN1bHQgKz0gZi5mb3JtYXRJbnB1dEludChkeW5hbWljT2Zmc2V0KS5lbmNvZGUoKTtcblx0ICAgICAgICAgICAgdmFyIGUgPSBzZWxmLmVuY29kZVdpdGhPZmZzZXQodHlwZXNbaV0sIHNvbGlkaXR5VHlwZXNbaV0sIGVuY29kZWRzW2ldLCBkeW5hbWljT2Zmc2V0KTtcblx0ICAgICAgICAgICAgZHluYW1pY09mZnNldCArPSBlLmxlbmd0aCAvIDI7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgLy8gZG9uJ3QgYWRkIGxlbmd0aCB0byBkeW5hbWljT2Zmc2V0LiBpdCdzIGFscmVhZHkgY291bnRlZFxuXHQgICAgICAgICAgICByZXN1bHQgKz0gc2VsZi5lbmNvZGVXaXRoT2Zmc2V0KHR5cGVzW2ldLCBzb2xpZGl0eVR5cGVzW2ldLCBlbmNvZGVkc1tpXSwgZHluYW1pY09mZnNldCk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICAvLyBUT0RPOiBmaWd1cmUgb3V0IG5lc3RlZCBhcnJheXNcblx0ICAgIH0pO1xuXHRcblx0ICAgIHR5cGVzLmZvckVhY2goZnVuY3Rpb24gKHR5cGUsIGkpIHtcblx0ICAgICAgICBpZiAoaXNEeW5hbWljKGkpKSB7XG5cdCAgICAgICAgICAgIHZhciBlID0gc2VsZi5lbmNvZGVXaXRoT2Zmc2V0KHR5cGVzW2ldLCBzb2xpZGl0eVR5cGVzW2ldLCBlbmNvZGVkc1tpXSwgZHluYW1pY09mZnNldCk7XG5cdCAgICAgICAgICAgIGR5bmFtaWNPZmZzZXQgKz0gZS5sZW5ndGggLyAyO1xuXHQgICAgICAgICAgICByZXN1bHQgKz0gZTtcblx0ICAgICAgICB9XG5cdCAgICB9KTtcblx0ICAgIHJldHVybiByZXN1bHQ7XG5cdH07XG5cdFxuXHQvLyBUT0RPOiByZWZhY3RvciB3aG9sZSBlbmNvZGluZyFcblx0U29saWRpdHlDb2Rlci5wcm90b3R5cGUuZW5jb2RlV2l0aE9mZnNldCA9IGZ1bmN0aW9uICh0eXBlLCBzb2xpZGl0eVR5cGUsIGVuY29kZWQsIG9mZnNldCkge1xuXHQgICAgdmFyIHNlbGYgPSB0aGlzO1xuXHQgICAgaWYgKHNvbGlkaXR5VHlwZS5pc0R5bmFtaWNBcnJheSh0eXBlKSkge1xuXHQgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIC8vIG9mZnNldCB3YXMgYWxyZWFkeSBzZXRcblx0ICAgICAgICAgICAgdmFyIG5lc3RlZE5hbWUgPSBzb2xpZGl0eVR5cGUubmVzdGVkTmFtZSh0eXBlKTtcblx0ICAgICAgICAgICAgdmFyIG5lc3RlZFN0YXRpY1BhcnRMZW5ndGggPSBzb2xpZGl0eVR5cGUuc3RhdGljUGFydExlbmd0aChuZXN0ZWROYW1lKTtcblx0ICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGVuY29kZWRbMF07XG5cdFxuXHQgICAgICAgICAgICAoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgdmFyIHByZXZpb3VzTGVuZ3RoID0gMjsgLy8gaW4gaW50XG5cdCAgICAgICAgICAgICAgICBpZiAoc29saWRpdHlUeXBlLmlzRHluYW1pY0FycmF5KG5lc3RlZE5hbWUpKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBlbmNvZGVkLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHByZXZpb3VzTGVuZ3RoICs9ICtlbmNvZGVkW2kgLSAxXVswXSB8fCAwO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gZi5mb3JtYXRJbnB1dEludChvZmZzZXQgKyBpICogbmVzdGVkU3RhdGljUGFydExlbmd0aCArIHByZXZpb3VzTGVuZ3RoICogMzIpLmVuY29kZSgpO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfSkoKTtcblx0XG5cdCAgICAgICAgICAgIC8vIGZpcnN0IGVsZW1lbnQgaXMgbGVuZ3RoLCBza2lwIGl0XG5cdCAgICAgICAgICAgIChmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVuY29kZWQubGVuZ3RoIC0gMTsgaSsrKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgdmFyIGFkZGl0aW9uYWxPZmZzZXQgPSByZXN1bHQgLyAyO1xuXHQgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSBzZWxmLmVuY29kZVdpdGhPZmZzZXQobmVzdGVkTmFtZSwgc29saWRpdHlUeXBlLCBlbmNvZGVkW2kgKyAxXSwgb2Zmc2V0ICsgYWRkaXRpb25hbE9mZnNldCk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH0pKCk7XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuXHQgICAgICAgIH0oKTtcblx0ICAgIH0gZWxzZSBpZiAoc29saWRpdHlUeXBlLmlzU3RhdGljQXJyYXkodHlwZSkpIHtcblx0ICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICB2YXIgbmVzdGVkTmFtZSA9IHNvbGlkaXR5VHlwZS5uZXN0ZWROYW1lKHR5cGUpO1xuXHQgICAgICAgICAgICB2YXIgbmVzdGVkU3RhdGljUGFydExlbmd0aCA9IHNvbGlkaXR5VHlwZS5zdGF0aWNQYXJ0TGVuZ3RoKG5lc3RlZE5hbWUpO1xuXHQgICAgICAgICAgICB2YXIgcmVzdWx0ID0gXCJcIjtcblx0XG5cdCAgICAgICAgICAgIGlmIChzb2xpZGl0eVR5cGUuaXNEeW5hbWljQXJyYXkobmVzdGVkTmFtZSkpIHtcblx0ICAgICAgICAgICAgICAgIChmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgdmFyIHByZXZpb3VzTGVuZ3RoID0gMDsgLy8gaW4gaW50XG5cdCAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbmNvZGVkLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNhbGN1bGF0ZSBsZW5ndGggb2YgcHJldmlvdXMgaXRlbVxuXHQgICAgICAgICAgICAgICAgICAgICAgICBwcmV2aW91c0xlbmd0aCArPSArKGVuY29kZWRbaSAtIDFdIHx8IFtdKVswXSB8fCAwO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gZi5mb3JtYXRJbnB1dEludChvZmZzZXQgKyBpICogbmVzdGVkU3RhdGljUGFydExlbmd0aCArIHByZXZpb3VzTGVuZ3RoICogMzIpLmVuY29kZSgpO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH0pKCk7XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIChmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVuY29kZWQubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgYWRkaXRpb25hbE9mZnNldCA9IHJlc3VsdCAvIDI7XG5cdCAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IHNlbGYuZW5jb2RlV2l0aE9mZnNldChuZXN0ZWROYW1lLCBzb2xpZGl0eVR5cGUsIGVuY29kZWRbaV0sIG9mZnNldCArIGFkZGl0aW9uYWxPZmZzZXQpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9KSgpO1xuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcblx0ICAgICAgICB9KCk7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIGVuY29kZWQ7XG5cdH07XG5cdFxuXHQvKipcblx0ICogU2hvdWxkIGJlIHVzZWQgdG8gZGVjb2RlIGJ5dGVzIHRvIHBsYWluIHBhcmFtXG5cdCAqXG5cdCAqIEBtZXRob2QgZGVjb2RlUGFyYW1cblx0ICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IGJ5dGVzXG5cdCAqIEByZXR1cm4ge09iamVjdH0gcGxhaW4gcGFyYW1cblx0ICovXG5cdFNvbGlkaXR5Q29kZXIucHJvdG90eXBlLmRlY29kZVBhcmFtID0gZnVuY3Rpb24gKHR5cGUsIGJ5dGVzKSB7XG5cdCAgICByZXR1cm4gdGhpcy5kZWNvZGVQYXJhbXMoW3R5cGVdLCBieXRlcylbMF07XG5cdH07XG5cdFxuXHQvKipcblx0ICogU2hvdWxkIGJlIHVzZWQgdG8gZGVjb2RlIGxpc3Qgb2YgcGFyYW1zXG5cdCAqXG5cdCAqIEBtZXRob2QgZGVjb2RlUGFyYW1cblx0ICogQHBhcmFtIHtBcnJheX0gdHlwZXNcblx0ICogQHBhcmFtIHtTdHJpbmd9IGJ5dGVzXG5cdCAqIEByZXR1cm4ge0FycmF5fSBhcnJheSBvZiBwbGFpbiBwYXJhbXNcblx0ICovXG5cdFNvbGlkaXR5Q29kZXIucHJvdG90eXBlLmRlY29kZVBhcmFtcyA9IGZ1bmN0aW9uICh0eXBlcywgYnl0ZXMpIHtcblx0ICAgIHZhciBzb2xpZGl0eVR5cGVzID0gdGhpcy5nZXRTb2xpZGl0eVR5cGVzKHR5cGVzKTtcblx0ICAgIHZhciBvZmZzZXRzID0gdGhpcy5nZXRPZmZzZXRzKHR5cGVzLCBzb2xpZGl0eVR5cGVzKTtcblx0XG5cdCAgICByZXR1cm4gc29saWRpdHlUeXBlcy5tYXAoZnVuY3Rpb24gKHNvbGlkaXR5VHlwZSwgaW5kZXgpIHtcblx0ICAgICAgICByZXR1cm4gc29saWRpdHlUeXBlLmRlY29kZShieXRlcywgb2Zmc2V0c1tpbmRleF0sIHR5cGVzW2luZGV4XSwgaW5kZXgpO1xuXHQgICAgfSk7XG5cdH07XG5cdFxuXHRTb2xpZGl0eUNvZGVyLnByb3RvdHlwZS5nZXRPZmZzZXRzID0gZnVuY3Rpb24gKHR5cGVzLCBzb2xpZGl0eVR5cGVzKSB7XG5cdCAgICB2YXIgbGVuZ3RocyA9IHNvbGlkaXR5VHlwZXMubWFwKGZ1bmN0aW9uIChzb2xpZGl0eVR5cGUsIGluZGV4KSB7XG5cdCAgICAgICAgcmV0dXJuIHNvbGlkaXR5VHlwZS5zdGF0aWNQYXJ0TGVuZ3RoKHR5cGVzW2luZGV4XSk7XG5cdCAgICB9KTtcblx0XG5cdCAgICBmb3IgKHZhciBpID0gMTsgaSA8IGxlbmd0aHMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAvLyBzdW0gd2l0aCBsZW5ndGggb2YgcHJldmlvdXMgZWxlbWVudFxuXHQgICAgICAgIGxlbmd0aHNbaV0gKz0gbGVuZ3Roc1tpIC0gMV07XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIGxlbmd0aHMubWFwKGZ1bmN0aW9uIChsZW5ndGgsIGluZGV4KSB7XG5cdCAgICAgICAgLy8gcmVtb3ZlIHRoZSBjdXJyZW50IGxlbmd0aCwgc28gdGhlIGxlbmd0aCBpcyBzdW0gb2YgcHJldmlvdXMgZWxlbWVudHNcblx0ICAgICAgICB2YXIgc3RhdGljUGFydExlbmd0aCA9IHNvbGlkaXR5VHlwZXNbaW5kZXhdLnN0YXRpY1BhcnRMZW5ndGgodHlwZXNbaW5kZXhdKTtcblx0ICAgICAgICByZXR1cm4gbGVuZ3RoIC0gc3RhdGljUGFydExlbmd0aDtcblx0ICAgIH0pO1xuXHR9O1xuXHRcblx0U29saWRpdHlDb2Rlci5wcm90b3R5cGUuZ2V0U29saWRpdHlUeXBlcyA9IGZ1bmN0aW9uICh0eXBlcykge1xuXHQgICAgdmFyIHNlbGYgPSB0aGlzO1xuXHQgICAgcmV0dXJuIHR5cGVzLm1hcChmdW5jdGlvbiAodHlwZSkge1xuXHQgICAgICAgIHJldHVybiBzZWxmLl9yZXF1aXJlVHlwZSh0eXBlKTtcblx0ICAgIH0pO1xuXHR9O1xuXHRcblx0dmFyIGNvZGVyID0gbmV3IFNvbGlkaXR5Q29kZXIoW25ldyBTb2xpZGl0eVR5cGVBZGRyZXNzKCksIG5ldyBTb2xpZGl0eVR5cGVCb29sKCksIG5ldyBTb2xpZGl0eVR5cGVJbnQoKSwgbmV3IFNvbGlkaXR5VHlwZVVJbnQoKSwgbmV3IFNvbGlkaXR5VHlwZUR5bmFtaWNCeXRlcygpLCBuZXcgU29saWRpdHlUeXBlQnl0ZXMoKSwgbmV3IFNvbGlkaXR5VHlwZVN0cmluZygpLCBuZXcgU29saWRpdHlUeXBlUmVhbCgpLCBuZXcgU29saWRpdHlUeXBlVVJlYWwoKV0pO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBjb2RlcjtcblxuLyoqKi8gfSxcbi8qIDI2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXztcInVzZSBzdHJpY3RcIjtcblx0XG5cdHZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblx0XG5cdDsoZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnksIHVuZGVmKSB7XG5cdFx0aWYgKCggZmFsc2UgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZihleHBvcnRzKSkgPT09IFwib2JqZWN0XCIpIHtcblx0XHRcdC8vIENvbW1vbkpTXG5cdFx0XHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMgPSBmYWN0b3J5KF9fd2VicGFja19yZXF1aXJlX18oMSksIF9fd2VicGFja19yZXF1aXJlX18oNCksIF9fd2VicGFja19yZXF1aXJlX18oNiksIF9fd2VicGFja19yZXF1aXJlX18oNSksIF9fd2VicGFja19yZXF1aXJlX18oMikpO1xuXHRcdH0gZWxzZSBpZiAodHJ1ZSkge1xuXHRcdFx0Ly8gQU1EXG5cdFx0XHQhKF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18gPSBbX193ZWJwYWNrX3JlcXVpcmVfXygxKSwgX193ZWJwYWNrX3JlcXVpcmVfXyg0KSwgX193ZWJwYWNrX3JlcXVpcmVfXyg2KSwgX193ZWJwYWNrX3JlcXVpcmVfXyg1KSwgX193ZWJwYWNrX3JlcXVpcmVfXygyKV0sIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyA9IChmYWN0b3J5KSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gPSAodHlwZW9mIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyA9PT0gJ2Z1bmN0aW9uJyA/IChfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18uYXBwbHkoZXhwb3J0cywgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXykpIDogX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fKSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gIT09IHVuZGVmaW5lZCAmJiAobW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXykpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBHbG9iYWwgKGJyb3dzZXIpXG5cdFx0XHRmYWN0b3J5KHJvb3QuQ3J5cHRvSlMpO1xuXHRcdH1cblx0fSkodW5kZWZpbmVkLCBmdW5jdGlvbiAoQ3J5cHRvSlMpIHtcblx0XG5cdFx0KGZ1bmN0aW9uICgpIHtcblx0XHRcdC8vIFNob3J0Y3V0c1xuXHRcdFx0dmFyIEMgPSBDcnlwdG9KUztcblx0XHRcdHZhciBDX2xpYiA9IEMubGliO1xuXHRcdFx0dmFyIEJsb2NrQ2lwaGVyID0gQ19saWIuQmxvY2tDaXBoZXI7XG5cdFx0XHR2YXIgQ19hbGdvID0gQy5hbGdvO1xuXHRcblx0XHRcdC8vIExvb2t1cCB0YWJsZXNcblx0XHRcdHZhciBTQk9YID0gW107XG5cdFx0XHR2YXIgSU5WX1NCT1ggPSBbXTtcblx0XHRcdHZhciBTVUJfTUlYXzAgPSBbXTtcblx0XHRcdHZhciBTVUJfTUlYXzEgPSBbXTtcblx0XHRcdHZhciBTVUJfTUlYXzIgPSBbXTtcblx0XHRcdHZhciBTVUJfTUlYXzMgPSBbXTtcblx0XHRcdHZhciBJTlZfU1VCX01JWF8wID0gW107XG5cdFx0XHR2YXIgSU5WX1NVQl9NSVhfMSA9IFtdO1xuXHRcdFx0dmFyIElOVl9TVUJfTUlYXzIgPSBbXTtcblx0XHRcdHZhciBJTlZfU1VCX01JWF8zID0gW107XG5cdFxuXHRcdFx0Ly8gQ29tcHV0ZSBsb29rdXAgdGFibGVzXG5cdFx0XHQoZnVuY3Rpb24gKCkge1xuXHRcdFx0XHQvLyBDb21wdXRlIGRvdWJsZSB0YWJsZVxuXHRcdFx0XHR2YXIgZCA9IFtdO1xuXHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IDI1NjsgaSsrKSB7XG5cdFx0XHRcdFx0aWYgKGkgPCAxMjgpIHtcblx0XHRcdFx0XHRcdGRbaV0gPSBpIDw8IDE7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGRbaV0gPSBpIDw8IDEgXiAweDExYjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdC8vIFdhbGsgR0YoMl44KVxuXHRcdFx0XHR2YXIgeCA9IDA7XG5cdFx0XHRcdHZhciB4aSA9IDA7XG5cdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgMjU2OyBpKyspIHtcblx0XHRcdFx0XHQvLyBDb21wdXRlIHNib3hcblx0XHRcdFx0XHR2YXIgc3ggPSB4aSBeIHhpIDw8IDEgXiB4aSA8PCAyIF4geGkgPDwgMyBeIHhpIDw8IDQ7XG5cdFx0XHRcdFx0c3ggPSBzeCA+Pj4gOCBeIHN4ICYgMHhmZiBeIDB4NjM7XG5cdFx0XHRcdFx0U0JPWFt4XSA9IHN4O1xuXHRcdFx0XHRcdElOVl9TQk9YW3N4XSA9IHg7XG5cdFxuXHRcdFx0XHRcdC8vIENvbXB1dGUgbXVsdGlwbGljYXRpb25cblx0XHRcdFx0XHR2YXIgeDIgPSBkW3hdO1xuXHRcdFx0XHRcdHZhciB4NCA9IGRbeDJdO1xuXHRcdFx0XHRcdHZhciB4OCA9IGRbeDRdO1xuXHRcblx0XHRcdFx0XHQvLyBDb21wdXRlIHN1YiBieXRlcywgbWl4IGNvbHVtbnMgdGFibGVzXG5cdFx0XHRcdFx0dmFyIHQgPSBkW3N4XSAqIDB4MTAxIF4gc3ggKiAweDEwMTAxMDA7XG5cdFx0XHRcdFx0U1VCX01JWF8wW3hdID0gdCA8PCAyNCB8IHQgPj4+IDg7XG5cdFx0XHRcdFx0U1VCX01JWF8xW3hdID0gdCA8PCAxNiB8IHQgPj4+IDE2O1xuXHRcdFx0XHRcdFNVQl9NSVhfMlt4XSA9IHQgPDwgOCB8IHQgPj4+IDI0O1xuXHRcdFx0XHRcdFNVQl9NSVhfM1t4XSA9IHQ7XG5cdFxuXHRcdFx0XHRcdC8vIENvbXB1dGUgaW52IHN1YiBieXRlcywgaW52IG1peCBjb2x1bW5zIHRhYmxlc1xuXHRcdFx0XHRcdHZhciB0ID0geDggKiAweDEwMTAxMDEgXiB4NCAqIDB4MTAwMDEgXiB4MiAqIDB4MTAxIF4geCAqIDB4MTAxMDEwMDtcblx0XHRcdFx0XHRJTlZfU1VCX01JWF8wW3N4XSA9IHQgPDwgMjQgfCB0ID4+PiA4O1xuXHRcdFx0XHRcdElOVl9TVUJfTUlYXzFbc3hdID0gdCA8PCAxNiB8IHQgPj4+IDE2O1xuXHRcdFx0XHRcdElOVl9TVUJfTUlYXzJbc3hdID0gdCA8PCA4IHwgdCA+Pj4gMjQ7XG5cdFx0XHRcdFx0SU5WX1NVQl9NSVhfM1tzeF0gPSB0O1xuXHRcblx0XHRcdFx0XHQvLyBDb21wdXRlIG5leHQgY291bnRlclxuXHRcdFx0XHRcdGlmICgheCkge1xuXHRcdFx0XHRcdFx0eCA9IHhpID0gMTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0eCA9IHgyIF4gZFtkW2RbeDggXiB4Ml1dXTtcblx0XHRcdFx0XHRcdHhpIF49IGRbZFt4aV1dO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSkoKTtcblx0XG5cdFx0XHQvLyBQcmVjb21wdXRlZCBSY29uIGxvb2t1cFxuXHRcdFx0dmFyIFJDT04gPSBbMHgwMCwgMHgwMSwgMHgwMiwgMHgwNCwgMHgwOCwgMHgxMCwgMHgyMCwgMHg0MCwgMHg4MCwgMHgxYiwgMHgzNl07XG5cdFxuXHRcdFx0LyoqXG5cdCAgICogQUVTIGJsb2NrIGNpcGhlciBhbGdvcml0aG0uXG5cdCAgICovXG5cdFx0XHR2YXIgQUVTID0gQ19hbGdvLkFFUyA9IEJsb2NrQ2lwaGVyLmV4dGVuZCh7XG5cdFx0XHRcdF9kb1Jlc2V0OiBmdW5jdGlvbiBfZG9SZXNldCgpIHtcblx0XHRcdFx0XHQvLyBTa2lwIHJlc2V0IG9mIG5Sb3VuZHMgaGFzIGJlZW4gc2V0IGJlZm9yZSBhbmQga2V5IGRpZCBub3QgY2hhbmdlXG5cdFx0XHRcdFx0aWYgKHRoaXMuX25Sb3VuZHMgJiYgdGhpcy5fa2V5UHJpb3JSZXNldCA9PT0gdGhpcy5fa2V5KSB7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHQvLyBTaG9ydGN1dHNcblx0XHRcdFx0XHR2YXIga2V5ID0gdGhpcy5fa2V5UHJpb3JSZXNldCA9IHRoaXMuX2tleTtcblx0XHRcdFx0XHR2YXIga2V5V29yZHMgPSBrZXkud29yZHM7XG5cdFx0XHRcdFx0dmFyIGtleVNpemUgPSBrZXkuc2lnQnl0ZXMgLyA0O1xuXHRcblx0XHRcdFx0XHQvLyBDb21wdXRlIG51bWJlciBvZiByb3VuZHNcblx0XHRcdFx0XHR2YXIgblJvdW5kcyA9IHRoaXMuX25Sb3VuZHMgPSBrZXlTaXplICsgNjtcblx0XG5cdFx0XHRcdFx0Ly8gQ29tcHV0ZSBudW1iZXIgb2Yga2V5IHNjaGVkdWxlIHJvd3Ncblx0XHRcdFx0XHR2YXIga3NSb3dzID0gKG5Sb3VuZHMgKyAxKSAqIDQ7XG5cdFxuXHRcdFx0XHRcdC8vIENvbXB1dGUga2V5IHNjaGVkdWxlXG5cdFx0XHRcdFx0dmFyIGtleVNjaGVkdWxlID0gdGhpcy5fa2V5U2NoZWR1bGUgPSBbXTtcblx0XHRcdFx0XHRmb3IgKHZhciBrc1JvdyA9IDA7IGtzUm93IDwga3NSb3dzOyBrc1JvdysrKSB7XG5cdFx0XHRcdFx0XHRpZiAoa3NSb3cgPCBrZXlTaXplKSB7XG5cdFx0XHRcdFx0XHRcdGtleVNjaGVkdWxlW2tzUm93XSA9IGtleVdvcmRzW2tzUm93XTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdHZhciB0ID0ga2V5U2NoZWR1bGVba3NSb3cgLSAxXTtcblx0XG5cdFx0XHRcdFx0XHRcdGlmICghKGtzUm93ICUga2V5U2l6ZSkpIHtcblx0XHRcdFx0XHRcdFx0XHQvLyBSb3Qgd29yZFxuXHRcdFx0XHRcdFx0XHRcdHQgPSB0IDw8IDggfCB0ID4+PiAyNDtcblx0XG5cdFx0XHRcdFx0XHRcdFx0Ly8gU3ViIHdvcmRcblx0XHRcdFx0XHRcdFx0XHR0ID0gU0JPWFt0ID4+PiAyNF0gPDwgMjQgfCBTQk9YW3QgPj4+IDE2ICYgMHhmZl0gPDwgMTYgfCBTQk9YW3QgPj4+IDggJiAweGZmXSA8PCA4IHwgU0JPWFt0ICYgMHhmZl07XG5cdFxuXHRcdFx0XHRcdFx0XHRcdC8vIE1peCBSY29uXG5cdFx0XHRcdFx0XHRcdFx0dCBePSBSQ09OW2tzUm93IC8ga2V5U2l6ZSB8IDBdIDw8IDI0O1xuXHRcdFx0XHRcdFx0XHR9IGVsc2UgaWYgKGtleVNpemUgPiA2ICYmIGtzUm93ICUga2V5U2l6ZSA9PSA0KSB7XG5cdFx0XHRcdFx0XHRcdFx0Ly8gU3ViIHdvcmRcblx0XHRcdFx0XHRcdFx0XHR0ID0gU0JPWFt0ID4+PiAyNF0gPDwgMjQgfCBTQk9YW3QgPj4+IDE2ICYgMHhmZl0gPDwgMTYgfCBTQk9YW3QgPj4+IDggJiAweGZmXSA8PCA4IHwgU0JPWFt0ICYgMHhmZl07XG5cdFx0XHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0XHRcdGtleVNjaGVkdWxlW2tzUm93XSA9IGtleVNjaGVkdWxlW2tzUm93IC0ga2V5U2l6ZV0gXiB0O1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0Ly8gQ29tcHV0ZSBpbnYga2V5IHNjaGVkdWxlXG5cdFx0XHRcdFx0dmFyIGludktleVNjaGVkdWxlID0gdGhpcy5faW52S2V5U2NoZWR1bGUgPSBbXTtcblx0XHRcdFx0XHRmb3IgKHZhciBpbnZLc1JvdyA9IDA7IGludktzUm93IDwga3NSb3dzOyBpbnZLc1JvdysrKSB7XG5cdFx0XHRcdFx0XHR2YXIga3NSb3cgPSBrc1Jvd3MgLSBpbnZLc1Jvdztcblx0XG5cdFx0XHRcdFx0XHRpZiAoaW52S3NSb3cgJSA0KSB7XG5cdFx0XHRcdFx0XHRcdHZhciB0ID0ga2V5U2NoZWR1bGVba3NSb3ddO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0dmFyIHQgPSBrZXlTY2hlZHVsZVtrc1JvdyAtIDRdO1xuXHRcdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRcdGlmIChpbnZLc1JvdyA8IDQgfHwga3NSb3cgPD0gNCkge1xuXHRcdFx0XHRcdFx0XHRpbnZLZXlTY2hlZHVsZVtpbnZLc1Jvd10gPSB0O1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0aW52S2V5U2NoZWR1bGVbaW52S3NSb3ddID0gSU5WX1NVQl9NSVhfMFtTQk9YW3QgPj4+IDI0XV0gXiBJTlZfU1VCX01JWF8xW1NCT1hbdCA+Pj4gMTYgJiAweGZmXV0gXiBJTlZfU1VCX01JWF8yW1NCT1hbdCA+Pj4gOCAmIDB4ZmZdXSBeIElOVl9TVUJfTUlYXzNbU0JPWFt0ICYgMHhmZl1dO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSxcblx0XG5cdFx0XHRcdGVuY3J5cHRCbG9jazogZnVuY3Rpb24gZW5jcnlwdEJsb2NrKE0sIG9mZnNldCkge1xuXHRcdFx0XHRcdHRoaXMuX2RvQ3J5cHRCbG9jayhNLCBvZmZzZXQsIHRoaXMuX2tleVNjaGVkdWxlLCBTVUJfTUlYXzAsIFNVQl9NSVhfMSwgU1VCX01JWF8yLCBTVUJfTUlYXzMsIFNCT1gpO1xuXHRcdFx0XHR9LFxuXHRcblx0XHRcdFx0ZGVjcnlwdEJsb2NrOiBmdW5jdGlvbiBkZWNyeXB0QmxvY2soTSwgb2Zmc2V0KSB7XG5cdFx0XHRcdFx0Ly8gU3dhcCAybmQgYW5kIDR0aCByb3dzXG5cdFx0XHRcdFx0dmFyIHQgPSBNW29mZnNldCArIDFdO1xuXHRcdFx0XHRcdE1bb2Zmc2V0ICsgMV0gPSBNW29mZnNldCArIDNdO1xuXHRcdFx0XHRcdE1bb2Zmc2V0ICsgM10gPSB0O1xuXHRcblx0XHRcdFx0XHR0aGlzLl9kb0NyeXB0QmxvY2soTSwgb2Zmc2V0LCB0aGlzLl9pbnZLZXlTY2hlZHVsZSwgSU5WX1NVQl9NSVhfMCwgSU5WX1NVQl9NSVhfMSwgSU5WX1NVQl9NSVhfMiwgSU5WX1NVQl9NSVhfMywgSU5WX1NCT1gpO1xuXHRcblx0XHRcdFx0XHQvLyBJbnYgc3dhcCAybmQgYW5kIDR0aCByb3dzXG5cdFx0XHRcdFx0dmFyIHQgPSBNW29mZnNldCArIDFdO1xuXHRcdFx0XHRcdE1bb2Zmc2V0ICsgMV0gPSBNW29mZnNldCArIDNdO1xuXHRcdFx0XHRcdE1bb2Zmc2V0ICsgM10gPSB0O1xuXHRcdFx0XHR9LFxuXHRcblx0XHRcdFx0X2RvQ3J5cHRCbG9jazogZnVuY3Rpb24gX2RvQ3J5cHRCbG9jayhNLCBvZmZzZXQsIGtleVNjaGVkdWxlLCBTVUJfTUlYXzAsIFNVQl9NSVhfMSwgU1VCX01JWF8yLCBTVUJfTUlYXzMsIFNCT1gpIHtcblx0XHRcdFx0XHQvLyBTaG9ydGN1dFxuXHRcdFx0XHRcdHZhciBuUm91bmRzID0gdGhpcy5fblJvdW5kcztcblx0XG5cdFx0XHRcdFx0Ly8gR2V0IGlucHV0LCBhZGQgcm91bmQga2V5XG5cdFx0XHRcdFx0dmFyIHMwID0gTVtvZmZzZXRdIF4ga2V5U2NoZWR1bGVbMF07XG5cdFx0XHRcdFx0dmFyIHMxID0gTVtvZmZzZXQgKyAxXSBeIGtleVNjaGVkdWxlWzFdO1xuXHRcdFx0XHRcdHZhciBzMiA9IE1bb2Zmc2V0ICsgMl0gXiBrZXlTY2hlZHVsZVsyXTtcblx0XHRcdFx0XHR2YXIgczMgPSBNW29mZnNldCArIDNdIF4ga2V5U2NoZWR1bGVbM107XG5cdFxuXHRcdFx0XHRcdC8vIEtleSBzY2hlZHVsZSByb3cgY291bnRlclxuXHRcdFx0XHRcdHZhciBrc1JvdyA9IDQ7XG5cdFxuXHRcdFx0XHRcdC8vIFJvdW5kc1xuXHRcdFx0XHRcdGZvciAodmFyIHJvdW5kID0gMTsgcm91bmQgPCBuUm91bmRzOyByb3VuZCsrKSB7XG5cdFx0XHRcdFx0XHQvLyBTaGlmdCByb3dzLCBzdWIgYnl0ZXMsIG1peCBjb2x1bW5zLCBhZGQgcm91bmQga2V5XG5cdFx0XHRcdFx0XHR2YXIgdDAgPSBTVUJfTUlYXzBbczAgPj4+IDI0XSBeIFNVQl9NSVhfMVtzMSA+Pj4gMTYgJiAweGZmXSBeIFNVQl9NSVhfMltzMiA+Pj4gOCAmIDB4ZmZdIF4gU1VCX01JWF8zW3MzICYgMHhmZl0gXiBrZXlTY2hlZHVsZVtrc1JvdysrXTtcblx0XHRcdFx0XHRcdHZhciB0MSA9IFNVQl9NSVhfMFtzMSA+Pj4gMjRdIF4gU1VCX01JWF8xW3MyID4+PiAxNiAmIDB4ZmZdIF4gU1VCX01JWF8yW3MzID4+PiA4ICYgMHhmZl0gXiBTVUJfTUlYXzNbczAgJiAweGZmXSBeIGtleVNjaGVkdWxlW2tzUm93KytdO1xuXHRcdFx0XHRcdFx0dmFyIHQyID0gU1VCX01JWF8wW3MyID4+PiAyNF0gXiBTVUJfTUlYXzFbczMgPj4+IDE2ICYgMHhmZl0gXiBTVUJfTUlYXzJbczAgPj4+IDggJiAweGZmXSBeIFNVQl9NSVhfM1tzMSAmIDB4ZmZdIF4ga2V5U2NoZWR1bGVba3NSb3crK107XG5cdFx0XHRcdFx0XHR2YXIgdDMgPSBTVUJfTUlYXzBbczMgPj4+IDI0XSBeIFNVQl9NSVhfMVtzMCA+Pj4gMTYgJiAweGZmXSBeIFNVQl9NSVhfMltzMSA+Pj4gOCAmIDB4ZmZdIF4gU1VCX01JWF8zW3MyICYgMHhmZl0gXiBrZXlTY2hlZHVsZVtrc1JvdysrXTtcblx0XG5cdFx0XHRcdFx0XHQvLyBVcGRhdGUgc3RhdGVcblx0XHRcdFx0XHRcdHMwID0gdDA7XG5cdFx0XHRcdFx0XHRzMSA9IHQxO1xuXHRcdFx0XHRcdFx0czIgPSB0Mjtcblx0XHRcdFx0XHRcdHMzID0gdDM7XG5cdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHQvLyBTaGlmdCByb3dzLCBzdWIgYnl0ZXMsIGFkZCByb3VuZCBrZXlcblx0XHRcdFx0XHR2YXIgdDAgPSAoU0JPWFtzMCA+Pj4gMjRdIDw8IDI0IHwgU0JPWFtzMSA+Pj4gMTYgJiAweGZmXSA8PCAxNiB8IFNCT1hbczIgPj4+IDggJiAweGZmXSA8PCA4IHwgU0JPWFtzMyAmIDB4ZmZdKSBeIGtleVNjaGVkdWxlW2tzUm93KytdO1xuXHRcdFx0XHRcdHZhciB0MSA9IChTQk9YW3MxID4+PiAyNF0gPDwgMjQgfCBTQk9YW3MyID4+PiAxNiAmIDB4ZmZdIDw8IDE2IHwgU0JPWFtzMyA+Pj4gOCAmIDB4ZmZdIDw8IDggfCBTQk9YW3MwICYgMHhmZl0pIF4ga2V5U2NoZWR1bGVba3NSb3crK107XG5cdFx0XHRcdFx0dmFyIHQyID0gKFNCT1hbczIgPj4+IDI0XSA8PCAyNCB8IFNCT1hbczMgPj4+IDE2ICYgMHhmZl0gPDwgMTYgfCBTQk9YW3MwID4+PiA4ICYgMHhmZl0gPDwgOCB8IFNCT1hbczEgJiAweGZmXSkgXiBrZXlTY2hlZHVsZVtrc1JvdysrXTtcblx0XHRcdFx0XHR2YXIgdDMgPSAoU0JPWFtzMyA+Pj4gMjRdIDw8IDI0IHwgU0JPWFtzMCA+Pj4gMTYgJiAweGZmXSA8PCAxNiB8IFNCT1hbczEgPj4+IDggJiAweGZmXSA8PCA4IHwgU0JPWFtzMiAmIDB4ZmZdKSBeIGtleVNjaGVkdWxlW2tzUm93KytdO1xuXHRcblx0XHRcdFx0XHQvLyBTZXQgb3V0cHV0XG5cdFx0XHRcdFx0TVtvZmZzZXRdID0gdDA7XG5cdFx0XHRcdFx0TVtvZmZzZXQgKyAxXSA9IHQxO1xuXHRcdFx0XHRcdE1bb2Zmc2V0ICsgMl0gPSB0Mjtcblx0XHRcdFx0XHRNW29mZnNldCArIDNdID0gdDM7XG5cdFx0XHRcdH0sXG5cdFxuXHRcdFx0XHRrZXlTaXplOiAyNTYgLyAzMlxuXHRcdFx0fSk7XG5cdFxuXHRcdFx0LyoqXG5cdCAgICogU2hvcnRjdXQgZnVuY3Rpb25zIHRvIHRoZSBjaXBoZXIncyBvYmplY3QgaW50ZXJmYWNlLlxuXHQgICAqXG5cdCAgICogQGV4YW1wbGVcblx0ICAgKlxuXHQgICAqICAgICB2YXIgY2lwaGVydGV4dCA9IENyeXB0b0pTLkFFUy5lbmNyeXB0KG1lc3NhZ2UsIGtleSwgY2ZnKTtcblx0ICAgKiAgICAgdmFyIHBsYWludGV4dCAgPSBDcnlwdG9KUy5BRVMuZGVjcnlwdChjaXBoZXJ0ZXh0LCBrZXksIGNmZyk7XG5cdCAgICovXG5cdFx0XHRDLkFFUyA9IEJsb2NrQ2lwaGVyLl9jcmVhdGVIZWxwZXIoQUVTKTtcblx0XHR9KSgpO1xuXHRcblx0XHRyZXR1cm4gQ3J5cHRvSlMuQUVTO1xuXHR9KTtcblxuLyoqKi8gfSxcbi8qIDI3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXztcInVzZSBzdHJpY3RcIjtcblx0XG5cdHZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblx0XG5cdDsoZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHtcblx0XHRpZiAoKCBmYWxzZSA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKGV4cG9ydHMpKSA9PT0gXCJvYmplY3RcIikge1xuXHRcdFx0Ly8gQ29tbW9uSlNcblx0XHRcdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0cyA9IGZhY3RvcnkoX193ZWJwYWNrX3JlcXVpcmVfXygxKSk7XG5cdFx0fSBlbHNlIGlmICh0cnVlKSB7XG5cdFx0XHQvLyBBTURcblx0XHRcdCEoX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXyA9IFtfX3dlYnBhY2tfcmVxdWlyZV9fKDEpXSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fID0gKGZhY3RvcnkpLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyA9ICh0eXBlb2YgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fID09PSAnZnVuY3Rpb24nID8gKF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXy5hcHBseShleHBvcnRzLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fKSkgOiBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18pLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyAhPT0gdW5kZWZpbmVkICYmIChtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fKSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIEdsb2JhbCAoYnJvd3Nlcilcblx0XHRcdGZhY3Rvcnkocm9vdC5DcnlwdG9KUyk7XG5cdFx0fVxuXHR9KSh1bmRlZmluZWQsIGZ1bmN0aW9uIChDcnlwdG9KUykge1xuXHRcblx0XHQoZnVuY3Rpb24gKCkge1xuXHRcdFx0Ly8gU2hvcnRjdXRzXG5cdFx0XHR2YXIgQyA9IENyeXB0b0pTO1xuXHRcdFx0dmFyIENfbGliID0gQy5saWI7XG5cdFx0XHR2YXIgV29yZEFycmF5ID0gQ19saWIuV29yZEFycmF5O1xuXHRcdFx0dmFyIENfZW5jID0gQy5lbmM7XG5cdFxuXHRcdFx0LyoqXG5cdCAgICogVVRGLTE2IEJFIGVuY29kaW5nIHN0cmF0ZWd5LlxuXHQgICAqL1xuXHRcdFx0dmFyIFV0ZjE2QkUgPSBDX2VuYy5VdGYxNiA9IENfZW5jLlV0ZjE2QkUgPSB7XG5cdFx0XHRcdC8qKlxuXHQgICAgKiBDb252ZXJ0cyBhIHdvcmQgYXJyYXkgdG8gYSBVVEYtMTYgQkUgc3RyaW5nLlxuXHQgICAgKlxuXHQgICAgKiBAcGFyYW0ge1dvcmRBcnJheX0gd29yZEFycmF5IFRoZSB3b3JkIGFycmF5LlxuXHQgICAgKlxuXHQgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBVVEYtMTYgQkUgc3RyaW5nLlxuXHQgICAgKlxuXHQgICAgKiBAc3RhdGljXG5cdCAgICAqXG5cdCAgICAqIEBleGFtcGxlXG5cdCAgICAqXG5cdCAgICAqICAgICB2YXIgdXRmMTZTdHJpbmcgPSBDcnlwdG9KUy5lbmMuVXRmMTYuc3RyaW5naWZ5KHdvcmRBcnJheSk7XG5cdCAgICAqL1xuXHRcdFx0XHRzdHJpbmdpZnk6IGZ1bmN0aW9uIHN0cmluZ2lmeSh3b3JkQXJyYXkpIHtcblx0XHRcdFx0XHQvLyBTaG9ydGN1dHNcblx0XHRcdFx0XHR2YXIgd29yZHMgPSB3b3JkQXJyYXkud29yZHM7XG5cdFx0XHRcdFx0dmFyIHNpZ0J5dGVzID0gd29yZEFycmF5LnNpZ0J5dGVzO1xuXHRcblx0XHRcdFx0XHQvLyBDb252ZXJ0XG5cdFx0XHRcdFx0dmFyIHV0ZjE2Q2hhcnMgPSBbXTtcblx0XHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHNpZ0J5dGVzOyBpICs9IDIpIHtcblx0XHRcdFx0XHRcdHZhciBjb2RlUG9pbnQgPSB3b3Jkc1tpID4+PiAyXSA+Pj4gMTYgLSBpICUgNCAqIDggJiAweGZmZmY7XG5cdFx0XHRcdFx0XHR1dGYxNkNoYXJzLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZShjb2RlUG9pbnQpKTtcblx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdHJldHVybiB1dGYxNkNoYXJzLmpvaW4oJycpO1xuXHRcdFx0XHR9LFxuXHRcblx0XHRcdFx0LyoqXG5cdCAgICAqIENvbnZlcnRzIGEgVVRGLTE2IEJFIHN0cmluZyB0byBhIHdvcmQgYXJyYXkuXG5cdCAgICAqXG5cdCAgICAqIEBwYXJhbSB7c3RyaW5nfSB1dGYxNlN0ciBUaGUgVVRGLTE2IEJFIHN0cmluZy5cblx0ICAgICpcblx0ICAgICogQHJldHVybiB7V29yZEFycmF5fSBUaGUgd29yZCBhcnJheS5cblx0ICAgICpcblx0ICAgICogQHN0YXRpY1xuXHQgICAgKlxuXHQgICAgKiBAZXhhbXBsZVxuXHQgICAgKlxuXHQgICAgKiAgICAgdmFyIHdvcmRBcnJheSA9IENyeXB0b0pTLmVuYy5VdGYxNi5wYXJzZSh1dGYxNlN0cmluZyk7XG5cdCAgICAqL1xuXHRcdFx0XHRwYXJzZTogZnVuY3Rpb24gcGFyc2UodXRmMTZTdHIpIHtcblx0XHRcdFx0XHQvLyBTaG9ydGN1dFxuXHRcdFx0XHRcdHZhciB1dGYxNlN0ckxlbmd0aCA9IHV0ZjE2U3RyLmxlbmd0aDtcblx0XG5cdFx0XHRcdFx0Ly8gQ29udmVydFxuXHRcdFx0XHRcdHZhciB3b3JkcyA9IFtdO1xuXHRcdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgdXRmMTZTdHJMZW5ndGg7IGkrKykge1xuXHRcdFx0XHRcdFx0d29yZHNbaSA+Pj4gMV0gfD0gdXRmMTZTdHIuY2hhckNvZGVBdChpKSA8PCAxNiAtIGkgJSAyICogMTY7XG5cdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRyZXR1cm4gV29yZEFycmF5LmNyZWF0ZSh3b3JkcywgdXRmMTZTdHJMZW5ndGggKiAyKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XG5cdFx0XHQvKipcblx0ICAgKiBVVEYtMTYgTEUgZW5jb2Rpbmcgc3RyYXRlZ3kuXG5cdCAgICovXG5cdFx0XHRDX2VuYy5VdGYxNkxFID0ge1xuXHRcdFx0XHQvKipcblx0ICAgICogQ29udmVydHMgYSB3b3JkIGFycmF5IHRvIGEgVVRGLTE2IExFIHN0cmluZy5cblx0ICAgICpcblx0ICAgICogQHBhcmFtIHtXb3JkQXJyYXl9IHdvcmRBcnJheSBUaGUgd29yZCBhcnJheS5cblx0ICAgICpcblx0ICAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgVVRGLTE2IExFIHN0cmluZy5cblx0ICAgICpcblx0ICAgICogQHN0YXRpY1xuXHQgICAgKlxuXHQgICAgKiBAZXhhbXBsZVxuXHQgICAgKlxuXHQgICAgKiAgICAgdmFyIHV0ZjE2U3RyID0gQ3J5cHRvSlMuZW5jLlV0ZjE2TEUuc3RyaW5naWZ5KHdvcmRBcnJheSk7XG5cdCAgICAqL1xuXHRcdFx0XHRzdHJpbmdpZnk6IGZ1bmN0aW9uIHN0cmluZ2lmeSh3b3JkQXJyYXkpIHtcblx0XHRcdFx0XHQvLyBTaG9ydGN1dHNcblx0XHRcdFx0XHR2YXIgd29yZHMgPSB3b3JkQXJyYXkud29yZHM7XG5cdFx0XHRcdFx0dmFyIHNpZ0J5dGVzID0gd29yZEFycmF5LnNpZ0J5dGVzO1xuXHRcblx0XHRcdFx0XHQvLyBDb252ZXJ0XG5cdFx0XHRcdFx0dmFyIHV0ZjE2Q2hhcnMgPSBbXTtcblx0XHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHNpZ0J5dGVzOyBpICs9IDIpIHtcblx0XHRcdFx0XHRcdHZhciBjb2RlUG9pbnQgPSBzd2FwRW5kaWFuKHdvcmRzW2kgPj4+IDJdID4+PiAxNiAtIGkgJSA0ICogOCAmIDB4ZmZmZik7XG5cdFx0XHRcdFx0XHR1dGYxNkNoYXJzLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZShjb2RlUG9pbnQpKTtcblx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdHJldHVybiB1dGYxNkNoYXJzLmpvaW4oJycpO1xuXHRcdFx0XHR9LFxuXHRcblx0XHRcdFx0LyoqXG5cdCAgICAqIENvbnZlcnRzIGEgVVRGLTE2IExFIHN0cmluZyB0byBhIHdvcmQgYXJyYXkuXG5cdCAgICAqXG5cdCAgICAqIEBwYXJhbSB7c3RyaW5nfSB1dGYxNlN0ciBUaGUgVVRGLTE2IExFIHN0cmluZy5cblx0ICAgICpcblx0ICAgICogQHJldHVybiB7V29yZEFycmF5fSBUaGUgd29yZCBhcnJheS5cblx0ICAgICpcblx0ICAgICogQHN0YXRpY1xuXHQgICAgKlxuXHQgICAgKiBAZXhhbXBsZVxuXHQgICAgKlxuXHQgICAgKiAgICAgdmFyIHdvcmRBcnJheSA9IENyeXB0b0pTLmVuYy5VdGYxNkxFLnBhcnNlKHV0ZjE2U3RyKTtcblx0ICAgICovXG5cdFx0XHRcdHBhcnNlOiBmdW5jdGlvbiBwYXJzZSh1dGYxNlN0cikge1xuXHRcdFx0XHRcdC8vIFNob3J0Y3V0XG5cdFx0XHRcdFx0dmFyIHV0ZjE2U3RyTGVuZ3RoID0gdXRmMTZTdHIubGVuZ3RoO1xuXHRcblx0XHRcdFx0XHQvLyBDb252ZXJ0XG5cdFx0XHRcdFx0dmFyIHdvcmRzID0gW107XG5cdFx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCB1dGYxNlN0ckxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdFx0XHR3b3Jkc1tpID4+PiAxXSB8PSBzd2FwRW5kaWFuKHV0ZjE2U3RyLmNoYXJDb2RlQXQoaSkgPDwgMTYgLSBpICUgMiAqIDE2KTtcblx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdHJldHVybiBXb3JkQXJyYXkuY3JlYXRlKHdvcmRzLCB1dGYxNlN0ckxlbmd0aCAqIDIpO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcblx0XHRcdGZ1bmN0aW9uIHN3YXBFbmRpYW4od29yZCkge1xuXHRcdFx0XHRyZXR1cm4gd29yZCA8PCA4ICYgMHhmZjAwZmYwMCB8IHdvcmQgPj4+IDggJiAweDAwZmYwMGZmO1xuXHRcdFx0fVxuXHRcdH0pKCk7XG5cdFxuXHRcdHJldHVybiBDcnlwdG9KUy5lbmMuVXRmMTY7XG5cdH0pO1xuXG4vKioqLyB9LFxuLyogMjggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18sIF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18sIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fO1widXNlIHN0cmljdFwiO1xuXHRcblx0dmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXHRcblx0OyhmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSwgdW5kZWYpIHtcblx0XHRpZiAoKCBmYWxzZSA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKGV4cG9ydHMpKSA9PT0gXCJvYmplY3RcIikge1xuXHRcdFx0Ly8gQ29tbW9uSlNcblx0XHRcdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0cyA9IGZhY3RvcnkoX193ZWJwYWNrX3JlcXVpcmVfXygxKSwgX193ZWJwYWNrX3JlcXVpcmVfXygyKSk7XG5cdFx0fSBlbHNlIGlmICh0cnVlKSB7XG5cdFx0XHQvLyBBTURcblx0XHRcdCEoX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXyA9IFtfX3dlYnBhY2tfcmVxdWlyZV9fKDEpLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpXSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fID0gKGZhY3RvcnkpLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyA9ICh0eXBlb2YgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fID09PSAnZnVuY3Rpb24nID8gKF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXy5hcHBseShleHBvcnRzLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fKSkgOiBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18pLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyAhPT0gdW5kZWZpbmVkICYmIChtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fKSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIEdsb2JhbCAoYnJvd3Nlcilcblx0XHRcdGZhY3Rvcnkocm9vdC5DcnlwdG9KUyk7XG5cdFx0fVxuXHR9KSh1bmRlZmluZWQsIGZ1bmN0aW9uIChDcnlwdG9KUykge1xuXHRcblx0XHQoZnVuY3Rpb24gKHVuZGVmaW5lZCkge1xuXHRcdFx0Ly8gU2hvcnRjdXRzXG5cdFx0XHR2YXIgQyA9IENyeXB0b0pTO1xuXHRcdFx0dmFyIENfbGliID0gQy5saWI7XG5cdFx0XHR2YXIgQ2lwaGVyUGFyYW1zID0gQ19saWIuQ2lwaGVyUGFyYW1zO1xuXHRcdFx0dmFyIENfZW5jID0gQy5lbmM7XG5cdFx0XHR2YXIgSGV4ID0gQ19lbmMuSGV4O1xuXHRcdFx0dmFyIENfZm9ybWF0ID0gQy5mb3JtYXQ7XG5cdFxuXHRcdFx0dmFyIEhleEZvcm1hdHRlciA9IENfZm9ybWF0LkhleCA9IHtcblx0XHRcdFx0LyoqXG5cdCAgICAqIENvbnZlcnRzIHRoZSBjaXBoZXJ0ZXh0IG9mIGEgY2lwaGVyIHBhcmFtcyBvYmplY3QgdG8gYSBoZXhhZGVjaW1hbGx5IGVuY29kZWQgc3RyaW5nLlxuXHQgICAgKlxuXHQgICAgKiBAcGFyYW0ge0NpcGhlclBhcmFtc30gY2lwaGVyUGFyYW1zIFRoZSBjaXBoZXIgcGFyYW1zIG9iamVjdC5cblx0ICAgICpcblx0ICAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgaGV4YWRlY2ltYWxseSBlbmNvZGVkIHN0cmluZy5cblx0ICAgICpcblx0ICAgICogQHN0YXRpY1xuXHQgICAgKlxuXHQgICAgKiBAZXhhbXBsZVxuXHQgICAgKlxuXHQgICAgKiAgICAgdmFyIGhleFN0cmluZyA9IENyeXB0b0pTLmZvcm1hdC5IZXguc3RyaW5naWZ5KGNpcGhlclBhcmFtcyk7XG5cdCAgICAqL1xuXHRcdFx0XHRzdHJpbmdpZnk6IGZ1bmN0aW9uIHN0cmluZ2lmeShjaXBoZXJQYXJhbXMpIHtcblx0XHRcdFx0XHRyZXR1cm4gY2lwaGVyUGFyYW1zLmNpcGhlcnRleHQudG9TdHJpbmcoSGV4KTtcblx0XHRcdFx0fSxcblx0XG5cdFx0XHRcdC8qKlxuXHQgICAgKiBDb252ZXJ0cyBhIGhleGFkZWNpbWFsbHkgZW5jb2RlZCBjaXBoZXJ0ZXh0IHN0cmluZyB0byBhIGNpcGhlciBwYXJhbXMgb2JqZWN0LlxuXHQgICAgKlxuXHQgICAgKiBAcGFyYW0ge3N0cmluZ30gaW5wdXQgVGhlIGhleGFkZWNpbWFsbHkgZW5jb2RlZCBzdHJpbmcuXG5cdCAgICAqXG5cdCAgICAqIEByZXR1cm4ge0NpcGhlclBhcmFtc30gVGhlIGNpcGhlciBwYXJhbXMgb2JqZWN0LlxuXHQgICAgKlxuXHQgICAgKiBAc3RhdGljXG5cdCAgICAqXG5cdCAgICAqIEBleGFtcGxlXG5cdCAgICAqXG5cdCAgICAqICAgICB2YXIgY2lwaGVyUGFyYW1zID0gQ3J5cHRvSlMuZm9ybWF0LkhleC5wYXJzZShoZXhTdHJpbmcpO1xuXHQgICAgKi9cblx0XHRcdFx0cGFyc2U6IGZ1bmN0aW9uIHBhcnNlKGlucHV0KSB7XG5cdFx0XHRcdFx0dmFyIGNpcGhlcnRleHQgPSBIZXgucGFyc2UoaW5wdXQpO1xuXHRcdFx0XHRcdHJldHVybiBDaXBoZXJQYXJhbXMuY3JlYXRlKHsgY2lwaGVydGV4dDogY2lwaGVydGV4dCB9KTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHR9KSgpO1xuXHRcblx0XHRyZXR1cm4gQ3J5cHRvSlMuZm9ybWF0LkhleDtcblx0fSk7XG5cbi8qKiovIH0sXG4vKiAyOSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXywgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXywgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX187XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHR2YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cdFxuXHQ7KGZ1bmN0aW9uIChyb290LCBmYWN0b3J5KSB7XG5cdFx0aWYgKCggZmFsc2UgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZihleHBvcnRzKSkgPT09IFwib2JqZWN0XCIpIHtcblx0XHRcdC8vIENvbW1vbkpTXG5cdFx0XHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMgPSBmYWN0b3J5KF9fd2VicGFja19yZXF1aXJlX18oMSkpO1xuXHRcdH0gZWxzZSBpZiAodHJ1ZSkge1xuXHRcdFx0Ly8gQU1EXG5cdFx0XHQhKF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18gPSBbX193ZWJwYWNrX3JlcXVpcmVfXygxKV0sIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyA9IChmYWN0b3J5KSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gPSAodHlwZW9mIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyA9PT0gJ2Z1bmN0aW9uJyA/IChfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18uYXBwbHkoZXhwb3J0cywgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXykpIDogX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fKSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gIT09IHVuZGVmaW5lZCAmJiAobW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXykpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBHbG9iYWwgKGJyb3dzZXIpXG5cdFx0XHRmYWN0b3J5KHJvb3QuQ3J5cHRvSlMpO1xuXHRcdH1cblx0fSkodW5kZWZpbmVkLCBmdW5jdGlvbiAoQ3J5cHRvSlMpIHtcblx0XG5cdFx0KGZ1bmN0aW9uICgpIHtcblx0XHRcdC8vIENoZWNrIGlmIHR5cGVkIGFycmF5cyBhcmUgc3VwcG9ydGVkXG5cdFx0XHRpZiAodHlwZW9mIEFycmF5QnVmZmVyICE9ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIFNob3J0Y3V0c1xuXHRcdFx0dmFyIEMgPSBDcnlwdG9KUztcblx0XHRcdHZhciBDX2xpYiA9IEMubGliO1xuXHRcdFx0dmFyIFdvcmRBcnJheSA9IENfbGliLldvcmRBcnJheTtcblx0XG5cdFx0XHQvLyBSZWZlcmVuY2Ugb3JpZ2luYWwgaW5pdFxuXHRcdFx0dmFyIHN1cGVySW5pdCA9IFdvcmRBcnJheS5pbml0O1xuXHRcblx0XHRcdC8vIEF1Z21lbnQgV29yZEFycmF5LmluaXQgdG8gaGFuZGxlIHR5cGVkIGFycmF5c1xuXHRcdFx0dmFyIHN1YkluaXQgPSBXb3JkQXJyYXkuaW5pdCA9IGZ1bmN0aW9uICh0eXBlZEFycmF5KSB7XG5cdFx0XHRcdC8vIENvbnZlcnQgYnVmZmVycyB0byB1aW50OFxuXHRcdFx0XHRpZiAodHlwZWRBcnJheSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG5cdFx0XHRcdFx0dHlwZWRBcnJheSA9IG5ldyBVaW50OEFycmF5KHR5cGVkQXJyYXkpO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHQvLyBDb252ZXJ0IG90aGVyIGFycmF5IHZpZXdzIHRvIHVpbnQ4XG5cdFx0XHRcdGlmICh0eXBlZEFycmF5IGluc3RhbmNlb2YgSW50OEFycmF5IHx8IHR5cGVvZiBVaW50OENsYW1wZWRBcnJheSAhPT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlZEFycmF5IGluc3RhbmNlb2YgVWludDhDbGFtcGVkQXJyYXkgfHwgdHlwZWRBcnJheSBpbnN0YW5jZW9mIEludDE2QXJyYXkgfHwgdHlwZWRBcnJheSBpbnN0YW5jZW9mIFVpbnQxNkFycmF5IHx8IHR5cGVkQXJyYXkgaW5zdGFuY2VvZiBJbnQzMkFycmF5IHx8IHR5cGVkQXJyYXkgaW5zdGFuY2VvZiBVaW50MzJBcnJheSB8fCB0eXBlZEFycmF5IGluc3RhbmNlb2YgRmxvYXQzMkFycmF5IHx8IHR5cGVkQXJyYXkgaW5zdGFuY2VvZiBGbG9hdDY0QXJyYXkpIHtcblx0XHRcdFx0XHR0eXBlZEFycmF5ID0gbmV3IFVpbnQ4QXJyYXkodHlwZWRBcnJheS5idWZmZXIsIHR5cGVkQXJyYXkuYnl0ZU9mZnNldCwgdHlwZWRBcnJheS5ieXRlTGVuZ3RoKTtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Ly8gSGFuZGxlIFVpbnQ4QXJyYXlcblx0XHRcdFx0aWYgKHR5cGVkQXJyYXkgaW5zdGFuY2VvZiBVaW50OEFycmF5KSB7XG5cdFx0XHRcdFx0Ly8gU2hvcnRjdXRcblx0XHRcdFx0XHR2YXIgdHlwZWRBcnJheUJ5dGVMZW5ndGggPSB0eXBlZEFycmF5LmJ5dGVMZW5ndGg7XG5cdFxuXHRcdFx0XHRcdC8vIEV4dHJhY3QgYnl0ZXNcblx0XHRcdFx0XHR2YXIgd29yZHMgPSBbXTtcblx0XHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHR5cGVkQXJyYXlCeXRlTGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHRcdHdvcmRzW2kgPj4+IDJdIHw9IHR5cGVkQXJyYXlbaV0gPDwgMjQgLSBpICUgNCAqIDg7XG5cdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHQvLyBJbml0aWFsaXplIHRoaXMgd29yZCBhcnJheVxuXHRcdFx0XHRcdHN1cGVySW5pdC5jYWxsKHRoaXMsIHdvcmRzLCB0eXBlZEFycmF5Qnl0ZUxlbmd0aCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Ly8gRWxzZSBjYWxsIG5vcm1hbCBpbml0XG5cdFx0XHRcdFx0c3VwZXJJbml0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFxuXHRcdFx0c3ViSW5pdC5wcm90b3R5cGUgPSBXb3JkQXJyYXk7XG5cdFx0fSkoKTtcblx0XG5cdFx0cmV0dXJuIENyeXB0b0pTLmxpYi5Xb3JkQXJyYXk7XG5cdH0pO1xuXG4vKioqLyB9LFxuLyogMzAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18sIF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18sIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fO1widXNlIHN0cmljdFwiO1xuXHRcblx0dmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXHRcblx0OyhmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSwgdW5kZWYpIHtcblx0XHRpZiAoKCBmYWxzZSA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKGV4cG9ydHMpKSA9PT0gXCJvYmplY3RcIikge1xuXHRcdFx0Ly8gQ29tbW9uSlNcblx0XHRcdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0cyA9IGZhY3RvcnkoX193ZWJwYWNrX3JlcXVpcmVfXygxKSwgX193ZWJwYWNrX3JlcXVpcmVfXygyKSk7XG5cdFx0fSBlbHNlIGlmICh0cnVlKSB7XG5cdFx0XHQvLyBBTURcblx0XHRcdCEoX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXyA9IFtfX3dlYnBhY2tfcmVxdWlyZV9fKDEpLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpXSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fID0gKGZhY3RvcnkpLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyA9ICh0eXBlb2YgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fID09PSAnZnVuY3Rpb24nID8gKF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXy5hcHBseShleHBvcnRzLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fKSkgOiBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18pLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyAhPT0gdW5kZWZpbmVkICYmIChtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fKSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIEdsb2JhbCAoYnJvd3Nlcilcblx0XHRcdGZhY3Rvcnkocm9vdC5DcnlwdG9KUyk7XG5cdFx0fVxuXHR9KSh1bmRlZmluZWQsIGZ1bmN0aW9uIChDcnlwdG9KUykge1xuXHRcblx0XHQvKipcblx0ICAqIENpcGhlciBGZWVkYmFjayBibG9jayBtb2RlLlxuXHQgICovXG5cdFx0Q3J5cHRvSlMubW9kZS5DRkIgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHR2YXIgQ0ZCID0gQ3J5cHRvSlMubGliLkJsb2NrQ2lwaGVyTW9kZS5leHRlbmQoKTtcblx0XG5cdFx0XHRDRkIuRW5jcnlwdG9yID0gQ0ZCLmV4dGVuZCh7XG5cdFx0XHRcdHByb2Nlc3NCbG9jazogZnVuY3Rpb24gcHJvY2Vzc0Jsb2NrKHdvcmRzLCBvZmZzZXQpIHtcblx0XHRcdFx0XHQvLyBTaG9ydGN1dHNcblx0XHRcdFx0XHR2YXIgY2lwaGVyID0gdGhpcy5fY2lwaGVyO1xuXHRcdFx0XHRcdHZhciBibG9ja1NpemUgPSBjaXBoZXIuYmxvY2tTaXplO1xuXHRcblx0XHRcdFx0XHRnZW5lcmF0ZUtleXN0cmVhbUFuZEVuY3J5cHQuY2FsbCh0aGlzLCB3b3Jkcywgb2Zmc2V0LCBibG9ja1NpemUsIGNpcGhlcik7XG5cdFxuXHRcdFx0XHRcdC8vIFJlbWVtYmVyIHRoaXMgYmxvY2sgdG8gdXNlIHdpdGggbmV4dCBibG9ja1xuXHRcdFx0XHRcdHRoaXMuX3ByZXZCbG9jayA9IHdvcmRzLnNsaWNlKG9mZnNldCwgb2Zmc2V0ICsgYmxvY2tTaXplKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFxuXHRcdFx0Q0ZCLkRlY3J5cHRvciA9IENGQi5leHRlbmQoe1xuXHRcdFx0XHRwcm9jZXNzQmxvY2s6IGZ1bmN0aW9uIHByb2Nlc3NCbG9jayh3b3Jkcywgb2Zmc2V0KSB7XG5cdFx0XHRcdFx0Ly8gU2hvcnRjdXRzXG5cdFx0XHRcdFx0dmFyIGNpcGhlciA9IHRoaXMuX2NpcGhlcjtcblx0XHRcdFx0XHR2YXIgYmxvY2tTaXplID0gY2lwaGVyLmJsb2NrU2l6ZTtcblx0XG5cdFx0XHRcdFx0Ly8gUmVtZW1iZXIgdGhpcyBibG9jayB0byB1c2Ugd2l0aCBuZXh0IGJsb2NrXG5cdFx0XHRcdFx0dmFyIHRoaXNCbG9jayA9IHdvcmRzLnNsaWNlKG9mZnNldCwgb2Zmc2V0ICsgYmxvY2tTaXplKTtcblx0XG5cdFx0XHRcdFx0Z2VuZXJhdGVLZXlzdHJlYW1BbmRFbmNyeXB0LmNhbGwodGhpcywgd29yZHMsIG9mZnNldCwgYmxvY2tTaXplLCBjaXBoZXIpO1xuXHRcblx0XHRcdFx0XHQvLyBUaGlzIGJsb2NrIGJlY29tZXMgdGhlIHByZXZpb3VzIGJsb2NrXG5cdFx0XHRcdFx0dGhpcy5fcHJldkJsb2NrID0gdGhpc0Jsb2NrO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XG5cdFx0XHRmdW5jdGlvbiBnZW5lcmF0ZUtleXN0cmVhbUFuZEVuY3J5cHQod29yZHMsIG9mZnNldCwgYmxvY2tTaXplLCBjaXBoZXIpIHtcblx0XHRcdFx0Ly8gU2hvcnRjdXRcblx0XHRcdFx0dmFyIGl2ID0gdGhpcy5faXY7XG5cdFxuXHRcdFx0XHQvLyBHZW5lcmF0ZSBrZXlzdHJlYW1cblx0XHRcdFx0aWYgKGl2KSB7XG5cdFx0XHRcdFx0dmFyIGtleXN0cmVhbSA9IGl2LnNsaWNlKDApO1xuXHRcblx0XHRcdFx0XHQvLyBSZW1vdmUgSVYgZm9yIHN1YnNlcXVlbnQgYmxvY2tzXG5cdFx0XHRcdFx0dGhpcy5faXYgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dmFyIGtleXN0cmVhbSA9IHRoaXMuX3ByZXZCbG9jaztcblx0XHRcdFx0fVxuXHRcdFx0XHRjaXBoZXIuZW5jcnlwdEJsb2NrKGtleXN0cmVhbSwgMCk7XG5cdFxuXHRcdFx0XHQvLyBFbmNyeXB0XG5cdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgYmxvY2tTaXplOyBpKyspIHtcblx0XHRcdFx0XHR3b3Jkc1tvZmZzZXQgKyBpXSBePSBrZXlzdHJlYW1baV07XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XG5cdFx0XHRyZXR1cm4gQ0ZCO1xuXHRcdH0oKTtcblx0XG5cdFx0cmV0dXJuIENyeXB0b0pTLm1vZGUuQ0ZCO1xuXHR9KTtcblxuLyoqKi8gfSxcbi8qIDMxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXztcInVzZSBzdHJpY3RcIjtcblx0XG5cdHZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblx0XG5cdDsoZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnksIHVuZGVmKSB7XG5cdFx0aWYgKCggZmFsc2UgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZihleHBvcnRzKSkgPT09IFwib2JqZWN0XCIpIHtcblx0XHRcdC8vIENvbW1vbkpTXG5cdFx0XHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMgPSBmYWN0b3J5KF9fd2VicGFja19yZXF1aXJlX18oMSksIF9fd2VicGFja19yZXF1aXJlX18oMikpO1xuXHRcdH0gZWxzZSBpZiAodHJ1ZSkge1xuXHRcdFx0Ly8gQU1EXG5cdFx0XHQhKF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18gPSBbX193ZWJwYWNrX3JlcXVpcmVfXygxKSwgX193ZWJwYWNrX3JlcXVpcmVfXygyKV0sIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyA9IChmYWN0b3J5KSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gPSAodHlwZW9mIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyA9PT0gJ2Z1bmN0aW9uJyA/IChfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18uYXBwbHkoZXhwb3J0cywgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXykpIDogX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fKSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gIT09IHVuZGVmaW5lZCAmJiAobW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXykpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBHbG9iYWwgKGJyb3dzZXIpXG5cdFx0XHRmYWN0b3J5KHJvb3QuQ3J5cHRvSlMpO1xuXHRcdH1cblx0fSkodW5kZWZpbmVkLCBmdW5jdGlvbiAoQ3J5cHRvSlMpIHtcblx0XG5cdFx0LyoqIEBwcmVzZXJ2ZVxuXHQgICogQ291bnRlciBibG9jayBtb2RlIGNvbXBhdGlibGUgd2l0aCAgRHIgQnJpYW4gR2xhZG1hbiBmaWxlZW5jLmNcblx0ICAqIGRlcml2ZWQgZnJvbSBDcnlwdG9KUy5tb2RlLkNUUlxuXHQgICogSmFuIEhydWJ5IGpocnVieS53ZWJAZ21haWwuY29tXG5cdCAgKi9cblx0XHRDcnlwdG9KUy5tb2RlLkNUUkdsYWRtYW4gPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHR2YXIgQ1RSR2xhZG1hbiA9IENyeXB0b0pTLmxpYi5CbG9ja0NpcGhlck1vZGUuZXh0ZW5kKCk7XG5cdFxuXHRcdFx0ZnVuY3Rpb24gaW5jV29yZCh3b3JkKSB7XG5cdFx0XHRcdGlmICgod29yZCA+PiAyNCAmIDB4ZmYpID09PSAweGZmKSB7XG5cdFx0XHRcdFx0Ly9vdmVyZmxvd1xuXHRcdFx0XHRcdHZhciBiMSA9IHdvcmQgPj4gMTYgJiAweGZmO1xuXHRcdFx0XHRcdHZhciBiMiA9IHdvcmQgPj4gOCAmIDB4ZmY7XG5cdFx0XHRcdFx0dmFyIGIzID0gd29yZCAmIDB4ZmY7XG5cdFxuXHRcdFx0XHRcdGlmIChiMSA9PT0gMHhmZikgLy8gb3ZlcmZsb3cgYjFcblx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0YjEgPSAwO1xuXHRcdFx0XHRcdFx0XHRpZiAoYjIgPT09IDB4ZmYpIHtcblx0XHRcdFx0XHRcdFx0XHRiMiA9IDA7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKGIzID09PSAweGZmKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRiMyA9IDA7XG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdCsrYjM7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdCsrYjI7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHQrK2IxO1xuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0d29yZCA9IDA7XG5cdFx0XHRcdFx0d29yZCArPSBiMSA8PCAxNjtcblx0XHRcdFx0XHR3b3JkICs9IGIyIDw8IDg7XG5cdFx0XHRcdFx0d29yZCArPSBiMztcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR3b3JkICs9IDB4MDEgPDwgMjQ7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHdvcmQ7XG5cdFx0XHR9XG5cdFxuXHRcdFx0ZnVuY3Rpb24gaW5jQ291bnRlcihjb3VudGVyKSB7XG5cdFx0XHRcdGlmICgoY291bnRlclswXSA9IGluY1dvcmQoY291bnRlclswXSkpID09PSAwKSB7XG5cdFx0XHRcdFx0Ly8gZW5jcl9kYXRhIGluIGZpbGVlbmMuYyBmcm9tICBEciBCcmlhbiBHbGFkbWFuJ3MgY291bnRzIG9ubHkgd2l0aCBEV09SRCBqIDwgOFxuXHRcdFx0XHRcdGNvdW50ZXJbMV0gPSBpbmNXb3JkKGNvdW50ZXJbMV0pO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBjb3VudGVyO1xuXHRcdFx0fVxuXHRcblx0XHRcdHZhciBFbmNyeXB0b3IgPSBDVFJHbGFkbWFuLkVuY3J5cHRvciA9IENUUkdsYWRtYW4uZXh0ZW5kKHtcblx0XHRcdFx0cHJvY2Vzc0Jsb2NrOiBmdW5jdGlvbiBwcm9jZXNzQmxvY2sod29yZHMsIG9mZnNldCkge1xuXHRcdFx0XHRcdC8vIFNob3J0Y3V0c1xuXHRcdFx0XHRcdHZhciBjaXBoZXIgPSB0aGlzLl9jaXBoZXI7XG5cdFx0XHRcdFx0dmFyIGJsb2NrU2l6ZSA9IGNpcGhlci5ibG9ja1NpemU7XG5cdFx0XHRcdFx0dmFyIGl2ID0gdGhpcy5faXY7XG5cdFx0XHRcdFx0dmFyIGNvdW50ZXIgPSB0aGlzLl9jb3VudGVyO1xuXHRcblx0XHRcdFx0XHQvLyBHZW5lcmF0ZSBrZXlzdHJlYW1cblx0XHRcdFx0XHRpZiAoaXYpIHtcblx0XHRcdFx0XHRcdGNvdW50ZXIgPSB0aGlzLl9jb3VudGVyID0gaXYuc2xpY2UoMCk7XG5cdFxuXHRcdFx0XHRcdFx0Ly8gUmVtb3ZlIElWIGZvciBzdWJzZXF1ZW50IGJsb2Nrc1xuXHRcdFx0XHRcdFx0dGhpcy5faXYgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRpbmNDb3VudGVyKGNvdW50ZXIpO1xuXHRcblx0XHRcdFx0XHR2YXIga2V5c3RyZWFtID0gY291bnRlci5zbGljZSgwKTtcblx0XHRcdFx0XHRjaXBoZXIuZW5jcnlwdEJsb2NrKGtleXN0cmVhbSwgMCk7XG5cdFxuXHRcdFx0XHRcdC8vIEVuY3J5cHRcblx0XHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGJsb2NrU2l6ZTsgaSsrKSB7XG5cdFx0XHRcdFx0XHR3b3Jkc1tvZmZzZXQgKyBpXSBePSBrZXlzdHJlYW1baV07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XG5cdFx0XHRDVFJHbGFkbWFuLkRlY3J5cHRvciA9IEVuY3J5cHRvcjtcblx0XG5cdFx0XHRyZXR1cm4gQ1RSR2xhZG1hbjtcblx0XHR9KCk7XG5cdFxuXHRcdHJldHVybiBDcnlwdG9KUy5tb2RlLkNUUkdsYWRtYW47XG5cdH0pO1xuXG4vKioqLyB9LFxuLyogMzIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18sIF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18sIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fO1widXNlIHN0cmljdFwiO1xuXHRcblx0dmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXHRcblx0OyhmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSwgdW5kZWYpIHtcblx0XHRpZiAoKCBmYWxzZSA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKGV4cG9ydHMpKSA9PT0gXCJvYmplY3RcIikge1xuXHRcdFx0Ly8gQ29tbW9uSlNcblx0XHRcdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0cyA9IGZhY3RvcnkoX193ZWJwYWNrX3JlcXVpcmVfXygxKSwgX193ZWJwYWNrX3JlcXVpcmVfXygyKSk7XG5cdFx0fSBlbHNlIGlmICh0cnVlKSB7XG5cdFx0XHQvLyBBTURcblx0XHRcdCEoX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXyA9IFtfX3dlYnBhY2tfcmVxdWlyZV9fKDEpLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpXSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fID0gKGZhY3RvcnkpLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyA9ICh0eXBlb2YgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fID09PSAnZnVuY3Rpb24nID8gKF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXy5hcHBseShleHBvcnRzLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fKSkgOiBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18pLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyAhPT0gdW5kZWZpbmVkICYmIChtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fKSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIEdsb2JhbCAoYnJvd3Nlcilcblx0XHRcdGZhY3Rvcnkocm9vdC5DcnlwdG9KUyk7XG5cdFx0fVxuXHR9KSh1bmRlZmluZWQsIGZ1bmN0aW9uIChDcnlwdG9KUykge1xuXHRcblx0XHQvKipcblx0ICAqIENvdW50ZXIgYmxvY2sgbW9kZS5cblx0ICAqL1xuXHRcdENyeXB0b0pTLm1vZGUuQ1RSID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0dmFyIENUUiA9IENyeXB0b0pTLmxpYi5CbG9ja0NpcGhlck1vZGUuZXh0ZW5kKCk7XG5cdFxuXHRcdFx0dmFyIEVuY3J5cHRvciA9IENUUi5FbmNyeXB0b3IgPSBDVFIuZXh0ZW5kKHtcblx0XHRcdFx0cHJvY2Vzc0Jsb2NrOiBmdW5jdGlvbiBwcm9jZXNzQmxvY2sod29yZHMsIG9mZnNldCkge1xuXHRcdFx0XHRcdC8vIFNob3J0Y3V0c1xuXHRcdFx0XHRcdHZhciBjaXBoZXIgPSB0aGlzLl9jaXBoZXI7XG5cdFx0XHRcdFx0dmFyIGJsb2NrU2l6ZSA9IGNpcGhlci5ibG9ja1NpemU7XG5cdFx0XHRcdFx0dmFyIGl2ID0gdGhpcy5faXY7XG5cdFx0XHRcdFx0dmFyIGNvdW50ZXIgPSB0aGlzLl9jb3VudGVyO1xuXHRcblx0XHRcdFx0XHQvLyBHZW5lcmF0ZSBrZXlzdHJlYW1cblx0XHRcdFx0XHRpZiAoaXYpIHtcblx0XHRcdFx0XHRcdGNvdW50ZXIgPSB0aGlzLl9jb3VudGVyID0gaXYuc2xpY2UoMCk7XG5cdFxuXHRcdFx0XHRcdFx0Ly8gUmVtb3ZlIElWIGZvciBzdWJzZXF1ZW50IGJsb2Nrc1xuXHRcdFx0XHRcdFx0dGhpcy5faXYgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHZhciBrZXlzdHJlYW0gPSBjb3VudGVyLnNsaWNlKDApO1xuXHRcdFx0XHRcdGNpcGhlci5lbmNyeXB0QmxvY2soa2V5c3RyZWFtLCAwKTtcblx0XG5cdFx0XHRcdFx0Ly8gSW5jcmVtZW50IGNvdW50ZXJcblx0XHRcdFx0XHRjb3VudGVyW2Jsb2NrU2l6ZSAtIDFdID0gY291bnRlcltibG9ja1NpemUgLSAxXSArIDEgfCAwO1xuXHRcblx0XHRcdFx0XHQvLyBFbmNyeXB0XG5cdFx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBibG9ja1NpemU7IGkrKykge1xuXHRcdFx0XHRcdFx0d29yZHNbb2Zmc2V0ICsgaV0gXj0ga2V5c3RyZWFtW2ldO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFxuXHRcdFx0Q1RSLkRlY3J5cHRvciA9IEVuY3J5cHRvcjtcblx0XG5cdFx0XHRyZXR1cm4gQ1RSO1xuXHRcdH0oKTtcblx0XG5cdFx0cmV0dXJuIENyeXB0b0pTLm1vZGUuQ1RSO1xuXHR9KTtcblxuLyoqKi8gfSxcbi8qIDMzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXztcInVzZSBzdHJpY3RcIjtcblx0XG5cdHZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblx0XG5cdDsoZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnksIHVuZGVmKSB7XG5cdFx0aWYgKCggZmFsc2UgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZihleHBvcnRzKSkgPT09IFwib2JqZWN0XCIpIHtcblx0XHRcdC8vIENvbW1vbkpTXG5cdFx0XHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMgPSBmYWN0b3J5KF9fd2VicGFja19yZXF1aXJlX18oMSksIF9fd2VicGFja19yZXF1aXJlX18oMikpO1xuXHRcdH0gZWxzZSBpZiAodHJ1ZSkge1xuXHRcdFx0Ly8gQU1EXG5cdFx0XHQhKF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18gPSBbX193ZWJwYWNrX3JlcXVpcmVfXygxKSwgX193ZWJwYWNrX3JlcXVpcmVfXygyKV0sIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyA9IChmYWN0b3J5KSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gPSAodHlwZW9mIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyA9PT0gJ2Z1bmN0aW9uJyA/IChfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18uYXBwbHkoZXhwb3J0cywgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXykpIDogX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fKSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gIT09IHVuZGVmaW5lZCAmJiAobW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXykpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBHbG9iYWwgKGJyb3dzZXIpXG5cdFx0XHRmYWN0b3J5KHJvb3QuQ3J5cHRvSlMpO1xuXHRcdH1cblx0fSkodW5kZWZpbmVkLCBmdW5jdGlvbiAoQ3J5cHRvSlMpIHtcblx0XG5cdFx0LyoqXG5cdCAgKiBFbGVjdHJvbmljIENvZGVib29rIGJsb2NrIG1vZGUuXG5cdCAgKi9cblx0XHRDcnlwdG9KUy5tb2RlLkVDQiA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHZhciBFQ0IgPSBDcnlwdG9KUy5saWIuQmxvY2tDaXBoZXJNb2RlLmV4dGVuZCgpO1xuXHRcblx0XHRcdEVDQi5FbmNyeXB0b3IgPSBFQ0IuZXh0ZW5kKHtcblx0XHRcdFx0cHJvY2Vzc0Jsb2NrOiBmdW5jdGlvbiBwcm9jZXNzQmxvY2sod29yZHMsIG9mZnNldCkge1xuXHRcdFx0XHRcdHRoaXMuX2NpcGhlci5lbmNyeXB0QmxvY2sod29yZHMsIG9mZnNldCk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcblx0XHRcdEVDQi5EZWNyeXB0b3IgPSBFQ0IuZXh0ZW5kKHtcblx0XHRcdFx0cHJvY2Vzc0Jsb2NrOiBmdW5jdGlvbiBwcm9jZXNzQmxvY2sod29yZHMsIG9mZnNldCkge1xuXHRcdFx0XHRcdHRoaXMuX2NpcGhlci5kZWNyeXB0QmxvY2sod29yZHMsIG9mZnNldCk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcblx0XHRcdHJldHVybiBFQ0I7XG5cdFx0fSgpO1xuXHRcblx0XHRyZXR1cm4gQ3J5cHRvSlMubW9kZS5FQ0I7XG5cdH0pO1xuXG4vKioqLyB9LFxuLyogMzQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18sIF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18sIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fO1widXNlIHN0cmljdFwiO1xuXHRcblx0dmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXHRcblx0OyhmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSwgdW5kZWYpIHtcblx0XHRpZiAoKCBmYWxzZSA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKGV4cG9ydHMpKSA9PT0gXCJvYmplY3RcIikge1xuXHRcdFx0Ly8gQ29tbW9uSlNcblx0XHRcdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0cyA9IGZhY3RvcnkoX193ZWJwYWNrX3JlcXVpcmVfXygxKSwgX193ZWJwYWNrX3JlcXVpcmVfXygyKSk7XG5cdFx0fSBlbHNlIGlmICh0cnVlKSB7XG5cdFx0XHQvLyBBTURcblx0XHRcdCEoX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXyA9IFtfX3dlYnBhY2tfcmVxdWlyZV9fKDEpLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpXSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fID0gKGZhY3RvcnkpLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyA9ICh0eXBlb2YgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fID09PSAnZnVuY3Rpb24nID8gKF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXy5hcHBseShleHBvcnRzLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fKSkgOiBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18pLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyAhPT0gdW5kZWZpbmVkICYmIChtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fKSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIEdsb2JhbCAoYnJvd3Nlcilcblx0XHRcdGZhY3Rvcnkocm9vdC5DcnlwdG9KUyk7XG5cdFx0fVxuXHR9KSh1bmRlZmluZWQsIGZ1bmN0aW9uIChDcnlwdG9KUykge1xuXHRcblx0XHQvKipcblx0ICAqIE91dHB1dCBGZWVkYmFjayBibG9jayBtb2RlLlxuXHQgICovXG5cdFx0Q3J5cHRvSlMubW9kZS5PRkIgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHR2YXIgT0ZCID0gQ3J5cHRvSlMubGliLkJsb2NrQ2lwaGVyTW9kZS5leHRlbmQoKTtcblx0XG5cdFx0XHR2YXIgRW5jcnlwdG9yID0gT0ZCLkVuY3J5cHRvciA9IE9GQi5leHRlbmQoe1xuXHRcdFx0XHRwcm9jZXNzQmxvY2s6IGZ1bmN0aW9uIHByb2Nlc3NCbG9jayh3b3Jkcywgb2Zmc2V0KSB7XG5cdFx0XHRcdFx0Ly8gU2hvcnRjdXRzXG5cdFx0XHRcdFx0dmFyIGNpcGhlciA9IHRoaXMuX2NpcGhlcjtcblx0XHRcdFx0XHR2YXIgYmxvY2tTaXplID0gY2lwaGVyLmJsb2NrU2l6ZTtcblx0XHRcdFx0XHR2YXIgaXYgPSB0aGlzLl9pdjtcblx0XHRcdFx0XHR2YXIga2V5c3RyZWFtID0gdGhpcy5fa2V5c3RyZWFtO1xuXHRcblx0XHRcdFx0XHQvLyBHZW5lcmF0ZSBrZXlzdHJlYW1cblx0XHRcdFx0XHRpZiAoaXYpIHtcblx0XHRcdFx0XHRcdGtleXN0cmVhbSA9IHRoaXMuX2tleXN0cmVhbSA9IGl2LnNsaWNlKDApO1xuXHRcblx0XHRcdFx0XHRcdC8vIFJlbW92ZSBJViBmb3Igc3Vic2VxdWVudCBibG9ja3Ncblx0XHRcdFx0XHRcdHRoaXMuX2l2ID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRjaXBoZXIuZW5jcnlwdEJsb2NrKGtleXN0cmVhbSwgMCk7XG5cdFxuXHRcdFx0XHRcdC8vIEVuY3J5cHRcblx0XHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGJsb2NrU2l6ZTsgaSsrKSB7XG5cdFx0XHRcdFx0XHR3b3Jkc1tvZmZzZXQgKyBpXSBePSBrZXlzdHJlYW1baV07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XG5cdFx0XHRPRkIuRGVjcnlwdG9yID0gRW5jcnlwdG9yO1xuXHRcblx0XHRcdHJldHVybiBPRkI7XG5cdFx0fSgpO1xuXHRcblx0XHRyZXR1cm4gQ3J5cHRvSlMubW9kZS5PRkI7XG5cdH0pO1xuXG4vKioqLyB9LFxuLyogMzUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18sIF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18sIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fO1widXNlIHN0cmljdFwiO1xuXHRcblx0dmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXHRcblx0OyhmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSwgdW5kZWYpIHtcblx0XHRpZiAoKCBmYWxzZSA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKGV4cG9ydHMpKSA9PT0gXCJvYmplY3RcIikge1xuXHRcdFx0Ly8gQ29tbW9uSlNcblx0XHRcdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0cyA9IGZhY3RvcnkoX193ZWJwYWNrX3JlcXVpcmVfXygxKSwgX193ZWJwYWNrX3JlcXVpcmVfXygyKSk7XG5cdFx0fSBlbHNlIGlmICh0cnVlKSB7XG5cdFx0XHQvLyBBTURcblx0XHRcdCEoX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXyA9IFtfX3dlYnBhY2tfcmVxdWlyZV9fKDEpLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpXSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fID0gKGZhY3RvcnkpLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyA9ICh0eXBlb2YgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fID09PSAnZnVuY3Rpb24nID8gKF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXy5hcHBseShleHBvcnRzLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fKSkgOiBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18pLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyAhPT0gdW5kZWZpbmVkICYmIChtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fKSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIEdsb2JhbCAoYnJvd3Nlcilcblx0XHRcdGZhY3Rvcnkocm9vdC5DcnlwdG9KUyk7XG5cdFx0fVxuXHR9KSh1bmRlZmluZWQsIGZ1bmN0aW9uIChDcnlwdG9KUykge1xuXHRcblx0XHQvKipcblx0ICAqIEFOU0kgWC45MjMgcGFkZGluZyBzdHJhdGVneS5cblx0ICAqL1xuXHRcdENyeXB0b0pTLnBhZC5BbnNpWDkyMyA9IHtcblx0XHRcdHBhZDogZnVuY3Rpb24gcGFkKGRhdGEsIGJsb2NrU2l6ZSkge1xuXHRcdFx0XHQvLyBTaG9ydGN1dHNcblx0XHRcdFx0dmFyIGRhdGFTaWdCeXRlcyA9IGRhdGEuc2lnQnl0ZXM7XG5cdFx0XHRcdHZhciBibG9ja1NpemVCeXRlcyA9IGJsb2NrU2l6ZSAqIDQ7XG5cdFxuXHRcdFx0XHQvLyBDb3VudCBwYWRkaW5nIGJ5dGVzXG5cdFx0XHRcdHZhciBuUGFkZGluZ0J5dGVzID0gYmxvY2tTaXplQnl0ZXMgLSBkYXRhU2lnQnl0ZXMgJSBibG9ja1NpemVCeXRlcztcblx0XG5cdFx0XHRcdC8vIENvbXB1dGUgbGFzdCBieXRlIHBvc2l0aW9uXG5cdFx0XHRcdHZhciBsYXN0Qnl0ZVBvcyA9IGRhdGFTaWdCeXRlcyArIG5QYWRkaW5nQnl0ZXMgLSAxO1xuXHRcblx0XHRcdFx0Ly8gUGFkXG5cdFx0XHRcdGRhdGEuY2xhbXAoKTtcblx0XHRcdFx0ZGF0YS53b3Jkc1tsYXN0Qnl0ZVBvcyA+Pj4gMl0gfD0gblBhZGRpbmdCeXRlcyA8PCAyNCAtIGxhc3RCeXRlUG9zICUgNCAqIDg7XG5cdFx0XHRcdGRhdGEuc2lnQnl0ZXMgKz0gblBhZGRpbmdCeXRlcztcblx0XHRcdH0sXG5cdFxuXHRcdFx0dW5wYWQ6IGZ1bmN0aW9uIHVucGFkKGRhdGEpIHtcblx0XHRcdFx0Ly8gR2V0IG51bWJlciBvZiBwYWRkaW5nIGJ5dGVzIGZyb20gbGFzdCBieXRlXG5cdFx0XHRcdHZhciBuUGFkZGluZ0J5dGVzID0gZGF0YS53b3Jkc1tkYXRhLnNpZ0J5dGVzIC0gMSA+Pj4gMl0gJiAweGZmO1xuXHRcblx0XHRcdFx0Ly8gUmVtb3ZlIHBhZGRpbmdcblx0XHRcdFx0ZGF0YS5zaWdCeXRlcyAtPSBuUGFkZGluZ0J5dGVzO1xuXHRcdFx0fVxuXHRcdH07XG5cdFxuXHRcdHJldHVybiBDcnlwdG9KUy5wYWQuQW5zaXg5MjM7XG5cdH0pO1xuXG4vKioqLyB9LFxuLyogMzYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18sIF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18sIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fO1widXNlIHN0cmljdFwiO1xuXHRcblx0dmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXHRcblx0OyhmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSwgdW5kZWYpIHtcblx0XHRpZiAoKCBmYWxzZSA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKGV4cG9ydHMpKSA9PT0gXCJvYmplY3RcIikge1xuXHRcdFx0Ly8gQ29tbW9uSlNcblx0XHRcdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0cyA9IGZhY3RvcnkoX193ZWJwYWNrX3JlcXVpcmVfXygxKSwgX193ZWJwYWNrX3JlcXVpcmVfXygyKSk7XG5cdFx0fSBlbHNlIGlmICh0cnVlKSB7XG5cdFx0XHQvLyBBTURcblx0XHRcdCEoX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXyA9IFtfX3dlYnBhY2tfcmVxdWlyZV9fKDEpLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpXSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fID0gKGZhY3RvcnkpLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyA9ICh0eXBlb2YgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fID09PSAnZnVuY3Rpb24nID8gKF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXy5hcHBseShleHBvcnRzLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fKSkgOiBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18pLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyAhPT0gdW5kZWZpbmVkICYmIChtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fKSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIEdsb2JhbCAoYnJvd3Nlcilcblx0XHRcdGZhY3Rvcnkocm9vdC5DcnlwdG9KUyk7XG5cdFx0fVxuXHR9KSh1bmRlZmluZWQsIGZ1bmN0aW9uIChDcnlwdG9KUykge1xuXHRcblx0XHQvKipcblx0ICAqIElTTyAxMDEyNiBwYWRkaW5nIHN0cmF0ZWd5LlxuXHQgICovXG5cdFx0Q3J5cHRvSlMucGFkLklzbzEwMTI2ID0ge1xuXHRcdFx0cGFkOiBmdW5jdGlvbiBwYWQoZGF0YSwgYmxvY2tTaXplKSB7XG5cdFx0XHRcdC8vIFNob3J0Y3V0XG5cdFx0XHRcdHZhciBibG9ja1NpemVCeXRlcyA9IGJsb2NrU2l6ZSAqIDQ7XG5cdFxuXHRcdFx0XHQvLyBDb3VudCBwYWRkaW5nIGJ5dGVzXG5cdFx0XHRcdHZhciBuUGFkZGluZ0J5dGVzID0gYmxvY2tTaXplQnl0ZXMgLSBkYXRhLnNpZ0J5dGVzICUgYmxvY2tTaXplQnl0ZXM7XG5cdFxuXHRcdFx0XHQvLyBQYWRcblx0XHRcdFx0ZGF0YS5jb25jYXQoQ3J5cHRvSlMubGliLldvcmRBcnJheS5yYW5kb20oblBhZGRpbmdCeXRlcyAtIDEpKS5jb25jYXQoQ3J5cHRvSlMubGliLldvcmRBcnJheS5jcmVhdGUoW25QYWRkaW5nQnl0ZXMgPDwgMjRdLCAxKSk7XG5cdFx0XHR9LFxuXHRcblx0XHRcdHVucGFkOiBmdW5jdGlvbiB1bnBhZChkYXRhKSB7XG5cdFx0XHRcdC8vIEdldCBudW1iZXIgb2YgcGFkZGluZyBieXRlcyBmcm9tIGxhc3QgYnl0ZVxuXHRcdFx0XHR2YXIgblBhZGRpbmdCeXRlcyA9IGRhdGEud29yZHNbZGF0YS5zaWdCeXRlcyAtIDEgPj4+IDJdICYgMHhmZjtcblx0XG5cdFx0XHRcdC8vIFJlbW92ZSBwYWRkaW5nXG5cdFx0XHRcdGRhdGEuc2lnQnl0ZXMgLT0gblBhZGRpbmdCeXRlcztcblx0XHRcdH1cblx0XHR9O1xuXHRcblx0XHRyZXR1cm4gQ3J5cHRvSlMucGFkLklzbzEwMTI2O1xuXHR9KTtcblxuLyoqKi8gfSxcbi8qIDM3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXztcInVzZSBzdHJpY3RcIjtcblx0XG5cdHZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblx0XG5cdDsoZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnksIHVuZGVmKSB7XG5cdFx0aWYgKCggZmFsc2UgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZihleHBvcnRzKSkgPT09IFwib2JqZWN0XCIpIHtcblx0XHRcdC8vIENvbW1vbkpTXG5cdFx0XHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMgPSBmYWN0b3J5KF9fd2VicGFja19yZXF1aXJlX18oMSksIF9fd2VicGFja19yZXF1aXJlX18oMikpO1xuXHRcdH0gZWxzZSBpZiAodHJ1ZSkge1xuXHRcdFx0Ly8gQU1EXG5cdFx0XHQhKF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18gPSBbX193ZWJwYWNrX3JlcXVpcmVfXygxKSwgX193ZWJwYWNrX3JlcXVpcmVfXygyKV0sIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyA9IChmYWN0b3J5KSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gPSAodHlwZW9mIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyA9PT0gJ2Z1bmN0aW9uJyA/IChfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18uYXBwbHkoZXhwb3J0cywgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXykpIDogX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fKSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gIT09IHVuZGVmaW5lZCAmJiAobW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXykpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBHbG9iYWwgKGJyb3dzZXIpXG5cdFx0XHRmYWN0b3J5KHJvb3QuQ3J5cHRvSlMpO1xuXHRcdH1cblx0fSkodW5kZWZpbmVkLCBmdW5jdGlvbiAoQ3J5cHRvSlMpIHtcblx0XG5cdFx0LyoqXG5cdCAgKiBJU08vSUVDIDk3OTctMSBQYWRkaW5nIE1ldGhvZCAyLlxuXHQgICovXG5cdFx0Q3J5cHRvSlMucGFkLklzbzk3OTcxID0ge1xuXHRcdFx0cGFkOiBmdW5jdGlvbiBwYWQoZGF0YSwgYmxvY2tTaXplKSB7XG5cdFx0XHRcdC8vIEFkZCAweDgwIGJ5dGVcblx0XHRcdFx0ZGF0YS5jb25jYXQoQ3J5cHRvSlMubGliLldvcmRBcnJheS5jcmVhdGUoWzB4ODAwMDAwMDBdLCAxKSk7XG5cdFxuXHRcdFx0XHQvLyBaZXJvIHBhZCB0aGUgcmVzdFxuXHRcdFx0XHRDcnlwdG9KUy5wYWQuWmVyb1BhZGRpbmcucGFkKGRhdGEsIGJsb2NrU2l6ZSk7XG5cdFx0XHR9LFxuXHRcblx0XHRcdHVucGFkOiBmdW5jdGlvbiB1bnBhZChkYXRhKSB7XG5cdFx0XHRcdC8vIFJlbW92ZSB6ZXJvIHBhZGRpbmdcblx0XHRcdFx0Q3J5cHRvSlMucGFkLlplcm9QYWRkaW5nLnVucGFkKGRhdGEpO1xuXHRcblx0XHRcdFx0Ly8gUmVtb3ZlIG9uZSBtb3JlIGJ5dGUgLS0gdGhlIDB4ODAgYnl0ZVxuXHRcdFx0XHRkYXRhLnNpZ0J5dGVzLS07XG5cdFx0XHR9XG5cdFx0fTtcblx0XG5cdFx0cmV0dXJuIENyeXB0b0pTLnBhZC5Jc285Nzk3MTtcblx0fSk7XG5cbi8qKiovIH0sXG4vKiAzOCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXywgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXywgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX187XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHR2YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cdFxuXHQ7KGZ1bmN0aW9uIChyb290LCBmYWN0b3J5LCB1bmRlZikge1xuXHRcdGlmICgoIGZhbHNlID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2YoZXhwb3J0cykpID09PSBcIm9iamVjdFwiKSB7XG5cdFx0XHQvLyBDb21tb25KU1xuXHRcdFx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzID0gZmFjdG9yeShfX3dlYnBhY2tfcmVxdWlyZV9fKDEpLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpKTtcblx0XHR9IGVsc2UgaWYgKHRydWUpIHtcblx0XHRcdC8vIEFNRFxuXHRcdFx0IShfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fID0gW19fd2VicGFja19yZXF1aXJlX18oMSksIF9fd2VicGFja19yZXF1aXJlX18oMildLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18gPSAoZmFjdG9yeSksIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fID0gKHR5cGVvZiBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18gPT09ICdmdW5jdGlvbicgPyAoX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fLmFwcGx5KGV4cG9ydHMsIF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18pKSA6IF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyksIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fICE9PSB1bmRlZmluZWQgJiYgKG1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18pKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gR2xvYmFsIChicm93c2VyKVxuXHRcdFx0ZmFjdG9yeShyb290LkNyeXB0b0pTKTtcblx0XHR9XG5cdH0pKHVuZGVmaW5lZCwgZnVuY3Rpb24gKENyeXB0b0pTKSB7XG5cdFxuXHRcdC8qKlxuXHQgICogQSBub29wIHBhZGRpbmcgc3RyYXRlZ3kuXG5cdCAgKi9cblx0XHRDcnlwdG9KUy5wYWQuTm9QYWRkaW5nID0ge1xuXHRcdFx0cGFkOiBmdW5jdGlvbiBwYWQoKSB7fSxcblx0XG5cdFx0XHR1bnBhZDogZnVuY3Rpb24gdW5wYWQoKSB7fVxuXHRcdH07XG5cdFxuXHRcdHJldHVybiBDcnlwdG9KUy5wYWQuTm9QYWRkaW5nO1xuXHR9KTtcblxuLyoqKi8gfSxcbi8qIDM5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXztcInVzZSBzdHJpY3RcIjtcblx0XG5cdHZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblx0XG5cdDsoZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnksIHVuZGVmKSB7XG5cdFx0aWYgKCggZmFsc2UgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZihleHBvcnRzKSkgPT09IFwib2JqZWN0XCIpIHtcblx0XHRcdC8vIENvbW1vbkpTXG5cdFx0XHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMgPSBmYWN0b3J5KF9fd2VicGFja19yZXF1aXJlX18oMSksIF9fd2VicGFja19yZXF1aXJlX18oMikpO1xuXHRcdH0gZWxzZSBpZiAodHJ1ZSkge1xuXHRcdFx0Ly8gQU1EXG5cdFx0XHQhKF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18gPSBbX193ZWJwYWNrX3JlcXVpcmVfXygxKSwgX193ZWJwYWNrX3JlcXVpcmVfXygyKV0sIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyA9IChmYWN0b3J5KSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gPSAodHlwZW9mIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyA9PT0gJ2Z1bmN0aW9uJyA/IChfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18uYXBwbHkoZXhwb3J0cywgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXykpIDogX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fKSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gIT09IHVuZGVmaW5lZCAmJiAobW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXykpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBHbG9iYWwgKGJyb3dzZXIpXG5cdFx0XHRmYWN0b3J5KHJvb3QuQ3J5cHRvSlMpO1xuXHRcdH1cblx0fSkodW5kZWZpbmVkLCBmdW5jdGlvbiAoQ3J5cHRvSlMpIHtcblx0XG5cdFx0LyoqXG5cdCAgKiBaZXJvIHBhZGRpbmcgc3RyYXRlZ3kuXG5cdCAgKi9cblx0XHRDcnlwdG9KUy5wYWQuWmVyb1BhZGRpbmcgPSB7XG5cdFx0XHRwYWQ6IGZ1bmN0aW9uIHBhZChkYXRhLCBibG9ja1NpemUpIHtcblx0XHRcdFx0Ly8gU2hvcnRjdXRcblx0XHRcdFx0dmFyIGJsb2NrU2l6ZUJ5dGVzID0gYmxvY2tTaXplICogNDtcblx0XG5cdFx0XHRcdC8vIFBhZFxuXHRcdFx0XHRkYXRhLmNsYW1wKCk7XG5cdFx0XHRcdGRhdGEuc2lnQnl0ZXMgKz0gYmxvY2tTaXplQnl0ZXMgLSAoZGF0YS5zaWdCeXRlcyAlIGJsb2NrU2l6ZUJ5dGVzIHx8IGJsb2NrU2l6ZUJ5dGVzKTtcblx0XHRcdH0sXG5cdFxuXHRcdFx0dW5wYWQ6IGZ1bmN0aW9uIHVucGFkKGRhdGEpIHtcblx0XHRcdFx0Ly8gU2hvcnRjdXRcblx0XHRcdFx0dmFyIGRhdGFXb3JkcyA9IGRhdGEud29yZHM7XG5cdFxuXHRcdFx0XHQvLyBVbnBhZFxuXHRcdFx0XHR2YXIgaSA9IGRhdGEuc2lnQnl0ZXMgLSAxO1xuXHRcdFx0XHR3aGlsZSAoIShkYXRhV29yZHNbaSA+Pj4gMl0gPj4+IDI0IC0gaSAlIDQgKiA4ICYgMHhmZikpIHtcblx0XHRcdFx0XHRpLS07XG5cdFx0XHRcdH1cblx0XHRcdFx0ZGF0YS5zaWdCeXRlcyA9IGkgKyAxO1xuXHRcdFx0fVxuXHRcdH07XG5cdFxuXHRcdHJldHVybiBDcnlwdG9KUy5wYWQuWmVyb1BhZGRpbmc7XG5cdH0pO1xuXG4vKioqLyB9LFxuLyogNDAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18sIF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18sIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fO1widXNlIHN0cmljdFwiO1xuXHRcblx0dmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXHRcblx0OyhmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSwgdW5kZWYpIHtcblx0XHRpZiAoKCBmYWxzZSA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKGV4cG9ydHMpKSA9PT0gXCJvYmplY3RcIikge1xuXHRcdFx0Ly8gQ29tbW9uSlNcblx0XHRcdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0cyA9IGZhY3RvcnkoX193ZWJwYWNrX3JlcXVpcmVfXygxKSwgX193ZWJwYWNrX3JlcXVpcmVfXygxMiksIF9fd2VicGFja19yZXF1aXJlX18oMTEpKTtcblx0XHR9IGVsc2UgaWYgKHRydWUpIHtcblx0XHRcdC8vIEFNRFxuXHRcdFx0IShfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fID0gW19fd2VicGFja19yZXF1aXJlX18oMSksIF9fd2VicGFja19yZXF1aXJlX18oMTIpLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKV0sIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyA9IChmYWN0b3J5KSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gPSAodHlwZW9mIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyA9PT0gJ2Z1bmN0aW9uJyA/IChfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18uYXBwbHkoZXhwb3J0cywgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXykpIDogX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fKSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gIT09IHVuZGVmaW5lZCAmJiAobW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXykpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBHbG9iYWwgKGJyb3dzZXIpXG5cdFx0XHRmYWN0b3J5KHJvb3QuQ3J5cHRvSlMpO1xuXHRcdH1cblx0fSkodW5kZWZpbmVkLCBmdW5jdGlvbiAoQ3J5cHRvSlMpIHtcblx0XG5cdFx0KGZ1bmN0aW9uICgpIHtcblx0XHRcdC8vIFNob3J0Y3V0c1xuXHRcdFx0dmFyIEMgPSBDcnlwdG9KUztcblx0XHRcdHZhciBDX2xpYiA9IEMubGliO1xuXHRcdFx0dmFyIEJhc2UgPSBDX2xpYi5CYXNlO1xuXHRcdFx0dmFyIFdvcmRBcnJheSA9IENfbGliLldvcmRBcnJheTtcblx0XHRcdHZhciBDX2FsZ28gPSBDLmFsZ287XG5cdFx0XHR2YXIgU0hBMSA9IENfYWxnby5TSEExO1xuXHRcdFx0dmFyIEhNQUMgPSBDX2FsZ28uSE1BQztcblx0XG5cdFx0XHQvKipcblx0ICAgKiBQYXNzd29yZC1CYXNlZCBLZXkgRGVyaXZhdGlvbiBGdW5jdGlvbiAyIGFsZ29yaXRobS5cblx0ICAgKi9cblx0XHRcdHZhciBQQktERjIgPSBDX2FsZ28uUEJLREYyID0gQmFzZS5leHRlbmQoe1xuXHRcdFx0XHQvKipcblx0ICAgICogQ29uZmlndXJhdGlvbiBvcHRpb25zLlxuXHQgICAgKlxuXHQgICAgKiBAcHJvcGVydHkge251bWJlcn0ga2V5U2l6ZSBUaGUga2V5IHNpemUgaW4gd29yZHMgdG8gZ2VuZXJhdGUuIERlZmF1bHQ6IDQgKDEyOCBiaXRzKVxuXHQgICAgKiBAcHJvcGVydHkge0hhc2hlcn0gaGFzaGVyIFRoZSBoYXNoZXIgdG8gdXNlLiBEZWZhdWx0OiBTSEExXG5cdCAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBpdGVyYXRpb25zIFRoZSBudW1iZXIgb2YgaXRlcmF0aW9ucyB0byBwZXJmb3JtLiBEZWZhdWx0OiAxXG5cdCAgICAqL1xuXHRcdFx0XHRjZmc6IEJhc2UuZXh0ZW5kKHtcblx0XHRcdFx0XHRrZXlTaXplOiAxMjggLyAzMixcblx0XHRcdFx0XHRoYXNoZXI6IFNIQTEsXG5cdFx0XHRcdFx0aXRlcmF0aW9uczogMVxuXHRcdFx0XHR9KSxcblx0XG5cdFx0XHRcdC8qKlxuXHQgICAgKiBJbml0aWFsaXplcyBhIG5ld2x5IGNyZWF0ZWQga2V5IGRlcml2YXRpb24gZnVuY3Rpb24uXG5cdCAgICAqXG5cdCAgICAqIEBwYXJhbSB7T2JqZWN0fSBjZmcgKE9wdGlvbmFsKSBUaGUgY29uZmlndXJhdGlvbiBvcHRpb25zIHRvIHVzZSBmb3IgdGhlIGRlcml2YXRpb24uXG5cdCAgICAqXG5cdCAgICAqIEBleGFtcGxlXG5cdCAgICAqXG5cdCAgICAqICAgICB2YXIga2RmID0gQ3J5cHRvSlMuYWxnby5QQktERjIuY3JlYXRlKCk7XG5cdCAgICAqICAgICB2YXIga2RmID0gQ3J5cHRvSlMuYWxnby5QQktERjIuY3JlYXRlKHsga2V5U2l6ZTogOCB9KTtcblx0ICAgICogICAgIHZhciBrZGYgPSBDcnlwdG9KUy5hbGdvLlBCS0RGMi5jcmVhdGUoeyBrZXlTaXplOiA4LCBpdGVyYXRpb25zOiAxMDAwIH0pO1xuXHQgICAgKi9cblx0XHRcdFx0aW5pdDogZnVuY3Rpb24gaW5pdChjZmcpIHtcblx0XHRcdFx0XHR0aGlzLmNmZyA9IHRoaXMuY2ZnLmV4dGVuZChjZmcpO1xuXHRcdFx0XHR9LFxuXHRcblx0XHRcdFx0LyoqXG5cdCAgICAqIENvbXB1dGVzIHRoZSBQYXNzd29yZC1CYXNlZCBLZXkgRGVyaXZhdGlvbiBGdW5jdGlvbiAyLlxuXHQgICAgKlxuXHQgICAgKiBAcGFyYW0ge1dvcmRBcnJheXxzdHJpbmd9IHBhc3N3b3JkIFRoZSBwYXNzd29yZC5cblx0ICAgICogQHBhcmFtIHtXb3JkQXJyYXl8c3RyaW5nfSBzYWx0IEEgc2FsdC5cblx0ICAgICpcblx0ICAgICogQHJldHVybiB7V29yZEFycmF5fSBUaGUgZGVyaXZlZCBrZXkuXG5cdCAgICAqXG5cdCAgICAqIEBleGFtcGxlXG5cdCAgICAqXG5cdCAgICAqICAgICB2YXIga2V5ID0ga2RmLmNvbXB1dGUocGFzc3dvcmQsIHNhbHQpO1xuXHQgICAgKi9cblx0XHRcdFx0Y29tcHV0ZTogZnVuY3Rpb24gY29tcHV0ZShwYXNzd29yZCwgc2FsdCkge1xuXHRcdFx0XHRcdC8vIFNob3J0Y3V0XG5cdFx0XHRcdFx0dmFyIGNmZyA9IHRoaXMuY2ZnO1xuXHRcblx0XHRcdFx0XHQvLyBJbml0IEhNQUNcblx0XHRcdFx0XHR2YXIgaG1hYyA9IEhNQUMuY3JlYXRlKGNmZy5oYXNoZXIsIHBhc3N3b3JkKTtcblx0XG5cdFx0XHRcdFx0Ly8gSW5pdGlhbCB2YWx1ZXNcblx0XHRcdFx0XHR2YXIgZGVyaXZlZEtleSA9IFdvcmRBcnJheS5jcmVhdGUoKTtcblx0XHRcdFx0XHR2YXIgYmxvY2tJbmRleCA9IFdvcmRBcnJheS5jcmVhdGUoWzB4MDAwMDAwMDFdKTtcblx0XG5cdFx0XHRcdFx0Ly8gU2hvcnRjdXRzXG5cdFx0XHRcdFx0dmFyIGRlcml2ZWRLZXlXb3JkcyA9IGRlcml2ZWRLZXkud29yZHM7XG5cdFx0XHRcdFx0dmFyIGJsb2NrSW5kZXhXb3JkcyA9IGJsb2NrSW5kZXgud29yZHM7XG5cdFx0XHRcdFx0dmFyIGtleVNpemUgPSBjZmcua2V5U2l6ZTtcblx0XHRcdFx0XHR2YXIgaXRlcmF0aW9ucyA9IGNmZy5pdGVyYXRpb25zO1xuXHRcblx0XHRcdFx0XHQvLyBHZW5lcmF0ZSBrZXlcblx0XHRcdFx0XHR3aGlsZSAoZGVyaXZlZEtleVdvcmRzLmxlbmd0aCA8IGtleVNpemUpIHtcblx0XHRcdFx0XHRcdHZhciBibG9jayA9IGhtYWMudXBkYXRlKHNhbHQpLmZpbmFsaXplKGJsb2NrSW5kZXgpO1xuXHRcdFx0XHRcdFx0aG1hYy5yZXNldCgpO1xuXHRcblx0XHRcdFx0XHRcdC8vIFNob3J0Y3V0c1xuXHRcdFx0XHRcdFx0dmFyIGJsb2NrV29yZHMgPSBibG9jay53b3Jkcztcblx0XHRcdFx0XHRcdHZhciBibG9ja1dvcmRzTGVuZ3RoID0gYmxvY2tXb3Jkcy5sZW5ndGg7XG5cdFxuXHRcdFx0XHRcdFx0Ly8gSXRlcmF0aW9uc1xuXHRcdFx0XHRcdFx0dmFyIGludGVybWVkaWF0ZSA9IGJsb2NrO1xuXHRcdFx0XHRcdFx0Zm9yICh2YXIgaSA9IDE7IGkgPCBpdGVyYXRpb25zOyBpKyspIHtcblx0XHRcdFx0XHRcdFx0aW50ZXJtZWRpYXRlID0gaG1hYy5maW5hbGl6ZShpbnRlcm1lZGlhdGUpO1xuXHRcdFx0XHRcdFx0XHRobWFjLnJlc2V0KCk7XG5cdFxuXHRcdFx0XHRcdFx0XHQvLyBTaG9ydGN1dFxuXHRcdFx0XHRcdFx0XHR2YXIgaW50ZXJtZWRpYXRlV29yZHMgPSBpbnRlcm1lZGlhdGUud29yZHM7XG5cdFxuXHRcdFx0XHRcdFx0XHQvLyBYT1IgaW50ZXJtZWRpYXRlIHdpdGggYmxvY2tcblx0XHRcdFx0XHRcdFx0Zm9yICh2YXIgaiA9IDA7IGogPCBibG9ja1dvcmRzTGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0XHRcdFx0XHRibG9ja1dvcmRzW2pdIF49IGludGVybWVkaWF0ZVdvcmRzW2pdO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdFx0ZGVyaXZlZEtleS5jb25jYXQoYmxvY2spO1xuXHRcdFx0XHRcdFx0YmxvY2tJbmRleFdvcmRzWzBdKys7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGRlcml2ZWRLZXkuc2lnQnl0ZXMgPSBrZXlTaXplICogNDtcblx0XG5cdFx0XHRcdFx0cmV0dXJuIGRlcml2ZWRLZXk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcblx0XHRcdC8qKlxuXHQgICAqIENvbXB1dGVzIHRoZSBQYXNzd29yZC1CYXNlZCBLZXkgRGVyaXZhdGlvbiBGdW5jdGlvbiAyLlxuXHQgICAqXG5cdCAgICogQHBhcmFtIHtXb3JkQXJyYXl8c3RyaW5nfSBwYXNzd29yZCBUaGUgcGFzc3dvcmQuXG5cdCAgICogQHBhcmFtIHtXb3JkQXJyYXl8c3RyaW5nfSBzYWx0IEEgc2FsdC5cblx0ICAgKiBAcGFyYW0ge09iamVjdH0gY2ZnIChPcHRpb25hbCkgVGhlIGNvbmZpZ3VyYXRpb24gb3B0aW9ucyB0byB1c2UgZm9yIHRoaXMgY29tcHV0YXRpb24uXG5cdCAgICpcblx0ICAgKiBAcmV0dXJuIHtXb3JkQXJyYXl9IFRoZSBkZXJpdmVkIGtleS5cblx0ICAgKlxuXHQgICAqIEBzdGF0aWNcblx0ICAgKlxuXHQgICAqIEBleGFtcGxlXG5cdCAgICpcblx0ICAgKiAgICAgdmFyIGtleSA9IENyeXB0b0pTLlBCS0RGMihwYXNzd29yZCwgc2FsdCk7XG5cdCAgICogICAgIHZhciBrZXkgPSBDcnlwdG9KUy5QQktERjIocGFzc3dvcmQsIHNhbHQsIHsga2V5U2l6ZTogOCB9KTtcblx0ICAgKiAgICAgdmFyIGtleSA9IENyeXB0b0pTLlBCS0RGMihwYXNzd29yZCwgc2FsdCwgeyBrZXlTaXplOiA4LCBpdGVyYXRpb25zOiAxMDAwIH0pO1xuXHQgICAqL1xuXHRcdFx0Qy5QQktERjIgPSBmdW5jdGlvbiAocGFzc3dvcmQsIHNhbHQsIGNmZykge1xuXHRcdFx0XHRyZXR1cm4gUEJLREYyLmNyZWF0ZShjZmcpLmNvbXB1dGUocGFzc3dvcmQsIHNhbHQpO1xuXHRcdFx0fTtcblx0XHR9KSgpO1xuXHRcblx0XHRyZXR1cm4gQ3J5cHRvSlMuUEJLREYyO1xuXHR9KTtcblxuLyoqKi8gfSxcbi8qIDQxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXztcInVzZSBzdHJpY3RcIjtcblx0XG5cdHZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblx0XG5cdDsoZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnksIHVuZGVmKSB7XG5cdFx0aWYgKCggZmFsc2UgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZihleHBvcnRzKSkgPT09IFwib2JqZWN0XCIpIHtcblx0XHRcdC8vIENvbW1vbkpTXG5cdFx0XHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMgPSBmYWN0b3J5KF9fd2VicGFja19yZXF1aXJlX18oMSksIF9fd2VicGFja19yZXF1aXJlX18oNCksIF9fd2VicGFja19yZXF1aXJlX18oNiksIF9fd2VicGFja19yZXF1aXJlX18oNSksIF9fd2VicGFja19yZXF1aXJlX18oMikpO1xuXHRcdH0gZWxzZSBpZiAodHJ1ZSkge1xuXHRcdFx0Ly8gQU1EXG5cdFx0XHQhKF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18gPSBbX193ZWJwYWNrX3JlcXVpcmVfXygxKSwgX193ZWJwYWNrX3JlcXVpcmVfXyg0KSwgX193ZWJwYWNrX3JlcXVpcmVfXyg2KSwgX193ZWJwYWNrX3JlcXVpcmVfXyg1KSwgX193ZWJwYWNrX3JlcXVpcmVfXygyKV0sIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyA9IChmYWN0b3J5KSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gPSAodHlwZW9mIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyA9PT0gJ2Z1bmN0aW9uJyA/IChfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18uYXBwbHkoZXhwb3J0cywgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXykpIDogX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fKSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gIT09IHVuZGVmaW5lZCAmJiAobW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXykpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBHbG9iYWwgKGJyb3dzZXIpXG5cdFx0XHRmYWN0b3J5KHJvb3QuQ3J5cHRvSlMpO1xuXHRcdH1cblx0fSkodW5kZWZpbmVkLCBmdW5jdGlvbiAoQ3J5cHRvSlMpIHtcblx0XG5cdFx0KGZ1bmN0aW9uICgpIHtcblx0XHRcdC8vIFNob3J0Y3V0c1xuXHRcdFx0dmFyIEMgPSBDcnlwdG9KUztcblx0XHRcdHZhciBDX2xpYiA9IEMubGliO1xuXHRcdFx0dmFyIFN0cmVhbUNpcGhlciA9IENfbGliLlN0cmVhbUNpcGhlcjtcblx0XHRcdHZhciBDX2FsZ28gPSBDLmFsZ287XG5cdFxuXHRcdFx0Ly8gUmV1c2FibGUgb2JqZWN0c1xuXHRcdFx0dmFyIFMgPSBbXTtcblx0XHRcdHZhciBDXyA9IFtdO1xuXHRcdFx0dmFyIEcgPSBbXTtcblx0XG5cdFx0XHQvKipcblx0ICAgKiBSYWJiaXQgc3RyZWFtIGNpcGhlciBhbGdvcml0aG0uXG5cdCAgICpcblx0ICAgKiBUaGlzIGlzIGEgbGVnYWN5IHZlcnNpb24gdGhhdCBuZWdsZWN0ZWQgdG8gY29udmVydCB0aGUga2V5IHRvIGxpdHRsZS1lbmRpYW4uXG5cdCAgICogVGhpcyBlcnJvciBkb2Vzbid0IGFmZmVjdCB0aGUgY2lwaGVyJ3Mgc2VjdXJpdHksXG5cdCAgICogYnV0IGl0IGRvZXMgYWZmZWN0IGl0cyBjb21wYXRpYmlsaXR5IHdpdGggb3RoZXIgaW1wbGVtZW50YXRpb25zLlxuXHQgICAqL1xuXHRcdFx0dmFyIFJhYmJpdExlZ2FjeSA9IENfYWxnby5SYWJiaXRMZWdhY3kgPSBTdHJlYW1DaXBoZXIuZXh0ZW5kKHtcblx0XHRcdFx0X2RvUmVzZXQ6IGZ1bmN0aW9uIF9kb1Jlc2V0KCkge1xuXHRcdFx0XHRcdC8vIFNob3J0Y3V0c1xuXHRcdFx0XHRcdHZhciBLID0gdGhpcy5fa2V5LndvcmRzO1xuXHRcdFx0XHRcdHZhciBpdiA9IHRoaXMuY2ZnLml2O1xuXHRcblx0XHRcdFx0XHQvLyBHZW5lcmF0ZSBpbml0aWFsIHN0YXRlIHZhbHVlc1xuXHRcdFx0XHRcdHZhciBYID0gdGhpcy5fWCA9IFtLWzBdLCBLWzNdIDw8IDE2IHwgS1syXSA+Pj4gMTYsIEtbMV0sIEtbMF0gPDwgMTYgfCBLWzNdID4+PiAxNiwgS1syXSwgS1sxXSA8PCAxNiB8IEtbMF0gPj4+IDE2LCBLWzNdLCBLWzJdIDw8IDE2IHwgS1sxXSA+Pj4gMTZdO1xuXHRcblx0XHRcdFx0XHQvLyBHZW5lcmF0ZSBpbml0aWFsIGNvdW50ZXIgdmFsdWVzXG5cdFx0XHRcdFx0dmFyIEMgPSB0aGlzLl9DID0gW0tbMl0gPDwgMTYgfCBLWzJdID4+PiAxNiwgS1swXSAmIDB4ZmZmZjAwMDAgfCBLWzFdICYgMHgwMDAwZmZmZiwgS1szXSA8PCAxNiB8IEtbM10gPj4+IDE2LCBLWzFdICYgMHhmZmZmMDAwMCB8IEtbMl0gJiAweDAwMDBmZmZmLCBLWzBdIDw8IDE2IHwgS1swXSA+Pj4gMTYsIEtbMl0gJiAweGZmZmYwMDAwIHwgS1szXSAmIDB4MDAwMGZmZmYsIEtbMV0gPDwgMTYgfCBLWzFdID4+PiAxNiwgS1szXSAmIDB4ZmZmZjAwMDAgfCBLWzBdICYgMHgwMDAwZmZmZl07XG5cdFxuXHRcdFx0XHRcdC8vIENhcnJ5IGJpdFxuXHRcdFx0XHRcdHRoaXMuX2IgPSAwO1xuXHRcblx0XHRcdFx0XHQvLyBJdGVyYXRlIHRoZSBzeXN0ZW0gZm91ciB0aW1lc1xuXHRcdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgNDsgaSsrKSB7XG5cdFx0XHRcdFx0XHRuZXh0U3RhdGUuY2FsbCh0aGlzKTtcblx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdC8vIE1vZGlmeSB0aGUgY291bnRlcnNcblx0XHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IDg7IGkrKykge1xuXHRcdFx0XHRcdFx0Q1tpXSBePSBYW2kgKyA0ICYgN107XG5cdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHQvLyBJViBzZXR1cFxuXHRcdFx0XHRcdGlmIChpdikge1xuXHRcdFx0XHRcdFx0Ly8gU2hvcnRjdXRzXG5cdFx0XHRcdFx0XHR2YXIgSVYgPSBpdi53b3Jkcztcblx0XHRcdFx0XHRcdHZhciBJVl8wID0gSVZbMF07XG5cdFx0XHRcdFx0XHR2YXIgSVZfMSA9IElWWzFdO1xuXHRcblx0XHRcdFx0XHRcdC8vIEdlbmVyYXRlIGZvdXIgc3VidmVjdG9yc1xuXHRcdFx0XHRcdFx0dmFyIGkwID0gKElWXzAgPDwgOCB8IElWXzAgPj4+IDI0KSAmIDB4MDBmZjAwZmYgfCAoSVZfMCA8PCAyNCB8IElWXzAgPj4+IDgpICYgMHhmZjAwZmYwMDtcblx0XHRcdFx0XHRcdHZhciBpMiA9IChJVl8xIDw8IDggfCBJVl8xID4+PiAyNCkgJiAweDAwZmYwMGZmIHwgKElWXzEgPDwgMjQgfCBJVl8xID4+PiA4KSAmIDB4ZmYwMGZmMDA7XG5cdFx0XHRcdFx0XHR2YXIgaTEgPSBpMCA+Pj4gMTYgfCBpMiAmIDB4ZmZmZjAwMDA7XG5cdFx0XHRcdFx0XHR2YXIgaTMgPSBpMiA8PCAxNiB8IGkwICYgMHgwMDAwZmZmZjtcblx0XG5cdFx0XHRcdFx0XHQvLyBNb2RpZnkgY291bnRlciB2YWx1ZXNcblx0XHRcdFx0XHRcdENbMF0gXj0gaTA7XG5cdFx0XHRcdFx0XHRDWzFdIF49IGkxO1xuXHRcdFx0XHRcdFx0Q1syXSBePSBpMjtcblx0XHRcdFx0XHRcdENbM10gXj0gaTM7XG5cdFx0XHRcdFx0XHRDWzRdIF49IGkwO1xuXHRcdFx0XHRcdFx0Q1s1XSBePSBpMTtcblx0XHRcdFx0XHRcdENbNl0gXj0gaTI7XG5cdFx0XHRcdFx0XHRDWzddIF49IGkzO1xuXHRcblx0XHRcdFx0XHRcdC8vIEl0ZXJhdGUgdGhlIHN5c3RlbSBmb3VyIHRpbWVzXG5cdFx0XHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IDQ7IGkrKykge1xuXHRcdFx0XHRcdFx0XHRuZXh0U3RhdGUuY2FsbCh0aGlzKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sXG5cdFxuXHRcdFx0XHRfZG9Qcm9jZXNzQmxvY2s6IGZ1bmN0aW9uIF9kb1Byb2Nlc3NCbG9jayhNLCBvZmZzZXQpIHtcblx0XHRcdFx0XHQvLyBTaG9ydGN1dFxuXHRcdFx0XHRcdHZhciBYID0gdGhpcy5fWDtcblx0XG5cdFx0XHRcdFx0Ly8gSXRlcmF0ZSB0aGUgc3lzdGVtXG5cdFx0XHRcdFx0bmV4dFN0YXRlLmNhbGwodGhpcyk7XG5cdFxuXHRcdFx0XHRcdC8vIEdlbmVyYXRlIGZvdXIga2V5c3RyZWFtIHdvcmRzXG5cdFx0XHRcdFx0U1swXSA9IFhbMF0gXiBYWzVdID4+PiAxNiBeIFhbM10gPDwgMTY7XG5cdFx0XHRcdFx0U1sxXSA9IFhbMl0gXiBYWzddID4+PiAxNiBeIFhbNV0gPDwgMTY7XG5cdFx0XHRcdFx0U1syXSA9IFhbNF0gXiBYWzFdID4+PiAxNiBeIFhbN10gPDwgMTY7XG5cdFx0XHRcdFx0U1szXSA9IFhbNl0gXiBYWzNdID4+PiAxNiBeIFhbMV0gPDwgMTY7XG5cdFxuXHRcdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgNDsgaSsrKSB7XG5cdFx0XHRcdFx0XHQvLyBTd2FwIGVuZGlhblxuXHRcdFx0XHRcdFx0U1tpXSA9IChTW2ldIDw8IDggfCBTW2ldID4+PiAyNCkgJiAweDAwZmYwMGZmIHwgKFNbaV0gPDwgMjQgfCBTW2ldID4+PiA4KSAmIDB4ZmYwMGZmMDA7XG5cdFxuXHRcdFx0XHRcdFx0Ly8gRW5jcnlwdFxuXHRcdFx0XHRcdFx0TVtvZmZzZXQgKyBpXSBePSBTW2ldO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSxcblx0XG5cdFx0XHRcdGJsb2NrU2l6ZTogMTI4IC8gMzIsXG5cdFxuXHRcdFx0XHRpdlNpemU6IDY0IC8gMzJcblx0XHRcdH0pO1xuXHRcblx0XHRcdGZ1bmN0aW9uIG5leHRTdGF0ZSgpIHtcblx0XHRcdFx0Ly8gU2hvcnRjdXRzXG5cdFx0XHRcdHZhciBYID0gdGhpcy5fWDtcblx0XHRcdFx0dmFyIEMgPSB0aGlzLl9DO1xuXHRcblx0XHRcdFx0Ly8gU2F2ZSBvbGQgY291bnRlciB2YWx1ZXNcblx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCA4OyBpKyspIHtcblx0XHRcdFx0XHRDX1tpXSA9IENbaV07XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdC8vIENhbGN1bGF0ZSBuZXcgY291bnRlciB2YWx1ZXNcblx0XHRcdFx0Q1swXSA9IENbMF0gKyAweDRkMzRkMzRkICsgdGhpcy5fYiB8IDA7XG5cdFx0XHRcdENbMV0gPSBDWzFdICsgMHhkMzRkMzRkMyArIChDWzBdID4+PiAwIDwgQ19bMF0gPj4+IDAgPyAxIDogMCkgfCAwO1xuXHRcdFx0XHRDWzJdID0gQ1syXSArIDB4MzRkMzRkMzQgKyAoQ1sxXSA+Pj4gMCA8IENfWzFdID4+PiAwID8gMSA6IDApIHwgMDtcblx0XHRcdFx0Q1szXSA9IENbM10gKyAweDRkMzRkMzRkICsgKENbMl0gPj4+IDAgPCBDX1syXSA+Pj4gMCA/IDEgOiAwKSB8IDA7XG5cdFx0XHRcdENbNF0gPSBDWzRdICsgMHhkMzRkMzRkMyArIChDWzNdID4+PiAwIDwgQ19bM10gPj4+IDAgPyAxIDogMCkgfCAwO1xuXHRcdFx0XHRDWzVdID0gQ1s1XSArIDB4MzRkMzRkMzQgKyAoQ1s0XSA+Pj4gMCA8IENfWzRdID4+PiAwID8gMSA6IDApIHwgMDtcblx0XHRcdFx0Q1s2XSA9IENbNl0gKyAweDRkMzRkMzRkICsgKENbNV0gPj4+IDAgPCBDX1s1XSA+Pj4gMCA/IDEgOiAwKSB8IDA7XG5cdFx0XHRcdENbN10gPSBDWzddICsgMHhkMzRkMzRkMyArIChDWzZdID4+PiAwIDwgQ19bNl0gPj4+IDAgPyAxIDogMCkgfCAwO1xuXHRcdFx0XHR0aGlzLl9iID0gQ1s3XSA+Pj4gMCA8IENfWzddID4+PiAwID8gMSA6IDA7XG5cdFxuXHRcdFx0XHQvLyBDYWxjdWxhdGUgdGhlIGctdmFsdWVzXG5cdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgODsgaSsrKSB7XG5cdFx0XHRcdFx0dmFyIGd4ID0gWFtpXSArIENbaV07XG5cdFxuXHRcdFx0XHRcdC8vIENvbnN0cnVjdCBoaWdoIGFuZCBsb3cgYXJndW1lbnQgZm9yIHNxdWFyaW5nXG5cdFx0XHRcdFx0dmFyIGdhID0gZ3ggJiAweGZmZmY7XG5cdFx0XHRcdFx0dmFyIGdiID0gZ3ggPj4+IDE2O1xuXHRcblx0XHRcdFx0XHQvLyBDYWxjdWxhdGUgaGlnaCBhbmQgbG93IHJlc3VsdCBvZiBzcXVhcmluZ1xuXHRcdFx0XHRcdHZhciBnaCA9ICgoZ2EgKiBnYSA+Pj4gMTcpICsgZ2EgKiBnYiA+Pj4gMTUpICsgZ2IgKiBnYjtcblx0XHRcdFx0XHR2YXIgZ2wgPSAoKGd4ICYgMHhmZmZmMDAwMCkgKiBneCB8IDApICsgKChneCAmIDB4MDAwMGZmZmYpICogZ3ggfCAwKTtcblx0XG5cdFx0XHRcdFx0Ly8gSGlnaCBYT1IgbG93XG5cdFx0XHRcdFx0R1tpXSA9IGdoIF4gZ2w7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdC8vIENhbGN1bGF0ZSBuZXcgc3RhdGUgdmFsdWVzXG5cdFx0XHRcdFhbMF0gPSBHWzBdICsgKEdbN10gPDwgMTYgfCBHWzddID4+PiAxNikgKyAoR1s2XSA8PCAxNiB8IEdbNl0gPj4+IDE2KSB8IDA7XG5cdFx0XHRcdFhbMV0gPSBHWzFdICsgKEdbMF0gPDwgOCB8IEdbMF0gPj4+IDI0KSArIEdbN10gfCAwO1xuXHRcdFx0XHRYWzJdID0gR1syXSArIChHWzFdIDw8IDE2IHwgR1sxXSA+Pj4gMTYpICsgKEdbMF0gPDwgMTYgfCBHWzBdID4+PiAxNikgfCAwO1xuXHRcdFx0XHRYWzNdID0gR1szXSArIChHWzJdIDw8IDggfCBHWzJdID4+PiAyNCkgKyBHWzFdIHwgMDtcblx0XHRcdFx0WFs0XSA9IEdbNF0gKyAoR1szXSA8PCAxNiB8IEdbM10gPj4+IDE2KSArIChHWzJdIDw8IDE2IHwgR1syXSA+Pj4gMTYpIHwgMDtcblx0XHRcdFx0WFs1XSA9IEdbNV0gKyAoR1s0XSA8PCA4IHwgR1s0XSA+Pj4gMjQpICsgR1szXSB8IDA7XG5cdFx0XHRcdFhbNl0gPSBHWzZdICsgKEdbNV0gPDwgMTYgfCBHWzVdID4+PiAxNikgKyAoR1s0XSA8PCAxNiB8IEdbNF0gPj4+IDE2KSB8IDA7XG5cdFx0XHRcdFhbN10gPSBHWzddICsgKEdbNl0gPDwgOCB8IEdbNl0gPj4+IDI0KSArIEdbNV0gfCAwO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8qKlxuXHQgICAqIFNob3J0Y3V0IGZ1bmN0aW9ucyB0byB0aGUgY2lwaGVyJ3Mgb2JqZWN0IGludGVyZmFjZS5cblx0ICAgKlxuXHQgICAqIEBleGFtcGxlXG5cdCAgICpcblx0ICAgKiAgICAgdmFyIGNpcGhlcnRleHQgPSBDcnlwdG9KUy5SYWJiaXRMZWdhY3kuZW5jcnlwdChtZXNzYWdlLCBrZXksIGNmZyk7XG5cdCAgICogICAgIHZhciBwbGFpbnRleHQgID0gQ3J5cHRvSlMuUmFiYml0TGVnYWN5LmRlY3J5cHQoY2lwaGVydGV4dCwga2V5LCBjZmcpO1xuXHQgICAqL1xuXHRcdFx0Qy5SYWJiaXRMZWdhY3kgPSBTdHJlYW1DaXBoZXIuX2NyZWF0ZUhlbHBlcihSYWJiaXRMZWdhY3kpO1xuXHRcdH0pKCk7XG5cdFxuXHRcdHJldHVybiBDcnlwdG9KUy5SYWJiaXRMZWdhY3k7XG5cdH0pO1xuXG4vKioqLyB9LFxuLyogNDIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18sIF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18sIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fO1widXNlIHN0cmljdFwiO1xuXHRcblx0dmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXHRcblx0OyhmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSwgdW5kZWYpIHtcblx0XHRpZiAoKCBmYWxzZSA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKGV4cG9ydHMpKSA9PT0gXCJvYmplY3RcIikge1xuXHRcdFx0Ly8gQ29tbW9uSlNcblx0XHRcdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0cyA9IGZhY3RvcnkoX193ZWJwYWNrX3JlcXVpcmVfXygxKSwgX193ZWJwYWNrX3JlcXVpcmVfXyg0KSwgX193ZWJwYWNrX3JlcXVpcmVfXyg2KSwgX193ZWJwYWNrX3JlcXVpcmVfXyg1KSwgX193ZWJwYWNrX3JlcXVpcmVfXygyKSk7XG5cdFx0fSBlbHNlIGlmICh0cnVlKSB7XG5cdFx0XHQvLyBBTURcblx0XHRcdCEoX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXyA9IFtfX3dlYnBhY2tfcmVxdWlyZV9fKDEpLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpXSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fID0gKGZhY3RvcnkpLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyA9ICh0eXBlb2YgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fID09PSAnZnVuY3Rpb24nID8gKF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXy5hcHBseShleHBvcnRzLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fKSkgOiBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18pLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyAhPT0gdW5kZWZpbmVkICYmIChtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fKSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIEdsb2JhbCAoYnJvd3Nlcilcblx0XHRcdGZhY3Rvcnkocm9vdC5DcnlwdG9KUyk7XG5cdFx0fVxuXHR9KSh1bmRlZmluZWQsIGZ1bmN0aW9uIChDcnlwdG9KUykge1xuXHRcblx0XHQoZnVuY3Rpb24gKCkge1xuXHRcdFx0Ly8gU2hvcnRjdXRzXG5cdFx0XHR2YXIgQyA9IENyeXB0b0pTO1xuXHRcdFx0dmFyIENfbGliID0gQy5saWI7XG5cdFx0XHR2YXIgU3RyZWFtQ2lwaGVyID0gQ19saWIuU3RyZWFtQ2lwaGVyO1xuXHRcdFx0dmFyIENfYWxnbyA9IEMuYWxnbztcblx0XG5cdFx0XHQvLyBSZXVzYWJsZSBvYmplY3RzXG5cdFx0XHR2YXIgUyA9IFtdO1xuXHRcdFx0dmFyIENfID0gW107XG5cdFx0XHR2YXIgRyA9IFtdO1xuXHRcblx0XHRcdC8qKlxuXHQgICAqIFJhYmJpdCBzdHJlYW0gY2lwaGVyIGFsZ29yaXRobVxuXHQgICAqL1xuXHRcdFx0dmFyIFJhYmJpdCA9IENfYWxnby5SYWJiaXQgPSBTdHJlYW1DaXBoZXIuZXh0ZW5kKHtcblx0XHRcdFx0X2RvUmVzZXQ6IGZ1bmN0aW9uIF9kb1Jlc2V0KCkge1xuXHRcdFx0XHRcdC8vIFNob3J0Y3V0c1xuXHRcdFx0XHRcdHZhciBLID0gdGhpcy5fa2V5LndvcmRzO1xuXHRcdFx0XHRcdHZhciBpdiA9IHRoaXMuY2ZnLml2O1xuXHRcblx0XHRcdFx0XHQvLyBTd2FwIGVuZGlhblxuXHRcdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgNDsgaSsrKSB7XG5cdFx0XHRcdFx0XHRLW2ldID0gKEtbaV0gPDwgOCB8IEtbaV0gPj4+IDI0KSAmIDB4MDBmZjAwZmYgfCAoS1tpXSA8PCAyNCB8IEtbaV0gPj4+IDgpICYgMHhmZjAwZmYwMDtcblx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdC8vIEdlbmVyYXRlIGluaXRpYWwgc3RhdGUgdmFsdWVzXG5cdFx0XHRcdFx0dmFyIFggPSB0aGlzLl9YID0gW0tbMF0sIEtbM10gPDwgMTYgfCBLWzJdID4+PiAxNiwgS1sxXSwgS1swXSA8PCAxNiB8IEtbM10gPj4+IDE2LCBLWzJdLCBLWzFdIDw8IDE2IHwgS1swXSA+Pj4gMTYsIEtbM10sIEtbMl0gPDwgMTYgfCBLWzFdID4+PiAxNl07XG5cdFxuXHRcdFx0XHRcdC8vIEdlbmVyYXRlIGluaXRpYWwgY291bnRlciB2YWx1ZXNcblx0XHRcdFx0XHR2YXIgQyA9IHRoaXMuX0MgPSBbS1syXSA8PCAxNiB8IEtbMl0gPj4+IDE2LCBLWzBdICYgMHhmZmZmMDAwMCB8IEtbMV0gJiAweDAwMDBmZmZmLCBLWzNdIDw8IDE2IHwgS1szXSA+Pj4gMTYsIEtbMV0gJiAweGZmZmYwMDAwIHwgS1syXSAmIDB4MDAwMGZmZmYsIEtbMF0gPDwgMTYgfCBLWzBdID4+PiAxNiwgS1syXSAmIDB4ZmZmZjAwMDAgfCBLWzNdICYgMHgwMDAwZmZmZiwgS1sxXSA8PCAxNiB8IEtbMV0gPj4+IDE2LCBLWzNdICYgMHhmZmZmMDAwMCB8IEtbMF0gJiAweDAwMDBmZmZmXTtcblx0XG5cdFx0XHRcdFx0Ly8gQ2FycnkgYml0XG5cdFx0XHRcdFx0dGhpcy5fYiA9IDA7XG5cdFxuXHRcdFx0XHRcdC8vIEl0ZXJhdGUgdGhlIHN5c3RlbSBmb3VyIHRpbWVzXG5cdFx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCA0OyBpKyspIHtcblx0XHRcdFx0XHRcdG5leHRTdGF0ZS5jYWxsKHRoaXMpO1xuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0Ly8gTW9kaWZ5IHRoZSBjb3VudGVyc1xuXHRcdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgODsgaSsrKSB7XG5cdFx0XHRcdFx0XHRDW2ldIF49IFhbaSArIDQgJiA3XTtcblx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdC8vIElWIHNldHVwXG5cdFx0XHRcdFx0aWYgKGl2KSB7XG5cdFx0XHRcdFx0XHQvLyBTaG9ydGN1dHNcblx0XHRcdFx0XHRcdHZhciBJViA9IGl2LndvcmRzO1xuXHRcdFx0XHRcdFx0dmFyIElWXzAgPSBJVlswXTtcblx0XHRcdFx0XHRcdHZhciBJVl8xID0gSVZbMV07XG5cdFxuXHRcdFx0XHRcdFx0Ly8gR2VuZXJhdGUgZm91ciBzdWJ2ZWN0b3JzXG5cdFx0XHRcdFx0XHR2YXIgaTAgPSAoSVZfMCA8PCA4IHwgSVZfMCA+Pj4gMjQpICYgMHgwMGZmMDBmZiB8IChJVl8wIDw8IDI0IHwgSVZfMCA+Pj4gOCkgJiAweGZmMDBmZjAwO1xuXHRcdFx0XHRcdFx0dmFyIGkyID0gKElWXzEgPDwgOCB8IElWXzEgPj4+IDI0KSAmIDB4MDBmZjAwZmYgfCAoSVZfMSA8PCAyNCB8IElWXzEgPj4+IDgpICYgMHhmZjAwZmYwMDtcblx0XHRcdFx0XHRcdHZhciBpMSA9IGkwID4+PiAxNiB8IGkyICYgMHhmZmZmMDAwMDtcblx0XHRcdFx0XHRcdHZhciBpMyA9IGkyIDw8IDE2IHwgaTAgJiAweDAwMDBmZmZmO1xuXHRcblx0XHRcdFx0XHRcdC8vIE1vZGlmeSBjb3VudGVyIHZhbHVlc1xuXHRcdFx0XHRcdFx0Q1swXSBePSBpMDtcblx0XHRcdFx0XHRcdENbMV0gXj0gaTE7XG5cdFx0XHRcdFx0XHRDWzJdIF49IGkyO1xuXHRcdFx0XHRcdFx0Q1szXSBePSBpMztcblx0XHRcdFx0XHRcdENbNF0gXj0gaTA7XG5cdFx0XHRcdFx0XHRDWzVdIF49IGkxO1xuXHRcdFx0XHRcdFx0Q1s2XSBePSBpMjtcblx0XHRcdFx0XHRcdENbN10gXj0gaTM7XG5cdFxuXHRcdFx0XHRcdFx0Ly8gSXRlcmF0ZSB0aGUgc3lzdGVtIGZvdXIgdGltZXNcblx0XHRcdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgNDsgaSsrKSB7XG5cdFx0XHRcdFx0XHRcdG5leHRTdGF0ZS5jYWxsKHRoaXMpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSxcblx0XG5cdFx0XHRcdF9kb1Byb2Nlc3NCbG9jazogZnVuY3Rpb24gX2RvUHJvY2Vzc0Jsb2NrKE0sIG9mZnNldCkge1xuXHRcdFx0XHRcdC8vIFNob3J0Y3V0XG5cdFx0XHRcdFx0dmFyIFggPSB0aGlzLl9YO1xuXHRcblx0XHRcdFx0XHQvLyBJdGVyYXRlIHRoZSBzeXN0ZW1cblx0XHRcdFx0XHRuZXh0U3RhdGUuY2FsbCh0aGlzKTtcblx0XG5cdFx0XHRcdFx0Ly8gR2VuZXJhdGUgZm91ciBrZXlzdHJlYW0gd29yZHNcblx0XHRcdFx0XHRTWzBdID0gWFswXSBeIFhbNV0gPj4+IDE2IF4gWFszXSA8PCAxNjtcblx0XHRcdFx0XHRTWzFdID0gWFsyXSBeIFhbN10gPj4+IDE2IF4gWFs1XSA8PCAxNjtcblx0XHRcdFx0XHRTWzJdID0gWFs0XSBeIFhbMV0gPj4+IDE2IF4gWFs3XSA8PCAxNjtcblx0XHRcdFx0XHRTWzNdID0gWFs2XSBeIFhbM10gPj4+IDE2IF4gWFsxXSA8PCAxNjtcblx0XG5cdFx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCA0OyBpKyspIHtcblx0XHRcdFx0XHRcdC8vIFN3YXAgZW5kaWFuXG5cdFx0XHRcdFx0XHRTW2ldID0gKFNbaV0gPDwgOCB8IFNbaV0gPj4+IDI0KSAmIDB4MDBmZjAwZmYgfCAoU1tpXSA8PCAyNCB8IFNbaV0gPj4+IDgpICYgMHhmZjAwZmYwMDtcblx0XG5cdFx0XHRcdFx0XHQvLyBFbmNyeXB0XG5cdFx0XHRcdFx0XHRNW29mZnNldCArIGldIF49IFNbaV07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXHRcblx0XHRcdFx0YmxvY2tTaXplOiAxMjggLyAzMixcblx0XG5cdFx0XHRcdGl2U2l6ZTogNjQgLyAzMlxuXHRcdFx0fSk7XG5cdFxuXHRcdFx0ZnVuY3Rpb24gbmV4dFN0YXRlKCkge1xuXHRcdFx0XHQvLyBTaG9ydGN1dHNcblx0XHRcdFx0dmFyIFggPSB0aGlzLl9YO1xuXHRcdFx0XHR2YXIgQyA9IHRoaXMuX0M7XG5cdFxuXHRcdFx0XHQvLyBTYXZlIG9sZCBjb3VudGVyIHZhbHVlc1xuXHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IDg7IGkrKykge1xuXHRcdFx0XHRcdENfW2ldID0gQ1tpXTtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Ly8gQ2FsY3VsYXRlIG5ldyBjb3VudGVyIHZhbHVlc1xuXHRcdFx0XHRDWzBdID0gQ1swXSArIDB4NGQzNGQzNGQgKyB0aGlzLl9iIHwgMDtcblx0XHRcdFx0Q1sxXSA9IENbMV0gKyAweGQzNGQzNGQzICsgKENbMF0gPj4+IDAgPCBDX1swXSA+Pj4gMCA/IDEgOiAwKSB8IDA7XG5cdFx0XHRcdENbMl0gPSBDWzJdICsgMHgzNGQzNGQzNCArIChDWzFdID4+PiAwIDwgQ19bMV0gPj4+IDAgPyAxIDogMCkgfCAwO1xuXHRcdFx0XHRDWzNdID0gQ1szXSArIDB4NGQzNGQzNGQgKyAoQ1syXSA+Pj4gMCA8IENfWzJdID4+PiAwID8gMSA6IDApIHwgMDtcblx0XHRcdFx0Q1s0XSA9IENbNF0gKyAweGQzNGQzNGQzICsgKENbM10gPj4+IDAgPCBDX1szXSA+Pj4gMCA/IDEgOiAwKSB8IDA7XG5cdFx0XHRcdENbNV0gPSBDWzVdICsgMHgzNGQzNGQzNCArIChDWzRdID4+PiAwIDwgQ19bNF0gPj4+IDAgPyAxIDogMCkgfCAwO1xuXHRcdFx0XHRDWzZdID0gQ1s2XSArIDB4NGQzNGQzNGQgKyAoQ1s1XSA+Pj4gMCA8IENfWzVdID4+PiAwID8gMSA6IDApIHwgMDtcblx0XHRcdFx0Q1s3XSA9IENbN10gKyAweGQzNGQzNGQzICsgKENbNl0gPj4+IDAgPCBDX1s2XSA+Pj4gMCA/IDEgOiAwKSB8IDA7XG5cdFx0XHRcdHRoaXMuX2IgPSBDWzddID4+PiAwIDwgQ19bN10gPj4+IDAgPyAxIDogMDtcblx0XG5cdFx0XHRcdC8vIENhbGN1bGF0ZSB0aGUgZy12YWx1ZXNcblx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCA4OyBpKyspIHtcblx0XHRcdFx0XHR2YXIgZ3ggPSBYW2ldICsgQ1tpXTtcblx0XG5cdFx0XHRcdFx0Ly8gQ29uc3RydWN0IGhpZ2ggYW5kIGxvdyBhcmd1bWVudCBmb3Igc3F1YXJpbmdcblx0XHRcdFx0XHR2YXIgZ2EgPSBneCAmIDB4ZmZmZjtcblx0XHRcdFx0XHR2YXIgZ2IgPSBneCA+Pj4gMTY7XG5cdFxuXHRcdFx0XHRcdC8vIENhbGN1bGF0ZSBoaWdoIGFuZCBsb3cgcmVzdWx0IG9mIHNxdWFyaW5nXG5cdFx0XHRcdFx0dmFyIGdoID0gKChnYSAqIGdhID4+PiAxNykgKyBnYSAqIGdiID4+PiAxNSkgKyBnYiAqIGdiO1xuXHRcdFx0XHRcdHZhciBnbCA9ICgoZ3ggJiAweGZmZmYwMDAwKSAqIGd4IHwgMCkgKyAoKGd4ICYgMHgwMDAwZmZmZikgKiBneCB8IDApO1xuXHRcblx0XHRcdFx0XHQvLyBIaWdoIFhPUiBsb3dcblx0XHRcdFx0XHRHW2ldID0gZ2ggXiBnbDtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Ly8gQ2FsY3VsYXRlIG5ldyBzdGF0ZSB2YWx1ZXNcblx0XHRcdFx0WFswXSA9IEdbMF0gKyAoR1s3XSA8PCAxNiB8IEdbN10gPj4+IDE2KSArIChHWzZdIDw8IDE2IHwgR1s2XSA+Pj4gMTYpIHwgMDtcblx0XHRcdFx0WFsxXSA9IEdbMV0gKyAoR1swXSA8PCA4IHwgR1swXSA+Pj4gMjQpICsgR1s3XSB8IDA7XG5cdFx0XHRcdFhbMl0gPSBHWzJdICsgKEdbMV0gPDwgMTYgfCBHWzFdID4+PiAxNikgKyAoR1swXSA8PCAxNiB8IEdbMF0gPj4+IDE2KSB8IDA7XG5cdFx0XHRcdFhbM10gPSBHWzNdICsgKEdbMl0gPDwgOCB8IEdbMl0gPj4+IDI0KSArIEdbMV0gfCAwO1xuXHRcdFx0XHRYWzRdID0gR1s0XSArIChHWzNdIDw8IDE2IHwgR1szXSA+Pj4gMTYpICsgKEdbMl0gPDwgMTYgfCBHWzJdID4+PiAxNikgfCAwO1xuXHRcdFx0XHRYWzVdID0gR1s1XSArIChHWzRdIDw8IDggfCBHWzRdID4+PiAyNCkgKyBHWzNdIHwgMDtcblx0XHRcdFx0WFs2XSA9IEdbNl0gKyAoR1s1XSA8PCAxNiB8IEdbNV0gPj4+IDE2KSArIChHWzRdIDw8IDE2IHwgR1s0XSA+Pj4gMTYpIHwgMDtcblx0XHRcdFx0WFs3XSA9IEdbN10gKyAoR1s2XSA8PCA4IHwgR1s2XSA+Pj4gMjQpICsgR1s1XSB8IDA7XG5cdFx0XHR9XG5cdFxuXHRcdFx0LyoqXG5cdCAgICogU2hvcnRjdXQgZnVuY3Rpb25zIHRvIHRoZSBjaXBoZXIncyBvYmplY3QgaW50ZXJmYWNlLlxuXHQgICAqXG5cdCAgICogQGV4YW1wbGVcblx0ICAgKlxuXHQgICAqICAgICB2YXIgY2lwaGVydGV4dCA9IENyeXB0b0pTLlJhYmJpdC5lbmNyeXB0KG1lc3NhZ2UsIGtleSwgY2ZnKTtcblx0ICAgKiAgICAgdmFyIHBsYWludGV4dCAgPSBDcnlwdG9KUy5SYWJiaXQuZGVjcnlwdChjaXBoZXJ0ZXh0LCBrZXksIGNmZyk7XG5cdCAgICovXG5cdFx0XHRDLlJhYmJpdCA9IFN0cmVhbUNpcGhlci5fY3JlYXRlSGVscGVyKFJhYmJpdCk7XG5cdFx0fSkoKTtcblx0XG5cdFx0cmV0dXJuIENyeXB0b0pTLlJhYmJpdDtcblx0fSk7XG5cbi8qKiovIH0sXG4vKiA0MyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXywgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXywgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX187XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHR2YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cdFxuXHQ7KGZ1bmN0aW9uIChyb290LCBmYWN0b3J5LCB1bmRlZikge1xuXHRcdGlmICgoIGZhbHNlID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2YoZXhwb3J0cykpID09PSBcIm9iamVjdFwiKSB7XG5cdFx0XHQvLyBDb21tb25KU1xuXHRcdFx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzID0gZmFjdG9yeShfX3dlYnBhY2tfcmVxdWlyZV9fKDEpLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpKTtcblx0XHR9IGVsc2UgaWYgKHRydWUpIHtcblx0XHRcdC8vIEFNRFxuXHRcdFx0IShfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fID0gW19fd2VicGFja19yZXF1aXJlX18oMSksIF9fd2VicGFja19yZXF1aXJlX18oNCksIF9fd2VicGFja19yZXF1aXJlX18oNiksIF9fd2VicGFja19yZXF1aXJlX18oNSksIF9fd2VicGFja19yZXF1aXJlX18oMildLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18gPSAoZmFjdG9yeSksIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fID0gKHR5cGVvZiBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18gPT09ICdmdW5jdGlvbicgPyAoX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fLmFwcGx5KGV4cG9ydHMsIF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18pKSA6IF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyksIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fICE9PSB1bmRlZmluZWQgJiYgKG1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18pKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gR2xvYmFsIChicm93c2VyKVxuXHRcdFx0ZmFjdG9yeShyb290LkNyeXB0b0pTKTtcblx0XHR9XG5cdH0pKHVuZGVmaW5lZCwgZnVuY3Rpb24gKENyeXB0b0pTKSB7XG5cdFxuXHRcdChmdW5jdGlvbiAoKSB7XG5cdFx0XHQvLyBTaG9ydGN1dHNcblx0XHRcdHZhciBDID0gQ3J5cHRvSlM7XG5cdFx0XHR2YXIgQ19saWIgPSBDLmxpYjtcblx0XHRcdHZhciBTdHJlYW1DaXBoZXIgPSBDX2xpYi5TdHJlYW1DaXBoZXI7XG5cdFx0XHR2YXIgQ19hbGdvID0gQy5hbGdvO1xuXHRcblx0XHRcdC8qKlxuXHQgICAqIFJDNCBzdHJlYW0gY2lwaGVyIGFsZ29yaXRobS5cblx0ICAgKi9cblx0XHRcdHZhciBSQzQgPSBDX2FsZ28uUkM0ID0gU3RyZWFtQ2lwaGVyLmV4dGVuZCh7XG5cdFx0XHRcdF9kb1Jlc2V0OiBmdW5jdGlvbiBfZG9SZXNldCgpIHtcblx0XHRcdFx0XHQvLyBTaG9ydGN1dHNcblx0XHRcdFx0XHR2YXIga2V5ID0gdGhpcy5fa2V5O1xuXHRcdFx0XHRcdHZhciBrZXlXb3JkcyA9IGtleS53b3Jkcztcblx0XHRcdFx0XHR2YXIga2V5U2lnQnl0ZXMgPSBrZXkuc2lnQnl0ZXM7XG5cdFxuXHRcdFx0XHRcdC8vIEluaXQgc2JveFxuXHRcdFx0XHRcdHZhciBTID0gdGhpcy5fUyA9IFtdO1xuXHRcdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgMjU2OyBpKyspIHtcblx0XHRcdFx0XHRcdFNbaV0gPSBpO1xuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0Ly8gS2V5IHNldHVwXG5cdFx0XHRcdFx0Zm9yICh2YXIgaSA9IDAsIGogPSAwOyBpIDwgMjU2OyBpKyspIHtcblx0XHRcdFx0XHRcdHZhciBrZXlCeXRlSW5kZXggPSBpICUga2V5U2lnQnl0ZXM7XG5cdFx0XHRcdFx0XHR2YXIga2V5Qnl0ZSA9IGtleVdvcmRzW2tleUJ5dGVJbmRleCA+Pj4gMl0gPj4+IDI0IC0ga2V5Qnl0ZUluZGV4ICUgNCAqIDggJiAweGZmO1xuXHRcblx0XHRcdFx0XHRcdGogPSAoaiArIFNbaV0gKyBrZXlCeXRlKSAlIDI1Njtcblx0XG5cdFx0XHRcdFx0XHQvLyBTd2FwXG5cdFx0XHRcdFx0XHR2YXIgdCA9IFNbaV07XG5cdFx0XHRcdFx0XHRTW2ldID0gU1tqXTtcblx0XHRcdFx0XHRcdFNbal0gPSB0O1xuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0Ly8gQ291bnRlcnNcblx0XHRcdFx0XHR0aGlzLl9pID0gdGhpcy5faiA9IDA7XG5cdFx0XHRcdH0sXG5cdFxuXHRcdFx0XHRfZG9Qcm9jZXNzQmxvY2s6IGZ1bmN0aW9uIF9kb1Byb2Nlc3NCbG9jayhNLCBvZmZzZXQpIHtcblx0XHRcdFx0XHRNW29mZnNldF0gXj0gZ2VuZXJhdGVLZXlzdHJlYW1Xb3JkLmNhbGwodGhpcyk7XG5cdFx0XHRcdH0sXG5cdFxuXHRcdFx0XHRrZXlTaXplOiAyNTYgLyAzMixcblx0XG5cdFx0XHRcdGl2U2l6ZTogMFxuXHRcdFx0fSk7XG5cdFxuXHRcdFx0ZnVuY3Rpb24gZ2VuZXJhdGVLZXlzdHJlYW1Xb3JkKCkge1xuXHRcdFx0XHQvLyBTaG9ydGN1dHNcblx0XHRcdFx0dmFyIFMgPSB0aGlzLl9TO1xuXHRcdFx0XHR2YXIgaSA9IHRoaXMuX2k7XG5cdFx0XHRcdHZhciBqID0gdGhpcy5fajtcblx0XG5cdFx0XHRcdC8vIEdlbmVyYXRlIGtleXN0cmVhbSB3b3JkXG5cdFx0XHRcdHZhciBrZXlzdHJlYW1Xb3JkID0gMDtcblx0XHRcdFx0Zm9yICh2YXIgbiA9IDA7IG4gPCA0OyBuKyspIHtcblx0XHRcdFx0XHRpID0gKGkgKyAxKSAlIDI1Njtcblx0XHRcdFx0XHRqID0gKGogKyBTW2ldKSAlIDI1Njtcblx0XG5cdFx0XHRcdFx0Ly8gU3dhcFxuXHRcdFx0XHRcdHZhciB0ID0gU1tpXTtcblx0XHRcdFx0XHRTW2ldID0gU1tqXTtcblx0XHRcdFx0XHRTW2pdID0gdDtcblx0XG5cdFx0XHRcdFx0a2V5c3RyZWFtV29yZCB8PSBTWyhTW2ldICsgU1tqXSkgJSAyNTZdIDw8IDI0IC0gbiAqIDg7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdC8vIFVwZGF0ZSBjb3VudGVyc1xuXHRcdFx0XHR0aGlzLl9pID0gaTtcblx0XHRcdFx0dGhpcy5faiA9IGo7XG5cdFxuXHRcdFx0XHRyZXR1cm4ga2V5c3RyZWFtV29yZDtcblx0XHRcdH1cblx0XG5cdFx0XHQvKipcblx0ICAgKiBTaG9ydGN1dCBmdW5jdGlvbnMgdG8gdGhlIGNpcGhlcidzIG9iamVjdCBpbnRlcmZhY2UuXG5cdCAgICpcblx0ICAgKiBAZXhhbXBsZVxuXHQgICAqXG5cdCAgICogICAgIHZhciBjaXBoZXJ0ZXh0ID0gQ3J5cHRvSlMuUkM0LmVuY3J5cHQobWVzc2FnZSwga2V5LCBjZmcpO1xuXHQgICAqICAgICB2YXIgcGxhaW50ZXh0ICA9IENyeXB0b0pTLlJDNC5kZWNyeXB0KGNpcGhlcnRleHQsIGtleSwgY2ZnKTtcblx0ICAgKi9cblx0XHRcdEMuUkM0ID0gU3RyZWFtQ2lwaGVyLl9jcmVhdGVIZWxwZXIoUkM0KTtcblx0XG5cdFx0XHQvKipcblx0ICAgKiBNb2RpZmllZCBSQzQgc3RyZWFtIGNpcGhlciBhbGdvcml0aG0uXG5cdCAgICovXG5cdFx0XHR2YXIgUkM0RHJvcCA9IENfYWxnby5SQzREcm9wID0gUkM0LmV4dGVuZCh7XG5cdFx0XHRcdC8qKlxuXHQgICAgKiBDb25maWd1cmF0aW9uIG9wdGlvbnMuXG5cdCAgICAqXG5cdCAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBkcm9wIFRoZSBudW1iZXIgb2Yga2V5c3RyZWFtIHdvcmRzIHRvIGRyb3AuIERlZmF1bHQgMTkyXG5cdCAgICAqL1xuXHRcdFx0XHRjZmc6IFJDNC5jZmcuZXh0ZW5kKHtcblx0XHRcdFx0XHRkcm9wOiAxOTJcblx0XHRcdFx0fSksXG5cdFxuXHRcdFx0XHRfZG9SZXNldDogZnVuY3Rpb24gX2RvUmVzZXQoKSB7XG5cdFx0XHRcdFx0UkM0Ll9kb1Jlc2V0LmNhbGwodGhpcyk7XG5cdFxuXHRcdFx0XHRcdC8vIERyb3Bcblx0XHRcdFx0XHRmb3IgKHZhciBpID0gdGhpcy5jZmcuZHJvcDsgaSA+IDA7IGktLSkge1xuXHRcdFx0XHRcdFx0Z2VuZXJhdGVLZXlzdHJlYW1Xb3JkLmNhbGwodGhpcyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XG5cdFx0XHQvKipcblx0ICAgKiBTaG9ydGN1dCBmdW5jdGlvbnMgdG8gdGhlIGNpcGhlcidzIG9iamVjdCBpbnRlcmZhY2UuXG5cdCAgICpcblx0ICAgKiBAZXhhbXBsZVxuXHQgICAqXG5cdCAgICogICAgIHZhciBjaXBoZXJ0ZXh0ID0gQ3J5cHRvSlMuUkM0RHJvcC5lbmNyeXB0KG1lc3NhZ2UsIGtleSwgY2ZnKTtcblx0ICAgKiAgICAgdmFyIHBsYWludGV4dCAgPSBDcnlwdG9KUy5SQzREcm9wLmRlY3J5cHQoY2lwaGVydGV4dCwga2V5LCBjZmcpO1xuXHQgICAqL1xuXHRcdFx0Qy5SQzREcm9wID0gU3RyZWFtQ2lwaGVyLl9jcmVhdGVIZWxwZXIoUkM0RHJvcCk7XG5cdFx0fSkoKTtcblx0XG5cdFx0cmV0dXJuIENyeXB0b0pTLlJDNDtcblx0fSk7XG5cbi8qKiovIH0sXG4vKiA0NCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXywgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXywgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX187XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHR2YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cdFxuXHQ7KGZ1bmN0aW9uIChyb290LCBmYWN0b3J5KSB7XG5cdFx0aWYgKCggZmFsc2UgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZihleHBvcnRzKSkgPT09IFwib2JqZWN0XCIpIHtcblx0XHRcdC8vIENvbW1vbkpTXG5cdFx0XHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMgPSBmYWN0b3J5KF9fd2VicGFja19yZXF1aXJlX18oMSkpO1xuXHRcdH0gZWxzZSBpZiAodHJ1ZSkge1xuXHRcdFx0Ly8gQU1EXG5cdFx0XHQhKF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18gPSBbX193ZWJwYWNrX3JlcXVpcmVfXygxKV0sIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyA9IChmYWN0b3J5KSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gPSAodHlwZW9mIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyA9PT0gJ2Z1bmN0aW9uJyA/IChfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18uYXBwbHkoZXhwb3J0cywgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXykpIDogX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fKSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gIT09IHVuZGVmaW5lZCAmJiAobW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXykpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBHbG9iYWwgKGJyb3dzZXIpXG5cdFx0XHRmYWN0b3J5KHJvb3QuQ3J5cHRvSlMpO1xuXHRcdH1cblx0fSkodW5kZWZpbmVkLCBmdW5jdGlvbiAoQ3J5cHRvSlMpIHtcblx0XG5cdFx0LyoqIEBwcmVzZXJ2ZVxuXHQgKGMpIDIwMTIgYnkgQ8OpZHJpYyBNZXNuaWwuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5cdCBcdFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dCBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlIG1ldDpcblx0IFx0ICAgIC0gUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxuXHQgICAgIC0gUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyIGluIHRoZSBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxuXHQgXHRUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTIFwiQVMgSVNcIiBBTkQgQU5ZIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgVEhFIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFSRSBESVNDTEFJTUVELiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQ09QWVJJR0hUIEhPTERFUiBPUiBDT05UUklCVVRPUlMgQkUgTElBQkxFIEZPUiBBTlkgRElSRUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCwgU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSwgREFUQSwgT1IgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZIFRIRU9SWSBPRiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlQgKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSkgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFIE9GIFRISVMgU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEUgUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuXG5cdCAqL1xuXHRcblx0XHQoZnVuY3Rpb24gKE1hdGgpIHtcblx0XHRcdC8vIFNob3J0Y3V0c1xuXHRcdFx0dmFyIEMgPSBDcnlwdG9KUztcblx0XHRcdHZhciBDX2xpYiA9IEMubGliO1xuXHRcdFx0dmFyIFdvcmRBcnJheSA9IENfbGliLldvcmRBcnJheTtcblx0XHRcdHZhciBIYXNoZXIgPSBDX2xpYi5IYXNoZXI7XG5cdFx0XHR2YXIgQ19hbGdvID0gQy5hbGdvO1xuXHRcblx0XHRcdC8vIENvbnN0YW50cyB0YWJsZVxuXHRcdFx0dmFyIF96bCA9IFdvcmRBcnJheS5jcmVhdGUoWzAsIDEsIDIsIDMsIDQsIDUsIDYsIDcsIDgsIDksIDEwLCAxMSwgMTIsIDEzLCAxNCwgMTUsIDcsIDQsIDEzLCAxLCAxMCwgNiwgMTUsIDMsIDEyLCAwLCA5LCA1LCAyLCAxNCwgMTEsIDgsIDMsIDEwLCAxNCwgNCwgOSwgMTUsIDgsIDEsIDIsIDcsIDAsIDYsIDEzLCAxMSwgNSwgMTIsIDEsIDksIDExLCAxMCwgMCwgOCwgMTIsIDQsIDEzLCAzLCA3LCAxNSwgMTQsIDUsIDYsIDIsIDQsIDAsIDUsIDksIDcsIDEyLCAyLCAxMCwgMTQsIDEsIDMsIDgsIDExLCA2LCAxNSwgMTNdKTtcblx0XHRcdHZhciBfenIgPSBXb3JkQXJyYXkuY3JlYXRlKFs1LCAxNCwgNywgMCwgOSwgMiwgMTEsIDQsIDEzLCA2LCAxNSwgOCwgMSwgMTAsIDMsIDEyLCA2LCAxMSwgMywgNywgMCwgMTMsIDUsIDEwLCAxNCwgMTUsIDgsIDEyLCA0LCA5LCAxLCAyLCAxNSwgNSwgMSwgMywgNywgMTQsIDYsIDksIDExLCA4LCAxMiwgMiwgMTAsIDAsIDQsIDEzLCA4LCA2LCA0LCAxLCAzLCAxMSwgMTUsIDAsIDUsIDEyLCAyLCAxMywgOSwgNywgMTAsIDE0LCAxMiwgMTUsIDEwLCA0LCAxLCA1LCA4LCA3LCA2LCAyLCAxMywgMTQsIDAsIDMsIDksIDExXSk7XG5cdFx0XHR2YXIgX3NsID0gV29yZEFycmF5LmNyZWF0ZShbMTEsIDE0LCAxNSwgMTIsIDUsIDgsIDcsIDksIDExLCAxMywgMTQsIDE1LCA2LCA3LCA5LCA4LCA3LCA2LCA4LCAxMywgMTEsIDksIDcsIDE1LCA3LCAxMiwgMTUsIDksIDExLCA3LCAxMywgMTIsIDExLCAxMywgNiwgNywgMTQsIDksIDEzLCAxNSwgMTQsIDgsIDEzLCA2LCA1LCAxMiwgNywgNSwgMTEsIDEyLCAxNCwgMTUsIDE0LCAxNSwgOSwgOCwgOSwgMTQsIDUsIDYsIDgsIDYsIDUsIDEyLCA5LCAxNSwgNSwgMTEsIDYsIDgsIDEzLCAxMiwgNSwgMTIsIDEzLCAxNCwgMTEsIDgsIDUsIDZdKTtcblx0XHRcdHZhciBfc3IgPSBXb3JkQXJyYXkuY3JlYXRlKFs4LCA5LCA5LCAxMSwgMTMsIDE1LCAxNSwgNSwgNywgNywgOCwgMTEsIDE0LCAxNCwgMTIsIDYsIDksIDEzLCAxNSwgNywgMTIsIDgsIDksIDExLCA3LCA3LCAxMiwgNywgNiwgMTUsIDEzLCAxMSwgOSwgNywgMTUsIDExLCA4LCA2LCA2LCAxNCwgMTIsIDEzLCA1LCAxNCwgMTMsIDEzLCA3LCA1LCAxNSwgNSwgOCwgMTEsIDE0LCAxNCwgNiwgMTQsIDYsIDksIDEyLCA5LCAxMiwgNSwgMTUsIDgsIDgsIDUsIDEyLCA5LCAxMiwgNSwgMTQsIDYsIDgsIDEzLCA2LCA1LCAxNSwgMTMsIDExLCAxMV0pO1xuXHRcblx0XHRcdHZhciBfaGwgPSBXb3JkQXJyYXkuY3JlYXRlKFsweDAwMDAwMDAwLCAweDVBODI3OTk5LCAweDZFRDlFQkExLCAweDhGMUJCQ0RDLCAweEE5NTNGRDRFXSk7XG5cdFx0XHR2YXIgX2hyID0gV29yZEFycmF5LmNyZWF0ZShbMHg1MEEyOEJFNiwgMHg1QzRERDEyNCwgMHg2RDcwM0VGMywgMHg3QTZENzZFOSwgMHgwMDAwMDAwMF0pO1xuXHRcblx0XHRcdC8qKlxuXHQgICAqIFJJUEVNRDE2MCBoYXNoIGFsZ29yaXRobS5cblx0ICAgKi9cblx0XHRcdHZhciBSSVBFTUQxNjAgPSBDX2FsZ28uUklQRU1EMTYwID0gSGFzaGVyLmV4dGVuZCh7XG5cdFx0XHRcdF9kb1Jlc2V0OiBmdW5jdGlvbiBfZG9SZXNldCgpIHtcblx0XHRcdFx0XHR0aGlzLl9oYXNoID0gV29yZEFycmF5LmNyZWF0ZShbMHg2NzQ1MjMwMSwgMHhFRkNEQUI4OSwgMHg5OEJBRENGRSwgMHgxMDMyNTQ3NiwgMHhDM0QyRTFGMF0pO1xuXHRcdFx0XHR9LFxuXHRcblx0XHRcdFx0X2RvUHJvY2Vzc0Jsb2NrOiBmdW5jdGlvbiBfZG9Qcm9jZXNzQmxvY2soTSwgb2Zmc2V0KSB7XG5cdFxuXHRcdFx0XHRcdC8vIFN3YXAgZW5kaWFuXG5cdFx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCAxNjsgaSsrKSB7XG5cdFx0XHRcdFx0XHQvLyBTaG9ydGN1dHNcblx0XHRcdFx0XHRcdHZhciBvZmZzZXRfaSA9IG9mZnNldCArIGk7XG5cdFx0XHRcdFx0XHR2YXIgTV9vZmZzZXRfaSA9IE1bb2Zmc2V0X2ldO1xuXHRcblx0XHRcdFx0XHRcdC8vIFN3YXBcblx0XHRcdFx0XHRcdE1bb2Zmc2V0X2ldID0gKE1fb2Zmc2V0X2kgPDwgOCB8IE1fb2Zmc2V0X2kgPj4+IDI0KSAmIDB4MDBmZjAwZmYgfCAoTV9vZmZzZXRfaSA8PCAyNCB8IE1fb2Zmc2V0X2kgPj4+IDgpICYgMHhmZjAwZmYwMDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Ly8gU2hvcnRjdXRcblx0XHRcdFx0XHR2YXIgSCA9IHRoaXMuX2hhc2gud29yZHM7XG5cdFx0XHRcdFx0dmFyIGhsID0gX2hsLndvcmRzO1xuXHRcdFx0XHRcdHZhciBociA9IF9oci53b3Jkcztcblx0XHRcdFx0XHR2YXIgemwgPSBfemwud29yZHM7XG5cdFx0XHRcdFx0dmFyIHpyID0gX3pyLndvcmRzO1xuXHRcdFx0XHRcdHZhciBzbCA9IF9zbC53b3Jkcztcblx0XHRcdFx0XHR2YXIgc3IgPSBfc3Iud29yZHM7XG5cdFxuXHRcdFx0XHRcdC8vIFdvcmtpbmcgdmFyaWFibGVzXG5cdFx0XHRcdFx0dmFyIGFsLCBibCwgY2wsIGRsLCBlbDtcblx0XHRcdFx0XHR2YXIgYXIsIGJyLCBjciwgZHIsIGVyO1xuXHRcblx0XHRcdFx0XHRhciA9IGFsID0gSFswXTtcblx0XHRcdFx0XHRiciA9IGJsID0gSFsxXTtcblx0XHRcdFx0XHRjciA9IGNsID0gSFsyXTtcblx0XHRcdFx0XHRkciA9IGRsID0gSFszXTtcblx0XHRcdFx0XHRlciA9IGVsID0gSFs0XTtcblx0XHRcdFx0XHQvLyBDb21wdXRhdGlvblxuXHRcdFx0XHRcdHZhciB0O1xuXHRcdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgODA7IGkgKz0gMSkge1xuXHRcdFx0XHRcdFx0dCA9IGFsICsgTVtvZmZzZXQgKyB6bFtpXV0gfCAwO1xuXHRcdFx0XHRcdFx0aWYgKGkgPCAxNikge1xuXHRcdFx0XHRcdFx0XHR0ICs9IGYxKGJsLCBjbCwgZGwpICsgaGxbMF07XG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYgKGkgPCAzMikge1xuXHRcdFx0XHRcdFx0XHR0ICs9IGYyKGJsLCBjbCwgZGwpICsgaGxbMV07XG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYgKGkgPCA0OCkge1xuXHRcdFx0XHRcdFx0XHR0ICs9IGYzKGJsLCBjbCwgZGwpICsgaGxbMl07XG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYgKGkgPCA2NCkge1xuXHRcdFx0XHRcdFx0XHR0ICs9IGY0KGJsLCBjbCwgZGwpICsgaGxbM107XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHQvLyBpZiAoaTw4MCkge1xuXHRcdFx0XHRcdFx0XHR0ICs9IGY1KGJsLCBjbCwgZGwpICsgaGxbNF07XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR0ID0gdCB8IDA7XG5cdFx0XHRcdFx0XHR0ID0gcm90bCh0LCBzbFtpXSk7XG5cdFx0XHRcdFx0XHR0ID0gdCArIGVsIHwgMDtcblx0XHRcdFx0XHRcdGFsID0gZWw7XG5cdFx0XHRcdFx0XHRlbCA9IGRsO1xuXHRcdFx0XHRcdFx0ZGwgPSByb3RsKGNsLCAxMCk7XG5cdFx0XHRcdFx0XHRjbCA9IGJsO1xuXHRcdFx0XHRcdFx0YmwgPSB0O1xuXHRcblx0XHRcdFx0XHRcdHQgPSBhciArIE1bb2Zmc2V0ICsgenJbaV1dIHwgMDtcblx0XHRcdFx0XHRcdGlmIChpIDwgMTYpIHtcblx0XHRcdFx0XHRcdFx0dCArPSBmNShiciwgY3IsIGRyKSArIGhyWzBdO1xuXHRcdFx0XHRcdFx0fSBlbHNlIGlmIChpIDwgMzIpIHtcblx0XHRcdFx0XHRcdFx0dCArPSBmNChiciwgY3IsIGRyKSArIGhyWzFdO1xuXHRcdFx0XHRcdFx0fSBlbHNlIGlmIChpIDwgNDgpIHtcblx0XHRcdFx0XHRcdFx0dCArPSBmMyhiciwgY3IsIGRyKSArIGhyWzJdO1xuXHRcdFx0XHRcdFx0fSBlbHNlIGlmIChpIDwgNjQpIHtcblx0XHRcdFx0XHRcdFx0dCArPSBmMihiciwgY3IsIGRyKSArIGhyWzNdO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0Ly8gaWYgKGk8ODApIHtcblx0XHRcdFx0XHRcdFx0dCArPSBmMShiciwgY3IsIGRyKSArIGhyWzRdO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0dCA9IHQgfCAwO1xuXHRcdFx0XHRcdFx0dCA9IHJvdGwodCwgc3JbaV0pO1xuXHRcdFx0XHRcdFx0dCA9IHQgKyBlciB8IDA7XG5cdFx0XHRcdFx0XHRhciA9IGVyO1xuXHRcdFx0XHRcdFx0ZXIgPSBkcjtcblx0XHRcdFx0XHRcdGRyID0gcm90bChjciwgMTApO1xuXHRcdFx0XHRcdFx0Y3IgPSBicjtcblx0XHRcdFx0XHRcdGJyID0gdDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Ly8gSW50ZXJtZWRpYXRlIGhhc2ggdmFsdWVcblx0XHRcdFx0XHR0ID0gSFsxXSArIGNsICsgZHIgfCAwO1xuXHRcdFx0XHRcdEhbMV0gPSBIWzJdICsgZGwgKyBlciB8IDA7XG5cdFx0XHRcdFx0SFsyXSA9IEhbM10gKyBlbCArIGFyIHwgMDtcblx0XHRcdFx0XHRIWzNdID0gSFs0XSArIGFsICsgYnIgfCAwO1xuXHRcdFx0XHRcdEhbNF0gPSBIWzBdICsgYmwgKyBjciB8IDA7XG5cdFx0XHRcdFx0SFswXSA9IHQ7XG5cdFx0XHRcdH0sXG5cdFxuXHRcdFx0XHRfZG9GaW5hbGl6ZTogZnVuY3Rpb24gX2RvRmluYWxpemUoKSB7XG5cdFx0XHRcdFx0Ly8gU2hvcnRjdXRzXG5cdFx0XHRcdFx0dmFyIGRhdGEgPSB0aGlzLl9kYXRhO1xuXHRcdFx0XHRcdHZhciBkYXRhV29yZHMgPSBkYXRhLndvcmRzO1xuXHRcblx0XHRcdFx0XHR2YXIgbkJpdHNUb3RhbCA9IHRoaXMuX25EYXRhQnl0ZXMgKiA4O1xuXHRcdFx0XHRcdHZhciBuQml0c0xlZnQgPSBkYXRhLnNpZ0J5dGVzICogODtcblx0XG5cdFx0XHRcdFx0Ly8gQWRkIHBhZGRpbmdcblx0XHRcdFx0XHRkYXRhV29yZHNbbkJpdHNMZWZ0ID4+PiA1XSB8PSAweDgwIDw8IDI0IC0gbkJpdHNMZWZ0ICUgMzI7XG5cdFx0XHRcdFx0ZGF0YVdvcmRzWyhuQml0c0xlZnQgKyA2NCA+Pj4gOSA8PCA0KSArIDE0XSA9IChuQml0c1RvdGFsIDw8IDggfCBuQml0c1RvdGFsID4+PiAyNCkgJiAweDAwZmYwMGZmIHwgKG5CaXRzVG90YWwgPDwgMjQgfCBuQml0c1RvdGFsID4+PiA4KSAmIDB4ZmYwMGZmMDA7XG5cdFx0XHRcdFx0ZGF0YS5zaWdCeXRlcyA9IChkYXRhV29yZHMubGVuZ3RoICsgMSkgKiA0O1xuXHRcblx0XHRcdFx0XHQvLyBIYXNoIGZpbmFsIGJsb2Nrc1xuXHRcdFx0XHRcdHRoaXMuX3Byb2Nlc3MoKTtcblx0XG5cdFx0XHRcdFx0Ly8gU2hvcnRjdXRzXG5cdFx0XHRcdFx0dmFyIGhhc2ggPSB0aGlzLl9oYXNoO1xuXHRcdFx0XHRcdHZhciBIID0gaGFzaC53b3Jkcztcblx0XG5cdFx0XHRcdFx0Ly8gU3dhcCBlbmRpYW5cblx0XHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IDU7IGkrKykge1xuXHRcdFx0XHRcdFx0Ly8gU2hvcnRjdXRcblx0XHRcdFx0XHRcdHZhciBIX2kgPSBIW2ldO1xuXHRcblx0XHRcdFx0XHRcdC8vIFN3YXBcblx0XHRcdFx0XHRcdEhbaV0gPSAoSF9pIDw8IDggfCBIX2kgPj4+IDI0KSAmIDB4MDBmZjAwZmYgfCAoSF9pIDw8IDI0IHwgSF9pID4+PiA4KSAmIDB4ZmYwMGZmMDA7XG5cdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHQvLyBSZXR1cm4gZmluYWwgY29tcHV0ZWQgaGFzaFxuXHRcdFx0XHRcdHJldHVybiBoYXNoO1xuXHRcdFx0XHR9LFxuXHRcblx0XHRcdFx0Y2xvbmU6IGZ1bmN0aW9uIGNsb25lKCkge1xuXHRcdFx0XHRcdHZhciBjbG9uZSA9IEhhc2hlci5jbG9uZS5jYWxsKHRoaXMpO1xuXHRcdFx0XHRcdGNsb25lLl9oYXNoID0gdGhpcy5faGFzaC5jbG9uZSgpO1xuXHRcblx0XHRcdFx0XHRyZXR1cm4gY2xvbmU7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcblx0XHRcdGZ1bmN0aW9uIGYxKHgsIHksIHopIHtcblx0XHRcdFx0cmV0dXJuIHggXiB5IF4gejtcblx0XHRcdH1cblx0XG5cdFx0XHRmdW5jdGlvbiBmMih4LCB5LCB6KSB7XG5cdFx0XHRcdHJldHVybiB4ICYgeSB8IH54ICYgejtcblx0XHRcdH1cblx0XG5cdFx0XHRmdW5jdGlvbiBmMyh4LCB5LCB6KSB7XG5cdFx0XHRcdHJldHVybiAoeCB8IH55KSBeIHo7XG5cdFx0XHR9XG5cdFxuXHRcdFx0ZnVuY3Rpb24gZjQoeCwgeSwgeikge1xuXHRcdFx0XHRyZXR1cm4geCAmIHogfCB5ICYgfno7XG5cdFx0XHR9XG5cdFxuXHRcdFx0ZnVuY3Rpb24gZjUoeCwgeSwgeikge1xuXHRcdFx0XHRyZXR1cm4geCBeICh5IHwgfnopO1xuXHRcdFx0fVxuXHRcblx0XHRcdGZ1bmN0aW9uIHJvdGwoeCwgbikge1xuXHRcdFx0XHRyZXR1cm4geCA8PCBuIHwgeCA+Pj4gMzIgLSBuO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8qKlxuXHQgICAqIFNob3J0Y3V0IGZ1bmN0aW9uIHRvIHRoZSBoYXNoZXIncyBvYmplY3QgaW50ZXJmYWNlLlxuXHQgICAqXG5cdCAgICogQHBhcmFtIHtXb3JkQXJyYXl8c3RyaW5nfSBtZXNzYWdlIFRoZSBtZXNzYWdlIHRvIGhhc2guXG5cdCAgICpcblx0ICAgKiBAcmV0dXJuIHtXb3JkQXJyYXl9IFRoZSBoYXNoLlxuXHQgICAqXG5cdCAgICogQHN0YXRpY1xuXHQgICAqXG5cdCAgICogQGV4YW1wbGVcblx0ICAgKlxuXHQgICAqICAgICB2YXIgaGFzaCA9IENyeXB0b0pTLlJJUEVNRDE2MCgnbWVzc2FnZScpO1xuXHQgICAqICAgICB2YXIgaGFzaCA9IENyeXB0b0pTLlJJUEVNRDE2MCh3b3JkQXJyYXkpO1xuXHQgICAqL1xuXHRcdFx0Qy5SSVBFTUQxNjAgPSBIYXNoZXIuX2NyZWF0ZUhlbHBlcihSSVBFTUQxNjApO1xuXHRcblx0XHRcdC8qKlxuXHQgICAqIFNob3J0Y3V0IGZ1bmN0aW9uIHRvIHRoZSBITUFDJ3Mgb2JqZWN0IGludGVyZmFjZS5cblx0ICAgKlxuXHQgICAqIEBwYXJhbSB7V29yZEFycmF5fHN0cmluZ30gbWVzc2FnZSBUaGUgbWVzc2FnZSB0byBoYXNoLlxuXHQgICAqIEBwYXJhbSB7V29yZEFycmF5fHN0cmluZ30ga2V5IFRoZSBzZWNyZXQga2V5LlxuXHQgICAqXG5cdCAgICogQHJldHVybiB7V29yZEFycmF5fSBUaGUgSE1BQy5cblx0ICAgKlxuXHQgICAqIEBzdGF0aWNcblx0ICAgKlxuXHQgICAqIEBleGFtcGxlXG5cdCAgICpcblx0ICAgKiAgICAgdmFyIGhtYWMgPSBDcnlwdG9KUy5IbWFjUklQRU1EMTYwKG1lc3NhZ2UsIGtleSk7XG5cdCAgICovXG5cdFx0XHRDLkhtYWNSSVBFTUQxNjAgPSBIYXNoZXIuX2NyZWF0ZUhtYWNIZWxwZXIoUklQRU1EMTYwKTtcblx0XHR9KShNYXRoKTtcblx0XG5cdFx0cmV0dXJuIENyeXB0b0pTLlJJUEVNRDE2MDtcblx0fSk7XG5cbi8qKiovIH0sXG4vKiA0NSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXywgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXywgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX187XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHR2YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cdFxuXHQ7KGZ1bmN0aW9uIChyb290LCBmYWN0b3J5LCB1bmRlZikge1xuXHRcdGlmICgoIGZhbHNlID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2YoZXhwb3J0cykpID09PSBcIm9iamVjdFwiKSB7XG5cdFx0XHQvLyBDb21tb25KU1xuXHRcdFx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzID0gZmFjdG9yeShfX3dlYnBhY2tfcmVxdWlyZV9fKDEpLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KSk7XG5cdFx0fSBlbHNlIGlmICh0cnVlKSB7XG5cdFx0XHQvLyBBTURcblx0XHRcdCEoX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXyA9IFtfX3dlYnBhY2tfcmVxdWlyZV9fKDEpLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KV0sIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyA9IChmYWN0b3J5KSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gPSAodHlwZW9mIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyA9PT0gJ2Z1bmN0aW9uJyA/IChfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18uYXBwbHkoZXhwb3J0cywgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXykpIDogX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fKSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gIT09IHVuZGVmaW5lZCAmJiAobW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXykpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBHbG9iYWwgKGJyb3dzZXIpXG5cdFx0XHRmYWN0b3J5KHJvb3QuQ3J5cHRvSlMpO1xuXHRcdH1cblx0fSkodW5kZWZpbmVkLCBmdW5jdGlvbiAoQ3J5cHRvSlMpIHtcblx0XG5cdFx0KGZ1bmN0aW9uICgpIHtcblx0XHRcdC8vIFNob3J0Y3V0c1xuXHRcdFx0dmFyIEMgPSBDcnlwdG9KUztcblx0XHRcdHZhciBDX2xpYiA9IEMubGliO1xuXHRcdFx0dmFyIFdvcmRBcnJheSA9IENfbGliLldvcmRBcnJheTtcblx0XHRcdHZhciBDX2FsZ28gPSBDLmFsZ287XG5cdFx0XHR2YXIgU0hBMjU2ID0gQ19hbGdvLlNIQTI1Njtcblx0XG5cdFx0XHQvKipcblx0ICAgKiBTSEEtMjI0IGhhc2ggYWxnb3JpdGhtLlxuXHQgICAqL1xuXHRcdFx0dmFyIFNIQTIyNCA9IENfYWxnby5TSEEyMjQgPSBTSEEyNTYuZXh0ZW5kKHtcblx0XHRcdFx0X2RvUmVzZXQ6IGZ1bmN0aW9uIF9kb1Jlc2V0KCkge1xuXHRcdFx0XHRcdHRoaXMuX2hhc2ggPSBuZXcgV29yZEFycmF5LmluaXQoWzB4YzEwNTllZDgsIDB4MzY3Y2Q1MDcsIDB4MzA3MGRkMTcsIDB4ZjcwZTU5MzksIDB4ZmZjMDBiMzEsIDB4Njg1ODE1MTEsIDB4NjRmOThmYTcsIDB4YmVmYTRmYTRdKTtcblx0XHRcdFx0fSxcblx0XG5cdFx0XHRcdF9kb0ZpbmFsaXplOiBmdW5jdGlvbiBfZG9GaW5hbGl6ZSgpIHtcblx0XHRcdFx0XHR2YXIgaGFzaCA9IFNIQTI1Ni5fZG9GaW5hbGl6ZS5jYWxsKHRoaXMpO1xuXHRcblx0XHRcdFx0XHRoYXNoLnNpZ0J5dGVzIC09IDQ7XG5cdFxuXHRcdFx0XHRcdHJldHVybiBoYXNoO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XG5cdFx0XHQvKipcblx0ICAgKiBTaG9ydGN1dCBmdW5jdGlvbiB0byB0aGUgaGFzaGVyJ3Mgb2JqZWN0IGludGVyZmFjZS5cblx0ICAgKlxuXHQgICAqIEBwYXJhbSB7V29yZEFycmF5fHN0cmluZ30gbWVzc2FnZSBUaGUgbWVzc2FnZSB0byBoYXNoLlxuXHQgICAqXG5cdCAgICogQHJldHVybiB7V29yZEFycmF5fSBUaGUgaGFzaC5cblx0ICAgKlxuXHQgICAqIEBzdGF0aWNcblx0ICAgKlxuXHQgICAqIEBleGFtcGxlXG5cdCAgICpcblx0ICAgKiAgICAgdmFyIGhhc2ggPSBDcnlwdG9KUy5TSEEyMjQoJ21lc3NhZ2UnKTtcblx0ICAgKiAgICAgdmFyIGhhc2ggPSBDcnlwdG9KUy5TSEEyMjQod29yZEFycmF5KTtcblx0ICAgKi9cblx0XHRcdEMuU0hBMjI0ID0gU0hBMjU2Ll9jcmVhdGVIZWxwZXIoU0hBMjI0KTtcblx0XG5cdFx0XHQvKipcblx0ICAgKiBTaG9ydGN1dCBmdW5jdGlvbiB0byB0aGUgSE1BQydzIG9iamVjdCBpbnRlcmZhY2UuXG5cdCAgICpcblx0ICAgKiBAcGFyYW0ge1dvcmRBcnJheXxzdHJpbmd9IG1lc3NhZ2UgVGhlIG1lc3NhZ2UgdG8gaGFzaC5cblx0ICAgKiBAcGFyYW0ge1dvcmRBcnJheXxzdHJpbmd9IGtleSBUaGUgc2VjcmV0IGtleS5cblx0ICAgKlxuXHQgICAqIEByZXR1cm4ge1dvcmRBcnJheX0gVGhlIEhNQUMuXG5cdCAgICpcblx0ICAgKiBAc3RhdGljXG5cdCAgICpcblx0ICAgKiBAZXhhbXBsZVxuXHQgICAqXG5cdCAgICogICAgIHZhciBobWFjID0gQ3J5cHRvSlMuSG1hY1NIQTIyNChtZXNzYWdlLCBrZXkpO1xuXHQgICAqL1xuXHRcdFx0Qy5IbWFjU0hBMjI0ID0gU0hBMjU2Ll9jcmVhdGVIbWFjSGVscGVyKFNIQTIyNCk7XG5cdFx0fSkoKTtcblx0XG5cdFx0cmV0dXJuIENyeXB0b0pTLlNIQTIyNDtcblx0fSk7XG5cbi8qKiovIH0sXG4vKiA0NiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXywgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXywgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX187XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHR2YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cdFxuXHQ7KGZ1bmN0aW9uIChyb290LCBmYWN0b3J5LCB1bmRlZikge1xuXHRcdGlmICgoIGZhbHNlID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2YoZXhwb3J0cykpID09PSBcIm9iamVjdFwiKSB7XG5cdFx0XHQvLyBDb21tb25KU1xuXHRcdFx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzID0gZmFjdG9yeShfX3dlYnBhY2tfcmVxdWlyZV9fKDEpLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKSwgX193ZWJwYWNrX3JlcXVpcmVfXygxOSkpO1xuXHRcdH0gZWxzZSBpZiAodHJ1ZSkge1xuXHRcdFx0Ly8gQU1EXG5cdFx0XHQhKF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18gPSBbX193ZWJwYWNrX3JlcXVpcmVfXygxKSwgX193ZWJwYWNrX3JlcXVpcmVfXygxMCksIF9fd2VicGFja19yZXF1aXJlX18oMTkpXSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fID0gKGZhY3RvcnkpLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyA9ICh0eXBlb2YgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fID09PSAnZnVuY3Rpb24nID8gKF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXy5hcHBseShleHBvcnRzLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fKSkgOiBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18pLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyAhPT0gdW5kZWZpbmVkICYmIChtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fKSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIEdsb2JhbCAoYnJvd3Nlcilcblx0XHRcdGZhY3Rvcnkocm9vdC5DcnlwdG9KUyk7XG5cdFx0fVxuXHR9KSh1bmRlZmluZWQsIGZ1bmN0aW9uIChDcnlwdG9KUykge1xuXHRcblx0XHQoZnVuY3Rpb24gKCkge1xuXHRcdFx0Ly8gU2hvcnRjdXRzXG5cdFx0XHR2YXIgQyA9IENyeXB0b0pTO1xuXHRcdFx0dmFyIENfeDY0ID0gQy54NjQ7XG5cdFx0XHR2YXIgWDY0V29yZCA9IENfeDY0LldvcmQ7XG5cdFx0XHR2YXIgWDY0V29yZEFycmF5ID0gQ194NjQuV29yZEFycmF5O1xuXHRcdFx0dmFyIENfYWxnbyA9IEMuYWxnbztcblx0XHRcdHZhciBTSEE1MTIgPSBDX2FsZ28uU0hBNTEyO1xuXHRcblx0XHRcdC8qKlxuXHQgICAqIFNIQS0zODQgaGFzaCBhbGdvcml0aG0uXG5cdCAgICovXG5cdFx0XHR2YXIgU0hBMzg0ID0gQ19hbGdvLlNIQTM4NCA9IFNIQTUxMi5leHRlbmQoe1xuXHRcdFx0XHRfZG9SZXNldDogZnVuY3Rpb24gX2RvUmVzZXQoKSB7XG5cdFx0XHRcdFx0dGhpcy5faGFzaCA9IG5ldyBYNjRXb3JkQXJyYXkuaW5pdChbbmV3IFg2NFdvcmQuaW5pdCgweGNiYmI5ZDVkLCAweGMxMDU5ZWQ4KSwgbmV3IFg2NFdvcmQuaW5pdCgweDYyOWEyOTJhLCAweDM2N2NkNTA3KSwgbmV3IFg2NFdvcmQuaW5pdCgweDkxNTkwMTVhLCAweDMwNzBkZDE3KSwgbmV3IFg2NFdvcmQuaW5pdCgweDE1MmZlY2Q4LCAweGY3MGU1OTM5KSwgbmV3IFg2NFdvcmQuaW5pdCgweDY3MzMyNjY3LCAweGZmYzAwYjMxKSwgbmV3IFg2NFdvcmQuaW5pdCgweDhlYjQ0YTg3LCAweDY4NTgxNTExKSwgbmV3IFg2NFdvcmQuaW5pdCgweGRiMGMyZTBkLCAweDY0Zjk4ZmE3KSwgbmV3IFg2NFdvcmQuaW5pdCgweDQ3YjU0ODFkLCAweGJlZmE0ZmE0KV0pO1xuXHRcdFx0XHR9LFxuXHRcblx0XHRcdFx0X2RvRmluYWxpemU6IGZ1bmN0aW9uIF9kb0ZpbmFsaXplKCkge1xuXHRcdFx0XHRcdHZhciBoYXNoID0gU0hBNTEyLl9kb0ZpbmFsaXplLmNhbGwodGhpcyk7XG5cdFxuXHRcdFx0XHRcdGhhc2guc2lnQnl0ZXMgLT0gMTY7XG5cdFxuXHRcdFx0XHRcdHJldHVybiBoYXNoO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XG5cdFx0XHQvKipcblx0ICAgKiBTaG9ydGN1dCBmdW5jdGlvbiB0byB0aGUgaGFzaGVyJ3Mgb2JqZWN0IGludGVyZmFjZS5cblx0ICAgKlxuXHQgICAqIEBwYXJhbSB7V29yZEFycmF5fHN0cmluZ30gbWVzc2FnZSBUaGUgbWVzc2FnZSB0byBoYXNoLlxuXHQgICAqXG5cdCAgICogQHJldHVybiB7V29yZEFycmF5fSBUaGUgaGFzaC5cblx0ICAgKlxuXHQgICAqIEBzdGF0aWNcblx0ICAgKlxuXHQgICAqIEBleGFtcGxlXG5cdCAgICpcblx0ICAgKiAgICAgdmFyIGhhc2ggPSBDcnlwdG9KUy5TSEEzODQoJ21lc3NhZ2UnKTtcblx0ICAgKiAgICAgdmFyIGhhc2ggPSBDcnlwdG9KUy5TSEEzODQod29yZEFycmF5KTtcblx0ICAgKi9cblx0XHRcdEMuU0hBMzg0ID0gU0hBNTEyLl9jcmVhdGVIZWxwZXIoU0hBMzg0KTtcblx0XG5cdFx0XHQvKipcblx0ICAgKiBTaG9ydGN1dCBmdW5jdGlvbiB0byB0aGUgSE1BQydzIG9iamVjdCBpbnRlcmZhY2UuXG5cdCAgICpcblx0ICAgKiBAcGFyYW0ge1dvcmRBcnJheXxzdHJpbmd9IG1lc3NhZ2UgVGhlIG1lc3NhZ2UgdG8gaGFzaC5cblx0ICAgKiBAcGFyYW0ge1dvcmRBcnJheXxzdHJpbmd9IGtleSBUaGUgc2VjcmV0IGtleS5cblx0ICAgKlxuXHQgICAqIEByZXR1cm4ge1dvcmRBcnJheX0gVGhlIEhNQUMuXG5cdCAgICpcblx0ICAgKiBAc3RhdGljXG5cdCAgICpcblx0ICAgKiBAZXhhbXBsZVxuXHQgICAqXG5cdCAgICogICAgIHZhciBobWFjID0gQ3J5cHRvSlMuSG1hY1NIQTM4NChtZXNzYWdlLCBrZXkpO1xuXHQgICAqL1xuXHRcdFx0Qy5IbWFjU0hBMzg0ID0gU0hBNTEyLl9jcmVhdGVIbWFjSGVscGVyKFNIQTM4NCk7XG5cdFx0fSkoKTtcblx0XG5cdFx0cmV0dXJuIENyeXB0b0pTLlNIQTM4NDtcblx0fSk7XG5cbi8qKiovIH0sXG4vKiA0NyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXywgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXywgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX187XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHR2YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cdFxuXHQ7KGZ1bmN0aW9uIChyb290LCBmYWN0b3J5LCB1bmRlZikge1xuXHRcdGlmICgoIGZhbHNlID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2YoZXhwb3J0cykpID09PSBcIm9iamVjdFwiKSB7XG5cdFx0XHQvLyBDb21tb25KU1xuXHRcdFx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzID0gZmFjdG9yeShfX3dlYnBhY2tfcmVxdWlyZV9fKDEpLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpKTtcblx0XHR9IGVsc2UgaWYgKHRydWUpIHtcblx0XHRcdC8vIEFNRFxuXHRcdFx0IShfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fID0gW19fd2VicGFja19yZXF1aXJlX18oMSksIF9fd2VicGFja19yZXF1aXJlX18oNCksIF9fd2VicGFja19yZXF1aXJlX18oNiksIF9fd2VicGFja19yZXF1aXJlX18oNSksIF9fd2VicGFja19yZXF1aXJlX18oMildLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18gPSAoZmFjdG9yeSksIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fID0gKHR5cGVvZiBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18gPT09ICdmdW5jdGlvbicgPyAoX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fLmFwcGx5KGV4cG9ydHMsIF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18pKSA6IF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyksIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fICE9PSB1bmRlZmluZWQgJiYgKG1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18pKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gR2xvYmFsIChicm93c2VyKVxuXHRcdFx0ZmFjdG9yeShyb290LkNyeXB0b0pTKTtcblx0XHR9XG5cdH0pKHVuZGVmaW5lZCwgZnVuY3Rpb24gKENyeXB0b0pTKSB7XG5cdFxuXHRcdChmdW5jdGlvbiAoKSB7XG5cdFx0XHQvLyBTaG9ydGN1dHNcblx0XHRcdHZhciBDID0gQ3J5cHRvSlM7XG5cdFx0XHR2YXIgQ19saWIgPSBDLmxpYjtcblx0XHRcdHZhciBXb3JkQXJyYXkgPSBDX2xpYi5Xb3JkQXJyYXk7XG5cdFx0XHR2YXIgQmxvY2tDaXBoZXIgPSBDX2xpYi5CbG9ja0NpcGhlcjtcblx0XHRcdHZhciBDX2FsZ28gPSBDLmFsZ287XG5cdFxuXHRcdFx0Ly8gUGVybXV0ZWQgQ2hvaWNlIDEgY29uc3RhbnRzXG5cdFx0XHR2YXIgUEMxID0gWzU3LCA0OSwgNDEsIDMzLCAyNSwgMTcsIDksIDEsIDU4LCA1MCwgNDIsIDM0LCAyNiwgMTgsIDEwLCAyLCA1OSwgNTEsIDQzLCAzNSwgMjcsIDE5LCAxMSwgMywgNjAsIDUyLCA0NCwgMzYsIDYzLCA1NSwgNDcsIDM5LCAzMSwgMjMsIDE1LCA3LCA2MiwgNTQsIDQ2LCAzOCwgMzAsIDIyLCAxNCwgNiwgNjEsIDUzLCA0NSwgMzcsIDI5LCAyMSwgMTMsIDUsIDI4LCAyMCwgMTIsIDRdO1xuXHRcblx0XHRcdC8vIFBlcm11dGVkIENob2ljZSAyIGNvbnN0YW50c1xuXHRcdFx0dmFyIFBDMiA9IFsxNCwgMTcsIDExLCAyNCwgMSwgNSwgMywgMjgsIDE1LCA2LCAyMSwgMTAsIDIzLCAxOSwgMTIsIDQsIDI2LCA4LCAxNiwgNywgMjcsIDIwLCAxMywgMiwgNDEsIDUyLCAzMSwgMzcsIDQ3LCA1NSwgMzAsIDQwLCA1MSwgNDUsIDMzLCA0OCwgNDQsIDQ5LCAzOSwgNTYsIDM0LCA1MywgNDYsIDQyLCA1MCwgMzYsIDI5LCAzMl07XG5cdFxuXHRcdFx0Ly8gQ3VtdWxhdGl2ZSBiaXQgc2hpZnQgY29uc3RhbnRzXG5cdFx0XHR2YXIgQklUX1NISUZUUyA9IFsxLCAyLCA0LCA2LCA4LCAxMCwgMTIsIDE0LCAxNSwgMTcsIDE5LCAyMSwgMjMsIDI1LCAyNywgMjhdO1xuXHRcblx0XHRcdC8vIFNCT1hlcyBhbmQgcm91bmQgcGVybXV0YXRpb24gY29uc3RhbnRzXG5cdFx0XHR2YXIgU0JPWF9QID0gW3tcblx0XHRcdFx0MHgwOiAweDgwODIwMCxcblx0XHRcdFx0MHgxMDAwMDAwMDogMHg4MDAwLFxuXHRcdFx0XHQweDIwMDAwMDAwOiAweDgwODAwMixcblx0XHRcdFx0MHgzMDAwMDAwMDogMHgyLFxuXHRcdFx0XHQweDQwMDAwMDAwOiAweDIwMCxcblx0XHRcdFx0MHg1MDAwMDAwMDogMHg4MDgyMDIsXG5cdFx0XHRcdDB4NjAwMDAwMDA6IDB4ODAwMjAyLFxuXHRcdFx0XHQweDcwMDAwMDAwOiAweDgwMDAwMCxcblx0XHRcdFx0MHg4MDAwMDAwMDogMHgyMDIsXG5cdFx0XHRcdDB4OTAwMDAwMDA6IDB4ODAwMjAwLFxuXHRcdFx0XHQweGEwMDAwMDAwOiAweDgyMDAsXG5cdFx0XHRcdDB4YjAwMDAwMDA6IDB4ODA4MDAwLFxuXHRcdFx0XHQweGMwMDAwMDAwOiAweDgwMDIsXG5cdFx0XHRcdDB4ZDAwMDAwMDA6IDB4ODAwMDAyLFxuXHRcdFx0XHQweGUwMDAwMDAwOiAweDAsXG5cdFx0XHRcdDB4ZjAwMDAwMDA6IDB4ODIwMixcblx0XHRcdFx0MHg4MDAwMDAwOiAweDAsXG5cdFx0XHRcdDB4MTgwMDAwMDA6IDB4ODA4MjAyLFxuXHRcdFx0XHQweDI4MDAwMDAwOiAweDgyMDIsXG5cdFx0XHRcdDB4MzgwMDAwMDA6IDB4ODAwMCxcblx0XHRcdFx0MHg0ODAwMDAwMDogMHg4MDgyMDAsXG5cdFx0XHRcdDB4NTgwMDAwMDA6IDB4MjAwLFxuXHRcdFx0XHQweDY4MDAwMDAwOiAweDgwODAwMixcblx0XHRcdFx0MHg3ODAwMDAwMDogMHgyLFxuXHRcdFx0XHQweDg4MDAwMDAwOiAweDgwMDIwMCxcblx0XHRcdFx0MHg5ODAwMDAwMDogMHg4MjAwLFxuXHRcdFx0XHQweGE4MDAwMDAwOiAweDgwODAwMCxcblx0XHRcdFx0MHhiODAwMDAwMDogMHg4MDAyMDIsXG5cdFx0XHRcdDB4YzgwMDAwMDA6IDB4ODAwMDAyLFxuXHRcdFx0XHQweGQ4MDAwMDAwOiAweDgwMDIsXG5cdFx0XHRcdDB4ZTgwMDAwMDA6IDB4MjAyLFxuXHRcdFx0XHQweGY4MDAwMDAwOiAweDgwMDAwMCxcblx0XHRcdFx0MHgxOiAweDgwMDAsXG5cdFx0XHRcdDB4MTAwMDAwMDE6IDB4Mixcblx0XHRcdFx0MHgyMDAwMDAwMTogMHg4MDgyMDAsXG5cdFx0XHRcdDB4MzAwMDAwMDE6IDB4ODAwMDAwLFxuXHRcdFx0XHQweDQwMDAwMDAxOiAweDgwODAwMixcblx0XHRcdFx0MHg1MDAwMDAwMTogMHg4MjAwLFxuXHRcdFx0XHQweDYwMDAwMDAxOiAweDIwMCxcblx0XHRcdFx0MHg3MDAwMDAwMTogMHg4MDAyMDIsXG5cdFx0XHRcdDB4ODAwMDAwMDE6IDB4ODA4MjAyLFxuXHRcdFx0XHQweDkwMDAwMDAxOiAweDgwODAwMCxcblx0XHRcdFx0MHhhMDAwMDAwMTogMHg4MDAwMDIsXG5cdFx0XHRcdDB4YjAwMDAwMDE6IDB4ODIwMixcblx0XHRcdFx0MHhjMDAwMDAwMTogMHgyMDIsXG5cdFx0XHRcdDB4ZDAwMDAwMDE6IDB4ODAwMjAwLFxuXHRcdFx0XHQweGUwMDAwMDAxOiAweDgwMDIsXG5cdFx0XHRcdDB4ZjAwMDAwMDE6IDB4MCxcblx0XHRcdFx0MHg4MDAwMDAxOiAweDgwODIwMixcblx0XHRcdFx0MHgxODAwMDAwMTogMHg4MDgwMDAsXG5cdFx0XHRcdDB4MjgwMDAwMDE6IDB4ODAwMDAwLFxuXHRcdFx0XHQweDM4MDAwMDAxOiAweDIwMCxcblx0XHRcdFx0MHg0ODAwMDAwMTogMHg4MDAwLFxuXHRcdFx0XHQweDU4MDAwMDAxOiAweDgwMDAwMixcblx0XHRcdFx0MHg2ODAwMDAwMTogMHgyLFxuXHRcdFx0XHQweDc4MDAwMDAxOiAweDgyMDIsXG5cdFx0XHRcdDB4ODgwMDAwMDE6IDB4ODAwMixcblx0XHRcdFx0MHg5ODAwMDAwMTogMHg4MDAyMDIsXG5cdFx0XHRcdDB4YTgwMDAwMDE6IDB4MjAyLFxuXHRcdFx0XHQweGI4MDAwMDAxOiAweDgwODIwMCxcblx0XHRcdFx0MHhjODAwMDAwMTogMHg4MDAyMDAsXG5cdFx0XHRcdDB4ZDgwMDAwMDE6IDB4MCxcblx0XHRcdFx0MHhlODAwMDAwMTogMHg4MjAwLFxuXHRcdFx0XHQweGY4MDAwMDAxOiAweDgwODAwMlxuXHRcdFx0fSwge1xuXHRcdFx0XHQweDA6IDB4NDAwODQwMTAsXG5cdFx0XHRcdDB4MTAwMDAwMDogMHg0MDAwLFxuXHRcdFx0XHQweDIwMDAwMDA6IDB4ODAwMDAsXG5cdFx0XHRcdDB4MzAwMDAwMDogMHg0MDA4MDAxMCxcblx0XHRcdFx0MHg0MDAwMDAwOiAweDQwMDAwMDEwLFxuXHRcdFx0XHQweDUwMDAwMDA6IDB4NDAwODQwMDAsXG5cdFx0XHRcdDB4NjAwMDAwMDogMHg0MDAwNDAwMCxcblx0XHRcdFx0MHg3MDAwMDAwOiAweDEwLFxuXHRcdFx0XHQweDgwMDAwMDA6IDB4ODQwMDAsXG5cdFx0XHRcdDB4OTAwMDAwMDogMHg0MDAwNDAxMCxcblx0XHRcdFx0MHhhMDAwMDAwOiAweDQwMDAwMDAwLFxuXHRcdFx0XHQweGIwMDAwMDA6IDB4ODQwMTAsXG5cdFx0XHRcdDB4YzAwMDAwMDogMHg4MDAxMCxcblx0XHRcdFx0MHhkMDAwMDAwOiAweDAsXG5cdFx0XHRcdDB4ZTAwMDAwMDogMHg0MDEwLFxuXHRcdFx0XHQweGYwMDAwMDA6IDB4NDAwODAwMDAsXG5cdFx0XHRcdDB4ODAwMDAwOiAweDQwMDA0MDAwLFxuXHRcdFx0XHQweDE4MDAwMDA6IDB4ODQwMTAsXG5cdFx0XHRcdDB4MjgwMDAwMDogMHgxMCxcblx0XHRcdFx0MHgzODAwMDAwOiAweDQwMDA0MDEwLFxuXHRcdFx0XHQweDQ4MDAwMDA6IDB4NDAwODQwMTAsXG5cdFx0XHRcdDB4NTgwMDAwMDogMHg0MDAwMDAwMCxcblx0XHRcdFx0MHg2ODAwMDAwOiAweDgwMDAwLFxuXHRcdFx0XHQweDc4MDAwMDA6IDB4NDAwODAwMTAsXG5cdFx0XHRcdDB4ODgwMDAwMDogMHg4MDAxMCxcblx0XHRcdFx0MHg5ODAwMDAwOiAweDAsXG5cdFx0XHRcdDB4YTgwMDAwMDogMHg0MDAwLFxuXHRcdFx0XHQweGI4MDAwMDA6IDB4NDAwODAwMDAsXG5cdFx0XHRcdDB4YzgwMDAwMDogMHg0MDAwMDAxMCxcblx0XHRcdFx0MHhkODAwMDAwOiAweDg0MDAwLFxuXHRcdFx0XHQweGU4MDAwMDA6IDB4NDAwODQwMDAsXG5cdFx0XHRcdDB4ZjgwMDAwMDogMHg0MDEwLFxuXHRcdFx0XHQweDEwMDAwMDAwOiAweDAsXG5cdFx0XHRcdDB4MTEwMDAwMDA6IDB4NDAwODAwMTAsXG5cdFx0XHRcdDB4MTIwMDAwMDA6IDB4NDAwMDQwMTAsXG5cdFx0XHRcdDB4MTMwMDAwMDA6IDB4NDAwODQwMDAsXG5cdFx0XHRcdDB4MTQwMDAwMDA6IDB4NDAwODAwMDAsXG5cdFx0XHRcdDB4MTUwMDAwMDA6IDB4MTAsXG5cdFx0XHRcdDB4MTYwMDAwMDA6IDB4ODQwMTAsXG5cdFx0XHRcdDB4MTcwMDAwMDA6IDB4NDAwMCxcblx0XHRcdFx0MHgxODAwMDAwMDogMHg0MDEwLFxuXHRcdFx0XHQweDE5MDAwMDAwOiAweDgwMDAwLFxuXHRcdFx0XHQweDFhMDAwMDAwOiAweDgwMDEwLFxuXHRcdFx0XHQweDFiMDAwMDAwOiAweDQwMDAwMDEwLFxuXHRcdFx0XHQweDFjMDAwMDAwOiAweDg0MDAwLFxuXHRcdFx0XHQweDFkMDAwMDAwOiAweDQwMDA0MDAwLFxuXHRcdFx0XHQweDFlMDAwMDAwOiAweDQwMDAwMDAwLFxuXHRcdFx0XHQweDFmMDAwMDAwOiAweDQwMDg0MDEwLFxuXHRcdFx0XHQweDEwODAwMDAwOiAweDg0MDEwLFxuXHRcdFx0XHQweDExODAwMDAwOiAweDgwMDAwLFxuXHRcdFx0XHQweDEyODAwMDAwOiAweDQwMDgwMDAwLFxuXHRcdFx0XHQweDEzODAwMDAwOiAweDQwMDAsXG5cdFx0XHRcdDB4MTQ4MDAwMDA6IDB4NDAwMDQwMDAsXG5cdFx0XHRcdDB4MTU4MDAwMDA6IDB4NDAwODQwMTAsXG5cdFx0XHRcdDB4MTY4MDAwMDA6IDB4MTAsXG5cdFx0XHRcdDB4MTc4MDAwMDA6IDB4NDAwMDAwMDAsXG5cdFx0XHRcdDB4MTg4MDAwMDA6IDB4NDAwODQwMDAsXG5cdFx0XHRcdDB4MTk4MDAwMDA6IDB4NDAwMDAwMTAsXG5cdFx0XHRcdDB4MWE4MDAwMDA6IDB4NDAwMDQwMTAsXG5cdFx0XHRcdDB4MWI4MDAwMDA6IDB4ODAwMTAsXG5cdFx0XHRcdDB4MWM4MDAwMDA6IDB4MCxcblx0XHRcdFx0MHgxZDgwMDAwMDogMHg0MDEwLFxuXHRcdFx0XHQweDFlODAwMDAwOiAweDQwMDgwMDEwLFxuXHRcdFx0XHQweDFmODAwMDAwOiAweDg0MDAwXG5cdFx0XHR9LCB7XG5cdFx0XHRcdDB4MDogMHgxMDQsXG5cdFx0XHRcdDB4MTAwMDAwOiAweDAsXG5cdFx0XHRcdDB4MjAwMDAwOiAweDQwMDAxMDAsXG5cdFx0XHRcdDB4MzAwMDAwOiAweDEwMTA0LFxuXHRcdFx0XHQweDQwMDAwMDogMHgxMDAwNCxcblx0XHRcdFx0MHg1MDAwMDA6IDB4NDAwMDAwNCxcblx0XHRcdFx0MHg2MDAwMDA6IDB4NDAxMDEwNCxcblx0XHRcdFx0MHg3MDAwMDA6IDB4NDAxMDAwMCxcblx0XHRcdFx0MHg4MDAwMDA6IDB4NDAwMDAwMCxcblx0XHRcdFx0MHg5MDAwMDA6IDB4NDAxMDEwMCxcblx0XHRcdFx0MHhhMDAwMDA6IDB4MTAxMDAsXG5cdFx0XHRcdDB4YjAwMDAwOiAweDQwMTAwMDQsXG5cdFx0XHRcdDB4YzAwMDAwOiAweDQwMDAxMDQsXG5cdFx0XHRcdDB4ZDAwMDAwOiAweDEwMDAwLFxuXHRcdFx0XHQweGUwMDAwMDogMHg0LFxuXHRcdFx0XHQweGYwMDAwMDogMHgxMDAsXG5cdFx0XHRcdDB4ODAwMDA6IDB4NDAxMDEwMCxcblx0XHRcdFx0MHgxODAwMDA6IDB4NDAxMDAwNCxcblx0XHRcdFx0MHgyODAwMDA6IDB4MCxcblx0XHRcdFx0MHgzODAwMDA6IDB4NDAwMDEwMCxcblx0XHRcdFx0MHg0ODAwMDA6IDB4NDAwMDAwNCxcblx0XHRcdFx0MHg1ODAwMDA6IDB4MTAwMDAsXG5cdFx0XHRcdDB4NjgwMDAwOiAweDEwMDA0LFxuXHRcdFx0XHQweDc4MDAwMDogMHgxMDQsXG5cdFx0XHRcdDB4ODgwMDAwOiAweDQsXG5cdFx0XHRcdDB4OTgwMDAwOiAweDEwMCxcblx0XHRcdFx0MHhhODAwMDA6IDB4NDAxMDAwMCxcblx0XHRcdFx0MHhiODAwMDA6IDB4MTAxMDQsXG5cdFx0XHRcdDB4YzgwMDAwOiAweDEwMTAwLFxuXHRcdFx0XHQweGQ4MDAwMDogMHg0MDAwMTA0LFxuXHRcdFx0XHQweGU4MDAwMDogMHg0MDEwMTA0LFxuXHRcdFx0XHQweGY4MDAwMDogMHg0MDAwMDAwLFxuXHRcdFx0XHQweDEwMDAwMDA6IDB4NDAxMDEwMCxcblx0XHRcdFx0MHgxMTAwMDAwOiAweDEwMDA0LFxuXHRcdFx0XHQweDEyMDAwMDA6IDB4MTAwMDAsXG5cdFx0XHRcdDB4MTMwMDAwMDogMHg0MDAwMTAwLFxuXHRcdFx0XHQweDE0MDAwMDA6IDB4MTAwLFxuXHRcdFx0XHQweDE1MDAwMDA6IDB4NDAxMDEwNCxcblx0XHRcdFx0MHgxNjAwMDAwOiAweDQwMDAwMDQsXG5cdFx0XHRcdDB4MTcwMDAwMDogMHgwLFxuXHRcdFx0XHQweDE4MDAwMDA6IDB4NDAwMDEwNCxcblx0XHRcdFx0MHgxOTAwMDAwOiAweDQwMDAwMDAsXG5cdFx0XHRcdDB4MWEwMDAwMDogMHg0LFxuXHRcdFx0XHQweDFiMDAwMDA6IDB4MTAxMDAsXG5cdFx0XHRcdDB4MWMwMDAwMDogMHg0MDEwMDAwLFxuXHRcdFx0XHQweDFkMDAwMDA6IDB4MTA0LFxuXHRcdFx0XHQweDFlMDAwMDA6IDB4MTAxMDQsXG5cdFx0XHRcdDB4MWYwMDAwMDogMHg0MDEwMDA0LFxuXHRcdFx0XHQweDEwODAwMDA6IDB4NDAwMDAwMCxcblx0XHRcdFx0MHgxMTgwMDAwOiAweDEwNCxcblx0XHRcdFx0MHgxMjgwMDAwOiAweDQwMTAxMDAsXG5cdFx0XHRcdDB4MTM4MDAwMDogMHgwLFxuXHRcdFx0XHQweDE0ODAwMDA6IDB4MTAwMDQsXG5cdFx0XHRcdDB4MTU4MDAwMDogMHg0MDAwMTAwLFxuXHRcdFx0XHQweDE2ODAwMDA6IDB4MTAwLFxuXHRcdFx0XHQweDE3ODAwMDA6IDB4NDAxMDAwNCxcblx0XHRcdFx0MHgxODgwMDAwOiAweDEwMDAwLFxuXHRcdFx0XHQweDE5ODAwMDA6IDB4NDAxMDEwNCxcblx0XHRcdFx0MHgxYTgwMDAwOiAweDEwMTA0LFxuXHRcdFx0XHQweDFiODAwMDA6IDB4NDAwMDAwNCxcblx0XHRcdFx0MHgxYzgwMDAwOiAweDQwMDAxMDQsXG5cdFx0XHRcdDB4MWQ4MDAwMDogMHg0MDEwMDAwLFxuXHRcdFx0XHQweDFlODAwMDA6IDB4NCxcblx0XHRcdFx0MHgxZjgwMDAwOiAweDEwMTAwXG5cdFx0XHR9LCB7XG5cdFx0XHRcdDB4MDogMHg4MDQwMTAwMCxcblx0XHRcdFx0MHgxMDAwMDogMHg4MDAwMTA0MCxcblx0XHRcdFx0MHgyMDAwMDogMHg0MDEwNDAsXG5cdFx0XHRcdDB4MzAwMDA6IDB4ODA0MDAwMDAsXG5cdFx0XHRcdDB4NDAwMDA6IDB4MCxcblx0XHRcdFx0MHg1MDAwMDogMHg0MDEwMDAsXG5cdFx0XHRcdDB4NjAwMDA6IDB4ODAwMDAwNDAsXG5cdFx0XHRcdDB4NzAwMDA6IDB4NDAwMDQwLFxuXHRcdFx0XHQweDgwMDAwOiAweDgwMDAwMDAwLFxuXHRcdFx0XHQweDkwMDAwOiAweDQwMDAwMCxcblx0XHRcdFx0MHhhMDAwMDogMHg0MCxcblx0XHRcdFx0MHhiMDAwMDogMHg4MDAwMTAwMCxcblx0XHRcdFx0MHhjMDAwMDogMHg4MDQwMDA0MCxcblx0XHRcdFx0MHhkMDAwMDogMHgxMDQwLFxuXHRcdFx0XHQweGUwMDAwOiAweDEwMDAsXG5cdFx0XHRcdDB4ZjAwMDA6IDB4ODA0MDEwNDAsXG5cdFx0XHRcdDB4ODAwMDogMHg4MDAwMTA0MCxcblx0XHRcdFx0MHgxODAwMDogMHg0MCxcblx0XHRcdFx0MHgyODAwMDogMHg4MDQwMDA0MCxcblx0XHRcdFx0MHgzODAwMDogMHg4MDAwMTAwMCxcblx0XHRcdFx0MHg0ODAwMDogMHg0MDEwMDAsXG5cdFx0XHRcdDB4NTgwMDA6IDB4ODA0MDEwNDAsXG5cdFx0XHRcdDB4NjgwMDA6IDB4MCxcblx0XHRcdFx0MHg3ODAwMDogMHg4MDQwMDAwMCxcblx0XHRcdFx0MHg4ODAwMDogMHgxMDAwLFxuXHRcdFx0XHQweDk4MDAwOiAweDgwNDAxMDAwLFxuXHRcdFx0XHQweGE4MDAwOiAweDQwMDAwMCxcblx0XHRcdFx0MHhiODAwMDogMHgxMDQwLFxuXHRcdFx0XHQweGM4MDAwOiAweDgwMDAwMDAwLFxuXHRcdFx0XHQweGQ4MDAwOiAweDQwMDA0MCxcblx0XHRcdFx0MHhlODAwMDogMHg0MDEwNDAsXG5cdFx0XHRcdDB4ZjgwMDA6IDB4ODAwMDAwNDAsXG5cdFx0XHRcdDB4MTAwMDAwOiAweDQwMDA0MCxcblx0XHRcdFx0MHgxMTAwMDA6IDB4NDAxMDAwLFxuXHRcdFx0XHQweDEyMDAwMDogMHg4MDAwMDA0MCxcblx0XHRcdFx0MHgxMzAwMDA6IDB4MCxcblx0XHRcdFx0MHgxNDAwMDA6IDB4MTA0MCxcblx0XHRcdFx0MHgxNTAwMDA6IDB4ODA0MDAwNDAsXG5cdFx0XHRcdDB4MTYwMDAwOiAweDgwNDAxMDAwLFxuXHRcdFx0XHQweDE3MDAwMDogMHg4MDAwMTA0MCxcblx0XHRcdFx0MHgxODAwMDA6IDB4ODA0MDEwNDAsXG5cdFx0XHRcdDB4MTkwMDAwOiAweDgwMDAwMDAwLFxuXHRcdFx0XHQweDFhMDAwMDogMHg4MDQwMDAwMCxcblx0XHRcdFx0MHgxYjAwMDA6IDB4NDAxMDQwLFxuXHRcdFx0XHQweDFjMDAwMDogMHg4MDAwMTAwMCxcblx0XHRcdFx0MHgxZDAwMDA6IDB4NDAwMDAwLFxuXHRcdFx0XHQweDFlMDAwMDogMHg0MCxcblx0XHRcdFx0MHgxZjAwMDA6IDB4MTAwMCxcblx0XHRcdFx0MHgxMDgwMDA6IDB4ODA0MDAwMDAsXG5cdFx0XHRcdDB4MTE4MDAwOiAweDgwNDAxMDQwLFxuXHRcdFx0XHQweDEyODAwMDogMHgwLFxuXHRcdFx0XHQweDEzODAwMDogMHg0MDEwMDAsXG5cdFx0XHRcdDB4MTQ4MDAwOiAweDQwMDA0MCxcblx0XHRcdFx0MHgxNTgwMDA6IDB4ODAwMDAwMDAsXG5cdFx0XHRcdDB4MTY4MDAwOiAweDgwMDAxMDQwLFxuXHRcdFx0XHQweDE3ODAwMDogMHg0MCxcblx0XHRcdFx0MHgxODgwMDA6IDB4ODAwMDAwNDAsXG5cdFx0XHRcdDB4MTk4MDAwOiAweDEwMDAsXG5cdFx0XHRcdDB4MWE4MDAwOiAweDgwMDAxMDAwLFxuXHRcdFx0XHQweDFiODAwMDogMHg4MDQwMDA0MCxcblx0XHRcdFx0MHgxYzgwMDA6IDB4MTA0MCxcblx0XHRcdFx0MHgxZDgwMDA6IDB4ODA0MDEwMDAsXG5cdFx0XHRcdDB4MWU4MDAwOiAweDQwMDAwMCxcblx0XHRcdFx0MHgxZjgwMDA6IDB4NDAxMDQwXG5cdFx0XHR9LCB7XG5cdFx0XHRcdDB4MDogMHg4MCxcblx0XHRcdFx0MHgxMDAwOiAweDEwNDAwMDAsXG5cdFx0XHRcdDB4MjAwMDogMHg0MDAwMCxcblx0XHRcdFx0MHgzMDAwOiAweDIwMDAwMDAwLFxuXHRcdFx0XHQweDQwMDA6IDB4MjAwNDAwODAsXG5cdFx0XHRcdDB4NTAwMDogMHgxMDAwMDgwLFxuXHRcdFx0XHQweDYwMDA6IDB4MjEwMDAwODAsXG5cdFx0XHRcdDB4NzAwMDogMHg0MDA4MCxcblx0XHRcdFx0MHg4MDAwOiAweDEwMDAwMDAsXG5cdFx0XHRcdDB4OTAwMDogMHgyMDA0MDAwMCxcblx0XHRcdFx0MHhhMDAwOiAweDIwMDAwMDgwLFxuXHRcdFx0XHQweGIwMDA6IDB4MjEwNDAwODAsXG5cdFx0XHRcdDB4YzAwMDogMHgyMTA0MDAwMCxcblx0XHRcdFx0MHhkMDAwOiAweDAsXG5cdFx0XHRcdDB4ZTAwMDogMHgxMDQwMDgwLFxuXHRcdFx0XHQweGYwMDA6IDB4MjEwMDAwMDAsXG5cdFx0XHRcdDB4ODAwOiAweDEwNDAwODAsXG5cdFx0XHRcdDB4MTgwMDogMHgyMTAwMDA4MCxcblx0XHRcdFx0MHgyODAwOiAweDgwLFxuXHRcdFx0XHQweDM4MDA6IDB4MTA0MDAwMCxcblx0XHRcdFx0MHg0ODAwOiAweDQwMDAwLFxuXHRcdFx0XHQweDU4MDA6IDB4MjAwNDAwODAsXG5cdFx0XHRcdDB4NjgwMDogMHgyMTA0MDAwMCxcblx0XHRcdFx0MHg3ODAwOiAweDIwMDAwMDAwLFxuXHRcdFx0XHQweDg4MDA6IDB4MjAwNDAwMDAsXG5cdFx0XHRcdDB4OTgwMDogMHgwLFxuXHRcdFx0XHQweGE4MDA6IDB4MjEwNDAwODAsXG5cdFx0XHRcdDB4YjgwMDogMHgxMDAwMDgwLFxuXHRcdFx0XHQweGM4MDA6IDB4MjAwMDAwODAsXG5cdFx0XHRcdDB4ZDgwMDogMHgyMTAwMDAwMCxcblx0XHRcdFx0MHhlODAwOiAweDEwMDAwMDAsXG5cdFx0XHRcdDB4ZjgwMDogMHg0MDA4MCxcblx0XHRcdFx0MHgxMDAwMDogMHg0MDAwMCxcblx0XHRcdFx0MHgxMTAwMDogMHg4MCxcblx0XHRcdFx0MHgxMjAwMDogMHgyMDAwMDAwMCxcblx0XHRcdFx0MHgxMzAwMDogMHgyMTAwMDA4MCxcblx0XHRcdFx0MHgxNDAwMDogMHgxMDAwMDgwLFxuXHRcdFx0XHQweDE1MDAwOiAweDIxMDQwMDAwLFxuXHRcdFx0XHQweDE2MDAwOiAweDIwMDQwMDgwLFxuXHRcdFx0XHQweDE3MDAwOiAweDEwMDAwMDAsXG5cdFx0XHRcdDB4MTgwMDA6IDB4MjEwNDAwODAsXG5cdFx0XHRcdDB4MTkwMDA6IDB4MjEwMDAwMDAsXG5cdFx0XHRcdDB4MWEwMDA6IDB4MTA0MDAwMCxcblx0XHRcdFx0MHgxYjAwMDogMHgyMDA0MDAwMCxcblx0XHRcdFx0MHgxYzAwMDogMHg0MDA4MCxcblx0XHRcdFx0MHgxZDAwMDogMHgyMDAwMDA4MCxcblx0XHRcdFx0MHgxZTAwMDogMHgwLFxuXHRcdFx0XHQweDFmMDAwOiAweDEwNDAwODAsXG5cdFx0XHRcdDB4MTA4MDA6IDB4MjEwMDAwODAsXG5cdFx0XHRcdDB4MTE4MDA6IDB4MTAwMDAwMCxcblx0XHRcdFx0MHgxMjgwMDogMHgxMDQwMDAwLFxuXHRcdFx0XHQweDEzODAwOiAweDIwMDQwMDgwLFxuXHRcdFx0XHQweDE0ODAwOiAweDIwMDAwMDAwLFxuXHRcdFx0XHQweDE1ODAwOiAweDEwNDAwODAsXG5cdFx0XHRcdDB4MTY4MDA6IDB4ODAsXG5cdFx0XHRcdDB4MTc4MDA6IDB4MjEwNDAwMDAsXG5cdFx0XHRcdDB4MTg4MDA6IDB4NDAwODAsXG5cdFx0XHRcdDB4MTk4MDA6IDB4MjEwNDAwODAsXG5cdFx0XHRcdDB4MWE4MDA6IDB4MCxcblx0XHRcdFx0MHgxYjgwMDogMHgyMTAwMDAwMCxcblx0XHRcdFx0MHgxYzgwMDogMHgxMDAwMDgwLFxuXHRcdFx0XHQweDFkODAwOiAweDQwMDAwLFxuXHRcdFx0XHQweDFlODAwOiAweDIwMDQwMDAwLFxuXHRcdFx0XHQweDFmODAwOiAweDIwMDAwMDgwXG5cdFx0XHR9LCB7XG5cdFx0XHRcdDB4MDogMHgxMDAwMDAwOCxcblx0XHRcdFx0MHgxMDA6IDB4MjAwMCxcblx0XHRcdFx0MHgyMDA6IDB4MTAyMDAwMDAsXG5cdFx0XHRcdDB4MzAwOiAweDEwMjAyMDA4LFxuXHRcdFx0XHQweDQwMDogMHgxMDAwMjAwMCxcblx0XHRcdFx0MHg1MDA6IDB4MjAwMDAwLFxuXHRcdFx0XHQweDYwMDogMHgyMDAwMDgsXG5cdFx0XHRcdDB4NzAwOiAweDEwMDAwMDAwLFxuXHRcdFx0XHQweDgwMDogMHgwLFxuXHRcdFx0XHQweDkwMDogMHgxMDAwMjAwOCxcblx0XHRcdFx0MHhhMDA6IDB4MjAyMDAwLFxuXHRcdFx0XHQweGIwMDogMHg4LFxuXHRcdFx0XHQweGMwMDogMHgxMDIwMDAwOCxcblx0XHRcdFx0MHhkMDA6IDB4MjAyMDA4LFxuXHRcdFx0XHQweGUwMDogMHgyMDA4LFxuXHRcdFx0XHQweGYwMDogMHgxMDIwMjAwMCxcblx0XHRcdFx0MHg4MDogMHgxMDIwMDAwMCxcblx0XHRcdFx0MHgxODA6IDB4MTAyMDIwMDgsXG5cdFx0XHRcdDB4MjgwOiAweDgsXG5cdFx0XHRcdDB4MzgwOiAweDIwMDAwMCxcblx0XHRcdFx0MHg0ODA6IDB4MjAyMDA4LFxuXHRcdFx0XHQweDU4MDogMHgxMDAwMDAwOCxcblx0XHRcdFx0MHg2ODA6IDB4MTAwMDIwMDAsXG5cdFx0XHRcdDB4NzgwOiAweDIwMDgsXG5cdFx0XHRcdDB4ODgwOiAweDIwMDAwOCxcblx0XHRcdFx0MHg5ODA6IDB4MjAwMCxcblx0XHRcdFx0MHhhODA6IDB4MTAwMDIwMDgsXG5cdFx0XHRcdDB4YjgwOiAweDEwMjAwMDA4LFxuXHRcdFx0XHQweGM4MDogMHgwLFxuXHRcdFx0XHQweGQ4MDogMHgxMDIwMjAwMCxcblx0XHRcdFx0MHhlODA6IDB4MjAyMDAwLFxuXHRcdFx0XHQweGY4MDogMHgxMDAwMDAwMCxcblx0XHRcdFx0MHgxMDAwOiAweDEwMDAyMDAwLFxuXHRcdFx0XHQweDExMDA6IDB4MTAyMDAwMDgsXG5cdFx0XHRcdDB4MTIwMDogMHgxMDIwMjAwOCxcblx0XHRcdFx0MHgxMzAwOiAweDIwMDgsXG5cdFx0XHRcdDB4MTQwMDogMHgyMDAwMDAsXG5cdFx0XHRcdDB4MTUwMDogMHgxMDAwMDAwMCxcblx0XHRcdFx0MHgxNjAwOiAweDEwMDAwMDA4LFxuXHRcdFx0XHQweDE3MDA6IDB4MjAyMDAwLFxuXHRcdFx0XHQweDE4MDA6IDB4MjAyMDA4LFxuXHRcdFx0XHQweDE5MDA6IDB4MCxcblx0XHRcdFx0MHgxYTAwOiAweDgsXG5cdFx0XHRcdDB4MWIwMDogMHgxMDIwMDAwMCxcblx0XHRcdFx0MHgxYzAwOiAweDIwMDAsXG5cdFx0XHRcdDB4MWQwMDogMHgxMDAwMjAwOCxcblx0XHRcdFx0MHgxZTAwOiAweDEwMjAyMDAwLFxuXHRcdFx0XHQweDFmMDA6IDB4MjAwMDA4LFxuXHRcdFx0XHQweDEwODA6IDB4OCxcblx0XHRcdFx0MHgxMTgwOiAweDIwMjAwMCxcblx0XHRcdFx0MHgxMjgwOiAweDIwMDAwMCxcblx0XHRcdFx0MHgxMzgwOiAweDEwMDAwMDA4LFxuXHRcdFx0XHQweDE0ODA6IDB4MTAwMDIwMDAsXG5cdFx0XHRcdDB4MTU4MDogMHgyMDA4LFxuXHRcdFx0XHQweDE2ODA6IDB4MTAyMDIwMDgsXG5cdFx0XHRcdDB4MTc4MDogMHgxMDIwMDAwMCxcblx0XHRcdFx0MHgxODgwOiAweDEwMjAyMDAwLFxuXHRcdFx0XHQweDE5ODA6IDB4MTAyMDAwMDgsXG5cdFx0XHRcdDB4MWE4MDogMHgyMDAwLFxuXHRcdFx0XHQweDFiODA6IDB4MjAyMDA4LFxuXHRcdFx0XHQweDFjODA6IDB4MjAwMDA4LFxuXHRcdFx0XHQweDFkODA6IDB4MCxcblx0XHRcdFx0MHgxZTgwOiAweDEwMDAwMDAwLFxuXHRcdFx0XHQweDFmODA6IDB4MTAwMDIwMDhcblx0XHRcdH0sIHtcblx0XHRcdFx0MHgwOiAweDEwMDAwMCxcblx0XHRcdFx0MHgxMDogMHgyMDAwNDAxLFxuXHRcdFx0XHQweDIwOiAweDQwMCxcblx0XHRcdFx0MHgzMDogMHgxMDA0MDEsXG5cdFx0XHRcdDB4NDA6IDB4MjEwMDQwMSxcblx0XHRcdFx0MHg1MDogMHgwLFxuXHRcdFx0XHQweDYwOiAweDEsXG5cdFx0XHRcdDB4NzA6IDB4MjEwMDAwMSxcblx0XHRcdFx0MHg4MDogMHgyMDAwNDAwLFxuXHRcdFx0XHQweDkwOiAweDEwMDAwMSxcblx0XHRcdFx0MHhhMDogMHgyMDAwMDAxLFxuXHRcdFx0XHQweGIwOiAweDIxMDA0MDAsXG5cdFx0XHRcdDB4YzA6IDB4MjEwMDAwMCxcblx0XHRcdFx0MHhkMDogMHg0MDEsXG5cdFx0XHRcdDB4ZTA6IDB4MTAwNDAwLFxuXHRcdFx0XHQweGYwOiAweDIwMDAwMDAsXG5cdFx0XHRcdDB4ODogMHgyMTAwMDAxLFxuXHRcdFx0XHQweDE4OiAweDAsXG5cdFx0XHRcdDB4Mjg6IDB4MjAwMDQwMSxcblx0XHRcdFx0MHgzODogMHgyMTAwNDAwLFxuXHRcdFx0XHQweDQ4OiAweDEwMDAwMCxcblx0XHRcdFx0MHg1ODogMHgyMDAwMDAxLFxuXHRcdFx0XHQweDY4OiAweDIwMDAwMDAsXG5cdFx0XHRcdDB4Nzg6IDB4NDAxLFxuXHRcdFx0XHQweDg4OiAweDEwMDQwMSxcblx0XHRcdFx0MHg5ODogMHgyMDAwNDAwLFxuXHRcdFx0XHQweGE4OiAweDIxMDAwMDAsXG5cdFx0XHRcdDB4Yjg6IDB4MTAwMDAxLFxuXHRcdFx0XHQweGM4OiAweDQwMCxcblx0XHRcdFx0MHhkODogMHgyMTAwNDAxLFxuXHRcdFx0XHQweGU4OiAweDEsXG5cdFx0XHRcdDB4Zjg6IDB4MTAwNDAwLFxuXHRcdFx0XHQweDEwMDogMHgyMDAwMDAwLFxuXHRcdFx0XHQweDExMDogMHgxMDAwMDAsXG5cdFx0XHRcdDB4MTIwOiAweDIwMDA0MDEsXG5cdFx0XHRcdDB4MTMwOiAweDIxMDAwMDEsXG5cdFx0XHRcdDB4MTQwOiAweDEwMDAwMSxcblx0XHRcdFx0MHgxNTA6IDB4MjAwMDQwMCxcblx0XHRcdFx0MHgxNjA6IDB4MjEwMDQwMCxcblx0XHRcdFx0MHgxNzA6IDB4MTAwNDAxLFxuXHRcdFx0XHQweDE4MDogMHg0MDEsXG5cdFx0XHRcdDB4MTkwOiAweDIxMDA0MDEsXG5cdFx0XHRcdDB4MWEwOiAweDEwMDQwMCxcblx0XHRcdFx0MHgxYjA6IDB4MSxcblx0XHRcdFx0MHgxYzA6IDB4MCxcblx0XHRcdFx0MHgxZDA6IDB4MjEwMDAwMCxcblx0XHRcdFx0MHgxZTA6IDB4MjAwMDAwMSxcblx0XHRcdFx0MHgxZjA6IDB4NDAwLFxuXHRcdFx0XHQweDEwODogMHgxMDA0MDAsXG5cdFx0XHRcdDB4MTE4OiAweDIwMDA0MDEsXG5cdFx0XHRcdDB4MTI4OiAweDIxMDAwMDEsXG5cdFx0XHRcdDB4MTM4OiAweDEsXG5cdFx0XHRcdDB4MTQ4OiAweDIwMDAwMDAsXG5cdFx0XHRcdDB4MTU4OiAweDEwMDAwMCxcblx0XHRcdFx0MHgxNjg6IDB4NDAxLFxuXHRcdFx0XHQweDE3ODogMHgyMTAwNDAwLFxuXHRcdFx0XHQweDE4ODogMHgyMDAwMDAxLFxuXHRcdFx0XHQweDE5ODogMHgyMTAwMDAwLFxuXHRcdFx0XHQweDFhODogMHgwLFxuXHRcdFx0XHQweDFiODogMHgyMTAwNDAxLFxuXHRcdFx0XHQweDFjODogMHgxMDA0MDEsXG5cdFx0XHRcdDB4MWQ4OiAweDQwMCxcblx0XHRcdFx0MHgxZTg6IDB4MjAwMDQwMCxcblx0XHRcdFx0MHgxZjg6IDB4MTAwMDAxXG5cdFx0XHR9LCB7XG5cdFx0XHRcdDB4MDogMHg4MDAwODIwLFxuXHRcdFx0XHQweDE6IDB4MjAwMDAsXG5cdFx0XHRcdDB4MjogMHg4MDAwMDAwLFxuXHRcdFx0XHQweDM6IDB4MjAsXG5cdFx0XHRcdDB4NDogMHgyMDAyMCxcblx0XHRcdFx0MHg1OiAweDgwMjA4MjAsXG5cdFx0XHRcdDB4NjogMHg4MDIwODAwLFxuXHRcdFx0XHQweDc6IDB4ODAwLFxuXHRcdFx0XHQweDg6IDB4ODAyMDAwMCxcblx0XHRcdFx0MHg5OiAweDgwMDA4MDAsXG5cdFx0XHRcdDB4YTogMHgyMDgwMCxcblx0XHRcdFx0MHhiOiAweDgwMjAwMjAsXG5cdFx0XHRcdDB4YzogMHg4MjAsXG5cdFx0XHRcdDB4ZDogMHgwLFxuXHRcdFx0XHQweGU6IDB4ODAwMDAyMCxcblx0XHRcdFx0MHhmOiAweDIwODIwLFxuXHRcdFx0XHQweDgwMDAwMDAwOiAweDgwMCxcblx0XHRcdFx0MHg4MDAwMDAwMTogMHg4MDIwODIwLFxuXHRcdFx0XHQweDgwMDAwMDAyOiAweDgwMDA4MjAsXG5cdFx0XHRcdDB4ODAwMDAwMDM6IDB4ODAwMDAwMCxcblx0XHRcdFx0MHg4MDAwMDAwNDogMHg4MDIwMDAwLFxuXHRcdFx0XHQweDgwMDAwMDA1OiAweDIwODAwLFxuXHRcdFx0XHQweDgwMDAwMDA2OiAweDIwODIwLFxuXHRcdFx0XHQweDgwMDAwMDA3OiAweDIwLFxuXHRcdFx0XHQweDgwMDAwMDA4OiAweDgwMDAwMjAsXG5cdFx0XHRcdDB4ODAwMDAwMDk6IDB4ODIwLFxuXHRcdFx0XHQweDgwMDAwMDBhOiAweDIwMDIwLFxuXHRcdFx0XHQweDgwMDAwMDBiOiAweDgwMjA4MDAsXG5cdFx0XHRcdDB4ODAwMDAwMGM6IDB4MCxcblx0XHRcdFx0MHg4MDAwMDAwZDogMHg4MDIwMDIwLFxuXHRcdFx0XHQweDgwMDAwMDBlOiAweDgwMDA4MDAsXG5cdFx0XHRcdDB4ODAwMDAwMGY6IDB4MjAwMDAsXG5cdFx0XHRcdDB4MTA6IDB4MjA4MjAsXG5cdFx0XHRcdDB4MTE6IDB4ODAyMDgwMCxcblx0XHRcdFx0MHgxMjogMHgyMCxcblx0XHRcdFx0MHgxMzogMHg4MDAsXG5cdFx0XHRcdDB4MTQ6IDB4ODAwMDgwMCxcblx0XHRcdFx0MHgxNTogMHg4MDAwMDIwLFxuXHRcdFx0XHQweDE2OiAweDgwMjAwMjAsXG5cdFx0XHRcdDB4MTc6IDB4MjAwMDAsXG5cdFx0XHRcdDB4MTg6IDB4MCxcblx0XHRcdFx0MHgxOTogMHgyMDAyMCxcblx0XHRcdFx0MHgxYTogMHg4MDIwMDAwLFxuXHRcdFx0XHQweDFiOiAweDgwMDA4MjAsXG5cdFx0XHRcdDB4MWM6IDB4ODAyMDgyMCxcblx0XHRcdFx0MHgxZDogMHgyMDgwMCxcblx0XHRcdFx0MHgxZTogMHg4MjAsXG5cdFx0XHRcdDB4MWY6IDB4ODAwMDAwMCxcblx0XHRcdFx0MHg4MDAwMDAxMDogMHgyMDAwMCxcblx0XHRcdFx0MHg4MDAwMDAxMTogMHg4MDAsXG5cdFx0XHRcdDB4ODAwMDAwMTI6IDB4ODAyMDAyMCxcblx0XHRcdFx0MHg4MDAwMDAxMzogMHgyMDgyMCxcblx0XHRcdFx0MHg4MDAwMDAxNDogMHgyMCxcblx0XHRcdFx0MHg4MDAwMDAxNTogMHg4MDIwMDAwLFxuXHRcdFx0XHQweDgwMDAwMDE2OiAweDgwMDAwMDAsXG5cdFx0XHRcdDB4ODAwMDAwMTc6IDB4ODAwMDgyMCxcblx0XHRcdFx0MHg4MDAwMDAxODogMHg4MDIwODIwLFxuXHRcdFx0XHQweDgwMDAwMDE5OiAweDgwMDAwMjAsXG5cdFx0XHRcdDB4ODAwMDAwMWE6IDB4ODAwMDgwMCxcblx0XHRcdFx0MHg4MDAwMDAxYjogMHgwLFxuXHRcdFx0XHQweDgwMDAwMDFjOiAweDIwODAwLFxuXHRcdFx0XHQweDgwMDAwMDFkOiAweDgyMCxcblx0XHRcdFx0MHg4MDAwMDAxZTogMHgyMDAyMCxcblx0XHRcdFx0MHg4MDAwMDAxZjogMHg4MDIwODAwXG5cdFx0XHR9XTtcblx0XG5cdFx0XHQvLyBNYXNrcyB0aGF0IHNlbGVjdCB0aGUgU0JPWCBpbnB1dFxuXHRcdFx0dmFyIFNCT1hfTUFTSyA9IFsweGY4MDAwMDAxLCAweDFmODAwMDAwLCAweDAxZjgwMDAwLCAweDAwMWY4MDAwLCAweDAwMDFmODAwLCAweDAwMDAxZjgwLCAweDAwMDAwMWY4LCAweDgwMDAwMDFmXTtcblx0XG5cdFx0XHQvKipcblx0ICAgKiBERVMgYmxvY2sgY2lwaGVyIGFsZ29yaXRobS5cblx0ICAgKi9cblx0XHRcdHZhciBERVMgPSBDX2FsZ28uREVTID0gQmxvY2tDaXBoZXIuZXh0ZW5kKHtcblx0XHRcdFx0X2RvUmVzZXQ6IGZ1bmN0aW9uIF9kb1Jlc2V0KCkge1xuXHRcdFx0XHRcdC8vIFNob3J0Y3V0c1xuXHRcdFx0XHRcdHZhciBrZXkgPSB0aGlzLl9rZXk7XG5cdFx0XHRcdFx0dmFyIGtleVdvcmRzID0ga2V5LndvcmRzO1xuXHRcblx0XHRcdFx0XHQvLyBTZWxlY3QgNTYgYml0cyBhY2NvcmRpbmcgdG8gUEMxXG5cdFx0XHRcdFx0dmFyIGtleUJpdHMgPSBbXTtcblx0XHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IDU2OyBpKyspIHtcblx0XHRcdFx0XHRcdHZhciBrZXlCaXRQb3MgPSBQQzFbaV0gLSAxO1xuXHRcdFx0XHRcdFx0a2V5Qml0c1tpXSA9IGtleVdvcmRzW2tleUJpdFBvcyA+Pj4gNV0gPj4+IDMxIC0ga2V5Qml0UG9zICUgMzIgJiAxO1xuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0Ly8gQXNzZW1ibGUgMTYgc3Via2V5c1xuXHRcdFx0XHRcdHZhciBzdWJLZXlzID0gdGhpcy5fc3ViS2V5cyA9IFtdO1xuXHRcdFx0XHRcdGZvciAodmFyIG5TdWJLZXkgPSAwOyBuU3ViS2V5IDwgMTY7IG5TdWJLZXkrKykge1xuXHRcdFx0XHRcdFx0Ly8gQ3JlYXRlIHN1YmtleVxuXHRcdFx0XHRcdFx0dmFyIHN1YktleSA9IHN1YktleXNbblN1YktleV0gPSBbXTtcblx0XG5cdFx0XHRcdFx0XHQvLyBTaG9ydGN1dFxuXHRcdFx0XHRcdFx0dmFyIGJpdFNoaWZ0ID0gQklUX1NISUZUU1tuU3ViS2V5XTtcblx0XG5cdFx0XHRcdFx0XHQvLyBTZWxlY3QgNDggYml0cyBhY2NvcmRpbmcgdG8gUEMyXG5cdFx0XHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IDI0OyBpKyspIHtcblx0XHRcdFx0XHRcdFx0Ly8gU2VsZWN0IGZyb20gdGhlIGxlZnQgMjgga2V5IGJpdHNcblx0XHRcdFx0XHRcdFx0c3ViS2V5W2kgLyA2IHwgMF0gfD0ga2V5Qml0c1soUEMyW2ldIC0gMSArIGJpdFNoaWZ0KSAlIDI4XSA8PCAzMSAtIGkgJSA2O1xuXHRcblx0XHRcdFx0XHRcdFx0Ly8gU2VsZWN0IGZyb20gdGhlIHJpZ2h0IDI4IGtleSBiaXRzXG5cdFx0XHRcdFx0XHRcdHN1YktleVs0ICsgKGkgLyA2IHwgMCldIHw9IGtleUJpdHNbMjggKyAoUEMyW2kgKyAyNF0gLSAxICsgYml0U2hpZnQpICUgMjhdIDw8IDMxIC0gaSAlIDY7XG5cdFx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdFx0Ly8gU2luY2UgZWFjaCBzdWJrZXkgaXMgYXBwbGllZCB0byBhbiBleHBhbmRlZCAzMi1iaXQgaW5wdXQsXG5cdFx0XHRcdFx0XHQvLyB0aGUgc3Via2V5IGNhbiBiZSBicm9rZW4gaW50byA4IHZhbHVlcyBzY2FsZWQgdG8gMzItYml0cyxcblx0XHRcdFx0XHRcdC8vIHdoaWNoIGFsbG93cyB0aGUga2V5IHRvIGJlIHVzZWQgd2l0aG91dCBleHBhbnNpb25cblx0XHRcdFx0XHRcdHN1YktleVswXSA9IHN1YktleVswXSA8PCAxIHwgc3ViS2V5WzBdID4+PiAzMTtcblx0XHRcdFx0XHRcdGZvciAodmFyIGkgPSAxOyBpIDwgNzsgaSsrKSB7XG5cdFx0XHRcdFx0XHRcdHN1YktleVtpXSA9IHN1YktleVtpXSA+Pj4gKGkgLSAxKSAqIDQgKyAzO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0c3ViS2V5WzddID0gc3ViS2V5WzddIDw8IDUgfCBzdWJLZXlbN10gPj4+IDI3O1xuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0Ly8gQ29tcHV0ZSBpbnZlcnNlIHN1YmtleXNcblx0XHRcdFx0XHR2YXIgaW52U3ViS2V5cyA9IHRoaXMuX2ludlN1YktleXMgPSBbXTtcblx0XHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IDE2OyBpKyspIHtcblx0XHRcdFx0XHRcdGludlN1YktleXNbaV0gPSBzdWJLZXlzWzE1IC0gaV07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXHRcblx0XHRcdFx0ZW5jcnlwdEJsb2NrOiBmdW5jdGlvbiBlbmNyeXB0QmxvY2soTSwgb2Zmc2V0KSB7XG5cdFx0XHRcdFx0dGhpcy5fZG9DcnlwdEJsb2NrKE0sIG9mZnNldCwgdGhpcy5fc3ViS2V5cyk7XG5cdFx0XHRcdH0sXG5cdFxuXHRcdFx0XHRkZWNyeXB0QmxvY2s6IGZ1bmN0aW9uIGRlY3J5cHRCbG9jayhNLCBvZmZzZXQpIHtcblx0XHRcdFx0XHR0aGlzLl9kb0NyeXB0QmxvY2soTSwgb2Zmc2V0LCB0aGlzLl9pbnZTdWJLZXlzKTtcblx0XHRcdFx0fSxcblx0XG5cdFx0XHRcdF9kb0NyeXB0QmxvY2s6IGZ1bmN0aW9uIF9kb0NyeXB0QmxvY2soTSwgb2Zmc2V0LCBzdWJLZXlzKSB7XG5cdFx0XHRcdFx0Ly8gR2V0IGlucHV0XG5cdFx0XHRcdFx0dGhpcy5fbEJsb2NrID0gTVtvZmZzZXRdO1xuXHRcdFx0XHRcdHRoaXMuX3JCbG9jayA9IE1bb2Zmc2V0ICsgMV07XG5cdFxuXHRcdFx0XHRcdC8vIEluaXRpYWwgcGVybXV0YXRpb25cblx0XHRcdFx0XHRleGNoYW5nZUxSLmNhbGwodGhpcywgNCwgMHgwZjBmMGYwZik7XG5cdFx0XHRcdFx0ZXhjaGFuZ2VMUi5jYWxsKHRoaXMsIDE2LCAweDAwMDBmZmZmKTtcblx0XHRcdFx0XHRleGNoYW5nZVJMLmNhbGwodGhpcywgMiwgMHgzMzMzMzMzMyk7XG5cdFx0XHRcdFx0ZXhjaGFuZ2VSTC5jYWxsKHRoaXMsIDgsIDB4MDBmZjAwZmYpO1xuXHRcdFx0XHRcdGV4Y2hhbmdlTFIuY2FsbCh0aGlzLCAxLCAweDU1NTU1NTU1KTtcblx0XG5cdFx0XHRcdFx0Ly8gUm91bmRzXG5cdFx0XHRcdFx0Zm9yICh2YXIgcm91bmQgPSAwOyByb3VuZCA8IDE2OyByb3VuZCsrKSB7XG5cdFx0XHRcdFx0XHQvLyBTaG9ydGN1dHNcblx0XHRcdFx0XHRcdHZhciBzdWJLZXkgPSBzdWJLZXlzW3JvdW5kXTtcblx0XHRcdFx0XHRcdHZhciBsQmxvY2sgPSB0aGlzLl9sQmxvY2s7XG5cdFx0XHRcdFx0XHR2YXIgckJsb2NrID0gdGhpcy5fckJsb2NrO1xuXHRcblx0XHRcdFx0XHRcdC8vIEZlaXN0ZWwgZnVuY3Rpb25cblx0XHRcdFx0XHRcdHZhciBmID0gMDtcblx0XHRcdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgODsgaSsrKSB7XG5cdFx0XHRcdFx0XHRcdGYgfD0gU0JPWF9QW2ldWygockJsb2NrIF4gc3ViS2V5W2ldKSAmIFNCT1hfTUFTS1tpXSkgPj4+IDBdO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0dGhpcy5fbEJsb2NrID0gckJsb2NrO1xuXHRcdFx0XHRcdFx0dGhpcy5fckJsb2NrID0gbEJsb2NrIF4gZjtcblx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdC8vIFVuZG8gc3dhcCBmcm9tIGxhc3Qgcm91bmRcblx0XHRcdFx0XHR2YXIgdCA9IHRoaXMuX2xCbG9jaztcblx0XHRcdFx0XHR0aGlzLl9sQmxvY2sgPSB0aGlzLl9yQmxvY2s7XG5cdFx0XHRcdFx0dGhpcy5fckJsb2NrID0gdDtcblx0XG5cdFx0XHRcdFx0Ly8gRmluYWwgcGVybXV0YXRpb25cblx0XHRcdFx0XHRleGNoYW5nZUxSLmNhbGwodGhpcywgMSwgMHg1NTU1NTU1NSk7XG5cdFx0XHRcdFx0ZXhjaGFuZ2VSTC5jYWxsKHRoaXMsIDgsIDB4MDBmZjAwZmYpO1xuXHRcdFx0XHRcdGV4Y2hhbmdlUkwuY2FsbCh0aGlzLCAyLCAweDMzMzMzMzMzKTtcblx0XHRcdFx0XHRleGNoYW5nZUxSLmNhbGwodGhpcywgMTYsIDB4MDAwMGZmZmYpO1xuXHRcdFx0XHRcdGV4Y2hhbmdlTFIuY2FsbCh0aGlzLCA0LCAweDBmMGYwZjBmKTtcblx0XG5cdFx0XHRcdFx0Ly8gU2V0IG91dHB1dFxuXHRcdFx0XHRcdE1bb2Zmc2V0XSA9IHRoaXMuX2xCbG9jaztcblx0XHRcdFx0XHRNW29mZnNldCArIDFdID0gdGhpcy5fckJsb2NrO1xuXHRcdFx0XHR9LFxuXHRcblx0XHRcdFx0a2V5U2l6ZTogNjQgLyAzMixcblx0XG5cdFx0XHRcdGl2U2l6ZTogNjQgLyAzMixcblx0XG5cdFx0XHRcdGJsb2NrU2l6ZTogNjQgLyAzMlxuXHRcdFx0fSk7XG5cdFxuXHRcdFx0Ly8gU3dhcCBiaXRzIGFjcm9zcyB0aGUgbGVmdCBhbmQgcmlnaHQgd29yZHNcblx0XHRcdGZ1bmN0aW9uIGV4Y2hhbmdlTFIob2Zmc2V0LCBtYXNrKSB7XG5cdFx0XHRcdHZhciB0ID0gKHRoaXMuX2xCbG9jayA+Pj4gb2Zmc2V0IF4gdGhpcy5fckJsb2NrKSAmIG1hc2s7XG5cdFx0XHRcdHRoaXMuX3JCbG9jayBePSB0O1xuXHRcdFx0XHR0aGlzLl9sQmxvY2sgXj0gdCA8PCBvZmZzZXQ7XG5cdFx0XHR9XG5cdFxuXHRcdFx0ZnVuY3Rpb24gZXhjaGFuZ2VSTChvZmZzZXQsIG1hc2spIHtcblx0XHRcdFx0dmFyIHQgPSAodGhpcy5fckJsb2NrID4+PiBvZmZzZXQgXiB0aGlzLl9sQmxvY2spICYgbWFzaztcblx0XHRcdFx0dGhpcy5fbEJsb2NrIF49IHQ7XG5cdFx0XHRcdHRoaXMuX3JCbG9jayBePSB0IDw8IG9mZnNldDtcblx0XHRcdH1cblx0XG5cdFx0XHQvKipcblx0ICAgKiBTaG9ydGN1dCBmdW5jdGlvbnMgdG8gdGhlIGNpcGhlcidzIG9iamVjdCBpbnRlcmZhY2UuXG5cdCAgICpcblx0ICAgKiBAZXhhbXBsZVxuXHQgICAqXG5cdCAgICogICAgIHZhciBjaXBoZXJ0ZXh0ID0gQ3J5cHRvSlMuREVTLmVuY3J5cHQobWVzc2FnZSwga2V5LCBjZmcpO1xuXHQgICAqICAgICB2YXIgcGxhaW50ZXh0ICA9IENyeXB0b0pTLkRFUy5kZWNyeXB0KGNpcGhlcnRleHQsIGtleSwgY2ZnKTtcblx0ICAgKi9cblx0XHRcdEMuREVTID0gQmxvY2tDaXBoZXIuX2NyZWF0ZUhlbHBlcihERVMpO1xuXHRcblx0XHRcdC8qKlxuXHQgICAqIFRyaXBsZS1ERVMgYmxvY2sgY2lwaGVyIGFsZ29yaXRobS5cblx0ICAgKi9cblx0XHRcdHZhciBUcmlwbGVERVMgPSBDX2FsZ28uVHJpcGxlREVTID0gQmxvY2tDaXBoZXIuZXh0ZW5kKHtcblx0XHRcdFx0X2RvUmVzZXQ6IGZ1bmN0aW9uIF9kb1Jlc2V0KCkge1xuXHRcdFx0XHRcdC8vIFNob3J0Y3V0c1xuXHRcdFx0XHRcdHZhciBrZXkgPSB0aGlzLl9rZXk7XG5cdFx0XHRcdFx0dmFyIGtleVdvcmRzID0ga2V5LndvcmRzO1xuXHRcblx0XHRcdFx0XHQvLyBDcmVhdGUgREVTIGluc3RhbmNlc1xuXHRcdFx0XHRcdHRoaXMuX2RlczEgPSBERVMuY3JlYXRlRW5jcnlwdG9yKFdvcmRBcnJheS5jcmVhdGUoa2V5V29yZHMuc2xpY2UoMCwgMikpKTtcblx0XHRcdFx0XHR0aGlzLl9kZXMyID0gREVTLmNyZWF0ZUVuY3J5cHRvcihXb3JkQXJyYXkuY3JlYXRlKGtleVdvcmRzLnNsaWNlKDIsIDQpKSk7XG5cdFx0XHRcdFx0dGhpcy5fZGVzMyA9IERFUy5jcmVhdGVFbmNyeXB0b3IoV29yZEFycmF5LmNyZWF0ZShrZXlXb3Jkcy5zbGljZSg0LCA2KSkpO1xuXHRcdFx0XHR9LFxuXHRcblx0XHRcdFx0ZW5jcnlwdEJsb2NrOiBmdW5jdGlvbiBlbmNyeXB0QmxvY2soTSwgb2Zmc2V0KSB7XG5cdFx0XHRcdFx0dGhpcy5fZGVzMS5lbmNyeXB0QmxvY2soTSwgb2Zmc2V0KTtcblx0XHRcdFx0XHR0aGlzLl9kZXMyLmRlY3J5cHRCbG9jayhNLCBvZmZzZXQpO1xuXHRcdFx0XHRcdHRoaXMuX2RlczMuZW5jcnlwdEJsb2NrKE0sIG9mZnNldCk7XG5cdFx0XHRcdH0sXG5cdFxuXHRcdFx0XHRkZWNyeXB0QmxvY2s6IGZ1bmN0aW9uIGRlY3J5cHRCbG9jayhNLCBvZmZzZXQpIHtcblx0XHRcdFx0XHR0aGlzLl9kZXMzLmRlY3J5cHRCbG9jayhNLCBvZmZzZXQpO1xuXHRcdFx0XHRcdHRoaXMuX2RlczIuZW5jcnlwdEJsb2NrKE0sIG9mZnNldCk7XG5cdFx0XHRcdFx0dGhpcy5fZGVzMS5kZWNyeXB0QmxvY2soTSwgb2Zmc2V0KTtcblx0XHRcdFx0fSxcblx0XG5cdFx0XHRcdGtleVNpemU6IDE5MiAvIDMyLFxuXHRcblx0XHRcdFx0aXZTaXplOiA2NCAvIDMyLFxuXHRcblx0XHRcdFx0YmxvY2tTaXplOiA2NCAvIDMyXG5cdFx0XHR9KTtcblx0XG5cdFx0XHQvKipcblx0ICAgKiBTaG9ydGN1dCBmdW5jdGlvbnMgdG8gdGhlIGNpcGhlcidzIG9iamVjdCBpbnRlcmZhY2UuXG5cdCAgICpcblx0ICAgKiBAZXhhbXBsZVxuXHQgICAqXG5cdCAgICogICAgIHZhciBjaXBoZXJ0ZXh0ID0gQ3J5cHRvSlMuVHJpcGxlREVTLmVuY3J5cHQobWVzc2FnZSwga2V5LCBjZmcpO1xuXHQgICAqICAgICB2YXIgcGxhaW50ZXh0ICA9IENyeXB0b0pTLlRyaXBsZURFUy5kZWNyeXB0KGNpcGhlcnRleHQsIGtleSwgY2ZnKTtcblx0ICAgKi9cblx0XHRcdEMuVHJpcGxlREVTID0gQmxvY2tDaXBoZXIuX2NyZWF0ZUhlbHBlcihUcmlwbGVERVMpO1xuXHRcdH0pKCk7XG5cdFxuXHRcdHJldHVybiBDcnlwdG9KUy5UcmlwbGVERVM7XG5cdH0pO1xuXG4vKioqLyB9LFxuLyogNDggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdC8qXG5cdCAgICBUaGlzIGZpbGUgaXMgcGFydCBvZiB3ZWIzLmpzLlxuXHRcblx0ICAgIHdlYjMuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuXHQgICAgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG5cdCAgICB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuXHQgICAgKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cblx0XG5cdCAgICB3ZWIzLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG5cdCAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuXHQgICAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuXHQgICAgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG5cdFxuXHQgICAgWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG5cdCAgICBhbG9uZyB3aXRoIHdlYjMuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG5cdCovXG5cdC8qKiBcblx0ICogQGZpbGUgcGFyYW0uanNcblx0ICogQGF1dGhvciBNYXJlayBLb3Rld2ljeiA8bWFyZWtAZXRoZGV2LmNvbT5cblx0ICogQGRhdGUgMjAxNVxuXHQgKi9cblx0XG5cdHZhciB1dGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHQvKipcblx0ICogU29saWRpdHlQYXJhbSBvYmplY3QgcHJvdG90eXBlLlxuXHQgKiBTaG91bGQgYmUgdXNlZCB3aGVuIGVuY29kaW5nLCBkZWNvZGluZyBzb2xpZGl0eSBieXRlc1xuXHQgKi9cblx0dmFyIFNvbGlkaXR5UGFyYW0gPSBmdW5jdGlvbiBTb2xpZGl0eVBhcmFtKHZhbHVlLCBvZmZzZXQpIHtcblx0ICAgIHRoaXMudmFsdWUgPSB2YWx1ZSB8fCAnJztcblx0ICAgIHRoaXMub2Zmc2V0ID0gb2Zmc2V0OyAvLyBvZmZzZXQgaW4gYnl0ZXNcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBUaGlzIG1ldGhvZCBzaG91bGQgYmUgdXNlZCB0byBnZXQgbGVuZ3RoIG9mIHBhcmFtcydzIGR5bmFtaWMgcGFydFxuXHQgKiBcblx0ICogQG1ldGhvZCBkeW5hbWljUGFydExlbmd0aFxuXHQgKiBAcmV0dXJucyB7TnVtYmVyfSBsZW5ndGggb2YgZHluYW1pYyBwYXJ0IChpbiBieXRlcylcblx0ICovXG5cdFNvbGlkaXR5UGFyYW0ucHJvdG90eXBlLmR5bmFtaWNQYXJ0TGVuZ3RoID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIHRoaXMuZHluYW1pY1BhcnQoKS5sZW5ndGggLyAyO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFRoaXMgbWV0aG9kIHNob3VsZCBiZSB1c2VkIHRvIGNyZWF0ZSBjb3B5IG9mIHNvbGlkaXR5IHBhcmFtIHdpdGggZGlmZmVyZW50IG9mZnNldFxuXHQgKlxuXHQgKiBAbWV0aG9kIHdpdGhPZmZzZXRcblx0ICogQHBhcmFtIHtOdW1iZXJ9IG9mZnNldCBsZW5ndGggaW4gYnl0ZXNcblx0ICogQHJldHVybnMge1NvbGlkaXR5UGFyYW19IG5ldyBzb2xpZGl0eSBwYXJhbSB3aXRoIGFwcGxpZWQgb2Zmc2V0XG5cdCAqL1xuXHRTb2xpZGl0eVBhcmFtLnByb3RvdHlwZS53aXRoT2Zmc2V0ID0gZnVuY3Rpb24gKG9mZnNldCkge1xuXHQgICAgcmV0dXJuIG5ldyBTb2xpZGl0eVBhcmFtKHRoaXMudmFsdWUsIG9mZnNldCk7XG5cdH07XG5cdFxuXHQvKipcblx0ICogVGhpcyBtZXRob2Qgc2hvdWxkIGJlIHVzZWQgdG8gY29tYmluZSBzb2xpZGl0eSBwYXJhbXMgdG9nZXRoZXJcblx0ICogZWcuIHdoZW4gYXBwZW5kaW5nIGFuIGFycmF5XG5cdCAqXG5cdCAqIEBtZXRob2QgY29tYmluZVxuXHQgKiBAcGFyYW0ge1NvbGlkaXR5UGFyYW19IHBhcmFtIHdpdGggd2hpY2ggd2Ugc2hvdWxkIGNvbWJpbmVcblx0ICogQHBhcmFtIHtTb2xpZGl0eVBhcmFtfSByZXN1bHQgb2YgY29tYmluYXRpb25cblx0ICovXG5cdFNvbGlkaXR5UGFyYW0ucHJvdG90eXBlLmNvbWJpbmUgPSBmdW5jdGlvbiAocGFyYW0pIHtcblx0ICAgIHJldHVybiBuZXcgU29saWRpdHlQYXJhbSh0aGlzLnZhbHVlICsgcGFyYW0udmFsdWUpO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFRoaXMgbWV0aG9kIHNob3VsZCBiZSBjYWxsZWQgdG8gY2hlY2sgaWYgcGFyYW0gaGFzIGR5bmFtaWMgc2l6ZS5cblx0ICogSWYgaXQgaGFzLCBpdCByZXR1cm5zIHRydWUsIG90aGVyd2lzZSBmYWxzZVxuXHQgKlxuXHQgKiBAbWV0aG9kIGlzRHluYW1pY1xuXHQgKiBAcmV0dXJucyB7Qm9vbGVhbn1cblx0ICovXG5cdFNvbGlkaXR5UGFyYW0ucHJvdG90eXBlLmlzRHluYW1pYyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiB0aGlzLm9mZnNldCAhPT0gdW5kZWZpbmVkO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFRoaXMgbWV0aG9kIHNob3VsZCBiZSBjYWxsZWQgdG8gdHJhbnNmb3JtIG9mZnNldCB0byBieXRlc1xuXHQgKlxuXHQgKiBAbWV0aG9kIG9mZnNldEFzQnl0ZXNcblx0ICogQHJldHVybnMge1N0cmluZ30gYnl0ZXMgcmVwcmVzZW50YXRpb24gb2Ygb2Zmc2V0XG5cdCAqL1xuXHRTb2xpZGl0eVBhcmFtLnByb3RvdHlwZS5vZmZzZXRBc0J5dGVzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuICF0aGlzLmlzRHluYW1pYygpID8gJycgOiB1dGlscy5wYWRMZWZ0KHV0aWxzLnRvVHdvc0NvbXBsZW1lbnQodGhpcy5vZmZzZXQpLnRvU3RyaW5nKDE2KSwgNjQpO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFRoaXMgbWV0aG9kIHNob3VsZCBiZSBjYWxsZWQgdG8gZ2V0IHN0YXRpYyBwYXJ0IG9mIHBhcmFtXG5cdCAqXG5cdCAqIEBtZXRob2Qgc3RhdGljUGFydFxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfSBvZmZzZXQgaWYgaXQgaXMgYSBkeW5hbWljIHBhcmFtLCBvdGhlcndpc2UgdmFsdWVcblx0ICovXG5cdFNvbGlkaXR5UGFyYW0ucHJvdG90eXBlLnN0YXRpY1BhcnQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBpZiAoIXRoaXMuaXNEeW5hbWljKCkpIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy52YWx1ZTtcblx0ICAgIH1cblx0ICAgIHJldHVybiB0aGlzLm9mZnNldEFzQnl0ZXMoKTtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBUaGlzIG1ldGhvZCBzaG91bGQgYmUgY2FsbGVkIHRvIGdldCBkeW5hbWljIHBhcnQgb2YgcGFyYW1cblx0ICpcblx0ICogQG1ldGhvZCBkeW5hbWljUGFydFxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfSByZXR1cm5zIGEgdmFsdWUgaWYgaXQgaXMgYSBkeW5hbWljIHBhcmFtLCBvdGhlcndpc2UgZW1wdHkgc3RyaW5nXG5cdCAqL1xuXHRTb2xpZGl0eVBhcmFtLnByb3RvdHlwZS5keW5hbWljUGFydCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiB0aGlzLmlzRHluYW1pYygpID8gdGhpcy52YWx1ZSA6ICcnO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFRoaXMgbWV0aG9kIHNob3VsZCBiZSBjYWxsZWQgdG8gZW5jb2RlIHBhcmFtXG5cdCAqXG5cdCAqIEBtZXRob2QgZW5jb2RlXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9XG5cdCAqL1xuXHRTb2xpZGl0eVBhcmFtLnByb3RvdHlwZS5lbmNvZGUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5zdGF0aWNQYXJ0KCkgKyB0aGlzLmR5bmFtaWNQYXJ0KCk7XG5cdH07XG5cdFxuXHQvKipcblx0ICogVGhpcyBtZXRob2Qgc2hvdWxkIGJlIGNhbGxlZCB0byBlbmNvZGUgYXJyYXkgb2YgcGFyYW1zXG5cdCAqXG5cdCAqIEBtZXRob2QgZW5jb2RlTGlzdFxuXHQgKiBAcGFyYW0ge0FycmF5W1NvbGlkaXR5UGFyYW1dfSBwYXJhbXNcblx0ICogQHJldHVybnMge1N0cmluZ31cblx0ICovXG5cdFNvbGlkaXR5UGFyYW0uZW5jb2RlTGlzdCA9IGZ1bmN0aW9uIChwYXJhbXMpIHtcblx0XG5cdCAgICAvLyB1cGRhdGluZyBvZmZzZXRzXG5cdCAgICB2YXIgdG90YWxPZmZzZXQgPSBwYXJhbXMubGVuZ3RoICogMzI7XG5cdCAgICB2YXIgb2Zmc2V0UGFyYW1zID0gcGFyYW1zLm1hcChmdW5jdGlvbiAocGFyYW0pIHtcblx0ICAgICAgICBpZiAoIXBhcmFtLmlzRHluYW1pYygpKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBwYXJhbTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgdmFyIG9mZnNldCA9IHRvdGFsT2Zmc2V0O1xuXHQgICAgICAgIHRvdGFsT2Zmc2V0ICs9IHBhcmFtLmR5bmFtaWNQYXJ0TGVuZ3RoKCk7XG5cdCAgICAgICAgcmV0dXJuIHBhcmFtLndpdGhPZmZzZXQob2Zmc2V0KTtcblx0ICAgIH0pO1xuXHRcblx0ICAgIC8vIGVuY29kZSBldmVyeXRoaW5nIVxuXHQgICAgcmV0dXJuIG9mZnNldFBhcmFtcy5yZWR1Y2UoZnVuY3Rpb24gKHJlc3VsdCwgcGFyYW0pIHtcblx0ICAgICAgICByZXR1cm4gcmVzdWx0ICsgcGFyYW0uZHluYW1pY1BhcnQoKTtcblx0ICAgIH0sIG9mZnNldFBhcmFtcy5yZWR1Y2UoZnVuY3Rpb24gKHJlc3VsdCwgcGFyYW0pIHtcblx0ICAgICAgICByZXR1cm4gcmVzdWx0ICsgcGFyYW0uc3RhdGljUGFydCgpO1xuXHQgICAgfSwgJycpKTtcblx0fTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gU29saWRpdHlQYXJhbTtcblxuLyoqKi8gfSxcbi8qIDQ5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHQvKlxuXHQgICAgVGhpcyBmaWxlIGlzIHBhcnQgb2Ygd2ViMy5qcy5cblx0XG5cdCAgICB3ZWIzLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcblx0ICAgIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuXHQgICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3Jcblx0ICAgIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG5cdFxuXHQgICAgd2ViMy5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuXHQgICAgYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2Zcblx0ICAgIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcblx0ICAgIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuXHRcblx0ICAgIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuXHQgICAgYWxvbmcgd2l0aCB3ZWIzLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuXHQqL1xuXHQvKiogXG5cdCAqIEBmaWxlIGV2ZW50LmpzXG5cdCAqIEBhdXRob3IgTWFyZWsgS290ZXdpY3ogPG1hcmVrQGV0aGRldi5jb20+XG5cdCAqIEBkYXRlIDIwMTRcblx0ICovXG5cdFxuXHR2YXIgdXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHR2YXIgY29kZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI1KTtcblx0dmFyIGZvcm1hdHRlcnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXHR2YXIgc2hhMyA9IF9fd2VicGFja19yZXF1aXJlX18oMTUpO1xuXHR2YXIgRmlsdGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMSk7XG5cdHZhciB3YXRjaGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMyk7XG5cdFxuXHQvKipcblx0ICogVGhpcyBwcm90b3R5cGUgc2hvdWxkIGJlIHVzZWQgdG8gY3JlYXRlIGV2ZW50IGZpbHRlcnNcblx0ICovXG5cdHZhciBTb2xpZGl0eUV2ZW50ID0gZnVuY3Rpb24gU29saWRpdHlFdmVudChyZXF1ZXN0TWFuYWdlciwganNvbiwgYWRkcmVzcykge1xuXHQgICAgdGhpcy5fcmVxdWVzdE1hbmFnZXIgPSByZXF1ZXN0TWFuYWdlcjtcblx0ICAgIHRoaXMuX3BhcmFtcyA9IGpzb24uaW5wdXRzO1xuXHQgICAgdGhpcy5fbmFtZSA9IHV0aWxzLnRyYW5zZm9ybVRvRnVsbE5hbWUoanNvbik7XG5cdCAgICB0aGlzLl9hZGRyZXNzID0gYWRkcmVzcztcblx0ICAgIHRoaXMuX2Fub255bW91cyA9IGpzb24uYW5vbnltb3VzO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFNob3VsZCBiZSB1c2VkIHRvIGdldCBmaWx0ZXJlZCBwYXJhbSB0eXBlc1xuXHQgKlxuXHQgKiBAbWV0aG9kIHR5cGVzXG5cdCAqIEBwYXJhbSB7Qm9vbH0gZGVjaWRlIGlmIHJldHVybmVkIHR5cGVkIHNob3VsZCBiZSBpbmRleGVkXG5cdCAqIEByZXR1cm4ge0FycmF5fSBhcnJheSBvZiB0eXBlc1xuXHQgKi9cblx0U29saWRpdHlFdmVudC5wcm90b3R5cGUudHlwZXMgPSBmdW5jdGlvbiAoaW5kZXhlZCkge1xuXHQgICAgcmV0dXJuIHRoaXMuX3BhcmFtcy5maWx0ZXIoZnVuY3Rpb24gKGkpIHtcblx0ICAgICAgICByZXR1cm4gaS5pbmRleGVkID09PSBpbmRleGVkO1xuXHQgICAgfSkubWFwKGZ1bmN0aW9uIChpKSB7XG5cdCAgICAgICAgcmV0dXJuIGkudHlwZTtcblx0ICAgIH0pO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFNob3VsZCBiZSB1c2VkIHRvIGdldCBldmVudCBkaXNwbGF5IG5hbWVcblx0ICpcblx0ICogQG1ldGhvZCBkaXNwbGF5TmFtZVxuXHQgKiBAcmV0dXJuIHtTdHJpbmd9IGV2ZW50IGRpc3BsYXkgbmFtZVxuXHQgKi9cblx0U29saWRpdHlFdmVudC5wcm90b3R5cGUuZGlzcGxheU5hbWUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gdXRpbHMuZXh0cmFjdERpc3BsYXlOYW1lKHRoaXMuX25hbWUpO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFNob3VsZCBiZSB1c2VkIHRvIGdldCBldmVudCB0eXBlIG5hbWVcblx0ICpcblx0ICogQG1ldGhvZCB0eXBlTmFtZVxuXHQgKiBAcmV0dXJuIHtTdHJpbmd9IGV2ZW50IHR5cGUgbmFtZVxuXHQgKi9cblx0U29saWRpdHlFdmVudC5wcm90b3R5cGUudHlwZU5hbWUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gdXRpbHMuZXh0cmFjdFR5cGVOYW1lKHRoaXMuX25hbWUpO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFNob3VsZCBiZSB1c2VkIHRvIGdldCBldmVudCBzaWduYXR1cmVcblx0ICpcblx0ICogQG1ldGhvZCBzaWduYXR1cmVcblx0ICogQHJldHVybiB7U3RyaW5nfSBldmVudCBzaWduYXR1cmVcblx0ICovXG5cdFNvbGlkaXR5RXZlbnQucHJvdG90eXBlLnNpZ25hdHVyZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiBzaGEzKHRoaXMuX25hbWUpO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFNob3VsZCBiZSB1c2VkIHRvIGVuY29kZSBpbmRleGVkIHBhcmFtcyBhbmQgb3B0aW9ucyB0byBvbmUgZmluYWwgb2JqZWN0XG5cdCAqIFxuXHQgKiBAbWV0aG9kIGVuY29kZVxuXHQgKiBAcGFyYW0ge09iamVjdH0gaW5kZXhlZFxuXHQgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuXHQgKiBAcmV0dXJuIHtPYmplY3R9IGV2ZXJ5dGhpbmcgY29tYmluZWQgdG9nZXRoZXIgYW5kIGVuY29kZWRcblx0ICovXG5cdFNvbGlkaXR5RXZlbnQucHJvdG90eXBlLmVuY29kZSA9IGZ1bmN0aW9uIChpbmRleGVkLCBvcHRpb25zKSB7XG5cdCAgICBpbmRleGVkID0gaW5kZXhlZCB8fCB7fTtcblx0ICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXHQgICAgdmFyIHJlc3VsdCA9IHt9O1xuXHRcblx0ICAgIFsnZnJvbUJsb2NrJywgJ3RvQmxvY2snXS5maWx0ZXIoZnVuY3Rpb24gKGYpIHtcblx0ICAgICAgICByZXR1cm4gb3B0aW9uc1tmXSAhPT0gdW5kZWZpbmVkO1xuXHQgICAgfSkuZm9yRWFjaChmdW5jdGlvbiAoZikge1xuXHQgICAgICAgIHJlc3VsdFtmXSA9IGZvcm1hdHRlcnMuaW5wdXRCbG9ja051bWJlckZvcm1hdHRlcihvcHRpb25zW2ZdKTtcblx0ICAgIH0pO1xuXHRcblx0ICAgIHJlc3VsdC50b3BpY3MgPSBbXTtcblx0XG5cdCAgICByZXN1bHQuYWRkcmVzcyA9IHRoaXMuX2FkZHJlc3M7XG5cdCAgICBpZiAoIXRoaXMuX2Fub255bW91cykge1xuXHQgICAgICAgIHJlc3VsdC50b3BpY3MucHVzaCgnMHgnICsgdGhpcy5zaWduYXR1cmUoKSk7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGluZGV4ZWRUb3BpY3MgPSB0aGlzLl9wYXJhbXMuZmlsdGVyKGZ1bmN0aW9uIChpKSB7XG5cdCAgICAgICAgcmV0dXJuIGkuaW5kZXhlZCA9PT0gdHJ1ZTtcblx0ICAgIH0pLm1hcChmdW5jdGlvbiAoaSkge1xuXHQgICAgICAgIHZhciB2YWx1ZSA9IGluZGV4ZWRbaS5uYW1lXTtcblx0ICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCB8fCB2YWx1ZSA9PT0gbnVsbCkge1xuXHQgICAgICAgICAgICByZXR1cm4gbnVsbDtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGlmICh1dGlscy5pc0FycmF5KHZhbHVlKSkge1xuXHQgICAgICAgICAgICByZXR1cm4gdmFsdWUubWFwKGZ1bmN0aW9uICh2KSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gJzB4JyArIGNvZGVyLmVuY29kZVBhcmFtKGkudHlwZSwgdik7XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gJzB4JyArIGNvZGVyLmVuY29kZVBhcmFtKGkudHlwZSwgdmFsdWUpO1xuXHQgICAgfSk7XG5cdFxuXHQgICAgcmVzdWx0LnRvcGljcyA9IHJlc3VsdC50b3BpY3MuY29uY2F0KGluZGV4ZWRUb3BpY3MpO1xuXHRcblx0ICAgIHJldHVybiByZXN1bHQ7XG5cdH07XG5cdFxuXHQvKipcblx0ICogU2hvdWxkIGJlIHVzZWQgdG8gZGVjb2RlIGluZGV4ZWQgcGFyYW1zIGFuZCBvcHRpb25zXG5cdCAqXG5cdCAqIEBtZXRob2QgZGVjb2RlXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhXG5cdCAqIEByZXR1cm4ge09iamVjdH0gcmVzdWx0IG9iamVjdCB3aXRoIGRlY29kZWQgaW5kZXhlZCAmJiBub3QgaW5kZXhlZCBwYXJhbXNcblx0ICovXG5cdFNvbGlkaXR5RXZlbnQucHJvdG90eXBlLmRlY29kZSA9IGZ1bmN0aW9uIChkYXRhKSB7XG5cdFxuXHQgICAgZGF0YS5kYXRhID0gZGF0YS5kYXRhIHx8ICcnO1xuXHQgICAgZGF0YS50b3BpY3MgPSBkYXRhLnRvcGljcyB8fCBbXTtcblx0XG5cdCAgICB2YXIgYXJnVG9waWNzID0gdGhpcy5fYW5vbnltb3VzID8gZGF0YS50b3BpY3MgOiBkYXRhLnRvcGljcy5zbGljZSgxKTtcblx0ICAgIHZhciBpbmRleGVkRGF0YSA9IGFyZ1RvcGljcy5tYXAoZnVuY3Rpb24gKHRvcGljcykge1xuXHQgICAgICAgIHJldHVybiB0b3BpY3Muc2xpY2UoMik7XG5cdCAgICB9KS5qb2luKFwiXCIpO1xuXHQgICAgdmFyIGluZGV4ZWRQYXJhbXMgPSBjb2Rlci5kZWNvZGVQYXJhbXModGhpcy50eXBlcyh0cnVlKSwgaW5kZXhlZERhdGEpO1xuXHRcblx0ICAgIHZhciBub3RJbmRleGVkRGF0YSA9IGRhdGEuZGF0YS5zbGljZSgyKTtcblx0ICAgIHZhciBub3RJbmRleGVkUGFyYW1zID0gY29kZXIuZGVjb2RlUGFyYW1zKHRoaXMudHlwZXMoZmFsc2UpLCBub3RJbmRleGVkRGF0YSk7XG5cdFxuXHQgICAgdmFyIHJlc3VsdCA9IGZvcm1hdHRlcnMub3V0cHV0TG9nRm9ybWF0dGVyKGRhdGEpO1xuXHQgICAgcmVzdWx0LmV2ZW50ID0gdGhpcy5kaXNwbGF5TmFtZSgpO1xuXHQgICAgcmVzdWx0LmFkZHJlc3MgPSBkYXRhLmFkZHJlc3M7XG5cdFxuXHQgICAgcmVzdWx0LmFyZ3MgPSB0aGlzLl9wYXJhbXMucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGN1cnJlbnQpIHtcblx0ICAgICAgICBhY2NbY3VycmVudC5uYW1lXSA9IGN1cnJlbnQuaW5kZXhlZCA/IGluZGV4ZWRQYXJhbXMuc2hpZnQoKSA6IG5vdEluZGV4ZWRQYXJhbXMuc2hpZnQoKTtcblx0ICAgICAgICByZXR1cm4gYWNjO1xuXHQgICAgfSwge30pO1xuXHRcblx0ICAgIGRlbGV0ZSByZXN1bHQuZGF0YTtcblx0ICAgIGRlbGV0ZSByZXN1bHQudG9waWNzO1xuXHRcblx0ICAgIHJldHVybiByZXN1bHQ7XG5cdH07XG5cdFxuXHQvKipcblx0ICogU2hvdWxkIGJlIHVzZWQgdG8gY3JlYXRlIG5ldyBmaWx0ZXIgb2JqZWN0IGZyb20gZXZlbnRcblx0ICpcblx0ICogQG1ldGhvZCBleGVjdXRlXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBpbmRleGVkXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG5cdCAqIEByZXR1cm4ge09iamVjdH0gZmlsdGVyIG9iamVjdFxuXHQgKi9cblx0U29saWRpdHlFdmVudC5wcm90b3R5cGUuZXhlY3V0ZSA9IGZ1bmN0aW9uIChpbmRleGVkLCBvcHRpb25zLCBjYWxsYmFjaykge1xuXHRcblx0ICAgIGlmICh1dGlscy5pc0Z1bmN0aW9uKGFyZ3VtZW50c1thcmd1bWVudHMubGVuZ3RoIC0gMV0pKSB7XG5cdCAgICAgICAgY2FsbGJhY2sgPSBhcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aCAtIDFdO1xuXHQgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAyKSBvcHRpb25zID0gbnVsbDtcblx0ICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuXHQgICAgICAgICAgICBvcHRpb25zID0gbnVsbDtcblx0ICAgICAgICAgICAgaW5kZXhlZCA9IHt9O1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICB2YXIgbyA9IHRoaXMuZW5jb2RlKGluZGV4ZWQsIG9wdGlvbnMpO1xuXHQgICAgdmFyIGZvcm1hdHRlciA9IHRoaXMuZGVjb2RlLmJpbmQodGhpcyk7XG5cdCAgICByZXR1cm4gbmV3IEZpbHRlcih0aGlzLl9yZXF1ZXN0TWFuYWdlciwgbywgd2F0Y2hlcy5ldGgoKSwgZm9ybWF0dGVyLCBjYWxsYmFjayk7XG5cdH07XG5cdFxuXHQvKipcblx0ICogU2hvdWxkIGJlIHVzZWQgdG8gYXR0YWNoIGV2ZW50IHRvIGNvbnRyYWN0IG9iamVjdFxuXHQgKlxuXHQgKiBAbWV0aG9kIGF0dGFjaFRvQ29udHJhY3Rcblx0ICogQHBhcmFtIHtDb250cmFjdH1cblx0ICovXG5cdFNvbGlkaXR5RXZlbnQucHJvdG90eXBlLmF0dGFjaFRvQ29udHJhY3QgPSBmdW5jdGlvbiAoY29udHJhY3QpIHtcblx0ICAgIHZhciBleGVjdXRlID0gdGhpcy5leGVjdXRlLmJpbmQodGhpcyk7XG5cdCAgICB2YXIgZGlzcGxheU5hbWUgPSB0aGlzLmRpc3BsYXlOYW1lKCk7XG5cdCAgICBpZiAoIWNvbnRyYWN0W2Rpc3BsYXlOYW1lXSkge1xuXHQgICAgICAgIGNvbnRyYWN0W2Rpc3BsYXlOYW1lXSA9IGV4ZWN1dGU7XG5cdCAgICB9XG5cdCAgICBjb250cmFjdFtkaXNwbGF5TmFtZV1bdGhpcy50eXBlTmFtZSgpXSA9IHRoaXMuZXhlY3V0ZS5iaW5kKHRoaXMsIGNvbnRyYWN0KTtcblx0fTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gU29saWRpdHlFdmVudDtcblxuLyoqKi8gfSxcbi8qIDUwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHQvKlxuXHQgICAgVGhpcyBmaWxlIGlzIHBhcnQgb2Ygd2ViMy5qcy5cblx0XG5cdCAgICB3ZWIzLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcblx0ICAgIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuXHQgICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3Jcblx0ICAgIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG5cdFxuXHQgICAgd2ViMy5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuXHQgICAgYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2Zcblx0ICAgIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcblx0ICAgIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuXHRcblx0ICAgIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuXHQgICAgYWxvbmcgd2l0aCB3ZWIzLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuXHQqL1xuXHQvKiogQGZpbGUganNvbnJwYy5qc1xuXHQgKiBAYXV0aG9yczpcblx0ICogICBNYXJlayBLb3Rld2ljeiA8bWFyZWtAZXRoZGV2LmNvbT5cblx0ICogICBBYXJvbiBLdW1hdmlzIDxhYXJvbkBrdW1hdmlzLm1lPlxuXHQgKiBAZGF0ZSAyMDE1XG5cdCAqL1xuXHRcblx0Ly8gSW5pdGlhbGl6ZSBKc29ucnBjIGFzIGEgc2ltcGxlIG9iamVjdCB3aXRoIHV0aWxpdHkgZnVuY3Rpb25zLlxuXHR2YXIgSnNvbnJwYyA9IHtcblx0ICAgIG1lc3NhZ2VJZDogMFxuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFNob3VsZCBiZSBjYWxsZWQgdG8gdmFsaWQganNvbiBjcmVhdGUgcGF5bG9hZCBvYmplY3Rcblx0ICpcblx0ICogQG1ldGhvZCB0b1BheWxvYWRcblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gbWV0aG9kIG9mIGpzb25ycGMgY2FsbCwgcmVxdWlyZWRcblx0ICogQHBhcmFtIHtBcnJheX0gcGFyYW1zLCBhbiBhcnJheSBvZiBtZXRob2QgcGFyYW1zLCBvcHRpb25hbFxuXHQgKiBAcmV0dXJucyB7T2JqZWN0fSB2YWxpZCBqc29ucnBjIHBheWxvYWQgb2JqZWN0XG5cdCAqL1xuXHRKc29ucnBjLnRvUGF5bG9hZCA9IGZ1bmN0aW9uIChtZXRob2QsIHBhcmFtcykge1xuXHQgICAgaWYgKCFtZXRob2QpIGNvbnNvbGUuZXJyb3IoJ2pzb25ycGMgbWV0aG9kIHNob3VsZCBiZSBzcGVjaWZpZWQhJyk7XG5cdFxuXHQgICAgLy8gYWR2YW5jZSBtZXNzYWdlIElEXG5cdCAgICBKc29ucnBjLm1lc3NhZ2VJZCsrO1xuXHRcblx0ICAgIHJldHVybiB7XG5cdCAgICAgICAganNvbnJwYzogJzIuMCcsXG5cdCAgICAgICAgaWQ6IEpzb25ycGMubWVzc2FnZUlkLFxuXHQgICAgICAgIG1ldGhvZDogbWV0aG9kLFxuXHQgICAgICAgIHBhcmFtczogcGFyYW1zIHx8IFtdXG5cdCAgICB9O1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFNob3VsZCBiZSBjYWxsZWQgdG8gY2hlY2sgaWYganNvbnJwYyByZXNwb25zZSBpcyB2YWxpZFxuXHQgKlxuXHQgKiBAbWV0aG9kIGlzVmFsaWRSZXNwb25zZVxuXHQgKiBAcGFyYW0ge09iamVjdH1cblx0ICogQHJldHVybnMge0Jvb2xlYW59IHRydWUgaWYgcmVzcG9uc2UgaXMgdmFsaWQsIG90aGVyd2lzZSBmYWxzZVxuXHQgKi9cblx0SnNvbnJwYy5pc1ZhbGlkUmVzcG9uc2UgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0ICAgIHJldHVybiBBcnJheS5pc0FycmF5KHJlc3BvbnNlKSA/IHJlc3BvbnNlLmV2ZXJ5KHZhbGlkYXRlU2luZ2xlTWVzc2FnZSkgOiB2YWxpZGF0ZVNpbmdsZU1lc3NhZ2UocmVzcG9uc2UpO1xuXHRcblx0ICAgIGZ1bmN0aW9uIHZhbGlkYXRlU2luZ2xlTWVzc2FnZShtZXNzYWdlKSB7XG5cdCAgICAgICAgcmV0dXJuICEhbWVzc2FnZSAmJiAhbWVzc2FnZS5lcnJvciAmJiBtZXNzYWdlLmpzb25ycGMgPT09ICcyLjAnICYmIHR5cGVvZiBtZXNzYWdlLmlkID09PSAnbnVtYmVyJyAmJiBtZXNzYWdlLnJlc3VsdCAhPT0gdW5kZWZpbmVkOyAvLyBvbmx5IHVuZGVmaW5lZCBpcyBub3QgdmFsaWQganNvbiBvYmplY3Rcblx0ICAgIH1cblx0fTtcblx0XG5cdC8qKlxuXHQgKiBTaG91bGQgYmUgY2FsbGVkIHRvIGNyZWF0ZSBiYXRjaCBwYXlsb2FkIG9iamVjdFxuXHQgKlxuXHQgKiBAbWV0aG9kIHRvQmF0Y2hQYXlsb2FkXG5cdCAqIEBwYXJhbSB7QXJyYXl9IG1lc3NhZ2VzLCBhbiBhcnJheSBvZiBvYmplY3RzIHdpdGggbWV0aG9kIChyZXF1aXJlZCkgYW5kIHBhcmFtcyAob3B0aW9uYWwpIGZpZWxkc1xuXHQgKiBAcmV0dXJucyB7QXJyYXl9IGJhdGNoIHBheWxvYWRcblx0ICovXG5cdEpzb25ycGMudG9CYXRjaFBheWxvYWQgPSBmdW5jdGlvbiAobWVzc2FnZXMpIHtcblx0ICAgIHJldHVybiBtZXNzYWdlcy5tYXAoZnVuY3Rpb24gKG1lc3NhZ2UpIHtcblx0ICAgICAgICByZXR1cm4gSnNvbnJwYy50b1BheWxvYWQobWVzc2FnZS5tZXRob2QsIG1lc3NhZ2UucGFyYW1zKTtcblx0ICAgIH0pO1xuXHR9O1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBKc29ucnBjO1xuXG4vKioqLyB9LFxuLyogNTEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihfX3dlYnBhY2tfYW1kX29wdGlvbnNfXykge21vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX2FtZF9vcHRpb25zX187XHJcblx0XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCB7fSkpXG5cbi8qKiovIH0sXG4vKiA1MiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXywgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXywgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX187XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHR2YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cdFxuXHQ7KGZ1bmN0aW9uIChyb290LCBmYWN0b3J5LCB1bmRlZikge1xuXHRcdGlmICgoIGZhbHNlID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2YoZXhwb3J0cykpID09PSBcIm9iamVjdFwiKSB7XG5cdFx0XHQvLyBDb21tb25KU1xuXHRcdFx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzID0gZmFjdG9yeShfX3dlYnBhY2tfcmVxdWlyZV9fKDEpLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKSwgX193ZWJwYWNrX3JlcXVpcmVfXygyOSksIF9fd2VicGFja19yZXF1aXJlX18oMjcpLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKSwgX193ZWJwYWNrX3JlcXVpcmVfXygxOCksIF9fd2VicGFja19yZXF1aXJlX18oNDUpLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KSwgX193ZWJwYWNrX3JlcXVpcmVfXyg0NiksIF9fd2VicGFja19yZXF1aXJlX18oMjQpLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ0KSwgX193ZWJwYWNrX3JlcXVpcmVfXygxMSksIF9fd2VicGFja19yZXF1aXJlX18oNDApLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDMwKSwgX193ZWJwYWNrX3JlcXVpcmVfXygzMiksIF9fd2VicGFja19yZXF1aXJlX18oMzEpLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDM0KSwgX193ZWJwYWNrX3JlcXVpcmVfXygzMyksIF9fd2VicGFja19yZXF1aXJlX18oMzUpLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDM2KSwgX193ZWJwYWNrX3JlcXVpcmVfXygzNyksIF9fd2VicGFja19yZXF1aXJlX18oMzkpLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDM4KSwgX193ZWJwYWNrX3JlcXVpcmVfXygyOCksIF9fd2VicGFja19yZXF1aXJlX18oMjYpLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ3KSwgX193ZWJwYWNrX3JlcXVpcmVfXyg0MyksIF9fd2VicGFja19yZXF1aXJlX18oNDIpLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDQxKSk7XG5cdFx0fSBlbHNlIGlmICh0cnVlKSB7XG5cdFx0XHQvLyBBTURcblx0XHRcdCEoX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXyA9IFtfX3dlYnBhY2tfcmVxdWlyZV9fKDEpLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKSwgX193ZWJwYWNrX3JlcXVpcmVfXygyOSksIF9fd2VicGFja19yZXF1aXJlX18oMjcpLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKSwgX193ZWJwYWNrX3JlcXVpcmVfXygxOCksIF9fd2VicGFja19yZXF1aXJlX18oNDUpLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KSwgX193ZWJwYWNrX3JlcXVpcmVfXyg0NiksIF9fd2VicGFja19yZXF1aXJlX18oMjQpLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ0KSwgX193ZWJwYWNrX3JlcXVpcmVfXygxMSksIF9fd2VicGFja19yZXF1aXJlX18oNDApLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDMwKSwgX193ZWJwYWNrX3JlcXVpcmVfXygzMiksIF9fd2VicGFja19yZXF1aXJlX18oMzEpLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDM0KSwgX193ZWJwYWNrX3JlcXVpcmVfXygzMyksIF9fd2VicGFja19yZXF1aXJlX18oMzUpLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDM2KSwgX193ZWJwYWNrX3JlcXVpcmVfXygzNyksIF9fd2VicGFja19yZXF1aXJlX18oMzkpLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDM4KSwgX193ZWJwYWNrX3JlcXVpcmVfXygyOCksIF9fd2VicGFja19yZXF1aXJlX18oMjYpLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ3KSwgX193ZWJwYWNrX3JlcXVpcmVfXyg0MyksIF9fd2VicGFja19yZXF1aXJlX18oNDIpLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDQxKV0sIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyA9IChmYWN0b3J5KSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gPSAodHlwZW9mIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyA9PT0gJ2Z1bmN0aW9uJyA/IChfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18uYXBwbHkoZXhwb3J0cywgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXykpIDogX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fKSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gIT09IHVuZGVmaW5lZCAmJiAobW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXykpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBHbG9iYWwgKGJyb3dzZXIpXG5cdFx0XHRyb290LkNyeXB0b0pTID0gZmFjdG9yeShyb290LkNyeXB0b0pTKTtcblx0XHR9XG5cdH0pKHVuZGVmaW5lZCwgZnVuY3Rpb24gKENyeXB0b0pTKSB7XG5cdFxuXHRcdHJldHVybiBDcnlwdG9KUztcblx0fSk7XG5cbi8qKiovIH0sXG4vKiA1MyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IFt7XG5cdFx0XCJjb25zdGFudFwiOiB0cnVlLFxuXHRcdFwiaW5wdXRzXCI6IFt7XG5cdFx0XHRcIm5hbWVcIjogXCJfb3duZXJcIixcblx0XHRcdFwidHlwZVwiOiBcImFkZHJlc3NcIlxuXHRcdH1dLFxuXHRcdFwibmFtZVwiOiBcIm5hbWVcIixcblx0XHRcIm91dHB1dHNcIjogW3tcblx0XHRcdFwibmFtZVwiOiBcIm9fbmFtZVwiLFxuXHRcdFx0XCJ0eXBlXCI6IFwiYnl0ZXMzMlwiXG5cdFx0fV0sXG5cdFx0XCJ0eXBlXCI6IFwiZnVuY3Rpb25cIlxuXHR9LCB7XG5cdFx0XCJjb25zdGFudFwiOiB0cnVlLFxuXHRcdFwiaW5wdXRzXCI6IFt7XG5cdFx0XHRcIm5hbWVcIjogXCJfbmFtZVwiLFxuXHRcdFx0XCJ0eXBlXCI6IFwiYnl0ZXMzMlwiXG5cdFx0fV0sXG5cdFx0XCJuYW1lXCI6IFwib3duZXJcIixcblx0XHRcIm91dHB1dHNcIjogW3tcblx0XHRcdFwibmFtZVwiOiBcIlwiLFxuXHRcdFx0XCJ0eXBlXCI6IFwiYWRkcmVzc1wiXG5cdFx0fV0sXG5cdFx0XCJ0eXBlXCI6IFwiZnVuY3Rpb25cIlxuXHR9LCB7XG5cdFx0XCJjb25zdGFudFwiOiB0cnVlLFxuXHRcdFwiaW5wdXRzXCI6IFt7XG5cdFx0XHRcIm5hbWVcIjogXCJfbmFtZVwiLFxuXHRcdFx0XCJ0eXBlXCI6IFwiYnl0ZXMzMlwiXG5cdFx0fV0sXG5cdFx0XCJuYW1lXCI6IFwiY29udGVudFwiLFxuXHRcdFwib3V0cHV0c1wiOiBbe1xuXHRcdFx0XCJuYW1lXCI6IFwiXCIsXG5cdFx0XHRcInR5cGVcIjogXCJieXRlczMyXCJcblx0XHR9XSxcblx0XHRcInR5cGVcIjogXCJmdW5jdGlvblwiXG5cdH0sIHtcblx0XHRcImNvbnN0YW50XCI6IHRydWUsXG5cdFx0XCJpbnB1dHNcIjogW3tcblx0XHRcdFwibmFtZVwiOiBcIl9uYW1lXCIsXG5cdFx0XHRcInR5cGVcIjogXCJieXRlczMyXCJcblx0XHR9XSxcblx0XHRcIm5hbWVcIjogXCJhZGRyXCIsXG5cdFx0XCJvdXRwdXRzXCI6IFt7XG5cdFx0XHRcIm5hbWVcIjogXCJcIixcblx0XHRcdFwidHlwZVwiOiBcImFkZHJlc3NcIlxuXHRcdH1dLFxuXHRcdFwidHlwZVwiOiBcImZ1bmN0aW9uXCJcblx0fSwge1xuXHRcdFwiY29uc3RhbnRcIjogZmFsc2UsXG5cdFx0XCJpbnB1dHNcIjogW3tcblx0XHRcdFwibmFtZVwiOiBcIl9uYW1lXCIsXG5cdFx0XHRcInR5cGVcIjogXCJieXRlczMyXCJcblx0XHR9XSxcblx0XHRcIm5hbWVcIjogXCJyZXNlcnZlXCIsXG5cdFx0XCJvdXRwdXRzXCI6IFtdLFxuXHRcdFwidHlwZVwiOiBcImZ1bmN0aW9uXCJcblx0fSwge1xuXHRcdFwiY29uc3RhbnRcIjogdHJ1ZSxcblx0XHRcImlucHV0c1wiOiBbe1xuXHRcdFx0XCJuYW1lXCI6IFwiX25hbWVcIixcblx0XHRcdFwidHlwZVwiOiBcImJ5dGVzMzJcIlxuXHRcdH1dLFxuXHRcdFwibmFtZVwiOiBcInN1YlJlZ2lzdHJhclwiLFxuXHRcdFwib3V0cHV0c1wiOiBbe1xuXHRcdFx0XCJuYW1lXCI6IFwiXCIsXG5cdFx0XHRcInR5cGVcIjogXCJhZGRyZXNzXCJcblx0XHR9XSxcblx0XHRcInR5cGVcIjogXCJmdW5jdGlvblwiXG5cdH0sIHtcblx0XHRcImNvbnN0YW50XCI6IGZhbHNlLFxuXHRcdFwiaW5wdXRzXCI6IFt7XG5cdFx0XHRcIm5hbWVcIjogXCJfbmFtZVwiLFxuXHRcdFx0XCJ0eXBlXCI6IFwiYnl0ZXMzMlwiXG5cdFx0fSwge1xuXHRcdFx0XCJuYW1lXCI6IFwiX25ld093bmVyXCIsXG5cdFx0XHRcInR5cGVcIjogXCJhZGRyZXNzXCJcblx0XHR9XSxcblx0XHRcIm5hbWVcIjogXCJ0cmFuc2ZlclwiLFxuXHRcdFwib3V0cHV0c1wiOiBbXSxcblx0XHRcInR5cGVcIjogXCJmdW5jdGlvblwiXG5cdH0sIHtcblx0XHRcImNvbnN0YW50XCI6IGZhbHNlLFxuXHRcdFwiaW5wdXRzXCI6IFt7XG5cdFx0XHRcIm5hbWVcIjogXCJfbmFtZVwiLFxuXHRcdFx0XCJ0eXBlXCI6IFwiYnl0ZXMzMlwiXG5cdFx0fSwge1xuXHRcdFx0XCJuYW1lXCI6IFwiX3JlZ2lzdHJhclwiLFxuXHRcdFx0XCJ0eXBlXCI6IFwiYWRkcmVzc1wiXG5cdFx0fV0sXG5cdFx0XCJuYW1lXCI6IFwic2V0U3ViUmVnaXN0cmFyXCIsXG5cdFx0XCJvdXRwdXRzXCI6IFtdLFxuXHRcdFwidHlwZVwiOiBcImZ1bmN0aW9uXCJcblx0fSwge1xuXHRcdFwiY29uc3RhbnRcIjogZmFsc2UsXG5cdFx0XCJpbnB1dHNcIjogW10sXG5cdFx0XCJuYW1lXCI6IFwiUmVnaXN0cmFyXCIsXG5cdFx0XCJvdXRwdXRzXCI6IFtdLFxuXHRcdFwidHlwZVwiOiBcImZ1bmN0aW9uXCJcblx0fSwge1xuXHRcdFwiY29uc3RhbnRcIjogZmFsc2UsXG5cdFx0XCJpbnB1dHNcIjogW3tcblx0XHRcdFwibmFtZVwiOiBcIl9uYW1lXCIsXG5cdFx0XHRcInR5cGVcIjogXCJieXRlczMyXCJcblx0XHR9LCB7XG5cdFx0XHRcIm5hbWVcIjogXCJfYVwiLFxuXHRcdFx0XCJ0eXBlXCI6IFwiYWRkcmVzc1wiXG5cdFx0fSwge1xuXHRcdFx0XCJuYW1lXCI6IFwiX3ByaW1hcnlcIixcblx0XHRcdFwidHlwZVwiOiBcImJvb2xcIlxuXHRcdH1dLFxuXHRcdFwibmFtZVwiOiBcInNldEFkZHJlc3NcIixcblx0XHRcIm91dHB1dHNcIjogW10sXG5cdFx0XCJ0eXBlXCI6IFwiZnVuY3Rpb25cIlxuXHR9LCB7XG5cdFx0XCJjb25zdGFudFwiOiBmYWxzZSxcblx0XHRcImlucHV0c1wiOiBbe1xuXHRcdFx0XCJuYW1lXCI6IFwiX25hbWVcIixcblx0XHRcdFwidHlwZVwiOiBcImJ5dGVzMzJcIlxuXHRcdH0sIHtcblx0XHRcdFwibmFtZVwiOiBcIl9jb250ZW50XCIsXG5cdFx0XHRcInR5cGVcIjogXCJieXRlczMyXCJcblx0XHR9XSxcblx0XHRcIm5hbWVcIjogXCJzZXRDb250ZW50XCIsXG5cdFx0XCJvdXRwdXRzXCI6IFtdLFxuXHRcdFwidHlwZVwiOiBcImZ1bmN0aW9uXCJcblx0fSwge1xuXHRcdFwiY29uc3RhbnRcIjogZmFsc2UsXG5cdFx0XCJpbnB1dHNcIjogW3tcblx0XHRcdFwibmFtZVwiOiBcIl9uYW1lXCIsXG5cdFx0XHRcInR5cGVcIjogXCJieXRlczMyXCJcblx0XHR9XSxcblx0XHRcIm5hbWVcIjogXCJkaXNvd25cIixcblx0XHRcIm91dHB1dHNcIjogW10sXG5cdFx0XCJ0eXBlXCI6IFwiZnVuY3Rpb25cIlxuXHR9LCB7XG5cdFx0XCJhbm9ueW1vdXNcIjogZmFsc2UsXG5cdFx0XCJpbnB1dHNcIjogW3tcblx0XHRcdFwiaW5kZXhlZFwiOiB0cnVlLFxuXHRcdFx0XCJuYW1lXCI6IFwiX25hbWVcIixcblx0XHRcdFwidHlwZVwiOiBcImJ5dGVzMzJcIlxuXHRcdH0sIHtcblx0XHRcdFwiaW5kZXhlZFwiOiBmYWxzZSxcblx0XHRcdFwibmFtZVwiOiBcIl93aW5uZXJcIixcblx0XHRcdFwidHlwZVwiOiBcImFkZHJlc3NcIlxuXHRcdH1dLFxuXHRcdFwibmFtZVwiOiBcIkF1Y3Rpb25FbmRlZFwiLFxuXHRcdFwidHlwZVwiOiBcImV2ZW50XCJcblx0fSwge1xuXHRcdFwiYW5vbnltb3VzXCI6IGZhbHNlLFxuXHRcdFwiaW5wdXRzXCI6IFt7XG5cdFx0XHRcImluZGV4ZWRcIjogdHJ1ZSxcblx0XHRcdFwibmFtZVwiOiBcIl9uYW1lXCIsXG5cdFx0XHRcInR5cGVcIjogXCJieXRlczMyXCJcblx0XHR9LCB7XG5cdFx0XHRcImluZGV4ZWRcIjogZmFsc2UsXG5cdFx0XHRcIm5hbWVcIjogXCJfYmlkZGVyXCIsXG5cdFx0XHRcInR5cGVcIjogXCJhZGRyZXNzXCJcblx0XHR9LCB7XG5cdFx0XHRcImluZGV4ZWRcIjogZmFsc2UsXG5cdFx0XHRcIm5hbWVcIjogXCJfdmFsdWVcIixcblx0XHRcdFwidHlwZVwiOiBcInVpbnQyNTZcIlxuXHRcdH1dLFxuXHRcdFwibmFtZVwiOiBcIk5ld0JpZFwiLFxuXHRcdFwidHlwZVwiOiBcImV2ZW50XCJcblx0fSwge1xuXHRcdFwiYW5vbnltb3VzXCI6IGZhbHNlLFxuXHRcdFwiaW5wdXRzXCI6IFt7XG5cdFx0XHRcImluZGV4ZWRcIjogdHJ1ZSxcblx0XHRcdFwibmFtZVwiOiBcIm5hbWVcIixcblx0XHRcdFwidHlwZVwiOiBcImJ5dGVzMzJcIlxuXHRcdH1dLFxuXHRcdFwibmFtZVwiOiBcIkNoYW5nZWRcIixcblx0XHRcInR5cGVcIjogXCJldmVudFwiXG5cdH0sIHtcblx0XHRcImFub255bW91c1wiOiBmYWxzZSxcblx0XHRcImlucHV0c1wiOiBbe1xuXHRcdFx0XCJpbmRleGVkXCI6IHRydWUsXG5cdFx0XHRcIm5hbWVcIjogXCJuYW1lXCIsXG5cdFx0XHRcInR5cGVcIjogXCJieXRlczMyXCJcblx0XHR9LCB7XG5cdFx0XHRcImluZGV4ZWRcIjogdHJ1ZSxcblx0XHRcdFwibmFtZVwiOiBcImFkZHJcIixcblx0XHRcdFwidHlwZVwiOiBcImFkZHJlc3NcIlxuXHRcdH1dLFxuXHRcdFwibmFtZVwiOiBcIlByaW1hcnlDaGFuZ2VkXCIsXG5cdFx0XCJ0eXBlXCI6IFwiZXZlbnRcIlxuXHR9XTtcblxuLyoqKi8gfSxcbi8qIDU0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gW3tcblx0XHRcImNvbnN0YW50XCI6IHRydWUsXG5cdFx0XCJpbnB1dHNcIjogW3tcblx0XHRcdFwibmFtZVwiOiBcIl9uYW1lXCIsXG5cdFx0XHRcInR5cGVcIjogXCJieXRlczMyXCJcblx0XHR9XSxcblx0XHRcIm5hbWVcIjogXCJvd25lclwiLFxuXHRcdFwib3V0cHV0c1wiOiBbe1xuXHRcdFx0XCJuYW1lXCI6IFwiXCIsXG5cdFx0XHRcInR5cGVcIjogXCJhZGRyZXNzXCJcblx0XHR9XSxcblx0XHRcInR5cGVcIjogXCJmdW5jdGlvblwiXG5cdH0sIHtcblx0XHRcImNvbnN0YW50XCI6IGZhbHNlLFxuXHRcdFwiaW5wdXRzXCI6IFt7XG5cdFx0XHRcIm5hbWVcIjogXCJfbmFtZVwiLFxuXHRcdFx0XCJ0eXBlXCI6IFwiYnl0ZXMzMlwiXG5cdFx0fSwge1xuXHRcdFx0XCJuYW1lXCI6IFwiX3JlZnVuZFwiLFxuXHRcdFx0XCJ0eXBlXCI6IFwiYWRkcmVzc1wiXG5cdFx0fV0sXG5cdFx0XCJuYW1lXCI6IFwiZGlzb3duXCIsXG5cdFx0XCJvdXRwdXRzXCI6IFtdLFxuXHRcdFwidHlwZVwiOiBcImZ1bmN0aW9uXCJcblx0fSwge1xuXHRcdFwiY29uc3RhbnRcIjogdHJ1ZSxcblx0XHRcImlucHV0c1wiOiBbe1xuXHRcdFx0XCJuYW1lXCI6IFwiX25hbWVcIixcblx0XHRcdFwidHlwZVwiOiBcImJ5dGVzMzJcIlxuXHRcdH1dLFxuXHRcdFwibmFtZVwiOiBcImFkZHJcIixcblx0XHRcIm91dHB1dHNcIjogW3tcblx0XHRcdFwibmFtZVwiOiBcIlwiLFxuXHRcdFx0XCJ0eXBlXCI6IFwiYWRkcmVzc1wiXG5cdFx0fV0sXG5cdFx0XCJ0eXBlXCI6IFwiZnVuY3Rpb25cIlxuXHR9LCB7XG5cdFx0XCJjb25zdGFudFwiOiBmYWxzZSxcblx0XHRcImlucHV0c1wiOiBbe1xuXHRcdFx0XCJuYW1lXCI6IFwiX25hbWVcIixcblx0XHRcdFwidHlwZVwiOiBcImJ5dGVzMzJcIlxuXHRcdH1dLFxuXHRcdFwibmFtZVwiOiBcInJlc2VydmVcIixcblx0XHRcIm91dHB1dHNcIjogW10sXG5cdFx0XCJ0eXBlXCI6IFwiZnVuY3Rpb25cIlxuXHR9LCB7XG5cdFx0XCJjb25zdGFudFwiOiBmYWxzZSxcblx0XHRcImlucHV0c1wiOiBbe1xuXHRcdFx0XCJuYW1lXCI6IFwiX25hbWVcIixcblx0XHRcdFwidHlwZVwiOiBcImJ5dGVzMzJcIlxuXHRcdH0sIHtcblx0XHRcdFwibmFtZVwiOiBcIl9uZXdPd25lclwiLFxuXHRcdFx0XCJ0eXBlXCI6IFwiYWRkcmVzc1wiXG5cdFx0fV0sXG5cdFx0XCJuYW1lXCI6IFwidHJhbnNmZXJcIixcblx0XHRcIm91dHB1dHNcIjogW10sXG5cdFx0XCJ0eXBlXCI6IFwiZnVuY3Rpb25cIlxuXHR9LCB7XG5cdFx0XCJjb25zdGFudFwiOiBmYWxzZSxcblx0XHRcImlucHV0c1wiOiBbe1xuXHRcdFx0XCJuYW1lXCI6IFwiX25hbWVcIixcblx0XHRcdFwidHlwZVwiOiBcImJ5dGVzMzJcIlxuXHRcdH0sIHtcblx0XHRcdFwibmFtZVwiOiBcIl9hXCIsXG5cdFx0XHRcInR5cGVcIjogXCJhZGRyZXNzXCJcblx0XHR9XSxcblx0XHRcIm5hbWVcIjogXCJzZXRBZGRyXCIsXG5cdFx0XCJvdXRwdXRzXCI6IFtdLFxuXHRcdFwidHlwZVwiOiBcImZ1bmN0aW9uXCJcblx0fSwge1xuXHRcdFwiYW5vbnltb3VzXCI6IGZhbHNlLFxuXHRcdFwiaW5wdXRzXCI6IFt7XG5cdFx0XHRcImluZGV4ZWRcIjogdHJ1ZSxcblx0XHRcdFwibmFtZVwiOiBcIm5hbWVcIixcblx0XHRcdFwidHlwZVwiOiBcImJ5dGVzMzJcIlxuXHRcdH1dLFxuXHRcdFwibmFtZVwiOiBcIkNoYW5nZWRcIixcblx0XHRcInR5cGVcIjogXCJldmVudFwiXG5cdH1dO1xuXG4vKioqLyB9LFxuLyogNTUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBbe1xuXHRcdFwiY29uc3RhbnRcIjogZmFsc2UsXG5cdFx0XCJpbnB1dHNcIjogW3tcblx0XHRcdFwibmFtZVwiOiBcImZyb21cIixcblx0XHRcdFwidHlwZVwiOiBcImJ5dGVzMzJcIlxuXHRcdH0sIHtcblx0XHRcdFwibmFtZVwiOiBcInRvXCIsXG5cdFx0XHRcInR5cGVcIjogXCJhZGRyZXNzXCJcblx0XHR9LCB7XG5cdFx0XHRcIm5hbWVcIjogXCJ2YWx1ZVwiLFxuXHRcdFx0XCJ0eXBlXCI6IFwidWludDI1NlwiXG5cdFx0fV0sXG5cdFx0XCJuYW1lXCI6IFwidHJhbnNmZXJcIixcblx0XHRcIm91dHB1dHNcIjogW10sXG5cdFx0XCJ0eXBlXCI6IFwiZnVuY3Rpb25cIlxuXHR9LCB7XG5cdFx0XCJjb25zdGFudFwiOiBmYWxzZSxcblx0XHRcImlucHV0c1wiOiBbe1xuXHRcdFx0XCJuYW1lXCI6IFwiZnJvbVwiLFxuXHRcdFx0XCJ0eXBlXCI6IFwiYnl0ZXMzMlwiXG5cdFx0fSwge1xuXHRcdFx0XCJuYW1lXCI6IFwidG9cIixcblx0XHRcdFwidHlwZVwiOiBcImFkZHJlc3NcIlxuXHRcdH0sIHtcblx0XHRcdFwibmFtZVwiOiBcImluZGlyZWN0SWRcIixcblx0XHRcdFwidHlwZVwiOiBcImJ5dGVzMzJcIlxuXHRcdH0sIHtcblx0XHRcdFwibmFtZVwiOiBcInZhbHVlXCIsXG5cdFx0XHRcInR5cGVcIjogXCJ1aW50MjU2XCJcblx0XHR9XSxcblx0XHRcIm5hbWVcIjogXCJpY2FwVHJhbnNmZXJcIixcblx0XHRcIm91dHB1dHNcIjogW10sXG5cdFx0XCJ0eXBlXCI6IFwiZnVuY3Rpb25cIlxuXHR9LCB7XG5cdFx0XCJjb25zdGFudFwiOiBmYWxzZSxcblx0XHRcImlucHV0c1wiOiBbe1xuXHRcdFx0XCJuYW1lXCI6IFwidG9cIixcblx0XHRcdFwidHlwZVwiOiBcImJ5dGVzMzJcIlxuXHRcdH1dLFxuXHRcdFwibmFtZVwiOiBcImRlcG9zaXRcIixcblx0XHRcIm91dHB1dHNcIjogW10sXG5cdFx0XCJ0eXBlXCI6IFwiZnVuY3Rpb25cIlxuXHR9LCB7XG5cdFx0XCJhbm9ueW1vdXNcIjogZmFsc2UsXG5cdFx0XCJpbnB1dHNcIjogW3tcblx0XHRcdFwiaW5kZXhlZFwiOiB0cnVlLFxuXHRcdFx0XCJuYW1lXCI6IFwiZnJvbVwiLFxuXHRcdFx0XCJ0eXBlXCI6IFwiYWRkcmVzc1wiXG5cdFx0fSwge1xuXHRcdFx0XCJpbmRleGVkXCI6IGZhbHNlLFxuXHRcdFx0XCJuYW1lXCI6IFwidmFsdWVcIixcblx0XHRcdFwidHlwZVwiOiBcInVpbnQyNTZcIlxuXHRcdH1dLFxuXHRcdFwibmFtZVwiOiBcIkFub255bW91c0RlcG9zaXRcIixcblx0XHRcInR5cGVcIjogXCJldmVudFwiXG5cdH0sIHtcblx0XHRcImFub255bW91c1wiOiBmYWxzZSxcblx0XHRcImlucHV0c1wiOiBbe1xuXHRcdFx0XCJpbmRleGVkXCI6IHRydWUsXG5cdFx0XHRcIm5hbWVcIjogXCJmcm9tXCIsXG5cdFx0XHRcInR5cGVcIjogXCJhZGRyZXNzXCJcblx0XHR9LCB7XG5cdFx0XHRcImluZGV4ZWRcIjogdHJ1ZSxcblx0XHRcdFwibmFtZVwiOiBcInRvXCIsXG5cdFx0XHRcInR5cGVcIjogXCJieXRlczMyXCJcblx0XHR9LCB7XG5cdFx0XHRcImluZGV4ZWRcIjogZmFsc2UsXG5cdFx0XHRcIm5hbWVcIjogXCJ2YWx1ZVwiLFxuXHRcdFx0XCJ0eXBlXCI6IFwidWludDI1NlwiXG5cdFx0fV0sXG5cdFx0XCJuYW1lXCI6IFwiRGVwb3NpdFwiLFxuXHRcdFwidHlwZVwiOiBcImV2ZW50XCJcblx0fSwge1xuXHRcdFwiYW5vbnltb3VzXCI6IGZhbHNlLFxuXHRcdFwiaW5wdXRzXCI6IFt7XG5cdFx0XHRcImluZGV4ZWRcIjogdHJ1ZSxcblx0XHRcdFwibmFtZVwiOiBcImZyb21cIixcblx0XHRcdFwidHlwZVwiOiBcImJ5dGVzMzJcIlxuXHRcdH0sIHtcblx0XHRcdFwiaW5kZXhlZFwiOiB0cnVlLFxuXHRcdFx0XCJuYW1lXCI6IFwidG9cIixcblx0XHRcdFwidHlwZVwiOiBcImFkZHJlc3NcIlxuXHRcdH0sIHtcblx0XHRcdFwiaW5kZXhlZFwiOiBmYWxzZSxcblx0XHRcdFwibmFtZVwiOiBcInZhbHVlXCIsXG5cdFx0XHRcInR5cGVcIjogXCJ1aW50MjU2XCJcblx0XHR9XSxcblx0XHRcIm5hbWVcIjogXCJUcmFuc2ZlclwiLFxuXHRcdFwidHlwZVwiOiBcImV2ZW50XCJcblx0fSwge1xuXHRcdFwiYW5vbnltb3VzXCI6IGZhbHNlLFxuXHRcdFwiaW5wdXRzXCI6IFt7XG5cdFx0XHRcImluZGV4ZWRcIjogdHJ1ZSxcblx0XHRcdFwibmFtZVwiOiBcImZyb21cIixcblx0XHRcdFwidHlwZVwiOiBcImJ5dGVzMzJcIlxuXHRcdH0sIHtcblx0XHRcdFwiaW5kZXhlZFwiOiB0cnVlLFxuXHRcdFx0XCJuYW1lXCI6IFwidG9cIixcblx0XHRcdFwidHlwZVwiOiBcImFkZHJlc3NcIlxuXHRcdH0sIHtcblx0XHRcdFwiaW5kZXhlZFwiOiBmYWxzZSxcblx0XHRcdFwibmFtZVwiOiBcImluZGlyZWN0SWRcIixcblx0XHRcdFwidHlwZVwiOiBcImJ5dGVzMzJcIlxuXHRcdH0sIHtcblx0XHRcdFwiaW5kZXhlZFwiOiBmYWxzZSxcblx0XHRcdFwibmFtZVwiOiBcInZhbHVlXCIsXG5cdFx0XHRcInR5cGVcIjogXCJ1aW50MjU2XCJcblx0XHR9XSxcblx0XHRcIm5hbWVcIjogXCJJY2FwVHJhbnNmZXJcIixcblx0XHRcInR5cGVcIjogXCJldmVudFwiXG5cdH1dO1xuXG4vKioqLyB9LFxuLyogNTYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSB7XG5cdFx0XCJ2ZXJzaW9uXCI6IFwiMC4xNy4wLWFscGhhXCJcblx0fTtcblxuLyoqKi8gfSxcbi8qIDU3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRmdW5jdGlvbiBfdG9BcnJheShhcnIpIHtcblx0ICByZXR1cm4gQXJyYXkuaXNBcnJheShhcnIpID8gYXJyIDogQXJyYXkuZnJvbShhcnIpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBpc1VuZGVmKHZhbCkge1xuXHQgIHJldHVybiB0eXBlb2YgdmFsID09PSAndW5kZWZpbmVkJztcblx0fVxuXHRcblx0ZnVuY3Rpb24gaXNTdHJpbmcodmFsKSB7XG5cdCAgcmV0dXJuIHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBzcXViYSgpIHtcblx0ICB2YXIgb2JqID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcblx0ICB2YXIgcGF0aCA9IGFyZ3VtZW50c1sxXTtcblx0XG5cdCAgaWYgKGlzU3RyaW5nKHBhdGgpKSB7XG5cdCAgICByZXR1cm4gc3F1YmEob2JqLCBwYXRoLnNwbGl0KCcuJykpO1xuXHQgIH1cblx0XG5cdCAgaWYgKGlzVW5kZWYob2JqW3BhdGhbMF1dKSkge1xuXHQgICAgcmV0dXJuIHVuZGVmaW5lZDtcblx0ICB9XG5cdFxuXHQgIGlmIChwYXRoLmxlbmd0aCA+IDEpIHtcblx0ICAgIHZhciBfcGF0aCA9IF90b0FycmF5KHBhdGgpLFxuXHQgICAgICAgIGhlYWQgPSBfcGF0aFswXSxcblx0ICAgICAgICB0YWlsID0gX3BhdGguc2xpY2UoMSk7XG5cdFxuXHQgICAgcmV0dXJuIHNxdWJhKG9ialtoZWFkXSwgdGFpbCk7XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gb2JqW3BhdGhbMF1dO1xuXHR9XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IHNxdWJhO1xuXG4vKioqLyB9LFxuLyogNTggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXzsvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24obW9kdWxlLCBnbG9iYWwpIHsndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cdFxuXHQvKiEgaHR0cHM6Ly9tdGhzLmJlL3V0ZjhqcyB2Mi4xLjIgYnkgQG1hdGhpYXMgKi9cblx0OyhmdW5jdGlvbiAocm9vdCkge1xuXHRcblx0XHQvLyBEZXRlY3QgZnJlZSB2YXJpYWJsZXMgYGV4cG9ydHNgXG5cdFx0dmFyIGZyZWVFeHBvcnRzID0gKCBmYWxzZSA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihleHBvcnRzKSkgPT0gJ29iamVjdCcgJiYgZXhwb3J0cztcblx0XG5cdFx0Ly8gRGV0ZWN0IGZyZWUgdmFyaWFibGUgYG1vZHVsZWBcblx0XHR2YXIgZnJlZU1vZHVsZSA9ICggZmFsc2UgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YobW9kdWxlKSkgPT0gJ29iamVjdCcgJiYgbW9kdWxlICYmIG1vZHVsZS5leHBvcnRzID09IGZyZWVFeHBvcnRzICYmIG1vZHVsZTtcblx0XG5cdFx0Ly8gRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGdsb2JhbGAsIGZyb20gTm9kZS5qcyBvciBCcm93c2VyaWZpZWQgY29kZSxcblx0XHQvLyBhbmQgdXNlIGl0IGFzIGByb290YFxuXHRcdHZhciBmcmVlR2xvYmFsID0gKHR5cGVvZiBnbG9iYWwgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKGdsb2JhbCkpID09ICdvYmplY3QnICYmIGdsb2JhbDtcblx0XHRpZiAoZnJlZUdsb2JhbC5nbG9iYWwgPT09IGZyZWVHbG9iYWwgfHwgZnJlZUdsb2JhbC53aW5kb3cgPT09IGZyZWVHbG9iYWwpIHtcblx0XHRcdHJvb3QgPSBmcmVlR2xvYmFsO1xuXHRcdH1cblx0XG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cdFxuXHRcdHZhciBzdHJpbmdGcm9tQ2hhckNvZGUgPSBTdHJpbmcuZnJvbUNoYXJDb2RlO1xuXHRcblx0XHQvLyBUYWtlbiBmcm9tIGh0dHBzOi8vbXRocy5iZS9wdW55Y29kZVxuXHRcdGZ1bmN0aW9uIHVjczJkZWNvZGUoc3RyaW5nKSB7XG5cdFx0XHR2YXIgb3V0cHV0ID0gW107XG5cdFx0XHR2YXIgY291bnRlciA9IDA7XG5cdFx0XHR2YXIgbGVuZ3RoID0gc3RyaW5nLmxlbmd0aDtcblx0XHRcdHZhciB2YWx1ZTtcblx0XHRcdHZhciBleHRyYTtcblx0XHRcdHdoaWxlIChjb3VudGVyIDwgbGVuZ3RoKSB7XG5cdFx0XHRcdHZhbHVlID0gc3RyaW5nLmNoYXJDb2RlQXQoY291bnRlcisrKTtcblx0XHRcdFx0aWYgKHZhbHVlID49IDB4RDgwMCAmJiB2YWx1ZSA8PSAweERCRkYgJiYgY291bnRlciA8IGxlbmd0aCkge1xuXHRcdFx0XHRcdC8vIGhpZ2ggc3Vycm9nYXRlLCBhbmQgdGhlcmUgaXMgYSBuZXh0IGNoYXJhY3RlclxuXHRcdFx0XHRcdGV4dHJhID0gc3RyaW5nLmNoYXJDb2RlQXQoY291bnRlcisrKTtcblx0XHRcdFx0XHRpZiAoKGV4dHJhICYgMHhGQzAwKSA9PSAweERDMDApIHtcblx0XHRcdFx0XHRcdC8vIGxvdyBzdXJyb2dhdGVcblx0XHRcdFx0XHRcdG91dHB1dC5wdXNoKCgodmFsdWUgJiAweDNGRikgPDwgMTApICsgKGV4dHJhICYgMHgzRkYpICsgMHgxMDAwMCk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdC8vIHVubWF0Y2hlZCBzdXJyb2dhdGU7IG9ubHkgYXBwZW5kIHRoaXMgY29kZSB1bml0LCBpbiBjYXNlIHRoZSBuZXh0XG5cdFx0XHRcdFx0XHQvLyBjb2RlIHVuaXQgaXMgdGhlIGhpZ2ggc3Vycm9nYXRlIG9mIGEgc3Vycm9nYXRlIHBhaXJcblx0XHRcdFx0XHRcdG91dHB1dC5wdXNoKHZhbHVlKTtcblx0XHRcdFx0XHRcdGNvdW50ZXItLTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0b3V0cHV0LnB1c2godmFsdWUpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gb3V0cHV0O1xuXHRcdH1cblx0XG5cdFx0Ly8gVGFrZW4gZnJvbSBodHRwczovL210aHMuYmUvcHVueWNvZGVcblx0XHRmdW5jdGlvbiB1Y3MyZW5jb2RlKGFycmF5KSB7XG5cdFx0XHR2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXHRcdFx0dmFyIGluZGV4ID0gLTE7XG5cdFx0XHR2YXIgdmFsdWU7XG5cdFx0XHR2YXIgb3V0cHV0ID0gJyc7XG5cdFx0XHR3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuXHRcdFx0XHR2YWx1ZSA9IGFycmF5W2luZGV4XTtcblx0XHRcdFx0aWYgKHZhbHVlID4gMHhGRkZGKSB7XG5cdFx0XHRcdFx0dmFsdWUgLT0gMHgxMDAwMDtcblx0XHRcdFx0XHRvdXRwdXQgKz0gc3RyaW5nRnJvbUNoYXJDb2RlKHZhbHVlID4+PiAxMCAmIDB4M0ZGIHwgMHhEODAwKTtcblx0XHRcdFx0XHR2YWx1ZSA9IDB4REMwMCB8IHZhbHVlICYgMHgzRkY7XG5cdFx0XHRcdH1cblx0XHRcdFx0b3V0cHV0ICs9IHN0cmluZ0Zyb21DaGFyQ29kZSh2YWx1ZSk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gb3V0cHV0O1xuXHRcdH1cblx0XG5cdFx0ZnVuY3Rpb24gY2hlY2tTY2FsYXJWYWx1ZShjb2RlUG9pbnQpIHtcblx0XHRcdGlmIChjb2RlUG9pbnQgPj0gMHhEODAwICYmIGNvZGVQb2ludCA8PSAweERGRkYpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ0xvbmUgc3Vycm9nYXRlIFUrJyArIGNvZGVQb2ludC50b1N0cmluZygxNikudG9VcHBlckNhc2UoKSArICcgaXMgbm90IGEgc2NhbGFyIHZhbHVlJyk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXHRcblx0XHRmdW5jdGlvbiBjcmVhdGVCeXRlKGNvZGVQb2ludCwgc2hpZnQpIHtcblx0XHRcdHJldHVybiBzdHJpbmdGcm9tQ2hhckNvZGUoY29kZVBvaW50ID4+IHNoaWZ0ICYgMHgzRiB8IDB4ODApO1xuXHRcdH1cblx0XG5cdFx0ZnVuY3Rpb24gZW5jb2RlQ29kZVBvaW50KGNvZGVQb2ludCkge1xuXHRcdFx0aWYgKChjb2RlUG9pbnQgJiAweEZGRkZGRjgwKSA9PSAwKSB7XG5cdFx0XHRcdC8vIDEtYnl0ZSBzZXF1ZW5jZVxuXHRcdFx0XHRyZXR1cm4gc3RyaW5nRnJvbUNoYXJDb2RlKGNvZGVQb2ludCk7XG5cdFx0XHR9XG5cdFx0XHR2YXIgc3ltYm9sID0gJyc7XG5cdFx0XHRpZiAoKGNvZGVQb2ludCAmIDB4RkZGRkY4MDApID09IDApIHtcblx0XHRcdFx0Ly8gMi1ieXRlIHNlcXVlbmNlXG5cdFx0XHRcdHN5bWJvbCA9IHN0cmluZ0Zyb21DaGFyQ29kZShjb2RlUG9pbnQgPj4gNiAmIDB4MUYgfCAweEMwKTtcblx0XHRcdH0gZWxzZSBpZiAoKGNvZGVQb2ludCAmIDB4RkZGRjAwMDApID09IDApIHtcblx0XHRcdFx0Ly8gMy1ieXRlIHNlcXVlbmNlXG5cdFx0XHRcdGNoZWNrU2NhbGFyVmFsdWUoY29kZVBvaW50KTtcblx0XHRcdFx0c3ltYm9sID0gc3RyaW5nRnJvbUNoYXJDb2RlKGNvZGVQb2ludCA+PiAxMiAmIDB4MEYgfCAweEUwKTtcblx0XHRcdFx0c3ltYm9sICs9IGNyZWF0ZUJ5dGUoY29kZVBvaW50LCA2KTtcblx0XHRcdH0gZWxzZSBpZiAoKGNvZGVQb2ludCAmIDB4RkZFMDAwMDApID09IDApIHtcblx0XHRcdFx0Ly8gNC1ieXRlIHNlcXVlbmNlXG5cdFx0XHRcdHN5bWJvbCA9IHN0cmluZ0Zyb21DaGFyQ29kZShjb2RlUG9pbnQgPj4gMTggJiAweDA3IHwgMHhGMCk7XG5cdFx0XHRcdHN5bWJvbCArPSBjcmVhdGVCeXRlKGNvZGVQb2ludCwgMTIpO1xuXHRcdFx0XHRzeW1ib2wgKz0gY3JlYXRlQnl0ZShjb2RlUG9pbnQsIDYpO1xuXHRcdFx0fVxuXHRcdFx0c3ltYm9sICs9IHN0cmluZ0Zyb21DaGFyQ29kZShjb2RlUG9pbnQgJiAweDNGIHwgMHg4MCk7XG5cdFx0XHRyZXR1cm4gc3ltYm9sO1xuXHRcdH1cblx0XG5cdFx0ZnVuY3Rpb24gdXRmOGVuY29kZShzdHJpbmcpIHtcblx0XHRcdHZhciBjb2RlUG9pbnRzID0gdWNzMmRlY29kZShzdHJpbmcpO1xuXHRcdFx0dmFyIGxlbmd0aCA9IGNvZGVQb2ludHMubGVuZ3RoO1xuXHRcdFx0dmFyIGluZGV4ID0gLTE7XG5cdFx0XHR2YXIgY29kZVBvaW50O1xuXHRcdFx0dmFyIGJ5dGVTdHJpbmcgPSAnJztcblx0XHRcdHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG5cdFx0XHRcdGNvZGVQb2ludCA9IGNvZGVQb2ludHNbaW5kZXhdO1xuXHRcdFx0XHRieXRlU3RyaW5nICs9IGVuY29kZUNvZGVQb2ludChjb2RlUG9pbnQpO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGJ5dGVTdHJpbmc7XG5cdFx0fVxuXHRcblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblx0XG5cdFx0ZnVuY3Rpb24gcmVhZENvbnRpbnVhdGlvbkJ5dGUoKSB7XG5cdFx0XHRpZiAoYnl0ZUluZGV4ID49IGJ5dGVDb3VudCkge1xuXHRcdFx0XHR0aHJvdyBFcnJvcignSW52YWxpZCBieXRlIGluZGV4Jyk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0dmFyIGNvbnRpbnVhdGlvbkJ5dGUgPSBieXRlQXJyYXlbYnl0ZUluZGV4XSAmIDB4RkY7XG5cdFx0XHRieXRlSW5kZXgrKztcblx0XG5cdFx0XHRpZiAoKGNvbnRpbnVhdGlvbkJ5dGUgJiAweEMwKSA9PSAweDgwKSB7XG5cdFx0XHRcdHJldHVybiBjb250aW51YXRpb25CeXRlICYgMHgzRjtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBJZiB3ZSBlbmQgdXAgaGVyZSwgaXTigJlzIG5vdCBhIGNvbnRpbnVhdGlvbiBieXRlXG5cdFx0XHR0aHJvdyBFcnJvcignSW52YWxpZCBjb250aW51YXRpb24gYnl0ZScpO1xuXHRcdH1cblx0XG5cdFx0ZnVuY3Rpb24gZGVjb2RlU3ltYm9sKCkge1xuXHRcdFx0dmFyIGJ5dGUxO1xuXHRcdFx0dmFyIGJ5dGUyO1xuXHRcdFx0dmFyIGJ5dGUzO1xuXHRcdFx0dmFyIGJ5dGU0O1xuXHRcdFx0dmFyIGNvZGVQb2ludDtcblx0XG5cdFx0XHRpZiAoYnl0ZUluZGV4ID4gYnl0ZUNvdW50KSB7XG5cdFx0XHRcdHRocm93IEVycm9yKCdJbnZhbGlkIGJ5dGUgaW5kZXgnKTtcblx0XHRcdH1cblx0XG5cdFx0XHRpZiAoYnl0ZUluZGV4ID09IGJ5dGVDb3VudCkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gUmVhZCBmaXJzdCBieXRlXG5cdFx0XHRieXRlMSA9IGJ5dGVBcnJheVtieXRlSW5kZXhdICYgMHhGRjtcblx0XHRcdGJ5dGVJbmRleCsrO1xuXHRcblx0XHRcdC8vIDEtYnl0ZSBzZXF1ZW5jZSAobm8gY29udGludWF0aW9uIGJ5dGVzKVxuXHRcdFx0aWYgKChieXRlMSAmIDB4ODApID09IDApIHtcblx0XHRcdFx0cmV0dXJuIGJ5dGUxO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIDItYnl0ZSBzZXF1ZW5jZVxuXHRcdFx0aWYgKChieXRlMSAmIDB4RTApID09IDB4QzApIHtcblx0XHRcdFx0Ynl0ZTIgPSByZWFkQ29udGludWF0aW9uQnl0ZSgpO1xuXHRcdFx0XHRjb2RlUG9pbnQgPSAoYnl0ZTEgJiAweDFGKSA8PCA2IHwgYnl0ZTI7XG5cdFx0XHRcdGlmIChjb2RlUG9pbnQgPj0gMHg4MCkge1xuXHRcdFx0XHRcdHJldHVybiBjb2RlUG9pbnQ7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dGhyb3cgRXJyb3IoJ0ludmFsaWQgY29udGludWF0aW9uIGJ5dGUnKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcblx0XHRcdC8vIDMtYnl0ZSBzZXF1ZW5jZSAobWF5IGluY2x1ZGUgdW5wYWlyZWQgc3Vycm9nYXRlcylcblx0XHRcdGlmICgoYnl0ZTEgJiAweEYwKSA9PSAweEUwKSB7XG5cdFx0XHRcdGJ5dGUyID0gcmVhZENvbnRpbnVhdGlvbkJ5dGUoKTtcblx0XHRcdFx0Ynl0ZTMgPSByZWFkQ29udGludWF0aW9uQnl0ZSgpO1xuXHRcdFx0XHRjb2RlUG9pbnQgPSAoYnl0ZTEgJiAweDBGKSA8PCAxMiB8IGJ5dGUyIDw8IDYgfCBieXRlMztcblx0XHRcdFx0aWYgKGNvZGVQb2ludCA+PSAweDA4MDApIHtcblx0XHRcdFx0XHRjaGVja1NjYWxhclZhbHVlKGNvZGVQb2ludCk7XG5cdFx0XHRcdFx0cmV0dXJuIGNvZGVQb2ludDtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR0aHJvdyBFcnJvcignSW52YWxpZCBjb250aW51YXRpb24gYnl0ZScpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gNC1ieXRlIHNlcXVlbmNlXG5cdFx0XHRpZiAoKGJ5dGUxICYgMHhGOCkgPT0gMHhGMCkge1xuXHRcdFx0XHRieXRlMiA9IHJlYWRDb250aW51YXRpb25CeXRlKCk7XG5cdFx0XHRcdGJ5dGUzID0gcmVhZENvbnRpbnVhdGlvbkJ5dGUoKTtcblx0XHRcdFx0Ynl0ZTQgPSByZWFkQ29udGludWF0aW9uQnl0ZSgpO1xuXHRcdFx0XHRjb2RlUG9pbnQgPSAoYnl0ZTEgJiAweDA3KSA8PCAweDEyIHwgYnl0ZTIgPDwgMHgwQyB8IGJ5dGUzIDw8IDB4MDYgfCBieXRlNDtcblx0XHRcdFx0aWYgKGNvZGVQb2ludCA+PSAweDAxMDAwMCAmJiBjb2RlUG9pbnQgPD0gMHgxMEZGRkYpIHtcblx0XHRcdFx0XHRyZXR1cm4gY29kZVBvaW50O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFxuXHRcdFx0dGhyb3cgRXJyb3IoJ0ludmFsaWQgVVRGLTggZGV0ZWN0ZWQnKTtcblx0XHR9XG5cdFxuXHRcdHZhciBieXRlQXJyYXk7XG5cdFx0dmFyIGJ5dGVDb3VudDtcblx0XHR2YXIgYnl0ZUluZGV4O1xuXHRcdGZ1bmN0aW9uIHV0ZjhkZWNvZGUoYnl0ZVN0cmluZykge1xuXHRcdFx0Ynl0ZUFycmF5ID0gdWNzMmRlY29kZShieXRlU3RyaW5nKTtcblx0XHRcdGJ5dGVDb3VudCA9IGJ5dGVBcnJheS5sZW5ndGg7XG5cdFx0XHRieXRlSW5kZXggPSAwO1xuXHRcdFx0dmFyIGNvZGVQb2ludHMgPSBbXTtcblx0XHRcdHZhciB0bXA7XG5cdFx0XHR3aGlsZSAoKHRtcCA9IGRlY29kZVN5bWJvbCgpKSAhPT0gZmFsc2UpIHtcblx0XHRcdFx0Y29kZVBvaW50cy5wdXNoKHRtcCk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdWNzMmVuY29kZShjb2RlUG9pbnRzKTtcblx0XHR9XG5cdFxuXHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXHRcblx0XHR2YXIgdXRmOCA9IHtcblx0XHRcdCd2ZXJzaW9uJzogJzIuMS4yJyxcblx0XHRcdCdlbmNvZGUnOiB1dGY4ZW5jb2RlLFxuXHRcdFx0J2RlY29kZSc6IHV0ZjhkZWNvZGVcblx0XHR9O1xuXHRcblx0XHQvLyBTb21lIEFNRCBidWlsZCBvcHRpbWl6ZXJzLCBsaWtlIHIuanMsIGNoZWNrIGZvciBzcGVjaWZpYyBjb25kaXRpb24gcGF0dGVybnNcblx0XHQvLyBsaWtlIHRoZSBmb2xsb3dpbmc6XG5cdFx0aWYgKFwiZnVuY3Rpb25cIiA9PSAnZnVuY3Rpb24nICYmIF90eXBlb2YoX193ZWJwYWNrX3JlcXVpcmVfXyg1MSkpID09ICdvYmplY3QnICYmIF9fd2VicGFja19yZXF1aXJlX18oNTEpKSB7XG5cdFx0XHQhKF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRyZXR1cm4gdXRmODtcblx0XHRcdH0uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fLCBleHBvcnRzLCBtb2R1bGUpLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyAhPT0gdW5kZWZpbmVkICYmIChtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fKSk7XG5cdFx0fSBlbHNlIGlmIChmcmVlRXhwb3J0cyAmJiAhZnJlZUV4cG9ydHMubm9kZVR5cGUpIHtcblx0XHRcdGlmIChmcmVlTW9kdWxlKSB7XG5cdFx0XHRcdC8vIGluIE5vZGUuanMgb3IgUmluZ29KUyB2MC44LjArXG5cdFx0XHRcdGZyZWVNb2R1bGUuZXhwb3J0cyA9IHV0Zjg7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvLyBpbiBOYXJ3aGFsIG9yIFJpbmdvSlMgdjAuNy4wLVxuXHRcdFx0XHR2YXIgb2JqZWN0ID0ge307XG5cdFx0XHRcdHZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdC5oYXNPd25Qcm9wZXJ0eTtcblx0XHRcdFx0Zm9yICh2YXIga2V5IGluIHV0ZjgpIHtcblx0XHRcdFx0XHRoYXNPd25Qcm9wZXJ0eS5jYWxsKHV0ZjgsIGtleSkgJiYgKGZyZWVFeHBvcnRzW2tleV0gPSB1dGY4W2tleV0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIGluIFJoaW5vIG9yIGEgd2ViIGJyb3dzZXJcblx0XHRcdHJvb3QudXRmOCA9IHV0Zjg7XG5cdFx0fVxuXHR9KSh1bmRlZmluZWQpO1xuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyg4OCkobW9kdWxlKSwgKGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSgpKSkpXG5cbi8qKiovIH0sXG4vKiA1OSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIFdlYjMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcwKTtcblx0XG5cdC8vIGRvbnQgb3ZlcnJpZGUgZ2xvYmFsIHZhcmlhYmxlXG5cdGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygd2luZG93LldlYjMgPT09ICd1bmRlZmluZWQnKSB7XG5cdCAgICB3aW5kb3cuV2ViMyA9IFdlYjM7XG5cdH1cblx0XG5cdG1vZHVsZS5leHBvcnRzID0gV2ViMztcblxuLyoqKi8gfSxcbi8qIDYwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgZiA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cdHZhciBTb2xpZGl0eVR5cGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXHRcblx0LyoqXG5cdCAqIFNvbGlkaXR5VHlwZUFkZHJlc3MgaXMgYSBwcm9vdHlwZSB0aGF0IHJlcHJlc2VudHMgYWRkcmVzcyB0eXBlXG5cdCAqIEl0IG1hdGNoZXM6XG5cdCAqIGFkZHJlc3Ncblx0ICogYWRkcmVzc1tdXG5cdCAqIGFkZHJlc3NbNF1cblx0ICogYWRkcmVzc1tdW11cblx0ICogYWRkcmVzc1szXVtdXG5cdCAqIGFkZHJlc3NbXVs2XVtdLCAuLi5cblx0ICovXG5cdHZhciBTb2xpZGl0eVR5cGVBZGRyZXNzID0gZnVuY3Rpb24gU29saWRpdHlUeXBlQWRkcmVzcygpIHtcblx0ICAgIHRoaXMuX2lucHV0Rm9ybWF0dGVyID0gZi5mb3JtYXRJbnB1dEludDtcblx0ICAgIHRoaXMuX291dHB1dEZvcm1hdHRlciA9IGYuZm9ybWF0T3V0cHV0QWRkcmVzcztcblx0fTtcblx0XG5cdFNvbGlkaXR5VHlwZUFkZHJlc3MucHJvdG90eXBlID0gbmV3IFNvbGlkaXR5VHlwZSh7fSk7XG5cdFNvbGlkaXR5VHlwZUFkZHJlc3MucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gU29saWRpdHlUeXBlQWRkcmVzcztcblx0XG5cdFNvbGlkaXR5VHlwZUFkZHJlc3MucHJvdG90eXBlLmlzVHlwZSA9IGZ1bmN0aW9uIChuYW1lKSB7XG5cdCAgICByZXR1cm4gISFuYW1lLm1hdGNoKC9hZGRyZXNzKFxcWyhbMC05XSopXFxdKT8vKTtcblx0fTtcblx0XG5cdFNvbGlkaXR5VHlwZUFkZHJlc3MucHJvdG90eXBlLnN0YXRpY1BhcnRMZW5ndGggPSBmdW5jdGlvbiAobmFtZSkge1xuXHQgICAgcmV0dXJuIDMyICogdGhpcy5zdGF0aWNBcnJheUxlbmd0aChuYW1lKTtcblx0fTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gU29saWRpdHlUeXBlQWRkcmVzcztcblxuLyoqKi8gfSxcbi8qIDYxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgZiA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cdHZhciBTb2xpZGl0eVR5cGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXHRcblx0LyoqXG5cdCAqIFNvbGlkaXR5VHlwZUJvb2wgaXMgYSBwcm9vdHlwZSB0aGF0IHJlcHJlc2VudHMgYm9vbCB0eXBlXG5cdCAqIEl0IG1hdGNoZXM6XG5cdCAqIGJvb2xcblx0ICogYm9vbFtdXG5cdCAqIGJvb2xbNF1cblx0ICogYm9vbFtdW11cblx0ICogYm9vbFszXVtdXG5cdCAqIGJvb2xbXVs2XVtdLCAuLi5cblx0ICovXG5cdHZhciBTb2xpZGl0eVR5cGVCb29sID0gZnVuY3Rpb24gU29saWRpdHlUeXBlQm9vbCgpIHtcblx0ICAgIHRoaXMuX2lucHV0Rm9ybWF0dGVyID0gZi5mb3JtYXRJbnB1dEJvb2w7XG5cdCAgICB0aGlzLl9vdXRwdXRGb3JtYXR0ZXIgPSBmLmZvcm1hdE91dHB1dEJvb2w7XG5cdH07XG5cdFxuXHRTb2xpZGl0eVR5cGVCb29sLnByb3RvdHlwZSA9IG5ldyBTb2xpZGl0eVR5cGUoe30pO1xuXHRTb2xpZGl0eVR5cGVCb29sLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFNvbGlkaXR5VHlwZUJvb2w7XG5cdFxuXHRTb2xpZGl0eVR5cGVCb29sLnByb3RvdHlwZS5pc1R5cGUgPSBmdW5jdGlvbiAobmFtZSkge1xuXHQgICAgcmV0dXJuICEhbmFtZS5tYXRjaCgvXmJvb2woXFxbKFswLTldKilcXF0pKiQvKTtcblx0fTtcblx0XG5cdFNvbGlkaXR5VHlwZUJvb2wucHJvdG90eXBlLnN0YXRpY1BhcnRMZW5ndGggPSBmdW5jdGlvbiAobmFtZSkge1xuXHQgICAgcmV0dXJuIDMyICogdGhpcy5zdGF0aWNBcnJheUxlbmd0aChuYW1lKTtcblx0fTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gU29saWRpdHlUeXBlQm9vbDtcblxuLyoqKi8gfSxcbi8qIDYyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgZiA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cdHZhciBTb2xpZGl0eVR5cGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXHRcblx0LyoqXG5cdCAqIFNvbGlkaXR5VHlwZUJ5dGVzIGlzIGEgcHJvb3R5cGUgdGhhdCByZXByZXNlbnRzIGJ5dGVzIHR5cGVcblx0ICogSXQgbWF0Y2hlczpcblx0ICogYnl0ZXNcblx0ICogYnl0ZXNbXVxuXHQgKiBieXRlc1s0XVxuXHQgKiBieXRlc1tdW11cblx0ICogYnl0ZXNbM11bXVxuXHQgKiBieXRlc1tdWzZdW10sIC4uLlxuXHQgKiBieXRlczMyXG5cdCAqIGJ5dGVzNjRbXVxuXHQgKiBieXRlczhbNF1cblx0ICogYnl0ZXMyNTZbXVtdXG5cdCAqIGJ5dGVzWzNdW11cblx0ICogYnl0ZXM2NFtdWzZdW10sIC4uLlxuXHQgKi9cblx0dmFyIFNvbGlkaXR5VHlwZUJ5dGVzID0gZnVuY3Rpb24gU29saWRpdHlUeXBlQnl0ZXMoKSB7XG5cdCAgICB0aGlzLl9pbnB1dEZvcm1hdHRlciA9IGYuZm9ybWF0SW5wdXRCeXRlcztcblx0ICAgIHRoaXMuX291dHB1dEZvcm1hdHRlciA9IGYuZm9ybWF0T3V0cHV0Qnl0ZXM7XG5cdH07XG5cdFxuXHRTb2xpZGl0eVR5cGVCeXRlcy5wcm90b3R5cGUgPSBuZXcgU29saWRpdHlUeXBlKHt9KTtcblx0U29saWRpdHlUeXBlQnl0ZXMucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gU29saWRpdHlUeXBlQnl0ZXM7XG5cdFxuXHRTb2xpZGl0eVR5cGVCeXRlcy5wcm90b3R5cGUuaXNUeXBlID0gZnVuY3Rpb24gKG5hbWUpIHtcblx0ICAgIHJldHVybiAhIW5hbWUubWF0Y2goL15ieXRlcyhbMC05XXsxLH0pKFxcWyhbMC05XSopXFxdKSokLyk7XG5cdH07XG5cdFxuXHRTb2xpZGl0eVR5cGVCeXRlcy5wcm90b3R5cGUuc3RhdGljUGFydExlbmd0aCA9IGZ1bmN0aW9uIChuYW1lKSB7XG5cdCAgICB2YXIgbWF0Y2hlcyA9IG5hbWUubWF0Y2goL15ieXRlcyhbMC05XSopLyk7XG5cdCAgICB2YXIgc2l6ZSA9IHBhcnNlSW50KG1hdGNoZXNbMV0pO1xuXHQgICAgcmV0dXJuIHNpemUgKiB0aGlzLnN0YXRpY0FycmF5TGVuZ3RoKG5hbWUpO1xuXHR9O1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBTb2xpZGl0eVR5cGVCeXRlcztcblxuLyoqKi8gfSxcbi8qIDYzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgZiA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cdHZhciBTb2xpZGl0eVR5cGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXHRcblx0dmFyIFNvbGlkaXR5VHlwZUR5bmFtaWNCeXRlcyA9IGZ1bmN0aW9uIFNvbGlkaXR5VHlwZUR5bmFtaWNCeXRlcygpIHtcblx0ICAgIHRoaXMuX2lucHV0Rm9ybWF0dGVyID0gZi5mb3JtYXRJbnB1dER5bmFtaWNCeXRlcztcblx0ICAgIHRoaXMuX291dHB1dEZvcm1hdHRlciA9IGYuZm9ybWF0T3V0cHV0RHluYW1pY0J5dGVzO1xuXHR9O1xuXHRcblx0U29saWRpdHlUeXBlRHluYW1pY0J5dGVzLnByb3RvdHlwZSA9IG5ldyBTb2xpZGl0eVR5cGUoe30pO1xuXHRTb2xpZGl0eVR5cGVEeW5hbWljQnl0ZXMucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gU29saWRpdHlUeXBlRHluYW1pY0J5dGVzO1xuXHRcblx0U29saWRpdHlUeXBlRHluYW1pY0J5dGVzLnByb3RvdHlwZS5pc1R5cGUgPSBmdW5jdGlvbiAobmFtZSkge1xuXHQgICAgcmV0dXJuICEhbmFtZS5tYXRjaCgvXmJ5dGVzKFxcWyhbMC05XSopXFxdKSokLyk7XG5cdH07XG5cdFxuXHRTb2xpZGl0eVR5cGVEeW5hbWljQnl0ZXMucHJvdG90eXBlLnN0YXRpY1BhcnRMZW5ndGggPSBmdW5jdGlvbiAobmFtZSkge1xuXHQgICAgcmV0dXJuIDMyICogdGhpcy5zdGF0aWNBcnJheUxlbmd0aChuYW1lKTtcblx0fTtcblx0XG5cdFNvbGlkaXR5VHlwZUR5bmFtaWNCeXRlcy5wcm90b3R5cGUuaXNEeW5hbWljVHlwZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiB0cnVlO1xuXHR9O1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBTb2xpZGl0eVR5cGVEeW5hbWljQnl0ZXM7XG5cbi8qKiovIH0sXG4vKiA2NCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIGYgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXHR2YXIgU29saWRpdHlUeXBlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblx0XG5cdC8qKlxuXHQgKiBTb2xpZGl0eVR5cGVJbnQgaXMgYSBwcm9vdHlwZSB0aGF0IHJlcHJlc2VudHMgaW50IHR5cGVcblx0ICogSXQgbWF0Y2hlczpcblx0ICogaW50XG5cdCAqIGludFtdXG5cdCAqIGludFs0XVxuXHQgKiBpbnRbXVtdXG5cdCAqIGludFszXVtdXG5cdCAqIGludFtdWzZdW10sIC4uLlxuXHQgKiBpbnQzMlxuXHQgKiBpbnQ2NFtdXG5cdCAqIGludDhbNF1cblx0ICogaW50MjU2W11bXVxuXHQgKiBpbnRbM11bXVxuXHQgKiBpbnQ2NFtdWzZdW10sIC4uLlxuXHQgKi9cblx0dmFyIFNvbGlkaXR5VHlwZUludCA9IGZ1bmN0aW9uIFNvbGlkaXR5VHlwZUludCgpIHtcblx0ICAgIHRoaXMuX2lucHV0Rm9ybWF0dGVyID0gZi5mb3JtYXRJbnB1dEludDtcblx0ICAgIHRoaXMuX291dHB1dEZvcm1hdHRlciA9IGYuZm9ybWF0T3V0cHV0SW50O1xuXHR9O1xuXHRcblx0U29saWRpdHlUeXBlSW50LnByb3RvdHlwZSA9IG5ldyBTb2xpZGl0eVR5cGUoe30pO1xuXHRTb2xpZGl0eVR5cGVJbnQucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gU29saWRpdHlUeXBlSW50O1xuXHRcblx0U29saWRpdHlUeXBlSW50LnByb3RvdHlwZS5pc1R5cGUgPSBmdW5jdGlvbiAobmFtZSkge1xuXHQgICAgcmV0dXJuICEhbmFtZS5tYXRjaCgvXmludChbMC05XSopPyhcXFsoWzAtOV0qKVxcXSkqJC8pO1xuXHR9O1xuXHRcblx0U29saWRpdHlUeXBlSW50LnByb3RvdHlwZS5zdGF0aWNQYXJ0TGVuZ3RoID0gZnVuY3Rpb24gKG5hbWUpIHtcblx0ICAgIHJldHVybiAzMiAqIHRoaXMuc3RhdGljQXJyYXlMZW5ndGgobmFtZSk7XG5cdH07XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IFNvbGlkaXR5VHlwZUludDtcblxuLyoqKi8gfSxcbi8qIDY1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgZiA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cdHZhciBTb2xpZGl0eVR5cGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXHRcblx0LyoqXG5cdCAqIFNvbGlkaXR5VHlwZVJlYWwgaXMgYSBwcm9vdHlwZSB0aGF0IHJlcHJlc2VudHMgcmVhbCB0eXBlXG5cdCAqIEl0IG1hdGNoZXM6XG5cdCAqIHJlYWxcblx0ICogcmVhbFtdXG5cdCAqIHJlYWxbNF1cblx0ICogcmVhbFtdW11cblx0ICogcmVhbFszXVtdXG5cdCAqIHJlYWxbXVs2XVtdLCAuLi5cblx0ICogcmVhbDMyXG5cdCAqIHJlYWw2NFtdXG5cdCAqIHJlYWw4WzRdXG5cdCAqIHJlYWwyNTZbXVtdXG5cdCAqIHJlYWxbM11bXVxuXHQgKiByZWFsNjRbXVs2XVtdLCAuLi5cblx0ICovXG5cdHZhciBTb2xpZGl0eVR5cGVSZWFsID0gZnVuY3Rpb24gU29saWRpdHlUeXBlUmVhbCgpIHtcblx0ICAgIHRoaXMuX2lucHV0Rm9ybWF0dGVyID0gZi5mb3JtYXRJbnB1dFJlYWw7XG5cdCAgICB0aGlzLl9vdXRwdXRGb3JtYXR0ZXIgPSBmLmZvcm1hdE91dHB1dFJlYWw7XG5cdH07XG5cdFxuXHRTb2xpZGl0eVR5cGVSZWFsLnByb3RvdHlwZSA9IG5ldyBTb2xpZGl0eVR5cGUoe30pO1xuXHRTb2xpZGl0eVR5cGVSZWFsLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFNvbGlkaXR5VHlwZVJlYWw7XG5cdFxuXHRTb2xpZGl0eVR5cGVSZWFsLnByb3RvdHlwZS5pc1R5cGUgPSBmdW5jdGlvbiAobmFtZSkge1xuXHQgICAgcmV0dXJuICEhbmFtZS5tYXRjaCgvcmVhbChbMC05XSopPyhcXFsoWzAtOV0qKVxcXSk/Lyk7XG5cdH07XG5cdFxuXHRTb2xpZGl0eVR5cGVSZWFsLnByb3RvdHlwZS5zdGF0aWNQYXJ0TGVuZ3RoID0gZnVuY3Rpb24gKG5hbWUpIHtcblx0ICAgIHJldHVybiAzMiAqIHRoaXMuc3RhdGljQXJyYXlMZW5ndGgobmFtZSk7XG5cdH07XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IFNvbGlkaXR5VHlwZVJlYWw7XG5cbi8qKiovIH0sXG4vKiA2NiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIGYgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXHR2YXIgU29saWRpdHlUeXBlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblx0XG5cdHZhciBTb2xpZGl0eVR5cGVTdHJpbmcgPSBmdW5jdGlvbiBTb2xpZGl0eVR5cGVTdHJpbmcoKSB7XG5cdCAgICB0aGlzLl9pbnB1dEZvcm1hdHRlciA9IGYuZm9ybWF0SW5wdXRTdHJpbmc7XG5cdCAgICB0aGlzLl9vdXRwdXRGb3JtYXR0ZXIgPSBmLmZvcm1hdE91dHB1dFN0cmluZztcblx0fTtcblx0XG5cdFNvbGlkaXR5VHlwZVN0cmluZy5wcm90b3R5cGUgPSBuZXcgU29saWRpdHlUeXBlKHt9KTtcblx0U29saWRpdHlUeXBlU3RyaW5nLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFNvbGlkaXR5VHlwZVN0cmluZztcblx0XG5cdFNvbGlkaXR5VHlwZVN0cmluZy5wcm90b3R5cGUuaXNUeXBlID0gZnVuY3Rpb24gKG5hbWUpIHtcblx0ICAgIHJldHVybiAhIW5hbWUubWF0Y2goL15zdHJpbmcoXFxbKFswLTldKilcXF0pKiQvKTtcblx0fTtcblx0XG5cdFNvbGlkaXR5VHlwZVN0cmluZy5wcm90b3R5cGUuc3RhdGljUGFydExlbmd0aCA9IGZ1bmN0aW9uIChuYW1lKSB7XG5cdCAgICByZXR1cm4gMzIgKiB0aGlzLnN0YXRpY0FycmF5TGVuZ3RoKG5hbWUpO1xuXHR9O1xuXHRcblx0U29saWRpdHlUeXBlU3RyaW5nLnByb3RvdHlwZS5pc0R5bmFtaWNUeXBlID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIHRydWU7XG5cdH07XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IFNvbGlkaXR5VHlwZVN0cmluZztcblxuLyoqKi8gfSxcbi8qIDY3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgZiA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cdHZhciBTb2xpZGl0eVR5cGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXHRcblx0LyoqXG5cdCAqIFNvbGlkaXR5VHlwZVVJbnQgaXMgYSBwcm9vdHlwZSB0aGF0IHJlcHJlc2VudHMgdWludCB0eXBlXG5cdCAqIEl0IG1hdGNoZXM6XG5cdCAqIHVpbnRcblx0ICogdWludFtdXG5cdCAqIHVpbnRbNF1cblx0ICogdWludFtdW11cblx0ICogdWludFszXVtdXG5cdCAqIHVpbnRbXVs2XVtdLCAuLi5cblx0ICogdWludDMyXG5cdCAqIHVpbnQ2NFtdXG5cdCAqIHVpbnQ4WzRdXG5cdCAqIHVpbnQyNTZbXVtdXG5cdCAqIHVpbnRbM11bXVxuXHQgKiB1aW50NjRbXVs2XVtdLCAuLi5cblx0ICovXG5cdHZhciBTb2xpZGl0eVR5cGVVSW50ID0gZnVuY3Rpb24gU29saWRpdHlUeXBlVUludCgpIHtcblx0ICAgIHRoaXMuX2lucHV0Rm9ybWF0dGVyID0gZi5mb3JtYXRJbnB1dEludDtcblx0ICAgIHRoaXMuX291dHB1dEZvcm1hdHRlciA9IGYuZm9ybWF0T3V0cHV0VUludDtcblx0fTtcblx0XG5cdFNvbGlkaXR5VHlwZVVJbnQucHJvdG90eXBlID0gbmV3IFNvbGlkaXR5VHlwZSh7fSk7XG5cdFNvbGlkaXR5VHlwZVVJbnQucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gU29saWRpdHlUeXBlVUludDtcblx0XG5cdFNvbGlkaXR5VHlwZVVJbnQucHJvdG90eXBlLmlzVHlwZSA9IGZ1bmN0aW9uIChuYW1lKSB7XG5cdCAgICByZXR1cm4gISFuYW1lLm1hdGNoKC9edWludChbMC05XSopPyhcXFsoWzAtOV0qKVxcXSkqJC8pO1xuXHR9O1xuXHRcblx0U29saWRpdHlUeXBlVUludC5wcm90b3R5cGUuc3RhdGljUGFydExlbmd0aCA9IGZ1bmN0aW9uIChuYW1lKSB7XG5cdCAgICByZXR1cm4gMzIgKiB0aGlzLnN0YXRpY0FycmF5TGVuZ3RoKG5hbWUpO1xuXHR9O1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBTb2xpZGl0eVR5cGVVSW50O1xuXG4vKioqLyB9LFxuLyogNjggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciBmID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblx0dmFyIFNvbGlkaXR5VHlwZSA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cdFxuXHQvKipcblx0ICogU29saWRpdHlUeXBlVVJlYWwgaXMgYSBwcm9vdHlwZSB0aGF0IHJlcHJlc2VudHMgdXJlYWwgdHlwZVxuXHQgKiBJdCBtYXRjaGVzOlxuXHQgKiB1cmVhbFxuXHQgKiB1cmVhbFtdXG5cdCAqIHVyZWFsWzRdXG5cdCAqIHVyZWFsW11bXVxuXHQgKiB1cmVhbFszXVtdXG5cdCAqIHVyZWFsW11bNl1bXSwgLi4uXG5cdCAqIHVyZWFsMzJcblx0ICogdXJlYWw2NFtdXG5cdCAqIHVyZWFsOFs0XVxuXHQgKiB1cmVhbDI1NltdW11cblx0ICogdXJlYWxbM11bXVxuXHQgKiB1cmVhbDY0W11bNl1bXSwgLi4uXG5cdCAqL1xuXHR2YXIgU29saWRpdHlUeXBlVVJlYWwgPSBmdW5jdGlvbiBTb2xpZGl0eVR5cGVVUmVhbCgpIHtcblx0ICAgIHRoaXMuX2lucHV0Rm9ybWF0dGVyID0gZi5mb3JtYXRJbnB1dFJlYWw7XG5cdCAgICB0aGlzLl9vdXRwdXRGb3JtYXR0ZXIgPSBmLmZvcm1hdE91dHB1dFVSZWFsO1xuXHR9O1xuXHRcblx0U29saWRpdHlUeXBlVVJlYWwucHJvdG90eXBlID0gbmV3IFNvbGlkaXR5VHlwZSh7fSk7XG5cdFNvbGlkaXR5VHlwZVVSZWFsLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFNvbGlkaXR5VHlwZVVSZWFsO1xuXHRcblx0U29saWRpdHlUeXBlVVJlYWwucHJvdG90eXBlLmlzVHlwZSA9IGZ1bmN0aW9uIChuYW1lKSB7XG5cdCAgICByZXR1cm4gISFuYW1lLm1hdGNoKC9edXJlYWwoWzAtOV0qKT8oXFxbKFswLTldKilcXF0pKiQvKTtcblx0fTtcblx0XG5cdFNvbGlkaXR5VHlwZVVSZWFsLnByb3RvdHlwZS5zdGF0aWNQYXJ0TGVuZ3RoID0gZnVuY3Rpb24gKG5hbWUpIHtcblx0ICAgIHJldHVybiAzMiAqIHRoaXMuc3RhdGljQXJyYXlMZW5ndGgobmFtZSk7XG5cdH07XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IFNvbGlkaXR5VHlwZVVSZWFsO1xuXG4vKioqLyB9LFxuLyogNjkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdC8vIGdvIGVudiBkb2Vzbid0IGhhdmUgYW5kIG5lZWQgWE1MSHR0cFJlcXVlc3Rcblx0XG5cdGlmICh0eXBlb2YgWE1MSHR0cFJlcXVlc3QgPT09ICd1bmRlZmluZWQnKSB7XG5cdCAgICBleHBvcnRzLlhNTEh0dHBSZXF1ZXN0ID0ge307XG5cdH0gZWxzZSB7XG5cdCAgICBleHBvcnRzLlhNTEh0dHBSZXF1ZXN0ID0gWE1MSHR0cFJlcXVlc3Q7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXHR9XG5cbi8qKiovIH0sXG4vKiA3MCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0Lypcblx0ICAgIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIHdlYjMuanMuXG5cdFxuXHQgICAgd2ViMy5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG5cdCAgICBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcblx0ICAgIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG5cdCAgICAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuXHRcblx0ICAgIHdlYjMuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcblx0ICAgIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG5cdCAgICBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG5cdCAgICBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cblx0XG5cdCAgICBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2Vcblx0ICAgIGFsb25nIHdpdGggd2ViMy5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cblx0Ki9cblx0LyoqXG5cdCAqIEBmaWxlIHdlYjMuanNcblx0ICogQGF1dGhvcnM6XG5cdCAqICAgSmVmZnJleSBXaWxja2UgPGplZmZAZXRoZGV2LmNvbT5cblx0ICogICBNYXJlayBLb3Rld2ljeiA8bWFyZWtAZXRoZGV2LmNvbT5cblx0ICogICBNYXJpYW4gT2FuY2VhIDxtYXJpYW5AZXRoZGV2LmNvbT5cblx0ICogICBGYWJpYW4gVm9nZWxzdGVsbGVyIDxmYWJpYW5AZXRoZGV2LmNvbT5cblx0ICogICBHYXYgV29vZCA8Z0BldGhkZXYuY29tPlxuXHQgKiBAZGF0ZSAyMDE0XG5cdCAqL1xuXHRcblx0dmFyIFJlcXVlc3RNYW5hZ2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4NCk7XG5cdHZhciBJYmFuID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMik7XG5cdHZhciBFdGggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc5KTtcblx0dmFyIERCID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3OCk7XG5cdHZhciBTaGggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgyKTtcblx0dmFyIE5ldCA9IF9fd2VicGFja19yZXF1aXJlX18oODApO1xuXHR2YXIgUGVyc29uYWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgxKTtcblx0dmFyIFNldHRpbmdzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4NSk7XG5cdHZhciB2ZXJzaW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Nik7XG5cdHZhciB1dGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdHZhciBzaGEzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNSk7XG5cdHZhciBleHRlbmQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc0KTtcblx0dmFyIEJhdGNoID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3Mik7XG5cdHZhciBQcm9wZXJ0eSA9IF9fd2VicGFja19yZXF1aXJlX18oMTcpO1xuXHR2YXIgSHR0cFByb3ZpZGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3Nik7XG5cdHZhciBJcGNQcm92aWRlciA9IF9fd2VicGFja19yZXF1aXJlX18oNzcpO1xuXHR2YXIgQmlnTnVtYmVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNCk7XG5cdFxuXHRmdW5jdGlvbiBXZWIzKHByb3ZpZGVyKSB7XG5cdCAgICB0aGlzLl9yZXF1ZXN0TWFuYWdlciA9IG5ldyBSZXF1ZXN0TWFuYWdlcihwcm92aWRlcik7XG5cdCAgICB0aGlzLmN1cnJlbnRQcm92aWRlciA9IHByb3ZpZGVyO1xuXHQgICAgdGhpcy5ldGggPSBuZXcgRXRoKHRoaXMpO1xuXHQgICAgdGhpcy5kYiA9IG5ldyBEQih0aGlzKTtcblx0ICAgIHRoaXMuc2hoID0gbmV3IFNoaCh0aGlzKTtcblx0ICAgIHRoaXMubmV0ID0gbmV3IE5ldCh0aGlzKTtcblx0ICAgIHRoaXMucGVyc29uYWwgPSBuZXcgUGVyc29uYWwodGhpcyk7XG5cdCAgICB0aGlzLnNldHRpbmdzID0gbmV3IFNldHRpbmdzKCk7XG5cdCAgICB0aGlzLnZlcnNpb24gPSB7XG5cdCAgICAgICAgYXBpOiB2ZXJzaW9uLnZlcnNpb25cblx0ICAgIH07XG5cdCAgICB0aGlzLnByb3ZpZGVycyA9IHtcblx0ICAgICAgICBIdHRwUHJvdmlkZXI6IEh0dHBQcm92aWRlcixcblx0ICAgICAgICBJcGNQcm92aWRlcjogSXBjUHJvdmlkZXJcblx0ICAgIH07XG5cdCAgICB0aGlzLl9leHRlbmQgPSBleHRlbmQodGhpcyk7XG5cdCAgICB0aGlzLl9leHRlbmQoe1xuXHQgICAgICAgIHByb3BlcnRpZXM6IHByb3BlcnRpZXMoKVxuXHQgICAgfSk7XG5cdH1cblx0XG5cdC8vIGV4cG9zZSBwcm92aWRlcnMgb24gdGhlIGNsYXNzXG5cdFdlYjMucHJvdmlkZXJzID0ge1xuXHQgICAgSHR0cFByb3ZpZGVyOiBIdHRwUHJvdmlkZXIsXG5cdCAgICBJcGNQcm92aWRlcjogSXBjUHJvdmlkZXJcblx0fTtcblx0XG5cdFdlYjMucHJvdG90eXBlLnNldFByb3ZpZGVyID0gZnVuY3Rpb24gKHByb3ZpZGVyKSB7XG5cdCAgICB0aGlzLl9yZXF1ZXN0TWFuYWdlci5zZXRQcm92aWRlcihwcm92aWRlcik7XG5cdCAgICB0aGlzLmN1cnJlbnRQcm92aWRlciA9IHByb3ZpZGVyO1xuXHR9O1xuXHRcblx0V2ViMy5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoa2VlcElzU3luY2luZykge1xuXHQgICAgdGhpcy5fcmVxdWVzdE1hbmFnZXIucmVzZXQoa2VlcElzU3luY2luZyk7XG5cdCAgICB0aGlzLnNldHRpbmdzID0gbmV3IFNldHRpbmdzKCk7XG5cdH07XG5cdFxuXHRXZWIzLnByb3RvdHlwZS5CaWdOdW1iZXIgPSBCaWdOdW1iZXI7XG5cdFdlYjMucHJvdG90eXBlLnRvSGV4ID0gdXRpbHMudG9IZXg7XG5cdFdlYjMucHJvdG90eXBlLnRvQXNjaWkgPSB1dGlscy50b0FzY2lpO1xuXHRXZWIzLnByb3RvdHlwZS50b1V0ZjggPSB1dGlscy50b1V0Zjg7XG5cdFdlYjMucHJvdG90eXBlLmZyb21Bc2NpaSA9IHV0aWxzLmZyb21Bc2NpaTtcblx0V2ViMy5wcm90b3R5cGUuZnJvbVV0ZjggPSB1dGlscy5mcm9tVXRmODtcblx0V2ViMy5wcm90b3R5cGUudG9EZWNpbWFsID0gdXRpbHMudG9EZWNpbWFsO1xuXHRXZWIzLnByb3RvdHlwZS5mcm9tRGVjaW1hbCA9IHV0aWxzLmZyb21EZWNpbWFsO1xuXHRXZWIzLnByb3RvdHlwZS50b0JpZ051bWJlciA9IHV0aWxzLnRvQmlnTnVtYmVyO1xuXHRXZWIzLnByb3RvdHlwZS50b1dlaSA9IHV0aWxzLnRvV2VpO1xuXHRXZWIzLnByb3RvdHlwZS5mcm9tV2VpID0gdXRpbHMuZnJvbVdlaTtcblx0V2ViMy5wcm90b3R5cGUuaXNBZGRyZXNzID0gdXRpbHMuaXNBZGRyZXNzO1xuXHRXZWIzLnByb3RvdHlwZS5pc0NoZWNrc3VtQWRkcmVzcyA9IHV0aWxzLmlzQ2hlY2tzdW1BZGRyZXNzO1xuXHRXZWIzLnByb3RvdHlwZS50b0NoZWNrc3VtQWRkcmVzcyA9IHV0aWxzLnRvQ2hlY2tzdW1BZGRyZXNzO1xuXHRXZWIzLnByb3RvdHlwZS5pc0lCQU4gPSB1dGlscy5pc0lCQU47XG5cdFxuXHRXZWIzLnByb3RvdHlwZS5zaGEzID0gZnVuY3Rpb24gKHN0cmluZywgb3B0aW9ucykge1xuXHQgICAgcmV0dXJuICcweCcgKyBzaGEzKHN0cmluZywgb3B0aW9ucyk7XG5cdH07XG5cdFxuXHQvKipcblx0ICogVHJhbnNmb3JtcyBkaXJlY3QgaWNhcCB0byBhZGRyZXNzXG5cdCAqL1xuXHRXZWIzLnByb3RvdHlwZS5mcm9tSUNBUCA9IGZ1bmN0aW9uIChpY2FwKSB7XG5cdCAgICB2YXIgaWJhbiA9IG5ldyBJYmFuKGljYXApO1xuXHQgICAgcmV0dXJuIGliYW4uYWRkcmVzcygpO1xuXHR9O1xuXHRcblx0dmFyIHByb3BlcnRpZXMgPSBmdW5jdGlvbiBwcm9wZXJ0aWVzKCkge1xuXHQgICAgcmV0dXJuIFtuZXcgUHJvcGVydHkoe1xuXHQgICAgICAgIG5hbWU6ICd2ZXJzaW9uLm5vZGUnLFxuXHQgICAgICAgIGdldHRlcjogJ3dlYjNfY2xpZW50VmVyc2lvbidcblx0ICAgIH0pLCBuZXcgUHJvcGVydHkoe1xuXHQgICAgICAgIG5hbWU6ICd2ZXJzaW9uLm5ldHdvcmsnLFxuXHQgICAgICAgIGdldHRlcjogJ25ldF92ZXJzaW9uJyxcblx0ICAgICAgICBpbnB1dEZvcm1hdHRlcjogdXRpbHMudG9EZWNpbWFsXG5cdCAgICB9KSwgbmV3IFByb3BlcnR5KHtcblx0ICAgICAgICBuYW1lOiAndmVyc2lvbi5ldGhlcmV1bScsXG5cdCAgICAgICAgZ2V0dGVyOiAnZXRoX3Byb3RvY29sVmVyc2lvbicsXG5cdCAgICAgICAgaW5wdXRGb3JtYXR0ZXI6IHV0aWxzLnRvRGVjaW1hbFxuXHQgICAgfSksIG5ldyBQcm9wZXJ0eSh7XG5cdCAgICAgICAgbmFtZTogJ3ZlcnNpb24ud2hpc3BlcicsXG5cdCAgICAgICAgZ2V0dGVyOiAnc2hoX3ZlcnNpb24nLFxuXHQgICAgICAgIGlucHV0Rm9ybWF0dGVyOiB1dGlscy50b0RlY2ltYWxcblx0ICAgIH0pXTtcblx0fTtcblx0XG5cdFdlYjMucHJvdG90eXBlLmlzQ29ubmVjdGVkID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIHRoaXMuY3VycmVudFByb3ZpZGVyICYmIHRoaXMuY3VycmVudFByb3ZpZGVyLmlzQ29ubmVjdGVkKCk7XG5cdH07XG5cdFxuXHRXZWIzLnByb3RvdHlwZS5jcmVhdGVCYXRjaCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiBuZXcgQmF0Y2godGhpcyk7XG5cdH07XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IFdlYjM7XG5cbi8qKiovIH0sXG4vKiA3MSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0Lypcblx0ICAgIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIHdlYjMuanMuXG5cdFxuXHQgICAgd2ViMy5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG5cdCAgICBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcblx0ICAgIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG5cdCAgICAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuXHRcblx0ICAgIHdlYjMuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcblx0ICAgIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG5cdCAgICBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG5cdCAgICBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cblx0XG5cdCAgICBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2Vcblx0ICAgIGFsb25nIHdpdGggd2ViMy5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cblx0Ki9cblx0LyoqIFxuXHQgKiBAZmlsZSBhbGxldmVudHMuanNcblx0ICogQGF1dGhvciBNYXJlayBLb3Rld2ljeiA8bWFyZWtAZXRoZGV2LmNvbT5cblx0ICogQGRhdGUgMjAxNFxuXHQgKi9cblx0XG5cdHZhciBzaGEzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNSk7XG5cdHZhciBTb2xpZGl0eUV2ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0OSk7XG5cdHZhciBmb3JtYXR0ZXJzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcblx0dmFyIHV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0dmFyIEZpbHRlciA9IF9fd2VicGFja19yZXF1aXJlX18oMjEpO1xuXHR2YXIgd2F0Y2hlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMjMpO1xuXHRcblx0dmFyIEFsbFNvbGlkaXR5RXZlbnRzID0gZnVuY3Rpb24gQWxsU29saWRpdHlFdmVudHMocmVxdWVzdE1hbmFnZXIsIGpzb24sIGFkZHJlc3MpIHtcblx0ICAgIHRoaXMuX3JlcXVlc3RNYW5hZ2VyID0gcmVxdWVzdE1hbmFnZXI7XG5cdCAgICB0aGlzLl9qc29uID0ganNvbjtcblx0ICAgIHRoaXMuX2FkZHJlc3MgPSBhZGRyZXNzO1xuXHR9O1xuXHRcblx0QWxsU29saWRpdHlFdmVudHMucHJvdG90eXBlLmVuY29kZSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG5cdCAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblx0ICAgIHZhciByZXN1bHQgPSB7fTtcblx0XG5cdCAgICBbJ2Zyb21CbG9jaycsICd0b0Jsb2NrJ10uZmlsdGVyKGZ1bmN0aW9uIChmKSB7XG5cdCAgICAgICAgcmV0dXJuIG9wdGlvbnNbZl0gIT09IHVuZGVmaW5lZDtcblx0ICAgIH0pLmZvckVhY2goZnVuY3Rpb24gKGYpIHtcblx0ICAgICAgICByZXN1bHRbZl0gPSBmb3JtYXR0ZXJzLmlucHV0QmxvY2tOdW1iZXJGb3JtYXR0ZXIob3B0aW9uc1tmXSk7XG5cdCAgICB9KTtcblx0XG5cdCAgICByZXN1bHQuYWRkcmVzcyA9IHRoaXMuX2FkZHJlc3M7XG5cdFxuXHQgICAgcmV0dXJuIHJlc3VsdDtcblx0fTtcblx0XG5cdEFsbFNvbGlkaXR5RXZlbnRzLnByb3RvdHlwZS5kZWNvZGUgPSBmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgZGF0YS5kYXRhID0gZGF0YS5kYXRhIHx8ICcnO1xuXHQgICAgZGF0YS50b3BpY3MgPSBkYXRhLnRvcGljcyB8fCBbXTtcblx0XG5cdCAgICB2YXIgZXZlbnRUb3BpYyA9IGRhdGEudG9waWNzWzBdLnNsaWNlKDIpO1xuXHQgICAgdmFyIG1hdGNoID0gdGhpcy5fanNvbi5maWx0ZXIoZnVuY3Rpb24gKGopIHtcblx0ICAgICAgICByZXR1cm4gZXZlbnRUb3BpYyA9PT0gc2hhMyh1dGlscy50cmFuc2Zvcm1Ub0Z1bGxOYW1lKGopKTtcblx0ICAgIH0pWzBdO1xuXHRcblx0ICAgIGlmICghbWF0Y2gpIHtcblx0ICAgICAgICAvLyBjYW5ub3QgZmluZCBtYXRjaGluZyBldmVudD9cblx0ICAgICAgICBjb25zb2xlLndhcm4oJ2Nhbm5vdCBmaW5kIGV2ZW50IGZvciBsb2cnKTtcblx0ICAgICAgICByZXR1cm4gZGF0YTtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgZXZlbnQgPSBuZXcgU29saWRpdHlFdmVudCh0aGlzLl9yZXF1ZXN0TWFuYWdlciwgbWF0Y2gsIHRoaXMuX2FkZHJlc3MpO1xuXHQgICAgcmV0dXJuIGV2ZW50LmRlY29kZShkYXRhKTtcblx0fTtcblx0XG5cdEFsbFNvbGlkaXR5RXZlbnRzLnByb3RvdHlwZS5leGVjdXRlID0gZnVuY3Rpb24gKG9wdGlvbnMsIGNhbGxiYWNrKSB7XG5cdFxuXHQgICAgaWYgKHV0aWxzLmlzRnVuY3Rpb24oYXJndW1lbnRzW2FyZ3VtZW50cy5sZW5ndGggLSAxXSkpIHtcblx0ICAgICAgICBjYWxsYmFjayA9IGFyZ3VtZW50c1thcmd1bWVudHMubGVuZ3RoIC0gMV07XG5cdCAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIG9wdGlvbnMgPSBudWxsO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBvID0gdGhpcy5lbmNvZGUob3B0aW9ucyk7XG5cdCAgICB2YXIgZm9ybWF0dGVyID0gdGhpcy5kZWNvZGUuYmluZCh0aGlzKTtcblx0ICAgIHJldHVybiBuZXcgRmlsdGVyKHRoaXMuX3JlcXVlc3RNYW5hZ2VyLCBvLCB3YXRjaGVzLmV0aCgpLCBmb3JtYXR0ZXIsIGNhbGxiYWNrKTtcblx0fTtcblx0XG5cdEFsbFNvbGlkaXR5RXZlbnRzLnByb3RvdHlwZS5hdHRhY2hUb0NvbnRyYWN0ID0gZnVuY3Rpb24gKGNvbnRyYWN0KSB7XG5cdCAgICB2YXIgZXhlY3V0ZSA9IHRoaXMuZXhlY3V0ZS5iaW5kKHRoaXMpO1xuXHQgICAgY29udHJhY3QuYWxsRXZlbnRzID0gZXhlY3V0ZTtcblx0fTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gQWxsU29saWRpdHlFdmVudHM7XG5cbi8qKiovIH0sXG4vKiA3MiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0Lypcblx0ICAgIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIHdlYjMuanMuXG5cdFxuXHQgICAgd2ViMy5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG5cdCAgICBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcblx0ICAgIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG5cdCAgICAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuXHRcblx0ICAgIHdlYjMuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcblx0ICAgIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG5cdCAgICBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG5cdCAgICBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cblx0XG5cdCAgICBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2Vcblx0ICAgIGFsb25nIHdpdGggd2ViMy5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cblx0Ki9cblx0LyoqIFxuXHQgKiBAZmlsZSBiYXRjaC5qc1xuXHQgKiBAYXV0aG9yIE1hcmVrIEtvdGV3aWN6IDxtYXJla0BldGhkZXYuY29tPlxuXHQgKiBAZGF0ZSAyMDE1XG5cdCAqL1xuXHRcblx0dmFyIEpzb25ycGMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUwKTtcblx0dmFyIGVycm9ycyA9IF9fd2VicGFja19yZXF1aXJlX18oMTYpO1xuXHRcblx0dmFyIEJhdGNoID0gZnVuY3Rpb24gQmF0Y2god2ViMykge1xuXHQgICAgdGhpcy5yZXF1ZXN0TWFuYWdlciA9IHdlYjMuX3JlcXVlc3RNYW5hZ2VyO1xuXHQgICAgdGhpcy5yZXF1ZXN0cyA9IFtdO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFNob3VsZCBiZSBjYWxsZWQgdG8gYWRkIGNyZWF0ZSBuZXcgcmVxdWVzdCB0byBiYXRjaCByZXF1ZXN0XG5cdCAqXG5cdCAqIEBtZXRob2QgYWRkXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBqc29ucnBjIHJlcXVldCBvYmplY3Rcblx0ICovXG5cdEJhdGNoLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAocmVxdWVzdCkge1xuXHQgICAgdGhpcy5yZXF1ZXN0cy5wdXNoKHJlcXVlc3QpO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFNob3VsZCBiZSBjYWxsZWQgdG8gZXhlY3V0ZSBiYXRjaCByZXF1ZXN0XG5cdCAqXG5cdCAqIEBtZXRob2QgZXhlY3V0ZVxuXHQgKi9cblx0QmF0Y2gucHJvdG90eXBlLmV4ZWN1dGUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2YXIgcmVxdWVzdHMgPSB0aGlzLnJlcXVlc3RzO1xuXHQgICAgdGhpcy5yZXF1ZXN0TWFuYWdlci5zZW5kQmF0Y2gocmVxdWVzdHMsIGZ1bmN0aW9uIChlcnIsIHJlc3VsdHMpIHtcblx0ICAgICAgICByZXN1bHRzID0gcmVzdWx0cyB8fCBbXTtcblx0ICAgICAgICByZXF1ZXN0cy5tYXAoZnVuY3Rpb24gKHJlcXVlc3QsIGluZGV4KSB7XG5cdCAgICAgICAgICAgIHJldHVybiByZXN1bHRzW2luZGV4XSB8fCB7fTtcblx0ICAgICAgICB9KS5mb3JFYWNoKGZ1bmN0aW9uIChyZXN1bHQsIGluZGV4KSB7XG5cdCAgICAgICAgICAgIGlmIChyZXF1ZXN0c1tpbmRleF0uY2FsbGJhY2spIHtcblx0XG5cdCAgICAgICAgICAgICAgICBpZiAoIUpzb25ycGMuaXNWYWxpZFJlc3BvbnNlKHJlc3VsdCkpIHtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVxdWVzdHNbaW5kZXhdLmNhbGxiYWNrKGVycm9ycy5JbnZhbGlkUmVzcG9uc2UocmVzdWx0KSk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICAgICAgcmVxdWVzdHNbaW5kZXhdLmNhbGxiYWNrKG51bGwsIHJlcXVlc3RzW2luZGV4XS5mb3JtYXQgPyByZXF1ZXN0c1tpbmRleF0uZm9ybWF0KHJlc3VsdC5yZXN1bHQpIDogcmVzdWx0LnJlc3VsdCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9KTtcblx0ICAgIH0pO1xuXHR9O1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBCYXRjaDtcblxuLyoqKi8gfSxcbi8qIDczICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHQvKlxuXHQgICAgVGhpcyBmaWxlIGlzIHBhcnQgb2Ygd2ViMy5qcy5cblx0XG5cdCAgICB3ZWIzLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcblx0ICAgIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuXHQgICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3Jcblx0ICAgIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG5cdFxuXHQgICAgd2ViMy5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuXHQgICAgYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2Zcblx0ICAgIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcblx0ICAgIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuXHRcblx0ICAgIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuXHQgICAgYWxvbmcgd2l0aCB3ZWIzLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuXHQqL1xuXHQvKipcblx0ICogQGZpbGUgY29udHJhY3QuanNcblx0ICogQGF1dGhvciBNYXJlayBLb3Rld2ljeiA8bWFyZWtAZXRoZGV2LmNvbT5cblx0ICogQGRhdGUgMjAxNFxuXHQgKi9cblx0XG5cdHZhciB1dGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdHZhciBjb2RlciA9IF9fd2VicGFja19yZXF1aXJlX18oMjUpO1xuXHR2YXIgU29saWRpdHlFdmVudCA9IF9fd2VicGFja19yZXF1aXJlX18oNDkpO1xuXHR2YXIgU29saWRpdHlGdW5jdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oNzUpO1xuXHR2YXIgQWxsRXZlbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MSk7XG5cdFxuXHQvKipcblx0ICogU2hvdWxkIGJlIGNhbGxlZCB0byBlbmNvZGUgY29uc3RydWN0b3IgcGFyYW1zXG5cdCAqXG5cdCAqIEBtZXRob2QgZW5jb2RlQ29uc3RydWN0b3JQYXJhbXNcblx0ICogQHBhcmFtIHtBcnJheX0gYWJpXG5cdCAqIEBwYXJhbSB7QXJyYXl9IGNvbnN0cnVjdG9yIHBhcmFtc1xuXHQgKi9cblx0dmFyIGVuY29kZUNvbnN0cnVjdG9yUGFyYW1zID0gZnVuY3Rpb24gZW5jb2RlQ29uc3RydWN0b3JQYXJhbXMoYWJpLCBwYXJhbXMpIHtcblx0ICAgIHJldHVybiBhYmkuZmlsdGVyKGZ1bmN0aW9uIChqc29uKSB7XG5cdCAgICAgICAgcmV0dXJuIGpzb24udHlwZSA9PT0gJ2NvbnN0cnVjdG9yJyAmJiBqc29uLmlucHV0cy5sZW5ndGggPT09IHBhcmFtcy5sZW5ndGg7XG5cdCAgICB9KS5tYXAoZnVuY3Rpb24gKGpzb24pIHtcblx0ICAgICAgICByZXR1cm4ganNvbi5pbnB1dHMubWFwKGZ1bmN0aW9uIChpbnB1dCkge1xuXHQgICAgICAgICAgICByZXR1cm4gaW5wdXQudHlwZTtcblx0ICAgICAgICB9KTtcblx0ICAgIH0pLm1hcChmdW5jdGlvbiAodHlwZXMpIHtcblx0ICAgICAgICByZXR1cm4gY29kZXIuZW5jb2RlUGFyYW1zKHR5cGVzLCBwYXJhbXMpO1xuXHQgICAgfSlbMF0gfHwgJyc7XG5cdH07XG5cdFxuXHQvKipcblx0ICogU2hvdWxkIGJlIGNhbGxlZCB0byBhZGQgZnVuY3Rpb25zIHRvIGNvbnRyYWN0IG9iamVjdFxuXHQgKlxuXHQgKiBAbWV0aG9kIGFkZEZ1bmN0aW9uc1RvQ29udHJhY3Rcblx0ICogQHBhcmFtIHtDb250cmFjdH0gY29udHJhY3Rcblx0ICogQHBhcmFtIHtBcnJheX0gYWJpXG5cdCAqL1xuXHR2YXIgYWRkRnVuY3Rpb25zVG9Db250cmFjdCA9IGZ1bmN0aW9uIGFkZEZ1bmN0aW9uc1RvQ29udHJhY3QoY29udHJhY3QpIHtcblx0ICAgIGNvbnRyYWN0LmFiaS5maWx0ZXIoZnVuY3Rpb24gKGpzb24pIHtcblx0ICAgICAgICByZXR1cm4ganNvbi50eXBlID09PSAnZnVuY3Rpb24nO1xuXHQgICAgfSkubWFwKGZ1bmN0aW9uIChqc29uKSB7XG5cdCAgICAgICAgcmV0dXJuIG5ldyBTb2xpZGl0eUZ1bmN0aW9uKGNvbnRyYWN0Ll9ldGgsIGpzb24sIGNvbnRyYWN0LmFkZHJlc3MpO1xuXHQgICAgfSkuZm9yRWFjaChmdW5jdGlvbiAoZikge1xuXHQgICAgICAgIGYuYXR0YWNoVG9Db250cmFjdChjb250cmFjdCk7XG5cdCAgICB9KTtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBTaG91bGQgYmUgY2FsbGVkIHRvIGFkZCBldmVudHMgdG8gY29udHJhY3Qgb2JqZWN0XG5cdCAqXG5cdCAqIEBtZXRob2QgYWRkRXZlbnRzVG9Db250cmFjdFxuXHQgKiBAcGFyYW0ge0NvbnRyYWN0fSBjb250cmFjdFxuXHQgKiBAcGFyYW0ge0FycmF5fSBhYmlcblx0ICovXG5cdHZhciBhZGRFdmVudHNUb0NvbnRyYWN0ID0gZnVuY3Rpb24gYWRkRXZlbnRzVG9Db250cmFjdChjb250cmFjdCkge1xuXHQgICAgdmFyIGV2ZW50cyA9IGNvbnRyYWN0LmFiaS5maWx0ZXIoZnVuY3Rpb24gKGpzb24pIHtcblx0ICAgICAgICByZXR1cm4ganNvbi50eXBlID09PSAnZXZlbnQnO1xuXHQgICAgfSk7XG5cdFxuXHQgICAgdmFyIEFsbCA9IG5ldyBBbGxFdmVudHMoY29udHJhY3QuX2V0aC5fcmVxdWVzdE1hbmFnZXIsIGV2ZW50cywgY29udHJhY3QuYWRkcmVzcyk7XG5cdCAgICBBbGwuYXR0YWNoVG9Db250cmFjdChjb250cmFjdCk7XG5cdFxuXHQgICAgZXZlbnRzLm1hcChmdW5jdGlvbiAoanNvbikge1xuXHQgICAgICAgIHJldHVybiBuZXcgU29saWRpdHlFdmVudChjb250cmFjdC5fZXRoLl9yZXF1ZXN0TWFuYWdlciwganNvbiwgY29udHJhY3QuYWRkcmVzcyk7XG5cdCAgICB9KS5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgZS5hdHRhY2hUb0NvbnRyYWN0KGNvbnRyYWN0KTtcblx0ICAgIH0pO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFNob3VsZCBiZSBjYWxsZWQgdG8gY2hlY2sgaWYgdGhlIGNvbnRyYWN0IGdldHMgcHJvcGVybHkgZGVwbG95ZWQgb24gdGhlIGJsb2NrY2hhaW4uXG5cdCAqXG5cdCAqIEBtZXRob2QgY2hlY2tGb3JDb250cmFjdEFkZHJlc3Ncblx0ICogQHBhcmFtIHtPYmplY3R9IGNvbnRyYWN0XG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG5cdCAqIEByZXR1cm5zIHtVbmRlZmluZWR9XG5cdCAqL1xuXHR2YXIgY2hlY2tGb3JDb250cmFjdEFkZHJlc3MgPSBmdW5jdGlvbiBjaGVja0ZvckNvbnRyYWN0QWRkcmVzcyhjb250cmFjdCwgY2FsbGJhY2spIHtcblx0ICAgIHZhciBjb3VudCA9IDAsXG5cdCAgICAgICAgY2FsbGJhY2tGaXJlZCA9IGZhbHNlO1xuXHRcblx0ICAgIC8vIHdhaXQgZm9yIHJlY2VpcHRcblx0ICAgIHZhciBmaWx0ZXIgPSBjb250cmFjdC5fZXRoLmZpbHRlcignbGF0ZXN0JywgZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgICBpZiAoIWUgJiYgIWNhbGxiYWNrRmlyZWQpIHtcblx0ICAgICAgICAgICAgY291bnQrKztcblx0XG5cdCAgICAgICAgICAgIC8vIHN0b3Agd2F0Y2hpbmcgYWZ0ZXIgNTAgYmxvY2tzICh0aW1lb3V0KVxuXHQgICAgICAgICAgICBpZiAoY291bnQgPiA1MCkge1xuXHRcblx0ICAgICAgICAgICAgICAgIGZpbHRlci5zdG9wV2F0Y2hpbmcoKTtcblx0ICAgICAgICAgICAgICAgIGNhbGxiYWNrRmlyZWQgPSB0cnVlO1xuXHRcblx0ICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjaykgY2FsbGJhY2sobmV3IEVycm9yKCdDb250cmFjdCB0cmFuc2FjdGlvbiBjb3VsZG5cXCd0IGJlIGZvdW5kIGFmdGVyIDUwIGJsb2NrcycpKTtlbHNlIHRocm93IG5ldyBFcnJvcignQ29udHJhY3QgdHJhbnNhY3Rpb24gY291bGRuXFwndCBiZSBmb3VuZCBhZnRlciA1MCBibG9ja3MnKTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0XG5cdCAgICAgICAgICAgICAgICBjb250cmFjdC5fZXRoLmdldFRyYW5zYWN0aW9uUmVjZWlwdChjb250cmFjdC50cmFuc2FjdGlvbkhhc2gsIGZ1bmN0aW9uIChlLCByZWNlaXB0KSB7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKHJlY2VpcHQgJiYgIWNhbGxiYWNrRmlyZWQpIHtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyYWN0Ll9ldGguZ2V0Q29kZShyZWNlaXB0LmNvbnRyYWN0QWRkcmVzcywgZnVuY3Rpb24gKGUsIGNvZGUpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qanNoaW50IG1heGNvbXBsZXhpdHk6IDYgKi9cblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2tGaXJlZCB8fCAhY29kZSkgcmV0dXJuO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlci5zdG9wV2F0Y2hpbmcoKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrRmlyZWQgPSB0cnVlO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb2RlLmxlbmd0aCA+IDMpIHtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ0NvbnRyYWN0IGNvZGUgZGVwbG95ZWQhJyk7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyYWN0LmFkZHJlc3MgPSByZWNlaXB0LmNvbnRyYWN0QWRkcmVzcztcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYXR0YWNoIGV2ZW50cyBhbmQgbWV0aG9kcyBhZ2FpbiBhZnRlciB3ZSBoYXZlXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkRnVuY3Rpb25zVG9Db250cmFjdChjb250cmFjdCk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkRXZlbnRzVG9Db250cmFjdChjb250cmFjdCk7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNhbGwgY2FsbGJhY2sgZm9yIHRoZSBzZWNvbmQgdGltZVxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjaykgY2FsbGJhY2sobnVsbCwgY29udHJhY3QpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2spIGNhbGxiYWNrKG5ldyBFcnJvcignVGhlIGNvbnRyYWN0IGNvZGUgY291bGRuXFwndCBiZSBzdG9yZWQsIHBsZWFzZSBjaGVjayB5b3VyIGdhcyBhbW91bnQuJykpO2Vsc2UgdGhyb3cgbmV3IEVycm9yKCdUaGUgY29udHJhY3QgY29kZSBjb3VsZG5cXCd0IGJlIHN0b3JlZCwgcGxlYXNlIGNoZWNrIHlvdXIgZ2FzIGFtb3VudC4nKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9KTtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBTaG91bGQgYmUgY2FsbGVkIHRvIGNyZWF0ZSBuZXcgQ29udHJhY3RGYWN0b3J5IGluc3RhbmNlXG5cdCAqXG5cdCAqIEBtZXRob2QgQ29udHJhY3RGYWN0b3J5XG5cdCAqIEBwYXJhbSB7QXJyYXl9IGFiaVxuXHQgKi9cblx0dmFyIENvbnRyYWN0RmFjdG9yeSA9IGZ1bmN0aW9uIENvbnRyYWN0RmFjdG9yeShldGgsIGFiaSkge1xuXHQgICAgdGhpcy5ldGggPSBldGg7XG5cdCAgICB0aGlzLmFiaSA9IGFiaTtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIFNob3VsZCBiZSBjYWxsZWQgdG8gY3JlYXRlIG5ldyBjb250cmFjdCBvbiBhIGJsb2NrY2hhaW5cblx0ICAgICAqXG5cdCAgICAgKiBAbWV0aG9kIG5ld1xuXHQgICAgICogQHBhcmFtIHtBbnl9IGNvbnRyYWN0IGNvbnN0cnVjdG9yIHBhcmFtMSAob3B0aW9uYWwpXG5cdCAgICAgKiBAcGFyYW0ge0FueX0gY29udHJhY3QgY29uc3RydWN0b3IgcGFyYW0yIChvcHRpb25hbClcblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb250cmFjdCB0cmFuc2FjdGlvbiBvYmplY3QgKHJlcXVpcmVkKVxuXHQgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcblx0ICAgICAqIEByZXR1cm5zIHtDb250cmFjdH0gcmV0dXJucyBjb250cmFjdCBpbnN0YW5jZVxuXHQgICAgICovXG5cdCAgICB0aGlzLm5ldyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICB2YXIgY29udHJhY3QgPSBuZXcgQ29udHJhY3QodGhpcy5ldGgsIHRoaXMuYWJpKTtcblx0XG5cdCAgICAgICAgLy8gcGFyc2UgYXJndW1lbnRzXG5cdCAgICAgICAgdmFyIG9wdGlvbnMgPSB7fTsgLy8gcmVxdWlyZWQhXG5cdCAgICAgICAgdmFyIGNhbGxiYWNrO1xuXHRcblx0ICAgICAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XG5cdCAgICAgICAgaWYgKHV0aWxzLmlzRnVuY3Rpb24oYXJnc1thcmdzLmxlbmd0aCAtIDFdKSkge1xuXHQgICAgICAgICAgICBjYWxsYmFjayA9IGFyZ3MucG9wKCk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB2YXIgbGFzdCA9IGFyZ3NbYXJncy5sZW5ndGggLSAxXTtcblx0ICAgICAgICBpZiAodXRpbHMuaXNPYmplY3QobGFzdCkgJiYgIXV0aWxzLmlzQXJyYXkobGFzdCkpIHtcblx0ICAgICAgICAgICAgb3B0aW9ucyA9IGFyZ3MucG9wKCk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB2YXIgYnl0ZXMgPSBlbmNvZGVDb25zdHJ1Y3RvclBhcmFtcyh0aGlzLmFiaSwgYXJncyk7XG5cdCAgICAgICAgb3B0aW9ucy5kYXRhICs9IGJ5dGVzO1xuXHRcblx0ICAgICAgICBpZiAoY2FsbGJhY2spIHtcblx0XG5cdCAgICAgICAgICAgIC8vIHdhaXQgZm9yIHRoZSBjb250cmFjdCBhZGRyZXNzIGFkbiBjaGVjayBpZiB0aGUgY29kZSB3YXMgZGVwbG95ZWRcblx0ICAgICAgICAgICAgdGhpcy5ldGguc2VuZFRyYW5zYWN0aW9uKG9wdGlvbnMsIGZ1bmN0aW9uIChlcnIsIGhhc2gpIHtcblx0ICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcblx0ICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIpO1xuXHQgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICAvLyBhZGQgdGhlIHRyYW5zYWN0aW9uIGhhc2hcblx0ICAgICAgICAgICAgICAgICAgICBjb250cmFjdC50cmFuc2FjdGlvbkhhc2ggPSBoYXNoO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAvLyBjYWxsIGNhbGxiYWNrIGZvciB0aGUgZmlyc3QgdGltZVxuXHQgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIGNvbnRyYWN0KTtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgY2hlY2tGb3JDb250cmFjdEFkZHJlc3MoY29udHJhY3QsIGNhbGxiYWNrKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgdmFyIGhhc2ggPSB0aGlzLmV0aC5zZW5kVHJhbnNhY3Rpb24ob3B0aW9ucyk7XG5cdCAgICAgICAgICAgIC8vIGFkZCB0aGUgdHJhbnNhY3Rpb24gaGFzaFxuXHQgICAgICAgICAgICBjb250cmFjdC50cmFuc2FjdGlvbkhhc2ggPSBoYXNoO1xuXHQgICAgICAgICAgICBjaGVja0ZvckNvbnRyYWN0QWRkcmVzcyhjb250cmFjdCk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICByZXR1cm4gY29udHJhY3Q7XG5cdCAgICB9O1xuXHRcblx0ICAgIHRoaXMubmV3LmdldERhdGEgPSB0aGlzLmdldERhdGEuYmluZCh0aGlzKTtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBTaG91bGQgYmUgY2FsbGVkIHRvIGNyZWF0ZSBuZXcgQ29udHJhY3RGYWN0b3J5XG5cdCAqXG5cdCAqIEBtZXRob2QgY29udHJhY3Rcblx0ICogQHBhcmFtIHtBcnJheX0gYWJpXG5cdCAqIEByZXR1cm5zIHtDb250cmFjdEZhY3Rvcnl9IG5ldyBjb250cmFjdCBmYWN0b3J5XG5cdCAqL1xuXHQvL3ZhciBjb250cmFjdCA9IGZ1bmN0aW9uIChhYmkpIHtcblx0Ly9yZXR1cm4gbmV3IENvbnRyYWN0RmFjdG9yeShhYmkpO1xuXHQvL307XG5cdFxuXHRcblx0LyoqXG5cdCAqIFNob3VsZCBiZSBjYWxsZWQgdG8gZ2V0IGFjY2VzcyB0byBleGlzdGluZyBjb250cmFjdCBvbiBhIGJsb2NrY2hhaW5cblx0ICpcblx0ICogQG1ldGhvZCBhdFxuXHQgKiBAcGFyYW0ge0FkZHJlc3N9IGNvbnRyYWN0IGFkZHJlc3MgKHJlcXVpcmVkKVxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayB7b3B0aW9uYWwpXG5cdCAqIEByZXR1cm5zIHtDb250cmFjdH0gcmV0dXJucyBjb250cmFjdCBpZiBubyBjYWxsYmFjayB3YXMgcGFzc2VkLFxuXHQgKiBvdGhlcndpc2UgY2FsbHMgY2FsbGJhY2sgZnVuY3Rpb24gKGVyciwgY29udHJhY3QpXG5cdCAqL1xuXHRDb250cmFjdEZhY3RvcnkucHJvdG90eXBlLmF0ID0gZnVuY3Rpb24gKGFkZHJlc3MsIGNhbGxiYWNrKSB7XG5cdCAgICB2YXIgY29udHJhY3QgPSBuZXcgQ29udHJhY3QodGhpcy5ldGgsIHRoaXMuYWJpLCBhZGRyZXNzKTtcblx0XG5cdCAgICAvLyB0aGlzIGZ1bmN0aW9ucyBhcmUgbm90IHBhcnQgb2YgcHJvdG90eXBlLFxuXHQgICAgLy8gYmVjYXVzZSB3ZSBkb250IHdhbnQgdG8gc3BvaWwgdGhlIGludGVyZmFjZVxuXHQgICAgYWRkRnVuY3Rpb25zVG9Db250cmFjdChjb250cmFjdCk7XG5cdCAgICBhZGRFdmVudHNUb0NvbnRyYWN0KGNvbnRyYWN0KTtcblx0XG5cdCAgICBpZiAoY2FsbGJhY2spIHtcblx0ICAgICAgICBjYWxsYmFjayhudWxsLCBjb250cmFjdCk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gY29udHJhY3Q7XG5cdH07XG5cdFxuXHQvKipcblx0ICogR2V0cyB0aGUgZGF0YSwgd2hpY2ggaXMgZGF0YSB0byBkZXBsb3kgcGx1cyBjb25zdHJ1Y3RvciBwYXJhbXNcblx0ICpcblx0ICogQG1ldGhvZCBnZXREYXRhXG5cdCAqL1xuXHRDb250cmFjdEZhY3RvcnkucHJvdG90eXBlLmdldERhdGEgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2YXIgb3B0aW9ucyA9IHt9OyAvLyByZXF1aXJlZCFcblx0ICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcblx0XG5cdCAgICB2YXIgbGFzdCA9IGFyZ3NbYXJncy5sZW5ndGggLSAxXTtcblx0ICAgIGlmICh1dGlscy5pc09iamVjdChsYXN0KSAmJiAhdXRpbHMuaXNBcnJheShsYXN0KSkge1xuXHQgICAgICAgIG9wdGlvbnMgPSBhcmdzLnBvcCgpO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBieXRlcyA9IGVuY29kZUNvbnN0cnVjdG9yUGFyYW1zKHRoaXMuYWJpLCBhcmdzKTtcblx0ICAgIG9wdGlvbnMuZGF0YSArPSBieXRlcztcblx0XG5cdCAgICByZXR1cm4gb3B0aW9ucy5kYXRhO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFNob3VsZCBiZSBjYWxsZWQgdG8gY3JlYXRlIG5ldyBjb250cmFjdCBpbnN0YW5jZVxuXHQgKlxuXHQgKiBAbWV0aG9kIENvbnRyYWN0XG5cdCAqIEBwYXJhbSB7QXJyYXl9IGFiaVxuXHQgKiBAcGFyYW0ge0FkZHJlc3N9IGNvbnRyYWN0IGFkZHJlc3Ncblx0ICovXG5cdHZhciBDb250cmFjdCA9IGZ1bmN0aW9uIENvbnRyYWN0KGV0aCwgYWJpLCBhZGRyZXNzKSB7XG5cdCAgICB0aGlzLl9ldGggPSBldGg7XG5cdCAgICB0aGlzLnRyYW5zYWN0aW9uSGFzaCA9IG51bGw7XG5cdCAgICB0aGlzLmFkZHJlc3MgPSBhZGRyZXNzO1xuXHQgICAgdGhpcy5hYmkgPSBhYmk7XG5cdH07XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IENvbnRyYWN0RmFjdG9yeTtcblxuLyoqKi8gfSxcbi8qIDc0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgZm9ybWF0dGVycyA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cdHZhciB1dGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdHZhciBNZXRob2QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKTtcblx0dmFyIFByb3BlcnR5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNyk7XG5cdFxuXHQvLyBUT0RPOiByZWZhY3Rvciwgc28gdGhlIGlucHV0IHBhcmFtcyBhcmUgbm90IGFsdGVyZWQuXG5cdC8vIGl0J3MgbmVjZXNzYXJ5IHRvIG1ha2Ugc2FtZSAnZXh0ZW5zaW9uJyB3b3JrIHdpdGggbXVsdGlwbGUgcHJvdmlkZXJzXG5cdHZhciBleHRlbmQgPSBmdW5jdGlvbiBleHRlbmQod2ViMykge1xuXHQgICAgLyoganNoaW50IG1heGNvbXBsZXhpdHk6NSAqL1xuXHQgICAgdmFyIGV4ID0gZnVuY3Rpb24gZXgoZXh0ZW5zaW9uKSB7XG5cdFxuXHQgICAgICAgIHZhciBleHRlbmRlZE9iamVjdDtcblx0ICAgICAgICBpZiAoZXh0ZW5zaW9uLnByb3BlcnR5KSB7XG5cdCAgICAgICAgICAgIGlmICghd2ViM1tleHRlbnNpb24ucHJvcGVydHldKSB7XG5cdCAgICAgICAgICAgICAgICB3ZWIzW2V4dGVuc2lvbi5wcm9wZXJ0eV0gPSB7fTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBleHRlbmRlZE9iamVjdCA9IHdlYjNbZXh0ZW5zaW9uLnByb3BlcnR5XTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBleHRlbmRlZE9iamVjdCA9IHdlYjM7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBpZiAoZXh0ZW5zaW9uLm1ldGhvZHMpIHtcblx0ICAgICAgICAgICAgZXh0ZW5zaW9uLm1ldGhvZHMuZm9yRWFjaChmdW5jdGlvbiAobWV0aG9kKSB7XG5cdCAgICAgICAgICAgICAgICBtZXRob2QuYXR0YWNoVG9PYmplY3QoZXh0ZW5kZWRPYmplY3QpO1xuXHQgICAgICAgICAgICAgICAgbWV0aG9kLnNldFJlcXVlc3RNYW5hZ2VyKHdlYjMuX3JlcXVlc3RNYW5hZ2VyKTtcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBpZiAoZXh0ZW5zaW9uLnByb3BlcnRpZXMpIHtcblx0ICAgICAgICAgICAgZXh0ZW5zaW9uLnByb3BlcnRpZXMuZm9yRWFjaChmdW5jdGlvbiAocHJvcGVydHkpIHtcblx0ICAgICAgICAgICAgICAgIHByb3BlcnR5LmF0dGFjaFRvT2JqZWN0KGV4dGVuZGVkT2JqZWN0KTtcblx0ICAgICAgICAgICAgICAgIHByb3BlcnR5LnNldFJlcXVlc3RNYW5hZ2VyKHdlYjMuX3JlcXVlc3RNYW5hZ2VyKTtcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgfVxuXHQgICAgfTtcblx0XG5cdCAgICBleC5mb3JtYXR0ZXJzID0gZm9ybWF0dGVycztcblx0ICAgIGV4LnV0aWxzID0gdXRpbHM7XG5cdCAgICBleC5NZXRob2QgPSBNZXRob2Q7XG5cdCAgICBleC5Qcm9wZXJ0eSA9IFByb3BlcnR5O1xuXHRcblx0ICAgIHJldHVybiBleDtcblx0fTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZXh0ZW5kO1xuXG4vKioqLyB9LFxuLyogNzUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdC8qXG5cdCAgICBUaGlzIGZpbGUgaXMgcGFydCBvZiB3ZWIzLmpzLlxuXHRcblx0ICAgIHdlYjMuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuXHQgICAgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG5cdCAgICB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuXHQgICAgKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cblx0XG5cdCAgICB3ZWIzLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG5cdCAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuXHQgICAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuXHQgICAgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG5cdFxuXHQgICAgWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG5cdCAgICBhbG9uZyB3aXRoIHdlYjMuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG5cdCovXG5cdC8qKlxuXHQgKiBAZmlsZSBmdW5jdGlvbi5qc1xuXHQgKiBAYXV0aG9yIE1hcmVrIEtvdGV3aWN6IDxtYXJla0BldGhkZXYuY29tPlxuXHQgKiBAZGF0ZSAyMDE1XG5cdCAqL1xuXHRcblx0dmFyIGNvZGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNSk7XG5cdHZhciB1dGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdHZhciBmb3JtYXR0ZXJzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcblx0dmFyIHNoYTMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KTtcblx0XG5cdC8qKlxuXHQgKiBUaGlzIHByb3RvdHlwZSBzaG91bGQgYmUgdXNlZCB0byBjYWxsL3NlbmRUcmFuc2FjdGlvbiB0byBzb2xpZGl0eSBmdW5jdGlvbnNcblx0ICovXG5cdHZhciBTb2xpZGl0eUZ1bmN0aW9uID0gZnVuY3Rpb24gU29saWRpdHlGdW5jdGlvbihldGgsIGpzb24sIGFkZHJlc3MpIHtcblx0ICAgIHRoaXMuX2V0aCA9IGV0aDtcblx0ICAgIHRoaXMuX2lucHV0VHlwZXMgPSBqc29uLmlucHV0cy5tYXAoZnVuY3Rpb24gKGkpIHtcblx0ICAgICAgICByZXR1cm4gaS50eXBlO1xuXHQgICAgfSk7XG5cdCAgICB0aGlzLl9vdXRwdXRUeXBlcyA9IGpzb24ub3V0cHV0cy5tYXAoZnVuY3Rpb24gKGkpIHtcblx0ICAgICAgICByZXR1cm4gaS50eXBlO1xuXHQgICAgfSk7XG5cdCAgICB0aGlzLl9jb25zdGFudCA9IGpzb24uY29uc3RhbnQ7XG5cdCAgICB0aGlzLl9uYW1lID0gdXRpbHMudHJhbnNmb3JtVG9GdWxsTmFtZShqc29uKTtcblx0ICAgIHRoaXMuX2FkZHJlc3MgPSBhZGRyZXNzO1xuXHR9O1xuXHRcblx0U29saWRpdHlGdW5jdGlvbi5wcm90b3R5cGUuZXh0cmFjdENhbGxiYWNrID0gZnVuY3Rpb24gKGFyZ3MpIHtcblx0ICAgIGlmICh1dGlscy5pc0Z1bmN0aW9uKGFyZ3NbYXJncy5sZW5ndGggLSAxXSkpIHtcblx0ICAgICAgICByZXR1cm4gYXJncy5wb3AoKTsgLy8gbW9kaWZ5IHRoZSBhcmdzIGFycmF5IVxuXHQgICAgfVxuXHR9O1xuXHRcblx0U29saWRpdHlGdW5jdGlvbi5wcm90b3R5cGUuZXh0cmFjdERlZmF1bHRCbG9jayA9IGZ1bmN0aW9uIChhcmdzKSB7XG5cdCAgICBpZiAoYXJncy5sZW5ndGggPiB0aGlzLl9pbnB1dFR5cGVzLmxlbmd0aCAmJiAhdXRpbHMuaXNPYmplY3QoYXJnc1thcmdzLmxlbmd0aCAtIDFdKSkge1xuXHQgICAgICAgIHJldHVybiBmb3JtYXR0ZXJzLmlucHV0RGVmYXVsdEJsb2NrTnVtYmVyRm9ybWF0dGVyKGFyZ3MucG9wKCkpOyAvLyBtb2RpZnkgdGhlIGFyZ3MgYXJyYXkhXG5cdCAgICB9XG5cdH07XG5cdFxuXHQvKipcblx0ICogU2hvdWxkIGJlIHVzZWQgdG8gY3JlYXRlIHBheWxvYWQgZnJvbSBhcmd1bWVudHNcblx0ICpcblx0ICogQG1ldGhvZCB0b1BheWxvYWRcblx0ICogQHBhcmFtIHtBcnJheX0gc29saWRpdHkgZnVuY3Rpb24gcGFyYW1zXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25hbCBwYXlsb2FkIG9wdGlvbnNcblx0ICovXG5cdFNvbGlkaXR5RnVuY3Rpb24ucHJvdG90eXBlLnRvUGF5bG9hZCA9IGZ1bmN0aW9uIChhcmdzKSB7XG5cdCAgICB2YXIgb3B0aW9ucyA9IHt9O1xuXHQgICAgaWYgKGFyZ3MubGVuZ3RoID4gdGhpcy5faW5wdXRUeXBlcy5sZW5ndGggJiYgdXRpbHMuaXNPYmplY3QoYXJnc1thcmdzLmxlbmd0aCAtIDFdKSkge1xuXHQgICAgICAgIG9wdGlvbnMgPSBhcmdzW2FyZ3MubGVuZ3RoIC0gMV07XG5cdCAgICB9XG5cdCAgICBvcHRpb25zLnRvID0gdGhpcy5fYWRkcmVzcztcblx0ICAgIG9wdGlvbnMuZGF0YSA9ICcweCcgKyB0aGlzLnNpZ25hdHVyZSgpICsgY29kZXIuZW5jb2RlUGFyYW1zKHRoaXMuX2lucHV0VHlwZXMsIGFyZ3MpO1xuXHQgICAgcmV0dXJuIG9wdGlvbnM7XG5cdH07XG5cdFxuXHQvKipcblx0ICogU2hvdWxkIGJlIHVzZWQgdG8gZ2V0IGZ1bmN0aW9uIHNpZ25hdHVyZVxuXHQgKlxuXHQgKiBAbWV0aG9kIHNpZ25hdHVyZVxuXHQgKiBAcmV0dXJuIHtTdHJpbmd9IGZ1bmN0aW9uIHNpZ25hdHVyZVxuXHQgKi9cblx0U29saWRpdHlGdW5jdGlvbi5wcm90b3R5cGUuc2lnbmF0dXJlID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIHNoYTModGhpcy5fbmFtZSkuc2xpY2UoMCwgOCk7XG5cdH07XG5cdFxuXHRTb2xpZGl0eUZ1bmN0aW9uLnByb3RvdHlwZS51bnBhY2tPdXRwdXQgPSBmdW5jdGlvbiAob3V0cHV0KSB7XG5cdCAgICBpZiAoIW91dHB1dCkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgIH1cblx0XG5cdCAgICBvdXRwdXQgPSBvdXRwdXQubGVuZ3RoID49IDIgPyBvdXRwdXQuc2xpY2UoMikgOiBvdXRwdXQ7XG5cdCAgICB2YXIgcmVzdWx0ID0gY29kZXIuZGVjb2RlUGFyYW1zKHRoaXMuX291dHB1dFR5cGVzLCBvdXRwdXQpO1xuXHQgICAgcmV0dXJuIHJlc3VsdC5sZW5ndGggPT09IDEgPyByZXN1bHRbMF0gOiByZXN1bHQ7XG5cdH07XG5cdFxuXHQvKipcblx0ICogQ2FsbHMgYSBjb250cmFjdCBmdW5jdGlvbi5cblx0ICpcblx0ICogQG1ldGhvZCBjYWxsXG5cdCAqIEBwYXJhbSB7Li4uT2JqZWN0fSBDb250cmFjdCBmdW5jdGlvbiBhcmd1bWVudHNcblx0ICogQHBhcmFtIHtmdW5jdGlvbn0gSWYgdGhlIGxhc3QgYXJndW1lbnQgaXMgYSBmdW5jdGlvbiwgdGhlIGNvbnRyYWN0IGZ1bmN0aW9uXG5cdCAqICAgY2FsbCB3aWxsIGJlIGFzeW5jaHJvbm91cywgYW5kIHRoZSBjYWxsYmFjayB3aWxsIGJlIHBhc3NlZCB0aGVcblx0ICogICBlcnJvciBhbmQgcmVzdWx0LlxuXHQgKiBAcmV0dXJuIHtTdHJpbmd9IG91dHB1dCBieXRlc1xuXHQgKi9cblx0U29saWRpdHlGdW5jdGlvbi5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKS5maWx0ZXIoZnVuY3Rpb24gKGEpIHtcblx0ICAgICAgICByZXR1cm4gYSAhPT0gdW5kZWZpbmVkO1xuXHQgICAgfSk7XG5cdCAgICB2YXIgY2FsbGJhY2sgPSB0aGlzLmV4dHJhY3RDYWxsYmFjayhhcmdzKTtcblx0ICAgIHZhciBkZWZhdWx0QmxvY2sgPSB0aGlzLmV4dHJhY3REZWZhdWx0QmxvY2soYXJncyk7XG5cdCAgICB2YXIgcGF5bG9hZCA9IHRoaXMudG9QYXlsb2FkKGFyZ3MpO1xuXHRcblx0ICAgIGlmICghY2FsbGJhY2spIHtcblx0ICAgICAgICB2YXIgb3V0cHV0ID0gdGhpcy5fZXRoLmNhbGwocGF5bG9hZCwgZGVmYXVsdEJsb2NrKTtcblx0ICAgICAgICByZXR1cm4gdGhpcy51bnBhY2tPdXRwdXQob3V0cHV0KTtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgc2VsZiA9IHRoaXM7XG5cdCAgICB0aGlzLl9ldGguY2FsbChwYXlsb2FkLCBkZWZhdWx0QmxvY2ssIGZ1bmN0aW9uIChlcnJvciwgb3V0cHV0KSB7XG5cdCAgICAgICAgY2FsbGJhY2soZXJyb3IsIHNlbGYudW5wYWNrT3V0cHV0KG91dHB1dCkpO1xuXHQgICAgfSk7XG5cdH07XG5cdFxuXHQvKipcblx0ICogU2hvdWxkIGJlIHVzZWQgdG8gc2VuZFRyYW5zYWN0aW9uIHRvIHNvbGlkaXR5IGZ1bmN0aW9uXG5cdCAqXG5cdCAqIEBtZXRob2Qgc2VuZFRyYW5zYWN0aW9uXG5cdCAqL1xuXHRTb2xpZGl0eUZ1bmN0aW9uLnByb3RvdHlwZS5zZW5kVHJhbnNhY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykuZmlsdGVyKGZ1bmN0aW9uIChhKSB7XG5cdCAgICAgICAgcmV0dXJuIGEgIT09IHVuZGVmaW5lZDtcblx0ICAgIH0pO1xuXHQgICAgdmFyIGNhbGxiYWNrID0gdGhpcy5leHRyYWN0Q2FsbGJhY2soYXJncyk7XG5cdCAgICB2YXIgcGF5bG9hZCA9IHRoaXMudG9QYXlsb2FkKGFyZ3MpO1xuXHRcblx0ICAgIGlmICghY2FsbGJhY2spIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5fZXRoLnNlbmRUcmFuc2FjdGlvbihwYXlsb2FkKTtcblx0ICAgIH1cblx0XG5cdCAgICB0aGlzLl9ldGguc2VuZFRyYW5zYWN0aW9uKHBheWxvYWQsIGNhbGxiYWNrKTtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBTaG91bGQgYmUgdXNlZCB0byBlc3RpbWF0ZUdhcyBvZiBzb2xpZGl0eSBmdW5jdGlvblxuXHQgKlxuXHQgKiBAbWV0aG9kIGVzdGltYXRlR2FzXG5cdCAqL1xuXHRTb2xpZGl0eUZ1bmN0aW9uLnByb3RvdHlwZS5lc3RpbWF0ZUdhcyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcblx0ICAgIHZhciBjYWxsYmFjayA9IHRoaXMuZXh0cmFjdENhbGxiYWNrKGFyZ3MpO1xuXHQgICAgdmFyIHBheWxvYWQgPSB0aGlzLnRvUGF5bG9hZChhcmdzKTtcblx0XG5cdCAgICBpZiAoIWNhbGxiYWNrKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuX2V0aC5lc3RpbWF0ZUdhcyhwYXlsb2FkKTtcblx0ICAgIH1cblx0XG5cdCAgICB0aGlzLl9ldGguZXN0aW1hdGVHYXMocGF5bG9hZCwgY2FsbGJhY2spO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFJldHVybiB0aGUgZW5jb2RlZCBkYXRhIG9mIHRoZSBjYWxsXG5cdCAqXG5cdCAqIEBtZXRob2QgZ2V0RGF0YVxuXHQgKiBAcmV0dXJuIHtTdHJpbmd9IHRoZSBlbmNvZGVkIGRhdGFcblx0ICovXG5cdFNvbGlkaXR5RnVuY3Rpb24ucHJvdG90eXBlLmdldERhdGEgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XG5cdCAgICB2YXIgcGF5bG9hZCA9IHRoaXMudG9QYXlsb2FkKGFyZ3MpO1xuXHRcblx0ICAgIHJldHVybiBwYXlsb2FkLmRhdGE7XG5cdH07XG5cdFxuXHQvKipcblx0ICogU2hvdWxkIGJlIHVzZWQgdG8gZ2V0IGZ1bmN0aW9uIGRpc3BsYXkgbmFtZVxuXHQgKlxuXHQgKiBAbWV0aG9kIGRpc3BsYXlOYW1lXG5cdCAqIEByZXR1cm4ge1N0cmluZ30gZGlzcGxheSBuYW1lIG9mIHRoZSBmdW5jdGlvblxuXHQgKi9cblx0U29saWRpdHlGdW5jdGlvbi5wcm90b3R5cGUuZGlzcGxheU5hbWUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gdXRpbHMuZXh0cmFjdERpc3BsYXlOYW1lKHRoaXMuX25hbWUpO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFNob3VsZCBiZSB1c2VkIHRvIGdldCBmdW5jdGlvbiB0eXBlIG5hbWVcblx0ICpcblx0ICogQG1ldGhvZCB0eXBlTmFtZVxuXHQgKiBAcmV0dXJuIHtTdHJpbmd9IHR5cGUgbmFtZSBvZiB0aGUgZnVuY3Rpb25cblx0ICovXG5cdFNvbGlkaXR5RnVuY3Rpb24ucHJvdG90eXBlLnR5cGVOYW1lID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIHV0aWxzLmV4dHJhY3RUeXBlTmFtZSh0aGlzLl9uYW1lKTtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBTaG91bGQgYmUgY2FsbGVkIHRvIGdldCBycGMgcmVxdWVzdHMgZnJvbSBzb2xpZGl0eSBmdW5jdGlvblxuXHQgKlxuXHQgKiBAbWV0aG9kIHJlcXVlc3Rcblx0ICogQHJldHVybnMge09iamVjdH1cblx0ICovXG5cdFNvbGlkaXR5RnVuY3Rpb24ucHJvdG90eXBlLnJlcXVlc3QgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XG5cdCAgICB2YXIgY2FsbGJhY2sgPSB0aGlzLmV4dHJhY3RDYWxsYmFjayhhcmdzKTtcblx0ICAgIHZhciBwYXlsb2FkID0gdGhpcy50b1BheWxvYWQoYXJncyk7XG5cdCAgICB2YXIgZm9ybWF0ID0gdGhpcy51bnBhY2tPdXRwdXQuYmluZCh0aGlzKTtcblx0XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICAgIG1ldGhvZDogdGhpcy5fY29uc3RhbnQgPyAnZXRoX2NhbGwnIDogJ2V0aF9zZW5kVHJhbnNhY3Rpb24nLFxuXHQgICAgICAgIGNhbGxiYWNrOiBjYWxsYmFjayxcblx0ICAgICAgICBwYXJhbXM6IFtwYXlsb2FkXSxcblx0ICAgICAgICBmb3JtYXQ6IGZvcm1hdFxuXHQgICAgfTtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBTaG91bGQgYmUgY2FsbGVkIHRvIGV4ZWN1dGUgZnVuY3Rpb25cblx0ICpcblx0ICogQG1ldGhvZCBleGVjdXRlXG5cdCAqL1xuXHRTb2xpZGl0eUZ1bmN0aW9uLnByb3RvdHlwZS5leGVjdXRlID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdmFyIHRyYW5zYWN0aW9uID0gIXRoaXMuX2NvbnN0YW50O1xuXHRcblx0ICAgIC8vIHNlbmQgdHJhbnNhY3Rpb25cblx0ICAgIGlmICh0cmFuc2FjdGlvbikge1xuXHQgICAgICAgIHJldHVybiB0aGlzLnNlbmRUcmFuc2FjdGlvbi5hcHBseSh0aGlzLCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKTtcblx0ICAgIH1cblx0XG5cdCAgICAvLyBjYWxsXG5cdCAgICByZXR1cm4gdGhpcy5jYWxsLmFwcGx5KHRoaXMsIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykpO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFNob3VsZCBiZSBjYWxsZWQgdG8gYXR0YWNoIGZ1bmN0aW9uIHRvIGNvbnRyYWN0XG5cdCAqXG5cdCAqIEBtZXRob2QgYXR0YWNoVG9Db250cmFjdFxuXHQgKiBAcGFyYW0ge0NvbnRyYWN0fVxuXHQgKi9cblx0U29saWRpdHlGdW5jdGlvbi5wcm90b3R5cGUuYXR0YWNoVG9Db250cmFjdCA9IGZ1bmN0aW9uIChjb250cmFjdCkge1xuXHQgICAgdmFyIGV4ZWN1dGUgPSB0aGlzLmV4ZWN1dGUuYmluZCh0aGlzKTtcblx0ICAgIGV4ZWN1dGUucmVxdWVzdCA9IHRoaXMucmVxdWVzdC5iaW5kKHRoaXMpO1xuXHQgICAgZXhlY3V0ZS5jYWxsID0gdGhpcy5jYWxsLmJpbmQodGhpcyk7XG5cdCAgICBleGVjdXRlLnNlbmRUcmFuc2FjdGlvbiA9IHRoaXMuc2VuZFRyYW5zYWN0aW9uLmJpbmQodGhpcyk7XG5cdCAgICBleGVjdXRlLmVzdGltYXRlR2FzID0gdGhpcy5lc3RpbWF0ZUdhcy5iaW5kKHRoaXMpO1xuXHQgICAgZXhlY3V0ZS5nZXREYXRhID0gdGhpcy5nZXREYXRhLmJpbmQodGhpcyk7XG5cdCAgICB2YXIgZGlzcGxheU5hbWUgPSB0aGlzLmRpc3BsYXlOYW1lKCk7XG5cdCAgICBpZiAoIWNvbnRyYWN0W2Rpc3BsYXlOYW1lXSkge1xuXHQgICAgICAgIGNvbnRyYWN0W2Rpc3BsYXlOYW1lXSA9IGV4ZWN1dGU7XG5cdCAgICB9XG5cdCAgICBjb250cmFjdFtkaXNwbGF5TmFtZV1bdGhpcy50eXBlTmFtZSgpXSA9IGV4ZWN1dGU7IC8vIGNpcmN1bGFyISEhIVxuXHR9O1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBTb2xpZGl0eUZ1bmN0aW9uO1xuXG4vKioqLyB9LFxuLyogNzYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qXG5cdCAgICBUaGlzIGZpbGUgaXMgcGFydCBvZiB3ZWIzLmpzLlxuXHRcblx0ICAgIHdlYjMuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuXHQgICAgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG5cdCAgICB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuXHQgICAgKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cblx0XG5cdCAgICB3ZWIzLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG5cdCAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuXHQgICAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuXHQgICAgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG5cdFxuXHQgICAgWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG5cdCAgICBhbG9uZyB3aXRoIHdlYjMuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG5cdCovXG5cdC8qKiBAZmlsZSBodHRwcHJvdmlkZXIuanNcblx0ICogQGF1dGhvcnM6XG5cdCAqICAgTWFyZWsgS290ZXdpY3ogPG1hcmVrQGV0aGRldi5jb20+XG5cdCAqICAgTWFyaWFuIE9hbmNlYSA8bWFyaWFuQGV0aGRldi5jb20+XG5cdCAqICAgRmFiaWFuIFZvZ2Vsc3RlbGxlciA8ZmFiaWFuQGV0aGRldi5jb20+XG5cdCAqIEBkYXRlIDIwMTVcblx0ICovXG5cdFxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdHZhciBlcnJvcnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2KTtcblx0XG5cdC8vIHdvcmthcm91bmQgdG8gdXNlIGh0dHBwcm92aWRlciBpbiBkaWZmZXJlbnQgZW52c1xuXHR2YXIgWE1MSHR0cFJlcXVlc3Q7IC8vIGpzaGludCBpZ25vcmU6IGxpbmVcblx0XG5cdC8vIGJyb3dzZXJcblx0aWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5YTUxIdHRwUmVxdWVzdCkge1xuXHQgICAgWE1MSHR0cFJlcXVlc3QgPSB3aW5kb3cuWE1MSHR0cFJlcXVlc3Q7IC8vIGpzaGludCBpZ25vcmU6IGxpbmVcblx0XG5cdCAgICAvLyBub2RlXG5cdH0gZWxzZSB7XG5cdCAgICBYTUxIdHRwUmVxdWVzdCA9IF9fd2VicGFja19yZXF1aXJlX18oNjkpLlhNTEh0dHBSZXF1ZXN0OyAvLyBqc2hpbnQgaWdub3JlOiBsaW5lXG5cdH1cblx0XG5cdC8qKlxuXHQgKiBIdHRwUHJvdmlkZXIgc2hvdWxkIGJlIHVzZWQgdG8gc2VuZCBycGMgY2FsbHMgb3ZlciBodHRwXG5cdCAqL1xuXHR2YXIgSHR0cFByb3ZpZGVyID0gZnVuY3Rpb24gSHR0cFByb3ZpZGVyKGhvc3QpIHtcblx0ICAgIHRoaXMuaG9zdCA9IGhvc3QgfHwgJ2h0dHA6Ly9sb2NhbGhvc3Q6ODU0NSc7XG5cdH07XG5cdFxuXHQvKipcblx0ICogU2hvdWxkIGJlIGNhbGxlZCB0byBwcmVwYXJlIG5ldyBYTUxIdHRwUmVxdWVzdFxuXHQgKlxuXHQgKiBAbWV0aG9kIHByZXBhcmVSZXF1ZXN0XG5cdCAqIEBwYXJhbSB7Qm9vbGVhbn0gdHJ1ZSBpZiByZXF1ZXN0IHNob3VsZCBiZSBhc3luY1xuXHQgKiBAcmV0dXJuIHtYTUxIdHRwUmVxdWVzdH0gb2JqZWN0XG5cdCAqL1xuXHRIdHRwUHJvdmlkZXIucHJvdG90eXBlLnByZXBhcmVSZXF1ZXN0ID0gZnVuY3Rpb24gKGFzeW5jKSB7XG5cdCAgICB2YXIgcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXHQgICAgcmVxdWVzdC5vcGVuKCdQT1NUJywgdGhpcy5ob3N0LCBhc3luYyk7XG5cdCAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG5cdCAgICByZXR1cm4gcmVxdWVzdDtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBTaG91bGQgYmUgY2FsbGVkIHRvIG1ha2Ugc3luYyByZXF1ZXN0XG5cdCAqXG5cdCAqIEBtZXRob2Qgc2VuZFxuXHQgKiBAcGFyYW0ge09iamVjdH0gcGF5bG9hZFxuXHQgKiBAcmV0dXJuIHtPYmplY3R9IHJlc3VsdFxuXHQgKi9cblx0SHR0cFByb3ZpZGVyLnByb3RvdHlwZS5zZW5kID0gZnVuY3Rpb24gKHBheWxvYWQpIHtcblx0ICAgIHZhciByZXF1ZXN0ID0gdGhpcy5wcmVwYXJlUmVxdWVzdChmYWxzZSk7XG5cdFxuXHQgICAgdHJ5IHtcblx0ICAgICAgICByZXF1ZXN0LnNlbmQoSlNPTi5zdHJpbmdpZnkocGF5bG9hZCkpO1xuXHQgICAgfSBjYXRjaCAoZXJyb3IpIHtcblx0ICAgICAgICB0aHJvdyBlcnJvcnMuSW52YWxpZENvbm5lY3Rpb24odGhpcy5ob3N0KTtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgcmVzdWx0ID0gcmVxdWVzdC5yZXNwb25zZVRleHQ7XG5cdFxuXHQgICAgdHJ5IHtcblx0ICAgICAgICByZXN1bHQgPSBKU09OLnBhcnNlKHJlc3VsdCk7XG5cdCAgICB9IGNhdGNoIChlKSB7XG5cdCAgICAgICAgdGhyb3cgZXJyb3JzLkludmFsaWRSZXNwb25zZShyZXF1ZXN0LnJlc3BvbnNlVGV4dCk7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIHJlc3VsdDtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBTaG91bGQgYmUgdXNlZCB0byBtYWtlIGFzeW5jIHJlcXVlc3Rcblx0ICpcblx0ICogQG1ldGhvZCBzZW5kQXN5bmNcblx0ICogQHBhcmFtIHtPYmplY3R9IHBheWxvYWRcblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgdHJpZ2dlcmVkIG9uIGVuZCB3aXRoIChlcnIsIHJlc3VsdClcblx0ICovXG5cdEh0dHBQcm92aWRlci5wcm90b3R5cGUuc2VuZEFzeW5jID0gZnVuY3Rpb24gKHBheWxvYWQsIGNhbGxiYWNrKSB7XG5cdCAgICB2YXIgcmVxdWVzdCA9IHRoaXMucHJlcGFyZVJlcXVlc3QodHJ1ZSk7XG5cdFxuXHQgICAgcmVxdWVzdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgaWYgKHJlcXVlc3QucmVhZHlTdGF0ZSA9PT0gNCkge1xuXHQgICAgICAgICAgICB2YXIgcmVzdWx0ID0gcmVxdWVzdC5yZXNwb25zZVRleHQ7XG5cdCAgICAgICAgICAgIHZhciBlcnJvciA9IG51bGw7XG5cdFxuXHQgICAgICAgICAgICB0cnkge1xuXHQgICAgICAgICAgICAgICAgcmVzdWx0ID0gSlNPTi5wYXJzZShyZXN1bHQpO1xuXHQgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG5cdCAgICAgICAgICAgICAgICBlcnJvciA9IGVycm9ycy5JbnZhbGlkUmVzcG9uc2UocmVxdWVzdC5yZXNwb25zZVRleHQpO1xuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICBjYWxsYmFjayhlcnJvciwgcmVzdWx0KTtcblx0ICAgICAgICB9XG5cdCAgICB9O1xuXHRcblx0ICAgIHRyeSB7XG5cdCAgICAgICAgcmVxdWVzdC5zZW5kKEpTT04uc3RyaW5naWZ5KHBheWxvYWQpKTtcblx0ICAgIH0gY2F0Y2ggKGVycm9yKSB7XG5cdCAgICAgICAgY2FsbGJhY2soZXJyb3JzLkludmFsaWRDb25uZWN0aW9uKHRoaXMuaG9zdCkpO1xuXHQgICAgfVxuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFN5bmNocm9ub3VzbHkgdHJpZXMgdG8gbWFrZSBIdHRwIHJlcXVlc3Rcblx0ICpcblx0ICogQG1ldGhvZCBpc0Nvbm5lY3RlZFxuXHQgKiBAcmV0dXJuIHtCb29sZWFufSByZXR1cm5zIHRydWUgaWYgcmVxdWVzdCBoYXZlbid0IGZhaWxlZC4gT3RoZXJ3aXNlIGZhbHNlXG5cdCAqL1xuXHRIdHRwUHJvdmlkZXIucHJvdG90eXBlLmlzQ29ubmVjdGVkID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdHJ5IHtcblx0ICAgICAgICB0aGlzLnNlbmQoe1xuXHQgICAgICAgICAgICBpZDogOTk5OTk5OTk5OSxcblx0ICAgICAgICAgICAganNvbnJwYzogJzIuMCcsXG5cdCAgICAgICAgICAgIG1ldGhvZDogJ25ldF9saXN0ZW5pbmcnLFxuXHQgICAgICAgICAgICBwYXJhbXM6IFtdXG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICB9IGNhdGNoIChlKSB7XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgfVxuXHR9O1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBIdHRwUHJvdmlkZXI7XG5cbi8qKiovIH0sXG4vKiA3NyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Lypcblx0ICAgIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIHdlYjMuanMuXG5cdFxuXHQgICAgd2ViMy5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG5cdCAgICBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcblx0ICAgIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG5cdCAgICAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuXHRcblx0ICAgIHdlYjMuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcblx0ICAgIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG5cdCAgICBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG5cdCAgICBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cblx0XG5cdCAgICBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2Vcblx0ICAgIGFsb25nIHdpdGggd2ViMy5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cblx0Ki9cblx0LyoqIEBmaWxlIGlwY3Byb3ZpZGVyLmpzXG5cdCAqIEBhdXRob3JzOlxuXHQgKiAgIEZhYmlhbiBWb2dlbHN0ZWxsZXIgPGZhYmlhbkBldGhkZXYuY29tPlxuXHQgKiBAZGF0ZSAyMDE1XG5cdCAqL1xuXHRcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHR2YXIgdXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHR2YXIgZXJyb3JzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNik7XG5cdFxuXHR2YXIgSXBjUHJvdmlkZXIgPSBmdW5jdGlvbiBJcGNQcm92aWRlcihwYXRoLCBuZXQpIHtcblx0ICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cdCAgICB0aGlzLnJlc3BvbnNlQ2FsbGJhY2tzID0ge307XG5cdCAgICB0aGlzLnBhdGggPSBwYXRoO1xuXHRcblx0ICAgIHRoaXMuY29ubmVjdGlvbiA9IG5ldC5jb25uZWN0KHsgcGF0aDogdGhpcy5wYXRoIH0pO1xuXHRcblx0ICAgIHRoaXMuY29ubmVjdGlvbi5vbignZXJyb3InLCBmdW5jdGlvbiAoZSkge1xuXHQgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0lQQyBDb25uZWN0aW9uIEVycm9yJywgZSk7XG5cdCAgICAgICAgX3RoaXMuX3RpbWVvdXQoKTtcblx0ICAgIH0pO1xuXHRcblx0ICAgIHRoaXMuY29ubmVjdGlvbi5vbignZW5kJywgZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIF90aGlzLl90aW1lb3V0KCk7XG5cdCAgICB9KTtcblx0XG5cdCAgICAvLyBMSVNURU4gRk9SIENPTk5FQ1RJT04gUkVTUE9OU0VTXG5cdCAgICB0aGlzLmNvbm5lY3Rpb24ub24oJ2RhdGEnLCBmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICAgIC8qanNoaW50IG1heGNvbXBsZXhpdHk6IDYgKi9cblx0XG5cdCAgICAgICAgX3RoaXMuX3BhcnNlUmVzcG9uc2UoZGF0YS50b1N0cmluZygpKS5mb3JFYWNoKGZ1bmN0aW9uIChyZXN1bHQpIHtcblx0XG5cdCAgICAgICAgICAgIHZhciBpZCA9IG51bGw7XG5cdFxuXHQgICAgICAgICAgICAvLyBnZXQgdGhlIGlkIHdoaWNoIG1hdGNoZXMgdGhlIHJldHVybmVkIGlkXG5cdCAgICAgICAgICAgIGlmICh1dGlscy5pc0FycmF5KHJlc3VsdCkpIHtcblx0ICAgICAgICAgICAgICAgIHJlc3VsdC5mb3JFYWNoKGZ1bmN0aW9uIChsb2FkKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLnJlc3BvbnNlQ2FsbGJhY2tzW2xvYWQuaWRdKSBpZCA9IGxvYWQuaWQ7XG5cdCAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIGlkID0gcmVzdWx0LmlkO1xuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICAvLyBmaXJlIHRoZSBjYWxsYmFja1xuXHQgICAgICAgICAgICBpZiAoX3RoaXMucmVzcG9uc2VDYWxsYmFja3NbaWRdKSB7XG5cdCAgICAgICAgICAgICAgICBfdGhpcy5yZXNwb25zZUNhbGxiYWNrc1tpZF0obnVsbCwgcmVzdWx0KTtcblx0ICAgICAgICAgICAgICAgIGRlbGV0ZSBfdGhpcy5yZXNwb25zZUNhbGxiYWNrc1tpZF07XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9KTtcblx0ICAgIH0pO1xuXHR9O1xuXHRcblx0LyoqXG5cdFdpbGwgcGFyc2UgdGhlIHJlc3BvbnNlIGFuZCBtYWtlIGFuIGFycmF5IG91dCBvZiBpdC5cblx0XG5cdEBtZXRob2QgX3BhcnNlUmVzcG9uc2Vcblx0QHBhcmFtIHtTdHJpbmd9IGRhdGFcblx0Ki9cblx0SXBjUHJvdmlkZXIucHJvdG90eXBlLl9wYXJzZVJlc3BvbnNlID0gZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgIHZhciBfdGhpcyA9IHRoaXMsXG5cdCAgICAgICAgcmV0dXJuVmFsdWVzID0gW107XG5cdFxuXHQgICAgLy8gREUtQ0hVTktFUlxuXHQgICAgdmFyIGRlY2h1bmtlZERhdGEgPSBkYXRhLnJlcGxhY2UoL1xcfVtcXG5cXHJdP1xcey9nLCAnfXwtLXx7JykgLy8gfXtcblx0ICAgIC5yZXBsYWNlKC9cXH1cXF1bXFxuXFxyXT9cXFtcXHsvZywgJ31dfC0tfFt7JykgLy8gfV1be1xuXHQgICAgLnJlcGxhY2UoL1xcfVtcXG5cXHJdP1xcW1xcey9nLCAnfXwtLXxbeycpIC8vIH1be1xuXHQgICAgLnJlcGxhY2UoL1xcfVxcXVtcXG5cXHJdP1xcey9nLCAnfV18LS18eycpIC8vIH1de1xuXHQgICAgLnNwbGl0KCd8LS18Jyk7XG5cdFxuXHQgICAgZGVjaHVua2VkRGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChkYXRhKSB7XG5cdFxuXHQgICAgICAgIC8vIHByZXBlbmQgdGhlIGxhc3QgY2h1bmtcblx0ICAgICAgICBpZiAoX3RoaXMubGFzdENodW5rKSBkYXRhID0gX3RoaXMubGFzdENodW5rICsgZGF0YTtcblx0XG5cdCAgICAgICAgdmFyIHJlc3VsdCA9IG51bGw7XG5cdFxuXHQgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICAgIHJlc3VsdCA9IEpTT04ucGFyc2UoZGF0YSk7XG5cdCAgICAgICAgfSBjYXRjaCAoZSkge1xuXHRcblx0ICAgICAgICAgICAgX3RoaXMubGFzdENodW5rID0gZGF0YTtcblx0XG5cdCAgICAgICAgICAgIC8vIHN0YXJ0IHRpbWVvdXQgdG8gY2FuY2VsIGFsbCByZXF1ZXN0c1xuXHQgICAgICAgICAgICBjbGVhclRpbWVvdXQoX3RoaXMubGFzdENodW5rVGltZW91dCk7XG5cdCAgICAgICAgICAgIF90aGlzLmxhc3RDaHVua1RpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgIF90aGlzLl90aW1lb3V0KCk7XG5cdCAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcnMuSW52YWxpZFJlc3BvbnNlKGRhdGEpO1xuXHQgICAgICAgICAgICB9LCAxMDAwICogMTUpO1xuXHRcblx0ICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgLy8gY2FuY2VsIHRpbWVvdXQgYW5kIHNldCBjaHVuayB0byBudWxsXG5cdCAgICAgICAgY2xlYXJUaW1lb3V0KF90aGlzLmxhc3RDaHVua1RpbWVvdXQpO1xuXHQgICAgICAgIF90aGlzLmxhc3RDaHVuayA9IG51bGw7XG5cdFxuXHQgICAgICAgIGlmIChyZXN1bHQpIHJldHVyblZhbHVlcy5wdXNoKHJlc3VsdCk7XG5cdCAgICB9KTtcblx0XG5cdCAgICByZXR1cm4gcmV0dXJuVmFsdWVzO1xuXHR9O1xuXHRcblx0LyoqXG5cdEdldCB0aGUgYWRkcyBhIGNhbGxiYWNrIHRvIHRoZSByZXNwb25zZUNhbGxiYWNrcyBvYmplY3QsXG5cdHdoaWNoIHdpbGwgYmUgY2FsbGVkIGlmIGEgcmVzcG9uc2UgbWF0Y2hpbmcgdGhlIHJlc3BvbnNlIElkIHdpbGwgYXJyaXZlLlxuXHRcblx0QG1ldGhvZCBfYWRkUmVzcG9uc2VDYWxsYmFja1xuXHQqL1xuXHRJcGNQcm92aWRlci5wcm90b3R5cGUuX2FkZFJlc3BvbnNlQ2FsbGJhY2sgPSBmdW5jdGlvbiAocGF5bG9hZCwgY2FsbGJhY2spIHtcblx0ICAgIHZhciBpZCA9IHBheWxvYWQuaWQgfHwgcGF5bG9hZFswXS5pZDtcblx0ICAgIHZhciBtZXRob2QgPSBwYXlsb2FkLm1ldGhvZCB8fCBwYXlsb2FkWzBdLm1ldGhvZDtcblx0XG5cdCAgICB0aGlzLnJlc3BvbnNlQ2FsbGJhY2tzW2lkXSA9IGNhbGxiYWNrO1xuXHQgICAgdGhpcy5yZXNwb25zZUNhbGxiYWNrc1tpZF0ubWV0aG9kID0gbWV0aG9kO1xuXHR9O1xuXHRcblx0LyoqXG5cdFRpbWVvdXQgYWxsIHJlcXVlc3RzIHdoZW4gdGhlIGVuZC9lcnJvciBldmVudCBpcyBmaXJlZFxuXHRcblx0QG1ldGhvZCBfdGltZW91dFxuXHQqL1xuXHRJcGNQcm92aWRlci5wcm90b3R5cGUuX3RpbWVvdXQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBmb3IgKHZhciBrZXkgaW4gdGhpcy5yZXNwb25zZUNhbGxiYWNrcykge1xuXHQgICAgICAgIGlmICh0aGlzLnJlc3BvbnNlQ2FsbGJhY2tzLmhhc093blByb3BlcnR5KGtleSkpIHtcblx0ICAgICAgICAgICAgdGhpcy5yZXNwb25zZUNhbGxiYWNrc1trZXldKGVycm9ycy5JbnZhbGlkQ29ubmVjdGlvbignb24gSVBDJykpO1xuXHQgICAgICAgICAgICBkZWxldGUgdGhpcy5yZXNwb25zZUNhbGxiYWNrc1trZXldO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0fTtcblx0XG5cdC8qKlxuXHRDaGVjayBpZiB0aGUgY3VycmVudCBjb25uZWN0aW9uIGlzIHN0aWxsIHZhbGlkLlxuXHRcblx0QG1ldGhvZCBpc0Nvbm5lY3RlZFxuXHQqL1xuXHRJcGNQcm92aWRlci5wcm90b3R5cGUuaXNDb25uZWN0ZWQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXHRcblx0ICAgIC8vIHRyeSByZWNvbm5lY3QsIHdoZW4gY29ubmVjdGlvbiBpcyBnb25lXG5cdCAgICBpZiAoIV90aGlzLmNvbm5lY3Rpb24ud3JpdGFibGUpIF90aGlzLmNvbm5lY3Rpb24uY29ubmVjdCh7IHBhdGg6IF90aGlzLnBhdGggfSk7XG5cdFxuXHQgICAgcmV0dXJuICEhdGhpcy5jb25uZWN0aW9uLndyaXRhYmxlO1xuXHR9O1xuXHRcblx0SXBjUHJvdmlkZXIucHJvdG90eXBlLnNlbmQgPSBmdW5jdGlvbiAocGF5bG9hZCkge1xuXHRcblx0ICAgIGlmICh0aGlzLmNvbm5lY3Rpb24ud3JpdGVTeW5jKSB7XG5cdCAgICAgICAgdmFyIHJlc3VsdDtcblx0XG5cdCAgICAgICAgLy8gdHJ5IHJlY29ubmVjdCwgd2hlbiBjb25uZWN0aW9uIGlzIGdvbmVcblx0ICAgICAgICBpZiAoIXRoaXMuY29ubmVjdGlvbi53cml0YWJsZSkgdGhpcy5jb25uZWN0aW9uLmNvbm5lY3QoeyBwYXRoOiB0aGlzLnBhdGggfSk7XG5cdFxuXHQgICAgICAgIHZhciBkYXRhID0gdGhpcy5jb25uZWN0aW9uLndyaXRlU3luYyhKU09OLnN0cmluZ2lmeShwYXlsb2FkKSk7XG5cdFxuXHQgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICAgIHJlc3VsdCA9IEpTT04ucGFyc2UoZGF0YSk7XG5cdCAgICAgICAgfSBjYXRjaCAoZSkge1xuXHQgICAgICAgICAgICB0aHJvdyBlcnJvcnMuSW52YWxpZFJlc3BvbnNlKGRhdGEpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgcmV0dXJuIHJlc3VsdDtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdZb3UgdHJpZWQgdG8gc2VuZCBcIicgKyBwYXlsb2FkLm1ldGhvZCArICdcIiBzeW5jaHJvbm91c2x5LiBTeW5jaHJvbm91cyByZXF1ZXN0cyBhcmUgbm90IHN1cHBvcnRlZCBieSB0aGUgSVBDIHByb3ZpZGVyLicpO1xuXHQgICAgfVxuXHR9O1xuXHRcblx0SXBjUHJvdmlkZXIucHJvdG90eXBlLnNlbmRBc3luYyA9IGZ1bmN0aW9uIChwYXlsb2FkLCBjYWxsYmFjaykge1xuXHQgICAgLy8gdHJ5IHJlY29ubmVjdCwgd2hlbiBjb25uZWN0aW9uIGlzIGdvbmVcblx0ICAgIGlmICghdGhpcy5jb25uZWN0aW9uLndyaXRhYmxlKSB0aGlzLmNvbm5lY3Rpb24uY29ubmVjdCh7IHBhdGg6IHRoaXMucGF0aCB9KTtcblx0XG5cdCAgICB0aGlzLmNvbm5lY3Rpb24ud3JpdGUoSlNPTi5zdHJpbmdpZnkocGF5bG9hZCkpO1xuXHQgICAgdGhpcy5fYWRkUmVzcG9uc2VDYWxsYmFjayhwYXlsb2FkLCBjYWxsYmFjayk7XG5cdH07XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IElwY1Byb3ZpZGVyO1xuXG4vKioqLyB9LFxuLyogNzggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdC8qXG5cdCAgICBUaGlzIGZpbGUgaXMgcGFydCBvZiB3ZWIzLmpzLlxuXHRcblx0ICAgIHdlYjMuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuXHQgICAgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG5cdCAgICB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuXHQgICAgKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cblx0XG5cdCAgICB3ZWIzLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG5cdCAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuXHQgICAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuXHQgICAgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG5cdFxuXHQgICAgWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG5cdCAgICBhbG9uZyB3aXRoIHdlYjMuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG5cdCovXG5cdC8qKiBAZmlsZSBkYi5qc1xuXHQgKiBAYXV0aG9yczpcblx0ICogICBNYXJlayBLb3Rld2ljeiA8bWFyZWtAZXRoZGV2LmNvbT5cblx0ICogQGRhdGUgMjAxNVxuXHQgKi9cblx0XG5cdHZhciBNZXRob2QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKTtcblx0XG5cdHZhciBEQiA9IGZ1bmN0aW9uIERCKHdlYjMpIHtcblx0ICAgIHRoaXMuX3JlcXVlc3RNYW5hZ2VyID0gd2ViMy5fcmVxdWVzdE1hbmFnZXI7XG5cdFxuXHQgICAgdmFyIHNlbGYgPSB0aGlzO1xuXHRcblx0ICAgIG1ldGhvZHMoKS5mb3JFYWNoKGZ1bmN0aW9uIChtZXRob2QpIHtcblx0ICAgICAgICBtZXRob2QuYXR0YWNoVG9PYmplY3Qoc2VsZik7XG5cdCAgICAgICAgbWV0aG9kLnNldFJlcXVlc3RNYW5hZ2VyKHdlYjMuX3JlcXVlc3RNYW5hZ2VyKTtcblx0ICAgIH0pO1xuXHR9O1xuXHRcblx0dmFyIG1ldGhvZHMgPSBmdW5jdGlvbiBtZXRob2RzKCkge1xuXHQgICAgdmFyIHB1dFN0cmluZyA9IG5ldyBNZXRob2Qoe1xuXHQgICAgICAgIG5hbWU6ICdwdXRTdHJpbmcnLFxuXHQgICAgICAgIGNhbGw6ICdkYl9wdXRTdHJpbmcnLFxuXHQgICAgICAgIHBhcmFtczogM1xuXHQgICAgfSk7XG5cdFxuXHQgICAgdmFyIGdldFN0cmluZyA9IG5ldyBNZXRob2Qoe1xuXHQgICAgICAgIG5hbWU6ICdnZXRTdHJpbmcnLFxuXHQgICAgICAgIGNhbGw6ICdkYl9nZXRTdHJpbmcnLFxuXHQgICAgICAgIHBhcmFtczogMlxuXHQgICAgfSk7XG5cdFxuXHQgICAgdmFyIHB1dEhleCA9IG5ldyBNZXRob2Qoe1xuXHQgICAgICAgIG5hbWU6ICdwdXRIZXgnLFxuXHQgICAgICAgIGNhbGw6ICdkYl9wdXRIZXgnLFxuXHQgICAgICAgIHBhcmFtczogM1xuXHQgICAgfSk7XG5cdFxuXHQgICAgdmFyIGdldEhleCA9IG5ldyBNZXRob2Qoe1xuXHQgICAgICAgIG5hbWU6ICdnZXRIZXgnLFxuXHQgICAgICAgIGNhbGw6ICdkYl9nZXRIZXgnLFxuXHQgICAgICAgIHBhcmFtczogMlxuXHQgICAgfSk7XG5cdFxuXHQgICAgcmV0dXJuIFtwdXRTdHJpbmcsIGdldFN0cmluZywgcHV0SGV4LCBnZXRIZXhdO1xuXHR9O1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBEQjtcblxuLyoqKi8gfSxcbi8qIDc5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKlxuXHQgICAgVGhpcyBmaWxlIGlzIHBhcnQgb2Ygd2ViMy5qcy5cblx0XG5cdCAgICB3ZWIzLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcblx0ICAgIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuXHQgICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3Jcblx0ICAgIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG5cdFxuXHQgICAgd2ViMy5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuXHQgICAgYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2Zcblx0ICAgIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcblx0ICAgIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuXHRcblx0ICAgIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuXHQgICAgYWxvbmcgd2l0aCB3ZWIzLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuXHQqL1xuXHQvKipcblx0ICogQGZpbGUgZXRoLmpzXG5cdCAqIEBhdXRob3IgTWFyZWsgS290ZXdpY3ogPG1hcmVrQGV0aGRldi5jb20+XG5cdCAqIEBhdXRob3IgRmFiaWFuIFZvZ2Vsc3RlbGxlciA8ZmFiaWFuQGV0aGRldi5jb20+XG5cdCAqIEBkYXRlIDIwMTVcblx0ICovXG5cdFxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdHZhciBmb3JtYXR0ZXJzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcblx0dmFyIHV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0dmFyIE1ldGhvZCA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpO1xuXHR2YXIgUHJvcGVydHkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3KTtcblx0dmFyIGMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwKTtcblx0dmFyIENvbnRyYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3Myk7XG5cdHZhciB3YXRjaGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMyk7XG5cdHZhciBGaWx0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKTtcblx0dmFyIElzU3luY2luZyA9IF9fd2VicGFja19yZXF1aXJlX18oODYpO1xuXHR2YXIgbmFtZXJlZyA9IF9fd2VicGFja19yZXF1aXJlX18oODMpO1xuXHR2YXIgSWJhbiA9IF9fd2VicGFja19yZXF1aXJlX18oMjIpO1xuXHR2YXIgdHJhbnNmZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg3KTtcblx0XG5cdHZhciBibG9ja0NhbGwgPSBmdW5jdGlvbiBibG9ja0NhbGwoYXJncykge1xuXHQgICAgcmV0dXJuIHV0aWxzLmlzU3RyaW5nKGFyZ3NbMF0pICYmIGFyZ3NbMF0uaW5kZXhPZignMHgnKSA9PT0gMCA/IFwiZXRoX2dldEJsb2NrQnlIYXNoXCIgOiBcImV0aF9nZXRCbG9ja0J5TnVtYmVyXCI7XG5cdH07XG5cdFxuXHR2YXIgdHJhbnNhY3Rpb25Gcm9tQmxvY2tDYWxsID0gZnVuY3Rpb24gdHJhbnNhY3Rpb25Gcm9tQmxvY2tDYWxsKGFyZ3MpIHtcblx0ICAgIHJldHVybiB1dGlscy5pc1N0cmluZyhhcmdzWzBdKSAmJiBhcmdzWzBdLmluZGV4T2YoJzB4JykgPT09IDAgPyAnZXRoX2dldFRyYW5zYWN0aW9uQnlCbG9ja0hhc2hBbmRJbmRleCcgOiAnZXRoX2dldFRyYW5zYWN0aW9uQnlCbG9ja051bWJlckFuZEluZGV4Jztcblx0fTtcblx0XG5cdHZhciB1bmNsZUNhbGwgPSBmdW5jdGlvbiB1bmNsZUNhbGwoYXJncykge1xuXHQgICAgcmV0dXJuIHV0aWxzLmlzU3RyaW5nKGFyZ3NbMF0pICYmIGFyZ3NbMF0uaW5kZXhPZignMHgnKSA9PT0gMCA/ICdldGhfZ2V0VW5jbGVCeUJsb2NrSGFzaEFuZEluZGV4JyA6ICdldGhfZ2V0VW5jbGVCeUJsb2NrTnVtYmVyQW5kSW5kZXgnO1xuXHR9O1xuXHRcblx0dmFyIGdldEJsb2NrVHJhbnNhY3Rpb25Db3VudENhbGwgPSBmdW5jdGlvbiBnZXRCbG9ja1RyYW5zYWN0aW9uQ291bnRDYWxsKGFyZ3MpIHtcblx0ICAgIHJldHVybiB1dGlscy5pc1N0cmluZyhhcmdzWzBdKSAmJiBhcmdzWzBdLmluZGV4T2YoJzB4JykgPT09IDAgPyAnZXRoX2dldEJsb2NrVHJhbnNhY3Rpb25Db3VudEJ5SGFzaCcgOiAnZXRoX2dldEJsb2NrVHJhbnNhY3Rpb25Db3VudEJ5TnVtYmVyJztcblx0fTtcblx0XG5cdHZhciB1bmNsZUNvdW50Q2FsbCA9IGZ1bmN0aW9uIHVuY2xlQ291bnRDYWxsKGFyZ3MpIHtcblx0ICAgIHJldHVybiB1dGlscy5pc1N0cmluZyhhcmdzWzBdKSAmJiBhcmdzWzBdLmluZGV4T2YoJzB4JykgPT09IDAgPyAnZXRoX2dldFVuY2xlQ291bnRCeUJsb2NrSGFzaCcgOiAnZXRoX2dldFVuY2xlQ291bnRCeUJsb2NrTnVtYmVyJztcblx0fTtcblx0XG5cdGZ1bmN0aW9uIEV0aCh3ZWIzKSB7XG5cdCAgICB0aGlzLl9yZXF1ZXN0TWFuYWdlciA9IHdlYjMuX3JlcXVlc3RNYW5hZ2VyO1xuXHRcblx0ICAgIHZhciBzZWxmID0gdGhpcztcblx0XG5cdCAgICBtZXRob2RzKCkuZm9yRWFjaChmdW5jdGlvbiAobWV0aG9kKSB7XG5cdCAgICAgICAgbWV0aG9kLmF0dGFjaFRvT2JqZWN0KHNlbGYpO1xuXHQgICAgICAgIG1ldGhvZC5zZXRSZXF1ZXN0TWFuYWdlcihzZWxmLl9yZXF1ZXN0TWFuYWdlcik7XG5cdCAgICB9KTtcblx0XG5cdCAgICBwcm9wZXJ0aWVzKCkuZm9yRWFjaChmdW5jdGlvbiAocCkge1xuXHQgICAgICAgIHAuYXR0YWNoVG9PYmplY3Qoc2VsZik7XG5cdCAgICAgICAgcC5zZXRSZXF1ZXN0TWFuYWdlcihzZWxmLl9yZXF1ZXN0TWFuYWdlcik7XG5cdCAgICB9KTtcblx0XG5cdCAgICB0aGlzLmliYW4gPSBJYmFuO1xuXHQgICAgdGhpcy5zZW5kSUJBTlRyYW5zYWN0aW9uID0gdHJhbnNmZXIuYmluZChudWxsLCB0aGlzKTtcblx0fVxuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KEV0aC5wcm90b3R5cGUsICdkZWZhdWx0QmxvY2snLCB7XG5cdCAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0ICAgICAgICByZXR1cm4gYy5kZWZhdWx0QmxvY2s7XG5cdCAgICB9LFxuXHQgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsKSB7XG5cdCAgICAgICAgYy5kZWZhdWx0QmxvY2sgPSB2YWw7XG5cdCAgICAgICAgcmV0dXJuIHZhbDtcblx0ICAgIH1cblx0fSk7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoRXRoLnByb3RvdHlwZSwgJ2RlZmF1bHRBY2NvdW50Jywge1xuXHQgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG5cdCAgICAgICAgcmV0dXJuIGMuZGVmYXVsdEFjY291bnQ7XG5cdCAgICB9LFxuXHQgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsKSB7XG5cdCAgICAgICAgYy5kZWZhdWx0QWNjb3VudCA9IHZhbDtcblx0ICAgICAgICByZXR1cm4gdmFsO1xuXHQgICAgfVxuXHR9KTtcblx0XG5cdHZhciBtZXRob2RzID0gZnVuY3Rpb24gbWV0aG9kcygpIHtcblx0ICAgIHZhciBnZXRCYWxhbmNlID0gbmV3IE1ldGhvZCh7XG5cdCAgICAgICAgbmFtZTogJ2dldEJhbGFuY2UnLFxuXHQgICAgICAgIGNhbGw6ICdldGhfZ2V0QmFsYW5jZScsXG5cdCAgICAgICAgcGFyYW1zOiAyLFxuXHQgICAgICAgIGlucHV0Rm9ybWF0dGVyOiBbZm9ybWF0dGVycy5pbnB1dEFkZHJlc3NGb3JtYXR0ZXIsIGZvcm1hdHRlcnMuaW5wdXREZWZhdWx0QmxvY2tOdW1iZXJGb3JtYXR0ZXJdLFxuXHQgICAgICAgIG91dHB1dEZvcm1hdHRlcjogZm9ybWF0dGVycy5vdXRwdXRCaWdOdW1iZXJGb3JtYXR0ZXJcblx0ICAgIH0pO1xuXHRcblx0ICAgIHZhciBnZXRTdG9yYWdlQXQgPSBuZXcgTWV0aG9kKHtcblx0ICAgICAgICBuYW1lOiAnZ2V0U3RvcmFnZUF0Jyxcblx0ICAgICAgICBjYWxsOiAnZXRoX2dldFN0b3JhZ2VBdCcsXG5cdCAgICAgICAgcGFyYW1zOiAzLFxuXHQgICAgICAgIGlucHV0Rm9ybWF0dGVyOiBbbnVsbCwgdXRpbHMudG9IZXgsIGZvcm1hdHRlcnMuaW5wdXREZWZhdWx0QmxvY2tOdW1iZXJGb3JtYXR0ZXJdXG5cdCAgICB9KTtcblx0XG5cdCAgICB2YXIgZ2V0Q29kZSA9IG5ldyBNZXRob2Qoe1xuXHQgICAgICAgIG5hbWU6ICdnZXRDb2RlJyxcblx0ICAgICAgICBjYWxsOiAnZXRoX2dldENvZGUnLFxuXHQgICAgICAgIHBhcmFtczogMixcblx0ICAgICAgICBpbnB1dEZvcm1hdHRlcjogW2Zvcm1hdHRlcnMuaW5wdXRBZGRyZXNzRm9ybWF0dGVyLCBmb3JtYXR0ZXJzLmlucHV0RGVmYXVsdEJsb2NrTnVtYmVyRm9ybWF0dGVyXVxuXHQgICAgfSk7XG5cdFxuXHQgICAgdmFyIGdldEJsb2NrID0gbmV3IE1ldGhvZCh7XG5cdCAgICAgICAgbmFtZTogJ2dldEJsb2NrJyxcblx0ICAgICAgICBjYWxsOiBibG9ja0NhbGwsXG5cdCAgICAgICAgcGFyYW1zOiAyLFxuXHQgICAgICAgIGlucHV0Rm9ybWF0dGVyOiBbZm9ybWF0dGVycy5pbnB1dEJsb2NrTnVtYmVyRm9ybWF0dGVyLCBmdW5jdGlvbiAodmFsKSB7XG5cdCAgICAgICAgICAgIHJldHVybiAhIXZhbDtcblx0ICAgICAgICB9XSxcblx0ICAgICAgICBvdXRwdXRGb3JtYXR0ZXI6IGZvcm1hdHRlcnMub3V0cHV0QmxvY2tGb3JtYXR0ZXJcblx0ICAgIH0pO1xuXHRcblx0ICAgIHZhciBnZXRVbmNsZSA9IG5ldyBNZXRob2Qoe1xuXHQgICAgICAgIG5hbWU6ICdnZXRVbmNsZScsXG5cdCAgICAgICAgY2FsbDogdW5jbGVDYWxsLFxuXHQgICAgICAgIHBhcmFtczogMixcblx0ICAgICAgICBpbnB1dEZvcm1hdHRlcjogW2Zvcm1hdHRlcnMuaW5wdXRCbG9ja051bWJlckZvcm1hdHRlciwgdXRpbHMudG9IZXhdLFxuXHQgICAgICAgIG91dHB1dEZvcm1hdHRlcjogZm9ybWF0dGVycy5vdXRwdXRCbG9ja0Zvcm1hdHRlclxuXHRcblx0ICAgIH0pO1xuXHRcblx0ICAgIHZhciBnZXRDb21waWxlcnMgPSBuZXcgTWV0aG9kKHtcblx0ICAgICAgICBuYW1lOiAnZ2V0Q29tcGlsZXJzJyxcblx0ICAgICAgICBjYWxsOiAnZXRoX2dldENvbXBpbGVycycsXG5cdCAgICAgICAgcGFyYW1zOiAwXG5cdCAgICB9KTtcblx0XG5cdCAgICB2YXIgZ2V0QmxvY2tUcmFuc2FjdGlvbkNvdW50ID0gbmV3IE1ldGhvZCh7XG5cdCAgICAgICAgbmFtZTogJ2dldEJsb2NrVHJhbnNhY3Rpb25Db3VudCcsXG5cdCAgICAgICAgY2FsbDogZ2V0QmxvY2tUcmFuc2FjdGlvbkNvdW50Q2FsbCxcblx0ICAgICAgICBwYXJhbXM6IDEsXG5cdCAgICAgICAgaW5wdXRGb3JtYXR0ZXI6IFtmb3JtYXR0ZXJzLmlucHV0QmxvY2tOdW1iZXJGb3JtYXR0ZXJdLFxuXHQgICAgICAgIG91dHB1dEZvcm1hdHRlcjogdXRpbHMudG9EZWNpbWFsXG5cdCAgICB9KTtcblx0XG5cdCAgICB2YXIgZ2V0QmxvY2tVbmNsZUNvdW50ID0gbmV3IE1ldGhvZCh7XG5cdCAgICAgICAgbmFtZTogJ2dldEJsb2NrVW5jbGVDb3VudCcsXG5cdCAgICAgICAgY2FsbDogdW5jbGVDb3VudENhbGwsXG5cdCAgICAgICAgcGFyYW1zOiAxLFxuXHQgICAgICAgIGlucHV0Rm9ybWF0dGVyOiBbZm9ybWF0dGVycy5pbnB1dEJsb2NrTnVtYmVyRm9ybWF0dGVyXSxcblx0ICAgICAgICBvdXRwdXRGb3JtYXR0ZXI6IHV0aWxzLnRvRGVjaW1hbFxuXHQgICAgfSk7XG5cdFxuXHQgICAgdmFyIGdldFRyYW5zYWN0aW9uID0gbmV3IE1ldGhvZCh7XG5cdCAgICAgICAgbmFtZTogJ2dldFRyYW5zYWN0aW9uJyxcblx0ICAgICAgICBjYWxsOiAnZXRoX2dldFRyYW5zYWN0aW9uQnlIYXNoJyxcblx0ICAgICAgICBwYXJhbXM6IDEsXG5cdCAgICAgICAgb3V0cHV0Rm9ybWF0dGVyOiBmb3JtYXR0ZXJzLm91dHB1dFRyYW5zYWN0aW9uRm9ybWF0dGVyXG5cdCAgICB9KTtcblx0XG5cdCAgICB2YXIgZ2V0VHJhbnNhY3Rpb25Gcm9tQmxvY2sgPSBuZXcgTWV0aG9kKHtcblx0ICAgICAgICBuYW1lOiAnZ2V0VHJhbnNhY3Rpb25Gcm9tQmxvY2snLFxuXHQgICAgICAgIGNhbGw6IHRyYW5zYWN0aW9uRnJvbUJsb2NrQ2FsbCxcblx0ICAgICAgICBwYXJhbXM6IDIsXG5cdCAgICAgICAgaW5wdXRGb3JtYXR0ZXI6IFtmb3JtYXR0ZXJzLmlucHV0QmxvY2tOdW1iZXJGb3JtYXR0ZXIsIHV0aWxzLnRvSGV4XSxcblx0ICAgICAgICBvdXRwdXRGb3JtYXR0ZXI6IGZvcm1hdHRlcnMub3V0cHV0VHJhbnNhY3Rpb25Gb3JtYXR0ZXJcblx0ICAgIH0pO1xuXHRcblx0ICAgIHZhciBnZXRUcmFuc2FjdGlvblJlY2VpcHQgPSBuZXcgTWV0aG9kKHtcblx0ICAgICAgICBuYW1lOiAnZ2V0VHJhbnNhY3Rpb25SZWNlaXB0Jyxcblx0ICAgICAgICBjYWxsOiAnZXRoX2dldFRyYW5zYWN0aW9uUmVjZWlwdCcsXG5cdCAgICAgICAgcGFyYW1zOiAxLFxuXHQgICAgICAgIG91dHB1dEZvcm1hdHRlcjogZm9ybWF0dGVycy5vdXRwdXRUcmFuc2FjdGlvblJlY2VpcHRGb3JtYXR0ZXJcblx0ICAgIH0pO1xuXHRcblx0ICAgIHZhciBnZXRUcmFuc2FjdGlvbkNvdW50ID0gbmV3IE1ldGhvZCh7XG5cdCAgICAgICAgbmFtZTogJ2dldFRyYW5zYWN0aW9uQ291bnQnLFxuXHQgICAgICAgIGNhbGw6ICdldGhfZ2V0VHJhbnNhY3Rpb25Db3VudCcsXG5cdCAgICAgICAgcGFyYW1zOiAyLFxuXHQgICAgICAgIGlucHV0Rm9ybWF0dGVyOiBbbnVsbCwgZm9ybWF0dGVycy5pbnB1dERlZmF1bHRCbG9ja051bWJlckZvcm1hdHRlcl0sXG5cdCAgICAgICAgb3V0cHV0Rm9ybWF0dGVyOiB1dGlscy50b0RlY2ltYWxcblx0ICAgIH0pO1xuXHRcblx0ICAgIHZhciBzZW5kUmF3VHJhbnNhY3Rpb24gPSBuZXcgTWV0aG9kKHtcblx0ICAgICAgICBuYW1lOiAnc2VuZFJhd1RyYW5zYWN0aW9uJyxcblx0ICAgICAgICBjYWxsOiAnZXRoX3NlbmRSYXdUcmFuc2FjdGlvbicsXG5cdCAgICAgICAgcGFyYW1zOiAxLFxuXHQgICAgICAgIGlucHV0Rm9ybWF0dGVyOiBbbnVsbF1cblx0ICAgIH0pO1xuXHRcblx0ICAgIHZhciBzZW5kVHJhbnNhY3Rpb24gPSBuZXcgTWV0aG9kKHtcblx0ICAgICAgICBuYW1lOiAnc2VuZFRyYW5zYWN0aW9uJyxcblx0ICAgICAgICBjYWxsOiAnZXRoX3NlbmRUcmFuc2FjdGlvbicsXG5cdCAgICAgICAgcGFyYW1zOiAxLFxuXHQgICAgICAgIGlucHV0Rm9ybWF0dGVyOiBbZm9ybWF0dGVycy5pbnB1dFRyYW5zYWN0aW9uRm9ybWF0dGVyXVxuXHQgICAgfSk7XG5cdFxuXHQgICAgdmFyIHNpZ24gPSBuZXcgTWV0aG9kKHtcblx0ICAgICAgICBuYW1lOiAnc2lnbicsXG5cdCAgICAgICAgY2FsbDogJ2V0aF9zaWduJyxcblx0ICAgICAgICBwYXJhbXM6IDIsXG5cdCAgICAgICAgaW5wdXRGb3JtYXR0ZXI6IFtmb3JtYXR0ZXJzLmlucHV0QWRkcmVzc0Zvcm1hdHRlciwgbnVsbF1cblx0ICAgIH0pO1xuXHRcblx0ICAgIHZhciBjYWxsID0gbmV3IE1ldGhvZCh7XG5cdCAgICAgICAgbmFtZTogJ2NhbGwnLFxuXHQgICAgICAgIGNhbGw6ICdldGhfY2FsbCcsXG5cdCAgICAgICAgcGFyYW1zOiAyLFxuXHQgICAgICAgIGlucHV0Rm9ybWF0dGVyOiBbZm9ybWF0dGVycy5pbnB1dENhbGxGb3JtYXR0ZXIsIGZvcm1hdHRlcnMuaW5wdXREZWZhdWx0QmxvY2tOdW1iZXJGb3JtYXR0ZXJdXG5cdCAgICB9KTtcblx0XG5cdCAgICB2YXIgZXN0aW1hdGVHYXMgPSBuZXcgTWV0aG9kKHtcblx0ICAgICAgICBuYW1lOiAnZXN0aW1hdGVHYXMnLFxuXHQgICAgICAgIGNhbGw6ICdldGhfZXN0aW1hdGVHYXMnLFxuXHQgICAgICAgIHBhcmFtczogMSxcblx0ICAgICAgICBpbnB1dEZvcm1hdHRlcjogW2Zvcm1hdHRlcnMuaW5wdXRDYWxsRm9ybWF0dGVyXSxcblx0ICAgICAgICBvdXRwdXRGb3JtYXR0ZXI6IHV0aWxzLnRvRGVjaW1hbFxuXHQgICAgfSk7XG5cdFxuXHQgICAgdmFyIGNvbXBpbGVTb2xpZGl0eSA9IG5ldyBNZXRob2Qoe1xuXHQgICAgICAgIG5hbWU6ICdjb21waWxlLnNvbGlkaXR5Jyxcblx0ICAgICAgICBjYWxsOiAnZXRoX2NvbXBpbGVTb2xpZGl0eScsXG5cdCAgICAgICAgcGFyYW1zOiAxXG5cdCAgICB9KTtcblx0XG5cdCAgICB2YXIgY29tcGlsZUxMTCA9IG5ldyBNZXRob2Qoe1xuXHQgICAgICAgIG5hbWU6ICdjb21waWxlLmxsbCcsXG5cdCAgICAgICAgY2FsbDogJ2V0aF9jb21waWxlTExMJyxcblx0ICAgICAgICBwYXJhbXM6IDFcblx0ICAgIH0pO1xuXHRcblx0ICAgIHZhciBjb21waWxlU2VycGVudCA9IG5ldyBNZXRob2Qoe1xuXHQgICAgICAgIG5hbWU6ICdjb21waWxlLnNlcnBlbnQnLFxuXHQgICAgICAgIGNhbGw6ICdldGhfY29tcGlsZVNlcnBlbnQnLFxuXHQgICAgICAgIHBhcmFtczogMVxuXHQgICAgfSk7XG5cdFxuXHQgICAgdmFyIHN1Ym1pdFdvcmsgPSBuZXcgTWV0aG9kKHtcblx0ICAgICAgICBuYW1lOiAnc3VibWl0V29yaycsXG5cdCAgICAgICAgY2FsbDogJ2V0aF9zdWJtaXRXb3JrJyxcblx0ICAgICAgICBwYXJhbXM6IDNcblx0ICAgIH0pO1xuXHRcblx0ICAgIHZhciBnZXRXb3JrID0gbmV3IE1ldGhvZCh7XG5cdCAgICAgICAgbmFtZTogJ2dldFdvcmsnLFxuXHQgICAgICAgIGNhbGw6ICdldGhfZ2V0V29yaycsXG5cdCAgICAgICAgcGFyYW1zOiAwXG5cdCAgICB9KTtcblx0XG5cdCAgICByZXR1cm4gW2dldEJhbGFuY2UsIGdldFN0b3JhZ2VBdCwgZ2V0Q29kZSwgZ2V0QmxvY2ssIGdldFVuY2xlLCBnZXRDb21waWxlcnMsIGdldEJsb2NrVHJhbnNhY3Rpb25Db3VudCwgZ2V0QmxvY2tVbmNsZUNvdW50LCBnZXRUcmFuc2FjdGlvbiwgZ2V0VHJhbnNhY3Rpb25Gcm9tQmxvY2ssIGdldFRyYW5zYWN0aW9uUmVjZWlwdCwgZ2V0VHJhbnNhY3Rpb25Db3VudCwgY2FsbCwgZXN0aW1hdGVHYXMsIHNlbmRSYXdUcmFuc2FjdGlvbiwgc2VuZFRyYW5zYWN0aW9uLCBzaWduLCBjb21waWxlU29saWRpdHksIGNvbXBpbGVMTEwsIGNvbXBpbGVTZXJwZW50LCBzdWJtaXRXb3JrLCBnZXRXb3JrXTtcblx0fTtcblx0XG5cdHZhciBwcm9wZXJ0aWVzID0gZnVuY3Rpb24gcHJvcGVydGllcygpIHtcblx0ICAgIHJldHVybiBbbmV3IFByb3BlcnR5KHtcblx0ICAgICAgICBuYW1lOiAnY29pbmJhc2UnLFxuXHQgICAgICAgIGdldHRlcjogJ2V0aF9jb2luYmFzZSdcblx0ICAgIH0pLCBuZXcgUHJvcGVydHkoe1xuXHQgICAgICAgIG5hbWU6ICdtaW5pbmcnLFxuXHQgICAgICAgIGdldHRlcjogJ2V0aF9taW5pbmcnXG5cdCAgICB9KSwgbmV3IFByb3BlcnR5KHtcblx0ICAgICAgICBuYW1lOiAnaGFzaHJhdGUnLFxuXHQgICAgICAgIGdldHRlcjogJ2V0aF9oYXNocmF0ZScsXG5cdCAgICAgICAgb3V0cHV0Rm9ybWF0dGVyOiB1dGlscy50b0RlY2ltYWxcblx0ICAgIH0pLCBuZXcgUHJvcGVydHkoe1xuXHQgICAgICAgIG5hbWU6ICdzeW5jaW5nJyxcblx0ICAgICAgICBnZXR0ZXI6ICdldGhfc3luY2luZycsXG5cdCAgICAgICAgb3V0cHV0Rm9ybWF0dGVyOiBmb3JtYXR0ZXJzLm91dHB1dFN5bmNpbmdGb3JtYXR0ZXJcblx0ICAgIH0pLCBuZXcgUHJvcGVydHkoe1xuXHQgICAgICAgIG5hbWU6ICdnYXNQcmljZScsXG5cdCAgICAgICAgZ2V0dGVyOiAnZXRoX2dhc1ByaWNlJyxcblx0ICAgICAgICBvdXRwdXRGb3JtYXR0ZXI6IGZvcm1hdHRlcnMub3V0cHV0QmlnTnVtYmVyRm9ybWF0dGVyXG5cdCAgICB9KSwgbmV3IFByb3BlcnR5KHtcblx0ICAgICAgICBuYW1lOiAnYWNjb3VudHMnLFxuXHQgICAgICAgIGdldHRlcjogJ2V0aF9hY2NvdW50cydcblx0ICAgIH0pLCBuZXcgUHJvcGVydHkoe1xuXHQgICAgICAgIG5hbWU6ICdibG9ja051bWJlcicsXG5cdCAgICAgICAgZ2V0dGVyOiAnZXRoX2Jsb2NrTnVtYmVyJyxcblx0ICAgICAgICBvdXRwdXRGb3JtYXR0ZXI6IHV0aWxzLnRvRGVjaW1hbFxuXHQgICAgfSksIG5ldyBQcm9wZXJ0eSh7XG5cdCAgICAgICAgbmFtZTogJ3Byb3RvY29sVmVyc2lvbicsXG5cdCAgICAgICAgZ2V0dGVyOiAnZXRoX3Byb3RvY29sVmVyc2lvbidcblx0ICAgIH0pXTtcblx0fTtcblx0XG5cdEV0aC5wcm90b3R5cGUuY29udHJhY3QgPSBmdW5jdGlvbiAoYWJpKSB7XG5cdCAgICB2YXIgZmFjdG9yeSA9IG5ldyBDb250cmFjdCh0aGlzLCBhYmkpO1xuXHQgICAgcmV0dXJuIGZhY3Rvcnk7XG5cdH07XG5cdFxuXHRFdGgucHJvdG90eXBlLmZpbHRlciA9IGZ1bmN0aW9uIChmaWwsIGNhbGxiYWNrKSB7XG5cdCAgICByZXR1cm4gbmV3IEZpbHRlcih0aGlzLl9yZXF1ZXN0TWFuYWdlciwgZmlsLCB3YXRjaGVzLmV0aCgpLCBmb3JtYXR0ZXJzLm91dHB1dExvZ0Zvcm1hdHRlciwgY2FsbGJhY2spO1xuXHR9O1xuXHRcblx0RXRoLnByb3RvdHlwZS5uYW1lcmVnID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIHRoaXMuY29udHJhY3QobmFtZXJlZy5nbG9iYWwuYWJpKS5hdChuYW1lcmVnLmdsb2JhbC5hZGRyZXNzKTtcblx0fTtcblx0XG5cdEV0aC5wcm90b3R5cGUuaWNhcE5hbWVyZWcgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5jb250cmFjdChuYW1lcmVnLmljYXAuYWJpKS5hdChuYW1lcmVnLmljYXAuYWRkcmVzcyk7XG5cdH07XG5cdFxuXHRFdGgucHJvdG90eXBlLmlzU3luY2luZyA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuXHQgICAgcmV0dXJuIG5ldyBJc1N5bmNpbmcodGhpcy5fcmVxdWVzdE1hbmFnZXIsIGNhbGxiYWNrKTtcblx0fTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gRXRoO1xuXG4vKioqLyB9LFxuLyogODAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdC8qXG5cdCAgICBUaGlzIGZpbGUgaXMgcGFydCBvZiB3ZWIzLmpzLlxuXHRcblx0ICAgIHdlYjMuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuXHQgICAgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG5cdCAgICB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuXHQgICAgKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cblx0XG5cdCAgICB3ZWIzLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG5cdCAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuXHQgICAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuXHQgICAgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG5cdFxuXHQgICAgWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG5cdCAgICBhbG9uZyB3aXRoIHdlYjMuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG5cdCovXG5cdC8qKiBAZmlsZSBldGguanNcblx0ICogQGF1dGhvcnM6XG5cdCAqICAgTWFyZWsgS290ZXdpY3ogPG1hcmVrQGV0aGRldi5jb20+XG5cdCAqIEBkYXRlIDIwMTVcblx0ICovXG5cdFxuXHR2YXIgdXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHR2YXIgUHJvcGVydHkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3KTtcblx0XG5cdHZhciBOZXQgPSBmdW5jdGlvbiBOZXQod2ViMykge1xuXHQgICAgdGhpcy5fcmVxdWVzdE1hbmFnZXIgPSB3ZWIzLl9yZXF1ZXN0TWFuYWdlcjtcblx0XG5cdCAgICB2YXIgc2VsZiA9IHRoaXM7XG5cdFxuXHQgICAgcHJvcGVydGllcygpLmZvckVhY2goZnVuY3Rpb24gKHApIHtcblx0ICAgICAgICBwLmF0dGFjaFRvT2JqZWN0KHNlbGYpO1xuXHQgICAgICAgIHAuc2V0UmVxdWVzdE1hbmFnZXIod2ViMy5fcmVxdWVzdE1hbmFnZXIpO1xuXHQgICAgfSk7XG5cdH07XG5cdFxuXHQvLy8gQHJldHVybnMgYW4gYXJyYXkgb2Ygb2JqZWN0cyBkZXNjcmliaW5nIHdlYjMuZXRoIGFwaSBwcm9wZXJ0aWVzXG5cdHZhciBwcm9wZXJ0aWVzID0gZnVuY3Rpb24gcHJvcGVydGllcygpIHtcblx0ICAgIHJldHVybiBbbmV3IFByb3BlcnR5KHtcblx0ICAgICAgICBuYW1lOiAnbGlzdGVuaW5nJyxcblx0ICAgICAgICBnZXR0ZXI6ICduZXRfbGlzdGVuaW5nJ1xuXHQgICAgfSksIG5ldyBQcm9wZXJ0eSh7XG5cdCAgICAgICAgbmFtZTogJ3BlZXJDb3VudCcsXG5cdCAgICAgICAgZ2V0dGVyOiAnbmV0X3BlZXJDb3VudCcsXG5cdCAgICAgICAgb3V0cHV0Rm9ybWF0dGVyOiB1dGlscy50b0RlY2ltYWxcblx0ICAgIH0pXTtcblx0fTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gTmV0O1xuXG4vKioqLyB9LFxuLyogODEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qXG5cdCAgICBUaGlzIGZpbGUgaXMgcGFydCBvZiB3ZWIzLmpzLlxuXHRcblx0ICAgIHdlYjMuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuXHQgICAgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG5cdCAgICB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuXHQgICAgKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cblx0XG5cdCAgICB3ZWIzLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG5cdCAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuXHQgICAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuXHQgICAgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG5cdFxuXHQgICAgWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG5cdCAgICBhbG9uZyB3aXRoIHdlYjMuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG5cdCovXG5cdC8qKlxuXHQgKiBAZmlsZSBldGguanNcblx0ICogQGF1dGhvciBNYXJlayBLb3Rld2ljeiA8bWFyZWtAZXRoZGV2LmNvbT5cblx0ICogQGF1dGhvciBGYWJpYW4gVm9nZWxzdGVsbGVyIDxmYWJpYW5AZXRoZGV2LmNvbT5cblx0ICogQGRhdGUgMjAxNVxuXHQgKi9cblx0XG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0dmFyIE1ldGhvZCA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpO1xuXHR2YXIgUHJvcGVydHkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3KTtcblx0dmFyIGZvcm1hdHRlcnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXHRcblx0ZnVuY3Rpb24gUGVyc29uYWwod2ViMykge1xuXHQgICAgdGhpcy5fcmVxdWVzdE1hbmFnZXIgPSB3ZWIzLl9yZXF1ZXN0TWFuYWdlcjtcblx0XG5cdCAgICB2YXIgc2VsZiA9IHRoaXM7XG5cdFxuXHQgICAgbWV0aG9kcygpLmZvckVhY2goZnVuY3Rpb24gKG1ldGhvZCkge1xuXHQgICAgICAgIG1ldGhvZC5hdHRhY2hUb09iamVjdChzZWxmKTtcblx0ICAgICAgICBtZXRob2Quc2V0UmVxdWVzdE1hbmFnZXIoc2VsZi5fcmVxdWVzdE1hbmFnZXIpO1xuXHQgICAgfSk7XG5cdFxuXHQgICAgcHJvcGVydGllcygpLmZvckVhY2goZnVuY3Rpb24gKHApIHtcblx0ICAgICAgICBwLmF0dGFjaFRvT2JqZWN0KHNlbGYpO1xuXHQgICAgICAgIHAuc2V0UmVxdWVzdE1hbmFnZXIoc2VsZi5fcmVxdWVzdE1hbmFnZXIpO1xuXHQgICAgfSk7XG5cdH1cblx0XG5cdHZhciBtZXRob2RzID0gZnVuY3Rpb24gbWV0aG9kcygpIHtcblx0ICAgIHZhciBuZXdBY2NvdW50ID0gbmV3IE1ldGhvZCh7XG5cdCAgICAgICAgbmFtZTogJ25ld0FjY291bnQnLFxuXHQgICAgICAgIGNhbGw6ICdwZXJzb25hbF9uZXdBY2NvdW50Jyxcblx0ICAgICAgICBwYXJhbXM6IDEsXG5cdCAgICAgICAgaW5wdXRGb3JtYXR0ZXI6IFtudWxsXVxuXHQgICAgfSk7XG5cdFxuXHQgICAgdmFyIHVubG9ja0FjY291bnQgPSBuZXcgTWV0aG9kKHtcblx0ICAgICAgICBuYW1lOiAndW5sb2NrQWNjb3VudCcsXG5cdCAgICAgICAgY2FsbDogJ3BlcnNvbmFsX3VubG9ja0FjY291bnQnLFxuXHQgICAgICAgIHBhcmFtczogMyxcblx0ICAgICAgICBpbnB1dEZvcm1hdHRlcjogW2Zvcm1hdHRlcnMuaW5wdXRBZGRyZXNzRm9ybWF0dGVyLCBudWxsLCBudWxsXVxuXHQgICAgfSk7XG5cdFxuXHQgICAgdmFyIHVubG9ja0FjY291bnRBbmRTZW5kVHJhbnNhY3Rpb24gPSBuZXcgTWV0aG9kKHtcblx0ICAgICAgICBuYW1lOiAndW5sb2NrQWNjb3VudEFuZFNlbmRUcmFuc2FjdGlvbicsIC8vIHNlbmRUcmFuc2FjdGlvblxuXHQgICAgICAgIGNhbGw6ICdwZXJzb25hbF9zaWduQW5kU2VuZFRyYW5zYWN0aW9uJywgLy8gcGVyc29uYWxfc2VuZFRyYW5zYWN0aW9uXG5cdCAgICAgICAgcGFyYW1zOiAyLFxuXHQgICAgICAgIGlucHV0Rm9ybWF0dGVyOiBbZm9ybWF0dGVycy5pbnB1dFRyYW5zYWN0aW9uRm9ybWF0dGVyLCBudWxsXVxuXHQgICAgfSk7XG5cdFxuXHQgICAgdmFyIGxvY2tBY2NvdW50ID0gbmV3IE1ldGhvZCh7XG5cdCAgICAgICAgbmFtZTogJ2xvY2tBY2NvdW50Jyxcblx0ICAgICAgICBjYWxsOiAncGVyc29uYWxfbG9ja0FjY291bnQnLFxuXHQgICAgICAgIHBhcmFtczogMSxcblx0ICAgICAgICBpbnB1dEZvcm1hdHRlcjogW2Zvcm1hdHRlcnMuaW5wdXRBZGRyZXNzRm9ybWF0dGVyXVxuXHQgICAgfSk7XG5cdFxuXHQgICAgcmV0dXJuIFtuZXdBY2NvdW50LCB1bmxvY2tBY2NvdW50LCB1bmxvY2tBY2NvdW50QW5kU2VuZFRyYW5zYWN0aW9uLCBsb2NrQWNjb3VudF07XG5cdH07XG5cdFxuXHR2YXIgcHJvcGVydGllcyA9IGZ1bmN0aW9uIHByb3BlcnRpZXMoKSB7XG5cdCAgICByZXR1cm4gW25ldyBQcm9wZXJ0eSh7XG5cdCAgICAgICAgbmFtZTogJ2xpc3RBY2NvdW50cycsXG5cdCAgICAgICAgZ2V0dGVyOiAncGVyc29uYWxfbGlzdEFjY291bnRzJ1xuXHQgICAgfSldO1xuXHR9O1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBQZXJzb25hbDtcblxuLyoqKi8gfSxcbi8qIDgyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHQvKlxuXHQgICAgVGhpcyBmaWxlIGlzIHBhcnQgb2Ygd2ViMy5qcy5cblx0XG5cdCAgICB3ZWIzLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcblx0ICAgIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuXHQgICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3Jcblx0ICAgIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG5cdFxuXHQgICAgd2ViMy5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuXHQgICAgYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2Zcblx0ICAgIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcblx0ICAgIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuXHRcblx0ICAgIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuXHQgICAgYWxvbmcgd2l0aCB3ZWIzLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuXHQqL1xuXHQvKiogQGZpbGUgc2hoLmpzXG5cdCAqIEBhdXRob3JzOlxuXHQgKiAgIE1hcmVrIEtvdGV3aWN6IDxtYXJla0BldGhkZXYuY29tPlxuXHQgKiBAZGF0ZSAyMDE1XG5cdCAqL1xuXHRcblx0dmFyIE1ldGhvZCA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpO1xuXHR2YXIgZm9ybWF0dGVycyA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cdHZhciBGaWx0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKTtcblx0dmFyIHdhdGNoZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzKTtcblx0XG5cdHZhciBTaGggPSBmdW5jdGlvbiBTaGgod2ViMykge1xuXHQgICAgdGhpcy5fcmVxdWVzdE1hbmFnZXIgPSB3ZWIzLl9yZXF1ZXN0TWFuYWdlcjtcblx0XG5cdCAgICB2YXIgc2VsZiA9IHRoaXM7XG5cdFxuXHQgICAgbWV0aG9kcygpLmZvckVhY2goZnVuY3Rpb24gKG1ldGhvZCkge1xuXHQgICAgICAgIG1ldGhvZC5hdHRhY2hUb09iamVjdChzZWxmKTtcblx0ICAgICAgICBtZXRob2Quc2V0UmVxdWVzdE1hbmFnZXIoc2VsZi5fcmVxdWVzdE1hbmFnZXIpO1xuXHQgICAgfSk7XG5cdH07XG5cdFxuXHRTaGgucHJvdG90eXBlLmZpbHRlciA9IGZ1bmN0aW9uIChmaWwsIGNhbGxiYWNrKSB7XG5cdCAgICByZXR1cm4gbmV3IEZpbHRlcih0aGlzLl9yZXF1ZXN0TWFuYWdlciwgZmlsLCB3YXRjaGVzLnNoaCgpLCBmb3JtYXR0ZXJzLm91dHB1dFBvc3RGb3JtYXR0ZXIsIGNhbGxiYWNrKTtcblx0fTtcblx0XG5cdHZhciBtZXRob2RzID0gZnVuY3Rpb24gbWV0aG9kcygpIHtcblx0XG5cdCAgICB2YXIgcG9zdCA9IG5ldyBNZXRob2Qoe1xuXHQgICAgICAgIG5hbWU6ICdwb3N0Jyxcblx0ICAgICAgICBjYWxsOiAnc2hoX3Bvc3QnLFxuXHQgICAgICAgIHBhcmFtczogMSxcblx0ICAgICAgICBpbnB1dEZvcm1hdHRlcjogW2Zvcm1hdHRlcnMuaW5wdXRQb3N0Rm9ybWF0dGVyXVxuXHQgICAgfSk7XG5cdFxuXHQgICAgdmFyIG5ld0lkZW50aXR5ID0gbmV3IE1ldGhvZCh7XG5cdCAgICAgICAgbmFtZTogJ25ld0lkZW50aXR5Jyxcblx0ICAgICAgICBjYWxsOiAnc2hoX25ld0lkZW50aXR5Jyxcblx0ICAgICAgICBwYXJhbXM6IDBcblx0ICAgIH0pO1xuXHRcblx0ICAgIHZhciBoYXNJZGVudGl0eSA9IG5ldyBNZXRob2Qoe1xuXHQgICAgICAgIG5hbWU6ICdoYXNJZGVudGl0eScsXG5cdCAgICAgICAgY2FsbDogJ3NoaF9oYXNJZGVudGl0eScsXG5cdCAgICAgICAgcGFyYW1zOiAxXG5cdCAgICB9KTtcblx0XG5cdCAgICB2YXIgbmV3R3JvdXAgPSBuZXcgTWV0aG9kKHtcblx0ICAgICAgICBuYW1lOiAnbmV3R3JvdXAnLFxuXHQgICAgICAgIGNhbGw6ICdzaGhfbmV3R3JvdXAnLFxuXHQgICAgICAgIHBhcmFtczogMFxuXHQgICAgfSk7XG5cdFxuXHQgICAgdmFyIGFkZFRvR3JvdXAgPSBuZXcgTWV0aG9kKHtcblx0ICAgICAgICBuYW1lOiAnYWRkVG9Hcm91cCcsXG5cdCAgICAgICAgY2FsbDogJ3NoaF9hZGRUb0dyb3VwJyxcblx0ICAgICAgICBwYXJhbXM6IDBcblx0ICAgIH0pO1xuXHRcblx0ICAgIHJldHVybiBbcG9zdCwgbmV3SWRlbnRpdHksIGhhc0lkZW50aXR5LCBuZXdHcm91cCwgYWRkVG9Hcm91cF07XG5cdH07XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IFNoaDtcblxuLyoqKi8gfSxcbi8qIDgzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHQvKlxuXHQgICAgVGhpcyBmaWxlIGlzIHBhcnQgb2Ygd2ViMy5qcy5cblx0XG5cdCAgICB3ZWIzLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcblx0ICAgIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuXHQgICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3Jcblx0ICAgIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG5cdFxuXHQgICAgd2ViMy5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuXHQgICAgYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2Zcblx0ICAgIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcblx0ICAgIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuXHRcblx0ICAgIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuXHQgICAgYWxvbmcgd2l0aCB3ZWIzLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuXHQqL1xuXHQvKiogXG5cdCAqIEBmaWxlIG5hbWVyZWcuanNcblx0ICogQGF1dGhvciBNYXJlayBLb3Rld2ljeiA8bWFyZWtAZXRoZGV2LmNvbT5cblx0ICogQGRhdGUgMjAxNVxuXHQgKi9cblx0XG5cdHZhciBnbG9iYWxSZWdpc3RyYXJBYmkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUzKTtcblx0dmFyIGljYXBSZWdpc3RyYXJBYmkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU0KTtcblx0XG5cdHZhciBnbG9iYWxOYW1lcmVnQWRkcmVzcyA9ICcweGM2ZDlkMmNkNDQ5YTc1NGM0OTQyNjRlMTgwOWM1MGUzNGQ2NDU2MmInO1xuXHR2YXIgaWNhcE5hbWVyZWdBZGRyZXNzID0gJzB4YTFhMTExYmMwNzRjOWNmYTc4MWYwYzM4ZTYzYmQ1MWM5MWI4YWYwMCc7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IHtcblx0ICAgIGdsb2JhbDoge1xuXHQgICAgICAgIGFiaTogZ2xvYmFsUmVnaXN0cmFyQWJpLFxuXHQgICAgICAgIGFkZHJlc3M6IGdsb2JhbE5hbWVyZWdBZGRyZXNzXG5cdCAgICB9LFxuXHQgICAgaWNhcDoge1xuXHQgICAgICAgIGFiaTogaWNhcFJlZ2lzdHJhckFiaSxcblx0ICAgICAgICBhZGRyZXNzOiBpY2FwTmFtZXJlZ0FkZHJlc3Ncblx0ICAgIH1cblx0fTtcblxuLyoqKi8gfSxcbi8qIDg0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHQvKlxuXHQgICAgVGhpcyBmaWxlIGlzIHBhcnQgb2Ygd2ViMy5qcy5cblx0XG5cdCAgICB3ZWIzLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcblx0ICAgIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuXHQgICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3Jcblx0ICAgIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG5cdFxuXHQgICAgd2ViMy5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuXHQgICAgYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2Zcblx0ICAgIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcblx0ICAgIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuXHRcblx0ICAgIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuXHQgICAgYWxvbmcgd2l0aCB3ZWIzLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuXHQqL1xuXHQvKiogXG5cdCAqIEBmaWxlIHJlcXVlc3RtYW5hZ2VyLmpzXG5cdCAqIEBhdXRob3IgSmVmZnJleSBXaWxja2UgPGplZmZAZXRoZGV2LmNvbT5cblx0ICogQGF1dGhvciBNYXJlayBLb3Rld2ljeiA8bWFyZWtAZXRoZGV2LmNvbT5cblx0ICogQGF1dGhvciBNYXJpYW4gT2FuY2VhIDxtYXJpYW5AZXRoZGV2LmNvbT5cblx0ICogQGF1dGhvciBGYWJpYW4gVm9nZWxzdGVsbGVyIDxmYWJpYW5AZXRoZGV2LmNvbT5cblx0ICogQGF1dGhvciBHYXYgV29vZCA8Z0BldGhkZXYuY29tPlxuXHQgKiBAZGF0ZSAyMDE0XG5cdCAqL1xuXHRcblx0dmFyIEpzb25ycGMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUwKTtcblx0dmFyIHV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0dmFyIGMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwKTtcblx0dmFyIGVycm9ycyA9IF9fd2VicGFja19yZXF1aXJlX18oMTYpO1xuXHRcblx0LyoqXG5cdCAqIEl0J3MgcmVzcG9uc2libGUgZm9yIHBhc3NpbmcgbWVzc2FnZXMgdG8gcHJvdmlkZXJzXG5cdCAqIEl0J3MgYWxzbyByZXNwb25zaWJsZSBmb3IgcG9sbGluZyB0aGUgZXRoZXJldW0gbm9kZSBmb3IgaW5jb21pbmcgbWVzc2FnZXNcblx0ICogRGVmYXVsdCBwb2xsIHRpbWVvdXQgaXMgMSBzZWNvbmRcblx0ICogU2luZ2xldG9uXG5cdCAqL1xuXHR2YXIgUmVxdWVzdE1hbmFnZXIgPSBmdW5jdGlvbiBSZXF1ZXN0TWFuYWdlcihwcm92aWRlcikge1xuXHQgICAgdGhpcy5wcm92aWRlciA9IHByb3ZpZGVyO1xuXHQgICAgdGhpcy5wb2xscyA9IHt9O1xuXHQgICAgdGhpcy50aW1lb3V0ID0gbnVsbDtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBTaG91bGQgYmUgdXNlZCB0byBzeW5jaHJvbm91c2x5IHNlbmQgcmVxdWVzdFxuXHQgKlxuXHQgKiBAbWV0aG9kIHNlbmRcblx0ICogQHBhcmFtIHtPYmplY3R9IGRhdGFcblx0ICogQHJldHVybiB7T2JqZWN0fVxuXHQgKi9cblx0UmVxdWVzdE1hbmFnZXIucHJvdG90eXBlLnNlbmQgPSBmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgaWYgKCF0aGlzLnByb3ZpZGVyKSB7XG5cdCAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcnMuSW52YWxpZFByb3ZpZGVyKCkpO1xuXHQgICAgICAgIHJldHVybiBudWxsO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBwYXlsb2FkID0gSnNvbnJwYy50b1BheWxvYWQoZGF0YS5tZXRob2QsIGRhdGEucGFyYW1zKTtcblx0ICAgIHZhciByZXN1bHQgPSB0aGlzLnByb3ZpZGVyLnNlbmQocGF5bG9hZCk7XG5cdFxuXHQgICAgaWYgKCFKc29ucnBjLmlzVmFsaWRSZXNwb25zZShyZXN1bHQpKSB7XG5cdCAgICAgICAgdGhyb3cgZXJyb3JzLkludmFsaWRSZXNwb25zZShyZXN1bHQpO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiByZXN1bHQucmVzdWx0O1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFNob3VsZCBiZSB1c2VkIHRvIGFzeW5jaHJvbm91c2x5IHNlbmQgcmVxdWVzdFxuXHQgKlxuXHQgKiBAbWV0aG9kIHNlbmRBc3luY1xuXHQgKiBAcGFyYW0ge09iamVjdH0gZGF0YVxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuXHQgKi9cblx0UmVxdWVzdE1hbmFnZXIucHJvdG90eXBlLnNlbmRBc3luYyA9IGZ1bmN0aW9uIChkYXRhLCBjYWxsYmFjaykge1xuXHQgICAgaWYgKCF0aGlzLnByb3ZpZGVyKSB7XG5cdCAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycm9ycy5JbnZhbGlkUHJvdmlkZXIoKSk7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIHBheWxvYWQgPSBKc29ucnBjLnRvUGF5bG9hZChkYXRhLm1ldGhvZCwgZGF0YS5wYXJhbXMpO1xuXHQgICAgdGhpcy5wcm92aWRlci5zZW5kQXN5bmMocGF5bG9hZCwgZnVuY3Rpb24gKGVyciwgcmVzdWx0KSB7XG5cdCAgICAgICAgaWYgKGVycikge1xuXHQgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGlmICghSnNvbnJwYy5pc1ZhbGlkUmVzcG9uc2UocmVzdWx0KSkge1xuXHQgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2soZXJyb3JzLkludmFsaWRSZXNwb25zZShyZXN1bHQpKTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGNhbGxiYWNrKG51bGwsIHJlc3VsdC5yZXN1bHQpO1xuXHQgICAgfSk7XG5cdH07XG5cdFxuXHQvKipcblx0ICogU2hvdWxkIGJlIGNhbGxlZCB0byBhc3luY2hyb25vdXNseSBzZW5kIGJhdGNoIHJlcXVlc3Rcblx0ICpcblx0ICogQG1ldGhvZCBzZW5kQmF0Y2hcblx0ICogQHBhcmFtIHtBcnJheX0gYmF0Y2ggZGF0YVxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuXHQgKi9cblx0UmVxdWVzdE1hbmFnZXIucHJvdG90eXBlLnNlbmRCYXRjaCA9IGZ1bmN0aW9uIChkYXRhLCBjYWxsYmFjaykge1xuXHQgICAgaWYgKCF0aGlzLnByb3ZpZGVyKSB7XG5cdCAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycm9ycy5JbnZhbGlkUHJvdmlkZXIoKSk7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIHBheWxvYWQgPSBKc29ucnBjLnRvQmF0Y2hQYXlsb2FkKGRhdGEpO1xuXHRcblx0ICAgIHRoaXMucHJvdmlkZXIuc2VuZEFzeW5jKHBheWxvYWQsIGZ1bmN0aW9uIChlcnIsIHJlc3VsdHMpIHtcblx0ICAgICAgICBpZiAoZXJyKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhlcnIpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgaWYgKCF1dGlscy5pc0FycmF5KHJlc3VsdHMpKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhlcnJvcnMuSW52YWxpZFJlc3BvbnNlKHJlc3VsdHMpKTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGNhbGxiYWNrKGVyciwgcmVzdWx0cyk7XG5cdCAgICB9KTtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBTaG91bGQgYmUgdXNlZCB0byBzZXQgcHJvdmlkZXIgb2YgcmVxdWVzdCBtYW5hZ2VyXG5cdCAqXG5cdCAqIEBtZXRob2Qgc2V0UHJvdmlkZXJcblx0ICogQHBhcmFtIHtPYmplY3R9XG5cdCAqL1xuXHRSZXF1ZXN0TWFuYWdlci5wcm90b3R5cGUuc2V0UHJvdmlkZXIgPSBmdW5jdGlvbiAocCkge1xuXHQgICAgdGhpcy5wcm92aWRlciA9IHA7XG5cdH07XG5cdFxuXHQvKipcblx0ICogU2hvdWxkIGJlIHVzZWQgdG8gc3RhcnQgcG9sbGluZ1xuXHQgKlxuXHQgKiBAbWV0aG9kIHN0YXJ0UG9sbGluZ1xuXHQgKiBAcGFyYW0ge09iamVjdH0gZGF0YVxuXHQgKiBAcGFyYW0ge051bWJlcn0gcG9sbElkXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IHVuaW5zdGFsbFxuXHQgKlxuXHQgKiBAdG9kbyBjbGVhbnVwIG51bWJlciBvZiBwYXJhbXNcblx0ICovXG5cdFJlcXVlc3RNYW5hZ2VyLnByb3RvdHlwZS5zdGFydFBvbGxpbmcgPSBmdW5jdGlvbiAoZGF0YSwgcG9sbElkLCBjYWxsYmFjaywgdW5pbnN0YWxsKSB7XG5cdCAgICB0aGlzLnBvbGxzW3BvbGxJZF0gPSB7IGRhdGE6IGRhdGEsIGlkOiBwb2xsSWQsIGNhbGxiYWNrOiBjYWxsYmFjaywgdW5pbnN0YWxsOiB1bmluc3RhbGwgfTtcblx0XG5cdCAgICAvLyBzdGFydCBwb2xsaW5nXG5cdCAgICBpZiAoIXRoaXMudGltZW91dCkge1xuXHQgICAgICAgIHRoaXMucG9sbCgpO1xuXHQgICAgfVxuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFNob3VsZCBiZSB1c2VkIHRvIHN0b3AgcG9sbGluZyBmb3IgZmlsdGVyIHdpdGggZ2l2ZW4gaWRcblx0ICpcblx0ICogQG1ldGhvZCBzdG9wUG9sbGluZ1xuXHQgKiBAcGFyYW0ge051bWJlcn0gcG9sbElkXG5cdCAqL1xuXHRSZXF1ZXN0TWFuYWdlci5wcm90b3R5cGUuc3RvcFBvbGxpbmcgPSBmdW5jdGlvbiAocG9sbElkKSB7XG5cdCAgICBkZWxldGUgdGhpcy5wb2xsc1twb2xsSWRdO1xuXHRcblx0ICAgIC8vIHN0b3AgcG9sbGluZ1xuXHQgICAgaWYgKE9iamVjdC5rZXlzKHRoaXMucG9sbHMpLmxlbmd0aCA9PT0gMCAmJiB0aGlzLnRpbWVvdXQpIHtcblx0ICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KTtcblx0ICAgICAgICB0aGlzLnRpbWVvdXQgPSBudWxsO1xuXHQgICAgfVxuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFNob3VsZCBiZSBjYWxsZWQgdG8gcmVzZXQgdGhlIHBvbGxpbmcgbWVjaGFuaXNtIG9mIHRoZSByZXF1ZXN0IG1hbmFnZXJcblx0ICpcblx0ICogQG1ldGhvZCByZXNldFxuXHQgKi9cblx0UmVxdWVzdE1hbmFnZXIucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKGtlZXBJc1N5bmNpbmcpIHtcblx0ICAgIC8qanNoaW50IG1heGNvbXBsZXhpdHk6NSAqL1xuXHRcblx0ICAgIGZvciAodmFyIGtleSBpbiB0aGlzLnBvbGxzKSB7XG5cdCAgICAgICAgLy8gcmVtb3ZlIGFsbCBwb2xscywgZXhjZXB0IHN5bmMgcG9sbHMsXG5cdCAgICAgICAgLy8gdGhleSBuZWVkIHRvIGJlIHJlbW92ZWQgbWFudWFsbHkgYnkgY2FsbGluZyBzeW5jaW5nLnN0b3BXYXRjaGluZygpXG5cdCAgICAgICAgaWYgKCFrZWVwSXNTeW5jaW5nIHx8IGtleS5pbmRleE9mKCdzeW5jUG9sbF8nKSA9PT0gLTEpIHtcblx0ICAgICAgICAgICAgdGhpcy5wb2xsc1trZXldLnVuaW5zdGFsbCgpO1xuXHQgICAgICAgICAgICBkZWxldGUgdGhpcy5wb2xsc1trZXldO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICAvLyBzdG9wIHBvbGxpbmdcblx0ICAgIGlmIChPYmplY3Qua2V5cyh0aGlzLnBvbGxzKS5sZW5ndGggPT09IDAgJiYgdGhpcy50aW1lb3V0KSB7XG5cdCAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dCk7XG5cdCAgICAgICAgdGhpcy50aW1lb3V0ID0gbnVsbDtcblx0ICAgIH1cblx0fTtcblx0XG5cdC8qKlxuXHQgKiBTaG91bGQgYmUgY2FsbGVkIHRvIHBvbGwgZm9yIGNoYW5nZXMgb24gZmlsdGVyIHdpdGggZ2l2ZW4gaWRcblx0ICpcblx0ICogQG1ldGhvZCBwb2xsXG5cdCAqL1xuXHRSZXF1ZXN0TWFuYWdlci5wcm90b3R5cGUucG9sbCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIC8qanNoaW50IG1heGNvbXBsZXhpdHk6IDYgKi9cblx0ICAgIHRoaXMudGltZW91dCA9IHNldFRpbWVvdXQodGhpcy5wb2xsLmJpbmQodGhpcyksIGMuRVRIX1BPTExJTkdfVElNRU9VVCk7XG5cdFxuXHQgICAgaWYgKE9iamVjdC5rZXlzKHRoaXMucG9sbHMpLmxlbmd0aCA9PT0gMCkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoIXRoaXMucHJvdmlkZXIpIHtcblx0ICAgICAgICBjb25zb2xlLmVycm9yKGVycm9ycy5JbnZhbGlkUHJvdmlkZXIoKSk7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBwb2xsc0RhdGEgPSBbXTtcblx0ICAgIHZhciBwb2xsc0lkcyA9IFtdO1xuXHQgICAgZm9yICh2YXIga2V5IGluIHRoaXMucG9sbHMpIHtcblx0ICAgICAgICBwb2xsc0RhdGEucHVzaCh0aGlzLnBvbGxzW2tleV0uZGF0YSk7XG5cdCAgICAgICAgcG9sbHNJZHMucHVzaChrZXkpO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmIChwb2xsc0RhdGEubGVuZ3RoID09PSAwKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBwYXlsb2FkID0gSnNvbnJwYy50b0JhdGNoUGF5bG9hZChwb2xsc0RhdGEpO1xuXHRcblx0ICAgIC8vIG1hcCB0aGUgcmVxdWVzdCBpZCB0byB0aGV5IHBvbGwgaWRcblx0ICAgIHZhciBwb2xsc0lkTWFwID0ge307XG5cdCAgICBwYXlsb2FkLmZvckVhY2goZnVuY3Rpb24gKGxvYWQsIGluZGV4KSB7XG5cdCAgICAgICAgcG9sbHNJZE1hcFtsb2FkLmlkXSA9IHBvbGxzSWRzW2luZGV4XTtcblx0ICAgIH0pO1xuXHRcblx0ICAgIHZhciBzZWxmID0gdGhpcztcblx0ICAgIHRoaXMucHJvdmlkZXIuc2VuZEFzeW5jKHBheWxvYWQsIGZ1bmN0aW9uIChlcnJvciwgcmVzdWx0cykge1xuXHRcblx0ICAgICAgICAvLyBUT0RPOiBjb25zb2xlIGxvZz9cblx0ICAgICAgICBpZiAoZXJyb3IpIHtcblx0ICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgaWYgKCF1dGlscy5pc0FycmF5KHJlc3VsdHMpKSB7XG5cdCAgICAgICAgICAgIHRocm93IGVycm9ycy5JbnZhbGlkUmVzcG9uc2UocmVzdWx0cyk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJlc3VsdHMubWFwKGZ1bmN0aW9uIChyZXN1bHQpIHtcblx0ICAgICAgICAgICAgdmFyIGlkID0gcG9sbHNJZE1hcFtyZXN1bHQuaWRdO1xuXHRcblx0ICAgICAgICAgICAgLy8gbWFrZSBzdXJlIHRoZSBmaWx0ZXIgaXMgc3RpbGwgaW5zdGFsbGVkIGFmdGVyIGFycml2YWwgb2YgdGhlIHJlcXVlc3Rcblx0ICAgICAgICAgICAgaWYgKHNlbGYucG9sbHNbaWRdKSB7XG5cdCAgICAgICAgICAgICAgICByZXN1bHQuY2FsbGJhY2sgPSBzZWxmLnBvbGxzW2lkXS5jYWxsYmFjaztcblx0ICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG5cdCAgICAgICAgICAgIH0gZWxzZSByZXR1cm4gZmFsc2U7XG5cdCAgICAgICAgfSkuZmlsdGVyKGZ1bmN0aW9uIChyZXN1bHQpIHtcblx0ICAgICAgICAgICAgcmV0dXJuICEhcmVzdWx0O1xuXHQgICAgICAgIH0pLmZpbHRlcihmdW5jdGlvbiAocmVzdWx0KSB7XG5cdCAgICAgICAgICAgIHZhciB2YWxpZCA9IEpzb25ycGMuaXNWYWxpZFJlc3BvbnNlKHJlc3VsdCk7XG5cdCAgICAgICAgICAgIGlmICghdmFsaWQpIHtcblx0ICAgICAgICAgICAgICAgIHJlc3VsdC5jYWxsYmFjayhlcnJvcnMuSW52YWxpZFJlc3BvbnNlKHJlc3VsdCkpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHJldHVybiB2YWxpZDtcblx0ICAgICAgICB9KS5mb3JFYWNoKGZ1bmN0aW9uIChyZXN1bHQpIHtcblx0ICAgICAgICAgICAgcmVzdWx0LmNhbGxiYWNrKG51bGwsIHJlc3VsdC5yZXN1bHQpO1xuXHQgICAgICAgIH0pO1xuXHQgICAgfSk7XG5cdH07XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IFJlcXVlc3RNYW5hZ2VyO1xuXG4vKioqLyB9LFxuLyogODUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciBTZXR0aW5ncyA9IGZ1bmN0aW9uIFNldHRpbmdzKCkge1xuXHQgICAgdGhpcy5kZWZhdWx0QmxvY2sgPSAnbGF0ZXN0Jztcblx0ICAgIHRoaXMuZGVmYXVsdEFjY291bnQgPSB1bmRlZmluZWQ7XG5cdH07XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IFNldHRpbmdzO1xuXG4vKioqLyB9LFxuLyogODYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdC8qXG5cdCAgICBUaGlzIGZpbGUgaXMgcGFydCBvZiB3ZWIzLmpzLlxuXHRcblx0ICAgIHdlYjMuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuXHQgICAgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG5cdCAgICB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuXHQgICAgKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cblx0XG5cdCAgICB3ZWIzLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG5cdCAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuXHQgICAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuXHQgICAgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG5cdFxuXHQgICAgWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG5cdCAgICBhbG9uZyB3aXRoIHdlYjMuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG5cdCovXG5cdC8qKiBAZmlsZSBzeW5jaW5nLmpzXG5cdCAqIEBhdXRob3JzOlxuXHQgKiAgIEZhYmlhbiBWb2dlbHN0ZWxsZXIgPGZhYmlhbkBldGhkZXYuY29tPlxuXHQgKiBAZGF0ZSAyMDE1XG5cdCAqL1xuXHRcblx0dmFyIGZvcm1hdHRlcnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXHR2YXIgdXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIGNvdW50ID0gMTtcblx0XG5cdC8qKlxuXHRBZGRzIHRoZSBjYWxsYmFjayBhbmQgc2V0cyB1cCB0aGUgbWV0aG9kcywgdG8gaXRlcmF0ZSBvdmVyIHRoZSByZXN1bHRzLlxuXHRcblx0QG1ldGhvZCBwb2xsU3luY2luZ1xuXHRAcGFyYW0ge09iamVjdH0gc2VsZlxuXHQqL1xuXHR2YXIgcG9sbFN5bmNpbmcgPSBmdW5jdGlvbiBwb2xsU3luY2luZyhzZWxmKSB7XG5cdFxuXHQgICAgdmFyIG9uTWVzc2FnZSA9IGZ1bmN0aW9uIG9uTWVzc2FnZShlcnJvciwgc3luYykge1xuXHQgICAgICAgIGlmIChlcnJvcikge1xuXHQgICAgICAgICAgICByZXR1cm4gc2VsZi5jYWxsYmFja3MuZm9yRWFjaChmdW5jdGlvbiAoY2FsbGJhY2spIHtcblx0ICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycm9yKTtcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBpZiAodXRpbHMuaXNPYmplY3Qoc3luYykgJiYgc3luYy5zdGFydGluZ0Jsb2NrKSBzeW5jID0gZm9ybWF0dGVycy5vdXRwdXRTeW5jaW5nRm9ybWF0dGVyKHN5bmMpO1xuXHRcblx0ICAgICAgICBzZWxmLmNhbGxiYWNrcy5mb3JFYWNoKGZ1bmN0aW9uIChjYWxsYmFjaykge1xuXHQgICAgICAgICAgICBpZiAoc2VsZi5sYXN0U3luY1N0YXRlICE9PSBzeW5jKSB7XG5cdFxuXHQgICAgICAgICAgICAgICAgLy8gY2FsbCB0aGUgY2FsbGJhY2sgd2l0aCB0cnVlIGZpcnN0IHNvIHRoZSBhcHAgY2FuIHN0b3AgYW55dGhpbmcsIGJlZm9yZSByZWNlaXZpbmcgdGhlIHN5bmMgZGF0YVxuXHQgICAgICAgICAgICAgICAgaWYgKCFzZWxmLmxhc3RTeW5jU3RhdGUgJiYgdXRpbHMuaXNPYmplY3Qoc3luYykpIGNhbGxiYWNrKG51bGwsIHRydWUpO1xuXHRcblx0ICAgICAgICAgICAgICAgIC8vIGNhbGwgb24gdGhlIG5leHQgQ1BVIGN5Y2xlLCBzbyB0aGUgYWN0aW9ucyBvZiB0aGUgc3luYyBzdG9wIGNhbiBiZSBwcm9jZXNzZXMgZmlyc3Rcblx0ICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIHN5bmMpO1xuXHQgICAgICAgICAgICAgICAgfSwgMCk7XG5cdFxuXHQgICAgICAgICAgICAgICAgc2VsZi5sYXN0U3luY1N0YXRlID0gc3luYztcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0pO1xuXHQgICAgfTtcblx0XG5cdCAgICBzZWxmLnJlcXVlc3RNYW5hZ2VyLnN0YXJ0UG9sbGluZyh7XG5cdCAgICAgICAgbWV0aG9kOiAnZXRoX3N5bmNpbmcnLFxuXHQgICAgICAgIHBhcmFtczogW11cblx0ICAgIH0sIHNlbGYucG9sbElkLCBvbk1lc3NhZ2UsIHNlbGYuc3RvcFdhdGNoaW5nLmJpbmQoc2VsZikpO1xuXHR9O1xuXHRcblx0dmFyIElzU3luY2luZyA9IGZ1bmN0aW9uIElzU3luY2luZyhyZXF1ZXN0TWFuYWdlciwgY2FsbGJhY2spIHtcblx0ICAgIHRoaXMucmVxdWVzdE1hbmFnZXIgPSByZXF1ZXN0TWFuYWdlcjtcblx0ICAgIHRoaXMucG9sbElkID0gJ3N5bmNQb2xsXycgKyBjb3VudCsrO1xuXHQgICAgdGhpcy5jYWxsYmFja3MgPSBbXTtcblx0ICAgIHRoaXMuYWRkQ2FsbGJhY2soY2FsbGJhY2spO1xuXHQgICAgdGhpcy5sYXN0U3luY1N0YXRlID0gZmFsc2U7XG5cdCAgICBwb2xsU3luY2luZyh0aGlzKTtcblx0XG5cdCAgICByZXR1cm4gdGhpcztcblx0fTtcblx0XG5cdElzU3luY2luZy5wcm90b3R5cGUuYWRkQ2FsbGJhY2sgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcblx0ICAgIGlmIChjYWxsYmFjaykgdGhpcy5jYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG5cdCAgICByZXR1cm4gdGhpcztcblx0fTtcblx0XG5cdElzU3luY2luZy5wcm90b3R5cGUuc3RvcFdhdGNoaW5nID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdGhpcy5yZXF1ZXN0TWFuYWdlci5zdG9wUG9sbGluZyh0aGlzLnBvbGxJZCk7XG5cdCAgICB0aGlzLmNhbGxiYWNrcyA9IFtdO1xuXHR9O1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBJc1N5bmNpbmc7XG5cbi8qKiovIH0sXG4vKiA4NyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0Lypcblx0ICAgIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIHdlYjMuanMuXG5cdFxuXHQgICAgd2ViMy5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG5cdCAgICBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcblx0ICAgIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG5cdCAgICAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuXHRcblx0ICAgIHdlYjMuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcblx0ICAgIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG5cdCAgICBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG5cdCAgICBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cblx0XG5cdCAgICBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2Vcblx0ICAgIGFsb25nIHdpdGggd2ViMy5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cblx0Ki9cblx0LyoqIFxuXHQgKiBAZmlsZSB0cmFuc2Zlci5qc1xuXHQgKiBAYXV0aG9yIE1hcmVrIEtvdGV3aWN6IDxtYXJla0BldGhkZXYuY29tPlxuXHQgKiBAZGF0ZSAyMDE1XG5cdCAqL1xuXHRcblx0dmFyIEliYW4gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKTtcblx0dmFyIGV4Y2hhbmdlQWJpID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1NSk7XG5cdFxuXHQvKipcblx0ICogU2hvdWxkIGJlIHVzZWQgdG8gbWFrZSBJYmFuIHRyYW5zZmVyXG5cdCAqXG5cdCAqIEBtZXRob2QgdHJhbnNmZXJcblx0ICogQHBhcmFtIHtTdHJpbmd9IGZyb21cblx0ICogQHBhcmFtIHtTdHJpbmd9IHRvIGliYW5cblx0ICogQHBhcmFtIHtWYWx1ZX0gdmFsdWUgdG8gYmUgdHJhbmZlcmVkXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrLCBjYWxsYmFja1xuXHQgKi9cblx0dmFyIHRyYW5zZmVyID0gZnVuY3Rpb24gdHJhbnNmZXIoZXRoLCBmcm9tLCB0bywgdmFsdWUsIGNhbGxiYWNrKSB7XG5cdCAgICB2YXIgaWJhbiA9IG5ldyBJYmFuKHRvKTtcblx0ICAgIGlmICghaWJhbi5pc1ZhbGlkKCkpIHtcblx0ICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgaWJhbiBhZGRyZXNzJyk7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKGliYW4uaXNEaXJlY3QoKSkge1xuXHQgICAgICAgIHJldHVybiB0cmFuc2ZlclRvQWRkcmVzcyhldGgsIGZyb20sIGliYW4uYWRkcmVzcygpLCB2YWx1ZSwgY2FsbGJhY2spO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmICghY2FsbGJhY2spIHtcblx0ICAgICAgICB2YXIgYWRkcmVzcyA9IGV0aC5pY2FwTmFtZXJlZygpLmFkZHIoaWJhbi5pbnN0aXR1dGlvbigpKTtcblx0ICAgICAgICByZXR1cm4gZGVwb3NpdChldGgsIGZyb20sIGFkZHJlc3MsIHZhbHVlLCBpYmFuLmNsaWVudCgpKTtcblx0ICAgIH1cblx0XG5cdCAgICBldGguaWNhcE5hbWVyZWcoKS5hZGRyKGliYW4uaW5zdGl0dXRpb24oKSwgZnVuY3Rpb24gKGVyciwgYWRkcmVzcykge1xuXHQgICAgICAgIHJldHVybiBkZXBvc2l0KGV0aCwgZnJvbSwgYWRkcmVzcywgdmFsdWUsIGliYW4uY2xpZW50KCksIGNhbGxiYWNrKTtcblx0ICAgIH0pO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFNob3VsZCBiZSB1c2VkIHRvIHRyYW5zZmVyIGZ1bmRzIHRvIGNlcnRhaW4gYWRkcmVzc1xuXHQgKlxuXHQgKiBAbWV0aG9kIHRyYW5zZmVyVG9BZGRyZXNzXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBmcm9tXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSB0b1xuXHQgKiBAcGFyYW0ge1ZhbHVlfSB2YWx1ZSB0byBiZSB0cmFuZmVyZWRcblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2ssIGNhbGxiYWNrXG5cdCAqL1xuXHR2YXIgdHJhbnNmZXJUb0FkZHJlc3MgPSBmdW5jdGlvbiB0cmFuc2ZlclRvQWRkcmVzcyhldGgsIGZyb20sIHRvLCB2YWx1ZSwgY2FsbGJhY2spIHtcblx0ICAgIHJldHVybiBldGguc2VuZFRyYW5zYWN0aW9uKHtcblx0ICAgICAgICBhZGRyZXNzOiB0byxcblx0ICAgICAgICBmcm9tOiBmcm9tLFxuXHQgICAgICAgIHZhbHVlOiB2YWx1ZVxuXHQgICAgfSwgY2FsbGJhY2spO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFNob3VsZCBiZSB1c2VkIHRvIGRlcG9zaXQgZnVuZHMgdG8gZ2VuZXJpYyBFeGNoYW5nZSBjb250cmFjdCAobXVzdCBpbXBsZW1lbnQgZGVwb3NpdChieXRlczMyKSBtZXRob2QhKVxuXHQgKlxuXHQgKiBAbWV0aG9kIGRlcG9zaXRcblx0ICogQHBhcmFtIHtTdHJpbmd9IGZyb21cblx0ICogQHBhcmFtIHtTdHJpbmd9IHRvXG5cdCAqIEBwYXJhbSB7VmFsdWV9IHZhbHVlIHRvIGJlIHRyYW5zZmVyZWRcblx0ICogQHBhcmFtIHtTdHJpbmd9IGNsaWVudCB1bmlxdWUgaWRlbnRpZmllclxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjaywgY2FsbGJhY2tcblx0ICovXG5cdHZhciBkZXBvc2l0ID0gZnVuY3Rpb24gZGVwb3NpdChldGgsIGZyb20sIHRvLCB2YWx1ZSwgY2xpZW50LCBjYWxsYmFjaykge1xuXHQgICAgdmFyIGFiaSA9IGV4Y2hhbmdlQWJpO1xuXHQgICAgcmV0dXJuIGV0aC5jb250cmFjdChhYmkpLmF0KHRvKS5kZXBvc2l0KGNsaWVudCwge1xuXHQgICAgICAgIGZyb206IGZyb20sXG5cdCAgICAgICAgdmFsdWU6IHZhbHVlXG5cdCAgICB9LCBjYWxsYmFjayk7XG5cdH07XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IHRyYW5zZmVyO1xuXG4vKioqLyB9LFxuLyogODggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobW9kdWxlKSB7XG5cdFx0aWYgKCFtb2R1bGUud2VicGFja1BvbHlmaWxsKSB7XG5cdFx0XHRtb2R1bGUuZGVwcmVjYXRlID0gZnVuY3Rpb24gKCkge307XG5cdFx0XHRtb2R1bGUucGF0aHMgPSBbXTtcblx0XHRcdC8vIG1vZHVsZS5wYXJlbnQgPSB1bmRlZmluZWQgYnkgZGVmYXVsdFxuXHRcdFx0bW9kdWxlLmNoaWxkcmVuID0gW107XG5cdFx0XHRtb2R1bGUud2VicGFja1BvbHlmaWxsID0gMTtcblx0XHR9XG5cdFx0cmV0dXJuIG1vZHVsZTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDg5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdHZhciBhYmlfYmluID0ge307XG5cdGFiaV9iaW4uYWJpID0ge1xuXHQgIFwiUlNDX0FkZHJlc3NSZXNvbHZlclwiOiBbe1xuXHQgICAgXCJjb25zdGFudFwiOiB0cnVlLFxuXHQgICAgXCJpbnB1dHNcIjogW3tcblx0ICAgICAgXCJuYW1lXCI6IFwiaGFzaFwiLFxuXHQgICAgICBcInR5cGVcIjogXCJieXRlczMyXCJcblx0ICAgIH1dLFxuXHQgICAgXCJuYW1lXCI6IFwiZ2V0QWRkcmVzc1wiLFxuXHQgICAgXCJvdXRwdXRzXCI6IFt7XG5cdCAgICAgIFwibmFtZVwiOiBcIl9vYWRkclwiLFxuXHQgICAgICBcInR5cGVcIjogXCJhZGRyZXNzXCJcblx0ICAgIH1dLFxuXHQgICAgXCJwYXlhYmxlXCI6IGZhbHNlLFxuXHQgICAgXCJ0eXBlXCI6IFwiZnVuY3Rpb25cIlxuXHQgIH0sIHtcblx0ICAgIFwiY29uc3RhbnRcIjogdHJ1ZSxcblx0ICAgIFwiaW5wdXRzXCI6IFt7XG5cdCAgICAgIFwibmFtZVwiOiBcIlwiLFxuXHQgICAgICBcInR5cGVcIjogXCJieXRlczMyXCJcblx0ICAgIH1dLFxuXHQgICAgXCJuYW1lXCI6IFwiYWRkcmVzc2VzXCIsXG5cdCAgICBcIm91dHB1dHNcIjogW3tcblx0ICAgICAgXCJuYW1lXCI6IFwiXCIsXG5cdCAgICAgIFwidHlwZVwiOiBcImFkZHJlc3NcIlxuXHQgICAgfV0sXG5cdCAgICBcInBheWFibGVcIjogZmFsc2UsXG5cdCAgICBcInR5cGVcIjogXCJmdW5jdGlvblwiXG5cdCAgfSwge1xuXHQgICAgXCJjb25zdGFudFwiOiB0cnVlLFxuXHQgICAgXCJpbnB1dHNcIjogW10sXG5cdCAgICBcIm5hbWVcIjogXCJvd25lclwiLFxuXHQgICAgXCJvdXRwdXRzXCI6IFt7XG5cdCAgICAgIFwibmFtZVwiOiBcIlwiLFxuXHQgICAgICBcInR5cGVcIjogXCJhZGRyZXNzXCJcblx0ICAgIH1dLFxuXHQgICAgXCJwYXlhYmxlXCI6IGZhbHNlLFxuXHQgICAgXCJ0eXBlXCI6IFwiZnVuY3Rpb25cIlxuXHQgIH0sIHtcblx0ICAgIFwiY29uc3RhbnRcIjogZmFsc2UsXG5cdCAgICBcImlucHV0c1wiOiBbe1xuXHQgICAgICBcIm5hbWVcIjogXCJfbmV3b3duZXJcIixcblx0ICAgICAgXCJ0eXBlXCI6IFwiYWRkcmVzc1wiXG5cdCAgICB9XSxcblx0ICAgIFwibmFtZVwiOiBcImNoYW5nZU93bmVyXCIsXG5cdCAgICBcIm91dHB1dHNcIjogW10sXG5cdCAgICBcInBheWFibGVcIjogZmFsc2UsXG5cdCAgICBcInR5cGVcIjogXCJmdW5jdGlvblwiXG5cdCAgfSwge1xuXHQgICAgXCJjb25zdGFudFwiOiBmYWxzZSxcblx0ICAgIFwiaW5wdXRzXCI6IFt7XG5cdCAgICAgIFwibmFtZVwiOiBcImhhc2hcIixcblx0ICAgICAgXCJ0eXBlXCI6IFwiYnl0ZXMzMlwiXG5cdCAgICB9LCB7XG5cdCAgICAgIFwibmFtZVwiOiBcIl9uZXdhZGRyXCIsXG5cdCAgICAgIFwidHlwZVwiOiBcImFkZHJlc3NcIlxuXHQgICAgfV0sXG5cdCAgICBcIm5hbWVcIjogXCJzZXRBZGRyXCIsXG5cdCAgICBcIm91dHB1dHNcIjogW10sXG5cdCAgICBcInBheWFibGVcIjogZmFsc2UsXG5cdCAgICBcInR5cGVcIjogXCJmdW5jdGlvblwiXG5cdCAgfSwge1xuXHQgICAgXCJpbnB1dHNcIjogW10sXG5cdCAgICBcInBheWFibGVcIjogZmFsc2UsXG5cdCAgICBcInR5cGVcIjogXCJjb25zdHJ1Y3RvclwiXG5cdCAgfV0sXG5cdCAgXCJSU0NfVG9rZW5cIjogW3tcblx0ICAgIFwiY29uc3RhbnRcIjogdHJ1ZSxcblx0ICAgIFwiaW5wdXRzXCI6IFtdLFxuXHQgICAgXCJuYW1lXCI6IFwibmFtZVwiLFxuXHQgICAgXCJvdXRwdXRzXCI6IFt7XG5cdCAgICAgIFwibmFtZVwiOiBcIlwiLFxuXHQgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIlxuXHQgICAgfV0sXG5cdCAgICBcInBheWFibGVcIjogZmFsc2UsXG5cdCAgICBcInR5cGVcIjogXCJmdW5jdGlvblwiXG5cdCAgfSwge1xuXHQgICAgXCJjb25zdGFudFwiOiBmYWxzZSxcblx0ICAgIFwiaW5wdXRzXCI6IFt7XG5cdCAgICAgIFwibmFtZVwiOiBcIl9zcGVuZGVyXCIsXG5cdCAgICAgIFwidHlwZVwiOiBcImFkZHJlc3NcIlxuXHQgICAgfSwge1xuXHQgICAgICBcIm5hbWVcIjogXCJfdmFsdWVcIixcblx0ICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG5cdCAgICB9XSxcblx0ICAgIFwibmFtZVwiOiBcImFwcHJvdmVcIixcblx0ICAgIFwib3V0cHV0c1wiOiBbe1xuXHQgICAgICBcIm5hbWVcIjogXCJzdWNjZXNzXCIsXG5cdCAgICAgIFwidHlwZVwiOiBcImJvb2xcIlxuXHQgICAgfV0sXG5cdCAgICBcInBheWFibGVcIjogZmFsc2UsXG5cdCAgICBcInR5cGVcIjogXCJmdW5jdGlvblwiXG5cdCAgfSwge1xuXHQgICAgXCJjb25zdGFudFwiOiBmYWxzZSxcblx0ICAgIFwiaW5wdXRzXCI6IFt7XG5cdCAgICAgIFwibmFtZVwiOiBcIl9uZXdPd25lclwiLFxuXHQgICAgICBcInR5cGVcIjogXCJhZGRyZXNzXCJcblx0ICAgIH1dLFxuXHQgICAgXCJuYW1lXCI6IFwic2V0T3duZXJcIixcblx0ICAgIFwib3V0cHV0c1wiOiBbXSxcblx0ICAgIFwicGF5YWJsZVwiOiBmYWxzZSxcblx0ICAgIFwidHlwZVwiOiBcImZ1bmN0aW9uXCJcblx0ICB9LCB7XG5cdCAgICBcImNvbnN0YW50XCI6IHRydWUsXG5cdCAgICBcImlucHV0c1wiOiBbXSxcblx0ICAgIFwibmFtZVwiOiBcInRvdGFsU3VwcGx5XCIsXG5cdCAgICBcIm91dHB1dHNcIjogW3tcblx0ICAgICAgXCJuYW1lXCI6IFwiXCIsXG5cdCAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuXHQgICAgfV0sXG5cdCAgICBcInBheWFibGVcIjogZmFsc2UsXG5cdCAgICBcInR5cGVcIjogXCJmdW5jdGlvblwiXG5cdCAgfSwge1xuXHQgICAgXCJjb25zdGFudFwiOiBmYWxzZSxcblx0ICAgIFwiaW5wdXRzXCI6IFt7XG5cdCAgICAgIFwibmFtZVwiOiBcIl9mcm9tXCIsXG5cdCAgICAgIFwidHlwZVwiOiBcImFkZHJlc3NcIlxuXHQgICAgfSwge1xuXHQgICAgICBcIm5hbWVcIjogXCJfdG9cIixcblx0ICAgICAgXCJ0eXBlXCI6IFwiYWRkcmVzc1wiXG5cdCAgICB9LCB7XG5cdCAgICAgIFwibmFtZVwiOiBcIl92YWx1ZVwiLFxuXHQgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcblx0ICAgIH1dLFxuXHQgICAgXCJuYW1lXCI6IFwidHJhbnNmZXJGcm9tXCIsXG5cdCAgICBcIm91dHB1dHNcIjogW3tcblx0ICAgICAgXCJuYW1lXCI6IFwic3VjY2Vzc1wiLFxuXHQgICAgICBcInR5cGVcIjogXCJib29sXCJcblx0ICAgIH1dLFxuXHQgICAgXCJwYXlhYmxlXCI6IGZhbHNlLFxuXHQgICAgXCJ0eXBlXCI6IFwiZnVuY3Rpb25cIlxuXHQgIH0sIHtcblx0ICAgIFwiY29uc3RhbnRcIjogdHJ1ZSxcblx0ICAgIFwiaW5wdXRzXCI6IFtdLFxuXHQgICAgXCJuYW1lXCI6IFwiU3ltYm9sXCIsXG5cdCAgICBcIm91dHB1dHNcIjogW3tcblx0ICAgICAgXCJuYW1lXCI6IFwiXCIsXG5cdCAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiXG5cdCAgICB9XSxcblx0ICAgIFwicGF5YWJsZVwiOiBmYWxzZSxcblx0ICAgIFwidHlwZVwiOiBcImZ1bmN0aW9uXCJcblx0ICB9LCB7XG5cdCAgICBcImNvbnN0YW50XCI6IHRydWUsXG5cdCAgICBcImlucHV0c1wiOiBbXSxcblx0ICAgIFwibmFtZVwiOiBcImRlY2ltYWxzXCIsXG5cdCAgICBcIm91dHB1dHNcIjogW3tcblx0ICAgICAgXCJuYW1lXCI6IFwiXCIsXG5cdCAgICAgIFwidHlwZVwiOiBcInVpbnQ4XCJcblx0ICAgIH1dLFxuXHQgICAgXCJwYXlhYmxlXCI6IGZhbHNlLFxuXHQgICAgXCJ0eXBlXCI6IFwiZnVuY3Rpb25cIlxuXHQgIH0sIHtcblx0ICAgIFwiY29uc3RhbnRcIjogZmFsc2UsXG5cdCAgICBcImlucHV0c1wiOiBbe1xuXHQgICAgICBcIm5hbWVcIjogXCJfbmV3VG90YWxTdXBwbHlcIixcblx0ICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG5cdCAgICB9XSxcblx0ICAgIFwibmFtZVwiOiBcInNldE5ld1RvdGFsU3VwcGx5XCIsXG5cdCAgICBcIm91dHB1dHNcIjogW10sXG5cdCAgICBcInBheWFibGVcIjogZmFsc2UsXG5cdCAgICBcInR5cGVcIjogXCJmdW5jdGlvblwiXG5cdCAgfSwge1xuXHQgICAgXCJjb25zdGFudFwiOiB0cnVlLFxuXHQgICAgXCJpbnB1dHNcIjogW10sXG5cdCAgICBcIm5hbWVcIjogXCJyaXNrTWFuYWdlclwiLFxuXHQgICAgXCJvdXRwdXRzXCI6IFt7XG5cdCAgICAgIFwibmFtZVwiOiBcIlwiLFxuXHQgICAgICBcInR5cGVcIjogXCJhZGRyZXNzXCJcblx0ICAgIH1dLFxuXHQgICAgXCJwYXlhYmxlXCI6IGZhbHNlLFxuXHQgICAgXCJ0eXBlXCI6IFwiZnVuY3Rpb25cIlxuXHQgIH0sIHtcblx0ICAgIFwiY29uc3RhbnRcIjogdHJ1ZSxcblx0ICAgIFwiaW5wdXRzXCI6IFtdLFxuXHQgICAgXCJuYW1lXCI6IFwidmVyc2lvblwiLFxuXHQgICAgXCJvdXRwdXRzXCI6IFt7XG5cdCAgICAgIFwibmFtZVwiOiBcIlwiLFxuXHQgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIlxuXHQgICAgfV0sXG5cdCAgICBcInBheWFibGVcIjogZmFsc2UsXG5cdCAgICBcInR5cGVcIjogXCJmdW5jdGlvblwiXG5cdCAgfSwge1xuXHQgICAgXCJjb25zdGFudFwiOiBmYWxzZSxcblx0ICAgIFwiaW5wdXRzXCI6IFt7XG5cdCAgICAgIFwibmFtZVwiOiBcIl9uZXdSaXNrTWFuYWdlclwiLFxuXHQgICAgICBcInR5cGVcIjogXCJhZGRyZXNzXCJcblx0ICAgIH1dLFxuXHQgICAgXCJuYW1lXCI6IFwic2V0Umlza01hbmFnZXJcIixcblx0ICAgIFwib3V0cHV0c1wiOiBbXSxcblx0ICAgIFwicGF5YWJsZVwiOiBmYWxzZSxcblx0ICAgIFwidHlwZVwiOiBcImZ1bmN0aW9uXCJcblx0ICB9LCB7XG5cdCAgICBcImNvbnN0YW50XCI6IHRydWUsXG5cdCAgICBcImlucHV0c1wiOiBbe1xuXHQgICAgICBcIm5hbWVcIjogXCJfb3duZXJcIixcblx0ICAgICAgXCJ0eXBlXCI6IFwiYWRkcmVzc1wiXG5cdCAgICB9XSxcblx0ICAgIFwibmFtZVwiOiBcImJhbGFuY2VPZlwiLFxuXHQgICAgXCJvdXRwdXRzXCI6IFt7XG5cdCAgICAgIFwibmFtZVwiOiBcImJhbGFuY2VcIixcblx0ICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG5cdCAgICB9XSxcblx0ICAgIFwicGF5YWJsZVwiOiBmYWxzZSxcblx0ICAgIFwidHlwZVwiOiBcImZ1bmN0aW9uXCJcblx0ICB9LCB7XG5cdCAgICBcImNvbnN0YW50XCI6IHRydWUsXG5cdCAgICBcImlucHV0c1wiOiBbXSxcblx0ICAgIFwibmFtZVwiOiBcIm93bmVyXCIsXG5cdCAgICBcIm91dHB1dHNcIjogW3tcblx0ICAgICAgXCJuYW1lXCI6IFwiXCIsXG5cdCAgICAgIFwidHlwZVwiOiBcImFkZHJlc3NcIlxuXHQgICAgfV0sXG5cdCAgICBcInBheWFibGVcIjogZmFsc2UsXG5cdCAgICBcInR5cGVcIjogXCJmdW5jdGlvblwiXG5cdCAgfSwge1xuXHQgICAgXCJjb25zdGFudFwiOiBmYWxzZSxcblx0ICAgIFwiaW5wdXRzXCI6IFt7XG5cdCAgICAgIFwibmFtZVwiOiBcIl90b1wiLFxuXHQgICAgICBcInR5cGVcIjogXCJhZGRyZXNzXCJcblx0ICAgIH0sIHtcblx0ICAgICAgXCJuYW1lXCI6IFwiX3ZhbHVlXCIsXG5cdCAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuXHQgICAgfV0sXG5cdCAgICBcIm5hbWVcIjogXCJ0cmFuc2ZlclwiLFxuXHQgICAgXCJvdXRwdXRzXCI6IFt7XG5cdCAgICAgIFwibmFtZVwiOiBcInN1Y2Nlc3NcIixcblx0ICAgICAgXCJ0eXBlXCI6IFwiYm9vbFwiXG5cdCAgICB9XSxcblx0ICAgIFwicGF5YWJsZVwiOiBmYWxzZSxcblx0ICAgIFwidHlwZVwiOiBcImZ1bmN0aW9uXCJcblx0ICB9LCB7XG5cdCAgICBcImNvbnN0YW50XCI6IGZhbHNlLFxuXHQgICAgXCJpbnB1dHNcIjogW3tcblx0ICAgICAgXCJuYW1lXCI6IFwiX3NwZW5kZXJcIixcblx0ICAgICAgXCJ0eXBlXCI6IFwiYWRkcmVzc1wiXG5cdCAgICB9LCB7XG5cdCAgICAgIFwibmFtZVwiOiBcIl92YWx1ZVwiLFxuXHQgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcblx0ICAgIH0sIHtcblx0ICAgICAgXCJuYW1lXCI6IFwiX2V4dHJhRGF0YVwiLFxuXHQgICAgICBcInR5cGVcIjogXCJieXRlc1wiXG5cdCAgICB9XSxcblx0ICAgIFwibmFtZVwiOiBcImFwcHJvdmVBbmRDYWxsXCIsXG5cdCAgICBcIm91dHB1dHNcIjogW3tcblx0ICAgICAgXCJuYW1lXCI6IFwic3VjY2Vzc1wiLFxuXHQgICAgICBcInR5cGVcIjogXCJib29sXCJcblx0ICAgIH1dLFxuXHQgICAgXCJwYXlhYmxlXCI6IGZhbHNlLFxuXHQgICAgXCJ0eXBlXCI6IFwiZnVuY3Rpb25cIlxuXHQgIH0sIHtcblx0ICAgIFwiY29uc3RhbnRcIjogdHJ1ZSxcblx0ICAgIFwiaW5wdXRzXCI6IFt7XG5cdCAgICAgIFwibmFtZVwiOiBcIl9vd25lclwiLFxuXHQgICAgICBcInR5cGVcIjogXCJhZGRyZXNzXCJcblx0ICAgIH0sIHtcblx0ICAgICAgXCJuYW1lXCI6IFwiX3NwZW5kZXJcIixcblx0ICAgICAgXCJ0eXBlXCI6IFwiYWRkcmVzc1wiXG5cdCAgICB9XSxcblx0ICAgIFwibmFtZVwiOiBcImFsbG93YW5jZVwiLFxuXHQgICAgXCJvdXRwdXRzXCI6IFt7XG5cdCAgICAgIFwibmFtZVwiOiBcInJlbWFpbmluZ1wiLFxuXHQgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcblx0ICAgIH1dLFxuXHQgICAgXCJwYXlhYmxlXCI6IGZhbHNlLFxuXHQgICAgXCJ0eXBlXCI6IFwiZnVuY3Rpb25cIlxuXHQgIH0sIHtcblx0ICAgIFwiaW5wdXRzXCI6IFt7XG5cdCAgICAgIFwibmFtZVwiOiBcIl9pbml0aWFsQW1vdW50XCIsXG5cdCAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuXHQgICAgfV0sXG5cdCAgICBcInBheWFibGVcIjogZmFsc2UsXG5cdCAgICBcInR5cGVcIjogXCJjb25zdHJ1Y3RvclwiXG5cdCAgfSwge1xuXHQgICAgXCJwYXlhYmxlXCI6IGZhbHNlLFxuXHQgICAgXCJ0eXBlXCI6IFwiZmFsbGJhY2tcIlxuXHQgIH0sIHtcblx0ICAgIFwiYW5vbnltb3VzXCI6IGZhbHNlLFxuXHQgICAgXCJpbnB1dHNcIjogW3tcblx0ICAgICAgXCJpbmRleGVkXCI6IHRydWUsXG5cdCAgICAgIFwibmFtZVwiOiBcIl9mcm9tXCIsXG5cdCAgICAgIFwidHlwZVwiOiBcImFkZHJlc3NcIlxuXHQgICAgfSwge1xuXHQgICAgICBcImluZGV4ZWRcIjogdHJ1ZSxcblx0ICAgICAgXCJuYW1lXCI6IFwiX3RvXCIsXG5cdCAgICAgIFwidHlwZVwiOiBcImFkZHJlc3NcIlxuXHQgICAgfSwge1xuXHQgICAgICBcImluZGV4ZWRcIjogZmFsc2UsXG5cdCAgICAgIFwibmFtZVwiOiBcIl92YWx1ZVwiLFxuXHQgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcblx0ICAgIH1dLFxuXHQgICAgXCJuYW1lXCI6IFwiVHJhbnNmZXJcIixcblx0ICAgIFwidHlwZVwiOiBcImV2ZW50XCJcblx0ICB9LCB7XG5cdCAgICBcImFub255bW91c1wiOiBmYWxzZSxcblx0ICAgIFwiaW5wdXRzXCI6IFt7XG5cdCAgICAgIFwiaW5kZXhlZFwiOiB0cnVlLFxuXHQgICAgICBcIm5hbWVcIjogXCJfb3duZXJcIixcblx0ICAgICAgXCJ0eXBlXCI6IFwiYWRkcmVzc1wiXG5cdCAgICB9LCB7XG5cdCAgICAgIFwiaW5kZXhlZFwiOiB0cnVlLFxuXHQgICAgICBcIm5hbWVcIjogXCJfc3BlbmRlclwiLFxuXHQgICAgICBcInR5cGVcIjogXCJhZGRyZXNzXCJcblx0ICAgIH0sIHtcblx0ICAgICAgXCJpbmRleGVkXCI6IGZhbHNlLFxuXHQgICAgICBcIm5hbWVcIjogXCJfdmFsdWVcIixcblx0ICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG5cdCAgICB9XSxcblx0ICAgIFwibmFtZVwiOiBcIkFwcHJvdmFsXCIsXG5cdCAgICBcInR5cGVcIjogXCJldmVudFwiXG5cdCAgfV0sXG5cdCAgXCJSU0NfU2ltcGxlU2FsZVwiOiBbe1xuXHQgICAgXCJjb25zdGFudFwiOiB0cnVlLFxuXHQgICAgXCJpbnB1dHNcIjogW10sXG5cdCAgICBcIm5hbWVcIjogXCJUT1RBTF9UT0tFTlNcIixcblx0ICAgIFwib3V0cHV0c1wiOiBbe1xuXHQgICAgICBcIm5hbWVcIjogXCJcIixcblx0ICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG5cdCAgICB9XSxcblx0ICAgIFwicGF5YWJsZVwiOiBmYWxzZSxcblx0ICAgIFwidHlwZVwiOiBcImZ1bmN0aW9uXCJcblx0ICB9LCB7XG5cdCAgICBcImNvbnN0YW50XCI6IHRydWUsXG5cdCAgICBcImlucHV0c1wiOiBbXSxcblx0ICAgIFwibmFtZVwiOiBcIlNUQVJUQkxPQ0tcIixcblx0ICAgIFwib3V0cHV0c1wiOiBbe1xuXHQgICAgICBcIm5hbWVcIjogXCJcIixcblx0ICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG5cdCAgICB9XSxcblx0ICAgIFwicGF5YWJsZVwiOiBmYWxzZSxcblx0ICAgIFwidHlwZVwiOiBcImZ1bmN0aW9uXCJcblx0ICB9LCB7XG5cdCAgICBcImNvbnN0YW50XCI6IHRydWUsXG5cdCAgICBcImlucHV0c1wiOiBbXSxcblx0ICAgIFwibmFtZVwiOiBcInNhbGVGaW5pc2hlZFwiLFxuXHQgICAgXCJvdXRwdXRzXCI6IFt7XG5cdCAgICAgIFwibmFtZVwiOiBcIlwiLFxuXHQgICAgICBcInR5cGVcIjogXCJib29sXCJcblx0ICAgIH1dLFxuXHQgICAgXCJwYXlhYmxlXCI6IGZhbHNlLFxuXHQgICAgXCJ0eXBlXCI6IFwiZnVuY3Rpb25cIlxuXHQgIH0sIHtcblx0ICAgIFwiY29uc3RhbnRcIjogZmFsc2UsXG5cdCAgICBcImlucHV0c1wiOiBbe1xuXHQgICAgICBcIm5hbWVcIjogXCJhbW91bnRcIixcblx0ICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG5cdCAgICB9XSxcblx0ICAgIFwibmFtZVwiOiBcInNldE5ld1RvdGFsU3VwcGx5XCIsXG5cdCAgICBcIm91dHB1dHNcIjogW10sXG5cdCAgICBcInBheWFibGVcIjogZmFsc2UsXG5cdCAgICBcInR5cGVcIjogXCJmdW5jdGlvblwiXG5cdCAgfSwge1xuXHQgICAgXCJjb25zdGFudFwiOiB0cnVlLFxuXHQgICAgXCJpbnB1dHNcIjogW10sXG5cdCAgICBcIm5hbWVcIjogXCJGVU5ESU5HX0dPQUxcIixcblx0ICAgIFwib3V0cHV0c1wiOiBbe1xuXHQgICAgICBcIm5hbWVcIjogXCJcIixcblx0ICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG5cdCAgICB9XSxcblx0ICAgIFwicGF5YWJsZVwiOiBmYWxzZSxcblx0ICAgIFwidHlwZVwiOiBcImZ1bmN0aW9uXCJcblx0ICB9LCB7XG5cdCAgICBcImNvbnN0YW50XCI6IHRydWUsXG5cdCAgICBcImlucHV0c1wiOiBbXSxcblx0ICAgIFwibmFtZVwiOiBcInRva2VuUHJpY2VcIixcblx0ICAgIFwib3V0cHV0c1wiOiBbe1xuXHQgICAgICBcIm5hbWVcIjogXCJcIixcblx0ICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG5cdCAgICB9XSxcblx0ICAgIFwicGF5YWJsZVwiOiBmYWxzZSxcblx0ICAgIFwidHlwZVwiOiBcImZ1bmN0aW9uXCJcblx0ICB9LCB7XG5cdCAgICBcImNvbnN0YW50XCI6IHRydWUsXG5cdCAgICBcImlucHV0c1wiOiBbXSxcblx0ICAgIFwibmFtZVwiOiBcIm93bmVyXCIsXG5cdCAgICBcIm91dHB1dHNcIjogW3tcblx0ICAgICAgXCJuYW1lXCI6IFwiXCIsXG5cdCAgICAgIFwidHlwZVwiOiBcImFkZHJlc3NcIlxuXHQgICAgfV0sXG5cdCAgICBcInBheWFibGVcIjogZmFsc2UsXG5cdCAgICBcInR5cGVcIjogXCJmdW5jdGlvblwiXG5cdCAgfSwge1xuXHQgICAgXCJjb25zdGFudFwiOiBmYWxzZSxcblx0ICAgIFwiaW5wdXRzXCI6IFt7XG5cdCAgICAgIFwibmFtZVwiOiBcIl90b2tlblByaWNlXCIsXG5cdCAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuXHQgICAgfV0sXG5cdCAgICBcIm5hbWVcIjogXCJzZXRQcmljZVwiLFxuXHQgICAgXCJvdXRwdXRzXCI6IFtdLFxuXHQgICAgXCJwYXlhYmxlXCI6IGZhbHNlLFxuXHQgICAgXCJ0eXBlXCI6IFwiZnVuY3Rpb25cIlxuXHQgIH0sIHtcblx0ICAgIFwiY29uc3RhbnRcIjogZmFsc2UsXG5cdCAgICBcImlucHV0c1wiOiBbXSxcblx0ICAgIFwibmFtZVwiOiBcInRva2VuU2FsZVwiLFxuXHQgICAgXCJvdXRwdXRzXCI6IFtdLFxuXHQgICAgXCJwYXlhYmxlXCI6IHRydWUsXG5cdCAgICBcInR5cGVcIjogXCJmdW5jdGlvblwiXG5cdCAgfSwge1xuXHQgICAgXCJjb25zdGFudFwiOiBmYWxzZSxcblx0ICAgIFwiaW5wdXRzXCI6IFt7XG5cdCAgICAgIFwibmFtZVwiOiBcIl9SU0NfVG9rZW5cIixcblx0ICAgICAgXCJ0eXBlXCI6IFwiYWRkcmVzc1wiXG5cdCAgICB9XSxcblx0ICAgIFwibmFtZVwiOiBcInNldFRva2VuQ29udHJhY3RcIixcblx0ICAgIFwib3V0cHV0c1wiOiBbXSxcblx0ICAgIFwicGF5YWJsZVwiOiBmYWxzZSxcblx0ICAgIFwidHlwZVwiOiBcImZ1bmN0aW9uXCJcblx0ICB9LCB7XG5cdCAgICBcImNvbnN0YW50XCI6IHRydWUsXG5cdCAgICBcImlucHV0c1wiOiBbXSxcblx0ICAgIFwibmFtZVwiOiBcInRvdGFsUmFpc2VkXCIsXG5cdCAgICBcIm91dHB1dHNcIjogW3tcblx0ICAgICAgXCJuYW1lXCI6IFwiXCIsXG5cdCAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuXHQgICAgfV0sXG5cdCAgICBcInBheWFibGVcIjogZmFsc2UsXG5cdCAgICBcInR5cGVcIjogXCJmdW5jdGlvblwiXG5cdCAgfSwge1xuXHQgICAgXCJjb25zdGFudFwiOiB0cnVlLFxuXHQgICAgXCJpbnB1dHNcIjogW10sXG5cdCAgICBcIm5hbWVcIjogXCJSU0NfVG9rZW5fQ29udHJhY3RcIixcblx0ICAgIFwib3V0cHV0c1wiOiBbe1xuXHQgICAgICBcIm5hbWVcIjogXCJcIixcblx0ICAgICAgXCJ0eXBlXCI6IFwiYWRkcmVzc1wiXG5cdCAgICB9XSxcblx0ICAgIFwicGF5YWJsZVwiOiBmYWxzZSxcblx0ICAgIFwidHlwZVwiOiBcImZ1bmN0aW9uXCJcblx0ICB9LCB7XG5cdCAgICBcImNvbnN0YW50XCI6IHRydWUsXG5cdCAgICBcImlucHV0c1wiOiBbXSxcblx0ICAgIFwibmFtZVwiOiBcIk1BWElNVU1fU0FMRV9CTE9DS1wiLFxuXHQgICAgXCJvdXRwdXRzXCI6IFt7XG5cdCAgICAgIFwibmFtZVwiOiBcIlwiLFxuXHQgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcblx0ICAgIH1dLFxuXHQgICAgXCJwYXlhYmxlXCI6IGZhbHNlLFxuXHQgICAgXCJ0eXBlXCI6IFwiZnVuY3Rpb25cIlxuXHQgIH0sIHtcblx0ICAgIFwiaW5wdXRzXCI6IFtdLFxuXHQgICAgXCJwYXlhYmxlXCI6IGZhbHNlLFxuXHQgICAgXCJ0eXBlXCI6IFwiY29uc3RydWN0b3JcIlxuXHQgIH0sIHtcblx0ICAgIFwiYW5vbnltb3VzXCI6IGZhbHNlLFxuXHQgICAgXCJpbnB1dHNcIjogW3tcblx0ICAgICAgXCJpbmRleGVkXCI6IHRydWUsXG5cdCAgICAgIFwibmFtZVwiOiBcImludmVzdG9yXCIsXG5cdCAgICAgIFwidHlwZVwiOiBcImFkZHJlc3NcIlxuXHQgICAgfSwge1xuXHQgICAgICBcImluZGV4ZWRcIjogZmFsc2UsXG5cdCAgICAgIFwibmFtZVwiOiBcImFtb3VudFwiLFxuXHQgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcblx0ICAgIH1dLFxuXHQgICAgXCJuYW1lXCI6IFwiTG9nX1NhbGVcIixcblx0ICAgIFwidHlwZVwiOiBcImV2ZW50XCJcblx0ICB9XSxcblx0ICBcIlJTQ19JbnN1cmFuY2VcIjogW3tcblx0ICAgIFwiY29uc3RhbnRcIjogZmFsc2UsXG5cdCAgICBcImlucHV0c1wiOiBbe1xuXHQgICAgICBcIm5hbWVcIjogXCJfcG9saWN5SWRcIixcblx0ICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG5cdCAgICB9XSxcblx0ICAgIFwibmFtZVwiOiBcImV4cGlyZVBvbGljeVwiLFxuXHQgICAgXCJvdXRwdXRzXCI6IFtdLFxuXHQgICAgXCJwYXlhYmxlXCI6IGZhbHNlLFxuXHQgICAgXCJ0eXBlXCI6IFwiZnVuY3Rpb25cIlxuXHQgIH0sIHtcblx0ICAgIFwiY29uc3RhbnRcIjogZmFsc2UsXG5cdCAgICBcImlucHV0c1wiOiBbe1xuXHQgICAgICBcIm5hbWVcIjogXCJfcmlza1wiLFxuXHQgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIlxuXHQgICAgfV0sXG5cdCAgICBcIm5hbWVcIjogXCJuZXdQb2xpY3lcIixcblx0ICAgIFwib3V0cHV0c1wiOiBbXSxcblx0ICAgIFwicGF5YWJsZVwiOiB0cnVlLFxuXHQgICAgXCJ0eXBlXCI6IFwiZnVuY3Rpb25cIlxuXHQgIH0sIHtcblx0ICAgIFwiY29uc3RhbnRcIjogZmFsc2UsXG5cdCAgICBcImlucHV0c1wiOiBbe1xuXHQgICAgICBcIm5hbWVcIjogXCJfcG9saWN5SWRcIixcblx0ICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG5cdCAgICB9LCB7XG5cdCAgICAgIFwibmFtZVwiOiBcIl9wYXlvdXRcIixcblx0ICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG5cdCAgICB9LCB7XG5cdCAgICAgIFwibmFtZVwiOiBcIl9jbGFpbVwiLFxuXHQgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIlxuXHQgICAgfV0sXG5cdCAgICBcIm5hbWVcIjogXCJwYXlPdXRcIixcblx0ICAgIFwib3V0cHV0c1wiOiBbXSxcblx0ICAgIFwicGF5YWJsZVwiOiBmYWxzZSxcblx0ICAgIFwidHlwZVwiOiBcImZ1bmN0aW9uXCJcblx0ICB9LCB7XG5cdCAgICBcImNvbnN0YW50XCI6IGZhbHNlLFxuXHQgICAgXCJpbnB1dHNcIjogW3tcblx0ICAgICAgXCJuYW1lXCI6IFwiX2Ftb3VudFwiLFxuXHQgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcblx0ICAgIH1dLFxuXHQgICAgXCJuYW1lXCI6IFwiZGVjcmVhc2VfZnVuZFwiLFxuXHQgICAgXCJvdXRwdXRzXCI6IFtdLFxuXHQgICAgXCJwYXlhYmxlXCI6IGZhbHNlLFxuXHQgICAgXCJ0eXBlXCI6IFwiZnVuY3Rpb25cIlxuXHQgIH0sIHtcblx0ICAgIFwiY29uc3RhbnRcIjogdHJ1ZSxcblx0ICAgIFwiaW5wdXRzXCI6IFtdLFxuXHQgICAgXCJuYW1lXCI6IFwicmlza01hbmFnZXJcIixcblx0ICAgIFwib3V0cHV0c1wiOiBbe1xuXHQgICAgICBcIm5hbWVcIjogXCJcIixcblx0ICAgICAgXCJ0eXBlXCI6IFwiYWRkcmVzc1wiXG5cdCAgICB9XSxcblx0ICAgIFwicGF5YWJsZVwiOiBmYWxzZSxcblx0ICAgIFwidHlwZVwiOiBcImZ1bmN0aW9uXCJcblx0ICB9LCB7XG5cdCAgICBcImNvbnN0YW50XCI6IHRydWUsXG5cdCAgICBcImlucHV0c1wiOiBbe1xuXHQgICAgICBcIm5hbWVcIjogXCJfY3VzdG9tZXJcIixcblx0ICAgICAgXCJ0eXBlXCI6IFwiYWRkcmVzc1wiXG5cdCAgICB9XSxcblx0ICAgIFwibmFtZVwiOiBcImdldFBvbGljeUNvdW50XCIsXG5cdCAgICBcIm91dHB1dHNcIjogW3tcblx0ICAgICAgXCJuYW1lXCI6IFwiX2NvdW50XCIsXG5cdCAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuXHQgICAgfV0sXG5cdCAgICBcInBheWFibGVcIjogZmFsc2UsXG5cdCAgICBcInR5cGVcIjogXCJmdW5jdGlvblwiXG5cdCAgfSwge1xuXHQgICAgXCJjb25zdGFudFwiOiBmYWxzZSxcblx0ICAgIFwiaW5wdXRzXCI6IFt7XG5cdCAgICAgIFwibmFtZVwiOiBcIl9yaXNrTWFuYWdlclwiLFxuXHQgICAgICBcInR5cGVcIjogXCJhZGRyZXNzXCJcblx0ICAgIH1dLFxuXHQgICAgXCJuYW1lXCI6IFwic2V0Umlza01hbmFnZXJcIixcblx0ICAgIFwib3V0cHV0c1wiOiBbXSxcblx0ICAgIFwicGF5YWJsZVwiOiBmYWxzZSxcblx0ICAgIFwidHlwZVwiOiBcImZ1bmN0aW9uXCJcblx0ICB9LCB7XG5cdCAgICBcImNvbnN0YW50XCI6IGZhbHNlLFxuXHQgICAgXCJpbnB1dHNcIjogW10sXG5cdCAgICBcIm5hbWVcIjogXCJpbmNyZWFzZV9mdW5kXCIsXG5cdCAgICBcIm91dHB1dHNcIjogW10sXG5cdCAgICBcInBheWFibGVcIjogdHJ1ZSxcblx0ICAgIFwidHlwZVwiOiBcImZ1bmN0aW9uXCJcblx0ICB9LCB7XG5cdCAgICBcImNvbnN0YW50XCI6IGZhbHNlLFxuXHQgICAgXCJpbnB1dHNcIjogW3tcblx0ICAgICAgXCJuYW1lXCI6IFwiX29yYWNsZVwiLFxuXHQgICAgICBcInR5cGVcIjogXCJhZGRyZXNzXCJcblx0ICAgIH1dLFxuXHQgICAgXCJuYW1lXCI6IFwic2V0T3JhY2xlXCIsXG5cdCAgICBcIm91dHB1dHNcIjogW10sXG5cdCAgICBcInBheWFibGVcIjogZmFsc2UsXG5cdCAgICBcInR5cGVcIjogXCJmdW5jdGlvblwiXG5cdCAgfSwge1xuXHQgICAgXCJjb25zdGFudFwiOiB0cnVlLFxuXHQgICAgXCJpbnB1dHNcIjogW10sXG5cdCAgICBcIm5hbWVcIjogXCJvcmFjbGVcIixcblx0ICAgIFwib3V0cHV0c1wiOiBbe1xuXHQgICAgICBcIm5hbWVcIjogXCJcIixcblx0ICAgICAgXCJ0eXBlXCI6IFwiYWRkcmVzc1wiXG5cdCAgICB9XSxcblx0ICAgIFwicGF5YWJsZVwiOiBmYWxzZSxcblx0ICAgIFwidHlwZVwiOiBcImZ1bmN0aW9uXCJcblx0ICB9LCB7XG5cdCAgICBcImNvbnN0YW50XCI6IHRydWUsXG5cdCAgICBcImlucHV0c1wiOiBbXSxcblx0ICAgIFwibmFtZVwiOiBcIm93bmVyXCIsXG5cdCAgICBcIm91dHB1dHNcIjogW3tcblx0ICAgICAgXCJuYW1lXCI6IFwiXCIsXG5cdCAgICAgIFwidHlwZVwiOiBcImFkZHJlc3NcIlxuXHQgICAgfV0sXG5cdCAgICBcInBheWFibGVcIjogZmFsc2UsXG5cdCAgICBcInR5cGVcIjogXCJmdW5jdGlvblwiXG5cdCAgfSwge1xuXHQgICAgXCJjb25zdGFudFwiOiB0cnVlLFxuXHQgICAgXCJpbnB1dHNcIjogW10sXG5cdCAgICBcIm5hbWVcIjogXCJiYWxhbmNlXCIsXG5cdCAgICBcIm91dHB1dHNcIjogW3tcblx0ICAgICAgXCJuYW1lXCI6IFwiXCIsXG5cdCAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuXHQgICAgfV0sXG5cdCAgICBcInBheWFibGVcIjogZmFsc2UsXG5cdCAgICBcInR5cGVcIjogXCJmdW5jdGlvblwiXG5cdCAgfSwge1xuXHQgICAgXCJjb25zdGFudFwiOiB0cnVlLFxuXHQgICAgXCJpbnB1dHNcIjogW3tcblx0ICAgICAgXCJuYW1lXCI6IFwiXCIsXG5cdCAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuXHQgICAgfV0sXG5cdCAgICBcIm5hbWVcIjogXCJwb2xpY2llc1wiLFxuXHQgICAgXCJvdXRwdXRzXCI6IFt7XG5cdCAgICAgIFwibmFtZVwiOiBcImN1c3RvbWVyXCIsXG5cdCAgICAgIFwidHlwZVwiOiBcImFkZHJlc3NcIlxuXHQgICAgfSwge1xuXHQgICAgICBcIm5hbWVcIjogXCJwcmVtaXVtXCIsXG5cdCAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuXHQgICAgfSwge1xuXHQgICAgICBcIm5hbWVcIjogXCJyaXNrXCIsXG5cdCAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiXG5cdCAgICB9LCB7XG5cdCAgICAgIFwibmFtZVwiOiBcInByb2JhYmlsaXR5XCIsXG5cdCAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuXHQgICAgfSwge1xuXHQgICAgICBcIm5hbWVcIjogXCJzdGF0ZVwiLFxuXHQgICAgICBcInR5cGVcIjogXCJ1aW50OFwiXG5cdCAgICB9LCB7XG5cdCAgICAgIFwibmFtZVwiOiBcInN0YXRlVGltZVwiLFxuXHQgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcblx0ICAgIH0sIHtcblx0ICAgICAgXCJuYW1lXCI6IFwic3RhdGVNZXNzYWdlXCIsXG5cdCAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiXG5cdCAgICB9LCB7XG5cdCAgICAgIFwibmFtZVwiOiBcImNhbGN1bGF0ZWRQYXlvdXRcIixcblx0ICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG5cdCAgICB9LCB7XG5cdCAgICAgIFwibmFtZVwiOiBcImFjdHVhbFBheW91dFwiLFxuXHQgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcblx0ICAgIH1dLFxuXHQgICAgXCJwYXlhYmxlXCI6IGZhbHNlLFxuXHQgICAgXCJ0eXBlXCI6IFwiZnVuY3Rpb25cIlxuXHQgIH0sIHtcblx0ICAgIFwiY29uc3RhbnRcIjogZmFsc2UsXG5cdCAgICBcImlucHV0c1wiOiBbe1xuXHQgICAgICBcIm5hbWVcIjogXCJfcG9saWN5SWRcIixcblx0ICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG5cdCAgICB9LCB7XG5cdCAgICAgIFwibmFtZVwiOiBcIl9wcm9iYWJpbGl0eVwiLFxuXHQgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcblx0ICAgIH0sIHtcblx0ICAgICAgXCJuYW1lXCI6IFwiX2RvVW5kZXJ3cml0ZVwiLFxuXHQgICAgICBcInR5cGVcIjogXCJib29sXCJcblx0ICAgIH1dLFxuXHQgICAgXCJuYW1lXCI6IFwidW5kZXJ3cml0ZVwiLFxuXHQgICAgXCJvdXRwdXRzXCI6IFtdLFxuXHQgICAgXCJwYXlhYmxlXCI6IGZhbHNlLFxuXHQgICAgXCJ0eXBlXCI6IFwiZnVuY3Rpb25cIlxuXHQgIH0sIHtcblx0ICAgIFwiaW5wdXRzXCI6IFtdLFxuXHQgICAgXCJwYXlhYmxlXCI6IGZhbHNlLFxuXHQgICAgXCJ0eXBlXCI6IFwiY29uc3RydWN0b3JcIlxuXHQgIH0sIHtcblx0ICAgIFwicGF5YWJsZVwiOiBmYWxzZSxcblx0ICAgIFwidHlwZVwiOiBcImZhbGxiYWNrXCJcblx0ICB9LCB7XG5cdCAgICBcImFub255bW91c1wiOiBmYWxzZSxcblx0ICAgIFwiaW5wdXRzXCI6IFt7XG5cdCAgICAgIFwiaW5kZXhlZFwiOiBmYWxzZSxcblx0ICAgICAgXCJuYW1lXCI6IFwicG9saWN5SWRcIixcblx0ICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG5cdCAgICB9LCB7XG5cdCAgICAgIFwiaW5kZXhlZFwiOiBmYWxzZSxcblx0ICAgICAgXCJuYW1lXCI6IFwiY3VzdG9tZXJcIixcblx0ICAgICAgXCJ0eXBlXCI6IFwiYWRkcmVzc1wiXG5cdCAgICB9LCB7XG5cdCAgICAgIFwiaW5kZXhlZFwiOiBmYWxzZSxcblx0ICAgICAgXCJuYW1lXCI6IFwicmlza1wiLFxuXHQgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIlxuXHQgICAgfSwge1xuXHQgICAgICBcImluZGV4ZWRcIjogZmFsc2UsXG5cdCAgICAgIFwibmFtZVwiOiBcInByZW1pdW1cIixcblx0ICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG5cdCAgICB9XSxcblx0ICAgIFwibmFtZVwiOiBcIkxPR19Qb2xpY3lBcHBsaWVkXCIsXG5cdCAgICBcInR5cGVcIjogXCJldmVudFwiXG5cdCAgfSwge1xuXHQgICAgXCJhbm9ueW1vdXNcIjogZmFsc2UsXG5cdCAgICBcImlucHV0c1wiOiBbe1xuXHQgICAgICBcImluZGV4ZWRcIjogZmFsc2UsXG5cdCAgICAgIFwibmFtZVwiOiBcInBvbGljeUlkXCIsXG5cdCAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuXHQgICAgfV0sXG5cdCAgICBcIm5hbWVcIjogXCJMT0dfUG9saWN5QWNjZXB0ZWRcIixcblx0ICAgIFwidHlwZVwiOiBcImV2ZW50XCJcblx0ICB9LCB7XG5cdCAgICBcImFub255bW91c1wiOiBmYWxzZSxcblx0ICAgIFwiaW5wdXRzXCI6IFt7XG5cdCAgICAgIFwiaW5kZXhlZFwiOiBmYWxzZSxcblx0ICAgICAgXCJuYW1lXCI6IFwicG9saWN5SWRcIixcblx0ICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG5cdCAgICB9LCB7XG5cdCAgICAgIFwiaW5kZXhlZFwiOiBmYWxzZSxcblx0ICAgICAgXCJuYW1lXCI6IFwiYW1vdW50XCIsXG5cdCAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuXHQgICAgfV0sXG5cdCAgICBcIm5hbWVcIjogXCJMT0dfUG9saWN5UGFpZE91dFwiLFxuXHQgICAgXCJ0eXBlXCI6IFwiZXZlbnRcIlxuXHQgIH0sIHtcblx0ICAgIFwiYW5vbnltb3VzXCI6IGZhbHNlLFxuXHQgICAgXCJpbnB1dHNcIjogW3tcblx0ICAgICAgXCJpbmRleGVkXCI6IGZhbHNlLFxuXHQgICAgICBcIm5hbWVcIjogXCJwb2xpY3lJZFwiLFxuXHQgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcblx0ICAgIH1dLFxuXHQgICAgXCJuYW1lXCI6IFwiTE9HX1BvbGljeUV4cGlyZWRcIixcblx0ICAgIFwidHlwZVwiOiBcImV2ZW50XCJcblx0ICB9LCB7XG5cdCAgICBcImFub255bW91c1wiOiBmYWxzZSxcblx0ICAgIFwiaW5wdXRzXCI6IFt7XG5cdCAgICAgIFwiaW5kZXhlZFwiOiBmYWxzZSxcblx0ICAgICAgXCJuYW1lXCI6IFwicG9saWN5SWRcIixcblx0ICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG5cdCAgICB9LCB7XG5cdCAgICAgIFwiaW5kZXhlZFwiOiBmYWxzZSxcblx0ICAgICAgXCJuYW1lXCI6IFwicmVhc29uXCIsXG5cdCAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiXG5cdCAgICB9XSxcblx0ICAgIFwibmFtZVwiOiBcIkxPR19Qb2xpY3lEZWNsaW5lZFwiLFxuXHQgICAgXCJ0eXBlXCI6IFwiZXZlbnRcIlxuXHQgIH0sIHtcblx0ICAgIFwiYW5vbnltb3VzXCI6IGZhbHNlLFxuXHQgICAgXCJpbnB1dHNcIjogW3tcblx0ICAgICAgXCJpbmRleGVkXCI6IGZhbHNlLFxuXHQgICAgICBcIm5hbWVcIjogXCJwb2xpY3lJZFwiLFxuXHQgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcblx0ICAgIH0sIHtcblx0ICAgICAgXCJpbmRleGVkXCI6IGZhbHNlLFxuXHQgICAgICBcIm5hbWVcIjogXCJyZWFzb25cIixcblx0ICAgICAgXCJ0eXBlXCI6IFwic3RyaW5nXCJcblx0ICAgIH1dLFxuXHQgICAgXCJuYW1lXCI6IFwiTE9HX1NlbmRGYWlsXCIsXG5cdCAgICBcInR5cGVcIjogXCJldmVudFwiXG5cdCAgfV0sXG5cdCAgXCJSU0NfUmlza01hbmFnZXJcIjogW11cblx0fTtcblx0bW9kdWxlLmV4cG9ydHMgPSBhYmlfYmluO1xuXG4vKioqLyB9LFxuLyogOTAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciBjb250cmFjdF9pZHMgPSB7fTtcblx0XG5cdGNvbnRyYWN0X2lkcy5jb250cmFjdHMgPSB7XG5cdFxuXHRcdFJTQ19BZGRyZXNzUmVzb2x2ZXI6ICdSU0NfQWRkcmVzc1Jlc29sdmVyJyxcblx0XHRSU0NfVG9rZW46ICdSU0NfVG9rZW4nLFxuXHRcdFJTQ19TaW1wbGVTYWxlOiAnUlNDX1NpbXBsZVNhbGUnLFxuXHRcdFJTQ19JbnN1cmFuY2U6ICdSU0NfSW5zdXJhbmNlJyxcblx0XHRSU0NfUmlza01hbmFnZXI6ICdSU0NfUmlza01hbmFnZXInXG5cdFxuXHR9O1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBjb250cmFjdF9pZHM7XG5cbi8qKiovIH0sXG4vKiA5MSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cblx0Ly9cdFx0TmV0d29yayBkZWZpbml0aW9ucyBmb3IgaGFjay5ldGhlci5jYW1wXG5cdC8vXG5cdC8vXG5cdC8vXG5cdFxuXHR2YXIgbmV0d29ya3MgPSB7XG5cdFxuXHRcdHRlc3RycGM6IHtcblx0XHRcdGRlc2M6ICd0ZXN0cnBjJyxcblx0XHRcdG93bmVyQWRkcmVzczogJycsXG5cdFx0XHRBZGRyZXNzUmVzb2x2ZXJfYWRkcjogJzB4ZTIwZmQ5ZDMxZDVlODY0NzgzNmFjMzMxMGRkMzYwMjcwOGVjZTZiMycsXG5cdFx0XHRPQVJfQWRkcjogJycsXG5cdFx0XHRtdWx0aXNpZzogJzB4REM3Y0ZjNGU5ODY0ZkVhQjhhYTA3YmU3QzQ2MDhEQTkxY2MxZjM2YicsXG5cdFx0XHRodHRwUHJvdmlkZXI6ICdodHRwOi8vdGVzdHJwYy5ldGhlcmlzYy5jb20nXG5cdFx0fSxcblx0XG5cdFx0cm9wc3Rlbjoge1xuXHRcdFx0ZGVzYzogJ3JvcHN0ZW4nLFxuXHRcdFx0b3duZXJBZGRyZXNzOiAnMHhmZmM2MTRlZTk3ODYzMGQ3ZmIwYzA2NzU4ZGViNTgwYzE1MjE1NGQzJyxcblx0XHRcdEFkZHJlc3NSZXNvbHZlcl9hZGRyOiAnMHhjMzQ2M2IxYWFhOTRlZTAzMzJkNDgwODYwMjMxYzA0YTUyY2YxMDhkJyxcblx0XHRcdE9BUl9BZGRyOiAnMHhjMDNhMjYxNWQ1ZWZhZjVmNDlmNjBiN2JiNjU4M2VhZWMyMTJmZGYxJyxcblx0XHRcdG11bHRpc2lnOiAnMHhmZmM2MTRlZTk3ODYzMGQ3ZmIwYzA2NzU4ZGViNTgwYzE1MjE1NGQzJyxcblx0XHRcdGh0dHBQcm92aWRlcjogJ2h0dHA6Ly9sb2NhbGhvc3Q6ODY0NScsXG5cdFx0XHRldGhlcnNjYW5fdXJsOiBmdW5jdGlvbiBldGhlcnNjYW5fdXJsKGFkZHJlc3MpIHtcblx0XHRcdFx0cmV0dXJuICdodHRwczovL3Rlc3RuZXQuZXRoZXJzY2FuLmlvL2FkZHJlc3MvJyArIGFkZHJlc3M7XG5cdFx0XHR9LFxuXHRcdFx0ZXRoZXJzY2FuX3R4X3VybDogZnVuY3Rpb24gZXRoZXJzY2FuX3R4X3VybCh0eCkge1xuXHRcdFx0XHRyZXR1cm4gJ2h0dHBzOi8vdGVzdG5ldC5ldGhlcnNjYW4uaW8vdHgvJyArIHR4O1xuXHRcdFx0fSxcblx0XHRcdG9yYWNsaXplUXVlcnlBcGk6IGZ1bmN0aW9uIG9yYWNsaXplUXVlcnlBcGkocXVlcnlJZCkge1xuXHRcdFx0XHRyZXR1cm4gJ2h0dHBzOi8vYXBpLm9yYWNsaXplLml0L2FwaS92MS9xdWVyeS9ldGhfdGVzdG5ldF8nICsgcXVlcnlJZCArICcvc3RhdHVzJztcblx0XHRcdH1cblx0XHR9LFxuXHRcblx0XHRtYWlubmV0OiB7XG5cdFx0XHRkZXNjOiAnbWFpbm5ldCcsXG5cdFx0XHRvd25lckFkZHJlc3M6ICcnLFxuXHRcdFx0QWRkcmVzc1Jlc29sdmVyX2FkZHI6ICcnLFxuXHRcdFx0T0FSX0FkZHI6ICcweDFkM2IyNjM4YTdjYzlmMmNiM2QyOThhM2RhN2E5MGI2N2U1NTA2ZWQnLFxuXHRcdFx0bXVsdGlzaWc6ICcweDVjYjVGNDZhNjU1QzAyODg5MTcyMzIzNzYwZDEyZDBlNUQ4M0NEQWYnLFxuXHRcdFx0aHR0cFByb3ZpZGVyOiAnaHR0cDovL2xvY2FsaG9zdDo4NTQ1Jyxcblx0XHRcdGV0aGVyc2Nhbl91cmw6IGZ1bmN0aW9uIGV0aGVyc2Nhbl91cmwoYWRkcmVzcykge1xuXHRcdFx0XHRyZXR1cm4gJ2h0dHBzOi8vd3d3LmV0aGVyc2Nhbi5pby9hZGRyZXNzLyc7XG5cdFx0XHR9LFxuXHRcdFx0ZXRoZXJzY2FuX3R4X3VybDogZnVuY3Rpb24gZXRoZXJzY2FuX3R4X3VybCh0eCkge1xuXHRcdFx0XHRyZXR1cm4gJ2h0dHBzOi8vZXRoZXJzY2FuLmlvL3R4LycgKyB0eDtcblx0XHRcdH0sXG5cdFx0XHRvcmFjbGl6ZVF1ZXJ5QXBpOiBmdW5jdGlvbiBvcmFjbGl6ZVF1ZXJ5QXBpKHF1ZXJ5SWQpIHtcblx0XHRcdFx0cmV0dXJuICdodHRwczovL2FwaS5vcmFjbGl6ZS5pdC9hcGkvdjEvcXVlcnkvZXRoX21haW5uZXRfJyArIHF1ZXJ5SWQgKyAnL3N0YXR1cyc7XG5cdFx0XHR9XG5cdFx0fVxuXHRcblx0fTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gbmV0d29ya3M7XG5cbi8qKiovIH0sXG4vKiA5MiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIFdlYjMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU5KTtcblx0dmFyIHNxdWJhID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Nyk7XG5cdFxuXHR2YXIgY29udHJhY3RfaWRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5MCk7XG5cdHZhciBhYmlfYmluID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4OSk7XG5cdHZhciBuZXR3b3JrcyA9IF9fd2VicGFja19yZXF1aXJlX18oOTEpO1xuXHRcblx0dmFyIG1haW5OZXRNc2cgPSBmdW5jdGlvbiBtYWluTmV0TXNnKCkge1xuXHQgIHJldHVybiAnQXR0ZW50aW9uOiBZb3VyIG1ldGFtYXNrIGlzIGNvbm5lY3RlZCB0byBtYWlubmV0LiAnICsgJ0RvblxcJ3QgdXNlIHRoaXMgcHJvdG90eXBlIG9uIG1haW5uZXQgLSBpdCBjYW4gcmVzdWx0IGluIGxvc3Mgb2YgbW9uZXkhJztcblx0fTtcblx0XG5cdHZhciBtZXRhbWFza01zZyA9IGZ1bmN0aW9uIG1ldGFtYXNrTXNnKCkge1xuXHQgIHJldHVybiAnQXR0ZW50aW9uOiBZb3VyIG1ldGFtYXNrIGlzIG5vdCBjb25uZWN0ZWQgdG8gdGVzdG5ldC4nICsgJyBPbmx5IHVzZSB0aGlzIHByb3RvdHlwZSBvbiB0ZXN0bmV0IC0gb3RoZXJ3aXNlIGl0IGNhbiByZXN1bHQgaW4gbG9zcyBvZiBtb25leSEnO1xuXHR9O1xuXHRcblx0YW5ndWxhci5tb2R1bGUoJ2FwcCcpLnNlcnZpY2UoJ2V0aGVyZXVtJywgZXRoZXJldW0pO1xuXHRcblx0ZnVuY3Rpb24gZXRoZXJldW0oKSB7XG5cdFxuXHQgIHZhciBzZXJ2ZXJfY29udHJhY3RzID0ge307XG5cdFxuXHQgIHZhciBzdGF0ZSA9IHt9O1xuXHRcblx0ICBpbml0aWFsaXplKCk7XG5cdFxuXHQgIHJldHVybiB7XG5cdCAgICBnZXRQb2xpY2llczogZ2V0UG9saWNpZXMsXG5cdCAgICB0b2tlblNhbGU6IHRva2VuU2FsZSxcblx0ICAgIHN0YXRlOiBzdGF0ZVxuXHQgIH07XG5cdFxuXHQgIGZ1bmN0aW9uIHdlYjNDb25uZWN0KCkge1xuXHQgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcblx0ICAgICAgLy8gTWV0YU1hc2sgaW5qZWN0cyB0aGUgd2ViMyBvYmplY3QgZm9yIHVzXG5cdCAgICAgIGlmICh0eXBlb2Ygd2ViMyAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0ICAgICAgICB3ZWIzID0gbmV3IFdlYjMod2ViMy5jdXJyZW50UHJvdmlkZXIpO1xuXHQgICAgICAgIHJlc29sdmUod2ViMyk7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cdCAgICAgIC8vIElmIHRoZXJlJ3Mgbm90IHdlYjMgb2JqZWN0IHRoZW4gd2UgaW5pdGlhbGl6ZSBvbmVcblx0ICAgICAgdmFyIG1lc3NhZ2UgPSAnTm8gd2ViMz8gWW91IHNob3VsZCBjb25zaWRlciB0cnlpbmcgTWV0YU1hc2shJztcblx0ICAgICAgY29uc29sZS53YXJuKG1lc3NhZ2UpO1xuXHQgICAgICByZWplY3QoeyBtZXNzYWdlOiBtZXNzYWdlIH0pO1xuXHQgICAgfSk7XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBnZXROZXR3b3JrKCkge1xuXHQgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcblx0ICAgICAgd2ViMy52ZXJzaW9uLmdldE5ldHdvcmsoZnVuY3Rpb24gKGVyciwgcmVzKSB7XG5cdCAgICAgICAgaWYgKHJlcyAhPT0gMyAmJiByZXMgIT09ICczJykge1xuXHQgICAgICAgICAgcmVqZWN0KHsgbWVzc2FnZTogJ0Nvbm5lY3RlZCB0byB0aGUgd3JvbmcgbmV0d29yayEnIH0pO1xuXHQgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXNvbHZlKHsgbmV0d29yazogcmVzIH0pO1xuXHQgICAgICB9KTtcblx0ICAgIH0pO1xuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gZ2V0QmFsYW5jZSgpIHtcblx0ICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdCAgICAgIHdlYjMuZXRoLmdldEJhbGFuY2Uod2ViMy5ldGguYWNjb3VudHNbMF0sIGZ1bmN0aW9uIChlcnIsIHJlcykge1xuXHQgICAgICAgIHJlc29sdmUoe1xuXHQgICAgICAgICAgd2ViM19Db25uZWN0ZWQ6IHRydWUsXG5cdCAgICAgICAgICBiYWxhbmNlOiB3ZWIzLmZyb21XZWkocmVzKS50b0ZpeGVkKDIpLFxuXHQgICAgICAgICAgYWNjb3VudDogd2ViMy5ldGguYWNjb3VudHNbMF1cblx0ICAgICAgICB9KTtcblx0ICAgICAgfSk7XG5cdCAgICB9KTtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGluaXRpYWxpemUoKSB7XG5cdFxuXHQgICAgd2ViM0Nvbm5lY3QoKS50aGVuKGdldE5ldHdvcmssIGZ1bmN0aW9uIChlcnIpIHtcblx0ICAgICAgc3RhdGUubWVzc2FnZSA9IGVyci5tZXNzYWdlO1xuXHQgICAgfSkudGhlbihmdW5jdGlvbiAoX3JlZikge1xuXHQgICAgICB2YXIgbmV0d29yayA9IF9yZWYubmV0d29yaztcblx0XG5cdCAgICAgIHN0YXRlLm5ldHdvcmsgPSBuZXR3b3JrO1xuXHQgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcblx0ICAgICAgc3RhdGUubWVzc2FnZSA9IGVyci5tZXNzYWdlO1xuXHQgICAgfSkudGhlbihnZXRCYWxhbmNlKS50aGVuKGZ1bmN0aW9uIChfcmVmMikge1xuXHQgICAgICB2YXIgd2ViM19Db25uZWN0ZWQgPSBfcmVmMi53ZWIzX0Nvbm5lY3RlZCxcblx0ICAgICAgICAgIGJhbGFuY2UgPSBfcmVmMi5iYWxhbmNlLFxuXHQgICAgICAgICAgYWNjb3VudCA9IF9yZWYyLmFjY291bnQ7XG5cdFxuXHQgICAgICBzdGF0ZS53ZWIzX0Nvbm5lY3RlZCA9IHdlYjNfQ29ubmVjdGVkO1xuXHQgICAgICBzdGF0ZS5iYWxhbmNlID0gYmFsYW5jZTtcblx0ICAgICAgc3RhdGUuYWNjb3VudCA9IGFjY291bnQ7XG5cdCAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG5cdFxuXHQgICAgICBjb25zb2xlLmxvZygnU2VydmVyIHN0YXJ0ZWQnKTtcblx0ICAgICAgd2ViMy5ldGguZ2V0QmxvY2tOdW1iZXIoZnVuY3Rpb24gKGVyciwgcmVzKSB7XG5cdCAgICAgICAgY29uc29sZS5sb2coJ0Jsb2NrTnVtYmVyOiAnICsgcmVzKTtcblx0ICAgICAgfSk7XG5cdFxuXHQgICAgICAvLyBnZXQgdGhlIGFkZHJlc3MgcmVzb2x2ZXIgY29udHJhY3QsIGp1c3QgYSBTWU5DIGNhbGxcblx0ICAgICAgdmFyIFJTQ19BZGRyZXNzUmVzb2x2ZXIgPSB3ZWIzLmV0aC5jb250cmFjdChhYmlfYmluLmFiaS5SU0NfQWRkcmVzc1Jlc29sdmVyKS5hdChuZXR3b3Jrcy5yb3BzdGVuLkFkZHJlc3NSZXNvbHZlcl9hZGRyKTtcblx0XG5cdCAgICAgIGdldEFsbENvbnRyYWN0cyhjb250cmFjdF9pZHMuY29udHJhY3RzKTtcblx0XG5cdCAgICAgIC8vIGludGVyYXRlIG92ZXIgY29udHJhY3RzIGFuZCBhZGQgdGhlbSB0byBzZXJ2ZXJfY29udHJhY3RzIChhc3luYylcblx0ICAgICAgZnVuY3Rpb24gZ2V0QWxsQ29udHJhY3RzKGNvbnRyYWN0cykge1xuXHQgICAgICAgIGZvciAodmFyIGNvbnRyYWN0IGluIGNvbnRyYWN0cykge1xuXHQgICAgICAgICAgZ2V0Q29udHJhY3QoY29udHJhY3QpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfTtcblx0XG5cdCAgICAgIC8vIGdldCB0aGUgY29udHJhY3QgYWRkcmVzcyAoYXN5bmMpXG5cdCAgICAgIGZ1bmN0aW9uIGdldENvbnRyYWN0KGNvbnRyYWN0KSB7XG5cdCAgICAgICAgUlNDX0FkZHJlc3NSZXNvbHZlci5nZXRBZGRyZXNzKHdlYjMuc2hhMyhjb250cmFjdCksIGZ1bmN0aW9uIChlcnIsIGFkZHJlc3MpIHtcblx0ICAgICAgICAgIGlmIChlcnIpIHtcblx0ICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuXHQgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICAvLyBnZXQgdGhlIGNvbnRyYWN0IGF0IHRoYXQgYWRyZXNzIGFuZCBhZGQgaXQgdG8gdGhlIHNlcnZlcl9jb250cmFjdHMgbGlzdCAoYXN5bmMpXG5cdCAgICAgICAgICB3ZWIzLmV0aC5jb250cmFjdChhYmlfYmluLmFiaVtjb250cmFjdF0pLmF0KGFkZHJlc3MsIGZ1bmN0aW9uIChlcnIsIHJlcykge1xuXHQgICAgICAgICAgICBzZXJ2ZXJfY29udHJhY3RzW2NvbnRyYWN0XSA9IHJlcztcblx0ICAgICAgICAgIH0pO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICB9XG5cdCAgICB9KTsgLy8gLnRoZW5cblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGdldFBvbGljaWVzKCkge1xuXHQgICAgY29uc29sZS5sb2coJ01ldGhvZCBDYWxsOiBnZXRQb2xpY2llcycpO1xuXHRcblx0ICAgIGlmICh0eXBlb2Ygc3F1YmEoc2VydmVyX2NvbnRyYWN0cywgJ1JTQ19JbnN1cmFuY2UnKSA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0ICAgICAgY29uc29sZS5sb2coJ0RpZCBub3QgbG9hZCB0aGUgcG9saWNpZXMgeWV0LicpO1xuXHQgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcblx0ICAgICAgICByZXR1cm4gcmVzb2x2ZShbXSk7XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBnZXRQb2xpY3lDb3VudChzZXJ2ZXJfY29udHJhY3RzLlJTQ19JbnN1cmFuY2UpLnRoZW4oZnVuY3Rpb24gKHBvbGljeUNvdW50KSB7XG5cdFxuXHQgICAgICB2YXIgcG9saWNpZXMgPSBbXTtcblx0XG5cdCAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBwb2xpY3lDb3VudDsgaW5kZXgrKykge1xuXHQgICAgICAgIHZhciBwb2xpY3lQcm9taXNlID0gZ2V0UG9saWN5QnlJbmRleChzZXJ2ZXJfY29udHJhY3RzLlJTQ19JbnN1cmFuY2UsIGluZGV4KTtcblx0ICAgICAgICBwb2xpY2llcy5wdXNoKHBvbGljeVByb21pc2UpO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICByZXR1cm4gUHJvbWlzZS5hbGwocG9saWNpZXMpO1xuXHQgICAgfSk7XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiB0b2tlblNhbGUoYW1vdW50KSB7XG5cdCAgICB2YXIgdHggPSB7XG5cdCAgICAgIHZhbHVlOiB3ZWIzLnRvV2VpKGFtb3VudCwgJ2V0aGVyJylcblx0ICAgIH07XG5cdFxuXHQgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcblx0ICAgICAgd2ViMy52ZXJzaW9uLmdldE5ldHdvcmsoZnVuY3Rpb24gKGVyciwgcmVzKSB7XG5cdCAgICAgICAgaWYgKHJlcyA9PSAxKSB7XG5cdCAgICAgICAgICB2YXIgZXJyb3IgPSB7IG1lc3NhZ2U6IG1haW5OZXRNc2coKSB9O1xuXHQgICAgICAgICAgcmVqZWN0KHtcblx0ICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG5cdCAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2Uuc2xpY2UoMCwgZXJyb3IubWVzc2FnZS5pbmRleE9mKCdcXG4nKSksXG5cdCAgICAgICAgICAgIGhhc2g6ICcnXG5cdCAgICAgICAgICB9KTtcblx0ICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKHJlcyAhPT0gMyAmJiByZXMgIT09ICczJykge1xuXHQgICAgICAgICAgdmFyIF9lcnJvciA9IHsgbWVzc2FnZTogbWV0YW1hc2tNc2coKSB9O1xuXHQgICAgICAgICAgcmVqZWN0KHtcblx0ICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG5cdCAgICAgICAgICAgIG1lc3NhZ2U6IF9lcnJvci5tZXNzYWdlLnNsaWNlKDAsIF9lcnJvci5tZXNzYWdlLmluZGV4T2YoJ1xcbicpKSxcblx0ICAgICAgICAgICAgaGFzaDogJydcblx0ICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB0cnkge1xuXHRcblx0ICAgICAgICAgIHNlcnZlcl9jb250cmFjdHMuUlNDX1NpbXBsZVNhbGUudG9rZW5TYWxlKHR4LCBmdW5jdGlvbiAoZXJyLCByZXN1bHQpIHtcblx0ICAgICAgICAgICAgaWYgKGVycikge1xuXHQgICAgICAgICAgICAgIHJlamVjdCh7XG5cdCAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcblx0ICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGVyci5tZXNzYWdlLnNsaWNlKDAsIGVyci5tZXNzYWdlLmluZGV4T2YoJ1xcbicpKSxcblx0ICAgICAgICAgICAgICAgIGhhc2g6ICcnXG5cdCAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHJlc29sdmUoe1xuXHQgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG5cdCAgICAgICAgICAgICAgbWVzc2FnZTogcmVzdWx0LFxuXHQgICAgICAgICAgICAgIGhhc2g6IHJlc3VsdFxuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgIH0pO1xuXHQgICAgICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgICAgIHJlamVjdCh7XG5cdCAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuXHQgICAgICAgICAgICBtZXNzYWdlOiBlLm1lc3NhZ2Uuc2xpY2UoMCwgZS5tZXNzYWdlLmluZGV4T2YoJ1xcbicpKSxcblx0ICAgICAgICAgICAgaGFzaDogJydcblx0ICAgICAgICAgIH0pO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSk7XG5cdCAgICB9KTtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGdldFBvbGljeUJ5SW5kZXgoUlNDX0luc3VyYW5jZSwgaW5kZXgpIHtcblx0ICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdCAgICAgIFJTQ19JbnN1cmFuY2UucG9saWNpZXMoaW5kZXgsIGZ1bmN0aW9uIChlcnIsIHJvdykge1xuXHQgICAgICAgIGlmIChlcnIpIHtcblx0ICAgICAgICAgIHJlamVjdChlcnIpO1xuXHQgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByb3cucHVzaChyb3dbMF0uc2xpY2UoMCwgNykpO1xuXHQgICAgICAgIHJvd1sxXSA9IHdlYjMuZnJvbVdlaShyb3dbMV0sICdldGhlcicpLnRvRml4ZWQoNCk7XG5cdCAgICAgICAgcm93WzNdID0gd2ViMy50b0RlY2ltYWwocm93WzNdKSAvIDEwMDAwO1xuXHQgICAgICAgIHJvd1s1XSA9IG5ldyBEYXRlKHdlYjMudG9EZWNpbWFsKHJvd1s1XSkgKiAxMDAwKS50b1VUQ1N0cmluZygpO1xuXHQgICAgICAgIHJvd1s3XSA9IHdlYjMuZnJvbVdlaShyb3dbN10sICdldGhlcicpLnRvRml4ZWQoNCk7XG5cdCAgICAgICAgcm93WzhdID0gd2ViMy5mcm9tV2VpKHJvd1s4XSwgJ2V0aGVyJykudG9GaXhlZCg0KTtcblx0XG5cdCAgICAgICAgcmVzb2x2ZShyb3cpO1xuXHQgICAgICB9KTtcblx0ICAgIH0pO1xuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gZ2V0UG9saWN5Q291bnQoUlNDX0luc3VyYW5jZSkge1xuXHQgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcblx0ICAgICAgUlNDX0luc3VyYW5jZS5nZXRQb2xpY3lDb3VudChmdW5jdGlvbiAoZXJyLCByZXMpIHtcblx0ICAgICAgICBpZiAoZXJyKSB7XG5cdCAgICAgICAgICByZWplY3QoZXJyKTtcblx0ICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmVzb2x2ZShyZXMudG9OdW1iZXIoKSk7IC8vIGl0IGlzIGEgQmlnTnVtYmVyIHNvIG5lZWRzIHRvIGJlIHRyYW5zZm9ybWVkXG5cdCAgICAgIH0pO1xuXHQgICAgfSk7XG5cdCAgfVxuXHR9XG5cbi8qKiovIH1cbi8qKioqKiovIF0pO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBidW5kbGUuanMiLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcblxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0ZXhwb3J0czoge30sXG4gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuIFx0XHRcdGxvYWRlZDogZmFsc2VcbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrL2Jvb3RzdHJhcCA1ZDljOGZlZjhlMmVlZmNhODZlMyIsIjsoZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYgKHR5cGVvZiBleHBvcnRzID09PSBcIm9iamVjdFwiKSB7XG5cdFx0Ly8gQ29tbW9uSlNcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdH1cblx0ZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIHtcblx0XHQvLyBBTURcblx0XHRkZWZpbmUoW10sIGZhY3RvcnkpO1xuXHR9XG5cdGVsc2Uge1xuXHRcdC8vIEdsb2JhbCAoYnJvd3Nlcilcblx0XHRyb290LkNyeXB0b0pTID0gZmFjdG9yeSgpO1xuXHR9XG59KHRoaXMsIGZ1bmN0aW9uICgpIHtcblxuXHQvKipcblx0ICogQ3J5cHRvSlMgY29yZSBjb21wb25lbnRzLlxuXHQgKi9cblx0dmFyIENyeXB0b0pTID0gQ3J5cHRvSlMgfHwgKGZ1bmN0aW9uIChNYXRoLCB1bmRlZmluZWQpIHtcblx0ICAgIC8qXG5cdCAgICAgKiBMb2NhbCBwb2x5ZmlsIG9mIE9iamVjdC5jcmVhdGVcblx0ICAgICAqL1xuXHQgICAgdmFyIGNyZWF0ZSA9IE9iamVjdC5jcmVhdGUgfHwgKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICBmdW5jdGlvbiBGKCkge307XG5cblx0ICAgICAgICByZXR1cm4gZnVuY3Rpb24gKG9iaikge1xuXHQgICAgICAgICAgICB2YXIgc3VidHlwZTtcblxuXHQgICAgICAgICAgICBGLnByb3RvdHlwZSA9IG9iajtcblxuXHQgICAgICAgICAgICBzdWJ0eXBlID0gbmV3IEYoKTtcblxuXHQgICAgICAgICAgICBGLnByb3RvdHlwZSA9IG51bGw7XG5cblx0ICAgICAgICAgICAgcmV0dXJuIHN1YnR5cGU7XG5cdCAgICAgICAgfTtcblx0ICAgIH0oKSlcblxuXHQgICAgLyoqXG5cdCAgICAgKiBDcnlwdG9KUyBuYW1lc3BhY2UuXG5cdCAgICAgKi9cblx0ICAgIHZhciBDID0ge307XG5cblx0ICAgIC8qKlxuXHQgICAgICogTGlicmFyeSBuYW1lc3BhY2UuXG5cdCAgICAgKi9cblx0ICAgIHZhciBDX2xpYiA9IEMubGliID0ge307XG5cblx0ICAgIC8qKlxuXHQgICAgICogQmFzZSBvYmplY3QgZm9yIHByb3RvdHlwYWwgaW5oZXJpdGFuY2UuXG5cdCAgICAgKi9cblx0ICAgIHZhciBCYXNlID0gQ19saWIuQmFzZSA9IChmdW5jdGlvbiAoKSB7XG5cblxuXHQgICAgICAgIHJldHVybiB7XG5cdCAgICAgICAgICAgIC8qKlxuXHQgICAgICAgICAgICAgKiBDcmVhdGVzIGEgbmV3IG9iamVjdCB0aGF0IGluaGVyaXRzIGZyb20gdGhpcyBvYmplY3QuXG5cdCAgICAgICAgICAgICAqXG5cdCAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvdmVycmlkZXMgUHJvcGVydGllcyB0byBjb3B5IGludG8gdGhlIG5ldyBvYmplY3QuXG5cdCAgICAgICAgICAgICAqXG5cdCAgICAgICAgICAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIG5ldyBvYmplY3QuXG5cdCAgICAgICAgICAgICAqXG5cdCAgICAgICAgICAgICAqIEBzdGF0aWNcblx0ICAgICAgICAgICAgICpcblx0ICAgICAgICAgICAgICogQGV4YW1wbGVcblx0ICAgICAgICAgICAgICpcblx0ICAgICAgICAgICAgICogICAgIHZhciBNeVR5cGUgPSBDcnlwdG9KUy5saWIuQmFzZS5leHRlbmQoe1xuXHQgICAgICAgICAgICAgKiAgICAgICAgIGZpZWxkOiAndmFsdWUnLFxuXHQgICAgICAgICAgICAgKlxuXHQgICAgICAgICAgICAgKiAgICAgICAgIG1ldGhvZDogZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgKiAgICAgICAgIH1cblx0ICAgICAgICAgICAgICogICAgIH0pO1xuXHQgICAgICAgICAgICAgKi9cblx0ICAgICAgICAgICAgZXh0ZW5kOiBmdW5jdGlvbiAob3ZlcnJpZGVzKSB7XG5cdCAgICAgICAgICAgICAgICAvLyBTcGF3blxuXHQgICAgICAgICAgICAgICAgdmFyIHN1YnR5cGUgPSBjcmVhdGUodGhpcyk7XG5cblx0ICAgICAgICAgICAgICAgIC8vIEF1Z21lbnRcblx0ICAgICAgICAgICAgICAgIGlmIChvdmVycmlkZXMpIHtcblx0ICAgICAgICAgICAgICAgICAgICBzdWJ0eXBlLm1peEluKG92ZXJyaWRlcyk7XG5cdCAgICAgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBkZWZhdWx0IGluaXRpYWxpemVyXG5cdCAgICAgICAgICAgICAgICBpZiAoIXN1YnR5cGUuaGFzT3duUHJvcGVydHkoJ2luaXQnKSB8fCB0aGlzLmluaXQgPT09IHN1YnR5cGUuaW5pdCkge1xuXHQgICAgICAgICAgICAgICAgICAgIHN1YnR5cGUuaW5pdCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgc3VidHlwZS4kc3VwZXIuaW5pdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHQgICAgICAgICAgICAgICAgICAgIH07XG5cdCAgICAgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgICAgIC8vIEluaXRpYWxpemVyJ3MgcHJvdG90eXBlIGlzIHRoZSBzdWJ0eXBlIG9iamVjdFxuXHQgICAgICAgICAgICAgICAgc3VidHlwZS5pbml0LnByb3RvdHlwZSA9IHN1YnR5cGU7XG5cblx0ICAgICAgICAgICAgICAgIC8vIFJlZmVyZW5jZSBzdXBlcnR5cGVcblx0ICAgICAgICAgICAgICAgIHN1YnR5cGUuJHN1cGVyID0gdGhpcztcblxuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHN1YnR5cGU7XG5cdCAgICAgICAgICAgIH0sXG5cblx0ICAgICAgICAgICAgLyoqXG5cdCAgICAgICAgICAgICAqIEV4dGVuZHMgdGhpcyBvYmplY3QgYW5kIHJ1bnMgdGhlIGluaXQgbWV0aG9kLlxuXHQgICAgICAgICAgICAgKiBBcmd1bWVudHMgdG8gY3JlYXRlKCkgd2lsbCBiZSBwYXNzZWQgdG8gaW5pdCgpLlxuXHQgICAgICAgICAgICAgKlxuXHQgICAgICAgICAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBuZXcgb2JqZWN0LlxuXHQgICAgICAgICAgICAgKlxuXHQgICAgICAgICAgICAgKiBAc3RhdGljXG5cdCAgICAgICAgICAgICAqXG5cdCAgICAgICAgICAgICAqIEBleGFtcGxlXG5cdCAgICAgICAgICAgICAqXG5cdCAgICAgICAgICAgICAqICAgICB2YXIgaW5zdGFuY2UgPSBNeVR5cGUuY3JlYXRlKCk7XG5cdCAgICAgICAgICAgICAqL1xuXHQgICAgICAgICAgICBjcmVhdGU6IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBpbnN0YW5jZSA9IHRoaXMuZXh0ZW5kKCk7XG5cdCAgICAgICAgICAgICAgICBpbnN0YW5jZS5pbml0LmFwcGx5KGluc3RhbmNlLCBhcmd1bWVudHMpO1xuXG5cdCAgICAgICAgICAgICAgICByZXR1cm4gaW5zdGFuY2U7XG5cdCAgICAgICAgICAgIH0sXG5cblx0ICAgICAgICAgICAgLyoqXG5cdCAgICAgICAgICAgICAqIEluaXRpYWxpemVzIGEgbmV3bHkgY3JlYXRlZCBvYmplY3QuXG5cdCAgICAgICAgICAgICAqIE92ZXJyaWRlIHRoaXMgbWV0aG9kIHRvIGFkZCBzb21lIGxvZ2ljIHdoZW4geW91ciBvYmplY3RzIGFyZSBjcmVhdGVkLlxuXHQgICAgICAgICAgICAgKlxuXHQgICAgICAgICAgICAgKiBAZXhhbXBsZVxuXHQgICAgICAgICAgICAgKlxuXHQgICAgICAgICAgICAgKiAgICAgdmFyIE15VHlwZSA9IENyeXB0b0pTLmxpYi5CYXNlLmV4dGVuZCh7XG5cdCAgICAgICAgICAgICAqICAgICAgICAgaW5pdDogZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgKiAgICAgICAgICAgICAvLyAuLi5cblx0ICAgICAgICAgICAgICogICAgICAgICB9XG5cdCAgICAgICAgICAgICAqICAgICB9KTtcblx0ICAgICAgICAgICAgICovXG5cdCAgICAgICAgICAgIGluaXQ6IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgfSxcblxuXHQgICAgICAgICAgICAvKipcblx0ICAgICAgICAgICAgICogQ29waWVzIHByb3BlcnRpZXMgaW50byB0aGlzIG9iamVjdC5cblx0ICAgICAgICAgICAgICpcblx0ICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IHByb3BlcnRpZXMgVGhlIHByb3BlcnRpZXMgdG8gbWl4IGluLlxuXHQgICAgICAgICAgICAgKlxuXHQgICAgICAgICAgICAgKiBAZXhhbXBsZVxuXHQgICAgICAgICAgICAgKlxuXHQgICAgICAgICAgICAgKiAgICAgTXlUeXBlLm1peEluKHtcblx0ICAgICAgICAgICAgICogICAgICAgICBmaWVsZDogJ3ZhbHVlJ1xuXHQgICAgICAgICAgICAgKiAgICAgfSk7XG5cdCAgICAgICAgICAgICAqL1xuXHQgICAgICAgICAgICBtaXhJbjogZnVuY3Rpb24gKHByb3BlcnRpZXMpIHtcblx0ICAgICAgICAgICAgICAgIGZvciAodmFyIHByb3BlcnR5TmFtZSBpbiBwcm9wZXJ0aWVzKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXMuaGFzT3duUHJvcGVydHkocHJvcGVydHlOYW1lKSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB0aGlzW3Byb3BlcnR5TmFtZV0gPSBwcm9wZXJ0aWVzW3Byb3BlcnR5TmFtZV07XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgICAgICAvLyBJRSB3b24ndCBjb3B5IHRvU3RyaW5nIHVzaW5nIHRoZSBsb29wIGFib3ZlXG5cdCAgICAgICAgICAgICAgICBpZiAocHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eSgndG9TdHJpbmcnKSkge1xuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMudG9TdHJpbmcgPSBwcm9wZXJ0aWVzLnRvU3RyaW5nO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9LFxuXG5cdCAgICAgICAgICAgIC8qKlxuXHQgICAgICAgICAgICAgKiBDcmVhdGVzIGEgY29weSBvZiB0aGlzIG9iamVjdC5cblx0ICAgICAgICAgICAgICpcblx0ICAgICAgICAgICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgY2xvbmUuXG5cdCAgICAgICAgICAgICAqXG5cdCAgICAgICAgICAgICAqIEBleGFtcGxlXG5cdCAgICAgICAgICAgICAqXG5cdCAgICAgICAgICAgICAqICAgICB2YXIgY2xvbmUgPSBpbnN0YW5jZS5jbG9uZSgpO1xuXHQgICAgICAgICAgICAgKi9cblx0ICAgICAgICAgICAgY2xvbmU6IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmluaXQucHJvdG90eXBlLmV4dGVuZCh0aGlzKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH07XG5cdCAgICB9KCkpO1xuXG5cdCAgICAvKipcblx0ICAgICAqIEFuIGFycmF5IG9mIDMyLWJpdCB3b3Jkcy5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJvcGVydHkge0FycmF5fSB3b3JkcyBUaGUgYXJyYXkgb2YgMzItYml0IHdvcmRzLlxuXHQgICAgICogQHByb3BlcnR5IHtudW1iZXJ9IHNpZ0J5dGVzIFRoZSBudW1iZXIgb2Ygc2lnbmlmaWNhbnQgYnl0ZXMgaW4gdGhpcyB3b3JkIGFycmF5LlxuXHQgICAgICovXG5cdCAgICB2YXIgV29yZEFycmF5ID0gQ19saWIuV29yZEFycmF5ID0gQmFzZS5leHRlbmQoe1xuXHQgICAgICAgIC8qKlxuXHQgICAgICAgICAqIEluaXRpYWxpemVzIGEgbmV3bHkgY3JlYXRlZCB3b3JkIGFycmF5LlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHBhcmFtIHtBcnJheX0gd29yZHMgKE9wdGlvbmFsKSBBbiBhcnJheSBvZiAzMi1iaXQgd29yZHMuXG5cdCAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IHNpZ0J5dGVzIChPcHRpb25hbCkgVGhlIG51bWJlciBvZiBzaWduaWZpY2FudCBieXRlcyBpbiB0aGUgd29yZHMuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAZXhhbXBsZVxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogICAgIHZhciB3b3JkQXJyYXkgPSBDcnlwdG9KUy5saWIuV29yZEFycmF5LmNyZWF0ZSgpO1xuXHQgICAgICAgICAqICAgICB2YXIgd29yZEFycmF5ID0gQ3J5cHRvSlMubGliLldvcmRBcnJheS5jcmVhdGUoWzB4MDAwMTAyMDMsIDB4MDQwNTA2MDddKTtcblx0ICAgICAgICAgKiAgICAgdmFyIHdvcmRBcnJheSA9IENyeXB0b0pTLmxpYi5Xb3JkQXJyYXkuY3JlYXRlKFsweDAwMDEwMjAzLCAweDA0MDUwNjA3XSwgNik7XG5cdCAgICAgICAgICovXG5cdCAgICAgICAgaW5pdDogZnVuY3Rpb24gKHdvcmRzLCBzaWdCeXRlcykge1xuXHQgICAgICAgICAgICB3b3JkcyA9IHRoaXMud29yZHMgPSB3b3JkcyB8fCBbXTtcblxuXHQgICAgICAgICAgICBpZiAoc2lnQnl0ZXMgIT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgICAgICAgICB0aGlzLnNpZ0J5dGVzID0gc2lnQnl0ZXM7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICB0aGlzLnNpZ0J5dGVzID0gd29yZHMubGVuZ3RoICogNDtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0sXG5cblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBDb252ZXJ0cyB0aGlzIHdvcmQgYXJyYXkgdG8gYSBzdHJpbmcuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcGFyYW0ge0VuY29kZXJ9IGVuY29kZXIgKE9wdGlvbmFsKSBUaGUgZW5jb2Rpbmcgc3RyYXRlZ3kgdG8gdXNlLiBEZWZhdWx0OiBDcnlwdG9KUy5lbmMuSGV4XG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBzdHJpbmdpZmllZCB3b3JkIGFycmF5LlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQGV4YW1wbGVcblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqICAgICB2YXIgc3RyaW5nID0gd29yZEFycmF5ICsgJyc7XG5cdCAgICAgICAgICogICAgIHZhciBzdHJpbmcgPSB3b3JkQXJyYXkudG9TdHJpbmcoKTtcblx0ICAgICAgICAgKiAgICAgdmFyIHN0cmluZyA9IHdvcmRBcnJheS50b1N0cmluZyhDcnlwdG9KUy5lbmMuVXRmOCk7XG5cdCAgICAgICAgICovXG5cdCAgICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uIChlbmNvZGVyKSB7XG5cdCAgICAgICAgICAgIHJldHVybiAoZW5jb2RlciB8fCBIZXgpLnN0cmluZ2lmeSh0aGlzKTtcblx0ICAgICAgICB9LFxuXG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogQ29uY2F0ZW5hdGVzIGEgd29yZCBhcnJheSB0byB0aGlzIHdvcmQgYXJyYXkuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcGFyYW0ge1dvcmRBcnJheX0gd29yZEFycmF5IFRoZSB3b3JkIGFycmF5IHRvIGFwcGVuZC5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEByZXR1cm4ge1dvcmRBcnJheX0gVGhpcyB3b3JkIGFycmF5LlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQGV4YW1wbGVcblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqICAgICB3b3JkQXJyYXkxLmNvbmNhdCh3b3JkQXJyYXkyKTtcblx0ICAgICAgICAgKi9cblx0ICAgICAgICBjb25jYXQ6IGZ1bmN0aW9uICh3b3JkQXJyYXkpIHtcblx0ICAgICAgICAgICAgLy8gU2hvcnRjdXRzXG5cdCAgICAgICAgICAgIHZhciB0aGlzV29yZHMgPSB0aGlzLndvcmRzO1xuXHQgICAgICAgICAgICB2YXIgdGhhdFdvcmRzID0gd29yZEFycmF5LndvcmRzO1xuXHQgICAgICAgICAgICB2YXIgdGhpc1NpZ0J5dGVzID0gdGhpcy5zaWdCeXRlcztcblx0ICAgICAgICAgICAgdmFyIHRoYXRTaWdCeXRlcyA9IHdvcmRBcnJheS5zaWdCeXRlcztcblxuXHQgICAgICAgICAgICAvLyBDbGFtcCBleGNlc3MgYml0c1xuXHQgICAgICAgICAgICB0aGlzLmNsYW1wKCk7XG5cblx0ICAgICAgICAgICAgLy8gQ29uY2F0XG5cdCAgICAgICAgICAgIGlmICh0aGlzU2lnQnl0ZXMgJSA0KSB7XG5cdCAgICAgICAgICAgICAgICAvLyBDb3B5IG9uZSBieXRlIGF0IGEgdGltZVxuXHQgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGF0U2lnQnl0ZXM7IGkrKykge1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciB0aGF0Qnl0ZSA9ICh0aGF0V29yZHNbaSA+Pj4gMl0gPj4+ICgyNCAtIChpICUgNCkgKiA4KSkgJiAweGZmO1xuXHQgICAgICAgICAgICAgICAgICAgIHRoaXNXb3Jkc1sodGhpc1NpZ0J5dGVzICsgaSkgPj4+IDJdIHw9IHRoYXRCeXRlIDw8ICgyNCAtICgodGhpc1NpZ0J5dGVzICsgaSkgJSA0KSAqIDgpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgLy8gQ29weSBvbmUgd29yZCBhdCBhIHRpbWVcblx0ICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhhdFNpZ0J5dGVzOyBpICs9IDQpIHtcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzV29yZHNbKHRoaXNTaWdCeXRlcyArIGkpID4+PiAyXSA9IHRoYXRXb3Jkc1tpID4+PiAyXTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB0aGlzLnNpZ0J5dGVzICs9IHRoYXRTaWdCeXRlcztcblxuXHQgICAgICAgICAgICAvLyBDaGFpbmFibGVcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICAgICAgfSxcblxuXHQgICAgICAgIC8qKlxuXHQgICAgICAgICAqIFJlbW92ZXMgaW5zaWduaWZpY2FudCBiaXRzLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQGV4YW1wbGVcblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqICAgICB3b3JkQXJyYXkuY2xhbXAoKTtcblx0ICAgICAgICAgKi9cblx0ICAgICAgICBjbGFtcDogZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAvLyBTaG9ydGN1dHNcblx0ICAgICAgICAgICAgdmFyIHdvcmRzID0gdGhpcy53b3Jkcztcblx0ICAgICAgICAgICAgdmFyIHNpZ0J5dGVzID0gdGhpcy5zaWdCeXRlcztcblxuXHQgICAgICAgICAgICAvLyBDbGFtcFxuXHQgICAgICAgICAgICB3b3Jkc1tzaWdCeXRlcyA+Pj4gMl0gJj0gMHhmZmZmZmZmZiA8PCAoMzIgLSAoc2lnQnl0ZXMgJSA0KSAqIDgpO1xuXHQgICAgICAgICAgICB3b3Jkcy5sZW5ndGggPSBNYXRoLmNlaWwoc2lnQnl0ZXMgLyA0KTtcblx0ICAgICAgICB9LFxuXG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogQ3JlYXRlcyBhIGNvcHkgb2YgdGhpcyB3b3JkIGFycmF5LlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHJldHVybiB7V29yZEFycmF5fSBUaGUgY2xvbmUuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAZXhhbXBsZVxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogICAgIHZhciBjbG9uZSA9IHdvcmRBcnJheS5jbG9uZSgpO1xuXHQgICAgICAgICAqL1xuXHQgICAgICAgIGNsb25lOiBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIHZhciBjbG9uZSA9IEJhc2UuY2xvbmUuY2FsbCh0aGlzKTtcblx0ICAgICAgICAgICAgY2xvbmUud29yZHMgPSB0aGlzLndvcmRzLnNsaWNlKDApO1xuXG5cdCAgICAgICAgICAgIHJldHVybiBjbG9uZTtcblx0ICAgICAgICB9LFxuXG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogQ3JlYXRlcyBhIHdvcmQgYXJyYXkgZmlsbGVkIHdpdGggcmFuZG9tIGJ5dGVzLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IG5CeXRlcyBUaGUgbnVtYmVyIG9mIHJhbmRvbSBieXRlcyB0byBnZW5lcmF0ZS5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEByZXR1cm4ge1dvcmRBcnJheX0gVGhlIHJhbmRvbSB3b3JkIGFycmF5LlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHN0YXRpY1xuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQGV4YW1wbGVcblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqICAgICB2YXIgd29yZEFycmF5ID0gQ3J5cHRvSlMubGliLldvcmRBcnJheS5yYW5kb20oMTYpO1xuXHQgICAgICAgICAqL1xuXHQgICAgICAgIHJhbmRvbTogZnVuY3Rpb24gKG5CeXRlcykge1xuXHQgICAgICAgICAgICB2YXIgd29yZHMgPSBbXTtcblxuXHQgICAgICAgICAgICB2YXIgciA9IChmdW5jdGlvbiAobV93KSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgbV93ID0gbV93O1xuXHQgICAgICAgICAgICAgICAgdmFyIG1feiA9IDB4M2FkZTY4YjE7XG5cdCAgICAgICAgICAgICAgICB2YXIgbWFzayA9IDB4ZmZmZmZmZmY7XG5cblx0ICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgbV96ID0gKDB4OTA2OSAqIChtX3ogJiAweEZGRkYpICsgKG1feiA+PiAweDEwKSkgJiBtYXNrO1xuXHQgICAgICAgICAgICAgICAgICAgIG1fdyA9ICgweDQ2NTAgKiAobV93ICYgMHhGRkZGKSArIChtX3cgPj4gMHgxMCkpICYgbWFzaztcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gKChtX3ogPDwgMHgxMCkgKyBtX3cpICYgbWFzaztcblx0ICAgICAgICAgICAgICAgICAgICByZXN1bHQgLz0gMHgxMDAwMDAwMDA7XG5cdCAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IDAuNTtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0ICogKE1hdGgucmFuZG9tKCkgPiAuNSA/IDEgOiAtMSk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH0pO1xuXG5cdCAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCByY2FjaGU7IGkgPCBuQnl0ZXM7IGkgKz0gNCkge1xuXHQgICAgICAgICAgICAgICAgdmFyIF9yID0gcigocmNhY2hlIHx8IE1hdGgucmFuZG9tKCkpICogMHgxMDAwMDAwMDApO1xuXG5cdCAgICAgICAgICAgICAgICByY2FjaGUgPSBfcigpICogMHgzYWRlNjdiNztcblx0ICAgICAgICAgICAgICAgIHdvcmRzLnB1c2goKF9yKCkgKiAweDEwMDAwMDAwMCkgfCAwKTtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIHJldHVybiBuZXcgV29yZEFycmF5LmluaXQod29yZHMsIG5CeXRlcyk7XG5cdCAgICAgICAgfVxuXHQgICAgfSk7XG5cblx0ICAgIC8qKlxuXHQgICAgICogRW5jb2RlciBuYW1lc3BhY2UuXG5cdCAgICAgKi9cblx0ICAgIHZhciBDX2VuYyA9IEMuZW5jID0ge307XG5cblx0ICAgIC8qKlxuXHQgICAgICogSGV4IGVuY29kaW5nIHN0cmF0ZWd5LlxuXHQgICAgICovXG5cdCAgICB2YXIgSGV4ID0gQ19lbmMuSGV4ID0ge1xuXHQgICAgICAgIC8qKlxuXHQgICAgICAgICAqIENvbnZlcnRzIGEgd29yZCBhcnJheSB0byBhIGhleCBzdHJpbmcuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcGFyYW0ge1dvcmRBcnJheX0gd29yZEFycmF5IFRoZSB3b3JkIGFycmF5LlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgaGV4IHN0cmluZy5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBzdGF0aWNcblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBleGFtcGxlXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiAgICAgdmFyIGhleFN0cmluZyA9IENyeXB0b0pTLmVuYy5IZXguc3RyaW5naWZ5KHdvcmRBcnJheSk7XG5cdCAgICAgICAgICovXG5cdCAgICAgICAgc3RyaW5naWZ5OiBmdW5jdGlvbiAod29yZEFycmF5KSB7XG5cdCAgICAgICAgICAgIC8vIFNob3J0Y3V0c1xuXHQgICAgICAgICAgICB2YXIgd29yZHMgPSB3b3JkQXJyYXkud29yZHM7XG5cdCAgICAgICAgICAgIHZhciBzaWdCeXRlcyA9IHdvcmRBcnJheS5zaWdCeXRlcztcblxuXHQgICAgICAgICAgICAvLyBDb252ZXJ0XG5cdCAgICAgICAgICAgIHZhciBoZXhDaGFycyA9IFtdO1xuXHQgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNpZ0J5dGVzOyBpKyspIHtcblx0ICAgICAgICAgICAgICAgIHZhciBiaXRlID0gKHdvcmRzW2kgPj4+IDJdID4+PiAoMjQgLSAoaSAlIDQpICogOCkpICYgMHhmZjtcblx0ICAgICAgICAgICAgICAgIGhleENoYXJzLnB1c2goKGJpdGUgPj4+IDQpLnRvU3RyaW5nKDE2KSk7XG5cdCAgICAgICAgICAgICAgICBoZXhDaGFycy5wdXNoKChiaXRlICYgMHgwZikudG9TdHJpbmcoMTYpKTtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIHJldHVybiBoZXhDaGFycy5qb2luKCcnKTtcblx0ICAgICAgICB9LFxuXG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogQ29udmVydHMgYSBoZXggc3RyaW5nIHRvIGEgd29yZCBhcnJheS5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBoZXhTdHIgVGhlIGhleCBzdHJpbmcuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcmV0dXJuIHtXb3JkQXJyYXl9IFRoZSB3b3JkIGFycmF5LlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHN0YXRpY1xuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQGV4YW1wbGVcblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqICAgICB2YXIgd29yZEFycmF5ID0gQ3J5cHRvSlMuZW5jLkhleC5wYXJzZShoZXhTdHJpbmcpO1xuXHQgICAgICAgICAqL1xuXHQgICAgICAgIHBhcnNlOiBmdW5jdGlvbiAoaGV4U3RyKSB7XG5cdCAgICAgICAgICAgIC8vIFNob3J0Y3V0XG5cdCAgICAgICAgICAgIHZhciBoZXhTdHJMZW5ndGggPSBoZXhTdHIubGVuZ3RoO1xuXG5cdCAgICAgICAgICAgIC8vIENvbnZlcnRcblx0ICAgICAgICAgICAgdmFyIHdvcmRzID0gW107XG5cdCAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaGV4U3RyTGVuZ3RoOyBpICs9IDIpIHtcblx0ICAgICAgICAgICAgICAgIHdvcmRzW2kgPj4+IDNdIHw9IHBhcnNlSW50KGhleFN0ci5zdWJzdHIoaSwgMiksIDE2KSA8PCAoMjQgLSAoaSAlIDgpICogNCk7XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICByZXR1cm4gbmV3IFdvcmRBcnJheS5pbml0KHdvcmRzLCBoZXhTdHJMZW5ndGggLyAyKTtcblx0ICAgICAgICB9XG5cdCAgICB9O1xuXG5cdCAgICAvKipcblx0ICAgICAqIExhdGluMSBlbmNvZGluZyBzdHJhdGVneS5cblx0ICAgICAqL1xuXHQgICAgdmFyIExhdGluMSA9IENfZW5jLkxhdGluMSA9IHtcblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBDb252ZXJ0cyBhIHdvcmQgYXJyYXkgdG8gYSBMYXRpbjEgc3RyaW5nLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHBhcmFtIHtXb3JkQXJyYXl9IHdvcmRBcnJheSBUaGUgd29yZCBhcnJheS5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIExhdGluMSBzdHJpbmcuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAc3RhdGljXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAZXhhbXBsZVxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogICAgIHZhciBsYXRpbjFTdHJpbmcgPSBDcnlwdG9KUy5lbmMuTGF0aW4xLnN0cmluZ2lmeSh3b3JkQXJyYXkpO1xuXHQgICAgICAgICAqL1xuXHQgICAgICAgIHN0cmluZ2lmeTogZnVuY3Rpb24gKHdvcmRBcnJheSkge1xuXHQgICAgICAgICAgICAvLyBTaG9ydGN1dHNcblx0ICAgICAgICAgICAgdmFyIHdvcmRzID0gd29yZEFycmF5LndvcmRzO1xuXHQgICAgICAgICAgICB2YXIgc2lnQnl0ZXMgPSB3b3JkQXJyYXkuc2lnQnl0ZXM7XG5cblx0ICAgICAgICAgICAgLy8gQ29udmVydFxuXHQgICAgICAgICAgICB2YXIgbGF0aW4xQ2hhcnMgPSBbXTtcblx0ICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaWdCeXRlczsgaSsrKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgYml0ZSA9ICh3b3Jkc1tpID4+PiAyXSA+Pj4gKDI0IC0gKGkgJSA0KSAqIDgpKSAmIDB4ZmY7XG5cdCAgICAgICAgICAgICAgICBsYXRpbjFDaGFycy5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoYml0ZSkpO1xuXHQgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgcmV0dXJuIGxhdGluMUNoYXJzLmpvaW4oJycpO1xuXHQgICAgICAgIH0sXG5cblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBDb252ZXJ0cyBhIExhdGluMSBzdHJpbmcgdG8gYSB3b3JkIGFycmF5LlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGxhdGluMVN0ciBUaGUgTGF0aW4xIHN0cmluZy5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEByZXR1cm4ge1dvcmRBcnJheX0gVGhlIHdvcmQgYXJyYXkuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAc3RhdGljXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAZXhhbXBsZVxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogICAgIHZhciB3b3JkQXJyYXkgPSBDcnlwdG9KUy5lbmMuTGF0aW4xLnBhcnNlKGxhdGluMVN0cmluZyk7XG5cdCAgICAgICAgICovXG5cdCAgICAgICAgcGFyc2U6IGZ1bmN0aW9uIChsYXRpbjFTdHIpIHtcblx0ICAgICAgICAgICAgLy8gU2hvcnRjdXRcblx0ICAgICAgICAgICAgdmFyIGxhdGluMVN0ckxlbmd0aCA9IGxhdGluMVN0ci5sZW5ndGg7XG5cblx0ICAgICAgICAgICAgLy8gQ29udmVydFxuXHQgICAgICAgICAgICB2YXIgd29yZHMgPSBbXTtcblx0ICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXRpbjFTdHJMZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICAgICAgd29yZHNbaSA+Pj4gMl0gfD0gKGxhdGluMVN0ci5jaGFyQ29kZUF0KGkpICYgMHhmZikgPDwgKDI0IC0gKGkgJSA0KSAqIDgpO1xuXHQgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgcmV0dXJuIG5ldyBXb3JkQXJyYXkuaW5pdCh3b3JkcywgbGF0aW4xU3RyTGVuZ3RoKTtcblx0ICAgICAgICB9XG5cdCAgICB9O1xuXG5cdCAgICAvKipcblx0ICAgICAqIFVURi04IGVuY29kaW5nIHN0cmF0ZWd5LlxuXHQgICAgICovXG5cdCAgICB2YXIgVXRmOCA9IENfZW5jLlV0ZjggPSB7XG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogQ29udmVydHMgYSB3b3JkIGFycmF5IHRvIGEgVVRGLTggc3RyaW5nLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHBhcmFtIHtXb3JkQXJyYXl9IHdvcmRBcnJheSBUaGUgd29yZCBhcnJheS5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIFVURi04IHN0cmluZy5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBzdGF0aWNcblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBleGFtcGxlXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiAgICAgdmFyIHV0ZjhTdHJpbmcgPSBDcnlwdG9KUy5lbmMuVXRmOC5zdHJpbmdpZnkod29yZEFycmF5KTtcblx0ICAgICAgICAgKi9cblx0ICAgICAgICBzdHJpbmdpZnk6IGZ1bmN0aW9uICh3b3JkQXJyYXkpIHtcblx0ICAgICAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoZXNjYXBlKExhdGluMS5zdHJpbmdpZnkod29yZEFycmF5KSkpO1xuXHQgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG5cdCAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01hbGZvcm1lZCBVVEYtOCBkYXRhJyk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9LFxuXG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogQ29udmVydHMgYSBVVEYtOCBzdHJpbmcgdG8gYSB3b3JkIGFycmF5LlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHV0ZjhTdHIgVGhlIFVURi04IHN0cmluZy5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEByZXR1cm4ge1dvcmRBcnJheX0gVGhlIHdvcmQgYXJyYXkuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAc3RhdGljXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAZXhhbXBsZVxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogICAgIHZhciB3b3JkQXJyYXkgPSBDcnlwdG9KUy5lbmMuVXRmOC5wYXJzZSh1dGY4U3RyaW5nKTtcblx0ICAgICAgICAgKi9cblx0ICAgICAgICBwYXJzZTogZnVuY3Rpb24gKHV0ZjhTdHIpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIExhdGluMS5wYXJzZSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQodXRmOFN0cikpKTtcblx0ICAgICAgICB9XG5cdCAgICB9O1xuXG5cdCAgICAvKipcblx0ICAgICAqIEFic3RyYWN0IGJ1ZmZlcmVkIGJsb2NrIGFsZ29yaXRobSB0ZW1wbGF0ZS5cblx0ICAgICAqXG5cdCAgICAgKiBUaGUgcHJvcGVydHkgYmxvY2tTaXplIG11c3QgYmUgaW1wbGVtZW50ZWQgaW4gYSBjb25jcmV0ZSBzdWJ0eXBlLlxuXHQgICAgICpcblx0ICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBfbWluQnVmZmVyU2l6ZSBUaGUgbnVtYmVyIG9mIGJsb2NrcyB0aGF0IHNob3VsZCBiZSBrZXB0IHVucHJvY2Vzc2VkIGluIHRoZSBidWZmZXIuIERlZmF1bHQ6IDBcblx0ICAgICAqL1xuXHQgICAgdmFyIEJ1ZmZlcmVkQmxvY2tBbGdvcml0aG0gPSBDX2xpYi5CdWZmZXJlZEJsb2NrQWxnb3JpdGhtID0gQmFzZS5leHRlbmQoe1xuXHQgICAgICAgIC8qKlxuXHQgICAgICAgICAqIFJlc2V0cyB0aGlzIGJsb2NrIGFsZ29yaXRobSdzIGRhdGEgYnVmZmVyIHRvIGl0cyBpbml0aWFsIHN0YXRlLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQGV4YW1wbGVcblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqICAgICBidWZmZXJlZEJsb2NrQWxnb3JpdGhtLnJlc2V0KCk7XG5cdCAgICAgICAgICovXG5cdCAgICAgICAgcmVzZXQ6IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgLy8gSW5pdGlhbCB2YWx1ZXNcblx0ICAgICAgICAgICAgdGhpcy5fZGF0YSA9IG5ldyBXb3JkQXJyYXkuaW5pdCgpO1xuXHQgICAgICAgICAgICB0aGlzLl9uRGF0YUJ5dGVzID0gMDtcblx0ICAgICAgICB9LFxuXG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogQWRkcyBuZXcgZGF0YSB0byB0aGlzIGJsb2NrIGFsZ29yaXRobSdzIGJ1ZmZlci5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBwYXJhbSB7V29yZEFycmF5fHN0cmluZ30gZGF0YSBUaGUgZGF0YSB0byBhcHBlbmQuIFN0cmluZ3MgYXJlIGNvbnZlcnRlZCB0byBhIFdvcmRBcnJheSB1c2luZyBVVEYtOC5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBleGFtcGxlXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiAgICAgYnVmZmVyZWRCbG9ja0FsZ29yaXRobS5fYXBwZW5kKCdkYXRhJyk7XG5cdCAgICAgICAgICogICAgIGJ1ZmZlcmVkQmxvY2tBbGdvcml0aG0uX2FwcGVuZCh3b3JkQXJyYXkpO1xuXHQgICAgICAgICAqL1xuXHQgICAgICAgIF9hcHBlbmQ6IGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgICAgICAgIC8vIENvbnZlcnQgc3RyaW5nIHRvIFdvcmRBcnJheSwgZWxzZSBhc3N1bWUgV29yZEFycmF5IGFscmVhZHlcblx0ICAgICAgICAgICAgaWYgKHR5cGVvZiBkYXRhID09ICdzdHJpbmcnKSB7XG5cdCAgICAgICAgICAgICAgICBkYXRhID0gVXRmOC5wYXJzZShkYXRhKTtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIC8vIEFwcGVuZFxuXHQgICAgICAgICAgICB0aGlzLl9kYXRhLmNvbmNhdChkYXRhKTtcblx0ICAgICAgICAgICAgdGhpcy5fbkRhdGFCeXRlcyArPSBkYXRhLnNpZ0J5dGVzO1xuXHQgICAgICAgIH0sXG5cblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBQcm9jZXNzZXMgYXZhaWxhYmxlIGRhdGEgYmxvY2tzLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogVGhpcyBtZXRob2QgaW52b2tlcyBfZG9Qcm9jZXNzQmxvY2sob2Zmc2V0KSwgd2hpY2ggbXVzdCBiZSBpbXBsZW1lbnRlZCBieSBhIGNvbmNyZXRlIHN1YnR5cGUuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGRvRmx1c2ggV2hldGhlciBhbGwgYmxvY2tzIGFuZCBwYXJ0aWFsIGJsb2NrcyBzaG91bGQgYmUgcHJvY2Vzc2VkLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHJldHVybiB7V29yZEFycmF5fSBUaGUgcHJvY2Vzc2VkIGRhdGEuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAZXhhbXBsZVxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogICAgIHZhciBwcm9jZXNzZWREYXRhID0gYnVmZmVyZWRCbG9ja0FsZ29yaXRobS5fcHJvY2VzcygpO1xuXHQgICAgICAgICAqICAgICB2YXIgcHJvY2Vzc2VkRGF0YSA9IGJ1ZmZlcmVkQmxvY2tBbGdvcml0aG0uX3Byb2Nlc3MoISEnZmx1c2gnKTtcblx0ICAgICAgICAgKi9cblx0ICAgICAgICBfcHJvY2VzczogZnVuY3Rpb24gKGRvRmx1c2gpIHtcblx0ICAgICAgICAgICAgLy8gU2hvcnRjdXRzXG5cdCAgICAgICAgICAgIHZhciBkYXRhID0gdGhpcy5fZGF0YTtcblx0ICAgICAgICAgICAgdmFyIGRhdGFXb3JkcyA9IGRhdGEud29yZHM7XG5cdCAgICAgICAgICAgIHZhciBkYXRhU2lnQnl0ZXMgPSBkYXRhLnNpZ0J5dGVzO1xuXHQgICAgICAgICAgICB2YXIgYmxvY2tTaXplID0gdGhpcy5ibG9ja1NpemU7XG5cdCAgICAgICAgICAgIHZhciBibG9ja1NpemVCeXRlcyA9IGJsb2NrU2l6ZSAqIDQ7XG5cblx0ICAgICAgICAgICAgLy8gQ291bnQgYmxvY2tzIHJlYWR5XG5cdCAgICAgICAgICAgIHZhciBuQmxvY2tzUmVhZHkgPSBkYXRhU2lnQnl0ZXMgLyBibG9ja1NpemVCeXRlcztcblx0ICAgICAgICAgICAgaWYgKGRvRmx1c2gpIHtcblx0ICAgICAgICAgICAgICAgIC8vIFJvdW5kIHVwIHRvIGluY2x1ZGUgcGFydGlhbCBibG9ja3Ncblx0ICAgICAgICAgICAgICAgIG5CbG9ja3NSZWFkeSA9IE1hdGguY2VpbChuQmxvY2tzUmVhZHkpO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgLy8gUm91bmQgZG93biB0byBpbmNsdWRlIG9ubHkgZnVsbCBibG9ja3MsXG5cdCAgICAgICAgICAgICAgICAvLyBsZXNzIHRoZSBudW1iZXIgb2YgYmxvY2tzIHRoYXQgbXVzdCByZW1haW4gaW4gdGhlIGJ1ZmZlclxuXHQgICAgICAgICAgICAgICAgbkJsb2Nrc1JlYWR5ID0gTWF0aC5tYXgoKG5CbG9ja3NSZWFkeSB8IDApIC0gdGhpcy5fbWluQnVmZmVyU2l6ZSwgMCk7XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAvLyBDb3VudCB3b3JkcyByZWFkeVxuXHQgICAgICAgICAgICB2YXIgbldvcmRzUmVhZHkgPSBuQmxvY2tzUmVhZHkgKiBibG9ja1NpemU7XG5cblx0ICAgICAgICAgICAgLy8gQ291bnQgYnl0ZXMgcmVhZHlcblx0ICAgICAgICAgICAgdmFyIG5CeXRlc1JlYWR5ID0gTWF0aC5taW4obldvcmRzUmVhZHkgKiA0LCBkYXRhU2lnQnl0ZXMpO1xuXG5cdCAgICAgICAgICAgIC8vIFByb2Nlc3MgYmxvY2tzXG5cdCAgICAgICAgICAgIGlmIChuV29yZHNSZWFkeSkge1xuXHQgICAgICAgICAgICAgICAgZm9yICh2YXIgb2Zmc2V0ID0gMDsgb2Zmc2V0IDwgbldvcmRzUmVhZHk7IG9mZnNldCArPSBibG9ja1NpemUpIHtcblx0ICAgICAgICAgICAgICAgICAgICAvLyBQZXJmb3JtIGNvbmNyZXRlLWFsZ29yaXRobSBsb2dpY1xuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMuX2RvUHJvY2Vzc0Jsb2NrKGRhdGFXb3Jkcywgb2Zmc2V0KTtcblx0ICAgICAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHByb2Nlc3NlZCB3b3Jkc1xuXHQgICAgICAgICAgICAgICAgdmFyIHByb2Nlc3NlZFdvcmRzID0gZGF0YVdvcmRzLnNwbGljZSgwLCBuV29yZHNSZWFkeSk7XG5cdCAgICAgICAgICAgICAgICBkYXRhLnNpZ0J5dGVzIC09IG5CeXRlc1JlYWR5O1xuXHQgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgLy8gUmV0dXJuIHByb2Nlc3NlZCB3b3Jkc1xuXHQgICAgICAgICAgICByZXR1cm4gbmV3IFdvcmRBcnJheS5pbml0KHByb2Nlc3NlZFdvcmRzLCBuQnl0ZXNSZWFkeSk7XG5cdCAgICAgICAgfSxcblxuXHQgICAgICAgIC8qKlxuXHQgICAgICAgICAqIENyZWF0ZXMgYSBjb3B5IG9mIHRoaXMgb2JqZWN0LlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgY2xvbmUuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAZXhhbXBsZVxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogICAgIHZhciBjbG9uZSA9IGJ1ZmZlcmVkQmxvY2tBbGdvcml0aG0uY2xvbmUoKTtcblx0ICAgICAgICAgKi9cblx0ICAgICAgICBjbG9uZTogZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICB2YXIgY2xvbmUgPSBCYXNlLmNsb25lLmNhbGwodGhpcyk7XG5cdCAgICAgICAgICAgIGNsb25lLl9kYXRhID0gdGhpcy5fZGF0YS5jbG9uZSgpO1xuXG5cdCAgICAgICAgICAgIHJldHVybiBjbG9uZTtcblx0ICAgICAgICB9LFxuXG5cdCAgICAgICAgX21pbkJ1ZmZlclNpemU6IDBcblx0ICAgIH0pO1xuXG5cdCAgICAvKipcblx0ICAgICAqIEFic3RyYWN0IGhhc2hlciB0ZW1wbGF0ZS5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJvcGVydHkge251bWJlcn0gYmxvY2tTaXplIFRoZSBudW1iZXIgb2YgMzItYml0IHdvcmRzIHRoaXMgaGFzaGVyIG9wZXJhdGVzIG9uLiBEZWZhdWx0OiAxNiAoNTEyIGJpdHMpXG5cdCAgICAgKi9cblx0ICAgIHZhciBIYXNoZXIgPSBDX2xpYi5IYXNoZXIgPSBCdWZmZXJlZEJsb2NrQWxnb3JpdGhtLmV4dGVuZCh7XG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogQ29uZmlndXJhdGlvbiBvcHRpb25zLlxuXHQgICAgICAgICAqL1xuXHQgICAgICAgIGNmZzogQmFzZS5leHRlbmQoKSxcblxuXHQgICAgICAgIC8qKlxuXHQgICAgICAgICAqIEluaXRpYWxpemVzIGEgbmV3bHkgY3JlYXRlZCBoYXNoZXIuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gY2ZnIChPcHRpb25hbCkgVGhlIGNvbmZpZ3VyYXRpb24gb3B0aW9ucyB0byB1c2UgZm9yIHRoaXMgaGFzaCBjb21wdXRhdGlvbi5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBleGFtcGxlXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiAgICAgdmFyIGhhc2hlciA9IENyeXB0b0pTLmFsZ28uU0hBMjU2LmNyZWF0ZSgpO1xuXHQgICAgICAgICAqL1xuXHQgICAgICAgIGluaXQ6IGZ1bmN0aW9uIChjZmcpIHtcblx0ICAgICAgICAgICAgLy8gQXBwbHkgY29uZmlnIGRlZmF1bHRzXG5cdCAgICAgICAgICAgIHRoaXMuY2ZnID0gdGhpcy5jZmcuZXh0ZW5kKGNmZyk7XG5cblx0ICAgICAgICAgICAgLy8gU2V0IGluaXRpYWwgdmFsdWVzXG5cdCAgICAgICAgICAgIHRoaXMucmVzZXQoKTtcblx0ICAgICAgICB9LFxuXG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogUmVzZXRzIHRoaXMgaGFzaGVyIHRvIGl0cyBpbml0aWFsIHN0YXRlLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQGV4YW1wbGVcblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqICAgICBoYXNoZXIucmVzZXQoKTtcblx0ICAgICAgICAgKi9cblx0ICAgICAgICByZXNldDogZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAvLyBSZXNldCBkYXRhIGJ1ZmZlclxuXHQgICAgICAgICAgICBCdWZmZXJlZEJsb2NrQWxnb3JpdGhtLnJlc2V0LmNhbGwodGhpcyk7XG5cblx0ICAgICAgICAgICAgLy8gUGVyZm9ybSBjb25jcmV0ZS1oYXNoZXIgbG9naWNcblx0ICAgICAgICAgICAgdGhpcy5fZG9SZXNldCgpO1xuXHQgICAgICAgIH0sXG5cblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBVcGRhdGVzIHRoaXMgaGFzaGVyIHdpdGggYSBtZXNzYWdlLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHBhcmFtIHtXb3JkQXJyYXl8c3RyaW5nfSBtZXNzYWdlVXBkYXRlIFRoZSBtZXNzYWdlIHRvIGFwcGVuZC5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEByZXR1cm4ge0hhc2hlcn0gVGhpcyBoYXNoZXIuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAZXhhbXBsZVxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogICAgIGhhc2hlci51cGRhdGUoJ21lc3NhZ2UnKTtcblx0ICAgICAgICAgKiAgICAgaGFzaGVyLnVwZGF0ZSh3b3JkQXJyYXkpO1xuXHQgICAgICAgICAqL1xuXHQgICAgICAgIHVwZGF0ZTogZnVuY3Rpb24gKG1lc3NhZ2VVcGRhdGUpIHtcblx0ICAgICAgICAgICAgLy8gQXBwZW5kXG5cdCAgICAgICAgICAgIHRoaXMuX2FwcGVuZChtZXNzYWdlVXBkYXRlKTtcblxuXHQgICAgICAgICAgICAvLyBVcGRhdGUgdGhlIGhhc2hcblx0ICAgICAgICAgICAgdGhpcy5fcHJvY2VzcygpO1xuXG5cdCAgICAgICAgICAgIC8vIENoYWluYWJsZVxuXHQgICAgICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgICAgICB9LFxuXG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogRmluYWxpemVzIHRoZSBoYXNoIGNvbXB1dGF0aW9uLlxuXHQgICAgICAgICAqIE5vdGUgdGhhdCB0aGUgZmluYWxpemUgb3BlcmF0aW9uIGlzIGVmZmVjdGl2ZWx5IGEgZGVzdHJ1Y3RpdmUsIHJlYWQtb25jZSBvcGVyYXRpb24uXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcGFyYW0ge1dvcmRBcnJheXxzdHJpbmd9IG1lc3NhZ2VVcGRhdGUgKE9wdGlvbmFsKSBBIGZpbmFsIG1lc3NhZ2UgdXBkYXRlLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHJldHVybiB7V29yZEFycmF5fSBUaGUgaGFzaC5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBleGFtcGxlXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiAgICAgdmFyIGhhc2ggPSBoYXNoZXIuZmluYWxpemUoKTtcblx0ICAgICAgICAgKiAgICAgdmFyIGhhc2ggPSBoYXNoZXIuZmluYWxpemUoJ21lc3NhZ2UnKTtcblx0ICAgICAgICAgKiAgICAgdmFyIGhhc2ggPSBoYXNoZXIuZmluYWxpemUod29yZEFycmF5KTtcblx0ICAgICAgICAgKi9cblx0ICAgICAgICBmaW5hbGl6ZTogZnVuY3Rpb24gKG1lc3NhZ2VVcGRhdGUpIHtcblx0ICAgICAgICAgICAgLy8gRmluYWwgbWVzc2FnZSB1cGRhdGVcblx0ICAgICAgICAgICAgaWYgKG1lc3NhZ2VVcGRhdGUpIHtcblx0ICAgICAgICAgICAgICAgIHRoaXMuX2FwcGVuZChtZXNzYWdlVXBkYXRlKTtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIC8vIFBlcmZvcm0gY29uY3JldGUtaGFzaGVyIGxvZ2ljXG5cdCAgICAgICAgICAgIHZhciBoYXNoID0gdGhpcy5fZG9GaW5hbGl6ZSgpO1xuXG5cdCAgICAgICAgICAgIHJldHVybiBoYXNoO1xuXHQgICAgICAgIH0sXG5cblx0ICAgICAgICBibG9ja1NpemU6IDUxMi8zMixcblxuXHQgICAgICAgIC8qKlxuXHQgICAgICAgICAqIENyZWF0ZXMgYSBzaG9ydGN1dCBmdW5jdGlvbiB0byBhIGhhc2hlcidzIG9iamVjdCBpbnRlcmZhY2UuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcGFyYW0ge0hhc2hlcn0gaGFzaGVyIFRoZSBoYXNoZXIgdG8gY3JlYXRlIGEgaGVscGVyIGZvci5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEByZXR1cm4ge0Z1bmN0aW9ufSBUaGUgc2hvcnRjdXQgZnVuY3Rpb24uXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAc3RhdGljXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAZXhhbXBsZVxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogICAgIHZhciBTSEEyNTYgPSBDcnlwdG9KUy5saWIuSGFzaGVyLl9jcmVhdGVIZWxwZXIoQ3J5cHRvSlMuYWxnby5TSEEyNTYpO1xuXHQgICAgICAgICAqL1xuXHQgICAgICAgIF9jcmVhdGVIZWxwZXI6IGZ1bmN0aW9uIChoYXNoZXIpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChtZXNzYWdlLCBjZmcpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBuZXcgaGFzaGVyLmluaXQoY2ZnKS5maW5hbGl6ZShtZXNzYWdlKTtcblx0ICAgICAgICAgICAgfTtcblx0ICAgICAgICB9LFxuXG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogQ3JlYXRlcyBhIHNob3J0Y3V0IGZ1bmN0aW9uIHRvIHRoZSBITUFDJ3Mgb2JqZWN0IGludGVyZmFjZS5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBwYXJhbSB7SGFzaGVyfSBoYXNoZXIgVGhlIGhhc2hlciB0byB1c2UgaW4gdGhpcyBITUFDIGhlbHBlci5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEByZXR1cm4ge0Z1bmN0aW9ufSBUaGUgc2hvcnRjdXQgZnVuY3Rpb24uXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAc3RhdGljXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAZXhhbXBsZVxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogICAgIHZhciBIbWFjU0hBMjU2ID0gQ3J5cHRvSlMubGliLkhhc2hlci5fY3JlYXRlSG1hY0hlbHBlcihDcnlwdG9KUy5hbGdvLlNIQTI1Nik7XG5cdCAgICAgICAgICovXG5cdCAgICAgICAgX2NyZWF0ZUhtYWNIZWxwZXI6IGZ1bmN0aW9uIChoYXNoZXIpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChtZXNzYWdlLCBrZXkpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ19hbGdvLkhNQUMuaW5pdChoYXNoZXIsIGtleSkuZmluYWxpemUobWVzc2FnZSk7XG5cdCAgICAgICAgICAgIH07XG5cdCAgICAgICAgfVxuXHQgICAgfSk7XG5cblx0ICAgIC8qKlxuXHQgICAgICogQWxnb3JpdGhtIG5hbWVzcGFjZS5cblx0ICAgICAqL1xuXHQgICAgdmFyIENfYWxnbyA9IEMuYWxnbyA9IHt9O1xuXG5cdCAgICByZXR1cm4gQztcblx0fShNYXRoKSk7XG5cblxuXHRyZXR1cm4gQ3J5cHRvSlM7XG5cbn0pKTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L2NyeXB0by1qcy9jb3JlLmpzIiwiOyhmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSkge1xuXHRpZiAodHlwZW9mIGV4cG9ydHMgPT09IFwib2JqZWN0XCIpIHtcblx0XHQvLyBDb21tb25KU1xuXHRcdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZShcIi4vY29yZVwiKSk7XG5cdH1cblx0ZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIHtcblx0XHQvLyBBTURcblx0XHRkZWZpbmUoW1wiLi9jb3JlXCJdLCBmYWN0b3J5KTtcblx0fVxuXHRlbHNlIHtcblx0XHQvLyBHbG9iYWwgKGJyb3dzZXIpXG5cdFx0ZmFjdG9yeShyb290LkNyeXB0b0pTKTtcblx0fVxufSh0aGlzLCBmdW5jdGlvbiAoQ3J5cHRvSlMpIHtcblxuXHQvKipcblx0ICogQ2lwaGVyIGNvcmUgY29tcG9uZW50cy5cblx0ICovXG5cdENyeXB0b0pTLmxpYi5DaXBoZXIgfHwgKGZ1bmN0aW9uICh1bmRlZmluZWQpIHtcblx0ICAgIC8vIFNob3J0Y3V0c1xuXHQgICAgdmFyIEMgPSBDcnlwdG9KUztcblx0ICAgIHZhciBDX2xpYiA9IEMubGliO1xuXHQgICAgdmFyIEJhc2UgPSBDX2xpYi5CYXNlO1xuXHQgICAgdmFyIFdvcmRBcnJheSA9IENfbGliLldvcmRBcnJheTtcblx0ICAgIHZhciBCdWZmZXJlZEJsb2NrQWxnb3JpdGhtID0gQ19saWIuQnVmZmVyZWRCbG9ja0FsZ29yaXRobTtcblx0ICAgIHZhciBDX2VuYyA9IEMuZW5jO1xuXHQgICAgdmFyIFV0ZjggPSBDX2VuYy5VdGY4O1xuXHQgICAgdmFyIEJhc2U2NCA9IENfZW5jLkJhc2U2NDtcblx0ICAgIHZhciBDX2FsZ28gPSBDLmFsZ287XG5cdCAgICB2YXIgRXZwS0RGID0gQ19hbGdvLkV2cEtERjtcblxuXHQgICAgLyoqXG5cdCAgICAgKiBBYnN0cmFjdCBiYXNlIGNpcGhlciB0ZW1wbGF0ZS5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJvcGVydHkge251bWJlcn0ga2V5U2l6ZSBUaGlzIGNpcGhlcidzIGtleSBzaXplLiBEZWZhdWx0OiA0ICgxMjggYml0cylcblx0ICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBpdlNpemUgVGhpcyBjaXBoZXIncyBJViBzaXplLiBEZWZhdWx0OiA0ICgxMjggYml0cylcblx0ICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBfRU5DX1hGT1JNX01PREUgQSBjb25zdGFudCByZXByZXNlbnRpbmcgZW5jcnlwdGlvbiBtb2RlLlxuXHQgICAgICogQHByb3BlcnR5IHtudW1iZXJ9IF9ERUNfWEZPUk1fTU9ERSBBIGNvbnN0YW50IHJlcHJlc2VudGluZyBkZWNyeXB0aW9uIG1vZGUuXG5cdCAgICAgKi9cblx0ICAgIHZhciBDaXBoZXIgPSBDX2xpYi5DaXBoZXIgPSBCdWZmZXJlZEJsb2NrQWxnb3JpdGhtLmV4dGVuZCh7XG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogQ29uZmlndXJhdGlvbiBvcHRpb25zLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHByb3BlcnR5IHtXb3JkQXJyYXl9IGl2IFRoZSBJViB0byB1c2UgZm9yIHRoaXMgb3BlcmF0aW9uLlxuXHQgICAgICAgICAqL1xuXHQgICAgICAgIGNmZzogQmFzZS5leHRlbmQoKSxcblxuXHQgICAgICAgIC8qKlxuXHQgICAgICAgICAqIENyZWF0ZXMgdGhpcyBjaXBoZXIgaW4gZW5jcnlwdGlvbiBtb2RlLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHBhcmFtIHtXb3JkQXJyYXl9IGtleSBUaGUga2V5LlxuXHQgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjZmcgKE9wdGlvbmFsKSBUaGUgY29uZmlndXJhdGlvbiBvcHRpb25zIHRvIHVzZSBmb3IgdGhpcyBvcGVyYXRpb24uXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcmV0dXJuIHtDaXBoZXJ9IEEgY2lwaGVyIGluc3RhbmNlLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHN0YXRpY1xuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQGV4YW1wbGVcblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqICAgICB2YXIgY2lwaGVyID0gQ3J5cHRvSlMuYWxnby5BRVMuY3JlYXRlRW5jcnlwdG9yKGtleVdvcmRBcnJheSwgeyBpdjogaXZXb3JkQXJyYXkgfSk7XG5cdCAgICAgICAgICovXG5cdCAgICAgICAgY3JlYXRlRW5jcnlwdG9yOiBmdW5jdGlvbiAoa2V5LCBjZmcpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlKHRoaXMuX0VOQ19YRk9STV9NT0RFLCBrZXksIGNmZyk7XG5cdCAgICAgICAgfSxcblxuXHQgICAgICAgIC8qKlxuXHQgICAgICAgICAqIENyZWF0ZXMgdGhpcyBjaXBoZXIgaW4gZGVjcnlwdGlvbiBtb2RlLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHBhcmFtIHtXb3JkQXJyYXl9IGtleSBUaGUga2V5LlxuXHQgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjZmcgKE9wdGlvbmFsKSBUaGUgY29uZmlndXJhdGlvbiBvcHRpb25zIHRvIHVzZSBmb3IgdGhpcyBvcGVyYXRpb24uXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcmV0dXJuIHtDaXBoZXJ9IEEgY2lwaGVyIGluc3RhbmNlLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHN0YXRpY1xuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQGV4YW1wbGVcblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqICAgICB2YXIgY2lwaGVyID0gQ3J5cHRvSlMuYWxnby5BRVMuY3JlYXRlRGVjcnlwdG9yKGtleVdvcmRBcnJheSwgeyBpdjogaXZXb3JkQXJyYXkgfSk7XG5cdCAgICAgICAgICovXG5cdCAgICAgICAgY3JlYXRlRGVjcnlwdG9yOiBmdW5jdGlvbiAoa2V5LCBjZmcpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlKHRoaXMuX0RFQ19YRk9STV9NT0RFLCBrZXksIGNmZyk7XG5cdCAgICAgICAgfSxcblxuXHQgICAgICAgIC8qKlxuXHQgICAgICAgICAqIEluaXRpYWxpemVzIGEgbmV3bHkgY3JlYXRlZCBjaXBoZXIuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0geGZvcm1Nb2RlIEVpdGhlciB0aGUgZW5jcnlwdGlvbiBvciBkZWNyeXB0aW9uIHRyYW5zb3JtYXRpb24gbW9kZSBjb25zdGFudC5cblx0ICAgICAgICAgKiBAcGFyYW0ge1dvcmRBcnJheX0ga2V5IFRoZSBrZXkuXG5cdCAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGNmZyAoT3B0aW9uYWwpIFRoZSBjb25maWd1cmF0aW9uIG9wdGlvbnMgdG8gdXNlIGZvciB0aGlzIG9wZXJhdGlvbi5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBleGFtcGxlXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiAgICAgdmFyIGNpcGhlciA9IENyeXB0b0pTLmFsZ28uQUVTLmNyZWF0ZShDcnlwdG9KUy5hbGdvLkFFUy5fRU5DX1hGT1JNX01PREUsIGtleVdvcmRBcnJheSwgeyBpdjogaXZXb3JkQXJyYXkgfSk7XG5cdCAgICAgICAgICovXG5cdCAgICAgICAgaW5pdDogZnVuY3Rpb24gKHhmb3JtTW9kZSwga2V5LCBjZmcpIHtcblx0ICAgICAgICAgICAgLy8gQXBwbHkgY29uZmlnIGRlZmF1bHRzXG5cdCAgICAgICAgICAgIHRoaXMuY2ZnID0gdGhpcy5jZmcuZXh0ZW5kKGNmZyk7XG5cblx0ICAgICAgICAgICAgLy8gU3RvcmUgdHJhbnNmb3JtIG1vZGUgYW5kIGtleVxuXHQgICAgICAgICAgICB0aGlzLl94Zm9ybU1vZGUgPSB4Zm9ybU1vZGU7XG5cdCAgICAgICAgICAgIHRoaXMuX2tleSA9IGtleTtcblxuXHQgICAgICAgICAgICAvLyBTZXQgaW5pdGlhbCB2YWx1ZXNcblx0ICAgICAgICAgICAgdGhpcy5yZXNldCgpO1xuXHQgICAgICAgIH0sXG5cblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBSZXNldHMgdGhpcyBjaXBoZXIgdG8gaXRzIGluaXRpYWwgc3RhdGUuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAZXhhbXBsZVxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogICAgIGNpcGhlci5yZXNldCgpO1xuXHQgICAgICAgICAqL1xuXHQgICAgICAgIHJlc2V0OiBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIC8vIFJlc2V0IGRhdGEgYnVmZmVyXG5cdCAgICAgICAgICAgIEJ1ZmZlcmVkQmxvY2tBbGdvcml0aG0ucmVzZXQuY2FsbCh0aGlzKTtcblxuXHQgICAgICAgICAgICAvLyBQZXJmb3JtIGNvbmNyZXRlLWNpcGhlciBsb2dpY1xuXHQgICAgICAgICAgICB0aGlzLl9kb1Jlc2V0KCk7XG5cdCAgICAgICAgfSxcblxuXHQgICAgICAgIC8qKlxuXHQgICAgICAgICAqIEFkZHMgZGF0YSB0byBiZSBlbmNyeXB0ZWQgb3IgZGVjcnlwdGVkLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHBhcmFtIHtXb3JkQXJyYXl8c3RyaW5nfSBkYXRhVXBkYXRlIFRoZSBkYXRhIHRvIGVuY3J5cHQgb3IgZGVjcnlwdC5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEByZXR1cm4ge1dvcmRBcnJheX0gVGhlIGRhdGEgYWZ0ZXIgcHJvY2Vzc2luZy5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBleGFtcGxlXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiAgICAgdmFyIGVuY3J5cHRlZCA9IGNpcGhlci5wcm9jZXNzKCdkYXRhJyk7XG5cdCAgICAgICAgICogICAgIHZhciBlbmNyeXB0ZWQgPSBjaXBoZXIucHJvY2Vzcyh3b3JkQXJyYXkpO1xuXHQgICAgICAgICAqL1xuXHQgICAgICAgIHByb2Nlc3M6IGZ1bmN0aW9uIChkYXRhVXBkYXRlKSB7XG5cdCAgICAgICAgICAgIC8vIEFwcGVuZFxuXHQgICAgICAgICAgICB0aGlzLl9hcHBlbmQoZGF0YVVwZGF0ZSk7XG5cblx0ICAgICAgICAgICAgLy8gUHJvY2VzcyBhdmFpbGFibGUgYmxvY2tzXG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLl9wcm9jZXNzKCk7XG5cdCAgICAgICAgfSxcblxuXHQgICAgICAgIC8qKlxuXHQgICAgICAgICAqIEZpbmFsaXplcyB0aGUgZW5jcnlwdGlvbiBvciBkZWNyeXB0aW9uIHByb2Nlc3MuXG5cdCAgICAgICAgICogTm90ZSB0aGF0IHRoZSBmaW5hbGl6ZSBvcGVyYXRpb24gaXMgZWZmZWN0aXZlbHkgYSBkZXN0cnVjdGl2ZSwgcmVhZC1vbmNlIG9wZXJhdGlvbi5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBwYXJhbSB7V29yZEFycmF5fHN0cmluZ30gZGF0YVVwZGF0ZSBUaGUgZmluYWwgZGF0YSB0byBlbmNyeXB0IG9yIGRlY3J5cHQuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcmV0dXJuIHtXb3JkQXJyYXl9IFRoZSBkYXRhIGFmdGVyIGZpbmFsIHByb2Nlc3NpbmcuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAZXhhbXBsZVxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogICAgIHZhciBlbmNyeXB0ZWQgPSBjaXBoZXIuZmluYWxpemUoKTtcblx0ICAgICAgICAgKiAgICAgdmFyIGVuY3J5cHRlZCA9IGNpcGhlci5maW5hbGl6ZSgnZGF0YScpO1xuXHQgICAgICAgICAqICAgICB2YXIgZW5jcnlwdGVkID0gY2lwaGVyLmZpbmFsaXplKHdvcmRBcnJheSk7XG5cdCAgICAgICAgICovXG5cdCAgICAgICAgZmluYWxpemU6IGZ1bmN0aW9uIChkYXRhVXBkYXRlKSB7XG5cdCAgICAgICAgICAgIC8vIEZpbmFsIGRhdGEgdXBkYXRlXG5cdCAgICAgICAgICAgIGlmIChkYXRhVXBkYXRlKSB7XG5cdCAgICAgICAgICAgICAgICB0aGlzLl9hcHBlbmQoZGF0YVVwZGF0ZSk7XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAvLyBQZXJmb3JtIGNvbmNyZXRlLWNpcGhlciBsb2dpY1xuXHQgICAgICAgICAgICB2YXIgZmluYWxQcm9jZXNzZWREYXRhID0gdGhpcy5fZG9GaW5hbGl6ZSgpO1xuXG5cdCAgICAgICAgICAgIHJldHVybiBmaW5hbFByb2Nlc3NlZERhdGE7XG5cdCAgICAgICAgfSxcblxuXHQgICAgICAgIGtleVNpemU6IDEyOC8zMixcblxuXHQgICAgICAgIGl2U2l6ZTogMTI4LzMyLFxuXG5cdCAgICAgICAgX0VOQ19YRk9STV9NT0RFOiAxLFxuXG5cdCAgICAgICAgX0RFQ19YRk9STV9NT0RFOiAyLFxuXG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogQ3JlYXRlcyBzaG9ydGN1dCBmdW5jdGlvbnMgdG8gYSBjaXBoZXIncyBvYmplY3QgaW50ZXJmYWNlLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHBhcmFtIHtDaXBoZXJ9IGNpcGhlciBUaGUgY2lwaGVyIHRvIGNyZWF0ZSBhIGhlbHBlciBmb3IuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcmV0dXJuIHtPYmplY3R9IEFuIG9iamVjdCB3aXRoIGVuY3J5cHQgYW5kIGRlY3J5cHQgc2hvcnRjdXQgZnVuY3Rpb25zLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHN0YXRpY1xuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQGV4YW1wbGVcblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqICAgICB2YXIgQUVTID0gQ3J5cHRvSlMubGliLkNpcGhlci5fY3JlYXRlSGVscGVyKENyeXB0b0pTLmFsZ28uQUVTKTtcblx0ICAgICAgICAgKi9cblx0ICAgICAgICBfY3JlYXRlSGVscGVyOiAoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICBmdW5jdGlvbiBzZWxlY3RDaXBoZXJTdHJhdGVneShrZXkpIHtcblx0ICAgICAgICAgICAgICAgIGlmICh0eXBlb2Yga2V5ID09ICdzdHJpbmcnKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFBhc3N3b3JkQmFzZWRDaXBoZXI7XG5cdCAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiBTZXJpYWxpemFibGVDaXBoZXI7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGNpcGhlcikge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHtcblx0ICAgICAgICAgICAgICAgICAgICBlbmNyeXB0OiBmdW5jdGlvbiAobWVzc2FnZSwga2V5LCBjZmcpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlbGVjdENpcGhlclN0cmF0ZWd5KGtleSkuZW5jcnlwdChjaXBoZXIsIG1lc3NhZ2UsIGtleSwgY2ZnKTtcblx0ICAgICAgICAgICAgICAgICAgICB9LFxuXG5cdCAgICAgICAgICAgICAgICAgICAgZGVjcnlwdDogZnVuY3Rpb24gKGNpcGhlcnRleHQsIGtleSwgY2ZnKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzZWxlY3RDaXBoZXJTdHJhdGVneShrZXkpLmRlY3J5cHQoY2lwaGVyLCBjaXBoZXJ0ZXh0LCBrZXksIGNmZyk7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfTtcblx0ICAgICAgICAgICAgfTtcblx0ICAgICAgICB9KCkpXG5cdCAgICB9KTtcblxuXHQgICAgLyoqXG5cdCAgICAgKiBBYnN0cmFjdCBiYXNlIHN0cmVhbSBjaXBoZXIgdGVtcGxhdGUuXG5cdCAgICAgKlxuXHQgICAgICogQHByb3BlcnR5IHtudW1iZXJ9IGJsb2NrU2l6ZSBUaGUgbnVtYmVyIG9mIDMyLWJpdCB3b3JkcyB0aGlzIGNpcGhlciBvcGVyYXRlcyBvbi4gRGVmYXVsdDogMSAoMzIgYml0cylcblx0ICAgICAqL1xuXHQgICAgdmFyIFN0cmVhbUNpcGhlciA9IENfbGliLlN0cmVhbUNpcGhlciA9IENpcGhlci5leHRlbmQoe1xuXHQgICAgICAgIF9kb0ZpbmFsaXplOiBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIC8vIFByb2Nlc3MgcGFydGlhbCBibG9ja3Ncblx0ICAgICAgICAgICAgdmFyIGZpbmFsUHJvY2Vzc2VkQmxvY2tzID0gdGhpcy5fcHJvY2VzcyghISdmbHVzaCcpO1xuXG5cdCAgICAgICAgICAgIHJldHVybiBmaW5hbFByb2Nlc3NlZEJsb2Nrcztcblx0ICAgICAgICB9LFxuXG5cdCAgICAgICAgYmxvY2tTaXplOiAxXG5cdCAgICB9KTtcblxuXHQgICAgLyoqXG5cdCAgICAgKiBNb2RlIG5hbWVzcGFjZS5cblx0ICAgICAqL1xuXHQgICAgdmFyIENfbW9kZSA9IEMubW9kZSA9IHt9O1xuXG5cdCAgICAvKipcblx0ICAgICAqIEFic3RyYWN0IGJhc2UgYmxvY2sgY2lwaGVyIG1vZGUgdGVtcGxhdGUuXG5cdCAgICAgKi9cblx0ICAgIHZhciBCbG9ja0NpcGhlck1vZGUgPSBDX2xpYi5CbG9ja0NpcGhlck1vZGUgPSBCYXNlLmV4dGVuZCh7XG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogQ3JlYXRlcyB0aGlzIG1vZGUgZm9yIGVuY3J5cHRpb24uXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcGFyYW0ge0NpcGhlcn0gY2lwaGVyIEEgYmxvY2sgY2lwaGVyIGluc3RhbmNlLlxuXHQgICAgICAgICAqIEBwYXJhbSB7QXJyYXl9IGl2IFRoZSBJViB3b3Jkcy5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBzdGF0aWNcblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBleGFtcGxlXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiAgICAgdmFyIG1vZGUgPSBDcnlwdG9KUy5tb2RlLkNCQy5jcmVhdGVFbmNyeXB0b3IoY2lwaGVyLCBpdi53b3Jkcyk7XG5cdCAgICAgICAgICovXG5cdCAgICAgICAgY3JlYXRlRW5jcnlwdG9yOiBmdW5jdGlvbiAoY2lwaGVyLCBpdikge1xuXHQgICAgICAgICAgICByZXR1cm4gdGhpcy5FbmNyeXB0b3IuY3JlYXRlKGNpcGhlciwgaXYpO1xuXHQgICAgICAgIH0sXG5cblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBDcmVhdGVzIHRoaXMgbW9kZSBmb3IgZGVjcnlwdGlvbi5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBwYXJhbSB7Q2lwaGVyfSBjaXBoZXIgQSBibG9jayBjaXBoZXIgaW5zdGFuY2UuXG5cdCAgICAgICAgICogQHBhcmFtIHtBcnJheX0gaXYgVGhlIElWIHdvcmRzLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHN0YXRpY1xuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQGV4YW1wbGVcblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqICAgICB2YXIgbW9kZSA9IENyeXB0b0pTLm1vZGUuQ0JDLmNyZWF0ZURlY3J5cHRvcihjaXBoZXIsIGl2LndvcmRzKTtcblx0ICAgICAgICAgKi9cblx0ICAgICAgICBjcmVhdGVEZWNyeXB0b3I6IGZ1bmN0aW9uIChjaXBoZXIsIGl2KSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLkRlY3J5cHRvci5jcmVhdGUoY2lwaGVyLCBpdik7XG5cdCAgICAgICAgfSxcblxuXHQgICAgICAgIC8qKlxuXHQgICAgICAgICAqIEluaXRpYWxpemVzIGEgbmV3bHkgY3JlYXRlZCBtb2RlLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHBhcmFtIHtDaXBoZXJ9IGNpcGhlciBBIGJsb2NrIGNpcGhlciBpbnN0YW5jZS5cblx0ICAgICAgICAgKiBAcGFyYW0ge0FycmF5fSBpdiBUaGUgSVYgd29yZHMuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAZXhhbXBsZVxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogICAgIHZhciBtb2RlID0gQ3J5cHRvSlMubW9kZS5DQkMuRW5jcnlwdG9yLmNyZWF0ZShjaXBoZXIsIGl2LndvcmRzKTtcblx0ICAgICAgICAgKi9cblx0ICAgICAgICBpbml0OiBmdW5jdGlvbiAoY2lwaGVyLCBpdikge1xuXHQgICAgICAgICAgICB0aGlzLl9jaXBoZXIgPSBjaXBoZXI7XG5cdCAgICAgICAgICAgIHRoaXMuX2l2ID0gaXY7XG5cdCAgICAgICAgfVxuXHQgICAgfSk7XG5cblx0ICAgIC8qKlxuXHQgICAgICogQ2lwaGVyIEJsb2NrIENoYWluaW5nIG1vZGUuXG5cdCAgICAgKi9cblx0ICAgIHZhciBDQkMgPSBDX21vZGUuQ0JDID0gKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBBYnN0cmFjdCBiYXNlIENCQyBtb2RlLlxuXHQgICAgICAgICAqL1xuXHQgICAgICAgIHZhciBDQkMgPSBCbG9ja0NpcGhlck1vZGUuZXh0ZW5kKCk7XG5cblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBDQkMgZW5jcnlwdG9yLlxuXHQgICAgICAgICAqL1xuXHQgICAgICAgIENCQy5FbmNyeXB0b3IgPSBDQkMuZXh0ZW5kKHtcblx0ICAgICAgICAgICAgLyoqXG5cdCAgICAgICAgICAgICAqIFByb2Nlc3NlcyB0aGUgZGF0YSBibG9jayBhdCBvZmZzZXQuXG5cdCAgICAgICAgICAgICAqXG5cdCAgICAgICAgICAgICAqIEBwYXJhbSB7QXJyYXl9IHdvcmRzIFRoZSBkYXRhIHdvcmRzIHRvIG9wZXJhdGUgb24uXG5cdCAgICAgICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgVGhlIG9mZnNldCB3aGVyZSB0aGUgYmxvY2sgc3RhcnRzLlxuXHQgICAgICAgICAgICAgKlxuXHQgICAgICAgICAgICAgKiBAZXhhbXBsZVxuXHQgICAgICAgICAgICAgKlxuXHQgICAgICAgICAgICAgKiAgICAgbW9kZS5wcm9jZXNzQmxvY2soZGF0YS53b3Jkcywgb2Zmc2V0KTtcblx0ICAgICAgICAgICAgICovXG5cdCAgICAgICAgICAgIHByb2Nlc3NCbG9jazogZnVuY3Rpb24gKHdvcmRzLCBvZmZzZXQpIHtcblx0ICAgICAgICAgICAgICAgIC8vIFNob3J0Y3V0c1xuXHQgICAgICAgICAgICAgICAgdmFyIGNpcGhlciA9IHRoaXMuX2NpcGhlcjtcblx0ICAgICAgICAgICAgICAgIHZhciBibG9ja1NpemUgPSBjaXBoZXIuYmxvY2tTaXplO1xuXG5cdCAgICAgICAgICAgICAgICAvLyBYT1IgYW5kIGVuY3J5cHRcblx0ICAgICAgICAgICAgICAgIHhvckJsb2NrLmNhbGwodGhpcywgd29yZHMsIG9mZnNldCwgYmxvY2tTaXplKTtcblx0ICAgICAgICAgICAgICAgIGNpcGhlci5lbmNyeXB0QmxvY2sod29yZHMsIG9mZnNldCk7XG5cblx0ICAgICAgICAgICAgICAgIC8vIFJlbWVtYmVyIHRoaXMgYmxvY2sgdG8gdXNlIHdpdGggbmV4dCBibG9ja1xuXHQgICAgICAgICAgICAgICAgdGhpcy5fcHJldkJsb2NrID0gd29yZHMuc2xpY2Uob2Zmc2V0LCBvZmZzZXQgKyBibG9ja1NpemUpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfSk7XG5cblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBDQkMgZGVjcnlwdG9yLlxuXHQgICAgICAgICAqL1xuXHQgICAgICAgIENCQy5EZWNyeXB0b3IgPSBDQkMuZXh0ZW5kKHtcblx0ICAgICAgICAgICAgLyoqXG5cdCAgICAgICAgICAgICAqIFByb2Nlc3NlcyB0aGUgZGF0YSBibG9jayBhdCBvZmZzZXQuXG5cdCAgICAgICAgICAgICAqXG5cdCAgICAgICAgICAgICAqIEBwYXJhbSB7QXJyYXl9IHdvcmRzIFRoZSBkYXRhIHdvcmRzIHRvIG9wZXJhdGUgb24uXG5cdCAgICAgICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgVGhlIG9mZnNldCB3aGVyZSB0aGUgYmxvY2sgc3RhcnRzLlxuXHQgICAgICAgICAgICAgKlxuXHQgICAgICAgICAgICAgKiBAZXhhbXBsZVxuXHQgICAgICAgICAgICAgKlxuXHQgICAgICAgICAgICAgKiAgICAgbW9kZS5wcm9jZXNzQmxvY2soZGF0YS53b3Jkcywgb2Zmc2V0KTtcblx0ICAgICAgICAgICAgICovXG5cdCAgICAgICAgICAgIHByb2Nlc3NCbG9jazogZnVuY3Rpb24gKHdvcmRzLCBvZmZzZXQpIHtcblx0ICAgICAgICAgICAgICAgIC8vIFNob3J0Y3V0c1xuXHQgICAgICAgICAgICAgICAgdmFyIGNpcGhlciA9IHRoaXMuX2NpcGhlcjtcblx0ICAgICAgICAgICAgICAgIHZhciBibG9ja1NpemUgPSBjaXBoZXIuYmxvY2tTaXplO1xuXG5cdCAgICAgICAgICAgICAgICAvLyBSZW1lbWJlciB0aGlzIGJsb2NrIHRvIHVzZSB3aXRoIG5leHQgYmxvY2tcblx0ICAgICAgICAgICAgICAgIHZhciB0aGlzQmxvY2sgPSB3b3Jkcy5zbGljZShvZmZzZXQsIG9mZnNldCArIGJsb2NrU2l6ZSk7XG5cblx0ICAgICAgICAgICAgICAgIC8vIERlY3J5cHQgYW5kIFhPUlxuXHQgICAgICAgICAgICAgICAgY2lwaGVyLmRlY3J5cHRCbG9jayh3b3Jkcywgb2Zmc2V0KTtcblx0ICAgICAgICAgICAgICAgIHhvckJsb2NrLmNhbGwodGhpcywgd29yZHMsIG9mZnNldCwgYmxvY2tTaXplKTtcblxuXHQgICAgICAgICAgICAgICAgLy8gVGhpcyBibG9jayBiZWNvbWVzIHRoZSBwcmV2aW91cyBibG9ja1xuXHQgICAgICAgICAgICAgICAgdGhpcy5fcHJldkJsb2NrID0gdGhpc0Jsb2NrO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfSk7XG5cblx0ICAgICAgICBmdW5jdGlvbiB4b3JCbG9jayh3b3Jkcywgb2Zmc2V0LCBibG9ja1NpemUpIHtcblx0ICAgICAgICAgICAgLy8gU2hvcnRjdXRcblx0ICAgICAgICAgICAgdmFyIGl2ID0gdGhpcy5faXY7XG5cblx0ICAgICAgICAgICAgLy8gQ2hvb3NlIG1peGluZyBibG9ja1xuXHQgICAgICAgICAgICBpZiAoaXYpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBibG9jayA9IGl2O1xuXG5cdCAgICAgICAgICAgICAgICAvLyBSZW1vdmUgSVYgZm9yIHN1YnNlcXVlbnQgYmxvY2tzXG5cdCAgICAgICAgICAgICAgICB0aGlzLl9pdiA9IHVuZGVmaW5lZDtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIHZhciBibG9jayA9IHRoaXMuX3ByZXZCbG9jaztcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIC8vIFhPUiBibG9ja3Ncblx0ICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBibG9ja1NpemU7IGkrKykge1xuXHQgICAgICAgICAgICAgICAgd29yZHNbb2Zmc2V0ICsgaV0gXj0gYmxvY2tbaV07XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cblx0ICAgICAgICByZXR1cm4gQ0JDO1xuXHQgICAgfSgpKTtcblxuXHQgICAgLyoqXG5cdCAgICAgKiBQYWRkaW5nIG5hbWVzcGFjZS5cblx0ICAgICAqL1xuXHQgICAgdmFyIENfcGFkID0gQy5wYWQgPSB7fTtcblxuXHQgICAgLyoqXG5cdCAgICAgKiBQS0NTICM1LzcgcGFkZGluZyBzdHJhdGVneS5cblx0ICAgICAqL1xuXHQgICAgdmFyIFBrY3M3ID0gQ19wYWQuUGtjczcgPSB7XG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogUGFkcyBkYXRhIHVzaW5nIHRoZSBhbGdvcml0aG0gZGVmaW5lZCBpbiBQS0NTICM1LzcuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcGFyYW0ge1dvcmRBcnJheX0gZGF0YSBUaGUgZGF0YSB0byBwYWQuXG5cdCAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IGJsb2NrU2l6ZSBUaGUgbXVsdGlwbGUgdGhhdCB0aGUgZGF0YSBzaG91bGQgYmUgcGFkZGVkIHRvLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHN0YXRpY1xuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQGV4YW1wbGVcblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqICAgICBDcnlwdG9KUy5wYWQuUGtjczcucGFkKHdvcmRBcnJheSwgNCk7XG5cdCAgICAgICAgICovXG5cdCAgICAgICAgcGFkOiBmdW5jdGlvbiAoZGF0YSwgYmxvY2tTaXplKSB7XG5cdCAgICAgICAgICAgIC8vIFNob3J0Y3V0XG5cdCAgICAgICAgICAgIHZhciBibG9ja1NpemVCeXRlcyA9IGJsb2NrU2l6ZSAqIDQ7XG5cblx0ICAgICAgICAgICAgLy8gQ291bnQgcGFkZGluZyBieXRlc1xuXHQgICAgICAgICAgICB2YXIgblBhZGRpbmdCeXRlcyA9IGJsb2NrU2l6ZUJ5dGVzIC0gZGF0YS5zaWdCeXRlcyAlIGJsb2NrU2l6ZUJ5dGVzO1xuXG5cdCAgICAgICAgICAgIC8vIENyZWF0ZSBwYWRkaW5nIHdvcmRcblx0ICAgICAgICAgICAgdmFyIHBhZGRpbmdXb3JkID0gKG5QYWRkaW5nQnl0ZXMgPDwgMjQpIHwgKG5QYWRkaW5nQnl0ZXMgPDwgMTYpIHwgKG5QYWRkaW5nQnl0ZXMgPDwgOCkgfCBuUGFkZGluZ0J5dGVzO1xuXG5cdCAgICAgICAgICAgIC8vIENyZWF0ZSBwYWRkaW5nXG5cdCAgICAgICAgICAgIHZhciBwYWRkaW5nV29yZHMgPSBbXTtcblx0ICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuUGFkZGluZ0J5dGVzOyBpICs9IDQpIHtcblx0ICAgICAgICAgICAgICAgIHBhZGRpbmdXb3Jkcy5wdXNoKHBhZGRpbmdXb3JkKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB2YXIgcGFkZGluZyA9IFdvcmRBcnJheS5jcmVhdGUocGFkZGluZ1dvcmRzLCBuUGFkZGluZ0J5dGVzKTtcblxuXHQgICAgICAgICAgICAvLyBBZGQgcGFkZGluZ1xuXHQgICAgICAgICAgICBkYXRhLmNvbmNhdChwYWRkaW5nKTtcblx0ICAgICAgICB9LFxuXG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogVW5wYWRzIGRhdGEgdGhhdCBoYWQgYmVlbiBwYWRkZWQgdXNpbmcgdGhlIGFsZ29yaXRobSBkZWZpbmVkIGluIFBLQ1MgIzUvNy5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBwYXJhbSB7V29yZEFycmF5fSBkYXRhIFRoZSBkYXRhIHRvIHVucGFkLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHN0YXRpY1xuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQGV4YW1wbGVcblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqICAgICBDcnlwdG9KUy5wYWQuUGtjczcudW5wYWQod29yZEFycmF5KTtcblx0ICAgICAgICAgKi9cblx0ICAgICAgICB1bnBhZDogZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgICAgICAgLy8gR2V0IG51bWJlciBvZiBwYWRkaW5nIGJ5dGVzIGZyb20gbGFzdCBieXRlXG5cdCAgICAgICAgICAgIHZhciBuUGFkZGluZ0J5dGVzID0gZGF0YS53b3Jkc1soZGF0YS5zaWdCeXRlcyAtIDEpID4+PiAyXSAmIDB4ZmY7XG5cblx0ICAgICAgICAgICAgLy8gUmVtb3ZlIHBhZGRpbmdcblx0ICAgICAgICAgICAgZGF0YS5zaWdCeXRlcyAtPSBuUGFkZGluZ0J5dGVzO1xuXHQgICAgICAgIH1cblx0ICAgIH07XG5cblx0ICAgIC8qKlxuXHQgICAgICogQWJzdHJhY3QgYmFzZSBibG9jayBjaXBoZXIgdGVtcGxhdGUuXG5cdCAgICAgKlxuXHQgICAgICogQHByb3BlcnR5IHtudW1iZXJ9IGJsb2NrU2l6ZSBUaGUgbnVtYmVyIG9mIDMyLWJpdCB3b3JkcyB0aGlzIGNpcGhlciBvcGVyYXRlcyBvbi4gRGVmYXVsdDogNCAoMTI4IGJpdHMpXG5cdCAgICAgKi9cblx0ICAgIHZhciBCbG9ja0NpcGhlciA9IENfbGliLkJsb2NrQ2lwaGVyID0gQ2lwaGVyLmV4dGVuZCh7XG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogQ29uZmlndXJhdGlvbiBvcHRpb25zLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHByb3BlcnR5IHtNb2RlfSBtb2RlIFRoZSBibG9jayBtb2RlIHRvIHVzZS4gRGVmYXVsdDogQ0JDXG5cdCAgICAgICAgICogQHByb3BlcnR5IHtQYWRkaW5nfSBwYWRkaW5nIFRoZSBwYWRkaW5nIHN0cmF0ZWd5IHRvIHVzZS4gRGVmYXVsdDogUGtjczdcblx0ICAgICAgICAgKi9cblx0ICAgICAgICBjZmc6IENpcGhlci5jZmcuZXh0ZW5kKHtcblx0ICAgICAgICAgICAgbW9kZTogQ0JDLFxuXHQgICAgICAgICAgICBwYWRkaW5nOiBQa2NzN1xuXHQgICAgICAgIH0pLFxuXG5cdCAgICAgICAgcmVzZXQ6IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgLy8gUmVzZXQgY2lwaGVyXG5cdCAgICAgICAgICAgIENpcGhlci5yZXNldC5jYWxsKHRoaXMpO1xuXG5cdCAgICAgICAgICAgIC8vIFNob3J0Y3V0c1xuXHQgICAgICAgICAgICB2YXIgY2ZnID0gdGhpcy5jZmc7XG5cdCAgICAgICAgICAgIHZhciBpdiA9IGNmZy5pdjtcblx0ICAgICAgICAgICAgdmFyIG1vZGUgPSBjZmcubW9kZTtcblxuXHQgICAgICAgICAgICAvLyBSZXNldCBibG9jayBtb2RlXG5cdCAgICAgICAgICAgIGlmICh0aGlzLl94Zm9ybU1vZGUgPT0gdGhpcy5fRU5DX1hGT1JNX01PREUpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBtb2RlQ3JlYXRvciA9IG1vZGUuY3JlYXRlRW5jcnlwdG9yO1xuXHQgICAgICAgICAgICB9IGVsc2UgLyogaWYgKHRoaXMuX3hmb3JtTW9kZSA9PSB0aGlzLl9ERUNfWEZPUk1fTU9ERSkgKi8ge1xuXHQgICAgICAgICAgICAgICAgdmFyIG1vZGVDcmVhdG9yID0gbW9kZS5jcmVhdGVEZWNyeXB0b3I7XG5cblx0ICAgICAgICAgICAgICAgIC8vIEtlZXAgYXQgbGVhc3Qgb25lIGJsb2NrIGluIHRoZSBidWZmZXIgZm9yIHVucGFkZGluZ1xuXHQgICAgICAgICAgICAgICAgdGhpcy5fbWluQnVmZmVyU2l6ZSA9IDE7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgdGhpcy5fbW9kZSA9IG1vZGVDcmVhdG9yLmNhbGwobW9kZSwgdGhpcywgaXYgJiYgaXYud29yZHMpO1xuXHQgICAgICAgIH0sXG5cblx0ICAgICAgICBfZG9Qcm9jZXNzQmxvY2s6IGZ1bmN0aW9uICh3b3Jkcywgb2Zmc2V0KSB7XG5cdCAgICAgICAgICAgIHRoaXMuX21vZGUucHJvY2Vzc0Jsb2NrKHdvcmRzLCBvZmZzZXQpO1xuXHQgICAgICAgIH0sXG5cblx0ICAgICAgICBfZG9GaW5hbGl6ZTogZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAvLyBTaG9ydGN1dFxuXHQgICAgICAgICAgICB2YXIgcGFkZGluZyA9IHRoaXMuY2ZnLnBhZGRpbmc7XG5cblx0ICAgICAgICAgICAgLy8gRmluYWxpemVcblx0ICAgICAgICAgICAgaWYgKHRoaXMuX3hmb3JtTW9kZSA9PSB0aGlzLl9FTkNfWEZPUk1fTU9ERSkge1xuXHQgICAgICAgICAgICAgICAgLy8gUGFkIGRhdGFcblx0ICAgICAgICAgICAgICAgIHBhZGRpbmcucGFkKHRoaXMuX2RhdGEsIHRoaXMuYmxvY2tTaXplKTtcblxuXHQgICAgICAgICAgICAgICAgLy8gUHJvY2VzcyBmaW5hbCBibG9ja3Ncblx0ICAgICAgICAgICAgICAgIHZhciBmaW5hbFByb2Nlc3NlZEJsb2NrcyA9IHRoaXMuX3Byb2Nlc3MoISEnZmx1c2gnKTtcblx0ICAgICAgICAgICAgfSBlbHNlIC8qIGlmICh0aGlzLl94Zm9ybU1vZGUgPT0gdGhpcy5fREVDX1hGT1JNX01PREUpICovIHtcblx0ICAgICAgICAgICAgICAgIC8vIFByb2Nlc3MgZmluYWwgYmxvY2tzXG5cdCAgICAgICAgICAgICAgICB2YXIgZmluYWxQcm9jZXNzZWRCbG9ja3MgPSB0aGlzLl9wcm9jZXNzKCEhJ2ZsdXNoJyk7XG5cblx0ICAgICAgICAgICAgICAgIC8vIFVucGFkIGRhdGFcblx0ICAgICAgICAgICAgICAgIHBhZGRpbmcudW5wYWQoZmluYWxQcm9jZXNzZWRCbG9ja3MpO1xuXHQgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgcmV0dXJuIGZpbmFsUHJvY2Vzc2VkQmxvY2tzO1xuXHQgICAgICAgIH0sXG5cblx0ICAgICAgICBibG9ja1NpemU6IDEyOC8zMlxuXHQgICAgfSk7XG5cblx0ICAgIC8qKlxuXHQgICAgICogQSBjb2xsZWN0aW9uIG9mIGNpcGhlciBwYXJhbWV0ZXJzLlxuXHQgICAgICpcblx0ICAgICAqIEBwcm9wZXJ0eSB7V29yZEFycmF5fSBjaXBoZXJ0ZXh0IFRoZSByYXcgY2lwaGVydGV4dC5cblx0ICAgICAqIEBwcm9wZXJ0eSB7V29yZEFycmF5fSBrZXkgVGhlIGtleSB0byB0aGlzIGNpcGhlcnRleHQuXG5cdCAgICAgKiBAcHJvcGVydHkge1dvcmRBcnJheX0gaXYgVGhlIElWIHVzZWQgaW4gdGhlIGNpcGhlcmluZyBvcGVyYXRpb24uXG5cdCAgICAgKiBAcHJvcGVydHkge1dvcmRBcnJheX0gc2FsdCBUaGUgc2FsdCB1c2VkIHdpdGggYSBrZXkgZGVyaXZhdGlvbiBmdW5jdGlvbi5cblx0ICAgICAqIEBwcm9wZXJ0eSB7Q2lwaGVyfSBhbGdvcml0aG0gVGhlIGNpcGhlciBhbGdvcml0aG0uXG5cdCAgICAgKiBAcHJvcGVydHkge01vZGV9IG1vZGUgVGhlIGJsb2NrIG1vZGUgdXNlZCBpbiB0aGUgY2lwaGVyaW5nIG9wZXJhdGlvbi5cblx0ICAgICAqIEBwcm9wZXJ0eSB7UGFkZGluZ30gcGFkZGluZyBUaGUgcGFkZGluZyBzY2hlbWUgdXNlZCBpbiB0aGUgY2lwaGVyaW5nIG9wZXJhdGlvbi5cblx0ICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBibG9ja1NpemUgVGhlIGJsb2NrIHNpemUgb2YgdGhlIGNpcGhlci5cblx0ICAgICAqIEBwcm9wZXJ0eSB7Rm9ybWF0fSBmb3JtYXR0ZXIgVGhlIGRlZmF1bHQgZm9ybWF0dGluZyBzdHJhdGVneSB0byBjb252ZXJ0IHRoaXMgY2lwaGVyIHBhcmFtcyBvYmplY3QgdG8gYSBzdHJpbmcuXG5cdCAgICAgKi9cblx0ICAgIHZhciBDaXBoZXJQYXJhbXMgPSBDX2xpYi5DaXBoZXJQYXJhbXMgPSBCYXNlLmV4dGVuZCh7XG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogSW5pdGlhbGl6ZXMgYSBuZXdseSBjcmVhdGVkIGNpcGhlciBwYXJhbXMgb2JqZWN0LlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGNpcGhlclBhcmFtcyBBbiBvYmplY3Qgd2l0aCBhbnkgb2YgdGhlIHBvc3NpYmxlIGNpcGhlciBwYXJhbWV0ZXJzLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQGV4YW1wbGVcblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqICAgICB2YXIgY2lwaGVyUGFyYW1zID0gQ3J5cHRvSlMubGliLkNpcGhlclBhcmFtcy5jcmVhdGUoe1xuXHQgICAgICAgICAqICAgICAgICAgY2lwaGVydGV4dDogY2lwaGVydGV4dFdvcmRBcnJheSxcblx0ICAgICAgICAgKiAgICAgICAgIGtleToga2V5V29yZEFycmF5LFxuXHQgICAgICAgICAqICAgICAgICAgaXY6IGl2V29yZEFycmF5LFxuXHQgICAgICAgICAqICAgICAgICAgc2FsdDogc2FsdFdvcmRBcnJheSxcblx0ICAgICAgICAgKiAgICAgICAgIGFsZ29yaXRobTogQ3J5cHRvSlMuYWxnby5BRVMsXG5cdCAgICAgICAgICogICAgICAgICBtb2RlOiBDcnlwdG9KUy5tb2RlLkNCQyxcblx0ICAgICAgICAgKiAgICAgICAgIHBhZGRpbmc6IENyeXB0b0pTLnBhZC5QS0NTNyxcblx0ICAgICAgICAgKiAgICAgICAgIGJsb2NrU2l6ZTogNCxcblx0ICAgICAgICAgKiAgICAgICAgIGZvcm1hdHRlcjogQ3J5cHRvSlMuZm9ybWF0Lk9wZW5TU0xcblx0ICAgICAgICAgKiAgICAgfSk7XG5cdCAgICAgICAgICovXG5cdCAgICAgICAgaW5pdDogZnVuY3Rpb24gKGNpcGhlclBhcmFtcykge1xuXHQgICAgICAgICAgICB0aGlzLm1peEluKGNpcGhlclBhcmFtcyk7XG5cdCAgICAgICAgfSxcblxuXHQgICAgICAgIC8qKlxuXHQgICAgICAgICAqIENvbnZlcnRzIHRoaXMgY2lwaGVyIHBhcmFtcyBvYmplY3QgdG8gYSBzdHJpbmcuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcGFyYW0ge0Zvcm1hdH0gZm9ybWF0dGVyIChPcHRpb25hbCkgVGhlIGZvcm1hdHRpbmcgc3RyYXRlZ3kgdG8gdXNlLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgc3RyaW5naWZpZWQgY2lwaGVyIHBhcmFtcy5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEB0aHJvd3MgRXJyb3IgSWYgbmVpdGhlciB0aGUgZm9ybWF0dGVyIG5vciB0aGUgZGVmYXVsdCBmb3JtYXR0ZXIgaXMgc2V0LlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQGV4YW1wbGVcblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqICAgICB2YXIgc3RyaW5nID0gY2lwaGVyUGFyYW1zICsgJyc7XG5cdCAgICAgICAgICogICAgIHZhciBzdHJpbmcgPSBjaXBoZXJQYXJhbXMudG9TdHJpbmcoKTtcblx0ICAgICAgICAgKiAgICAgdmFyIHN0cmluZyA9IGNpcGhlclBhcmFtcy50b1N0cmluZyhDcnlwdG9KUy5mb3JtYXQuT3BlblNTTCk7XG5cdCAgICAgICAgICovXG5cdCAgICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uIChmb3JtYXR0ZXIpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIChmb3JtYXR0ZXIgfHwgdGhpcy5mb3JtYXR0ZXIpLnN0cmluZ2lmeSh0aGlzKTtcblx0ICAgICAgICB9XG5cdCAgICB9KTtcblxuXHQgICAgLyoqXG5cdCAgICAgKiBGb3JtYXQgbmFtZXNwYWNlLlxuXHQgICAgICovXG5cdCAgICB2YXIgQ19mb3JtYXQgPSBDLmZvcm1hdCA9IHt9O1xuXG5cdCAgICAvKipcblx0ICAgICAqIE9wZW5TU0wgZm9ybWF0dGluZyBzdHJhdGVneS5cblx0ICAgICAqL1xuXHQgICAgdmFyIE9wZW5TU0xGb3JtYXR0ZXIgPSBDX2Zvcm1hdC5PcGVuU1NMID0ge1xuXHQgICAgICAgIC8qKlxuXHQgICAgICAgICAqIENvbnZlcnRzIGEgY2lwaGVyIHBhcmFtcyBvYmplY3QgdG8gYW4gT3BlblNTTC1jb21wYXRpYmxlIHN0cmluZy5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBwYXJhbSB7Q2lwaGVyUGFyYW1zfSBjaXBoZXJQYXJhbXMgVGhlIGNpcGhlciBwYXJhbXMgb2JqZWN0LlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgT3BlblNTTC1jb21wYXRpYmxlIHN0cmluZy5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBzdGF0aWNcblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBleGFtcGxlXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiAgICAgdmFyIG9wZW5TU0xTdHJpbmcgPSBDcnlwdG9KUy5mb3JtYXQuT3BlblNTTC5zdHJpbmdpZnkoY2lwaGVyUGFyYW1zKTtcblx0ICAgICAgICAgKi9cblx0ICAgICAgICBzdHJpbmdpZnk6IGZ1bmN0aW9uIChjaXBoZXJQYXJhbXMpIHtcblx0ICAgICAgICAgICAgLy8gU2hvcnRjdXRzXG5cdCAgICAgICAgICAgIHZhciBjaXBoZXJ0ZXh0ID0gY2lwaGVyUGFyYW1zLmNpcGhlcnRleHQ7XG5cdCAgICAgICAgICAgIHZhciBzYWx0ID0gY2lwaGVyUGFyYW1zLnNhbHQ7XG5cblx0ICAgICAgICAgICAgLy8gRm9ybWF0XG5cdCAgICAgICAgICAgIGlmIChzYWx0KSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgd29yZEFycmF5ID0gV29yZEFycmF5LmNyZWF0ZShbMHg1MzYxNmM3NCwgMHg2NTY0NWY1Zl0pLmNvbmNhdChzYWx0KS5jb25jYXQoY2lwaGVydGV4dCk7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgd29yZEFycmF5ID0gY2lwaGVydGV4dDtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIHJldHVybiB3b3JkQXJyYXkudG9TdHJpbmcoQmFzZTY0KTtcblx0ICAgICAgICB9LFxuXG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogQ29udmVydHMgYW4gT3BlblNTTC1jb21wYXRpYmxlIHN0cmluZyB0byBhIGNpcGhlciBwYXJhbXMgb2JqZWN0LlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG9wZW5TU0xTdHIgVGhlIE9wZW5TU0wtY29tcGF0aWJsZSBzdHJpbmcuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcmV0dXJuIHtDaXBoZXJQYXJhbXN9IFRoZSBjaXBoZXIgcGFyYW1zIG9iamVjdC5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBzdGF0aWNcblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBleGFtcGxlXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiAgICAgdmFyIGNpcGhlclBhcmFtcyA9IENyeXB0b0pTLmZvcm1hdC5PcGVuU1NMLnBhcnNlKG9wZW5TU0xTdHJpbmcpO1xuXHQgICAgICAgICAqL1xuXHQgICAgICAgIHBhcnNlOiBmdW5jdGlvbiAob3BlblNTTFN0cikge1xuXHQgICAgICAgICAgICAvLyBQYXJzZSBiYXNlNjRcblx0ICAgICAgICAgICAgdmFyIGNpcGhlcnRleHQgPSBCYXNlNjQucGFyc2Uob3BlblNTTFN0cik7XG5cblx0ICAgICAgICAgICAgLy8gU2hvcnRjdXRcblx0ICAgICAgICAgICAgdmFyIGNpcGhlcnRleHRXb3JkcyA9IGNpcGhlcnRleHQud29yZHM7XG5cblx0ICAgICAgICAgICAgLy8gVGVzdCBmb3Igc2FsdFxuXHQgICAgICAgICAgICBpZiAoY2lwaGVydGV4dFdvcmRzWzBdID09IDB4NTM2MTZjNzQgJiYgY2lwaGVydGV4dFdvcmRzWzFdID09IDB4NjU2NDVmNWYpIHtcblx0ICAgICAgICAgICAgICAgIC8vIEV4dHJhY3Qgc2FsdFxuXHQgICAgICAgICAgICAgICAgdmFyIHNhbHQgPSBXb3JkQXJyYXkuY3JlYXRlKGNpcGhlcnRleHRXb3Jkcy5zbGljZSgyLCA0KSk7XG5cblx0ICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBzYWx0IGZyb20gY2lwaGVydGV4dFxuXHQgICAgICAgICAgICAgICAgY2lwaGVydGV4dFdvcmRzLnNwbGljZSgwLCA0KTtcblx0ICAgICAgICAgICAgICAgIGNpcGhlcnRleHQuc2lnQnl0ZXMgLT0gMTY7XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICByZXR1cm4gQ2lwaGVyUGFyYW1zLmNyZWF0ZSh7IGNpcGhlcnRleHQ6IGNpcGhlcnRleHQsIHNhbHQ6IHNhbHQgfSk7XG5cdCAgICAgICAgfVxuXHQgICAgfTtcblxuXHQgICAgLyoqXG5cdCAgICAgKiBBIGNpcGhlciB3cmFwcGVyIHRoYXQgcmV0dXJucyBjaXBoZXJ0ZXh0IGFzIGEgc2VyaWFsaXphYmxlIGNpcGhlciBwYXJhbXMgb2JqZWN0LlxuXHQgICAgICovXG5cdCAgICB2YXIgU2VyaWFsaXphYmxlQ2lwaGVyID0gQ19saWIuU2VyaWFsaXphYmxlQ2lwaGVyID0gQmFzZS5leHRlbmQoe1xuXHQgICAgICAgIC8qKlxuXHQgICAgICAgICAqIENvbmZpZ3VyYXRpb24gb3B0aW9ucy5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBwcm9wZXJ0eSB7Rm9ybWF0dGVyfSBmb3JtYXQgVGhlIGZvcm1hdHRpbmcgc3RyYXRlZ3kgdG8gY29udmVydCBjaXBoZXIgcGFyYW0gb2JqZWN0cyB0byBhbmQgZnJvbSBhIHN0cmluZy4gRGVmYXVsdDogT3BlblNTTFxuXHQgICAgICAgICAqL1xuXHQgICAgICAgIGNmZzogQmFzZS5leHRlbmQoe1xuXHQgICAgICAgICAgICBmb3JtYXQ6IE9wZW5TU0xGb3JtYXR0ZXJcblx0ICAgICAgICB9KSxcblxuXHQgICAgICAgIC8qKlxuXHQgICAgICAgICAqIEVuY3J5cHRzIGEgbWVzc2FnZS5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBwYXJhbSB7Q2lwaGVyfSBjaXBoZXIgVGhlIGNpcGhlciBhbGdvcml0aG0gdG8gdXNlLlxuXHQgICAgICAgICAqIEBwYXJhbSB7V29yZEFycmF5fHN0cmluZ30gbWVzc2FnZSBUaGUgbWVzc2FnZSB0byBlbmNyeXB0LlxuXHQgICAgICAgICAqIEBwYXJhbSB7V29yZEFycmF5fSBrZXkgVGhlIGtleS5cblx0ICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gY2ZnIChPcHRpb25hbCkgVGhlIGNvbmZpZ3VyYXRpb24gb3B0aW9ucyB0byB1c2UgZm9yIHRoaXMgb3BlcmF0aW9uLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHJldHVybiB7Q2lwaGVyUGFyYW1zfSBBIGNpcGhlciBwYXJhbXMgb2JqZWN0LlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHN0YXRpY1xuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQGV4YW1wbGVcblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqICAgICB2YXIgY2lwaGVydGV4dFBhcmFtcyA9IENyeXB0b0pTLmxpYi5TZXJpYWxpemFibGVDaXBoZXIuZW5jcnlwdChDcnlwdG9KUy5hbGdvLkFFUywgbWVzc2FnZSwga2V5KTtcblx0ICAgICAgICAgKiAgICAgdmFyIGNpcGhlcnRleHRQYXJhbXMgPSBDcnlwdG9KUy5saWIuU2VyaWFsaXphYmxlQ2lwaGVyLmVuY3J5cHQoQ3J5cHRvSlMuYWxnby5BRVMsIG1lc3NhZ2UsIGtleSwgeyBpdjogaXYgfSk7XG5cdCAgICAgICAgICogICAgIHZhciBjaXBoZXJ0ZXh0UGFyYW1zID0gQ3J5cHRvSlMubGliLlNlcmlhbGl6YWJsZUNpcGhlci5lbmNyeXB0KENyeXB0b0pTLmFsZ28uQUVTLCBtZXNzYWdlLCBrZXksIHsgaXY6IGl2LCBmb3JtYXQ6IENyeXB0b0pTLmZvcm1hdC5PcGVuU1NMIH0pO1xuXHQgICAgICAgICAqL1xuXHQgICAgICAgIGVuY3J5cHQ6IGZ1bmN0aW9uIChjaXBoZXIsIG1lc3NhZ2UsIGtleSwgY2ZnKSB7XG5cdCAgICAgICAgICAgIC8vIEFwcGx5IGNvbmZpZyBkZWZhdWx0c1xuXHQgICAgICAgICAgICBjZmcgPSB0aGlzLmNmZy5leHRlbmQoY2ZnKTtcblxuXHQgICAgICAgICAgICAvLyBFbmNyeXB0XG5cdCAgICAgICAgICAgIHZhciBlbmNyeXB0b3IgPSBjaXBoZXIuY3JlYXRlRW5jcnlwdG9yKGtleSwgY2ZnKTtcblx0ICAgICAgICAgICAgdmFyIGNpcGhlcnRleHQgPSBlbmNyeXB0b3IuZmluYWxpemUobWVzc2FnZSk7XG5cblx0ICAgICAgICAgICAgLy8gU2hvcnRjdXRcblx0ICAgICAgICAgICAgdmFyIGNpcGhlckNmZyA9IGVuY3J5cHRvci5jZmc7XG5cblx0ICAgICAgICAgICAgLy8gQ3JlYXRlIGFuZCByZXR1cm4gc2VyaWFsaXphYmxlIGNpcGhlciBwYXJhbXNcblx0ICAgICAgICAgICAgcmV0dXJuIENpcGhlclBhcmFtcy5jcmVhdGUoe1xuXHQgICAgICAgICAgICAgICAgY2lwaGVydGV4dDogY2lwaGVydGV4dCxcblx0ICAgICAgICAgICAgICAgIGtleToga2V5LFxuXHQgICAgICAgICAgICAgICAgaXY6IGNpcGhlckNmZy5pdixcblx0ICAgICAgICAgICAgICAgIGFsZ29yaXRobTogY2lwaGVyLFxuXHQgICAgICAgICAgICAgICAgbW9kZTogY2lwaGVyQ2ZnLm1vZGUsXG5cdCAgICAgICAgICAgICAgICBwYWRkaW5nOiBjaXBoZXJDZmcucGFkZGluZyxcblx0ICAgICAgICAgICAgICAgIGJsb2NrU2l6ZTogY2lwaGVyLmJsb2NrU2l6ZSxcblx0ICAgICAgICAgICAgICAgIGZvcm1hdHRlcjogY2ZnLmZvcm1hdFxuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9LFxuXG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogRGVjcnlwdHMgc2VyaWFsaXplZCBjaXBoZXJ0ZXh0LlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHBhcmFtIHtDaXBoZXJ9IGNpcGhlciBUaGUgY2lwaGVyIGFsZ29yaXRobSB0byB1c2UuXG5cdCAgICAgICAgICogQHBhcmFtIHtDaXBoZXJQYXJhbXN8c3RyaW5nfSBjaXBoZXJ0ZXh0IFRoZSBjaXBoZXJ0ZXh0IHRvIGRlY3J5cHQuXG5cdCAgICAgICAgICogQHBhcmFtIHtXb3JkQXJyYXl9IGtleSBUaGUga2V5LlxuXHQgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjZmcgKE9wdGlvbmFsKSBUaGUgY29uZmlndXJhdGlvbiBvcHRpb25zIHRvIHVzZSBmb3IgdGhpcyBvcGVyYXRpb24uXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcmV0dXJuIHtXb3JkQXJyYXl9IFRoZSBwbGFpbnRleHQuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAc3RhdGljXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAZXhhbXBsZVxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogICAgIHZhciBwbGFpbnRleHQgPSBDcnlwdG9KUy5saWIuU2VyaWFsaXphYmxlQ2lwaGVyLmRlY3J5cHQoQ3J5cHRvSlMuYWxnby5BRVMsIGZvcm1hdHRlZENpcGhlcnRleHQsIGtleSwgeyBpdjogaXYsIGZvcm1hdDogQ3J5cHRvSlMuZm9ybWF0Lk9wZW5TU0wgfSk7XG5cdCAgICAgICAgICogICAgIHZhciBwbGFpbnRleHQgPSBDcnlwdG9KUy5saWIuU2VyaWFsaXphYmxlQ2lwaGVyLmRlY3J5cHQoQ3J5cHRvSlMuYWxnby5BRVMsIGNpcGhlcnRleHRQYXJhbXMsIGtleSwgeyBpdjogaXYsIGZvcm1hdDogQ3J5cHRvSlMuZm9ybWF0Lk9wZW5TU0wgfSk7XG5cdCAgICAgICAgICovXG5cdCAgICAgICAgZGVjcnlwdDogZnVuY3Rpb24gKGNpcGhlciwgY2lwaGVydGV4dCwga2V5LCBjZmcpIHtcblx0ICAgICAgICAgICAgLy8gQXBwbHkgY29uZmlnIGRlZmF1bHRzXG5cdCAgICAgICAgICAgIGNmZyA9IHRoaXMuY2ZnLmV4dGVuZChjZmcpO1xuXG5cdCAgICAgICAgICAgIC8vIENvbnZlcnQgc3RyaW5nIHRvIENpcGhlclBhcmFtc1xuXHQgICAgICAgICAgICBjaXBoZXJ0ZXh0ID0gdGhpcy5fcGFyc2UoY2lwaGVydGV4dCwgY2ZnLmZvcm1hdCk7XG5cblx0ICAgICAgICAgICAgLy8gRGVjcnlwdFxuXHQgICAgICAgICAgICB2YXIgcGxhaW50ZXh0ID0gY2lwaGVyLmNyZWF0ZURlY3J5cHRvcihrZXksIGNmZykuZmluYWxpemUoY2lwaGVydGV4dC5jaXBoZXJ0ZXh0KTtcblxuXHQgICAgICAgICAgICByZXR1cm4gcGxhaW50ZXh0O1xuXHQgICAgICAgIH0sXG5cblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBDb252ZXJ0cyBzZXJpYWxpemVkIGNpcGhlcnRleHQgdG8gQ2lwaGVyUGFyYW1zLFxuXHQgICAgICAgICAqIGVsc2UgYXNzdW1lZCBDaXBoZXJQYXJhbXMgYWxyZWFkeSBhbmQgcmV0dXJucyBjaXBoZXJ0ZXh0IHVuY2hhbmdlZC5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBwYXJhbSB7Q2lwaGVyUGFyYW1zfHN0cmluZ30gY2lwaGVydGV4dCBUaGUgY2lwaGVydGV4dC5cblx0ICAgICAgICAgKiBAcGFyYW0ge0Zvcm1hdHRlcn0gZm9ybWF0IFRoZSBmb3JtYXR0aW5nIHN0cmF0ZWd5IHRvIHVzZSB0byBwYXJzZSBzZXJpYWxpemVkIGNpcGhlcnRleHQuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcmV0dXJuIHtDaXBoZXJQYXJhbXN9IFRoZSB1bnNlcmlhbGl6ZWQgY2lwaGVydGV4dC5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBzdGF0aWNcblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBleGFtcGxlXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiAgICAgdmFyIGNpcGhlcnRleHRQYXJhbXMgPSBDcnlwdG9KUy5saWIuU2VyaWFsaXphYmxlQ2lwaGVyLl9wYXJzZShjaXBoZXJ0ZXh0U3RyaW5nT3JQYXJhbXMsIGZvcm1hdCk7XG5cdCAgICAgICAgICovXG5cdCAgICAgICAgX3BhcnNlOiBmdW5jdGlvbiAoY2lwaGVydGV4dCwgZm9ybWF0KSB7XG5cdCAgICAgICAgICAgIGlmICh0eXBlb2YgY2lwaGVydGV4dCA9PSAnc3RyaW5nJykge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIGZvcm1hdC5wYXJzZShjaXBoZXJ0ZXh0LCB0aGlzKTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBjaXBoZXJ0ZXh0O1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfSk7XG5cblx0ICAgIC8qKlxuXHQgICAgICogS2V5IGRlcml2YXRpb24gZnVuY3Rpb24gbmFtZXNwYWNlLlxuXHQgICAgICovXG5cdCAgICB2YXIgQ19rZGYgPSBDLmtkZiA9IHt9O1xuXG5cdCAgICAvKipcblx0ICAgICAqIE9wZW5TU0wga2V5IGRlcml2YXRpb24gZnVuY3Rpb24uXG5cdCAgICAgKi9cblx0ICAgIHZhciBPcGVuU1NMS2RmID0gQ19rZGYuT3BlblNTTCA9IHtcblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBEZXJpdmVzIGEga2V5IGFuZCBJViBmcm9tIGEgcGFzc3dvcmQuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGFzc3dvcmQgVGhlIHBhc3N3b3JkIHRvIGRlcml2ZSBmcm9tLlxuXHQgICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBrZXlTaXplIFRoZSBzaXplIGluIHdvcmRzIG9mIHRoZSBrZXkgdG8gZ2VuZXJhdGUuXG5cdCAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IGl2U2l6ZSBUaGUgc2l6ZSBpbiB3b3JkcyBvZiB0aGUgSVYgdG8gZ2VuZXJhdGUuXG5cdCAgICAgICAgICogQHBhcmFtIHtXb3JkQXJyYXl8c3RyaW5nfSBzYWx0IChPcHRpb25hbCkgQSA2NC1iaXQgc2FsdCB0byB1c2UuIElmIG9taXR0ZWQsIGEgc2FsdCB3aWxsIGJlIGdlbmVyYXRlZCByYW5kb21seS5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEByZXR1cm4ge0NpcGhlclBhcmFtc30gQSBjaXBoZXIgcGFyYW1zIG9iamVjdCB3aXRoIHRoZSBrZXksIElWLCBhbmQgc2FsdC5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBzdGF0aWNcblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBleGFtcGxlXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiAgICAgdmFyIGRlcml2ZWRQYXJhbXMgPSBDcnlwdG9KUy5rZGYuT3BlblNTTC5leGVjdXRlKCdQYXNzd29yZCcsIDI1Ni8zMiwgMTI4LzMyKTtcblx0ICAgICAgICAgKiAgICAgdmFyIGRlcml2ZWRQYXJhbXMgPSBDcnlwdG9KUy5rZGYuT3BlblNTTC5leGVjdXRlKCdQYXNzd29yZCcsIDI1Ni8zMiwgMTI4LzMyLCAnc2FsdHNhbHQnKTtcblx0ICAgICAgICAgKi9cblx0ICAgICAgICBleGVjdXRlOiBmdW5jdGlvbiAocGFzc3dvcmQsIGtleVNpemUsIGl2U2l6ZSwgc2FsdCkge1xuXHQgICAgICAgICAgICAvLyBHZW5lcmF0ZSByYW5kb20gc2FsdFxuXHQgICAgICAgICAgICBpZiAoIXNhbHQpIHtcblx0ICAgICAgICAgICAgICAgIHNhbHQgPSBXb3JkQXJyYXkucmFuZG9tKDY0LzgpO1xuXHQgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgLy8gRGVyaXZlIGtleSBhbmQgSVZcblx0ICAgICAgICAgICAgdmFyIGtleSA9IEV2cEtERi5jcmVhdGUoeyBrZXlTaXplOiBrZXlTaXplICsgaXZTaXplIH0pLmNvbXB1dGUocGFzc3dvcmQsIHNhbHQpO1xuXG5cdCAgICAgICAgICAgIC8vIFNlcGFyYXRlIGtleSBhbmQgSVZcblx0ICAgICAgICAgICAgdmFyIGl2ID0gV29yZEFycmF5LmNyZWF0ZShrZXkud29yZHMuc2xpY2Uoa2V5U2l6ZSksIGl2U2l6ZSAqIDQpO1xuXHQgICAgICAgICAgICBrZXkuc2lnQnl0ZXMgPSBrZXlTaXplICogNDtcblxuXHQgICAgICAgICAgICAvLyBSZXR1cm4gcGFyYW1zXG5cdCAgICAgICAgICAgIHJldHVybiBDaXBoZXJQYXJhbXMuY3JlYXRlKHsga2V5OiBrZXksIGl2OiBpdiwgc2FsdDogc2FsdCB9KTtcblx0ICAgICAgICB9XG5cdCAgICB9O1xuXG5cdCAgICAvKipcblx0ICAgICAqIEEgc2VyaWFsaXphYmxlIGNpcGhlciB3cmFwcGVyIHRoYXQgZGVyaXZlcyB0aGUga2V5IGZyb20gYSBwYXNzd29yZCxcblx0ICAgICAqIGFuZCByZXR1cm5zIGNpcGhlcnRleHQgYXMgYSBzZXJpYWxpemFibGUgY2lwaGVyIHBhcmFtcyBvYmplY3QuXG5cdCAgICAgKi9cblx0ICAgIHZhciBQYXNzd29yZEJhc2VkQ2lwaGVyID0gQ19saWIuUGFzc3dvcmRCYXNlZENpcGhlciA9IFNlcmlhbGl6YWJsZUNpcGhlci5leHRlbmQoe1xuXHQgICAgICAgIC8qKlxuXHQgICAgICAgICAqIENvbmZpZ3VyYXRpb24gb3B0aW9ucy5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBwcm9wZXJ0eSB7S0RGfSBrZGYgVGhlIGtleSBkZXJpdmF0aW9uIGZ1bmN0aW9uIHRvIHVzZSB0byBnZW5lcmF0ZSBhIGtleSBhbmQgSVYgZnJvbSBhIHBhc3N3b3JkLiBEZWZhdWx0OiBPcGVuU1NMXG5cdCAgICAgICAgICovXG5cdCAgICAgICAgY2ZnOiBTZXJpYWxpemFibGVDaXBoZXIuY2ZnLmV4dGVuZCh7XG5cdCAgICAgICAgICAgIGtkZjogT3BlblNTTEtkZlxuXHQgICAgICAgIH0pLFxuXG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogRW5jcnlwdHMgYSBtZXNzYWdlIHVzaW5nIGEgcGFzc3dvcmQuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcGFyYW0ge0NpcGhlcn0gY2lwaGVyIFRoZSBjaXBoZXIgYWxnb3JpdGhtIHRvIHVzZS5cblx0ICAgICAgICAgKiBAcGFyYW0ge1dvcmRBcnJheXxzdHJpbmd9IG1lc3NhZ2UgVGhlIG1lc3NhZ2UgdG8gZW5jcnlwdC5cblx0ICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGFzc3dvcmQgVGhlIHBhc3N3b3JkLlxuXHQgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjZmcgKE9wdGlvbmFsKSBUaGUgY29uZmlndXJhdGlvbiBvcHRpb25zIHRvIHVzZSBmb3IgdGhpcyBvcGVyYXRpb24uXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcmV0dXJuIHtDaXBoZXJQYXJhbXN9IEEgY2lwaGVyIHBhcmFtcyBvYmplY3QuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAc3RhdGljXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAZXhhbXBsZVxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogICAgIHZhciBjaXBoZXJ0ZXh0UGFyYW1zID0gQ3J5cHRvSlMubGliLlBhc3N3b3JkQmFzZWRDaXBoZXIuZW5jcnlwdChDcnlwdG9KUy5hbGdvLkFFUywgbWVzc2FnZSwgJ3Bhc3N3b3JkJyk7XG5cdCAgICAgICAgICogICAgIHZhciBjaXBoZXJ0ZXh0UGFyYW1zID0gQ3J5cHRvSlMubGliLlBhc3N3b3JkQmFzZWRDaXBoZXIuZW5jcnlwdChDcnlwdG9KUy5hbGdvLkFFUywgbWVzc2FnZSwgJ3Bhc3N3b3JkJywgeyBmb3JtYXQ6IENyeXB0b0pTLmZvcm1hdC5PcGVuU1NMIH0pO1xuXHQgICAgICAgICAqL1xuXHQgICAgICAgIGVuY3J5cHQ6IGZ1bmN0aW9uIChjaXBoZXIsIG1lc3NhZ2UsIHBhc3N3b3JkLCBjZmcpIHtcblx0ICAgICAgICAgICAgLy8gQXBwbHkgY29uZmlnIGRlZmF1bHRzXG5cdCAgICAgICAgICAgIGNmZyA9IHRoaXMuY2ZnLmV4dGVuZChjZmcpO1xuXG5cdCAgICAgICAgICAgIC8vIERlcml2ZSBrZXkgYW5kIG90aGVyIHBhcmFtc1xuXHQgICAgICAgICAgICB2YXIgZGVyaXZlZFBhcmFtcyA9IGNmZy5rZGYuZXhlY3V0ZShwYXNzd29yZCwgY2lwaGVyLmtleVNpemUsIGNpcGhlci5pdlNpemUpO1xuXG5cdCAgICAgICAgICAgIC8vIEFkZCBJViB0byBjb25maWdcblx0ICAgICAgICAgICAgY2ZnLml2ID0gZGVyaXZlZFBhcmFtcy5pdjtcblxuXHQgICAgICAgICAgICAvLyBFbmNyeXB0XG5cdCAgICAgICAgICAgIHZhciBjaXBoZXJ0ZXh0ID0gU2VyaWFsaXphYmxlQ2lwaGVyLmVuY3J5cHQuY2FsbCh0aGlzLCBjaXBoZXIsIG1lc3NhZ2UsIGRlcml2ZWRQYXJhbXMua2V5LCBjZmcpO1xuXG5cdCAgICAgICAgICAgIC8vIE1peCBpbiBkZXJpdmVkIHBhcmFtc1xuXHQgICAgICAgICAgICBjaXBoZXJ0ZXh0Lm1peEluKGRlcml2ZWRQYXJhbXMpO1xuXG5cdCAgICAgICAgICAgIHJldHVybiBjaXBoZXJ0ZXh0O1xuXHQgICAgICAgIH0sXG5cblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBEZWNyeXB0cyBzZXJpYWxpemVkIGNpcGhlcnRleHQgdXNpbmcgYSBwYXNzd29yZC5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBwYXJhbSB7Q2lwaGVyfSBjaXBoZXIgVGhlIGNpcGhlciBhbGdvcml0aG0gdG8gdXNlLlxuXHQgICAgICAgICAqIEBwYXJhbSB7Q2lwaGVyUGFyYW1zfHN0cmluZ30gY2lwaGVydGV4dCBUaGUgY2lwaGVydGV4dCB0byBkZWNyeXB0LlxuXHQgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwYXNzd29yZCBUaGUgcGFzc3dvcmQuXG5cdCAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGNmZyAoT3B0aW9uYWwpIFRoZSBjb25maWd1cmF0aW9uIG9wdGlvbnMgdG8gdXNlIGZvciB0aGlzIG9wZXJhdGlvbi5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEByZXR1cm4ge1dvcmRBcnJheX0gVGhlIHBsYWludGV4dC5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBzdGF0aWNcblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBleGFtcGxlXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiAgICAgdmFyIHBsYWludGV4dCA9IENyeXB0b0pTLmxpYi5QYXNzd29yZEJhc2VkQ2lwaGVyLmRlY3J5cHQoQ3J5cHRvSlMuYWxnby5BRVMsIGZvcm1hdHRlZENpcGhlcnRleHQsICdwYXNzd29yZCcsIHsgZm9ybWF0OiBDcnlwdG9KUy5mb3JtYXQuT3BlblNTTCB9KTtcblx0ICAgICAgICAgKiAgICAgdmFyIHBsYWludGV4dCA9IENyeXB0b0pTLmxpYi5QYXNzd29yZEJhc2VkQ2lwaGVyLmRlY3J5cHQoQ3J5cHRvSlMuYWxnby5BRVMsIGNpcGhlcnRleHRQYXJhbXMsICdwYXNzd29yZCcsIHsgZm9ybWF0OiBDcnlwdG9KUy5mb3JtYXQuT3BlblNTTCB9KTtcblx0ICAgICAgICAgKi9cblx0ICAgICAgICBkZWNyeXB0OiBmdW5jdGlvbiAoY2lwaGVyLCBjaXBoZXJ0ZXh0LCBwYXNzd29yZCwgY2ZnKSB7XG5cdCAgICAgICAgICAgIC8vIEFwcGx5IGNvbmZpZyBkZWZhdWx0c1xuXHQgICAgICAgICAgICBjZmcgPSB0aGlzLmNmZy5leHRlbmQoY2ZnKTtcblxuXHQgICAgICAgICAgICAvLyBDb252ZXJ0IHN0cmluZyB0byBDaXBoZXJQYXJhbXNcblx0ICAgICAgICAgICAgY2lwaGVydGV4dCA9IHRoaXMuX3BhcnNlKGNpcGhlcnRleHQsIGNmZy5mb3JtYXQpO1xuXG5cdCAgICAgICAgICAgIC8vIERlcml2ZSBrZXkgYW5kIG90aGVyIHBhcmFtc1xuXHQgICAgICAgICAgICB2YXIgZGVyaXZlZFBhcmFtcyA9IGNmZy5rZGYuZXhlY3V0ZShwYXNzd29yZCwgY2lwaGVyLmtleVNpemUsIGNpcGhlci5pdlNpemUsIGNpcGhlcnRleHQuc2FsdCk7XG5cblx0ICAgICAgICAgICAgLy8gQWRkIElWIHRvIGNvbmZpZ1xuXHQgICAgICAgICAgICBjZmcuaXYgPSBkZXJpdmVkUGFyYW1zLml2O1xuXG5cdCAgICAgICAgICAgIC8vIERlY3J5cHRcblx0ICAgICAgICAgICAgdmFyIHBsYWludGV4dCA9IFNlcmlhbGl6YWJsZUNpcGhlci5kZWNyeXB0LmNhbGwodGhpcywgY2lwaGVyLCBjaXBoZXJ0ZXh0LCBkZXJpdmVkUGFyYW1zLmtleSwgY2ZnKTtcblxuXHQgICAgICAgICAgICByZXR1cm4gcGxhaW50ZXh0O1xuXHQgICAgICAgIH1cblx0ICAgIH0pO1xuXHR9KCkpO1xuXG5cbn0pKTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L2NyeXB0by1qcy9jaXBoZXItY29yZS5qcyIsIi8qXG4gICAgVGhpcyBmaWxlIGlzIHBhcnQgb2Ygd2ViMy5qcy5cblxuICAgIHdlYjMuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICAgIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICAgIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gICAgKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cblxuICAgIHdlYjMuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICAgIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAgICBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cblxuICAgIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICAgIGFsb25nIHdpdGggd2ViMy5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiovXG4vKipcbiAqIEBmaWxlIHV0aWxzLmpzXG4gKiBAYXV0aG9yIE1hcmVrIEtvdGV3aWN6IDxtYXJla0BldGhkZXYuY29tPlxuICogQGRhdGUgMjAxNVxuICovXG5cbi8qKlxuICogVXRpbHNcbiAqXG4gKiBAbW9kdWxlIHV0aWxzXG4gKi9cblxuLyoqXG4gKiBVdGlsaXR5IGZ1bmN0aW9uc1xuICpcbiAqIEBjbGFzcyBbdXRpbHNdIHV0aWxzXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuXG5cbnZhciBCaWdOdW1iZXIgPSByZXF1aXJlKCdiaWdudW1iZXIuanMnKTtcbnZhciBzaGEzID0gcmVxdWlyZSgnLi9zaGEzLmpzJyk7XG52YXIgdXRmOCA9IHJlcXVpcmUoJ3V0ZjgnKTtcblxudmFyIHVuaXRNYXAgPSB7XG4gICAgJ25vZXRoZXInOiAgICAgICcwJywgICAgXG4gICAgJ3dlaSc6ICAgICAgICAgICcxJyxcbiAgICAna3dlaSc6ICAgICAgICAgJzEwMDAnLFxuICAgICdLd2VpJzogICAgICAgICAnMTAwMCcsXG4gICAgJ2JhYmJhZ2UnOiAgICAgICcxMDAwJyxcbiAgICAnZmVtdG9ldGhlcic6ICAgJzEwMDAnLFxuICAgICdtd2VpJzogICAgICAgICAnMTAwMDAwMCcsXG4gICAgJ013ZWknOiAgICAgICAgICcxMDAwMDAwJyxcbiAgICAnbG92ZWxhY2UnOiAgICAgJzEwMDAwMDAnLFxuICAgICdwaWNvZXRoZXInOiAgICAnMTAwMDAwMCcsXG4gICAgJ2d3ZWknOiAgICAgICAgICcxMDAwMDAwMDAwJyxcbiAgICAnR3dlaSc6ICAgICAgICAgJzEwMDAwMDAwMDAnLFxuICAgICdzaGFubm9uJzogICAgICAnMTAwMDAwMDAwMCcsXG4gICAgJ25hbm9ldGhlcic6ICAgICcxMDAwMDAwMDAwJyxcbiAgICAnbmFubyc6ICAgICAgICAgJzEwMDAwMDAwMDAnLFxuICAgICdzemFibyc6ICAgICAgICAnMTAwMDAwMDAwMDAwMCcsXG4gICAgJ21pY3JvZXRoZXInOiAgICcxMDAwMDAwMDAwMDAwJyxcbiAgICAnbWljcm8nOiAgICAgICAgJzEwMDAwMDAwMDAwMDAnLFxuICAgICdmaW5uZXknOiAgICAgICAnMTAwMDAwMDAwMDAwMDAwMCcsXG4gICAgJ21pbGxpZXRoZXInOiAgICAnMTAwMDAwMDAwMDAwMDAwMCcsXG4gICAgJ21pbGxpJzogICAgICAgICAnMTAwMDAwMDAwMDAwMDAwMCcsXG4gICAgJ2V0aGVyJzogICAgICAgICcxMDAwMDAwMDAwMDAwMDAwMDAwJyxcbiAgICAna2V0aGVyJzogICAgICAgJzEwMDAwMDAwMDAwMDAwMDAwMDAwMDAnLFxuICAgICdncmFuZCc6ICAgICAgICAnMTAwMDAwMDAwMDAwMDAwMDAwMDAwMCcsXG4gICAgJ21ldGhlcic6ICAgICAgICcxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwJyxcbiAgICAnZ2V0aGVyJzogICAgICAgJzEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAnLFxuICAgICd0ZXRoZXInOiAgICAgICAnMTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMCdcbn07XG5cbi8qKlxuICogU2hvdWxkIGJlIGNhbGxlZCB0byBwYWQgc3RyaW5nIHRvIGV4cGVjdGVkIGxlbmd0aFxuICpcbiAqIEBtZXRob2QgcGFkTGVmdFxuICogQHBhcmFtIHtTdHJpbmd9IHN0cmluZyB0byBiZSBwYWRkZWRcbiAqIEBwYXJhbSB7TnVtYmVyfSBjaGFyYWN0ZXJzIHRoYXQgcmVzdWx0IHN0cmluZyBzaG91bGQgaGF2ZVxuICogQHBhcmFtIHtTdHJpbmd9IHNpZ24sIGJ5IGRlZmF1bHQgMFxuICogQHJldHVybnMge1N0cmluZ30gcmlnaHQgYWxpZ25lZCBzdHJpbmdcbiAqL1xudmFyIHBhZExlZnQgPSBmdW5jdGlvbiAoc3RyaW5nLCBjaGFycywgc2lnbikge1xuICAgIHJldHVybiBuZXcgQXJyYXkoY2hhcnMgLSBzdHJpbmcubGVuZ3RoICsgMSkuam9pbihzaWduID8gc2lnbiA6IFwiMFwiKSArIHN0cmluZztcbn07XG5cbi8qKlxuICogU2hvdWxkIGJlIGNhbGxlZCB0byBwYWQgc3RyaW5nIHRvIGV4cGVjdGVkIGxlbmd0aFxuICpcbiAqIEBtZXRob2QgcGFkUmlnaHRcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJpbmcgdG8gYmUgcGFkZGVkXG4gKiBAcGFyYW0ge051bWJlcn0gY2hhcmFjdGVycyB0aGF0IHJlc3VsdCBzdHJpbmcgc2hvdWxkIGhhdmVcbiAqIEBwYXJhbSB7U3RyaW5nfSBzaWduLCBieSBkZWZhdWx0IDBcbiAqIEByZXR1cm5zIHtTdHJpbmd9IHJpZ2h0IGFsaWduZWQgc3RyaW5nXG4gKi9cbnZhciBwYWRSaWdodCA9IGZ1bmN0aW9uIChzdHJpbmcsIGNoYXJzLCBzaWduKSB7XG4gICAgcmV0dXJuIHN0cmluZyArIChuZXcgQXJyYXkoY2hhcnMgLSBzdHJpbmcubGVuZ3RoICsgMSkuam9pbihzaWduID8gc2lnbiA6IFwiMFwiKSk7XG59O1xuXG4vKipcbiAqIFNob3VsZCBiZSBjYWxsZWQgdG8gZ2V0IHV0ZjggZnJvbSBpdCdzIGhleCByZXByZXNlbnRhdGlvblxuICpcbiAqIEBtZXRob2QgdG9VdGY4XG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyaW5nIGluIGhleFxuICogQHJldHVybnMge1N0cmluZ30gYXNjaWkgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGhleCB2YWx1ZVxuICovXG52YXIgdG9VdGY4ID0gZnVuY3Rpb24oaGV4KSB7XG4vLyBGaW5kIHRlcm1pbmF0aW9uXG4gICAgdmFyIHN0ciA9IFwiXCI7XG4gICAgdmFyIGkgPSAwLCBsID0gaGV4Lmxlbmd0aDtcbiAgICBpZiAoaGV4LnN1YnN0cmluZygwLCAyKSA9PT0gJzB4Jykge1xuICAgICAgICBpID0gMjtcbiAgICB9XG4gICAgZm9yICg7IGkgPCBsOyBpKz0yKSB7XG4gICAgICAgIHZhciBjb2RlID0gcGFyc2VJbnQoaGV4LnN1YnN0cihpLCAyKSwgMTYpO1xuICAgICAgICBpZiAoY29kZSA9PT0gMClcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBzdHIgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShjb2RlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdXRmOC5kZWNvZGUoc3RyKTtcbn07XG5cbi8qKlxuICogU2hvdWxkIGJlIGNhbGxlZCB0byBnZXQgYXNjaWkgZnJvbSBpdCdzIGhleCByZXByZXNlbnRhdGlvblxuICpcbiAqIEBtZXRob2QgdG9Bc2NpaVxuICogQHBhcmFtIHtTdHJpbmd9IHN0cmluZyBpbiBoZXhcbiAqIEByZXR1cm5zIHtTdHJpbmd9IGFzY2lpIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBoZXggdmFsdWVcbiAqL1xudmFyIHRvQXNjaWkgPSBmdW5jdGlvbihoZXgpIHtcbi8vIEZpbmQgdGVybWluYXRpb25cbiAgICB2YXIgc3RyID0gXCJcIjtcbiAgICB2YXIgaSA9IDAsIGwgPSBoZXgubGVuZ3RoO1xuICAgIGlmIChoZXguc3Vic3RyaW5nKDAsIDIpID09PSAnMHgnKSB7XG4gICAgICAgIGkgPSAyO1xuICAgIH1cbiAgICBmb3IgKDsgaSA8IGw7IGkrPTIpIHtcbiAgICAgICAgdmFyIGNvZGUgPSBwYXJzZUludChoZXguc3Vic3RyKGksIDIpLCAxNik7XG4gICAgICAgIHN0ciArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGNvZGUpO1xuICAgIH1cblxuICAgIHJldHVybiBzdHI7XG59O1xuXG4vKipcbiAqIFNob3VsZCBiZSBjYWxsZWQgdG8gZ2V0IGhleCByZXByZXNlbnRhdGlvbiAocHJlZml4ZWQgYnkgMHgpIG9mIHV0Zjggc3RyaW5nXG4gKlxuICogQG1ldGhvZCBmcm9tVXRmOFxuICogQHBhcmFtIHtTdHJpbmd9IHN0cmluZ1xuICogQHBhcmFtIHtOdW1iZXJ9IG9wdGlvbmFsIHBhZGRpbmdcbiAqIEByZXR1cm5zIHtTdHJpbmd9IGhleCByZXByZXNlbnRhdGlvbiBvZiBpbnB1dCBzdHJpbmdcbiAqL1xudmFyIGZyb21VdGY4ID0gZnVuY3Rpb24oc3RyKSB7XG4gICAgc3RyID0gdXRmOC5lbmNvZGUoc3RyKTtcbiAgICB2YXIgaGV4ID0gXCJcIjtcbiAgICBmb3IodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBjb2RlID0gc3RyLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIGlmIChjb2RlID09PSAwKVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIHZhciBuID0gY29kZS50b1N0cmluZygxNik7XG4gICAgICAgIGhleCArPSBuLmxlbmd0aCA8IDIgPyAnMCcgKyBuIDogbjtcbiAgICB9XG5cbiAgICByZXR1cm4gXCIweFwiICsgaGV4O1xufTtcblxuLyoqXG4gKiBTaG91bGQgYmUgY2FsbGVkIHRvIGdldCBoZXggcmVwcmVzZW50YXRpb24gKHByZWZpeGVkIGJ5IDB4KSBvZiBhc2NpaSBzdHJpbmdcbiAqXG4gKiBAbWV0aG9kIGZyb21Bc2NpaVxuICogQHBhcmFtIHtTdHJpbmd9IHN0cmluZ1xuICogQHBhcmFtIHtOdW1iZXJ9IG9wdGlvbmFsIHBhZGRpbmdcbiAqIEByZXR1cm5zIHtTdHJpbmd9IGhleCByZXByZXNlbnRhdGlvbiBvZiBpbnB1dCBzdHJpbmdcbiAqL1xudmFyIGZyb21Bc2NpaSA9IGZ1bmN0aW9uKHN0cikge1xuICAgIHZhciBoZXggPSBcIlwiO1xuICAgIGZvcih2YXIgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGNvZGUgPSBzdHIuY2hhckNvZGVBdChpKTtcbiAgICAgICAgdmFyIG4gPSBjb2RlLnRvU3RyaW5nKDE2KTtcbiAgICAgICAgaGV4ICs9IG4ubGVuZ3RoIDwgMiA/ICcwJyArIG4gOiBuO1xuICAgIH1cblxuICAgIHJldHVybiBcIjB4XCIgKyBoZXg7XG59O1xuXG4vKipcbiAqIFNob3VsZCBiZSB1c2VkIHRvIGNyZWF0ZSBmdWxsIGZ1bmN0aW9uL2V2ZW50IG5hbWUgZnJvbSBqc29uIGFiaVxuICpcbiAqIEBtZXRob2QgdHJhbnNmb3JtVG9GdWxsTmFtZVxuICogQHBhcmFtIHtPYmplY3R9IGpzb24tYWJpXG4gKiBAcmV0dXJuIHtTdHJpbmd9IGZ1bGwgZm5jdGlvbi9ldmVudCBuYW1lXG4gKi9cbnZhciB0cmFuc2Zvcm1Ub0Z1bGxOYW1lID0gZnVuY3Rpb24gKGpzb24pIHtcbiAgICBpZiAoanNvbi5uYW1lLmluZGV4T2YoJygnKSAhPT0gLTEpIHtcbiAgICAgICAgcmV0dXJuIGpzb24ubmFtZTtcbiAgICB9XG5cbiAgICB2YXIgdHlwZU5hbWUgPSBqc29uLmlucHV0cy5tYXAoZnVuY3Rpb24oaSl7cmV0dXJuIGkudHlwZTsgfSkuam9pbigpO1xuICAgIHJldHVybiBqc29uLm5hbWUgKyAnKCcgKyB0eXBlTmFtZSArICcpJztcbn07XG5cbi8qKlxuICogU2hvdWxkIGJlIGNhbGxlZCB0byBnZXQgZGlzcGxheSBuYW1lIG9mIGNvbnRyYWN0IGZ1bmN0aW9uXG4gKlxuICogQG1ldGhvZCBleHRyYWN0RGlzcGxheU5hbWVcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIG9mIGZ1bmN0aW9uL2V2ZW50XG4gKiBAcmV0dXJucyB7U3RyaW5nfSBkaXNwbGF5IG5hbWUgZm9yIGZ1bmN0aW9uL2V2ZW50IGVnLiBtdWx0aXBseSh1aW50MjU2KSAtPiBtdWx0aXBseVxuICovXG52YXIgZXh0cmFjdERpc3BsYXlOYW1lID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB2YXIgbGVuZ3RoID0gbmFtZS5pbmRleE9mKCcoJyk7XG4gICAgcmV0dXJuIGxlbmd0aCAhPT0gLTEgPyBuYW1lLnN1YnN0cigwLCBsZW5ndGgpIDogbmFtZTtcbn07XG5cbi8vLyBAcmV0dXJucyBvdmVybG9hZGVkIHBhcnQgb2YgZnVuY3Rpb24vZXZlbnQgbmFtZVxudmFyIGV4dHJhY3RUeXBlTmFtZSA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgLy8vIFRPRE86IG1ha2UgaXQgaW52dWxuZXJhYmxlXG4gICAgdmFyIGxlbmd0aCA9IG5hbWUuaW5kZXhPZignKCcpO1xuICAgIHJldHVybiBsZW5ndGggIT09IC0xID8gbmFtZS5zdWJzdHIobGVuZ3RoICsgMSwgbmFtZS5sZW5ndGggLSAxIC0gKGxlbmd0aCArIDEpKS5yZXBsYWNlKCcgJywgJycpIDogXCJcIjtcbn07XG5cbi8qKlxuICogQ29udmVydHMgdmFsdWUgdG8gaXQncyBkZWNpbWFsIHJlcHJlc2VudGF0aW9uIGluIHN0cmluZ1xuICpcbiAqIEBtZXRob2QgdG9EZWNpbWFsXG4gKiBAcGFyYW0ge1N0cmluZ3xOdW1iZXJ8QmlnTnVtYmVyfVxuICogQHJldHVybiB7U3RyaW5nfVxuICovXG52YXIgdG9EZWNpbWFsID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgcmV0dXJuIHRvQmlnTnVtYmVyKHZhbHVlKS50b051bWJlcigpO1xufTtcblxuLyoqXG4gKiBDb252ZXJ0cyB2YWx1ZSB0byBpdCdzIGhleCByZXByZXNlbnRhdGlvblxuICpcbiAqIEBtZXRob2QgZnJvbURlY2ltYWxcbiAqIEBwYXJhbSB7U3RyaW5nfE51bWJlcnxCaWdOdW1iZXJ9XG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKi9cbnZhciBmcm9tRGVjaW1hbCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHZhciBudW1iZXIgPSB0b0JpZ051bWJlcih2YWx1ZSk7XG4gICAgdmFyIHJlc3VsdCA9IG51bWJlci50b1N0cmluZygxNik7XG5cbiAgICByZXR1cm4gbnVtYmVyLmxlc3NUaGFuKDApID8gJy0weCcgKyByZXN1bHQuc3Vic3RyKDEpIDogJzB4JyArIHJlc3VsdDtcbn07XG5cbi8qKlxuICogQXV0byBjb252ZXJ0cyBhbnkgZ2l2ZW4gdmFsdWUgaW50byBpdCdzIGhleCByZXByZXNlbnRhdGlvbi5cbiAqXG4gKiBBbmQgZXZlbiBzdHJpbmdpZnlzIG9iamVjdHMgYmVmb3JlLlxuICpcbiAqIEBtZXRob2QgdG9IZXhcbiAqIEBwYXJhbSB7U3RyaW5nfE51bWJlcnxCaWdOdW1iZXJ8T2JqZWN0fVxuICogQHJldHVybiB7U3RyaW5nfVxuICovXG52YXIgdG9IZXggPSBmdW5jdGlvbiAodmFsKSB7XG4gICAgLypqc2hpbnQgbWF4Y29tcGxleGl0eTogOCAqL1xuXG4gICAgaWYgKGlzQm9vbGVhbih2YWwpKVxuICAgICAgICByZXR1cm4gZnJvbURlY2ltYWwoK3ZhbCk7XG5cbiAgICBpZiAoaXNCaWdOdW1iZXIodmFsKSlcbiAgICAgICAgcmV0dXJuIGZyb21EZWNpbWFsKHZhbCk7XG5cbiAgICBpZiAoaXNPYmplY3QodmFsKSlcbiAgICAgICAgcmV0dXJuIGZyb21VdGY4KEpTT04uc3RyaW5naWZ5KHZhbCkpO1xuXG4gICAgLy8gaWYgaXRzIGEgbmVnYXRpdmUgbnVtYmVyLCBwYXNzIGl0IHRocm91Z2ggZnJvbURlY2ltYWxcbiAgICBpZiAoaXNTdHJpbmcodmFsKSkge1xuICAgICAgICBpZiAodmFsLmluZGV4T2YoJy0weCcpID09PSAwKVxuICAgICAgICAgICAgcmV0dXJuIGZyb21EZWNpbWFsKHZhbCk7XG4gICAgICAgIGVsc2UgaWYodmFsLmluZGV4T2YoJzB4JykgPT09IDApXG4gICAgICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgICBlbHNlIGlmICghaXNGaW5pdGUodmFsKSlcbiAgICAgICAgICAgIHJldHVybiBmcm9tQXNjaWkodmFsKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZnJvbURlY2ltYWwodmFsKTtcbn07XG5cbi8qKlxuICogUmV0dXJucyB2YWx1ZSBvZiB1bml0IGluIFdlaVxuICpcbiAqIEBtZXRob2QgZ2V0VmFsdWVPZlVuaXRcbiAqIEBwYXJhbSB7U3RyaW5nfSB1bml0IHRoZSB1bml0IHRvIGNvbnZlcnQgdG8sIGRlZmF1bHQgZXRoZXJcbiAqIEByZXR1cm5zIHtCaWdOdW1iZXJ9IHZhbHVlIG9mIHRoZSB1bml0IChpbiBXZWkpXG4gKiBAdGhyb3dzIGVycm9yIGlmIHRoZSB1bml0IGlzIG5vdCBjb3JyZWN0OndcbiAqL1xudmFyIGdldFZhbHVlT2ZVbml0ID0gZnVuY3Rpb24gKHVuaXQpIHtcbiAgICB1bml0ID0gdW5pdCA/IHVuaXQudG9Mb3dlckNhc2UoKSA6ICdldGhlcic7XG4gICAgdmFyIHVuaXRWYWx1ZSA9IHVuaXRNYXBbdW5pdF07XG4gICAgaWYgKHVuaXRWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVGhpcyB1bml0IGRvZXNuXFwndCBleGlzdHMsIHBsZWFzZSB1c2UgdGhlIG9uZSBvZiB0aGUgZm9sbG93aW5nIHVuaXRzJyArIEpTT04uc3RyaW5naWZ5KHVuaXRNYXAsIG51bGwsIDIpKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBCaWdOdW1iZXIodW5pdFZhbHVlLCAxMCk7XG59O1xuXG4vKipcbiAqIFRha2VzIGEgbnVtYmVyIG9mIHdlaSBhbmQgY29udmVydHMgaXQgdG8gYW55IG90aGVyIGV0aGVyIHVuaXQuXG4gKlxuICogUG9zc2libGUgdW5pdHMgYXJlOlxuICogICBTSSBTaG9ydCAgIFNJIEZ1bGwgICAgICAgIEVmZmlneSAgICAgICBPdGhlclxuICogLSBrd2VpICAgICAgIGZlbXRvZXRoZXIgICAgIGJhYmJhZ2VcbiAqIC0gbXdlaSAgICAgICBwaWNvZXRoZXIgICAgICBsb3ZlbGFjZVxuICogLSBnd2VpICAgICAgIG5hbm9ldGhlciAgICAgIHNoYW5ub24gICAgICBuYW5vXG4gKiAtIC0tICAgICAgICAgbWljcm9ldGhlciAgICAgc3phYm8gICAgICAgIG1pY3JvXG4gKiAtIC0tICAgICAgICAgbWlsbGlldGhlciAgICAgZmlubmV5ICAgICAgIG1pbGxpXG4gKiAtIGV0aGVyICAgICAgLS0gICAgICAgICAgICAgLS1cbiAqIC0ga2V0aGVyICAgICAgICAgICAgICAgICAgICAtLSAgICAgICAgICAgZ3JhbmRcbiAqIC0gbWV0aGVyXG4gKiAtIGdldGhlclxuICogLSB0ZXRoZXJcbiAqXG4gKiBAbWV0aG9kIGZyb21XZWlcbiAqIEBwYXJhbSB7TnVtYmVyfFN0cmluZ30gbnVtYmVyIGNhbiBiZSBhIG51bWJlciwgbnVtYmVyIHN0cmluZyBvciBhIEhFWCBvZiBhIGRlY2ltYWxcbiAqIEBwYXJhbSB7U3RyaW5nfSB1bml0IHRoZSB1bml0IHRvIGNvbnZlcnQgdG8sIGRlZmF1bHQgZXRoZXJcbiAqIEByZXR1cm4ge1N0cmluZ3xPYmplY3R9IFdoZW4gZ2l2ZW4gYSBCaWdOdW1iZXIgb2JqZWN0IGl0IHJldHVybnMgb25lIGFzIHdlbGwsIG90aGVyd2lzZSBhIG51bWJlclxuKi9cbnZhciBmcm9tV2VpID0gZnVuY3Rpb24obnVtYmVyLCB1bml0KSB7XG4gICAgdmFyIHJldHVyblZhbHVlID0gdG9CaWdOdW1iZXIobnVtYmVyKS5kaXZpZGVkQnkoZ2V0VmFsdWVPZlVuaXQodW5pdCkpO1xuXG4gICAgcmV0dXJuIGlzQmlnTnVtYmVyKG51bWJlcikgPyByZXR1cm5WYWx1ZSA6IHJldHVyblZhbHVlLnRvU3RyaW5nKDEwKTtcbn07XG5cbi8qKlxuICogVGFrZXMgYSBudW1iZXIgb2YgYSB1bml0IGFuZCBjb252ZXJ0cyBpdCB0byB3ZWkuXG4gKlxuICogUG9zc2libGUgdW5pdHMgYXJlOlxuICogICBTSSBTaG9ydCAgIFNJIEZ1bGwgICAgICAgIEVmZmlneSAgICAgICBPdGhlclxuICogLSBrd2VpICAgICAgIGZlbXRvZXRoZXIgICAgIGJhYmJhZ2VcbiAqIC0gbXdlaSAgICAgICBwaWNvZXRoZXIgICAgICBsb3ZlbGFjZVxuICogLSBnd2VpICAgICAgIG5hbm9ldGhlciAgICAgIHNoYW5ub24gICAgICBuYW5vXG4gKiAtIC0tICAgICAgICAgbWljcm9ldGhlciAgICAgc3phYm8gICAgICAgIG1pY3JvXG4gKiAtIC0tICAgICAgICAgbWljcm9ldGhlciAgICAgc3phYm8gICAgICAgIG1pY3JvXG4gKiAtIC0tICAgICAgICAgbWlsbGlldGhlciAgICAgZmlubmV5ICAgICAgIG1pbGxpXG4gKiAtIGV0aGVyICAgICAgLS0gICAgICAgICAgICAgLS1cbiAqIC0ga2V0aGVyICAgICAgICAgICAgICAgICAgICAtLSAgICAgICAgICAgZ3JhbmRcbiAqIC0gbWV0aGVyXG4gKiAtIGdldGhlclxuICogLSB0ZXRoZXJcbiAqXG4gKiBAbWV0aG9kIHRvV2VpXG4gKiBAcGFyYW0ge051bWJlcnxTdHJpbmd8QmlnTnVtYmVyfSBudW1iZXIgY2FuIGJlIGEgbnVtYmVyLCBudW1iZXIgc3RyaW5nIG9yIGEgSEVYIG9mIGEgZGVjaW1hbFxuICogQHBhcmFtIHtTdHJpbmd9IHVuaXQgdGhlIHVuaXQgdG8gY29udmVydCBmcm9tLCBkZWZhdWx0IGV0aGVyXG4gKiBAcmV0dXJuIHtTdHJpbmd8T2JqZWN0fSBXaGVuIGdpdmVuIGEgQmlnTnVtYmVyIG9iamVjdCBpdCByZXR1cm5zIG9uZSBhcyB3ZWxsLCBvdGhlcndpc2UgYSBudW1iZXJcbiovXG52YXIgdG9XZWkgPSBmdW5jdGlvbihudW1iZXIsIHVuaXQpIHtcbiAgICB2YXIgcmV0dXJuVmFsdWUgPSB0b0JpZ051bWJlcihudW1iZXIpLnRpbWVzKGdldFZhbHVlT2ZVbml0KHVuaXQpKTtcblxuICAgIHJldHVybiBpc0JpZ051bWJlcihudW1iZXIpID8gcmV0dXJuVmFsdWUgOiByZXR1cm5WYWx1ZS50b1N0cmluZygxMCk7XG59O1xuXG4vKipcbiAqIFRha2VzIGFuIGlucHV0IGFuZCB0cmFuc2Zvcm1zIGl0IGludG8gYW4gYmlnbnVtYmVyXG4gKlxuICogQG1ldGhvZCB0b0JpZ051bWJlclxuICogQHBhcmFtIHtOdW1iZXJ8U3RyaW5nfEJpZ051bWJlcn0gYSBudW1iZXIsIHN0cmluZywgSEVYIHN0cmluZyBvciBCaWdOdW1iZXJcbiAqIEByZXR1cm4ge0JpZ051bWJlcn0gQmlnTnVtYmVyXG4qL1xudmFyIHRvQmlnTnVtYmVyID0gZnVuY3Rpb24obnVtYmVyKSB7XG4gICAgLypqc2hpbnQgbWF4Y29tcGxleGl0eTo1ICovXG4gICAgbnVtYmVyID0gbnVtYmVyIHx8IDA7XG4gICAgaWYgKGlzQmlnTnVtYmVyKG51bWJlcikpXG4gICAgICAgIHJldHVybiBudW1iZXI7XG5cbiAgICBpZiAoaXNTdHJpbmcobnVtYmVyKSAmJiAobnVtYmVyLmluZGV4T2YoJzB4JykgPT09IDAgfHwgbnVtYmVyLmluZGV4T2YoJy0weCcpID09PSAwKSkge1xuICAgICAgICByZXR1cm4gbmV3IEJpZ051bWJlcihudW1iZXIucmVwbGFjZSgnMHgnLCcnKSwgMTYpO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgQmlnTnVtYmVyKG51bWJlci50b1N0cmluZygxMCksIDEwKTtcbn07XG5cbi8qKlxuICogVGFrZXMgYW5kIGlucHV0IHRyYW5zZm9ybXMgaXQgaW50byBiaWdudW1iZXIgYW5kIGlmIGl0IGlzIG5lZ2F0aXZlIHZhbHVlLCBpbnRvIHR3bydzIGNvbXBsZW1lbnRcbiAqXG4gKiBAbWV0aG9kIHRvVHdvc0NvbXBsZW1lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfFN0cmluZ3xCaWdOdW1iZXJ9XG4gKiBAcmV0dXJuIHtCaWdOdW1iZXJ9XG4gKi9cbnZhciB0b1R3b3NDb21wbGVtZW50ID0gZnVuY3Rpb24gKG51bWJlcikge1xuICAgIHZhciBiaWdOdW1iZXIgPSB0b0JpZ051bWJlcihudW1iZXIpO1xuICAgIGlmIChiaWdOdW1iZXIubGVzc1RoYW4oMCkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBCaWdOdW1iZXIoXCJmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmXCIsIDE2KS5wbHVzKGJpZ051bWJlcikucGx1cygxKTtcbiAgICB9XG4gICAgcmV0dXJuIGJpZ051bWJlcjtcbn07XG5cbi8qKlxuICogQ2hlY2tzIGlmIHRoZSBnaXZlbiBzdHJpbmcgaXMgc3RyaWN0bHkgYW4gYWRkcmVzc1xuICpcbiAqIEBtZXRob2QgaXNTdHJpY3RBZGRyZXNzXG4gKiBAcGFyYW0ge1N0cmluZ30gYWRkcmVzcyB0aGUgZ2l2ZW4gSEVYIGFkcmVzc1xuICogQHJldHVybiB7Qm9vbGVhbn1cbiovXG52YXIgaXNTdHJpY3RBZGRyZXNzID0gZnVuY3Rpb24gKGFkZHJlc3MpIHtcbiAgICByZXR1cm4gL14weFswLTlhLWZdezQwfSQvaS50ZXN0KGFkZHJlc3MpO1xufTtcblxuLyoqXG4gKiBDaGVja3MgaWYgdGhlIGdpdmVuIHN0cmluZyBpcyBhbiBhZGRyZXNzXG4gKlxuICogQG1ldGhvZCBpc0FkZHJlc3NcbiAqIEBwYXJhbSB7U3RyaW5nfSBhZGRyZXNzIHRoZSBnaXZlbiBIRVggYWRyZXNzXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuKi9cbnZhciBpc0FkZHJlc3MgPSBmdW5jdGlvbiAoYWRkcmVzcykge1xuICAgIGlmICghL14oMHgpP1swLTlhLWZdezQwfSQvaS50ZXN0KGFkZHJlc3MpKSB7XG4gICAgICAgIC8vIGNoZWNrIGlmIGl0IGhhcyB0aGUgYmFzaWMgcmVxdWlyZW1lbnRzIG9mIGFuIGFkZHJlc3NcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gZWxzZSBpZiAoL14oMHgpP1swLTlhLWZdezQwfSQvLnRlc3QoYWRkcmVzcykgfHwgL14oMHgpP1swLTlBLUZdezQwfSQvLnRlc3QoYWRkcmVzcykpIHtcbiAgICAgICAgLy8gSWYgaXQncyBhbGwgc21hbGwgY2FwcyBvciBhbGwgYWxsIGNhcHMsIHJldHVybiB0cnVlXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIE90aGVyd2lzZSBjaGVjayBlYWNoIGNhc2VcbiAgICAgICAgcmV0dXJuIGlzQ2hlY2tzdW1BZGRyZXNzKGFkZHJlc3MpO1xuICAgIH1cbn07XG5cblxuXG4vKipcbiAqIENoZWNrcyBpZiB0aGUgZ2l2ZW4gc3RyaW5nIGlzIGEgY2hlY2tzdW1tZWQgYWRkcmVzc1xuICpcbiAqIEBtZXRob2QgaXNDaGVja3N1bUFkZHJlc3NcbiAqIEBwYXJhbSB7U3RyaW5nfSBhZGRyZXNzIHRoZSBnaXZlbiBIRVggYWRyZXNzXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuKi9cbnZhciBpc0NoZWNrc3VtQWRkcmVzcyA9IGZ1bmN0aW9uIChhZGRyZXNzKSB7ICAgIFxuICAgIC8vIENoZWNrIGVhY2ggY2FzZVxuICAgIGFkZHJlc3MgPSBhZGRyZXNzLnJlcGxhY2UoJzB4JywnJyk7XG4gICAgdmFyIGFkZHJlc3NIYXNoID0gc2hhMyhhZGRyZXNzLnRvTG93ZXJDYXNlKCkpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCA0MDsgaSsrICkgeyBcbiAgICAgICAgLy8gdGhlIG50aCBsZXR0ZXIgc2hvdWxkIGJlIHVwcGVyY2FzZSBpZiB0aGUgbnRoIGRpZ2l0IG9mIGNhc2VtYXAgaXMgMVxuICAgICAgICBpZiAoKHBhcnNlSW50KGFkZHJlc3NIYXNoW2ldLCAxNikgPiA3ICYmIGFkZHJlc3NbaV0udG9VcHBlckNhc2UoKSAhPT0gYWRkcmVzc1tpXSkgfHwgKHBhcnNlSW50KGFkZHJlc3NIYXNoW2ldLCAxNikgPD0gNyAmJiBhZGRyZXNzW2ldLnRvTG93ZXJDYXNlKCkgIT09IGFkZHJlc3NbaV0pKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7ICAgIFxufTtcblxuXG5cbi8qKlxuICogTWFrZXMgYSBjaGVja3N1bSBhZGRyZXNzXG4gKlxuICogQG1ldGhvZCB0b0NoZWNrc3VtQWRkcmVzc1xuICogQHBhcmFtIHtTdHJpbmd9IGFkZHJlc3MgdGhlIGdpdmVuIEhFWCBhZHJlc3NcbiAqIEByZXR1cm4ge1N0cmluZ31cbiovXG52YXIgdG9DaGVja3N1bUFkZHJlc3MgPSBmdW5jdGlvbiAoYWRkcmVzcykgeyBcbiAgICBpZiAodHlwZW9mIGFkZHJlc3MgPT09ICd1bmRlZmluZWQnKSByZXR1cm4gJyc7XG5cbiAgICBhZGRyZXNzID0gYWRkcmVzcy50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoJzB4JywnJyk7XG4gICAgdmFyIGFkZHJlc3NIYXNoID0gc2hhMyhhZGRyZXNzKTtcbiAgICB2YXIgY2hlY2tzdW1BZGRyZXNzID0gJzB4JztcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWRkcmVzcy5sZW5ndGg7IGkrKyApIHsgXG4gICAgICAgIC8vIElmIGl0aCBjaGFyYWN0ZXIgaXMgOSB0byBmIHRoZW4gbWFrZSBpdCB1cHBlcmNhc2UgXG4gICAgICAgIGlmIChwYXJzZUludChhZGRyZXNzSGFzaFtpXSwgMTYpID4gNykge1xuICAgICAgICAgIGNoZWNrc3VtQWRkcmVzcyArPSBhZGRyZXNzW2ldLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjaGVja3N1bUFkZHJlc3MgKz0gYWRkcmVzc1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY2hlY2tzdW1BZGRyZXNzO1xufTtcblxuLyoqXG4gKiBUcmFuc2Zvcm1zIGdpdmVuIHN0cmluZyB0byB2YWxpZCAyMCBieXRlcy1sZW5ndGggYWRkcmVzIHdpdGggMHggcHJlZml4XG4gKlxuICogQG1ldGhvZCB0b0FkZHJlc3NcbiAqIEBwYXJhbSB7U3RyaW5nfSBhZGRyZXNzXG4gKiBAcmV0dXJuIHtTdHJpbmd9IGZvcm1hdHRlZCBhZGRyZXNzXG4gKi9cbnZhciB0b0FkZHJlc3MgPSBmdW5jdGlvbiAoYWRkcmVzcykge1xuICAgIGlmIChpc1N0cmljdEFkZHJlc3MoYWRkcmVzcykpIHtcbiAgICAgICAgcmV0dXJuIGFkZHJlc3M7XG4gICAgfVxuXG4gICAgaWYgKC9eWzAtOWEtZl17NDB9JC8udGVzdChhZGRyZXNzKSkge1xuICAgICAgICByZXR1cm4gJzB4JyArIGFkZHJlc3M7XG4gICAgfVxuXG4gICAgcmV0dXJuICcweCcgKyBwYWRMZWZ0KHRvSGV4KGFkZHJlc3MpLnN1YnN0cigyKSwgNDApO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgb2JqZWN0IGlzIEJpZ051bWJlciwgb3RoZXJ3aXNlIGZhbHNlXG4gKlxuICogQG1ldGhvZCBpc0JpZ051bWJlclxuICogQHBhcmFtIHtPYmplY3R9XG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICovXG52YXIgaXNCaWdOdW1iZXIgPSBmdW5jdGlvbiAob2JqZWN0KSB7XG4gICAgcmV0dXJuIG9iamVjdCBpbnN0YW5jZW9mIEJpZ051bWJlciB8fFxuICAgICAgICAob2JqZWN0ICYmIG9iamVjdC5jb25zdHJ1Y3RvciAmJiBvYmplY3QuY29uc3RydWN0b3IubmFtZSA9PT0gJ0JpZ051bWJlcicpO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgb2JqZWN0IGlzIHN0cmluZywgb3RoZXJ3aXNlIGZhbHNlXG4gKlxuICogQG1ldGhvZCBpc1N0cmluZ1xuICogQHBhcmFtIHtPYmplY3R9XG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICovXG52YXIgaXNTdHJpbmcgPSBmdW5jdGlvbiAob2JqZWN0KSB7XG4gICAgcmV0dXJuIHR5cGVvZiBvYmplY3QgPT09ICdzdHJpbmcnIHx8XG4gICAgICAgIChvYmplY3QgJiYgb2JqZWN0LmNvbnN0cnVjdG9yICYmIG9iamVjdC5jb25zdHJ1Y3Rvci5uYW1lID09PSAnU3RyaW5nJyk7XG59O1xuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiBvYmplY3QgaXMgZnVuY3Rpb24sIG90aGVyd2lzZSBmYWxzZVxuICpcbiAqIEBtZXRob2QgaXNGdW5jdGlvblxuICogQHBhcmFtIHtPYmplY3R9XG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICovXG52YXIgaXNGdW5jdGlvbiA9IGZ1bmN0aW9uIChvYmplY3QpIHtcbiAgICByZXR1cm4gdHlwZW9mIG9iamVjdCA9PT0gJ2Z1bmN0aW9uJztcbn07XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIG9iamVjdCBpcyBPYmpldCwgb3RoZXJ3aXNlIGZhbHNlXG4gKlxuICogQG1ldGhvZCBpc09iamVjdFxuICogQHBhcmFtIHtPYmplY3R9XG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICovXG52YXIgaXNPYmplY3QgPSBmdW5jdGlvbiAob2JqZWN0KSB7XG4gICAgcmV0dXJuIHR5cGVvZiBvYmplY3QgPT09ICdvYmplY3QnO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgb2JqZWN0IGlzIGJvb2xlYW4sIG90aGVyd2lzZSBmYWxzZVxuICpcbiAqIEBtZXRob2QgaXNCb29sZWFuXG4gKiBAcGFyYW0ge09iamVjdH1cbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cbnZhciBpc0Jvb2xlYW4gPSBmdW5jdGlvbiAob2JqZWN0KSB7XG4gICAgcmV0dXJuIHR5cGVvZiBvYmplY3QgPT09ICdib29sZWFuJztcbn07XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIG9iamVjdCBpcyBhcnJheSwgb3RoZXJ3aXNlIGZhbHNlXG4gKlxuICogQG1ldGhvZCBpc0FycmF5XG4gKiBAcGFyYW0ge09iamVjdH1cbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cbnZhciBpc0FycmF5ID0gZnVuY3Rpb24gKG9iamVjdCkge1xuICAgIHJldHVybiBvYmplY3QgaW5zdGFuY2VvZiBBcnJheTtcbn07XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIGdpdmVuIHN0cmluZyBpcyB2YWxpZCBqc29uIG9iamVjdFxuICpcbiAqIEBtZXRob2QgaXNKc29uXG4gKiBAcGFyYW0ge1N0cmluZ31cbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cbnZhciBpc0pzb24gPSBmdW5jdGlvbiAoc3RyKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuICEhSlNPTi5wYXJzZShzdHIpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIHBhZExlZnQ6IHBhZExlZnQsXG4gICAgcGFkUmlnaHQ6IHBhZFJpZ2h0LFxuICAgIHRvSGV4OiB0b0hleCxcbiAgICB0b0RlY2ltYWw6IHRvRGVjaW1hbCxcbiAgICBmcm9tRGVjaW1hbDogZnJvbURlY2ltYWwsXG4gICAgdG9VdGY4OiB0b1V0ZjgsXG4gICAgdG9Bc2NpaTogdG9Bc2NpaSxcbiAgICBmcm9tVXRmODogZnJvbVV0ZjgsXG4gICAgZnJvbUFzY2lpOiBmcm9tQXNjaWksXG4gICAgdHJhbnNmb3JtVG9GdWxsTmFtZTogdHJhbnNmb3JtVG9GdWxsTmFtZSxcbiAgICBleHRyYWN0RGlzcGxheU5hbWU6IGV4dHJhY3REaXNwbGF5TmFtZSxcbiAgICBleHRyYWN0VHlwZU5hbWU6IGV4dHJhY3RUeXBlTmFtZSxcbiAgICB0b1dlaTogdG9XZWksXG4gICAgZnJvbVdlaTogZnJvbVdlaSxcbiAgICB0b0JpZ051bWJlcjogdG9CaWdOdW1iZXIsXG4gICAgdG9Ud29zQ29tcGxlbWVudDogdG9Ud29zQ29tcGxlbWVudCxcbiAgICB0b0FkZHJlc3M6IHRvQWRkcmVzcyxcbiAgICBpc0JpZ051bWJlcjogaXNCaWdOdW1iZXIsXG4gICAgaXNTdHJpY3RBZGRyZXNzOiBpc1N0cmljdEFkZHJlc3MsXG4gICAgaXNBZGRyZXNzOiBpc0FkZHJlc3MsXG4gICAgaXNDaGVja3N1bUFkZHJlc3M6IGlzQ2hlY2tzdW1BZGRyZXNzLFxuICAgIHRvQ2hlY2tzdW1BZGRyZXNzOiB0b0NoZWNrc3VtQWRkcmVzcyxcbiAgICBpc0Z1bmN0aW9uOiBpc0Z1bmN0aW9uLFxuICAgIGlzU3RyaW5nOiBpc1N0cmluZyxcbiAgICBpc09iamVjdDogaXNPYmplY3QsXG4gICAgaXNCb29sZWFuOiBpc0Jvb2xlYW4sXG4gICAgaXNBcnJheTogaXNBcnJheSxcbiAgICBpc0pzb246IGlzSnNvblxufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vd2ViMy9saWIvdXRpbHMvdXRpbHMuanMiLCI7KGZ1bmN0aW9uIChyb290LCBmYWN0b3J5KSB7XG5cdGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gXCJvYmplY3RcIikge1xuXHRcdC8vIENvbW1vbkpTXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKFwiLi9jb3JlXCIpKTtcblx0fVxuXHRlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCkge1xuXHRcdC8vIEFNRFxuXHRcdGRlZmluZShbXCIuL2NvcmVcIl0sIGZhY3RvcnkpO1xuXHR9XG5cdGVsc2Uge1xuXHRcdC8vIEdsb2JhbCAoYnJvd3Nlcilcblx0XHRmYWN0b3J5KHJvb3QuQ3J5cHRvSlMpO1xuXHR9XG59KHRoaXMsIGZ1bmN0aW9uIChDcnlwdG9KUykge1xuXG5cdChmdW5jdGlvbiAoKSB7XG5cdCAgICAvLyBTaG9ydGN1dHNcblx0ICAgIHZhciBDID0gQ3J5cHRvSlM7XG5cdCAgICB2YXIgQ19saWIgPSBDLmxpYjtcblx0ICAgIHZhciBXb3JkQXJyYXkgPSBDX2xpYi5Xb3JkQXJyYXk7XG5cdCAgICB2YXIgQ19lbmMgPSBDLmVuYztcblxuXHQgICAgLyoqXG5cdCAgICAgKiBCYXNlNjQgZW5jb2Rpbmcgc3RyYXRlZ3kuXG5cdCAgICAgKi9cblx0ICAgIHZhciBCYXNlNjQgPSBDX2VuYy5CYXNlNjQgPSB7XG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogQ29udmVydHMgYSB3b3JkIGFycmF5IHRvIGEgQmFzZTY0IHN0cmluZy5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBwYXJhbSB7V29yZEFycmF5fSB3b3JkQXJyYXkgVGhlIHdvcmQgYXJyYXkuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBCYXNlNjQgc3RyaW5nLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHN0YXRpY1xuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQGV4YW1wbGVcblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqICAgICB2YXIgYmFzZTY0U3RyaW5nID0gQ3J5cHRvSlMuZW5jLkJhc2U2NC5zdHJpbmdpZnkod29yZEFycmF5KTtcblx0ICAgICAgICAgKi9cblx0ICAgICAgICBzdHJpbmdpZnk6IGZ1bmN0aW9uICh3b3JkQXJyYXkpIHtcblx0ICAgICAgICAgICAgLy8gU2hvcnRjdXRzXG5cdCAgICAgICAgICAgIHZhciB3b3JkcyA9IHdvcmRBcnJheS53b3Jkcztcblx0ICAgICAgICAgICAgdmFyIHNpZ0J5dGVzID0gd29yZEFycmF5LnNpZ0J5dGVzO1xuXHQgICAgICAgICAgICB2YXIgbWFwID0gdGhpcy5fbWFwO1xuXG5cdCAgICAgICAgICAgIC8vIENsYW1wIGV4Y2VzcyBiaXRzXG5cdCAgICAgICAgICAgIHdvcmRBcnJheS5jbGFtcCgpO1xuXG5cdCAgICAgICAgICAgIC8vIENvbnZlcnRcblx0ICAgICAgICAgICAgdmFyIGJhc2U2NENoYXJzID0gW107XG5cdCAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2lnQnl0ZXM7IGkgKz0gMykge1xuXHQgICAgICAgICAgICAgICAgdmFyIGJ5dGUxID0gKHdvcmRzW2kgPj4+IDJdICAgICAgID4+PiAoMjQgLSAoaSAlIDQpICogOCkpICAgICAgICYgMHhmZjtcblx0ICAgICAgICAgICAgICAgIHZhciBieXRlMiA9ICh3b3Jkc1soaSArIDEpID4+PiAyXSA+Pj4gKDI0IC0gKChpICsgMSkgJSA0KSAqIDgpKSAmIDB4ZmY7XG5cdCAgICAgICAgICAgICAgICB2YXIgYnl0ZTMgPSAod29yZHNbKGkgKyAyKSA+Pj4gMl0gPj4+ICgyNCAtICgoaSArIDIpICUgNCkgKiA4KSkgJiAweGZmO1xuXG5cdCAgICAgICAgICAgICAgICB2YXIgdHJpcGxldCA9IChieXRlMSA8PCAxNikgfCAoYnl0ZTIgPDwgOCkgfCBieXRlMztcblxuXHQgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IChqIDwgNCkgJiYgKGkgKyBqICogMC43NSA8IHNpZ0J5dGVzKTsgaisrKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgYmFzZTY0Q2hhcnMucHVzaChtYXAuY2hhckF0KCh0cmlwbGV0ID4+PiAoNiAqICgzIC0gaikpKSAmIDB4M2YpKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIC8vIEFkZCBwYWRkaW5nXG5cdCAgICAgICAgICAgIHZhciBwYWRkaW5nQ2hhciA9IG1hcC5jaGFyQXQoNjQpO1xuXHQgICAgICAgICAgICBpZiAocGFkZGluZ0NoYXIpIHtcblx0ICAgICAgICAgICAgICAgIHdoaWxlIChiYXNlNjRDaGFycy5sZW5ndGggJSA0KSB7XG5cdCAgICAgICAgICAgICAgICAgICAgYmFzZTY0Q2hhcnMucHVzaChwYWRkaW5nQ2hhcik7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICByZXR1cm4gYmFzZTY0Q2hhcnMuam9pbignJyk7XG5cdCAgICAgICAgfSxcblxuXHQgICAgICAgIC8qKlxuXHQgICAgICAgICAqIENvbnZlcnRzIGEgQmFzZTY0IHN0cmluZyB0byBhIHdvcmQgYXJyYXkuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gYmFzZTY0U3RyIFRoZSBCYXNlNjQgc3RyaW5nLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHJldHVybiB7V29yZEFycmF5fSBUaGUgd29yZCBhcnJheS5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBzdGF0aWNcblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBleGFtcGxlXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiAgICAgdmFyIHdvcmRBcnJheSA9IENyeXB0b0pTLmVuYy5CYXNlNjQucGFyc2UoYmFzZTY0U3RyaW5nKTtcblx0ICAgICAgICAgKi9cblx0ICAgICAgICBwYXJzZTogZnVuY3Rpb24gKGJhc2U2NFN0cikge1xuXHQgICAgICAgICAgICAvLyBTaG9ydGN1dHNcblx0ICAgICAgICAgICAgdmFyIGJhc2U2NFN0ckxlbmd0aCA9IGJhc2U2NFN0ci5sZW5ndGg7XG5cdCAgICAgICAgICAgIHZhciBtYXAgPSB0aGlzLl9tYXA7XG5cdCAgICAgICAgICAgIHZhciByZXZlcnNlTWFwID0gdGhpcy5fcmV2ZXJzZU1hcDtcblxuXHQgICAgICAgICAgICBpZiAoIXJldmVyc2VNYXApIHtcblx0ICAgICAgICAgICAgICAgICAgICByZXZlcnNlTWFwID0gdGhpcy5fcmV2ZXJzZU1hcCA9IFtdO1xuXHQgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbWFwLmxlbmd0aDsgaisrKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJldmVyc2VNYXBbbWFwLmNoYXJDb2RlQXQoaildID0gajtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAvLyBJZ25vcmUgcGFkZGluZ1xuXHQgICAgICAgICAgICB2YXIgcGFkZGluZ0NoYXIgPSBtYXAuY2hhckF0KDY0KTtcblx0ICAgICAgICAgICAgaWYgKHBhZGRpbmdDaGFyKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgcGFkZGluZ0luZGV4ID0gYmFzZTY0U3RyLmluZGV4T2YocGFkZGluZ0NoYXIpO1xuXHQgICAgICAgICAgICAgICAgaWYgKHBhZGRpbmdJbmRleCAhPT0gLTEpIHtcblx0ICAgICAgICAgICAgICAgICAgICBiYXNlNjRTdHJMZW5ndGggPSBwYWRkaW5nSW5kZXg7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAvLyBDb252ZXJ0XG5cdCAgICAgICAgICAgIHJldHVybiBwYXJzZUxvb3AoYmFzZTY0U3RyLCBiYXNlNjRTdHJMZW5ndGgsIHJldmVyc2VNYXApO1xuXG5cdCAgICAgICAgfSxcblxuXHQgICAgICAgIF9tYXA6ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvPSdcblx0ICAgIH07XG5cblx0ICAgIGZ1bmN0aW9uIHBhcnNlTG9vcChiYXNlNjRTdHIsIGJhc2U2NFN0ckxlbmd0aCwgcmV2ZXJzZU1hcCkge1xuXHQgICAgICB2YXIgd29yZHMgPSBbXTtcblx0ICAgICAgdmFyIG5CeXRlcyA9IDA7XG5cdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYmFzZTY0U3RyTGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgIGlmIChpICUgNCkge1xuXHQgICAgICAgICAgICAgIHZhciBiaXRzMSA9IHJldmVyc2VNYXBbYmFzZTY0U3RyLmNoYXJDb2RlQXQoaSAtIDEpXSA8PCAoKGkgJSA0KSAqIDIpO1xuXHQgICAgICAgICAgICAgIHZhciBiaXRzMiA9IHJldmVyc2VNYXBbYmFzZTY0U3RyLmNoYXJDb2RlQXQoaSldID4+PiAoNiAtIChpICUgNCkgKiAyKTtcblx0ICAgICAgICAgICAgICB3b3Jkc1tuQnl0ZXMgPj4+IDJdIHw9IChiaXRzMSB8IGJpdHMyKSA8PCAoMjQgLSAobkJ5dGVzICUgNCkgKiA4KTtcblx0ICAgICAgICAgICAgICBuQnl0ZXMrKztcblx0ICAgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gV29yZEFycmF5LmNyZWF0ZSh3b3JkcywgbkJ5dGVzKTtcblx0ICAgIH1cblx0fSgpKTtcblxuXG5cdHJldHVybiBDcnlwdG9KUy5lbmMuQmFzZTY0O1xuXG59KSk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9jcnlwdG8tanMvZW5jLWJhc2U2NC5qcyIsIjsoZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnksIHVuZGVmKSB7XG5cdGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gXCJvYmplY3RcIikge1xuXHRcdC8vIENvbW1vbkpTXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKFwiLi9jb3JlXCIpLCByZXF1aXJlKFwiLi9zaGExXCIpLCByZXF1aXJlKFwiLi9obWFjXCIpKTtcblx0fVxuXHRlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCkge1xuXHRcdC8vIEFNRFxuXHRcdGRlZmluZShbXCIuL2NvcmVcIiwgXCIuL3NoYTFcIiwgXCIuL2htYWNcIl0sIGZhY3RvcnkpO1xuXHR9XG5cdGVsc2Uge1xuXHRcdC8vIEdsb2JhbCAoYnJvd3Nlcilcblx0XHRmYWN0b3J5KHJvb3QuQ3J5cHRvSlMpO1xuXHR9XG59KHRoaXMsIGZ1bmN0aW9uIChDcnlwdG9KUykge1xuXG5cdChmdW5jdGlvbiAoKSB7XG5cdCAgICAvLyBTaG9ydGN1dHNcblx0ICAgIHZhciBDID0gQ3J5cHRvSlM7XG5cdCAgICB2YXIgQ19saWIgPSBDLmxpYjtcblx0ICAgIHZhciBCYXNlID0gQ19saWIuQmFzZTtcblx0ICAgIHZhciBXb3JkQXJyYXkgPSBDX2xpYi5Xb3JkQXJyYXk7XG5cdCAgICB2YXIgQ19hbGdvID0gQy5hbGdvO1xuXHQgICAgdmFyIE1ENSA9IENfYWxnby5NRDU7XG5cblx0ICAgIC8qKlxuXHQgICAgICogVGhpcyBrZXkgZGVyaXZhdGlvbiBmdW5jdGlvbiBpcyBtZWFudCB0byBjb25mb3JtIHdpdGggRVZQX0J5dGVzVG9LZXkuXG5cdCAgICAgKiB3d3cub3BlbnNzbC5vcmcvZG9jcy9jcnlwdG8vRVZQX0J5dGVzVG9LZXkuaHRtbFxuXHQgICAgICovXG5cdCAgICB2YXIgRXZwS0RGID0gQ19hbGdvLkV2cEtERiA9IEJhc2UuZXh0ZW5kKHtcblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBDb25maWd1cmF0aW9uIG9wdGlvbnMuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcHJvcGVydHkge251bWJlcn0ga2V5U2l6ZSBUaGUga2V5IHNpemUgaW4gd29yZHMgdG8gZ2VuZXJhdGUuIERlZmF1bHQ6IDQgKDEyOCBiaXRzKVxuXHQgICAgICAgICAqIEBwcm9wZXJ0eSB7SGFzaGVyfSBoYXNoZXIgVGhlIGhhc2ggYWxnb3JpdGhtIHRvIHVzZS4gRGVmYXVsdDogTUQ1XG5cdCAgICAgICAgICogQHByb3BlcnR5IHtudW1iZXJ9IGl0ZXJhdGlvbnMgVGhlIG51bWJlciBvZiBpdGVyYXRpb25zIHRvIHBlcmZvcm0uIERlZmF1bHQ6IDFcblx0ICAgICAgICAgKi9cblx0ICAgICAgICBjZmc6IEJhc2UuZXh0ZW5kKHtcblx0ICAgICAgICAgICAga2V5U2l6ZTogMTI4LzMyLFxuXHQgICAgICAgICAgICBoYXNoZXI6IE1ENSxcblx0ICAgICAgICAgICAgaXRlcmF0aW9uczogMVxuXHQgICAgICAgIH0pLFxuXG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogSW5pdGlhbGl6ZXMgYSBuZXdseSBjcmVhdGVkIGtleSBkZXJpdmF0aW9uIGZ1bmN0aW9uLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGNmZyAoT3B0aW9uYWwpIFRoZSBjb25maWd1cmF0aW9uIG9wdGlvbnMgdG8gdXNlIGZvciB0aGUgZGVyaXZhdGlvbi5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBleGFtcGxlXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiAgICAgdmFyIGtkZiA9IENyeXB0b0pTLmFsZ28uRXZwS0RGLmNyZWF0ZSgpO1xuXHQgICAgICAgICAqICAgICB2YXIga2RmID0gQ3J5cHRvSlMuYWxnby5FdnBLREYuY3JlYXRlKHsga2V5U2l6ZTogOCB9KTtcblx0ICAgICAgICAgKiAgICAgdmFyIGtkZiA9IENyeXB0b0pTLmFsZ28uRXZwS0RGLmNyZWF0ZSh7IGtleVNpemU6IDgsIGl0ZXJhdGlvbnM6IDEwMDAgfSk7XG5cdCAgICAgICAgICovXG5cdCAgICAgICAgaW5pdDogZnVuY3Rpb24gKGNmZykge1xuXHQgICAgICAgICAgICB0aGlzLmNmZyA9IHRoaXMuY2ZnLmV4dGVuZChjZmcpO1xuXHQgICAgICAgIH0sXG5cblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBEZXJpdmVzIGEga2V5IGZyb20gYSBwYXNzd29yZC5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBwYXJhbSB7V29yZEFycmF5fHN0cmluZ30gcGFzc3dvcmQgVGhlIHBhc3N3b3JkLlxuXHQgICAgICAgICAqIEBwYXJhbSB7V29yZEFycmF5fHN0cmluZ30gc2FsdCBBIHNhbHQuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcmV0dXJuIHtXb3JkQXJyYXl9IFRoZSBkZXJpdmVkIGtleS5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBleGFtcGxlXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiAgICAgdmFyIGtleSA9IGtkZi5jb21wdXRlKHBhc3N3b3JkLCBzYWx0KTtcblx0ICAgICAgICAgKi9cblx0ICAgICAgICBjb21wdXRlOiBmdW5jdGlvbiAocGFzc3dvcmQsIHNhbHQpIHtcblx0ICAgICAgICAgICAgLy8gU2hvcnRjdXRcblx0ICAgICAgICAgICAgdmFyIGNmZyA9IHRoaXMuY2ZnO1xuXG5cdCAgICAgICAgICAgIC8vIEluaXQgaGFzaGVyXG5cdCAgICAgICAgICAgIHZhciBoYXNoZXIgPSBjZmcuaGFzaGVyLmNyZWF0ZSgpO1xuXG5cdCAgICAgICAgICAgIC8vIEluaXRpYWwgdmFsdWVzXG5cdCAgICAgICAgICAgIHZhciBkZXJpdmVkS2V5ID0gV29yZEFycmF5LmNyZWF0ZSgpO1xuXG5cdCAgICAgICAgICAgIC8vIFNob3J0Y3V0c1xuXHQgICAgICAgICAgICB2YXIgZGVyaXZlZEtleVdvcmRzID0gZGVyaXZlZEtleS53b3Jkcztcblx0ICAgICAgICAgICAgdmFyIGtleVNpemUgPSBjZmcua2V5U2l6ZTtcblx0ICAgICAgICAgICAgdmFyIGl0ZXJhdGlvbnMgPSBjZmcuaXRlcmF0aW9ucztcblxuXHQgICAgICAgICAgICAvLyBHZW5lcmF0ZSBrZXlcblx0ICAgICAgICAgICAgd2hpbGUgKGRlcml2ZWRLZXlXb3Jkcy5sZW5ndGggPCBrZXlTaXplKSB7XG5cdCAgICAgICAgICAgICAgICBpZiAoYmxvY2spIHtcblx0ICAgICAgICAgICAgICAgICAgICBoYXNoZXIudXBkYXRlKGJsb2NrKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIHZhciBibG9jayA9IGhhc2hlci51cGRhdGUocGFzc3dvcmQpLmZpbmFsaXplKHNhbHQpO1xuXHQgICAgICAgICAgICAgICAgaGFzaGVyLnJlc2V0KCk7XG5cblx0ICAgICAgICAgICAgICAgIC8vIEl0ZXJhdGlvbnNcblx0ICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgaXRlcmF0aW9uczsgaSsrKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgYmxvY2sgPSBoYXNoZXIuZmluYWxpemUoYmxvY2spO1xuXHQgICAgICAgICAgICAgICAgICAgIGhhc2hlci5yZXNldCgpO1xuXHQgICAgICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgICAgICBkZXJpdmVkS2V5LmNvbmNhdChibG9jayk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgZGVyaXZlZEtleS5zaWdCeXRlcyA9IGtleVNpemUgKiA0O1xuXG5cdCAgICAgICAgICAgIHJldHVybiBkZXJpdmVkS2V5O1xuXHQgICAgICAgIH1cblx0ICAgIH0pO1xuXG5cdCAgICAvKipcblx0ICAgICAqIERlcml2ZXMgYSBrZXkgZnJvbSBhIHBhc3N3b3JkLlxuXHQgICAgICpcblx0ICAgICAqIEBwYXJhbSB7V29yZEFycmF5fHN0cmluZ30gcGFzc3dvcmQgVGhlIHBhc3N3b3JkLlxuXHQgICAgICogQHBhcmFtIHtXb3JkQXJyYXl8c3RyaW5nfSBzYWx0IEEgc2FsdC5cblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjZmcgKE9wdGlvbmFsKSBUaGUgY29uZmlndXJhdGlvbiBvcHRpb25zIHRvIHVzZSBmb3IgdGhpcyBjb21wdXRhdGlvbi5cblx0ICAgICAqXG5cdCAgICAgKiBAcmV0dXJuIHtXb3JkQXJyYXl9IFRoZSBkZXJpdmVkIGtleS5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiAgICAgdmFyIGtleSA9IENyeXB0b0pTLkV2cEtERihwYXNzd29yZCwgc2FsdCk7XG5cdCAgICAgKiAgICAgdmFyIGtleSA9IENyeXB0b0pTLkV2cEtERihwYXNzd29yZCwgc2FsdCwgeyBrZXlTaXplOiA4IH0pO1xuXHQgICAgICogICAgIHZhciBrZXkgPSBDcnlwdG9KUy5FdnBLREYocGFzc3dvcmQsIHNhbHQsIHsga2V5U2l6ZTogOCwgaXRlcmF0aW9uczogMTAwMCB9KTtcblx0ICAgICAqL1xuXHQgICAgQy5FdnBLREYgPSBmdW5jdGlvbiAocGFzc3dvcmQsIHNhbHQsIGNmZykge1xuXHQgICAgICAgIHJldHVybiBFdnBLREYuY3JlYXRlKGNmZykuY29tcHV0ZShwYXNzd29yZCwgc2FsdCk7XG5cdCAgICB9O1xuXHR9KCkpO1xuXG5cblx0cmV0dXJuIENyeXB0b0pTLkV2cEtERjtcblxufSkpO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vY3J5cHRvLWpzL2V2cGtkZi5qcyIsIjsoZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYgKHR5cGVvZiBleHBvcnRzID09PSBcIm9iamVjdFwiKSB7XG5cdFx0Ly8gQ29tbW9uSlNcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoXCIuL2NvcmVcIikpO1xuXHR9XG5cdGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kKSB7XG5cdFx0Ly8gQU1EXG5cdFx0ZGVmaW5lKFtcIi4vY29yZVwiXSwgZmFjdG9yeSk7XG5cdH1cblx0ZWxzZSB7XG5cdFx0Ly8gR2xvYmFsIChicm93c2VyKVxuXHRcdGZhY3Rvcnkocm9vdC5DcnlwdG9KUyk7XG5cdH1cbn0odGhpcywgZnVuY3Rpb24gKENyeXB0b0pTKSB7XG5cblx0KGZ1bmN0aW9uIChNYXRoKSB7XG5cdCAgICAvLyBTaG9ydGN1dHNcblx0ICAgIHZhciBDID0gQ3J5cHRvSlM7XG5cdCAgICB2YXIgQ19saWIgPSBDLmxpYjtcblx0ICAgIHZhciBXb3JkQXJyYXkgPSBDX2xpYi5Xb3JkQXJyYXk7XG5cdCAgICB2YXIgSGFzaGVyID0gQ19saWIuSGFzaGVyO1xuXHQgICAgdmFyIENfYWxnbyA9IEMuYWxnbztcblxuXHQgICAgLy8gQ29uc3RhbnRzIHRhYmxlXG5cdCAgICB2YXIgVCA9IFtdO1xuXG5cdCAgICAvLyBDb21wdXRlIGNvbnN0YW50c1xuXHQgICAgKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDY0OyBpKyspIHtcblx0ICAgICAgICAgICAgVFtpXSA9IChNYXRoLmFicyhNYXRoLnNpbihpICsgMSkpICogMHgxMDAwMDAwMDApIHwgMDtcblx0ICAgICAgICB9XG5cdCAgICB9KCkpO1xuXG5cdCAgICAvKipcblx0ICAgICAqIE1ENSBoYXNoIGFsZ29yaXRobS5cblx0ICAgICAqL1xuXHQgICAgdmFyIE1ENSA9IENfYWxnby5NRDUgPSBIYXNoZXIuZXh0ZW5kKHtcblx0ICAgICAgICBfZG9SZXNldDogZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICB0aGlzLl9oYXNoID0gbmV3IFdvcmRBcnJheS5pbml0KFtcblx0ICAgICAgICAgICAgICAgIDB4Njc0NTIzMDEsIDB4ZWZjZGFiODksXG5cdCAgICAgICAgICAgICAgICAweDk4YmFkY2ZlLCAweDEwMzI1NDc2XG5cdCAgICAgICAgICAgIF0pO1xuXHQgICAgICAgIH0sXG5cblx0ICAgICAgICBfZG9Qcm9jZXNzQmxvY2s6IGZ1bmN0aW9uIChNLCBvZmZzZXQpIHtcblx0ICAgICAgICAgICAgLy8gU3dhcCBlbmRpYW5cblx0ICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAxNjsgaSsrKSB7XG5cdCAgICAgICAgICAgICAgICAvLyBTaG9ydGN1dHNcblx0ICAgICAgICAgICAgICAgIHZhciBvZmZzZXRfaSA9IG9mZnNldCArIGk7XG5cdCAgICAgICAgICAgICAgICB2YXIgTV9vZmZzZXRfaSA9IE1bb2Zmc2V0X2ldO1xuXG5cdCAgICAgICAgICAgICAgICBNW29mZnNldF9pXSA9IChcblx0ICAgICAgICAgICAgICAgICAgICAoKChNX29mZnNldF9pIDw8IDgpICB8IChNX29mZnNldF9pID4+PiAyNCkpICYgMHgwMGZmMDBmZikgfFxuXHQgICAgICAgICAgICAgICAgICAgICgoKE1fb2Zmc2V0X2kgPDwgMjQpIHwgKE1fb2Zmc2V0X2kgPj4+IDgpKSAgJiAweGZmMDBmZjAwKVxuXHQgICAgICAgICAgICAgICAgKTtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIC8vIFNob3J0Y3V0c1xuXHQgICAgICAgICAgICB2YXIgSCA9IHRoaXMuX2hhc2gud29yZHM7XG5cblx0ICAgICAgICAgICAgdmFyIE1fb2Zmc2V0XzAgID0gTVtvZmZzZXQgKyAwXTtcblx0ICAgICAgICAgICAgdmFyIE1fb2Zmc2V0XzEgID0gTVtvZmZzZXQgKyAxXTtcblx0ICAgICAgICAgICAgdmFyIE1fb2Zmc2V0XzIgID0gTVtvZmZzZXQgKyAyXTtcblx0ICAgICAgICAgICAgdmFyIE1fb2Zmc2V0XzMgID0gTVtvZmZzZXQgKyAzXTtcblx0ICAgICAgICAgICAgdmFyIE1fb2Zmc2V0XzQgID0gTVtvZmZzZXQgKyA0XTtcblx0ICAgICAgICAgICAgdmFyIE1fb2Zmc2V0XzUgID0gTVtvZmZzZXQgKyA1XTtcblx0ICAgICAgICAgICAgdmFyIE1fb2Zmc2V0XzYgID0gTVtvZmZzZXQgKyA2XTtcblx0ICAgICAgICAgICAgdmFyIE1fb2Zmc2V0XzcgID0gTVtvZmZzZXQgKyA3XTtcblx0ICAgICAgICAgICAgdmFyIE1fb2Zmc2V0XzggID0gTVtvZmZzZXQgKyA4XTtcblx0ICAgICAgICAgICAgdmFyIE1fb2Zmc2V0XzkgID0gTVtvZmZzZXQgKyA5XTtcblx0ICAgICAgICAgICAgdmFyIE1fb2Zmc2V0XzEwID0gTVtvZmZzZXQgKyAxMF07XG5cdCAgICAgICAgICAgIHZhciBNX29mZnNldF8xMSA9IE1bb2Zmc2V0ICsgMTFdO1xuXHQgICAgICAgICAgICB2YXIgTV9vZmZzZXRfMTIgPSBNW29mZnNldCArIDEyXTtcblx0ICAgICAgICAgICAgdmFyIE1fb2Zmc2V0XzEzID0gTVtvZmZzZXQgKyAxM107XG5cdCAgICAgICAgICAgIHZhciBNX29mZnNldF8xNCA9IE1bb2Zmc2V0ICsgMTRdO1xuXHQgICAgICAgICAgICB2YXIgTV9vZmZzZXRfMTUgPSBNW29mZnNldCArIDE1XTtcblxuXHQgICAgICAgICAgICAvLyBXb3JraW5nIHZhcmlhbGJlc1xuXHQgICAgICAgICAgICB2YXIgYSA9IEhbMF07XG5cdCAgICAgICAgICAgIHZhciBiID0gSFsxXTtcblx0ICAgICAgICAgICAgdmFyIGMgPSBIWzJdO1xuXHQgICAgICAgICAgICB2YXIgZCA9IEhbM107XG5cblx0ICAgICAgICAgICAgLy8gQ29tcHV0YXRpb25cblx0ICAgICAgICAgICAgYSA9IEZGKGEsIGIsIGMsIGQsIE1fb2Zmc2V0XzAsICA3LCAgVFswXSk7XG5cdCAgICAgICAgICAgIGQgPSBGRihkLCBhLCBiLCBjLCBNX29mZnNldF8xLCAgMTIsIFRbMV0pO1xuXHQgICAgICAgICAgICBjID0gRkYoYywgZCwgYSwgYiwgTV9vZmZzZXRfMiwgIDE3LCBUWzJdKTtcblx0ICAgICAgICAgICAgYiA9IEZGKGIsIGMsIGQsIGEsIE1fb2Zmc2V0XzMsICAyMiwgVFszXSk7XG5cdCAgICAgICAgICAgIGEgPSBGRihhLCBiLCBjLCBkLCBNX29mZnNldF80LCAgNywgIFRbNF0pO1xuXHQgICAgICAgICAgICBkID0gRkYoZCwgYSwgYiwgYywgTV9vZmZzZXRfNSwgIDEyLCBUWzVdKTtcblx0ICAgICAgICAgICAgYyA9IEZGKGMsIGQsIGEsIGIsIE1fb2Zmc2V0XzYsICAxNywgVFs2XSk7XG5cdCAgICAgICAgICAgIGIgPSBGRihiLCBjLCBkLCBhLCBNX29mZnNldF83LCAgMjIsIFRbN10pO1xuXHQgICAgICAgICAgICBhID0gRkYoYSwgYiwgYywgZCwgTV9vZmZzZXRfOCwgIDcsICBUWzhdKTtcblx0ICAgICAgICAgICAgZCA9IEZGKGQsIGEsIGIsIGMsIE1fb2Zmc2V0XzksICAxMiwgVFs5XSk7XG5cdCAgICAgICAgICAgIGMgPSBGRihjLCBkLCBhLCBiLCBNX29mZnNldF8xMCwgMTcsIFRbMTBdKTtcblx0ICAgICAgICAgICAgYiA9IEZGKGIsIGMsIGQsIGEsIE1fb2Zmc2V0XzExLCAyMiwgVFsxMV0pO1xuXHQgICAgICAgICAgICBhID0gRkYoYSwgYiwgYywgZCwgTV9vZmZzZXRfMTIsIDcsICBUWzEyXSk7XG5cdCAgICAgICAgICAgIGQgPSBGRihkLCBhLCBiLCBjLCBNX29mZnNldF8xMywgMTIsIFRbMTNdKTtcblx0ICAgICAgICAgICAgYyA9IEZGKGMsIGQsIGEsIGIsIE1fb2Zmc2V0XzE0LCAxNywgVFsxNF0pO1xuXHQgICAgICAgICAgICBiID0gRkYoYiwgYywgZCwgYSwgTV9vZmZzZXRfMTUsIDIyLCBUWzE1XSk7XG5cblx0ICAgICAgICAgICAgYSA9IEdHKGEsIGIsIGMsIGQsIE1fb2Zmc2V0XzEsICA1LCAgVFsxNl0pO1xuXHQgICAgICAgICAgICBkID0gR0coZCwgYSwgYiwgYywgTV9vZmZzZXRfNiwgIDksICBUWzE3XSk7XG5cdCAgICAgICAgICAgIGMgPSBHRyhjLCBkLCBhLCBiLCBNX29mZnNldF8xMSwgMTQsIFRbMThdKTtcblx0ICAgICAgICAgICAgYiA9IEdHKGIsIGMsIGQsIGEsIE1fb2Zmc2V0XzAsICAyMCwgVFsxOV0pO1xuXHQgICAgICAgICAgICBhID0gR0coYSwgYiwgYywgZCwgTV9vZmZzZXRfNSwgIDUsICBUWzIwXSk7XG5cdCAgICAgICAgICAgIGQgPSBHRyhkLCBhLCBiLCBjLCBNX29mZnNldF8xMCwgOSwgIFRbMjFdKTtcblx0ICAgICAgICAgICAgYyA9IEdHKGMsIGQsIGEsIGIsIE1fb2Zmc2V0XzE1LCAxNCwgVFsyMl0pO1xuXHQgICAgICAgICAgICBiID0gR0coYiwgYywgZCwgYSwgTV9vZmZzZXRfNCwgIDIwLCBUWzIzXSk7XG5cdCAgICAgICAgICAgIGEgPSBHRyhhLCBiLCBjLCBkLCBNX29mZnNldF85LCAgNSwgIFRbMjRdKTtcblx0ICAgICAgICAgICAgZCA9IEdHKGQsIGEsIGIsIGMsIE1fb2Zmc2V0XzE0LCA5LCAgVFsyNV0pO1xuXHQgICAgICAgICAgICBjID0gR0coYywgZCwgYSwgYiwgTV9vZmZzZXRfMywgIDE0LCBUWzI2XSk7XG5cdCAgICAgICAgICAgIGIgPSBHRyhiLCBjLCBkLCBhLCBNX29mZnNldF84LCAgMjAsIFRbMjddKTtcblx0ICAgICAgICAgICAgYSA9IEdHKGEsIGIsIGMsIGQsIE1fb2Zmc2V0XzEzLCA1LCAgVFsyOF0pO1xuXHQgICAgICAgICAgICBkID0gR0coZCwgYSwgYiwgYywgTV9vZmZzZXRfMiwgIDksICBUWzI5XSk7XG5cdCAgICAgICAgICAgIGMgPSBHRyhjLCBkLCBhLCBiLCBNX29mZnNldF83LCAgMTQsIFRbMzBdKTtcblx0ICAgICAgICAgICAgYiA9IEdHKGIsIGMsIGQsIGEsIE1fb2Zmc2V0XzEyLCAyMCwgVFszMV0pO1xuXG5cdCAgICAgICAgICAgIGEgPSBISChhLCBiLCBjLCBkLCBNX29mZnNldF81LCAgNCwgIFRbMzJdKTtcblx0ICAgICAgICAgICAgZCA9IEhIKGQsIGEsIGIsIGMsIE1fb2Zmc2V0XzgsICAxMSwgVFszM10pO1xuXHQgICAgICAgICAgICBjID0gSEgoYywgZCwgYSwgYiwgTV9vZmZzZXRfMTEsIDE2LCBUWzM0XSk7XG5cdCAgICAgICAgICAgIGIgPSBISChiLCBjLCBkLCBhLCBNX29mZnNldF8xNCwgMjMsIFRbMzVdKTtcblx0ICAgICAgICAgICAgYSA9IEhIKGEsIGIsIGMsIGQsIE1fb2Zmc2V0XzEsICA0LCAgVFszNl0pO1xuXHQgICAgICAgICAgICBkID0gSEgoZCwgYSwgYiwgYywgTV9vZmZzZXRfNCwgIDExLCBUWzM3XSk7XG5cdCAgICAgICAgICAgIGMgPSBISChjLCBkLCBhLCBiLCBNX29mZnNldF83LCAgMTYsIFRbMzhdKTtcblx0ICAgICAgICAgICAgYiA9IEhIKGIsIGMsIGQsIGEsIE1fb2Zmc2V0XzEwLCAyMywgVFszOV0pO1xuXHQgICAgICAgICAgICBhID0gSEgoYSwgYiwgYywgZCwgTV9vZmZzZXRfMTMsIDQsICBUWzQwXSk7XG5cdCAgICAgICAgICAgIGQgPSBISChkLCBhLCBiLCBjLCBNX29mZnNldF8wLCAgMTEsIFRbNDFdKTtcblx0ICAgICAgICAgICAgYyA9IEhIKGMsIGQsIGEsIGIsIE1fb2Zmc2V0XzMsICAxNiwgVFs0Ml0pO1xuXHQgICAgICAgICAgICBiID0gSEgoYiwgYywgZCwgYSwgTV9vZmZzZXRfNiwgIDIzLCBUWzQzXSk7XG5cdCAgICAgICAgICAgIGEgPSBISChhLCBiLCBjLCBkLCBNX29mZnNldF85LCAgNCwgIFRbNDRdKTtcblx0ICAgICAgICAgICAgZCA9IEhIKGQsIGEsIGIsIGMsIE1fb2Zmc2V0XzEyLCAxMSwgVFs0NV0pO1xuXHQgICAgICAgICAgICBjID0gSEgoYywgZCwgYSwgYiwgTV9vZmZzZXRfMTUsIDE2LCBUWzQ2XSk7XG5cdCAgICAgICAgICAgIGIgPSBISChiLCBjLCBkLCBhLCBNX29mZnNldF8yLCAgMjMsIFRbNDddKTtcblxuXHQgICAgICAgICAgICBhID0gSUkoYSwgYiwgYywgZCwgTV9vZmZzZXRfMCwgIDYsICBUWzQ4XSk7XG5cdCAgICAgICAgICAgIGQgPSBJSShkLCBhLCBiLCBjLCBNX29mZnNldF83LCAgMTAsIFRbNDldKTtcblx0ICAgICAgICAgICAgYyA9IElJKGMsIGQsIGEsIGIsIE1fb2Zmc2V0XzE0LCAxNSwgVFs1MF0pO1xuXHQgICAgICAgICAgICBiID0gSUkoYiwgYywgZCwgYSwgTV9vZmZzZXRfNSwgIDIxLCBUWzUxXSk7XG5cdCAgICAgICAgICAgIGEgPSBJSShhLCBiLCBjLCBkLCBNX29mZnNldF8xMiwgNiwgIFRbNTJdKTtcblx0ICAgICAgICAgICAgZCA9IElJKGQsIGEsIGIsIGMsIE1fb2Zmc2V0XzMsICAxMCwgVFs1M10pO1xuXHQgICAgICAgICAgICBjID0gSUkoYywgZCwgYSwgYiwgTV9vZmZzZXRfMTAsIDE1LCBUWzU0XSk7XG5cdCAgICAgICAgICAgIGIgPSBJSShiLCBjLCBkLCBhLCBNX29mZnNldF8xLCAgMjEsIFRbNTVdKTtcblx0ICAgICAgICAgICAgYSA9IElJKGEsIGIsIGMsIGQsIE1fb2Zmc2V0XzgsICA2LCAgVFs1Nl0pO1xuXHQgICAgICAgICAgICBkID0gSUkoZCwgYSwgYiwgYywgTV9vZmZzZXRfMTUsIDEwLCBUWzU3XSk7XG5cdCAgICAgICAgICAgIGMgPSBJSShjLCBkLCBhLCBiLCBNX29mZnNldF82LCAgMTUsIFRbNThdKTtcblx0ICAgICAgICAgICAgYiA9IElJKGIsIGMsIGQsIGEsIE1fb2Zmc2V0XzEzLCAyMSwgVFs1OV0pO1xuXHQgICAgICAgICAgICBhID0gSUkoYSwgYiwgYywgZCwgTV9vZmZzZXRfNCwgIDYsICBUWzYwXSk7XG5cdCAgICAgICAgICAgIGQgPSBJSShkLCBhLCBiLCBjLCBNX29mZnNldF8xMSwgMTAsIFRbNjFdKTtcblx0ICAgICAgICAgICAgYyA9IElJKGMsIGQsIGEsIGIsIE1fb2Zmc2V0XzIsICAxNSwgVFs2Ml0pO1xuXHQgICAgICAgICAgICBiID0gSUkoYiwgYywgZCwgYSwgTV9vZmZzZXRfOSwgIDIxLCBUWzYzXSk7XG5cblx0ICAgICAgICAgICAgLy8gSW50ZXJtZWRpYXRlIGhhc2ggdmFsdWVcblx0ICAgICAgICAgICAgSFswXSA9IChIWzBdICsgYSkgfCAwO1xuXHQgICAgICAgICAgICBIWzFdID0gKEhbMV0gKyBiKSB8IDA7XG5cdCAgICAgICAgICAgIEhbMl0gPSAoSFsyXSArIGMpIHwgMDtcblx0ICAgICAgICAgICAgSFszXSA9IChIWzNdICsgZCkgfCAwO1xuXHQgICAgICAgIH0sXG5cblx0ICAgICAgICBfZG9GaW5hbGl6ZTogZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAvLyBTaG9ydGN1dHNcblx0ICAgICAgICAgICAgdmFyIGRhdGEgPSB0aGlzLl9kYXRhO1xuXHQgICAgICAgICAgICB2YXIgZGF0YVdvcmRzID0gZGF0YS53b3JkcztcblxuXHQgICAgICAgICAgICB2YXIgbkJpdHNUb3RhbCA9IHRoaXMuX25EYXRhQnl0ZXMgKiA4O1xuXHQgICAgICAgICAgICB2YXIgbkJpdHNMZWZ0ID0gZGF0YS5zaWdCeXRlcyAqIDg7XG5cblx0ICAgICAgICAgICAgLy8gQWRkIHBhZGRpbmdcblx0ICAgICAgICAgICAgZGF0YVdvcmRzW25CaXRzTGVmdCA+Pj4gNV0gfD0gMHg4MCA8PCAoMjQgLSBuQml0c0xlZnQgJSAzMik7XG5cblx0ICAgICAgICAgICAgdmFyIG5CaXRzVG90YWxIID0gTWF0aC5mbG9vcihuQml0c1RvdGFsIC8gMHgxMDAwMDAwMDApO1xuXHQgICAgICAgICAgICB2YXIgbkJpdHNUb3RhbEwgPSBuQml0c1RvdGFsO1xuXHQgICAgICAgICAgICBkYXRhV29yZHNbKCgobkJpdHNMZWZ0ICsgNjQpID4+PiA5KSA8PCA0KSArIDE1XSA9IChcblx0ICAgICAgICAgICAgICAgICgoKG5CaXRzVG90YWxIIDw8IDgpICB8IChuQml0c1RvdGFsSCA+Pj4gMjQpKSAmIDB4MDBmZjAwZmYpIHxcblx0ICAgICAgICAgICAgICAgICgoKG5CaXRzVG90YWxIIDw8IDI0KSB8IChuQml0c1RvdGFsSCA+Pj4gOCkpICAmIDB4ZmYwMGZmMDApXG5cdCAgICAgICAgICAgICk7XG5cdCAgICAgICAgICAgIGRhdGFXb3Jkc1soKChuQml0c0xlZnQgKyA2NCkgPj4+IDkpIDw8IDQpICsgMTRdID0gKFxuXHQgICAgICAgICAgICAgICAgKCgobkJpdHNUb3RhbEwgPDwgOCkgIHwgKG5CaXRzVG90YWxMID4+PiAyNCkpICYgMHgwMGZmMDBmZikgfFxuXHQgICAgICAgICAgICAgICAgKCgobkJpdHNUb3RhbEwgPDwgMjQpIHwgKG5CaXRzVG90YWxMID4+PiA4KSkgICYgMHhmZjAwZmYwMClcblx0ICAgICAgICAgICAgKTtcblxuXHQgICAgICAgICAgICBkYXRhLnNpZ0J5dGVzID0gKGRhdGFXb3Jkcy5sZW5ndGggKyAxKSAqIDQ7XG5cblx0ICAgICAgICAgICAgLy8gSGFzaCBmaW5hbCBibG9ja3Ncblx0ICAgICAgICAgICAgdGhpcy5fcHJvY2VzcygpO1xuXG5cdCAgICAgICAgICAgIC8vIFNob3J0Y3V0c1xuXHQgICAgICAgICAgICB2YXIgaGFzaCA9IHRoaXMuX2hhc2g7XG5cdCAgICAgICAgICAgIHZhciBIID0gaGFzaC53b3JkcztcblxuXHQgICAgICAgICAgICAvLyBTd2FwIGVuZGlhblxuXHQgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDQ7IGkrKykge1xuXHQgICAgICAgICAgICAgICAgLy8gU2hvcnRjdXRcblx0ICAgICAgICAgICAgICAgIHZhciBIX2kgPSBIW2ldO1xuXG5cdCAgICAgICAgICAgICAgICBIW2ldID0gKCgoSF9pIDw8IDgpICB8IChIX2kgPj4+IDI0KSkgJiAweDAwZmYwMGZmKSB8XG5cdCAgICAgICAgICAgICAgICAgICAgICAgKCgoSF9pIDw8IDI0KSB8IChIX2kgPj4+IDgpKSAgJiAweGZmMDBmZjAwKTtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIC8vIFJldHVybiBmaW5hbCBjb21wdXRlZCBoYXNoXG5cdCAgICAgICAgICAgIHJldHVybiBoYXNoO1xuXHQgICAgICAgIH0sXG5cblx0ICAgICAgICBjbG9uZTogZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICB2YXIgY2xvbmUgPSBIYXNoZXIuY2xvbmUuY2FsbCh0aGlzKTtcblx0ICAgICAgICAgICAgY2xvbmUuX2hhc2ggPSB0aGlzLl9oYXNoLmNsb25lKCk7XG5cblx0ICAgICAgICAgICAgcmV0dXJuIGNsb25lO1xuXHQgICAgICAgIH1cblx0ICAgIH0pO1xuXG5cdCAgICBmdW5jdGlvbiBGRihhLCBiLCBjLCBkLCB4LCBzLCB0KSB7XG5cdCAgICAgICAgdmFyIG4gPSBhICsgKChiICYgYykgfCAofmIgJiBkKSkgKyB4ICsgdDtcblx0ICAgICAgICByZXR1cm4gKChuIDw8IHMpIHwgKG4gPj4+ICgzMiAtIHMpKSkgKyBiO1xuXHQgICAgfVxuXG5cdCAgICBmdW5jdGlvbiBHRyhhLCBiLCBjLCBkLCB4LCBzLCB0KSB7XG5cdCAgICAgICAgdmFyIG4gPSBhICsgKChiICYgZCkgfCAoYyAmIH5kKSkgKyB4ICsgdDtcblx0ICAgICAgICByZXR1cm4gKChuIDw8IHMpIHwgKG4gPj4+ICgzMiAtIHMpKSkgKyBiO1xuXHQgICAgfVxuXG5cdCAgICBmdW5jdGlvbiBISChhLCBiLCBjLCBkLCB4LCBzLCB0KSB7XG5cdCAgICAgICAgdmFyIG4gPSBhICsgKGIgXiBjIF4gZCkgKyB4ICsgdDtcblx0ICAgICAgICByZXR1cm4gKChuIDw8IHMpIHwgKG4gPj4+ICgzMiAtIHMpKSkgKyBiO1xuXHQgICAgfVxuXG5cdCAgICBmdW5jdGlvbiBJSShhLCBiLCBjLCBkLCB4LCBzLCB0KSB7XG5cdCAgICAgICAgdmFyIG4gPSBhICsgKGMgXiAoYiB8IH5kKSkgKyB4ICsgdDtcblx0ICAgICAgICByZXR1cm4gKChuIDw8IHMpIHwgKG4gPj4+ICgzMiAtIHMpKSkgKyBiO1xuXHQgICAgfVxuXG5cdCAgICAvKipcblx0ICAgICAqIFNob3J0Y3V0IGZ1bmN0aW9uIHRvIHRoZSBoYXNoZXIncyBvYmplY3QgaW50ZXJmYWNlLlxuXHQgICAgICpcblx0ICAgICAqIEBwYXJhbSB7V29yZEFycmF5fHN0cmluZ30gbWVzc2FnZSBUaGUgbWVzc2FnZSB0byBoYXNoLlxuXHQgICAgICpcblx0ICAgICAqIEByZXR1cm4ge1dvcmRBcnJheX0gVGhlIGhhc2guXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICpcblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogICAgIHZhciBoYXNoID0gQ3J5cHRvSlMuTUQ1KCdtZXNzYWdlJyk7XG5cdCAgICAgKiAgICAgdmFyIGhhc2ggPSBDcnlwdG9KUy5NRDUod29yZEFycmF5KTtcblx0ICAgICAqL1xuXHQgICAgQy5NRDUgPSBIYXNoZXIuX2NyZWF0ZUhlbHBlcihNRDUpO1xuXG5cdCAgICAvKipcblx0ICAgICAqIFNob3J0Y3V0IGZ1bmN0aW9uIHRvIHRoZSBITUFDJ3Mgb2JqZWN0IGludGVyZmFjZS5cblx0ICAgICAqXG5cdCAgICAgKiBAcGFyYW0ge1dvcmRBcnJheXxzdHJpbmd9IG1lc3NhZ2UgVGhlIG1lc3NhZ2UgdG8gaGFzaC5cblx0ICAgICAqIEBwYXJhbSB7V29yZEFycmF5fHN0cmluZ30ga2V5IFRoZSBzZWNyZXQga2V5LlxuXHQgICAgICpcblx0ICAgICAqIEByZXR1cm4ge1dvcmRBcnJheX0gVGhlIEhNQUMuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICpcblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogICAgIHZhciBobWFjID0gQ3J5cHRvSlMuSG1hY01ENShtZXNzYWdlLCBrZXkpO1xuXHQgICAgICovXG5cdCAgICBDLkhtYWNNRDUgPSBIYXNoZXIuX2NyZWF0ZUhtYWNIZWxwZXIoTUQ1KTtcblx0fShNYXRoKSk7XG5cblxuXHRyZXR1cm4gQ3J5cHRvSlMuTUQ1O1xuXG59KSk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9jcnlwdG8tanMvbWQ1LmpzIiwiLypcbiAgICBUaGlzIGZpbGUgaXMgcGFydCBvZiB3ZWIzLmpzLlxuXG4gICAgd2ViMy5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gICAgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAgICAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuXG4gICAgd2ViMy5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICAgIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gICAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICAgIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuXG4gICAgWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gICAgYWxvbmcgd2l0aCB3ZWIzLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuKi9cbi8qKiBcbiAqIEBmaWxlIGZvcm1hdHRlcnMuanNcbiAqIEBhdXRob3IgTWFyZWsgS290ZXdpY3ogPG1hcmVrQGV0aGRldi5jb20+XG4gKiBAZGF0ZSAyMDE1XG4gKi9cblxudmFyIEJpZ051bWJlciA9IHJlcXVpcmUoJ2JpZ251bWJlci5qcycpO1xudmFyIHV0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMvdXRpbHMnKTtcbnZhciBjID0gcmVxdWlyZSgnLi4vdXRpbHMvY29uZmlnJyk7XG52YXIgU29saWRpdHlQYXJhbSA9IHJlcXVpcmUoJy4vcGFyYW0nKTtcblxuXG4vKipcbiAqIEZvcm1hdHMgaW5wdXQgdmFsdWUgdG8gYnl0ZSByZXByZXNlbnRhdGlvbiBvZiBpbnRcbiAqIElmIHZhbHVlIGlzIG5lZ2F0aXZlLCByZXR1cm4gaXQncyB0d28ncyBjb21wbGVtZW50XG4gKiBJZiB0aGUgdmFsdWUgaXMgZmxvYXRpbmcgcG9pbnQsIHJvdW5kIGl0IGRvd25cbiAqXG4gKiBAbWV0aG9kIGZvcm1hdElucHV0SW50XG4gKiBAcGFyYW0ge1N0cmluZ3xOdW1iZXJ8QmlnTnVtYmVyfSB2YWx1ZSB0aGF0IG5lZWRzIHRvIGJlIGZvcm1hdHRlZFxuICogQHJldHVybnMge1NvbGlkaXR5UGFyYW19XG4gKi9cbnZhciBmb3JtYXRJbnB1dEludCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIEJpZ051bWJlci5jb25maWcoYy5FVEhfQklHTlVNQkVSX1JPVU5ESU5HX01PREUpO1xuICAgIHZhciByZXN1bHQgPSB1dGlscy5wYWRMZWZ0KHV0aWxzLnRvVHdvc0NvbXBsZW1lbnQodmFsdWUpLnJvdW5kKCkudG9TdHJpbmcoMTYpLCA2NCk7XG4gICAgcmV0dXJuIG5ldyBTb2xpZGl0eVBhcmFtKHJlc3VsdCk7XG59O1xuXG4vKipcbiAqIEZvcm1hdHMgaW5wdXQgYnl0ZXNcbiAqXG4gKiBAbWV0aG9kIGZvcm1hdElucHV0Qnl0ZXNcbiAqIEBwYXJhbSB7U3RyaW5nfVxuICogQHJldHVybnMge1NvbGlkaXR5UGFyYW19XG4gKi9cbnZhciBmb3JtYXRJbnB1dEJ5dGVzID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgdmFyIHJlc3VsdCA9IHV0aWxzLnRvSGV4KHZhbHVlKS5zdWJzdHIoMik7XG4gICAgdmFyIGwgPSBNYXRoLmZsb29yKChyZXN1bHQubGVuZ3RoICsgNjMpIC8gNjQpO1xuICAgIHJlc3VsdCA9IHV0aWxzLnBhZFJpZ2h0KHJlc3VsdCwgbCAqIDY0KTtcbiAgICByZXR1cm4gbmV3IFNvbGlkaXR5UGFyYW0ocmVzdWx0KTtcbn07XG5cbi8qKlxuICogRm9ybWF0cyBpbnB1dCBieXRlc1xuICpcbiAqIEBtZXRob2QgZm9ybWF0RHluYW1pY0lucHV0Qnl0ZXNcbiAqIEBwYXJhbSB7U3RyaW5nfVxuICogQHJldHVybnMge1NvbGlkaXR5UGFyYW19XG4gKi9cbnZhciBmb3JtYXRJbnB1dER5bmFtaWNCeXRlcyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHZhciByZXN1bHQgPSB1dGlscy50b0hleCh2YWx1ZSkuc3Vic3RyKDIpO1xuICAgIHZhciBsZW5ndGggPSByZXN1bHQubGVuZ3RoIC8gMjtcbiAgICB2YXIgbCA9IE1hdGguZmxvb3IoKHJlc3VsdC5sZW5ndGggKyA2MykgLyA2NCk7XG4gICAgcmVzdWx0ID0gdXRpbHMucGFkUmlnaHQocmVzdWx0LCBsICogNjQpO1xuICAgIHJldHVybiBuZXcgU29saWRpdHlQYXJhbShmb3JtYXRJbnB1dEludChsZW5ndGgpLnZhbHVlICsgcmVzdWx0KTtcbn07XG5cbi8qKlxuICogRm9ybWF0cyBpbnB1dCB2YWx1ZSB0byBieXRlIHJlcHJlc2VudGF0aW9uIG9mIHN0cmluZ1xuICpcbiAqIEBtZXRob2QgZm9ybWF0SW5wdXRTdHJpbmdcbiAqIEBwYXJhbSB7U3RyaW5nfVxuICogQHJldHVybnMge1NvbGlkaXR5UGFyYW19XG4gKi9cbnZhciBmb3JtYXRJbnB1dFN0cmluZyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHZhciByZXN1bHQgPSB1dGlscy5mcm9tVXRmOCh2YWx1ZSkuc3Vic3RyKDIpO1xuICAgIHZhciBsZW5ndGggPSByZXN1bHQubGVuZ3RoIC8gMjtcbiAgICB2YXIgbCA9IE1hdGguZmxvb3IoKHJlc3VsdC5sZW5ndGggKyA2MykgLyA2NCk7XG4gICAgcmVzdWx0ID0gdXRpbHMucGFkUmlnaHQocmVzdWx0LCBsICogNjQpO1xuICAgIHJldHVybiBuZXcgU29saWRpdHlQYXJhbShmb3JtYXRJbnB1dEludChsZW5ndGgpLnZhbHVlICsgcmVzdWx0KTtcbn07XG5cbi8qKlxuICogRm9ybWF0cyBpbnB1dCB2YWx1ZSB0byBieXRlIHJlcHJlc2VudGF0aW9uIG9mIGJvb2xcbiAqXG4gKiBAbWV0aG9kIGZvcm1hdElucHV0Qm9vbFxuICogQHBhcmFtIHtCb29sZWFufVxuICogQHJldHVybnMge1NvbGlkaXR5UGFyYW19XG4gKi9cbnZhciBmb3JtYXRJbnB1dEJvb2wgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICB2YXIgcmVzdWx0ID0gJzAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMCcgKyAodmFsdWUgPyAgJzEnIDogJzAnKTtcbiAgICByZXR1cm4gbmV3IFNvbGlkaXR5UGFyYW0ocmVzdWx0KTtcbn07XG5cbi8qKlxuICogRm9ybWF0cyBpbnB1dCB2YWx1ZSB0byBieXRlIHJlcHJlc2VudGF0aW9uIG9mIHJlYWxcbiAqIFZhbHVlcyBhcmUgbXVsdGlwbGllZCBieSAyXm0gYW5kIGVuY29kZWQgYXMgaW50ZWdlcnNcbiAqXG4gKiBAbWV0aG9kIGZvcm1hdElucHV0UmVhbFxuICogQHBhcmFtIHtTdHJpbmd8TnVtYmVyfEJpZ051bWJlcn1cbiAqIEByZXR1cm5zIHtTb2xpZGl0eVBhcmFtfVxuICovXG52YXIgZm9ybWF0SW5wdXRSZWFsID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgcmV0dXJuIGZvcm1hdElucHV0SW50KG5ldyBCaWdOdW1iZXIodmFsdWUpLnRpbWVzKG5ldyBCaWdOdW1iZXIoMikucG93KDEyOCkpKTtcbn07XG5cbi8qKlxuICogQ2hlY2sgaWYgaW5wdXQgdmFsdWUgaXMgbmVnYXRpdmVcbiAqXG4gKiBAbWV0aG9kIHNpZ25lZElzTmVnYXRpdmVcbiAqIEBwYXJhbSB7U3RyaW5nfSB2YWx1ZSBpcyBoZXggZm9ybWF0XG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gdHJ1ZSBpZiBpdCBpcyBuZWdhdGl2ZSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbnZhciBzaWduZWRJc05lZ2F0aXZlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgcmV0dXJuIChuZXcgQmlnTnVtYmVyKHZhbHVlLnN1YnN0cigwLCAxKSwgMTYpLnRvU3RyaW5nKDIpLnN1YnN0cigwLCAxKSkgPT09ICcxJztcbn07XG5cbi8qKlxuICogRm9ybWF0cyByaWdodC1hbGlnbmVkIG91dHB1dCBieXRlcyB0byBpbnRcbiAqXG4gKiBAbWV0aG9kIGZvcm1hdE91dHB1dEludFxuICogQHBhcmFtIHtTb2xpZGl0eVBhcmFtfSBwYXJhbVxuICogQHJldHVybnMge0JpZ051bWJlcn0gcmlnaHQtYWxpZ25lZCBvdXRwdXQgYnl0ZXMgZm9ybWF0dGVkIHRvIGJpZyBudW1iZXJcbiAqL1xudmFyIGZvcm1hdE91dHB1dEludCA9IGZ1bmN0aW9uIChwYXJhbSkge1xuICAgIHZhciB2YWx1ZSA9IHBhcmFtLnN0YXRpY1BhcnQoKSB8fCBcIjBcIjtcblxuICAgIC8vIGNoZWNrIGlmIGl0J3MgbmVnYXRpdmUgbnVtYmVyXG4gICAgLy8gaXQgaXQgaXMsIHJldHVybiB0d28ncyBjb21wbGVtZW50XG4gICAgaWYgKHNpZ25lZElzTmVnYXRpdmUodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBuZXcgQmlnTnVtYmVyKHZhbHVlLCAxNikubWludXMobmV3IEJpZ051bWJlcignZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZicsIDE2KSkubWludXMoMSk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgQmlnTnVtYmVyKHZhbHVlLCAxNik7XG59O1xuXG4vKipcbiAqIEZvcm1hdHMgcmlnaHQtYWxpZ25lZCBvdXRwdXQgYnl0ZXMgdG8gdWludFxuICpcbiAqIEBtZXRob2QgZm9ybWF0T3V0cHV0VUludFxuICogQHBhcmFtIHtTb2xpZGl0eVBhcmFtfVxuICogQHJldHVybnMge0JpZ051bWViZXJ9IHJpZ2h0LWFsaWduZWQgb3V0cHV0IGJ5dGVzIGZvcm1hdHRlZCB0byB1aW50XG4gKi9cbnZhciBmb3JtYXRPdXRwdXRVSW50ID0gZnVuY3Rpb24gKHBhcmFtKSB7XG4gICAgdmFyIHZhbHVlID0gcGFyYW0uc3RhdGljUGFydCgpIHx8IFwiMFwiO1xuICAgIHJldHVybiBuZXcgQmlnTnVtYmVyKHZhbHVlLCAxNik7XG59O1xuXG4vKipcbiAqIEZvcm1hdHMgcmlnaHQtYWxpZ25lZCBvdXRwdXQgYnl0ZXMgdG8gcmVhbFxuICpcbiAqIEBtZXRob2QgZm9ybWF0T3V0cHV0UmVhbFxuICogQHBhcmFtIHtTb2xpZGl0eVBhcmFtfVxuICogQHJldHVybnMge0JpZ051bWJlcn0gaW5wdXQgYnl0ZXMgZm9ybWF0dGVkIHRvIHJlYWxcbiAqL1xudmFyIGZvcm1hdE91dHB1dFJlYWwgPSBmdW5jdGlvbiAocGFyYW0pIHtcbiAgICByZXR1cm4gZm9ybWF0T3V0cHV0SW50KHBhcmFtKS5kaXZpZGVkQnkobmV3IEJpZ051bWJlcigyKS5wb3coMTI4KSk7IFxufTtcblxuLyoqXG4gKiBGb3JtYXRzIHJpZ2h0LWFsaWduZWQgb3V0cHV0IGJ5dGVzIHRvIHVyZWFsXG4gKlxuICogQG1ldGhvZCBmb3JtYXRPdXRwdXRVUmVhbFxuICogQHBhcmFtIHtTb2xpZGl0eVBhcmFtfVxuICogQHJldHVybnMge0JpZ051bWJlcn0gaW5wdXQgYnl0ZXMgZm9ybWF0dGVkIHRvIHVyZWFsXG4gKi9cbnZhciBmb3JtYXRPdXRwdXRVUmVhbCA9IGZ1bmN0aW9uIChwYXJhbSkge1xuICAgIHJldHVybiBmb3JtYXRPdXRwdXRVSW50KHBhcmFtKS5kaXZpZGVkQnkobmV3IEJpZ051bWJlcigyKS5wb3coMTI4KSk7IFxufTtcblxuLyoqXG4gKiBTaG91bGQgYmUgdXNlZCB0byBmb3JtYXQgb3V0cHV0IGJvb2xcbiAqXG4gKiBAbWV0aG9kIGZvcm1hdE91dHB1dEJvb2xcbiAqIEBwYXJhbSB7U29saWRpdHlQYXJhbX1cbiAqIEByZXR1cm5zIHtCb29sZWFufSByaWdodC1hbGlnbmVkIGlucHV0IGJ5dGVzIGZvcm1hdHRlZCB0byBib29sXG4gKi9cbnZhciBmb3JtYXRPdXRwdXRCb29sID0gZnVuY3Rpb24gKHBhcmFtKSB7XG4gICAgcmV0dXJuIHBhcmFtLnN0YXRpY1BhcnQoKSA9PT0gJzAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDEnID8gdHJ1ZSA6IGZhbHNlO1xufTtcblxuLyoqXG4gKiBTaG91bGQgYmUgdXNlZCB0byBmb3JtYXQgb3V0cHV0IGJ5dGVzXG4gKlxuICogQG1ldGhvZCBmb3JtYXRPdXRwdXRCeXRlc1xuICogQHBhcmFtIHtTb2xpZGl0eVBhcmFtfSBsZWZ0LWFsaWduZWQgaGV4IHJlcHJlc2VudGF0aW9uIG9mIHN0cmluZ1xuICogQHJldHVybnMge1N0cmluZ30gaGV4IHN0cmluZ1xuICovXG52YXIgZm9ybWF0T3V0cHV0Qnl0ZXMgPSBmdW5jdGlvbiAocGFyYW0pIHtcbiAgICByZXR1cm4gJzB4JyArIHBhcmFtLnN0YXRpY1BhcnQoKTtcbn07XG5cbi8qKlxuICogU2hvdWxkIGJlIHVzZWQgdG8gZm9ybWF0IG91dHB1dCBieXRlc1xuICpcbiAqIEBtZXRob2QgZm9ybWF0T3V0cHV0RHluYW1pY0J5dGVzXG4gKiBAcGFyYW0ge1NvbGlkaXR5UGFyYW19IGxlZnQtYWxpZ25lZCBoZXggcmVwcmVzZW50YXRpb24gb2Ygc3RyaW5nXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBoZXggc3RyaW5nXG4gKi9cbnZhciBmb3JtYXRPdXRwdXREeW5hbWljQnl0ZXMgPSBmdW5jdGlvbiAocGFyYW0pIHtcbiAgICB2YXIgbGVuZ3RoID0gKG5ldyBCaWdOdW1iZXIocGFyYW0uZHluYW1pY1BhcnQoKS5zbGljZSgwLCA2NCksIDE2KSkudG9OdW1iZXIoKSAqIDI7XG4gICAgcmV0dXJuICcweCcgKyBwYXJhbS5keW5hbWljUGFydCgpLnN1YnN0cig2NCwgbGVuZ3RoKTtcbn07XG5cbi8qKlxuICogU2hvdWxkIGJlIHVzZWQgdG8gZm9ybWF0IG91dHB1dCBzdHJpbmdcbiAqXG4gKiBAbWV0aG9kIGZvcm1hdE91dHB1dFN0cmluZ1xuICogQHBhcmFtIHtTb2xpZGl0eVBhcmFtfSBsZWZ0LWFsaWduZWQgaGV4IHJlcHJlc2VudGF0aW9uIG9mIHN0cmluZ1xuICogQHJldHVybnMge1N0cmluZ30gYXNjaWkgc3RyaW5nXG4gKi9cbnZhciBmb3JtYXRPdXRwdXRTdHJpbmcgPSBmdW5jdGlvbiAocGFyYW0pIHtcbiAgICB2YXIgbGVuZ3RoID0gKG5ldyBCaWdOdW1iZXIocGFyYW0uZHluYW1pY1BhcnQoKS5zbGljZSgwLCA2NCksIDE2KSkudG9OdW1iZXIoKSAqIDI7XG4gICAgcmV0dXJuIHV0aWxzLnRvVXRmOChwYXJhbS5keW5hbWljUGFydCgpLnN1YnN0cig2NCwgbGVuZ3RoKSk7XG59O1xuXG4vKipcbiAqIFNob3VsZCBiZSB1c2VkIHRvIGZvcm1hdCBvdXRwdXQgYWRkcmVzc1xuICpcbiAqIEBtZXRob2QgZm9ybWF0T3V0cHV0QWRkcmVzc1xuICogQHBhcmFtIHtTb2xpZGl0eVBhcmFtfSByaWdodC1hbGlnbmVkIGlucHV0IGJ5dGVzXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBhZGRyZXNzXG4gKi9cbnZhciBmb3JtYXRPdXRwdXRBZGRyZXNzID0gZnVuY3Rpb24gKHBhcmFtKSB7XG4gICAgdmFyIHZhbHVlID0gcGFyYW0uc3RhdGljUGFydCgpO1xuICAgIHJldHVybiBcIjB4XCIgKyB2YWx1ZS5zbGljZSh2YWx1ZS5sZW5ndGggLSA0MCwgdmFsdWUubGVuZ3RoKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIGZvcm1hdElucHV0SW50OiBmb3JtYXRJbnB1dEludCxcbiAgICBmb3JtYXRJbnB1dEJ5dGVzOiBmb3JtYXRJbnB1dEJ5dGVzLFxuICAgIGZvcm1hdElucHV0RHluYW1pY0J5dGVzOiBmb3JtYXRJbnB1dER5bmFtaWNCeXRlcyxcbiAgICBmb3JtYXRJbnB1dFN0cmluZzogZm9ybWF0SW5wdXRTdHJpbmcsXG4gICAgZm9ybWF0SW5wdXRCb29sOiBmb3JtYXRJbnB1dEJvb2wsXG4gICAgZm9ybWF0SW5wdXRSZWFsOiBmb3JtYXRJbnB1dFJlYWwsXG4gICAgZm9ybWF0T3V0cHV0SW50OiBmb3JtYXRPdXRwdXRJbnQsXG4gICAgZm9ybWF0T3V0cHV0VUludDogZm9ybWF0T3V0cHV0VUludCxcbiAgICBmb3JtYXRPdXRwdXRSZWFsOiBmb3JtYXRPdXRwdXRSZWFsLFxuICAgIGZvcm1hdE91dHB1dFVSZWFsOiBmb3JtYXRPdXRwdXRVUmVhbCxcbiAgICBmb3JtYXRPdXRwdXRCb29sOiBmb3JtYXRPdXRwdXRCb29sLFxuICAgIGZvcm1hdE91dHB1dEJ5dGVzOiBmb3JtYXRPdXRwdXRCeXRlcyxcbiAgICBmb3JtYXRPdXRwdXREeW5hbWljQnl0ZXM6IGZvcm1hdE91dHB1dER5bmFtaWNCeXRlcyxcbiAgICBmb3JtYXRPdXRwdXRTdHJpbmc6IGZvcm1hdE91dHB1dFN0cmluZyxcbiAgICBmb3JtYXRPdXRwdXRBZGRyZXNzOiBmb3JtYXRPdXRwdXRBZGRyZXNzXG59O1xuXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3dlYjMvbGliL3NvbGlkaXR5L2Zvcm1hdHRlcnMuanMiLCJ2YXIgZiA9IHJlcXVpcmUoJy4vZm9ybWF0dGVycycpO1xudmFyIFNvbGlkaXR5UGFyYW0gPSByZXF1aXJlKCcuL3BhcmFtJyk7XG5cbi8qKlxuICogU29saWRpdHlUeXBlIHByb3RvdHlwZSBpcyB1c2VkIHRvIGVuY29kZS9kZWNvZGUgc29saWRpdHkgcGFyYW1zIG9mIGNlcnRhaW4gdHlwZVxuICovXG52YXIgU29saWRpdHlUeXBlID0gZnVuY3Rpb24gKGNvbmZpZykge1xuICAgIHRoaXMuX2lucHV0Rm9ybWF0dGVyID0gY29uZmlnLmlucHV0Rm9ybWF0dGVyO1xuICAgIHRoaXMuX291dHB1dEZvcm1hdHRlciA9IGNvbmZpZy5vdXRwdXRGb3JtYXR0ZXI7XG59O1xuXG4vKipcbiAqIFNob3VsZCBiZSB1c2VkIHRvIGRldGVybWluZSBpZiB0aGlzIFNvbGlkaXR5VHlwZSBkbyBtYXRjaCBnaXZlbiBuYW1lXG4gKlxuICogQG1ldGhvZCBpc1R5cGVcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lXG4gKiBAcmV0dXJuIHtCb29sfSB0cnVlIGlmIHR5cGUgbWF0Y2ggdGhpcyBTb2xpZGl0eVR5cGUsIG90aGVyd2lzZSBmYWxzZVxuICovXG5Tb2xpZGl0eVR5cGUucHJvdG90eXBlLmlzVHlwZSA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgXCJ0aGlzIG1ldGhvZCBzaG91bGQgYmUgb3ZlcnJ3cml0dGVuIGZvciB0eXBlIFwiICsgbmFtZTtcbn07XG5cbi8qKlxuICogU2hvdWxkIGJlIHVzZWQgdG8gZGV0ZXJtaW5lIHdoYXQgaXMgdGhlIGxlbmd0aCBvZiBzdGF0aWMgcGFydCBpbiBnaXZlbiB0eXBlXG4gKlxuICogQG1ldGhvZCBzdGF0aWNQYXJ0TGVuZ3RoXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZVxuICogQHJldHVybiB7TnVtYmVyfSBsZW5ndGggb2Ygc3RhdGljIHBhcnQgaW4gYnl0ZXNcbiAqL1xuU29saWRpdHlUeXBlLnByb3RvdHlwZS5zdGF0aWNQYXJ0TGVuZ3RoID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBcInRoaXMgbWV0aG9kIHNob3VsZCBiZSBvdmVycndyaXR0ZW4gZm9yIHR5cGU6IFwiICsgbmFtZTtcbn07XG5cbi8qKlxuICogU2hvdWxkIGJlIHVzZWQgdG8gZGV0ZXJtaW5lIGlmIHR5cGUgaXMgZHluYW1pYyBhcnJheVxuICogZWc6IFxuICogXCJ0eXBlW11cIiA9PiB0cnVlXG4gKiBcInR5cGVbNF1cIiA9PiBmYWxzZVxuICpcbiAqIEBtZXRob2QgaXNEeW5hbWljQXJyYXlcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lXG4gKiBAcmV0dXJuIHtCb29sfSB0cnVlIGlmIHRoZSB0eXBlIGlzIGR5bmFtaWMgYXJyYXkgXG4gKi9cblNvbGlkaXR5VHlwZS5wcm90b3R5cGUuaXNEeW5hbWljQXJyYXkgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHZhciBuZXN0ZWRUeXBlcyA9IHRoaXMubmVzdGVkVHlwZXMobmFtZSk7XG4gICAgcmV0dXJuICEhbmVzdGVkVHlwZXMgJiYgIW5lc3RlZFR5cGVzW25lc3RlZFR5cGVzLmxlbmd0aCAtIDFdLm1hdGNoKC9bMC05XXsxLH0vZyk7XG59O1xuXG4vKipcbiAqIFNob3VsZCBiZSB1c2VkIHRvIGRldGVybWluZSBpZiB0eXBlIGlzIHN0YXRpYyBhcnJheVxuICogZWc6IFxuICogXCJ0eXBlW11cIiA9PiBmYWxzZVxuICogXCJ0eXBlWzRdXCIgPT4gdHJ1ZVxuICpcbiAqIEBtZXRob2QgaXNTdGF0aWNBcnJheVxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVcbiAqIEByZXR1cm4ge0Jvb2x9IHRydWUgaWYgdGhlIHR5cGUgaXMgc3RhdGljIGFycmF5IFxuICovXG5Tb2xpZGl0eVR5cGUucHJvdG90eXBlLmlzU3RhdGljQXJyYXkgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHZhciBuZXN0ZWRUeXBlcyA9IHRoaXMubmVzdGVkVHlwZXMobmFtZSk7XG4gICAgcmV0dXJuICEhbmVzdGVkVHlwZXMgJiYgISFuZXN0ZWRUeXBlc1tuZXN0ZWRUeXBlcy5sZW5ndGggLSAxXS5tYXRjaCgvWzAtOV17MSx9L2cpO1xufTtcblxuLyoqXG4gKiBTaG91bGQgcmV0dXJuIGxlbmd0aCBvZiBzdGF0aWMgYXJyYXlcbiAqIGVnLiBcbiAqIFwiaW50WzMyXVwiID0+IDMyXG4gKiBcImludDI1NlsxNF1cIiA9PiAxNFxuICogXCJpbnRbMl1bM11cIiA9PiAzXG4gKiBcImludFwiID0+IDFcbiAqIFwiaW50WzFdXCIgPT4gMVxuICogXCJpbnRbXVwiID0+IDFcbiAqXG4gKiBAbWV0aG9kIHN0YXRpY0FycmF5TGVuZ3RoXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZVxuICogQHJldHVybiB7TnVtYmVyfSBzdGF0aWMgYXJyYXkgbGVuZ3RoXG4gKi9cblNvbGlkaXR5VHlwZS5wcm90b3R5cGUuc3RhdGljQXJyYXlMZW5ndGggPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHZhciBuZXN0ZWRUeXBlcyA9IHRoaXMubmVzdGVkVHlwZXMobmFtZSk7XG4gICAgaWYgKG5lc3RlZFR5cGVzKSB7XG4gICAgICAgcmV0dXJuIHBhcnNlSW50KG5lc3RlZFR5cGVzW25lc3RlZFR5cGVzLmxlbmd0aCAtIDFdLm1hdGNoKC9bMC05XXsxLH0vZykgfHwgMSk7XG4gICAgfVxuICAgIHJldHVybiAxO1xufTtcblxuLyoqXG4gKiBTaG91bGQgcmV0dXJuIG5lc3RlZCB0eXBlXG4gKiBlZy5cbiAqIFwiaW50WzMyXVwiID0+IFwiaW50XCJcbiAqIFwiaW50MjU2WzE0XVwiID0+IFwiaW50MjU2XCJcbiAqIFwiaW50WzJdWzNdXCIgPT4gXCJpbnRbMl1cIlxuICogXCJpbnRcIiA9PiBcImludFwiXG4gKiBcImludFtdXCIgPT4gXCJpbnRcIlxuICpcbiAqIEBtZXRob2QgbmVzdGVkTmFtZVxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVcbiAqIEByZXR1cm4ge1N0cmluZ30gbmVzdGVkIG5hbWVcbiAqL1xuU29saWRpdHlUeXBlLnByb3RvdHlwZS5uZXN0ZWROYW1lID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAvLyByZW1vdmUgbGFzdCBbXSBpbiBuYW1lXG4gICAgdmFyIG5lc3RlZFR5cGVzID0gdGhpcy5uZXN0ZWRUeXBlcyhuYW1lKTtcbiAgICBpZiAoIW5lc3RlZFR5cGVzKSB7XG4gICAgICAgIHJldHVybiBuYW1lO1xuICAgIH1cblxuICAgIHJldHVybiBuYW1lLnN1YnN0cigwLCBuYW1lLmxlbmd0aCAtIG5lc3RlZFR5cGVzW25lc3RlZFR5cGVzLmxlbmd0aCAtIDFdLmxlbmd0aCk7XG59O1xuXG4vKipcbiAqIFNob3VsZCByZXR1cm4gdHJ1ZSBpZiB0eXBlIGhhcyBkeW5hbWljIHNpemUgYnkgZGVmYXVsdFxuICogc3VjaCB0eXBlcyBhcmUgXCJzdHJpbmdcIiwgXCJieXRlc1wiXG4gKlxuICogQG1ldGhvZCBpc0R5bmFtaWNUeXBlXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZVxuICogQHJldHVybiB7Qm9vbH0gdHJ1ZSBpZiBpcyBkeW5hbWljLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuU29saWRpdHlUeXBlLnByb3RvdHlwZS5pc0R5bmFtaWNUeXBlID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBmYWxzZTtcbn07XG5cbi8qKlxuICogU2hvdWxkIHJldHVybiBhcnJheSBvZiBuZXN0ZWQgdHlwZXNcbiAqIGVnLlxuICogXCJpbnRbMl1bM11bXVwiID0+IFtcIlsyXVwiLCBcIlszXVwiLCBcIltdXCJdXG4gKiBcImludFtdID0+IFtcIltdXCJdXG4gKiBcImludFwiID0+IG51bGxcbiAqXG4gKiBAbWV0aG9kIG5lc3RlZFR5cGVzXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZVxuICogQHJldHVybiB7QXJyYXl9IGFycmF5IG9mIG5lc3RlZCB0eXBlc1xuICovXG5Tb2xpZGl0eVR5cGUucHJvdG90eXBlLm5lc3RlZFR5cGVzID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAvLyByZXR1cm4gbGlzdCBvZiBzdHJpbmdzIGVnLiBcIltdXCIsIFwiWzNdXCIsIFwiW11cIiwgXCJbMl1cIlxuICAgIHJldHVybiBuYW1lLm1hdGNoKC8oXFxbWzAtOV0qXFxdKS9nKTtcbn07XG5cbi8qKlxuICogU2hvdWxkIGJlIHVzZWQgdG8gZW5jb2RlIHRoZSB2YWx1ZVxuICpcbiAqIEBtZXRob2QgZW5jb2RlXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsdWUgXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZVxuICogQHJldHVybiB7U3RyaW5nfSBlbmNvZGVkIHZhbHVlXG4gKi9cblNvbGlkaXR5VHlwZS5wcm90b3R5cGUuZW5jb2RlID0gZnVuY3Rpb24gKHZhbHVlLCBuYW1lKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIGlmICh0aGlzLmlzRHluYW1pY0FycmF5KG5hbWUpKSB7XG5cbiAgICAgICAgcmV0dXJuIChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgbGVuZ3RoID0gdmFsdWUubGVuZ3RoOyAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW4gaW50XG4gICAgICAgICAgICB2YXIgbmVzdGVkTmFtZSA9IHNlbGYubmVzdGVkTmFtZShuYW1lKTtcblxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goZi5mb3JtYXRJbnB1dEludChsZW5ndGgpLmVuY29kZSgpKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdmFsdWUuZm9yRWFjaChmdW5jdGlvbiAodikge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHNlbGYuZW5jb2RlKHYsIG5lc3RlZE5hbWUpKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9KSgpO1xuXG4gICAgfSBlbHNlIGlmICh0aGlzLmlzU3RhdGljQXJyYXkobmFtZSkpIHtcblxuICAgICAgICByZXR1cm4gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBsZW5ndGggPSBzZWxmLnN0YXRpY0FycmF5TGVuZ3RoKG5hbWUpOyAgICAgICAgICAvLyBpbiBpbnRcbiAgICAgICAgICAgIHZhciBuZXN0ZWROYW1lID0gc2VsZi5uZXN0ZWROYW1lKG5hbWUpO1xuXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goc2VsZi5lbmNvZGUodmFsdWVbaV0sIG5lc3RlZE5hbWUpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfSkoKTtcblxuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9pbnB1dEZvcm1hdHRlcih2YWx1ZSwgbmFtZSkuZW5jb2RlKCk7XG59O1xuXG4vKipcbiAqIFNob3VsZCBiZSB1c2VkIHRvIGRlY29kZSB2YWx1ZSBmcm9tIGJ5dGVzXG4gKlxuICogQG1ldGhvZCBkZWNvZGVcbiAqIEBwYXJhbSB7U3RyaW5nfSBieXRlc1xuICogQHBhcmFtIHtOdW1iZXJ9IG9mZnNldCBpbiBieXRlc1xuICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgdHlwZSBuYW1lXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBkZWNvZGVkIHZhbHVlXG4gKi9cblNvbGlkaXR5VHlwZS5wcm90b3R5cGUuZGVjb2RlID0gZnVuY3Rpb24gKGJ5dGVzLCBvZmZzZXQsIG5hbWUpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICBpZiAodGhpcy5pc0R5bmFtaWNBcnJheShuYW1lKSkge1xuXG4gICAgICAgIHJldHVybiAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGFycmF5T2Zmc2V0ID0gcGFyc2VJbnQoJzB4JyArIGJ5dGVzLnN1YnN0cihvZmZzZXQgKiAyLCA2NCkpOyAvLyBpbiBieXRlc1xuICAgICAgICAgICAgdmFyIGxlbmd0aCA9IHBhcnNlSW50KCcweCcgKyBieXRlcy5zdWJzdHIoYXJyYXlPZmZzZXQgKiAyLCA2NCkpOyAvLyBpbiBpbnRcbiAgICAgICAgICAgIHZhciBhcnJheVN0YXJ0ID0gYXJyYXlPZmZzZXQgKyAzMjsgLy8gYXJyYXkgc3RhcnRzIGFmdGVyIGxlbmd0aDsgLy8gaW4gYnl0ZXNcblxuICAgICAgICAgICAgdmFyIG5lc3RlZE5hbWUgPSBzZWxmLm5lc3RlZE5hbWUobmFtZSk7XG4gICAgICAgICAgICB2YXIgbmVzdGVkU3RhdGljUGFydExlbmd0aCA9IHNlbGYuc3RhdGljUGFydExlbmd0aChuZXN0ZWROYW1lKTsgIC8vIGluIGJ5dGVzXG4gICAgICAgICAgICB2YXIgcm91bmRlZE5lc3RlZFN0YXRpY1BhcnRMZW5ndGggPSBNYXRoLmZsb29yKChuZXN0ZWRTdGF0aWNQYXJ0TGVuZ3RoICsgMzEpIC8gMzIpICogMzI7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gW107XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoICogcm91bmRlZE5lc3RlZFN0YXRpY1BhcnRMZW5ndGg7IGkgKz0gcm91bmRlZE5lc3RlZFN0YXRpY1BhcnRMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChzZWxmLmRlY29kZShieXRlcywgYXJyYXlTdGFydCArIGksIG5lc3RlZE5hbWUpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfSkoKTtcblxuICAgIH0gZWxzZSBpZiAodGhpcy5pc1N0YXRpY0FycmF5KG5hbWUpKSB7XG5cbiAgICAgICAgcmV0dXJuIChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgbGVuZ3RoID0gc2VsZi5zdGF0aWNBcnJheUxlbmd0aChuYW1lKTsgICAgICAgICAgICAgICAgICAgICAgLy8gaW4gaW50XG4gICAgICAgICAgICB2YXIgYXJyYXlTdGFydCA9IG9mZnNldDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW4gYnl0ZXNcblxuICAgICAgICAgICAgdmFyIG5lc3RlZE5hbWUgPSBzZWxmLm5lc3RlZE5hbWUobmFtZSk7XG4gICAgICAgICAgICB2YXIgbmVzdGVkU3RhdGljUGFydExlbmd0aCA9IHNlbGYuc3RhdGljUGFydExlbmd0aChuZXN0ZWROYW1lKTsgLy8gaW4gYnl0ZXNcbiAgICAgICAgICAgIHZhciByb3VuZGVkTmVzdGVkU3RhdGljUGFydExlbmd0aCA9IE1hdGguZmxvb3IoKG5lc3RlZFN0YXRpY1BhcnRMZW5ndGggKyAzMSkgLyAzMikgKiAzMjtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGggKiByb3VuZGVkTmVzdGVkU3RhdGljUGFydExlbmd0aDsgaSArPSByb3VuZGVkTmVzdGVkU3RhdGljUGFydExlbmd0aCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHNlbGYuZGVjb2RlKGJ5dGVzLCBhcnJheVN0YXJ0ICsgaSwgbmVzdGVkTmFtZSkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9KSgpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5pc0R5bmFtaWNUeXBlKG5hbWUpKSB7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBkeW5hbWljT2Zmc2V0ID0gcGFyc2VJbnQoJzB4JyArIGJ5dGVzLnN1YnN0cihvZmZzZXQgKiAyLCA2NCkpOyAgICAgIC8vIGluIGJ5dGVzXG4gICAgICAgICAgICB2YXIgbGVuZ3RoID0gcGFyc2VJbnQoJzB4JyArIGJ5dGVzLnN1YnN0cihkeW5hbWljT2Zmc2V0ICogMiwgNjQpKTsgICAgICAvLyBpbiBieXRlc1xuICAgICAgICAgICAgdmFyIHJvdW5kZWRMZW5ndGggPSBNYXRoLmZsb29yKChsZW5ndGggKyAzMSkgLyAzMik7ICAgICAgICAgICAgICAgICAgICAgLy8gaW4gaW50XG4gICAgICAgIFxuICAgICAgICAgICAgcmV0dXJuIHNlbGYuX291dHB1dEZvcm1hdHRlcihuZXcgU29saWRpdHlQYXJhbShieXRlcy5zdWJzdHIoZHluYW1pY09mZnNldCAqIDIsICggMSArIHJvdW5kZWRMZW5ndGgpICogNjQpLCAwKSk7XG4gICAgICAgIH0pKCk7XG4gICAgfVxuXG4gICAgdmFyIGxlbmd0aCA9IHRoaXMuc3RhdGljUGFydExlbmd0aChuYW1lKTtcbiAgICByZXR1cm4gdGhpcy5fb3V0cHV0Rm9ybWF0dGVyKG5ldyBTb2xpZGl0eVBhcmFtKGJ5dGVzLnN1YnN0cihvZmZzZXQgKiAyLCBsZW5ndGggKiAyKSkpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBTb2xpZGl0eVR5cGU7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3dlYjMvbGliL3NvbGlkaXR5L3R5cGUuanMiLCIvKlxuICAgIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIHdlYjMuanMuXG5cbiAgICB3ZWIzLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAgICBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAgICB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICAgIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG5cbiAgICB3ZWIzLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gICAgYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAgICBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gICAgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG5cbiAgICBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAgICBhbG9uZyB3aXRoIHdlYjMuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4qL1xuLyoqXG4gKiBAZmlsZSBmb3JtYXR0ZXJzLmpzXG4gKiBAYXV0aG9yIE1hcmVrIEtvdGV3aWN6IDxtYXJla0BldGhkZXYuY29tPlxuICogQGF1dGhvciBGYWJpYW4gVm9nZWxzdGVsbGVyIDxmYWJpYW5AZXRoZGV2LmNvbT5cbiAqIEBkYXRlIDIwMTVcbiAqL1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscy91dGlscycpO1xudmFyIGNvbmZpZyA9IHJlcXVpcmUoJy4uL3V0aWxzL2NvbmZpZycpO1xudmFyIEliYW4gPSByZXF1aXJlKCcuL2liYW4nKTtcblxuLyoqXG4gKiBTaG91bGQgdGhlIGZvcm1hdCBvdXRwdXQgdG8gYSBiaWcgbnVtYmVyXG4gKlxuICogQG1ldGhvZCBvdXRwdXRCaWdOdW1iZXJGb3JtYXR0ZXJcbiAqIEBwYXJhbSB7U3RyaW5nfE51bWJlcnxCaWdOdW1iZXJ9XG4gKiBAcmV0dXJucyB7QmlnTnVtYmVyfSBvYmplY3RcbiAqL1xudmFyIG91dHB1dEJpZ051bWJlckZvcm1hdHRlciA9IGZ1bmN0aW9uIChudW1iZXIpIHtcbiAgICByZXR1cm4gdXRpbHMudG9CaWdOdW1iZXIobnVtYmVyKTtcbn07XG5cbnZhciBpc1ByZWRlZmluZWRCbG9ja051bWJlciA9IGZ1bmN0aW9uIChibG9ja051bWJlcikge1xuICAgIHJldHVybiBibG9ja051bWJlciA9PT0gJ2xhdGVzdCcgfHwgYmxvY2tOdW1iZXIgPT09ICdwZW5kaW5nJyB8fCBibG9ja051bWJlciA9PT0gJ2VhcmxpZXN0Jztcbn07XG5cbnZhciBpbnB1dERlZmF1bHRCbG9ja051bWJlckZvcm1hdHRlciA9IGZ1bmN0aW9uIChibG9ja051bWJlcikge1xuICAgIGlmIChibG9ja051bWJlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBjb25maWcuZGVmYXVsdEJsb2NrO1xuICAgIH1cbiAgICByZXR1cm4gaW5wdXRCbG9ja051bWJlckZvcm1hdHRlcihibG9ja051bWJlcik7XG59O1xuXG52YXIgaW5wdXRCbG9ja051bWJlckZvcm1hdHRlciA9IGZ1bmN0aW9uIChibG9ja051bWJlcikge1xuICAgIGlmIChibG9ja051bWJlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSBlbHNlIGlmIChpc1ByZWRlZmluZWRCbG9ja051bWJlcihibG9ja051bWJlcikpIHtcbiAgICAgICAgcmV0dXJuIGJsb2NrTnVtYmVyO1xuICAgIH1cbiAgICByZXR1cm4gdXRpbHMudG9IZXgoYmxvY2tOdW1iZXIpO1xufTtcblxuLyoqXG4gKiBGb3JtYXRzIHRoZSBpbnB1dCBvZiBhIHRyYW5zYWN0aW9uIGFuZCBjb252ZXJ0cyBhbGwgdmFsdWVzIHRvIEhFWFxuICpcbiAqIEBtZXRob2QgaW5wdXRDYWxsRm9ybWF0dGVyXG4gKiBAcGFyYW0ge09iamVjdH0gdHJhbnNhY3Rpb24gb3B0aW9uc1xuICogQHJldHVybnMgb2JqZWN0XG4qL1xudmFyIGlucHV0Q2FsbEZvcm1hdHRlciA9IGZ1bmN0aW9uIChvcHRpb25zKXtcblxuICAgIG9wdGlvbnMuZnJvbSA9IG9wdGlvbnMuZnJvbSB8fCBjb25maWcuZGVmYXVsdEFjY291bnQ7XG5cbiAgICBpZiAob3B0aW9ucy5mcm9tKSB7XG4gICAgICAgIG9wdGlvbnMuZnJvbSA9IGlucHV0QWRkcmVzc0Zvcm1hdHRlcihvcHRpb25zLmZyb20pO1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zLnRvKSB7IC8vIGl0IG1pZ2h0IGJlIGNvbnRyYWN0IGNyZWF0aW9uXG4gICAgICAgIG9wdGlvbnMudG8gPSBpbnB1dEFkZHJlc3NGb3JtYXR0ZXIob3B0aW9ucy50byk7XG4gICAgfVxuXG4gICAgWydnYXNQcmljZScsICdnYXMnLCAndmFsdWUnLCAnbm9uY2UnXS5maWx0ZXIoZnVuY3Rpb24gKGtleSkge1xuICAgICAgICByZXR1cm4gb3B0aW9uc1trZXldICE9PSB1bmRlZmluZWQ7XG4gICAgfSkuZm9yRWFjaChmdW5jdGlvbihrZXkpe1xuICAgICAgICBvcHRpb25zW2tleV0gPSB1dGlscy5mcm9tRGVjaW1hbChvcHRpb25zW2tleV0pO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIG9wdGlvbnM7XG59O1xuXG4vKipcbiAqIEZvcm1hdHMgdGhlIGlucHV0IG9mIGEgdHJhbnNhY3Rpb24gYW5kIGNvbnZlcnRzIGFsbCB2YWx1ZXMgdG8gSEVYXG4gKlxuICogQG1ldGhvZCBpbnB1dFRyYW5zYWN0aW9uRm9ybWF0dGVyXG4gKiBAcGFyYW0ge09iamVjdH0gdHJhbnNhY3Rpb24gb3B0aW9uc1xuICogQHJldHVybnMgb2JqZWN0XG4qL1xudmFyIGlucHV0VHJhbnNhY3Rpb25Gb3JtYXR0ZXIgPSBmdW5jdGlvbiAob3B0aW9ucyl7XG5cbiAgICBvcHRpb25zLmZyb20gPSBvcHRpb25zLmZyb20gfHwgY29uZmlnLmRlZmF1bHRBY2NvdW50O1xuICAgIG9wdGlvbnMuZnJvbSA9IGlucHV0QWRkcmVzc0Zvcm1hdHRlcihvcHRpb25zLmZyb20pO1xuXG4gICAgaWYgKG9wdGlvbnMudG8pIHsgLy8gaXQgbWlnaHQgYmUgY29udHJhY3QgY3JlYXRpb25cbiAgICAgICAgb3B0aW9ucy50byA9IGlucHV0QWRkcmVzc0Zvcm1hdHRlcihvcHRpb25zLnRvKTtcbiAgICB9XG5cbiAgICBbJ2dhc1ByaWNlJywgJ2dhcycsICd2YWx1ZScsICdub25jZSddLmZpbHRlcihmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHJldHVybiBvcHRpb25zW2tleV0gIT09IHVuZGVmaW5lZDtcbiAgICB9KS5mb3JFYWNoKGZ1bmN0aW9uKGtleSl7XG4gICAgICAgIG9wdGlvbnNba2V5XSA9IHV0aWxzLmZyb21EZWNpbWFsKG9wdGlvbnNba2V5XSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gb3B0aW9ucztcbn07XG5cbi8qKlxuICogRm9ybWF0cyB0aGUgb3V0cHV0IG9mIGEgdHJhbnNhY3Rpb24gdG8gaXRzIHByb3BlciB2YWx1ZXNcbiAqXG4gKiBAbWV0aG9kIG91dHB1dFRyYW5zYWN0aW9uRm9ybWF0dGVyXG4gKiBAcGFyYW0ge09iamVjdH0gdHhcbiAqIEByZXR1cm5zIHtPYmplY3R9XG4qL1xudmFyIG91dHB1dFRyYW5zYWN0aW9uRm9ybWF0dGVyID0gZnVuY3Rpb24gKHR4KXtcbiAgICBpZih0eC5ibG9ja051bWJlciAhPT0gbnVsbClcbiAgICAgICAgdHguYmxvY2tOdW1iZXIgPSB1dGlscy50b0RlY2ltYWwodHguYmxvY2tOdW1iZXIpO1xuICAgIGlmKHR4LnRyYW5zYWN0aW9uSW5kZXggIT09IG51bGwpXG4gICAgICAgIHR4LnRyYW5zYWN0aW9uSW5kZXggPSB1dGlscy50b0RlY2ltYWwodHgudHJhbnNhY3Rpb25JbmRleCk7XG4gICAgdHgubm9uY2UgPSB1dGlscy50b0RlY2ltYWwodHgubm9uY2UpO1xuICAgIHR4LmdhcyA9IHV0aWxzLnRvRGVjaW1hbCh0eC5nYXMpO1xuICAgIHR4Lmdhc1ByaWNlID0gdXRpbHMudG9CaWdOdW1iZXIodHguZ2FzUHJpY2UpO1xuICAgIHR4LnZhbHVlID0gdXRpbHMudG9CaWdOdW1iZXIodHgudmFsdWUpO1xuICAgIHJldHVybiB0eDtcbn07XG5cbi8qKlxuICogRm9ybWF0cyB0aGUgb3V0cHV0IG9mIGEgdHJhbnNhY3Rpb24gcmVjZWlwdCB0byBpdHMgcHJvcGVyIHZhbHVlc1xuICpcbiAqIEBtZXRob2Qgb3V0cHV0VHJhbnNhY3Rpb25SZWNlaXB0Rm9ybWF0dGVyXG4gKiBAcGFyYW0ge09iamVjdH0gcmVjZWlwdFxuICogQHJldHVybnMge09iamVjdH1cbiovXG52YXIgb3V0cHV0VHJhbnNhY3Rpb25SZWNlaXB0Rm9ybWF0dGVyID0gZnVuY3Rpb24gKHJlY2VpcHQpe1xuICAgIGlmKHJlY2VpcHQuYmxvY2tOdW1iZXIgIT09IG51bGwpXG4gICAgICAgIHJlY2VpcHQuYmxvY2tOdW1iZXIgPSB1dGlscy50b0RlY2ltYWwocmVjZWlwdC5ibG9ja051bWJlcik7XG4gICAgaWYocmVjZWlwdC50cmFuc2FjdGlvbkluZGV4ICE9PSBudWxsKVxuICAgICAgICByZWNlaXB0LnRyYW5zYWN0aW9uSW5kZXggPSB1dGlscy50b0RlY2ltYWwocmVjZWlwdC50cmFuc2FjdGlvbkluZGV4KTtcbiAgICByZWNlaXB0LmN1bXVsYXRpdmVHYXNVc2VkID0gdXRpbHMudG9EZWNpbWFsKHJlY2VpcHQuY3VtdWxhdGl2ZUdhc1VzZWQpO1xuICAgIHJlY2VpcHQuZ2FzVXNlZCA9IHV0aWxzLnRvRGVjaW1hbChyZWNlaXB0Lmdhc1VzZWQpO1xuXG4gICAgaWYodXRpbHMuaXNBcnJheShyZWNlaXB0LmxvZ3MpKSB7XG4gICAgICAgIHJlY2VpcHQubG9ncyA9IHJlY2VpcHQubG9ncy5tYXAoZnVuY3Rpb24obG9nKXtcbiAgICAgICAgICAgIHJldHVybiBvdXRwdXRMb2dGb3JtYXR0ZXIobG9nKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlY2VpcHQ7XG59O1xuXG4vKipcbiAqIEZvcm1hdHMgdGhlIG91dHB1dCBvZiBhIGJsb2NrIHRvIGl0cyBwcm9wZXIgdmFsdWVzXG4gKlxuICogQG1ldGhvZCBvdXRwdXRCbG9ja0Zvcm1hdHRlclxuICogQHBhcmFtIHtPYmplY3R9IGJsb2NrXG4gKiBAcmV0dXJucyB7T2JqZWN0fVxuKi9cbnZhciBvdXRwdXRCbG9ja0Zvcm1hdHRlciA9IGZ1bmN0aW9uKGJsb2NrKSB7XG5cbiAgICAvLyB0cmFuc2Zvcm0gdG8gbnVtYmVyXG4gICAgYmxvY2suZ2FzTGltaXQgPSB1dGlscy50b0RlY2ltYWwoYmxvY2suZ2FzTGltaXQpO1xuICAgIGJsb2NrLmdhc1VzZWQgPSB1dGlscy50b0RlY2ltYWwoYmxvY2suZ2FzVXNlZCk7XG4gICAgYmxvY2suc2l6ZSA9IHV0aWxzLnRvRGVjaW1hbChibG9jay5zaXplKTtcbiAgICBibG9jay50aW1lc3RhbXAgPSB1dGlscy50b0RlY2ltYWwoYmxvY2sudGltZXN0YW1wKTtcbiAgICBpZihibG9jay5udW1iZXIgIT09IG51bGwpXG4gICAgICAgIGJsb2NrLm51bWJlciA9IHV0aWxzLnRvRGVjaW1hbChibG9jay5udW1iZXIpO1xuXG4gICAgYmxvY2suZGlmZmljdWx0eSA9IHV0aWxzLnRvQmlnTnVtYmVyKGJsb2NrLmRpZmZpY3VsdHkpO1xuICAgIGJsb2NrLnRvdGFsRGlmZmljdWx0eSA9IHV0aWxzLnRvQmlnTnVtYmVyKGJsb2NrLnRvdGFsRGlmZmljdWx0eSk7XG5cbiAgICBpZiAodXRpbHMuaXNBcnJheShibG9jay50cmFuc2FjdGlvbnMpKSB7XG4gICAgICAgIGJsb2NrLnRyYW5zYWN0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pe1xuICAgICAgICAgICAgaWYoIXV0aWxzLmlzU3RyaW5nKGl0ZW0pKVxuICAgICAgICAgICAgICAgIHJldHVybiBvdXRwdXRUcmFuc2FjdGlvbkZvcm1hdHRlcihpdGVtKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGJsb2NrO1xufTtcblxuLyoqXG4gKiBGb3JtYXRzIHRoZSBvdXRwdXQgb2YgYSBsb2dcbiAqXG4gKiBAbWV0aG9kIG91dHB1dExvZ0Zvcm1hdHRlclxuICogQHBhcmFtIHtPYmplY3R9IGxvZyBvYmplY3RcbiAqIEByZXR1cm5zIHtPYmplY3R9IGxvZ1xuKi9cbnZhciBvdXRwdXRMb2dGb3JtYXR0ZXIgPSBmdW5jdGlvbihsb2cpIHtcbiAgICBpZihsb2cuYmxvY2tOdW1iZXIgIT09IG51bGwpXG4gICAgICAgIGxvZy5ibG9ja051bWJlciA9IHV0aWxzLnRvRGVjaW1hbChsb2cuYmxvY2tOdW1iZXIpO1xuICAgIGlmKGxvZy50cmFuc2FjdGlvbkluZGV4ICE9PSBudWxsKVxuICAgICAgICBsb2cudHJhbnNhY3Rpb25JbmRleCA9IHV0aWxzLnRvRGVjaW1hbChsb2cudHJhbnNhY3Rpb25JbmRleCk7XG4gICAgaWYobG9nLmxvZ0luZGV4ICE9PSBudWxsKVxuICAgICAgICBsb2cubG9nSW5kZXggPSB1dGlscy50b0RlY2ltYWwobG9nLmxvZ0luZGV4KTtcblxuICAgIHJldHVybiBsb2c7XG59O1xuXG4vKipcbiAqIEZvcm1hdHMgdGhlIGlucHV0IG9mIGEgd2hpc3BlciBwb3N0IGFuZCBjb252ZXJ0cyBhbGwgdmFsdWVzIHRvIEhFWFxuICpcbiAqIEBtZXRob2QgaW5wdXRQb3N0Rm9ybWF0dGVyXG4gKiBAcGFyYW0ge09iamVjdH0gdHJhbnNhY3Rpb24gb2JqZWN0XG4gKiBAcmV0dXJucyB7T2JqZWN0fVxuKi9cbnZhciBpbnB1dFBvc3RGb3JtYXR0ZXIgPSBmdW5jdGlvbihwb3N0KSB7XG5cbiAgICAvLyBwb3N0LnBheWxvYWQgPSB1dGlscy50b0hleChwb3N0LnBheWxvYWQpO1xuICAgIHBvc3QudHRsID0gdXRpbHMuZnJvbURlY2ltYWwocG9zdC50dGwpO1xuICAgIHBvc3Qud29ya1RvUHJvdmUgPSB1dGlscy5mcm9tRGVjaW1hbChwb3N0LndvcmtUb1Byb3ZlKTtcbiAgICBwb3N0LnByaW9yaXR5ID0gdXRpbHMuZnJvbURlY2ltYWwocG9zdC5wcmlvcml0eSk7XG5cbiAgICAvLyBmYWxsYmFja1xuICAgIGlmICghdXRpbHMuaXNBcnJheShwb3N0LnRvcGljcykpIHtcbiAgICAgICAgcG9zdC50b3BpY3MgPSBwb3N0LnRvcGljcyA/IFtwb3N0LnRvcGljc10gOiBbXTtcbiAgICB9XG5cbiAgICAvLyBmb3JtYXQgdGhlIGZvbGxvd2luZyBvcHRpb25zXG4gICAgcG9zdC50b3BpY3MgPSBwb3N0LnRvcGljcy5tYXAoZnVuY3Rpb24odG9waWMpe1xuICAgICAgICAvLyBjb252ZXJ0IG9ubHkgaWYgbm90IGhleFxuICAgICAgICByZXR1cm4gKHRvcGljLmluZGV4T2YoJzB4JykgPT09IDApID8gdG9waWMgOiB1dGlscy5mcm9tVXRmOCh0b3BpYyk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcG9zdDtcbn07XG5cbi8qKlxuICogRm9ybWF0cyB0aGUgb3V0cHV0IG9mIGEgcmVjZWl2ZWQgcG9zdCBtZXNzYWdlXG4gKlxuICogQG1ldGhvZCBvdXRwdXRQb3N0Rm9ybWF0dGVyXG4gKiBAcGFyYW0ge09iamVjdH1cbiAqIEByZXR1cm5zIHtPYmplY3R9XG4gKi9cbnZhciBvdXRwdXRQb3N0Rm9ybWF0dGVyID0gZnVuY3Rpb24ocG9zdCl7XG5cbiAgICBwb3N0LmV4cGlyeSA9IHV0aWxzLnRvRGVjaW1hbChwb3N0LmV4cGlyeSk7XG4gICAgcG9zdC5zZW50ID0gdXRpbHMudG9EZWNpbWFsKHBvc3Quc2VudCk7XG4gICAgcG9zdC50dGwgPSB1dGlscy50b0RlY2ltYWwocG9zdC50dGwpO1xuICAgIHBvc3Qud29ya1Byb3ZlZCA9IHV0aWxzLnRvRGVjaW1hbChwb3N0LndvcmtQcm92ZWQpO1xuICAgIC8vIHBvc3QucGF5bG9hZFJhdyA9IHBvc3QucGF5bG9hZDtcbiAgICAvLyBwb3N0LnBheWxvYWQgPSB1dGlscy50b0FzY2lpKHBvc3QucGF5bG9hZCk7XG5cbiAgICAvLyBpZiAodXRpbHMuaXNKc29uKHBvc3QucGF5bG9hZCkpIHtcbiAgICAvLyAgICAgcG9zdC5wYXlsb2FkID0gSlNPTi5wYXJzZShwb3N0LnBheWxvYWQpO1xuICAgIC8vIH1cblxuICAgIC8vIGZvcm1hdCB0aGUgZm9sbG93aW5nIG9wdGlvbnNcbiAgICBpZiAoIXBvc3QudG9waWNzKSB7XG4gICAgICAgIHBvc3QudG9waWNzID0gW107XG4gICAgfVxuICAgIHBvc3QudG9waWNzID0gcG9zdC50b3BpY3MubWFwKGZ1bmN0aW9uKHRvcGljKXtcbiAgICAgICAgcmV0dXJuIHV0aWxzLnRvQXNjaWkodG9waWMpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHBvc3Q7XG59O1xuXG52YXIgaW5wdXRBZGRyZXNzRm9ybWF0dGVyID0gZnVuY3Rpb24gKGFkZHJlc3MpIHtcbiAgICB2YXIgaWJhbiA9IG5ldyBJYmFuKGFkZHJlc3MpO1xuICAgIGlmIChpYmFuLmlzVmFsaWQoKSAmJiBpYmFuLmlzRGlyZWN0KCkpIHtcbiAgICAgICAgcmV0dXJuICcweCcgKyBpYmFuLmFkZHJlc3MoKTtcbiAgICB9IGVsc2UgaWYgKHV0aWxzLmlzU3RyaWN0QWRkcmVzcyhhZGRyZXNzKSkge1xuICAgICAgICByZXR1cm4gYWRkcmVzcztcbiAgICB9IGVsc2UgaWYgKHV0aWxzLmlzQWRkcmVzcyhhZGRyZXNzKSkge1xuICAgICAgICByZXR1cm4gJzB4JyArIGFkZHJlc3M7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBhZGRyZXNzJyk7XG59O1xuXG5cbnZhciBvdXRwdXRTeW5jaW5nRm9ybWF0dGVyID0gZnVuY3Rpb24ocmVzdWx0KSB7XG5cbiAgICByZXN1bHQuc3RhcnRpbmdCbG9jayA9IHV0aWxzLnRvRGVjaW1hbChyZXN1bHQuc3RhcnRpbmdCbG9jayk7XG4gICAgcmVzdWx0LmN1cnJlbnRCbG9jayA9IHV0aWxzLnRvRGVjaW1hbChyZXN1bHQuY3VycmVudEJsb2NrKTtcbiAgICByZXN1bHQuaGlnaGVzdEJsb2NrID0gdXRpbHMudG9EZWNpbWFsKHJlc3VsdC5oaWdoZXN0QmxvY2spO1xuICAgIGlmIChyZXN1bHQua25vd25TdGF0ZXMpIHtcbiAgICAgICAgcmVzdWx0Lmtub3duU3RhdGVzID0gdXRpbHMudG9EZWNpbWFsKHJlc3VsdC5rbm93blN0YXRlcyk7XG4gICAgICAgIHJlc3VsdC5wdWxsZWRTdGF0ZXMgPSB1dGlscy50b0RlY2ltYWwocmVzdWx0LnB1bGxlZFN0YXRlcyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIGlucHV0RGVmYXVsdEJsb2NrTnVtYmVyRm9ybWF0dGVyOiBpbnB1dERlZmF1bHRCbG9ja051bWJlckZvcm1hdHRlcixcbiAgICBpbnB1dEJsb2NrTnVtYmVyRm9ybWF0dGVyOiBpbnB1dEJsb2NrTnVtYmVyRm9ybWF0dGVyLFxuICAgIGlucHV0Q2FsbEZvcm1hdHRlcjogaW5wdXRDYWxsRm9ybWF0dGVyLFxuICAgIGlucHV0VHJhbnNhY3Rpb25Gb3JtYXR0ZXI6IGlucHV0VHJhbnNhY3Rpb25Gb3JtYXR0ZXIsXG4gICAgaW5wdXRBZGRyZXNzRm9ybWF0dGVyOiBpbnB1dEFkZHJlc3NGb3JtYXR0ZXIsXG4gICAgaW5wdXRQb3N0Rm9ybWF0dGVyOiBpbnB1dFBvc3RGb3JtYXR0ZXIsXG4gICAgb3V0cHV0QmlnTnVtYmVyRm9ybWF0dGVyOiBvdXRwdXRCaWdOdW1iZXJGb3JtYXR0ZXIsXG4gICAgb3V0cHV0VHJhbnNhY3Rpb25Gb3JtYXR0ZXI6IG91dHB1dFRyYW5zYWN0aW9uRm9ybWF0dGVyLFxuICAgIG91dHB1dFRyYW5zYWN0aW9uUmVjZWlwdEZvcm1hdHRlcjogb3V0cHV0VHJhbnNhY3Rpb25SZWNlaXB0Rm9ybWF0dGVyLFxuICAgIG91dHB1dEJsb2NrRm9ybWF0dGVyOiBvdXRwdXRCbG9ja0Zvcm1hdHRlcixcbiAgICBvdXRwdXRMb2dGb3JtYXR0ZXI6IG91dHB1dExvZ0Zvcm1hdHRlcixcbiAgICBvdXRwdXRQb3N0Rm9ybWF0dGVyOiBvdXRwdXRQb3N0Rm9ybWF0dGVyLFxuICAgIG91dHB1dFN5bmNpbmdGb3JtYXR0ZXI6IG91dHB1dFN5bmNpbmdGb3JtYXR0ZXJcbn07XG5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vd2ViMy9saWIvd2ViMy9mb3JtYXR0ZXJzLmpzIiwiOyhmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSkge1xuXHRpZiAodHlwZW9mIGV4cG9ydHMgPT09IFwib2JqZWN0XCIpIHtcblx0XHQvLyBDb21tb25KU1xuXHRcdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZShcIi4vY29yZVwiKSk7XG5cdH1cblx0ZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIHtcblx0XHQvLyBBTURcblx0XHRkZWZpbmUoW1wiLi9jb3JlXCJdLCBmYWN0b3J5KTtcblx0fVxuXHRlbHNlIHtcblx0XHQvLyBHbG9iYWwgKGJyb3dzZXIpXG5cdFx0ZmFjdG9yeShyb290LkNyeXB0b0pTKTtcblx0fVxufSh0aGlzLCBmdW5jdGlvbiAoQ3J5cHRvSlMpIHtcblxuXHQoZnVuY3Rpb24gKHVuZGVmaW5lZCkge1xuXHQgICAgLy8gU2hvcnRjdXRzXG5cdCAgICB2YXIgQyA9IENyeXB0b0pTO1xuXHQgICAgdmFyIENfbGliID0gQy5saWI7XG5cdCAgICB2YXIgQmFzZSA9IENfbGliLkJhc2U7XG5cdCAgICB2YXIgWDMyV29yZEFycmF5ID0gQ19saWIuV29yZEFycmF5O1xuXG5cdCAgICAvKipcblx0ICAgICAqIHg2NCBuYW1lc3BhY2UuXG5cdCAgICAgKi9cblx0ICAgIHZhciBDX3g2NCA9IEMueDY0ID0ge307XG5cblx0ICAgIC8qKlxuXHQgICAgICogQSA2NC1iaXQgd29yZC5cblx0ICAgICAqL1xuXHQgICAgdmFyIFg2NFdvcmQgPSBDX3g2NC5Xb3JkID0gQmFzZS5leHRlbmQoe1xuXHQgICAgICAgIC8qKlxuXHQgICAgICAgICAqIEluaXRpYWxpemVzIGEgbmV3bHkgY3JlYXRlZCA2NC1iaXQgd29yZC5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoaWdoIFRoZSBoaWdoIDMyIGJpdHMuXG5cdCAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IGxvdyBUaGUgbG93IDMyIGJpdHMuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAZXhhbXBsZVxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogICAgIHZhciB4NjRXb3JkID0gQ3J5cHRvSlMueDY0LldvcmQuY3JlYXRlKDB4MDAwMTAyMDMsIDB4MDQwNTA2MDcpO1xuXHQgICAgICAgICAqL1xuXHQgICAgICAgIGluaXQ6IGZ1bmN0aW9uIChoaWdoLCBsb3cpIHtcblx0ICAgICAgICAgICAgdGhpcy5oaWdoID0gaGlnaDtcblx0ICAgICAgICAgICAgdGhpcy5sb3cgPSBsb3c7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogQml0d2lzZSBOT1RzIHRoaXMgd29yZC5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEByZXR1cm4ge1g2NFdvcmR9IEEgbmV3IHg2NC1Xb3JkIG9iamVjdCBhZnRlciBuZWdhdGluZy5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBleGFtcGxlXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiAgICAgdmFyIG5lZ2F0ZWQgPSB4NjRXb3JkLm5vdCgpO1xuXHQgICAgICAgICAqL1xuXHQgICAgICAgIC8vIG5vdDogZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAvLyB2YXIgaGlnaCA9IH50aGlzLmhpZ2g7XG5cdCAgICAgICAgICAgIC8vIHZhciBsb3cgPSB+dGhpcy5sb3c7XG5cblx0ICAgICAgICAgICAgLy8gcmV0dXJuIFg2NFdvcmQuY3JlYXRlKGhpZ2gsIGxvdyk7XG5cdCAgICAgICAgLy8gfSxcblxuXHQgICAgICAgIC8qKlxuXHQgICAgICAgICAqIEJpdHdpc2UgQU5EcyB0aGlzIHdvcmQgd2l0aCB0aGUgcGFzc2VkIHdvcmQuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcGFyYW0ge1g2NFdvcmR9IHdvcmQgVGhlIHg2NC1Xb3JkIHRvIEFORCB3aXRoIHRoaXMgd29yZC5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEByZXR1cm4ge1g2NFdvcmR9IEEgbmV3IHg2NC1Xb3JkIG9iamVjdCBhZnRlciBBTkRpbmcuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAZXhhbXBsZVxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogICAgIHZhciBhbmRlZCA9IHg2NFdvcmQuYW5kKGFub3RoZXJYNjRXb3JkKTtcblx0ICAgICAgICAgKi9cblx0ICAgICAgICAvLyBhbmQ6IGZ1bmN0aW9uICh3b3JkKSB7XG5cdCAgICAgICAgICAgIC8vIHZhciBoaWdoID0gdGhpcy5oaWdoICYgd29yZC5oaWdoO1xuXHQgICAgICAgICAgICAvLyB2YXIgbG93ID0gdGhpcy5sb3cgJiB3b3JkLmxvdztcblxuXHQgICAgICAgICAgICAvLyByZXR1cm4gWDY0V29yZC5jcmVhdGUoaGlnaCwgbG93KTtcblx0ICAgICAgICAvLyB9LFxuXG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogQml0d2lzZSBPUnMgdGhpcyB3b3JkIHdpdGggdGhlIHBhc3NlZCB3b3JkLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHBhcmFtIHtYNjRXb3JkfSB3b3JkIFRoZSB4NjQtV29yZCB0byBPUiB3aXRoIHRoaXMgd29yZC5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEByZXR1cm4ge1g2NFdvcmR9IEEgbmV3IHg2NC1Xb3JkIG9iamVjdCBhZnRlciBPUmluZy5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBleGFtcGxlXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiAgICAgdmFyIG9yZWQgPSB4NjRXb3JkLm9yKGFub3RoZXJYNjRXb3JkKTtcblx0ICAgICAgICAgKi9cblx0ICAgICAgICAvLyBvcjogZnVuY3Rpb24gKHdvcmQpIHtcblx0ICAgICAgICAgICAgLy8gdmFyIGhpZ2ggPSB0aGlzLmhpZ2ggfCB3b3JkLmhpZ2g7XG5cdCAgICAgICAgICAgIC8vIHZhciBsb3cgPSB0aGlzLmxvdyB8IHdvcmQubG93O1xuXG5cdCAgICAgICAgICAgIC8vIHJldHVybiBYNjRXb3JkLmNyZWF0ZShoaWdoLCBsb3cpO1xuXHQgICAgICAgIC8vIH0sXG5cblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBCaXR3aXNlIFhPUnMgdGhpcyB3b3JkIHdpdGggdGhlIHBhc3NlZCB3b3JkLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHBhcmFtIHtYNjRXb3JkfSB3b3JkIFRoZSB4NjQtV29yZCB0byBYT1Igd2l0aCB0aGlzIHdvcmQuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcmV0dXJuIHtYNjRXb3JkfSBBIG5ldyB4NjQtV29yZCBvYmplY3QgYWZ0ZXIgWE9SaW5nLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQGV4YW1wbGVcblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqICAgICB2YXIgeG9yZWQgPSB4NjRXb3JkLnhvcihhbm90aGVyWDY0V29yZCk7XG5cdCAgICAgICAgICovXG5cdCAgICAgICAgLy8geG9yOiBmdW5jdGlvbiAod29yZCkge1xuXHQgICAgICAgICAgICAvLyB2YXIgaGlnaCA9IHRoaXMuaGlnaCBeIHdvcmQuaGlnaDtcblx0ICAgICAgICAgICAgLy8gdmFyIGxvdyA9IHRoaXMubG93IF4gd29yZC5sb3c7XG5cblx0ICAgICAgICAgICAgLy8gcmV0dXJuIFg2NFdvcmQuY3JlYXRlKGhpZ2gsIGxvdyk7XG5cdCAgICAgICAgLy8gfSxcblxuXHQgICAgICAgIC8qKlxuXHQgICAgICAgICAqIFNoaWZ0cyB0aGlzIHdvcmQgbiBiaXRzIHRvIHRoZSBsZWZ0LlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiBiaXRzIHRvIHNoaWZ0LlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHJldHVybiB7WDY0V29yZH0gQSBuZXcgeDY0LVdvcmQgb2JqZWN0IGFmdGVyIHNoaWZ0aW5nLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQGV4YW1wbGVcblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqICAgICB2YXIgc2hpZnRlZCA9IHg2NFdvcmQuc2hpZnRMKDI1KTtcblx0ICAgICAgICAgKi9cblx0ICAgICAgICAvLyBzaGlmdEw6IGZ1bmN0aW9uIChuKSB7XG5cdCAgICAgICAgICAgIC8vIGlmIChuIDwgMzIpIHtcblx0ICAgICAgICAgICAgICAgIC8vIHZhciBoaWdoID0gKHRoaXMuaGlnaCA8PCBuKSB8ICh0aGlzLmxvdyA+Pj4gKDMyIC0gbikpO1xuXHQgICAgICAgICAgICAgICAgLy8gdmFyIGxvdyA9IHRoaXMubG93IDw8IG47XG5cdCAgICAgICAgICAgIC8vIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAvLyB2YXIgaGlnaCA9IHRoaXMubG93IDw8IChuIC0gMzIpO1xuXHQgICAgICAgICAgICAgICAgLy8gdmFyIGxvdyA9IDA7XG5cdCAgICAgICAgICAgIC8vIH1cblxuXHQgICAgICAgICAgICAvLyByZXR1cm4gWDY0V29yZC5jcmVhdGUoaGlnaCwgbG93KTtcblx0ICAgICAgICAvLyB9LFxuXG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogU2hpZnRzIHRoaXMgd29yZCBuIGJpdHMgdG8gdGhlIHJpZ2h0LlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiBiaXRzIHRvIHNoaWZ0LlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHJldHVybiB7WDY0V29yZH0gQSBuZXcgeDY0LVdvcmQgb2JqZWN0IGFmdGVyIHNoaWZ0aW5nLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQGV4YW1wbGVcblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqICAgICB2YXIgc2hpZnRlZCA9IHg2NFdvcmQuc2hpZnRSKDcpO1xuXHQgICAgICAgICAqL1xuXHQgICAgICAgIC8vIHNoaWZ0UjogZnVuY3Rpb24gKG4pIHtcblx0ICAgICAgICAgICAgLy8gaWYgKG4gPCAzMikge1xuXHQgICAgICAgICAgICAgICAgLy8gdmFyIGxvdyA9ICh0aGlzLmxvdyA+Pj4gbikgfCAodGhpcy5oaWdoIDw8ICgzMiAtIG4pKTtcblx0ICAgICAgICAgICAgICAgIC8vIHZhciBoaWdoID0gdGhpcy5oaWdoID4+PiBuO1xuXHQgICAgICAgICAgICAvLyB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgLy8gdmFyIGxvdyA9IHRoaXMuaGlnaCA+Pj4gKG4gLSAzMik7XG5cdCAgICAgICAgICAgICAgICAvLyB2YXIgaGlnaCA9IDA7XG5cdCAgICAgICAgICAgIC8vIH1cblxuXHQgICAgICAgICAgICAvLyByZXR1cm4gWDY0V29yZC5jcmVhdGUoaGlnaCwgbG93KTtcblx0ICAgICAgICAvLyB9LFxuXG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogUm90YXRlcyB0aGlzIHdvcmQgbiBiaXRzIHRvIHRoZSBsZWZ0LlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiBiaXRzIHRvIHJvdGF0ZS5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEByZXR1cm4ge1g2NFdvcmR9IEEgbmV3IHg2NC1Xb3JkIG9iamVjdCBhZnRlciByb3RhdGluZy5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBleGFtcGxlXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiAgICAgdmFyIHJvdGF0ZWQgPSB4NjRXb3JkLnJvdEwoMjUpO1xuXHQgICAgICAgICAqL1xuXHQgICAgICAgIC8vIHJvdEw6IGZ1bmN0aW9uIChuKSB7XG5cdCAgICAgICAgICAgIC8vIHJldHVybiB0aGlzLnNoaWZ0TChuKS5vcih0aGlzLnNoaWZ0Uig2NCAtIG4pKTtcblx0ICAgICAgICAvLyB9LFxuXG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogUm90YXRlcyB0aGlzIHdvcmQgbiBiaXRzIHRvIHRoZSByaWdodC5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgYml0cyB0byByb3RhdGUuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcmV0dXJuIHtYNjRXb3JkfSBBIG5ldyB4NjQtV29yZCBvYmplY3QgYWZ0ZXIgcm90YXRpbmcuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAZXhhbXBsZVxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogICAgIHZhciByb3RhdGVkID0geDY0V29yZC5yb3RSKDcpO1xuXHQgICAgICAgICAqL1xuXHQgICAgICAgIC8vIHJvdFI6IGZ1bmN0aW9uIChuKSB7XG5cdCAgICAgICAgICAgIC8vIHJldHVybiB0aGlzLnNoaWZ0UihuKS5vcih0aGlzLnNoaWZ0TCg2NCAtIG4pKTtcblx0ICAgICAgICAvLyB9LFxuXG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogQWRkcyB0aGlzIHdvcmQgd2l0aCB0aGUgcGFzc2VkIHdvcmQuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcGFyYW0ge1g2NFdvcmR9IHdvcmQgVGhlIHg2NC1Xb3JkIHRvIGFkZCB3aXRoIHRoaXMgd29yZC5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEByZXR1cm4ge1g2NFdvcmR9IEEgbmV3IHg2NC1Xb3JkIG9iamVjdCBhZnRlciBhZGRpbmcuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAZXhhbXBsZVxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogICAgIHZhciBhZGRlZCA9IHg2NFdvcmQuYWRkKGFub3RoZXJYNjRXb3JkKTtcblx0ICAgICAgICAgKi9cblx0ICAgICAgICAvLyBhZGQ6IGZ1bmN0aW9uICh3b3JkKSB7XG5cdCAgICAgICAgICAgIC8vIHZhciBsb3cgPSAodGhpcy5sb3cgKyB3b3JkLmxvdykgfCAwO1xuXHQgICAgICAgICAgICAvLyB2YXIgY2FycnkgPSAobG93ID4+PiAwKSA8ICh0aGlzLmxvdyA+Pj4gMCkgPyAxIDogMDtcblx0ICAgICAgICAgICAgLy8gdmFyIGhpZ2ggPSAodGhpcy5oaWdoICsgd29yZC5oaWdoICsgY2FycnkpIHwgMDtcblxuXHQgICAgICAgICAgICAvLyByZXR1cm4gWDY0V29yZC5jcmVhdGUoaGlnaCwgbG93KTtcblx0ICAgICAgICAvLyB9XG5cdCAgICB9KTtcblxuXHQgICAgLyoqXG5cdCAgICAgKiBBbiBhcnJheSBvZiA2NC1iaXQgd29yZHMuXG5cdCAgICAgKlxuXHQgICAgICogQHByb3BlcnR5IHtBcnJheX0gd29yZHMgVGhlIGFycmF5IG9mIENyeXB0b0pTLng2NC5Xb3JkIG9iamVjdHMuXG5cdCAgICAgKiBAcHJvcGVydHkge251bWJlcn0gc2lnQnl0ZXMgVGhlIG51bWJlciBvZiBzaWduaWZpY2FudCBieXRlcyBpbiB0aGlzIHdvcmQgYXJyYXkuXG5cdCAgICAgKi9cblx0ICAgIHZhciBYNjRXb3JkQXJyYXkgPSBDX3g2NC5Xb3JkQXJyYXkgPSBCYXNlLmV4dGVuZCh7XG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogSW5pdGlhbGl6ZXMgYSBuZXdseSBjcmVhdGVkIHdvcmQgYXJyYXkuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcGFyYW0ge0FycmF5fSB3b3JkcyAoT3B0aW9uYWwpIEFuIGFycmF5IG9mIENyeXB0b0pTLng2NC5Xb3JkIG9iamVjdHMuXG5cdCAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IHNpZ0J5dGVzIChPcHRpb25hbCkgVGhlIG51bWJlciBvZiBzaWduaWZpY2FudCBieXRlcyBpbiB0aGUgd29yZHMuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAZXhhbXBsZVxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogICAgIHZhciB3b3JkQXJyYXkgPSBDcnlwdG9KUy54NjQuV29yZEFycmF5LmNyZWF0ZSgpO1xuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogICAgIHZhciB3b3JkQXJyYXkgPSBDcnlwdG9KUy54NjQuV29yZEFycmF5LmNyZWF0ZShbXG5cdCAgICAgICAgICogICAgICAgICBDcnlwdG9KUy54NjQuV29yZC5jcmVhdGUoMHgwMDAxMDIwMywgMHgwNDA1MDYwNyksXG5cdCAgICAgICAgICogICAgICAgICBDcnlwdG9KUy54NjQuV29yZC5jcmVhdGUoMHgxODE5MWExYiwgMHgxYzFkMWUxZilcblx0ICAgICAgICAgKiAgICAgXSk7XG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiAgICAgdmFyIHdvcmRBcnJheSA9IENyeXB0b0pTLng2NC5Xb3JkQXJyYXkuY3JlYXRlKFtcblx0ICAgICAgICAgKiAgICAgICAgIENyeXB0b0pTLng2NC5Xb3JkLmNyZWF0ZSgweDAwMDEwMjAzLCAweDA0MDUwNjA3KSxcblx0ICAgICAgICAgKiAgICAgICAgIENyeXB0b0pTLng2NC5Xb3JkLmNyZWF0ZSgweDE4MTkxYTFiLCAweDFjMWQxZTFmKVxuXHQgICAgICAgICAqICAgICBdLCAxMCk7XG5cdCAgICAgICAgICovXG5cdCAgICAgICAgaW5pdDogZnVuY3Rpb24gKHdvcmRzLCBzaWdCeXRlcykge1xuXHQgICAgICAgICAgICB3b3JkcyA9IHRoaXMud29yZHMgPSB3b3JkcyB8fCBbXTtcblxuXHQgICAgICAgICAgICBpZiAoc2lnQnl0ZXMgIT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgICAgICAgICB0aGlzLnNpZ0J5dGVzID0gc2lnQnl0ZXM7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICB0aGlzLnNpZ0J5dGVzID0gd29yZHMubGVuZ3RoICogODtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0sXG5cblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBDb252ZXJ0cyB0aGlzIDY0LWJpdCB3b3JkIGFycmF5IHRvIGEgMzItYml0IHdvcmQgYXJyYXkuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcmV0dXJuIHtDcnlwdG9KUy5saWIuV29yZEFycmF5fSBUaGlzIHdvcmQgYXJyYXkncyBkYXRhIGFzIGEgMzItYml0IHdvcmQgYXJyYXkuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAZXhhbXBsZVxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogICAgIHZhciB4MzJXb3JkQXJyYXkgPSB4NjRXb3JkQXJyYXkudG9YMzIoKTtcblx0ICAgICAgICAgKi9cblx0ICAgICAgICB0b1gzMjogZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAvLyBTaG9ydGN1dHNcblx0ICAgICAgICAgICAgdmFyIHg2NFdvcmRzID0gdGhpcy53b3Jkcztcblx0ICAgICAgICAgICAgdmFyIHg2NFdvcmRzTGVuZ3RoID0geDY0V29yZHMubGVuZ3RoO1xuXG5cdCAgICAgICAgICAgIC8vIENvbnZlcnRcblx0ICAgICAgICAgICAgdmFyIHgzMldvcmRzID0gW107XG5cdCAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgeDY0V29yZHNMZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICAgICAgdmFyIHg2NFdvcmQgPSB4NjRXb3Jkc1tpXTtcblx0ICAgICAgICAgICAgICAgIHgzMldvcmRzLnB1c2goeDY0V29yZC5oaWdoKTtcblx0ICAgICAgICAgICAgICAgIHgzMldvcmRzLnB1c2goeDY0V29yZC5sb3cpO1xuXHQgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgcmV0dXJuIFgzMldvcmRBcnJheS5jcmVhdGUoeDMyV29yZHMsIHRoaXMuc2lnQnl0ZXMpO1xuXHQgICAgICAgIH0sXG5cblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBDcmVhdGVzIGEgY29weSBvZiB0aGlzIHdvcmQgYXJyYXkuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcmV0dXJuIHtYNjRXb3JkQXJyYXl9IFRoZSBjbG9uZS5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBleGFtcGxlXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiAgICAgdmFyIGNsb25lID0geDY0V29yZEFycmF5LmNsb25lKCk7XG5cdCAgICAgICAgICovXG5cdCAgICAgICAgY2xvbmU6IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgdmFyIGNsb25lID0gQmFzZS5jbG9uZS5jYWxsKHRoaXMpO1xuXG5cdCAgICAgICAgICAgIC8vIENsb25lIFwid29yZHNcIiBhcnJheVxuXHQgICAgICAgICAgICB2YXIgd29yZHMgPSBjbG9uZS53b3JkcyA9IHRoaXMud29yZHMuc2xpY2UoMCk7XG5cblx0ICAgICAgICAgICAgLy8gQ2xvbmUgZWFjaCBYNjRXb3JkIG9iamVjdFxuXHQgICAgICAgICAgICB2YXIgd29yZHNMZW5ndGggPSB3b3Jkcy5sZW5ndGg7XG5cdCAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgd29yZHNMZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICAgICAgd29yZHNbaV0gPSB3b3Jkc1tpXS5jbG9uZSgpO1xuXHQgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgcmV0dXJuIGNsb25lO1xuXHQgICAgICAgIH1cblx0ICAgIH0pO1xuXHR9KCkpO1xuXG5cblx0cmV0dXJuIENyeXB0b0pTO1xuXG59KSk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9jcnlwdG8tanMveDY0LWNvcmUuanMiLCI7KGZ1bmN0aW9uIChyb290LCBmYWN0b3J5KSB7XG5cdGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gXCJvYmplY3RcIikge1xuXHRcdC8vIENvbW1vbkpTXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKFwiLi9jb3JlXCIpKTtcblx0fVxuXHRlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCkge1xuXHRcdC8vIEFNRFxuXHRcdGRlZmluZShbXCIuL2NvcmVcIl0sIGZhY3RvcnkpO1xuXHR9XG5cdGVsc2Uge1xuXHRcdC8vIEdsb2JhbCAoYnJvd3Nlcilcblx0XHRmYWN0b3J5KHJvb3QuQ3J5cHRvSlMpO1xuXHR9XG59KHRoaXMsIGZ1bmN0aW9uIChDcnlwdG9KUykge1xuXG5cdChmdW5jdGlvbiAoKSB7XG5cdCAgICAvLyBTaG9ydGN1dHNcblx0ICAgIHZhciBDID0gQ3J5cHRvSlM7XG5cdCAgICB2YXIgQ19saWIgPSBDLmxpYjtcblx0ICAgIHZhciBCYXNlID0gQ19saWIuQmFzZTtcblx0ICAgIHZhciBDX2VuYyA9IEMuZW5jO1xuXHQgICAgdmFyIFV0ZjggPSBDX2VuYy5VdGY4O1xuXHQgICAgdmFyIENfYWxnbyA9IEMuYWxnbztcblxuXHQgICAgLyoqXG5cdCAgICAgKiBITUFDIGFsZ29yaXRobS5cblx0ICAgICAqL1xuXHQgICAgdmFyIEhNQUMgPSBDX2FsZ28uSE1BQyA9IEJhc2UuZXh0ZW5kKHtcblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBJbml0aWFsaXplcyBhIG5ld2x5IGNyZWF0ZWQgSE1BQy5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBwYXJhbSB7SGFzaGVyfSBoYXNoZXIgVGhlIGhhc2ggYWxnb3JpdGhtIHRvIHVzZS5cblx0ICAgICAgICAgKiBAcGFyYW0ge1dvcmRBcnJheXxzdHJpbmd9IGtleSBUaGUgc2VjcmV0IGtleS5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBleGFtcGxlXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiAgICAgdmFyIGhtYWNIYXNoZXIgPSBDcnlwdG9KUy5hbGdvLkhNQUMuY3JlYXRlKENyeXB0b0pTLmFsZ28uU0hBMjU2LCBrZXkpO1xuXHQgICAgICAgICAqL1xuXHQgICAgICAgIGluaXQ6IGZ1bmN0aW9uIChoYXNoZXIsIGtleSkge1xuXHQgICAgICAgICAgICAvLyBJbml0IGhhc2hlclxuXHQgICAgICAgICAgICBoYXNoZXIgPSB0aGlzLl9oYXNoZXIgPSBuZXcgaGFzaGVyLmluaXQoKTtcblxuXHQgICAgICAgICAgICAvLyBDb252ZXJ0IHN0cmluZyB0byBXb3JkQXJyYXksIGVsc2UgYXNzdW1lIFdvcmRBcnJheSBhbHJlYWR5XG5cdCAgICAgICAgICAgIGlmICh0eXBlb2Yga2V5ID09ICdzdHJpbmcnKSB7XG5cdCAgICAgICAgICAgICAgICBrZXkgPSBVdGY4LnBhcnNlKGtleSk7XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAvLyBTaG9ydGN1dHNcblx0ICAgICAgICAgICAgdmFyIGhhc2hlckJsb2NrU2l6ZSA9IGhhc2hlci5ibG9ja1NpemU7XG5cdCAgICAgICAgICAgIHZhciBoYXNoZXJCbG9ja1NpemVCeXRlcyA9IGhhc2hlckJsb2NrU2l6ZSAqIDQ7XG5cblx0ICAgICAgICAgICAgLy8gQWxsb3cgYXJiaXRyYXJ5IGxlbmd0aCBrZXlzXG5cdCAgICAgICAgICAgIGlmIChrZXkuc2lnQnl0ZXMgPiBoYXNoZXJCbG9ja1NpemVCeXRlcykge1xuXHQgICAgICAgICAgICAgICAga2V5ID0gaGFzaGVyLmZpbmFsaXplKGtleSk7XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAvLyBDbGFtcCBleGNlc3MgYml0c1xuXHQgICAgICAgICAgICBrZXkuY2xhbXAoKTtcblxuXHQgICAgICAgICAgICAvLyBDbG9uZSBrZXkgZm9yIGlubmVyIGFuZCBvdXRlciBwYWRzXG5cdCAgICAgICAgICAgIHZhciBvS2V5ID0gdGhpcy5fb0tleSA9IGtleS5jbG9uZSgpO1xuXHQgICAgICAgICAgICB2YXIgaUtleSA9IHRoaXMuX2lLZXkgPSBrZXkuY2xvbmUoKTtcblxuXHQgICAgICAgICAgICAvLyBTaG9ydGN1dHNcblx0ICAgICAgICAgICAgdmFyIG9LZXlXb3JkcyA9IG9LZXkud29yZHM7XG5cdCAgICAgICAgICAgIHZhciBpS2V5V29yZHMgPSBpS2V5LndvcmRzO1xuXG5cdCAgICAgICAgICAgIC8vIFhPUiBrZXlzIHdpdGggcGFkIGNvbnN0YW50c1xuXHQgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGhhc2hlckJsb2NrU2l6ZTsgaSsrKSB7XG5cdCAgICAgICAgICAgICAgICBvS2V5V29yZHNbaV0gXj0gMHg1YzVjNWM1Yztcblx0ICAgICAgICAgICAgICAgIGlLZXlXb3Jkc1tpXSBePSAweDM2MzYzNjM2O1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIG9LZXkuc2lnQnl0ZXMgPSBpS2V5LnNpZ0J5dGVzID0gaGFzaGVyQmxvY2tTaXplQnl0ZXM7XG5cblx0ICAgICAgICAgICAgLy8gU2V0IGluaXRpYWwgdmFsdWVzXG5cdCAgICAgICAgICAgIHRoaXMucmVzZXQoKTtcblx0ICAgICAgICB9LFxuXG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogUmVzZXRzIHRoaXMgSE1BQyB0byBpdHMgaW5pdGlhbCBzdGF0ZS5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBleGFtcGxlXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiAgICAgaG1hY0hhc2hlci5yZXNldCgpO1xuXHQgICAgICAgICAqL1xuXHQgICAgICAgIHJlc2V0OiBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIC8vIFNob3J0Y3V0XG5cdCAgICAgICAgICAgIHZhciBoYXNoZXIgPSB0aGlzLl9oYXNoZXI7XG5cblx0ICAgICAgICAgICAgLy8gUmVzZXRcblx0ICAgICAgICAgICAgaGFzaGVyLnJlc2V0KCk7XG5cdCAgICAgICAgICAgIGhhc2hlci51cGRhdGUodGhpcy5faUtleSk7XG5cdCAgICAgICAgfSxcblxuXHQgICAgICAgIC8qKlxuXHQgICAgICAgICAqIFVwZGF0ZXMgdGhpcyBITUFDIHdpdGggYSBtZXNzYWdlLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHBhcmFtIHtXb3JkQXJyYXl8c3RyaW5nfSBtZXNzYWdlVXBkYXRlIFRoZSBtZXNzYWdlIHRvIGFwcGVuZC5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEByZXR1cm4ge0hNQUN9IFRoaXMgSE1BQyBpbnN0YW5jZS5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBleGFtcGxlXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiAgICAgaG1hY0hhc2hlci51cGRhdGUoJ21lc3NhZ2UnKTtcblx0ICAgICAgICAgKiAgICAgaG1hY0hhc2hlci51cGRhdGUod29yZEFycmF5KTtcblx0ICAgICAgICAgKi9cblx0ICAgICAgICB1cGRhdGU6IGZ1bmN0aW9uIChtZXNzYWdlVXBkYXRlKSB7XG5cdCAgICAgICAgICAgIHRoaXMuX2hhc2hlci51cGRhdGUobWVzc2FnZVVwZGF0ZSk7XG5cblx0ICAgICAgICAgICAgLy8gQ2hhaW5hYmxlXG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgICAgIH0sXG5cblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBGaW5hbGl6ZXMgdGhlIEhNQUMgY29tcHV0YXRpb24uXG5cdCAgICAgICAgICogTm90ZSB0aGF0IHRoZSBmaW5hbGl6ZSBvcGVyYXRpb24gaXMgZWZmZWN0aXZlbHkgYSBkZXN0cnVjdGl2ZSwgcmVhZC1vbmNlIG9wZXJhdGlvbi5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBwYXJhbSB7V29yZEFycmF5fHN0cmluZ30gbWVzc2FnZVVwZGF0ZSAoT3B0aW9uYWwpIEEgZmluYWwgbWVzc2FnZSB1cGRhdGUuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcmV0dXJuIHtXb3JkQXJyYXl9IFRoZSBITUFDLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQGV4YW1wbGVcblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqICAgICB2YXIgaG1hYyA9IGhtYWNIYXNoZXIuZmluYWxpemUoKTtcblx0ICAgICAgICAgKiAgICAgdmFyIGhtYWMgPSBobWFjSGFzaGVyLmZpbmFsaXplKCdtZXNzYWdlJyk7XG5cdCAgICAgICAgICogICAgIHZhciBobWFjID0gaG1hY0hhc2hlci5maW5hbGl6ZSh3b3JkQXJyYXkpO1xuXHQgICAgICAgICAqL1xuXHQgICAgICAgIGZpbmFsaXplOiBmdW5jdGlvbiAobWVzc2FnZVVwZGF0ZSkge1xuXHQgICAgICAgICAgICAvLyBTaG9ydGN1dFxuXHQgICAgICAgICAgICB2YXIgaGFzaGVyID0gdGhpcy5faGFzaGVyO1xuXG5cdCAgICAgICAgICAgIC8vIENvbXB1dGUgSE1BQ1xuXHQgICAgICAgICAgICB2YXIgaW5uZXJIYXNoID0gaGFzaGVyLmZpbmFsaXplKG1lc3NhZ2VVcGRhdGUpO1xuXHQgICAgICAgICAgICBoYXNoZXIucmVzZXQoKTtcblx0ICAgICAgICAgICAgdmFyIGhtYWMgPSBoYXNoZXIuZmluYWxpemUodGhpcy5fb0tleS5jbG9uZSgpLmNvbmNhdChpbm5lckhhc2gpKTtcblxuXHQgICAgICAgICAgICByZXR1cm4gaG1hYztcblx0ICAgICAgICB9XG5cdCAgICB9KTtcblx0fSgpKTtcblxuXG59KSk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9jcnlwdG8tanMvaG1hYy5qcyIsIjsoZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYgKHR5cGVvZiBleHBvcnRzID09PSBcIm9iamVjdFwiKSB7XG5cdFx0Ly8gQ29tbW9uSlNcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoXCIuL2NvcmVcIikpO1xuXHR9XG5cdGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kKSB7XG5cdFx0Ly8gQU1EXG5cdFx0ZGVmaW5lKFtcIi4vY29yZVwiXSwgZmFjdG9yeSk7XG5cdH1cblx0ZWxzZSB7XG5cdFx0Ly8gR2xvYmFsIChicm93c2VyKVxuXHRcdGZhY3Rvcnkocm9vdC5DcnlwdG9KUyk7XG5cdH1cbn0odGhpcywgZnVuY3Rpb24gKENyeXB0b0pTKSB7XG5cblx0KGZ1bmN0aW9uICgpIHtcblx0ICAgIC8vIFNob3J0Y3V0c1xuXHQgICAgdmFyIEMgPSBDcnlwdG9KUztcblx0ICAgIHZhciBDX2xpYiA9IEMubGliO1xuXHQgICAgdmFyIFdvcmRBcnJheSA9IENfbGliLldvcmRBcnJheTtcblx0ICAgIHZhciBIYXNoZXIgPSBDX2xpYi5IYXNoZXI7XG5cdCAgICB2YXIgQ19hbGdvID0gQy5hbGdvO1xuXG5cdCAgICAvLyBSZXVzYWJsZSBvYmplY3Rcblx0ICAgIHZhciBXID0gW107XG5cblx0ICAgIC8qKlxuXHQgICAgICogU0hBLTEgaGFzaCBhbGdvcml0aG0uXG5cdCAgICAgKi9cblx0ICAgIHZhciBTSEExID0gQ19hbGdvLlNIQTEgPSBIYXNoZXIuZXh0ZW5kKHtcblx0ICAgICAgICBfZG9SZXNldDogZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICB0aGlzLl9oYXNoID0gbmV3IFdvcmRBcnJheS5pbml0KFtcblx0ICAgICAgICAgICAgICAgIDB4Njc0NTIzMDEsIDB4ZWZjZGFiODksXG5cdCAgICAgICAgICAgICAgICAweDk4YmFkY2ZlLCAweDEwMzI1NDc2LFxuXHQgICAgICAgICAgICAgICAgMHhjM2QyZTFmMFxuXHQgICAgICAgICAgICBdKTtcblx0ICAgICAgICB9LFxuXG5cdCAgICAgICAgX2RvUHJvY2Vzc0Jsb2NrOiBmdW5jdGlvbiAoTSwgb2Zmc2V0KSB7XG5cdCAgICAgICAgICAgIC8vIFNob3J0Y3V0XG5cdCAgICAgICAgICAgIHZhciBIID0gdGhpcy5faGFzaC53b3JkcztcblxuXHQgICAgICAgICAgICAvLyBXb3JraW5nIHZhcmlhYmxlc1xuXHQgICAgICAgICAgICB2YXIgYSA9IEhbMF07XG5cdCAgICAgICAgICAgIHZhciBiID0gSFsxXTtcblx0ICAgICAgICAgICAgdmFyIGMgPSBIWzJdO1xuXHQgICAgICAgICAgICB2YXIgZCA9IEhbM107XG5cdCAgICAgICAgICAgIHZhciBlID0gSFs0XTtcblxuXHQgICAgICAgICAgICAvLyBDb21wdXRhdGlvblxuXHQgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDgwOyBpKyspIHtcblx0ICAgICAgICAgICAgICAgIGlmIChpIDwgMTYpIHtcblx0ICAgICAgICAgICAgICAgICAgICBXW2ldID0gTVtvZmZzZXQgKyBpXSB8IDA7XG5cdCAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciBuID0gV1tpIC0gM10gXiBXW2kgLSA4XSBeIFdbaSAtIDE0XSBeIFdbaSAtIDE2XTtcblx0ICAgICAgICAgICAgICAgICAgICBXW2ldID0gKG4gPDwgMSkgfCAobiA+Pj4gMzEpO1xuXHQgICAgICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgICAgICB2YXIgdCA9ICgoYSA8PCA1KSB8IChhID4+PiAyNykpICsgZSArIFdbaV07XG5cdCAgICAgICAgICAgICAgICBpZiAoaSA8IDIwKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgdCArPSAoKGIgJiBjKSB8ICh+YiAmIGQpKSArIDB4NWE4Mjc5OTk7XG5cdCAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGkgPCA0MCkge1xuXHQgICAgICAgICAgICAgICAgICAgIHQgKz0gKGIgXiBjIF4gZCkgKyAweDZlZDllYmExO1xuXHQgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpIDwgNjApIHtcblx0ICAgICAgICAgICAgICAgICAgICB0ICs9ICgoYiAmIGMpIHwgKGIgJiBkKSB8IChjICYgZCkpIC0gMHg3MGU0NDMyNDtcblx0ICAgICAgICAgICAgICAgIH0gZWxzZSAvKiBpZiAoaSA8IDgwKSAqLyB7XG5cdCAgICAgICAgICAgICAgICAgICAgdCArPSAoYiBeIGMgXiBkKSAtIDB4MzU5ZDNlMmE7XG5cdCAgICAgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgICAgIGUgPSBkO1xuXHQgICAgICAgICAgICAgICAgZCA9IGM7XG5cdCAgICAgICAgICAgICAgICBjID0gKGIgPDwgMzApIHwgKGIgPj4+IDIpO1xuXHQgICAgICAgICAgICAgICAgYiA9IGE7XG5cdCAgICAgICAgICAgICAgICBhID0gdDtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIC8vIEludGVybWVkaWF0ZSBoYXNoIHZhbHVlXG5cdCAgICAgICAgICAgIEhbMF0gPSAoSFswXSArIGEpIHwgMDtcblx0ICAgICAgICAgICAgSFsxXSA9IChIWzFdICsgYikgfCAwO1xuXHQgICAgICAgICAgICBIWzJdID0gKEhbMl0gKyBjKSB8IDA7XG5cdCAgICAgICAgICAgIEhbM10gPSAoSFszXSArIGQpIHwgMDtcblx0ICAgICAgICAgICAgSFs0XSA9IChIWzRdICsgZSkgfCAwO1xuXHQgICAgICAgIH0sXG5cblx0ICAgICAgICBfZG9GaW5hbGl6ZTogZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAvLyBTaG9ydGN1dHNcblx0ICAgICAgICAgICAgdmFyIGRhdGEgPSB0aGlzLl9kYXRhO1xuXHQgICAgICAgICAgICB2YXIgZGF0YVdvcmRzID0gZGF0YS53b3JkcztcblxuXHQgICAgICAgICAgICB2YXIgbkJpdHNUb3RhbCA9IHRoaXMuX25EYXRhQnl0ZXMgKiA4O1xuXHQgICAgICAgICAgICB2YXIgbkJpdHNMZWZ0ID0gZGF0YS5zaWdCeXRlcyAqIDg7XG5cblx0ICAgICAgICAgICAgLy8gQWRkIHBhZGRpbmdcblx0ICAgICAgICAgICAgZGF0YVdvcmRzW25CaXRzTGVmdCA+Pj4gNV0gfD0gMHg4MCA8PCAoMjQgLSBuQml0c0xlZnQgJSAzMik7XG5cdCAgICAgICAgICAgIGRhdGFXb3Jkc1soKChuQml0c0xlZnQgKyA2NCkgPj4+IDkpIDw8IDQpICsgMTRdID0gTWF0aC5mbG9vcihuQml0c1RvdGFsIC8gMHgxMDAwMDAwMDApO1xuXHQgICAgICAgICAgICBkYXRhV29yZHNbKCgobkJpdHNMZWZ0ICsgNjQpID4+PiA5KSA8PCA0KSArIDE1XSA9IG5CaXRzVG90YWw7XG5cdCAgICAgICAgICAgIGRhdGEuc2lnQnl0ZXMgPSBkYXRhV29yZHMubGVuZ3RoICogNDtcblxuXHQgICAgICAgICAgICAvLyBIYXNoIGZpbmFsIGJsb2Nrc1xuXHQgICAgICAgICAgICB0aGlzLl9wcm9jZXNzKCk7XG5cblx0ICAgICAgICAgICAgLy8gUmV0dXJuIGZpbmFsIGNvbXB1dGVkIGhhc2hcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2hhc2g7XG5cdCAgICAgICAgfSxcblxuXHQgICAgICAgIGNsb25lOiBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIHZhciBjbG9uZSA9IEhhc2hlci5jbG9uZS5jYWxsKHRoaXMpO1xuXHQgICAgICAgICAgICBjbG9uZS5faGFzaCA9IHRoaXMuX2hhc2guY2xvbmUoKTtcblxuXHQgICAgICAgICAgICByZXR1cm4gY2xvbmU7XG5cdCAgICAgICAgfVxuXHQgICAgfSk7XG5cblx0ICAgIC8qKlxuXHQgICAgICogU2hvcnRjdXQgZnVuY3Rpb24gdG8gdGhlIGhhc2hlcidzIG9iamVjdCBpbnRlcmZhY2UuXG5cdCAgICAgKlxuXHQgICAgICogQHBhcmFtIHtXb3JkQXJyYXl8c3RyaW5nfSBtZXNzYWdlIFRoZSBtZXNzYWdlIHRvIGhhc2guXG5cdCAgICAgKlxuXHQgICAgICogQHJldHVybiB7V29yZEFycmF5fSBUaGUgaGFzaC5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiAgICAgdmFyIGhhc2ggPSBDcnlwdG9KUy5TSEExKCdtZXNzYWdlJyk7XG5cdCAgICAgKiAgICAgdmFyIGhhc2ggPSBDcnlwdG9KUy5TSEExKHdvcmRBcnJheSk7XG5cdCAgICAgKi9cblx0ICAgIEMuU0hBMSA9IEhhc2hlci5fY3JlYXRlSGVscGVyKFNIQTEpO1xuXG5cdCAgICAvKipcblx0ICAgICAqIFNob3J0Y3V0IGZ1bmN0aW9uIHRvIHRoZSBITUFDJ3Mgb2JqZWN0IGludGVyZmFjZS5cblx0ICAgICAqXG5cdCAgICAgKiBAcGFyYW0ge1dvcmRBcnJheXxzdHJpbmd9IG1lc3NhZ2UgVGhlIG1lc3NhZ2UgdG8gaGFzaC5cblx0ICAgICAqIEBwYXJhbSB7V29yZEFycmF5fHN0cmluZ30ga2V5IFRoZSBzZWNyZXQga2V5LlxuXHQgICAgICpcblx0ICAgICAqIEByZXR1cm4ge1dvcmRBcnJheX0gVGhlIEhNQUMuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICpcblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogICAgIHZhciBobWFjID0gQ3J5cHRvSlMuSG1hY1NIQTEobWVzc2FnZSwga2V5KTtcblx0ICAgICAqL1xuXHQgICAgQy5IbWFjU0hBMSA9IEhhc2hlci5fY3JlYXRlSG1hY0hlbHBlcihTSEExKTtcblx0fSgpKTtcblxuXG5cdHJldHVybiBDcnlwdG9KUy5TSEExO1xuXG59KSk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9jcnlwdG8tanMvc2hhMS5qcyIsIi8qXG4gICAgVGhpcyBmaWxlIGlzIHBhcnQgb2Ygd2ViMy5qcy5cblxuICAgIHdlYjMuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICAgIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICAgIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gICAgKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cblxuICAgIHdlYjMuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICAgIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAgICBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cblxuICAgIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICAgIGFsb25nIHdpdGggd2ViMy5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiovXG4vKipcbiAqIEBmaWxlIG1ldGhvZC5qc1xuICogQGF1dGhvciBNYXJlayBLb3Rld2ljeiA8bWFyZWtAZXRoZGV2LmNvbT5cbiAqIEBkYXRlIDIwMTVcbiAqL1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscy91dGlscycpO1xudmFyIGVycm9ycyA9IHJlcXVpcmUoJy4vZXJyb3JzJyk7XG5cbnZhciBNZXRob2QgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHRoaXMubmFtZSA9IG9wdGlvbnMubmFtZTtcbiAgICB0aGlzLmNhbGwgPSBvcHRpb25zLmNhbGw7XG4gICAgdGhpcy5wYXJhbXMgPSBvcHRpb25zLnBhcmFtcyB8fCAwO1xuICAgIHRoaXMuaW5wdXRGb3JtYXR0ZXIgPSBvcHRpb25zLmlucHV0Rm9ybWF0dGVyO1xuICAgIHRoaXMub3V0cHV0Rm9ybWF0dGVyID0gb3B0aW9ucy5vdXRwdXRGb3JtYXR0ZXI7XG4gICAgdGhpcy5yZXF1ZXN0TWFuYWdlciA9IG51bGw7XG59O1xuXG5NZXRob2QucHJvdG90eXBlLnNldFJlcXVlc3RNYW5hZ2VyID0gZnVuY3Rpb24gKHJtKSB7XG4gICAgdGhpcy5yZXF1ZXN0TWFuYWdlciA9IHJtO1xufTtcblxuLyoqXG4gKiBTaG91bGQgYmUgdXNlZCB0byBkZXRlcm1pbmUgbmFtZSBvZiB0aGUganNvbnJwYyBtZXRob2QgYmFzZWQgb24gYXJndW1lbnRzXG4gKlxuICogQG1ldGhvZCBnZXRDYWxsXG4gKiBAcGFyYW0ge0FycmF5fSBhcmd1bWVudHNcbiAqIEByZXR1cm4ge1N0cmluZ30gbmFtZSBvZiBqc29ucnBjIG1ldGhvZFxuICovXG5NZXRob2QucHJvdG90eXBlLmdldENhbGwgPSBmdW5jdGlvbiAoYXJncykge1xuICAgIHJldHVybiB1dGlscy5pc0Z1bmN0aW9uKHRoaXMuY2FsbCkgPyB0aGlzLmNhbGwoYXJncykgOiB0aGlzLmNhbGw7XG59O1xuXG4vKipcbiAqIFNob3VsZCBiZSB1c2VkIHRvIGV4dHJhY3QgY2FsbGJhY2sgZnJvbSBhcnJheSBvZiBhcmd1bWVudHMuIE1vZGlmaWVzIGlucHV0IHBhcmFtXG4gKlxuICogQG1ldGhvZCBleHRyYWN0Q2FsbGJhY2tcbiAqIEBwYXJhbSB7QXJyYXl9IGFyZ3VtZW50c1xuICogQHJldHVybiB7RnVuY3Rpb258TnVsbH0gY2FsbGJhY2ssIGlmIGV4aXN0c1xuICovXG5NZXRob2QucHJvdG90eXBlLmV4dHJhY3RDYWxsYmFjayA9IGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgaWYgKHV0aWxzLmlzRnVuY3Rpb24oYXJnc1thcmdzLmxlbmd0aCAtIDFdKSkge1xuICAgICAgICByZXR1cm4gYXJncy5wb3AoKTsgLy8gbW9kaWZ5IHRoZSBhcmdzIGFycmF5IVxuICAgIH1cbn07XG5cbi8qKlxuICogU2hvdWxkIGJlIGNhbGxlZCB0byBjaGVjayBpZiB0aGUgbnVtYmVyIG9mIGFyZ3VtZW50cyBpcyBjb3JyZWN0XG4gKiBcbiAqIEBtZXRob2QgdmFsaWRhdGVBcmdzXG4gKiBAcGFyYW0ge0FycmF5fSBhcmd1bWVudHNcbiAqIEB0aHJvd3Mge0Vycm9yfSBpZiBpdCBpcyBub3RcbiAqL1xuTWV0aG9kLnByb3RvdHlwZS52YWxpZGF0ZUFyZ3MgPSBmdW5jdGlvbiAoYXJncykge1xuICAgIGlmIChhcmdzLmxlbmd0aCAhPT0gdGhpcy5wYXJhbXMpIHtcbiAgICAgICAgdGhyb3cgZXJyb3JzLkludmFsaWROdW1iZXJPZlBhcmFtcygpO1xuICAgIH1cbn07XG5cbi8qKlxuICogU2hvdWxkIGJlIGNhbGxlZCB0byBmb3JtYXQgaW5wdXQgYXJncyBvZiBtZXRob2RcbiAqIFxuICogQG1ldGhvZCBmb3JtYXRJbnB1dFxuICogQHBhcmFtIHtBcnJheX1cbiAqIEByZXR1cm4ge0FycmF5fVxuICovXG5NZXRob2QucHJvdG90eXBlLmZvcm1hdElucHV0ID0gZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICBpZiAoIXRoaXMuaW5wdXRGb3JtYXR0ZXIpIHtcbiAgICAgICAgcmV0dXJuIGFyZ3M7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuaW5wdXRGb3JtYXR0ZXIubWFwKGZ1bmN0aW9uIChmb3JtYXR0ZXIsIGluZGV4KSB7XG4gICAgICAgIHJldHVybiBmb3JtYXR0ZXIgPyBmb3JtYXR0ZXIoYXJnc1tpbmRleF0pIDogYXJnc1tpbmRleF07XG4gICAgfSk7XG59O1xuXG4vKipcbiAqIFNob3VsZCBiZSBjYWxsZWQgdG8gZm9ybWF0IG91dHB1dChyZXN1bHQpIG9mIG1ldGhvZFxuICpcbiAqIEBtZXRob2QgZm9ybWF0T3V0cHV0XG4gKiBAcGFyYW0ge09iamVjdH1cbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuTWV0aG9kLnByb3RvdHlwZS5mb3JtYXRPdXRwdXQgPSBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgcmV0dXJuIHRoaXMub3V0cHV0Rm9ybWF0dGVyICYmIHJlc3VsdCA/IHRoaXMub3V0cHV0Rm9ybWF0dGVyKHJlc3VsdCkgOiByZXN1bHQ7XG59O1xuXG4vKipcbiAqIFNob3VsZCBjcmVhdGUgcGF5bG9hZCBmcm9tIGdpdmVuIGlucHV0IGFyZ3NcbiAqXG4gKiBAbWV0aG9kIHRvUGF5bG9hZFxuICogQHBhcmFtIHtBcnJheX0gYXJnc1xuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5NZXRob2QucHJvdG90eXBlLnRvUGF5bG9hZCA9IGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgdmFyIGNhbGwgPSB0aGlzLmdldENhbGwoYXJncyk7XG4gICAgdmFyIGNhbGxiYWNrID0gdGhpcy5leHRyYWN0Q2FsbGJhY2soYXJncyk7XG4gICAgdmFyIHBhcmFtcyA9IHRoaXMuZm9ybWF0SW5wdXQoYXJncyk7XG4gICAgdGhpcy52YWxpZGF0ZUFyZ3MocGFyYW1zKTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIG1ldGhvZDogY2FsbCxcbiAgICAgICAgcGFyYW1zOiBwYXJhbXMsXG4gICAgICAgIGNhbGxiYWNrOiBjYWxsYmFja1xuICAgIH07XG59O1xuXG5NZXRob2QucHJvdG90eXBlLmF0dGFjaFRvT2JqZWN0ID0gZnVuY3Rpb24gKG9iaikge1xuICAgIHZhciBmdW5jID0gdGhpcy5idWlsZENhbGwoKTtcbiAgICBmdW5jLmNhbGwgPSB0aGlzLmNhbGw7IC8vIFRPRE8hISEgdGhhdCdzIHVnbHkuIGZpbHRlci5qcyB1c2VzIGl0XG4gICAgdmFyIG5hbWUgPSB0aGlzLm5hbWUuc3BsaXQoJy4nKTtcbiAgICBpZiAobmFtZS5sZW5ndGggPiAxKSB7XG4gICAgICAgIG9ialtuYW1lWzBdXSA9IG9ialtuYW1lWzBdXSB8fCB7fTtcbiAgICAgICAgb2JqW25hbWVbMF1dW25hbWVbMV1dID0gZnVuYztcbiAgICB9IGVsc2Uge1xuICAgICAgICBvYmpbbmFtZVswXV0gPSBmdW5jOyBcbiAgICB9XG59O1xuXG5NZXRob2QucHJvdG90eXBlLmJ1aWxkQ2FsbCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBtZXRob2QgPSB0aGlzO1xuICAgIHZhciBzZW5kID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcGF5bG9hZCA9IG1ldGhvZC50b1BheWxvYWQoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSk7XG4gICAgICAgIGlmIChwYXlsb2FkLmNhbGxiYWNrKSB7XG4gICAgICAgICAgICByZXR1cm4gbWV0aG9kLnJlcXVlc3RNYW5hZ2VyLnNlbmRBc3luYyhwYXlsb2FkLCBmdW5jdGlvbiAoZXJyLCByZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBwYXlsb2FkLmNhbGxiYWNrKGVyciwgbWV0aG9kLmZvcm1hdE91dHB1dChyZXN1bHQpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXRob2QuZm9ybWF0T3V0cHV0KG1ldGhvZC5yZXF1ZXN0TWFuYWdlci5zZW5kKHBheWxvYWQpKTtcbiAgICB9O1xuICAgIHNlbmQucmVxdWVzdCA9IHRoaXMucmVxdWVzdC5iaW5kKHRoaXMpO1xuICAgIHJldHVybiBzZW5kO1xufTtcblxuLyoqXG4gKiBTaG91bGQgYmUgY2FsbGVkIHRvIGNyZWF0ZSBwdXJlIEpTT05SUEMgcmVxdWVzdCB3aGljaCBjYW4gYmUgdXNlZCBpbiBiYXRjaCByZXF1ZXN0XG4gKlxuICogQG1ldGhvZCByZXF1ZXN0XG4gKiBAcGFyYW0gey4uLn0gcGFyYW1zXG4gKiBAcmV0dXJuIHtPYmplY3R9IGpzb25ycGMgcmVxdWVzdFxuICovXG5NZXRob2QucHJvdG90eXBlLnJlcXVlc3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHBheWxvYWQgPSB0aGlzLnRvUGF5bG9hZChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKTtcbiAgICBwYXlsb2FkLmZvcm1hdCA9IHRoaXMuZm9ybWF0T3V0cHV0LmJpbmQodGhpcyk7XG4gICAgcmV0dXJuIHBheWxvYWQ7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IE1ldGhvZDtcblxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi93ZWIzL2xpYi93ZWIzL21ldGhvZC5qcyIsIi8qISBiaWdudW1iZXIuanMgdjIuMC43IGh0dHBzOi8vZ2l0aHViLmNvbS9NaWtlTWNsL2JpZ251bWJlci5qcy9MSUNFTkNFICovXG5cbjsoZnVuY3Rpb24gKGdsb2JhbCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qXG4gICAgICBiaWdudW1iZXIuanMgdjIuMC43XG4gICAgICBBIEphdmFTY3JpcHQgbGlicmFyeSBmb3IgYXJiaXRyYXJ5LXByZWNpc2lvbiBhcml0aG1ldGljLlxuICAgICAgaHR0cHM6Ly9naXRodWIuY29tL01pa2VNY2wvYmlnbnVtYmVyLmpzXG4gICAgICBDb3B5cmlnaHQgKGMpIDIwMTUgTWljaGFlbCBNY2xhdWdobGluIDxNOGNoODhsQGdtYWlsLmNvbT5cbiAgICAgIE1JVCBFeHBhdCBMaWNlbmNlXG4gICAgKi9cblxuXG4gICAgdmFyIEJpZ051bWJlciwgY3J5cHRvLCBwYXJzZU51bWVyaWMsXG4gICAgICAgIGlzTnVtZXJpYyA9IC9eLT8oXFxkKyhcXC5cXGQqKT98XFwuXFxkKykoZVsrLV0/XFxkKyk/JC9pLFxuICAgICAgICBtYXRoY2VpbCA9IE1hdGguY2VpbCxcbiAgICAgICAgbWF0aGZsb29yID0gTWF0aC5mbG9vcixcbiAgICAgICAgbm90Qm9vbCA9ICcgbm90IGEgYm9vbGVhbiBvciBiaW5hcnkgZGlnaXQnLFxuICAgICAgICByb3VuZGluZ01vZGUgPSAncm91bmRpbmcgbW9kZScsXG4gICAgICAgIHRvb01hbnlEaWdpdHMgPSAnbnVtYmVyIHR5cGUgaGFzIG1vcmUgdGhhbiAxNSBzaWduaWZpY2FudCBkaWdpdHMnLFxuICAgICAgICBBTFBIQUJFVCA9ICcwMTIzNDU2Nzg5YWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWiRfJyxcbiAgICAgICAgQkFTRSA9IDFlMTQsXG4gICAgICAgIExPR19CQVNFID0gMTQsXG4gICAgICAgIE1BWF9TQUZFX0lOVEVHRVIgPSAweDFmZmZmZmZmZmZmZmZmLCAgICAgICAgIC8vIDJeNTMgLSAxXG4gICAgICAgIC8vIE1BWF9JTlQzMiA9IDB4N2ZmZmZmZmYsICAgICAgICAgICAgICAgICAgIC8vIDJeMzEgLSAxXG4gICAgICAgIFBPV1NfVEVOID0gWzEsIDEwLCAxMDAsIDFlMywgMWU0LCAxZTUsIDFlNiwgMWU3LCAxZTgsIDFlOSwgMWUxMCwgMWUxMSwgMWUxMiwgMWUxM10sXG4gICAgICAgIFNRUlRfQkFTRSA9IDFlNyxcblxuICAgICAgICAvKlxuICAgICAgICAgKiBUaGUgbGltaXQgb24gdGhlIHZhbHVlIG9mIERFQ0lNQUxfUExBQ0VTLCBUT19FWFBfTkVHLCBUT19FWFBfUE9TLCBNSU5fRVhQLCBNQVhfRVhQLCBhbmRcbiAgICAgICAgICogdGhlIGFyZ3VtZW50cyB0byB0b0V4cG9uZW50aWFsLCB0b0ZpeGVkLCB0b0Zvcm1hdCwgYW5kIHRvUHJlY2lzaW9uLCBiZXlvbmQgd2hpY2ggYW5cbiAgICAgICAgICogZXhjZXB0aW9uIGlzIHRocm93biAoaWYgRVJST1JTIGlzIHRydWUpLlxuICAgICAgICAgKi9cbiAgICAgICAgTUFYID0gMUU5OyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gMCB0byBNQVhfSU5UMzJcblxuXG4gICAgLypcbiAgICAgKiBDcmVhdGUgYW5kIHJldHVybiBhIEJpZ051bWJlciBjb25zdHJ1Y3Rvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhbm90aGVyKGNvbmZpZ09iaikge1xuICAgICAgICB2YXIgZGl2LFxuXG4gICAgICAgICAgICAvLyBpZCB0cmFja3MgdGhlIGNhbGxlciBmdW5jdGlvbiwgc28gaXRzIG5hbWUgY2FuIGJlIGluY2x1ZGVkIGluIGVycm9yIG1lc3NhZ2VzLlxuICAgICAgICAgICAgaWQgPSAwLFxuICAgICAgICAgICAgUCA9IEJpZ051bWJlci5wcm90b3R5cGUsXG4gICAgICAgICAgICBPTkUgPSBuZXcgQmlnTnVtYmVyKDEpLFxuXG5cbiAgICAgICAgICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogRURJVEFCTEUgREVGQVVMVFMgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuXG4gICAgICAgICAgICAvKlxuICAgICAgICAgICAgICogVGhlIGRlZmF1bHQgdmFsdWVzIGJlbG93IG11c3QgYmUgaW50ZWdlcnMgd2l0aGluIHRoZSBpbmNsdXNpdmUgcmFuZ2VzIHN0YXRlZC5cbiAgICAgICAgICAgICAqIFRoZSB2YWx1ZXMgY2FuIGFsc28gYmUgY2hhbmdlZCBhdCBydW4tdGltZSB1c2luZyBCaWdOdW1iZXIuY29uZmlnLlxuICAgICAgICAgICAgICovXG5cbiAgICAgICAgICAgIC8vIFRoZSBtYXhpbXVtIG51bWJlciBvZiBkZWNpbWFsIHBsYWNlcyBmb3Igb3BlcmF0aW9ucyBpbnZvbHZpbmcgZGl2aXNpb24uXG4gICAgICAgICAgICBERUNJTUFMX1BMQUNFUyA9IDIwLCAgICAgICAgICAgICAgICAgICAgIC8vIDAgdG8gTUFYXG5cbiAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgKiBUaGUgcm91bmRpbmcgbW9kZSB1c2VkIHdoZW4gcm91bmRpbmcgdG8gdGhlIGFib3ZlIGRlY2ltYWwgcGxhY2VzLCBhbmQgd2hlbiB1c2luZ1xuICAgICAgICAgICAgICogdG9FeHBvbmVudGlhbCwgdG9GaXhlZCwgdG9Gb3JtYXQgYW5kIHRvUHJlY2lzaW9uLCBhbmQgcm91bmQgKGRlZmF1bHQgdmFsdWUpLlxuICAgICAgICAgICAgICogVVAgICAgICAgICAwIEF3YXkgZnJvbSB6ZXJvLlxuICAgICAgICAgICAgICogRE9XTiAgICAgICAxIFRvd2FyZHMgemVyby5cbiAgICAgICAgICAgICAqIENFSUwgICAgICAgMiBUb3dhcmRzICtJbmZpbml0eS5cbiAgICAgICAgICAgICAqIEZMT09SICAgICAgMyBUb3dhcmRzIC1JbmZpbml0eS5cbiAgICAgICAgICAgICAqIEhBTEZfVVAgICAgNCBUb3dhcmRzIG5lYXJlc3QgbmVpZ2hib3VyLiBJZiBlcXVpZGlzdGFudCwgdXAuXG4gICAgICAgICAgICAgKiBIQUxGX0RPV04gIDUgVG93YXJkcyBuZWFyZXN0IG5laWdoYm91ci4gSWYgZXF1aWRpc3RhbnQsIGRvd24uXG4gICAgICAgICAgICAgKiBIQUxGX0VWRU4gIDYgVG93YXJkcyBuZWFyZXN0IG5laWdoYm91ci4gSWYgZXF1aWRpc3RhbnQsIHRvd2FyZHMgZXZlbiBuZWlnaGJvdXIuXG4gICAgICAgICAgICAgKiBIQUxGX0NFSUwgIDcgVG93YXJkcyBuZWFyZXN0IG5laWdoYm91ci4gSWYgZXF1aWRpc3RhbnQsIHRvd2FyZHMgK0luZmluaXR5LlxuICAgICAgICAgICAgICogSEFMRl9GTE9PUiA4IFRvd2FyZHMgbmVhcmVzdCBuZWlnaGJvdXIuIElmIGVxdWlkaXN0YW50LCB0b3dhcmRzIC1JbmZpbml0eS5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgUk9VTkRJTkdfTU9ERSA9IDQsICAgICAgICAgICAgICAgICAgICAgICAvLyAwIHRvIDhcblxuICAgICAgICAgICAgLy8gRVhQT05FTlRJQUxfQVQgOiBbVE9fRVhQX05FRyAsIFRPX0VYUF9QT1NdXG5cbiAgICAgICAgICAgIC8vIFRoZSBleHBvbmVudCB2YWx1ZSBhdCBhbmQgYmVuZWF0aCB3aGljaCB0b1N0cmluZyByZXR1cm5zIGV4cG9uZW50aWFsIG5vdGF0aW9uLlxuICAgICAgICAgICAgLy8gTnVtYmVyIHR5cGU6IC03XG4gICAgICAgICAgICBUT19FWFBfTkVHID0gLTcsICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDAgdG8gLU1BWFxuXG4gICAgICAgICAgICAvLyBUaGUgZXhwb25lbnQgdmFsdWUgYXQgYW5kIGFib3ZlIHdoaWNoIHRvU3RyaW5nIHJldHVybnMgZXhwb25lbnRpYWwgbm90YXRpb24uXG4gICAgICAgICAgICAvLyBOdW1iZXIgdHlwZTogMjFcbiAgICAgICAgICAgIFRPX0VYUF9QT1MgPSAyMSwgICAgICAgICAgICAgICAgICAgICAgICAgLy8gMCB0byBNQVhcblxuICAgICAgICAgICAgLy8gUkFOR0UgOiBbTUlOX0VYUCwgTUFYX0VYUF1cblxuICAgICAgICAgICAgLy8gVGhlIG1pbmltdW0gZXhwb25lbnQgdmFsdWUsIGJlbmVhdGggd2hpY2ggdW5kZXJmbG93IHRvIHplcm8gb2NjdXJzLlxuICAgICAgICAgICAgLy8gTnVtYmVyIHR5cGU6IC0zMjQgICg1ZS0zMjQpXG4gICAgICAgICAgICBNSU5fRVhQID0gLTFlNywgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIC0xIHRvIC1NQVhcblxuICAgICAgICAgICAgLy8gVGhlIG1heGltdW0gZXhwb25lbnQgdmFsdWUsIGFib3ZlIHdoaWNoIG92ZXJmbG93IHRvIEluZmluaXR5IG9jY3Vycy5cbiAgICAgICAgICAgIC8vIE51bWJlciB0eXBlOiAgMzA4ICAoMS43OTc2OTMxMzQ4NjIzMTU3ZSszMDgpXG4gICAgICAgICAgICAvLyBGb3IgTUFYX0VYUCA+IDFlNywgZS5nLiBuZXcgQmlnTnVtYmVyKCcxZTEwMDAwMDAwMCcpLnBsdXMoMSkgbWF5IGJlIHNsb3cuXG4gICAgICAgICAgICBNQVhfRVhQID0gMWU3LCAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDEgdG8gTUFYXG5cbiAgICAgICAgICAgIC8vIFdoZXRoZXIgQmlnTnVtYmVyIEVycm9ycyBhcmUgZXZlciB0aHJvd24uXG4gICAgICAgICAgICBFUlJPUlMgPSB0cnVlLCAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRydWUgb3IgZmFsc2VcblxuICAgICAgICAgICAgLy8gQ2hhbmdlIHRvIGludFZhbGlkYXRvck5vRXJyb3JzIGlmIEVSUk9SUyBpcyBmYWxzZS5cbiAgICAgICAgICAgIGlzVmFsaWRJbnQgPSBpbnRWYWxpZGF0b3JXaXRoRXJyb3JzLCAgICAgLy8gaW50VmFsaWRhdG9yV2l0aEVycm9ycy9pbnRWYWxpZGF0b3JOb0Vycm9yc1xuXG4gICAgICAgICAgICAvLyBXaGV0aGVyIHRvIHVzZSBjcnlwdG9ncmFwaGljYWxseS1zZWN1cmUgcmFuZG9tIG51bWJlciBnZW5lcmF0aW9uLCBpZiBhdmFpbGFibGUuXG4gICAgICAgICAgICBDUllQVE8gPSBmYWxzZSwgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRydWUgb3IgZmFsc2VcblxuICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAqIFRoZSBtb2R1bG8gbW9kZSB1c2VkIHdoZW4gY2FsY3VsYXRpbmcgdGhlIG1vZHVsdXM6IGEgbW9kIG4uXG4gICAgICAgICAgICAgKiBUaGUgcXVvdGllbnQgKHEgPSBhIC8gbikgaXMgY2FsY3VsYXRlZCBhY2NvcmRpbmcgdG8gdGhlIGNvcnJlc3BvbmRpbmcgcm91bmRpbmcgbW9kZS5cbiAgICAgICAgICAgICAqIFRoZSByZW1haW5kZXIgKHIpIGlzIGNhbGN1bGF0ZWQgYXM6IHIgPSBhIC0gbiAqIHEuXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogVVAgICAgICAgIDAgVGhlIHJlbWFpbmRlciBpcyBwb3NpdGl2ZSBpZiB0aGUgZGl2aWRlbmQgaXMgbmVnYXRpdmUsIGVsc2UgaXMgbmVnYXRpdmUuXG4gICAgICAgICAgICAgKiBET1dOICAgICAgMSBUaGUgcmVtYWluZGVyIGhhcyB0aGUgc2FtZSBzaWduIGFzIHRoZSBkaXZpZGVuZC5cbiAgICAgICAgICAgICAqICAgICAgICAgICAgIFRoaXMgbW9kdWxvIG1vZGUgaXMgY29tbW9ubHkga25vd24gYXMgJ3RydW5jYXRlZCBkaXZpc2lvbicgYW5kIGlzXG4gICAgICAgICAgICAgKiAgICAgICAgICAgICBlcXVpdmFsZW50IHRvIChhICUgbikgaW4gSmF2YVNjcmlwdC5cbiAgICAgICAgICAgICAqIEZMT09SICAgICAzIFRoZSByZW1haW5kZXIgaGFzIHRoZSBzYW1lIHNpZ24gYXMgdGhlIGRpdmlzb3IgKFB5dGhvbiAlKS5cbiAgICAgICAgICAgICAqIEhBTEZfRVZFTiA2IFRoaXMgbW9kdWxvIG1vZGUgaW1wbGVtZW50cyB0aGUgSUVFRSA3NTQgcmVtYWluZGVyIGZ1bmN0aW9uLlxuICAgICAgICAgICAgICogRVVDTElEICAgIDkgRXVjbGlkaWFuIGRpdmlzaW9uLiBxID0gc2lnbihuKSAqIGZsb29yKGEgLyBhYnMobikpLlxuICAgICAgICAgICAgICogICAgICAgICAgICAgVGhlIHJlbWFpbmRlciBpcyBhbHdheXMgcG9zaXRpdmUuXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogVGhlIHRydW5jYXRlZCBkaXZpc2lvbiwgZmxvb3JlZCBkaXZpc2lvbiwgRXVjbGlkaWFuIGRpdmlzaW9uIGFuZCBJRUVFIDc1NCByZW1haW5kZXJcbiAgICAgICAgICAgICAqIG1vZGVzIGFyZSBjb21tb25seSB1c2VkIGZvciB0aGUgbW9kdWx1cyBvcGVyYXRpb24uXG4gICAgICAgICAgICAgKiBBbHRob3VnaCB0aGUgb3RoZXIgcm91bmRpbmcgbW9kZXMgY2FuIGFsc28gYmUgdXNlZCwgdGhleSBtYXkgbm90IGdpdmUgdXNlZnVsIHJlc3VsdHMuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIE1PRFVMT19NT0RFID0gMSwgICAgICAgICAgICAgICAgICAgICAgICAgLy8gMCB0byA5XG5cbiAgICAgICAgICAgIC8vIFRoZSBtYXhpbXVtIG51bWJlciBvZiBzaWduaWZpY2FudCBkaWdpdHMgb2YgdGhlIHJlc3VsdCBvZiB0aGUgdG9Qb3dlciBvcGVyYXRpb24uXG4gICAgICAgICAgICAvLyBJZiBQT1dfUFJFQ0lTSU9OIGlzIDAsIHRoZXJlIHdpbGwgYmUgdW5saW1pdGVkIHNpZ25pZmljYW50IGRpZ2l0cy5cbiAgICAgICAgICAgIFBPV19QUkVDSVNJT04gPSAxMDAsICAgICAgICAgICAgICAgICAgICAgLy8gMCB0byBNQVhcblxuICAgICAgICAgICAgLy8gVGhlIGZvcm1hdCBzcGVjaWZpY2F0aW9uIHVzZWQgYnkgdGhlIEJpZ051bWJlci5wcm90b3R5cGUudG9Gb3JtYXQgbWV0aG9kLlxuICAgICAgICAgICAgRk9STUFUID0ge1xuICAgICAgICAgICAgICAgIGRlY2ltYWxTZXBhcmF0b3I6ICcuJyxcbiAgICAgICAgICAgICAgICBncm91cFNlcGFyYXRvcjogJywnLFxuICAgICAgICAgICAgICAgIGdyb3VwU2l6ZTogMyxcbiAgICAgICAgICAgICAgICBzZWNvbmRhcnlHcm91cFNpemU6IDAsXG4gICAgICAgICAgICAgICAgZnJhY3Rpb25Hcm91cFNlcGFyYXRvcjogJ1xceEEwJywgICAgICAvLyBub24tYnJlYWtpbmcgc3BhY2VcbiAgICAgICAgICAgICAgICBmcmFjdGlvbkdyb3VwU2l6ZTogMFxuICAgICAgICAgICAgfTtcblxuXG4gICAgICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cblxuICAgICAgICAvLyBDT05TVFJVQ1RPUlxuXG5cbiAgICAgICAgLypcbiAgICAgICAgICogVGhlIEJpZ051bWJlciBjb25zdHJ1Y3RvciBhbmQgZXhwb3J0ZWQgZnVuY3Rpb24uXG4gICAgICAgICAqIENyZWF0ZSBhbmQgcmV0dXJuIGEgbmV3IGluc3RhbmNlIG9mIGEgQmlnTnVtYmVyIG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogbiB7bnVtYmVyfHN0cmluZ3xCaWdOdW1iZXJ9IEEgbnVtZXJpYyB2YWx1ZS5cbiAgICAgICAgICogW2JdIHtudW1iZXJ9IFRoZSBiYXNlIG9mIG4uIEludGVnZXIsIDIgdG8gNjQgaW5jbHVzaXZlLlxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gQmlnTnVtYmVyKCBuLCBiICkge1xuICAgICAgICAgICAgdmFyIGMsIGUsIGksIG51bSwgbGVuLCBzdHIsXG4gICAgICAgICAgICAgICAgeCA9IHRoaXM7XG5cbiAgICAgICAgICAgIC8vIEVuYWJsZSBjb25zdHJ1Y3RvciB1c2FnZSB3aXRob3V0IG5ldy5cbiAgICAgICAgICAgIGlmICggISggeCBpbnN0YW5jZW9mIEJpZ051bWJlciApICkge1xuXG4gICAgICAgICAgICAgICAgLy8gJ0JpZ051bWJlcigpIGNvbnN0cnVjdG9yIGNhbGwgd2l0aG91dCBuZXc6IHtufSdcbiAgICAgICAgICAgICAgICBpZiAoRVJST1JTKSByYWlzZSggMjYsICdjb25zdHJ1Y3RvciBjYWxsIHdpdGhvdXQgbmV3JywgbiApO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQmlnTnVtYmVyKCBuLCBiICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vICduZXcgQmlnTnVtYmVyKCkgYmFzZSBub3QgYW4gaW50ZWdlcjoge2J9J1xuICAgICAgICAgICAgLy8gJ25ldyBCaWdOdW1iZXIoKSBiYXNlIG91dCBvZiByYW5nZToge2J9J1xuICAgICAgICAgICAgaWYgKCBiID09IG51bGwgfHwgIWlzVmFsaWRJbnQoIGIsIDIsIDY0LCBpZCwgJ2Jhc2UnICkgKSB7XG5cbiAgICAgICAgICAgICAgICAvLyBEdXBsaWNhdGUuXG4gICAgICAgICAgICAgICAgaWYgKCBuIGluc3RhbmNlb2YgQmlnTnVtYmVyICkge1xuICAgICAgICAgICAgICAgICAgICB4LnMgPSBuLnM7XG4gICAgICAgICAgICAgICAgICAgIHguZSA9IG4uZTtcbiAgICAgICAgICAgICAgICAgICAgeC5jID0gKCBuID0gbi5jICkgPyBuLnNsaWNlKCkgOiBuO1xuICAgICAgICAgICAgICAgICAgICBpZCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoICggbnVtID0gdHlwZW9mIG4gPT0gJ251bWJlcicgKSAmJiBuICogMCA9PSAwICkge1xuICAgICAgICAgICAgICAgICAgICB4LnMgPSAxIC8gbiA8IDAgPyAoIG4gPSAtbiwgLTEgKSA6IDE7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gRmFzdCBwYXRoIGZvciBpbnRlZ2Vycy5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCBuID09PSB+fm4gKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKCBlID0gMCwgaSA9IG47IGkgPj0gMTA7IGkgLz0gMTAsIGUrKyApO1xuICAgICAgICAgICAgICAgICAgICAgICAgeC5lID0gZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHguYyA9IFtuXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHN0ciA9IG4gKyAnJztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoICFpc051bWVyaWMudGVzdCggc3RyID0gbiArICcnICkgKSByZXR1cm4gcGFyc2VOdW1lcmljKCB4LCBzdHIsIG51bSApO1xuICAgICAgICAgICAgICAgICAgICB4LnMgPSBzdHIuY2hhckNvZGVBdCgwKSA9PT0gNDUgPyAoIHN0ciA9IHN0ci5zbGljZSgxKSwgLTEgKSA6IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBiID0gYiB8IDA7XG4gICAgICAgICAgICAgICAgc3RyID0gbiArICcnO1xuXG4gICAgICAgICAgICAgICAgLy8gRW5zdXJlIHJldHVybiB2YWx1ZSBpcyByb3VuZGVkIHRvIERFQ0lNQUxfUExBQ0VTIGFzIHdpdGggb3RoZXIgYmFzZXMuXG4gICAgICAgICAgICAgICAgLy8gQWxsb3cgZXhwb25lbnRpYWwgbm90YXRpb24gdG8gYmUgdXNlZCB3aXRoIGJhc2UgMTAgYXJndW1lbnQuXG4gICAgICAgICAgICAgICAgaWYgKCBiID09IDEwICkge1xuICAgICAgICAgICAgICAgICAgICB4ID0gbmV3IEJpZ051bWJlciggbiBpbnN0YW5jZW9mIEJpZ051bWJlciA/IG4gOiBzdHIgKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJvdW5kKCB4LCBERUNJTUFMX1BMQUNFUyArIHguZSArIDEsIFJPVU5ESU5HX01PREUgKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBBdm9pZCBwb3RlbnRpYWwgaW50ZXJwcmV0YXRpb24gb2YgSW5maW5pdHkgYW5kIE5hTiBhcyBiYXNlIDQ0KyB2YWx1ZXMuXG4gICAgICAgICAgICAgICAgLy8gQW55IG51bWJlciBpbiBleHBvbmVudGlhbCBmb3JtIHdpbGwgZmFpbCBkdWUgdG8gdGhlIFtFZV1bKy1dLlxuICAgICAgICAgICAgICAgIGlmICggKCBudW0gPSB0eXBlb2YgbiA9PSAnbnVtYmVyJyApICYmIG4gKiAwICE9IDAgfHxcbiAgICAgICAgICAgICAgICAgICEoIG5ldyBSZWdFeHAoICdeLT8nICsgKCBjID0gJ1snICsgQUxQSEFCRVQuc2xpY2UoIDAsIGIgKSArICddKycgKSArXG4gICAgICAgICAgICAgICAgICAgICcoPzpcXFxcLicgKyBjICsgJyk/JCcsYiA8IDM3ID8gJ2knIDogJycgKSApLnRlc3Qoc3RyKSApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlTnVtZXJpYyggeCwgc3RyLCBudW0sIGIgKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAobnVtKSB7XG4gICAgICAgICAgICAgICAgICAgIHgucyA9IDEgLyBuIDwgMCA/ICggc3RyID0gc3RyLnNsaWNlKDEpLCAtMSApIDogMTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIEVSUk9SUyAmJiBzdHIucmVwbGFjZSggL14wXFwuMCp8XFwuLywgJycgKS5sZW5ndGggPiAxNSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gJ25ldyBCaWdOdW1iZXIoKSBudW1iZXIgdHlwZSBoYXMgbW9yZSB0aGFuIDE1IHNpZ25pZmljYW50IGRpZ2l0czoge259J1xuICAgICAgICAgICAgICAgICAgICAgICAgcmFpc2UoIGlkLCB0b29NYW55RGlnaXRzLCBuICk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBQcmV2ZW50IGxhdGVyIGNoZWNrIGZvciBsZW5ndGggb24gY29udmVydGVkIG51bWJlci5cbiAgICAgICAgICAgICAgICAgICAgbnVtID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgeC5zID0gc3RyLmNoYXJDb2RlQXQoMCkgPT09IDQ1ID8gKCBzdHIgPSBzdHIuc2xpY2UoMSksIC0xICkgOiAxO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHN0ciA9IGNvbnZlcnRCYXNlKCBzdHIsIDEwLCBiLCB4LnMgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gRGVjaW1hbCBwb2ludD9cbiAgICAgICAgICAgIGlmICggKCBlID0gc3RyLmluZGV4T2YoJy4nKSApID4gLTEgKSBzdHIgPSBzdHIucmVwbGFjZSggJy4nLCAnJyApO1xuXG4gICAgICAgICAgICAvLyBFeHBvbmVudGlhbCBmb3JtP1xuICAgICAgICAgICAgaWYgKCAoIGkgPSBzdHIuc2VhcmNoKCAvZS9pICkgKSA+IDAgKSB7XG5cbiAgICAgICAgICAgICAgICAvLyBEZXRlcm1pbmUgZXhwb25lbnQuXG4gICAgICAgICAgICAgICAgaWYgKCBlIDwgMCApIGUgPSBpO1xuICAgICAgICAgICAgICAgIGUgKz0gK3N0ci5zbGljZSggaSArIDEgKTtcbiAgICAgICAgICAgICAgICBzdHIgPSBzdHIuc3Vic3RyaW5nKCAwLCBpICk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCBlIDwgMCApIHtcblxuICAgICAgICAgICAgICAgIC8vIEludGVnZXIuXG4gICAgICAgICAgICAgICAgZSA9IHN0ci5sZW5ndGg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIERldGVybWluZSBsZWFkaW5nIHplcm9zLlxuICAgICAgICAgICAgZm9yICggaSA9IDA7IHN0ci5jaGFyQ29kZUF0KGkpID09PSA0ODsgaSsrICk7XG5cbiAgICAgICAgICAgIC8vIERldGVybWluZSB0cmFpbGluZyB6ZXJvcy5cbiAgICAgICAgICAgIGZvciAoIGxlbiA9IHN0ci5sZW5ndGg7IHN0ci5jaGFyQ29kZUF0KC0tbGVuKSA9PT0gNDg7ICk7XG4gICAgICAgICAgICBzdHIgPSBzdHIuc2xpY2UoIGksIGxlbiArIDEgKTtcblxuICAgICAgICAgICAgaWYgKHN0cikge1xuICAgICAgICAgICAgICAgIGxlbiA9IHN0ci5sZW5ndGg7XG5cbiAgICAgICAgICAgICAgICAvLyBEaXNhbGxvdyBudW1iZXJzIHdpdGggb3ZlciAxNSBzaWduaWZpY2FudCBkaWdpdHMgaWYgbnVtYmVyIHR5cGUuXG4gICAgICAgICAgICAgICAgLy8gJ25ldyBCaWdOdW1iZXIoKSBudW1iZXIgdHlwZSBoYXMgbW9yZSB0aGFuIDE1IHNpZ25pZmljYW50IGRpZ2l0czoge259J1xuICAgICAgICAgICAgICAgIGlmICggbnVtICYmIEVSUk9SUyAmJiBsZW4gPiAxNSApIHJhaXNlKCBpZCwgdG9vTWFueURpZ2l0cywgeC5zICogbiApO1xuXG4gICAgICAgICAgICAgICAgZSA9IGUgLSBpIC0gMTtcblxuICAgICAgICAgICAgICAgICAvLyBPdmVyZmxvdz9cbiAgICAgICAgICAgICAgICBpZiAoIGUgPiBNQVhfRVhQICkge1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIEluZmluaXR5LlxuICAgICAgICAgICAgICAgICAgICB4LmMgPSB4LmUgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgLy8gVW5kZXJmbG93P1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIGUgPCBNSU5fRVhQICkge1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFplcm8uXG4gICAgICAgICAgICAgICAgICAgIHguYyA9IFsgeC5lID0gMCBdO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHguZSA9IGU7XG4gICAgICAgICAgICAgICAgICAgIHguYyA9IFtdO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFRyYW5zZm9ybSBiYXNlXG5cbiAgICAgICAgICAgICAgICAgICAgLy8gZSBpcyB0aGUgYmFzZSAxMCBleHBvbmVudC5cbiAgICAgICAgICAgICAgICAgICAgLy8gaSBpcyB3aGVyZSB0byBzbGljZSBzdHIgdG8gZ2V0IHRoZSBmaXJzdCBlbGVtZW50IG9mIHRoZSBjb2VmZmljaWVudCBhcnJheS5cbiAgICAgICAgICAgICAgICAgICAgaSA9ICggZSArIDEgKSAlIExPR19CQVNFO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIGUgPCAwICkgaSArPSBMT0dfQkFTRTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIGkgPCBsZW4gKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSkgeC5jLnB1c2goICtzdHIuc2xpY2UoIDAsIGkgKSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKCBsZW4gLT0gTE9HX0JBU0U7IGkgPCBsZW47ICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHguYy5wdXNoKCArc3RyLnNsaWNlKCBpLCBpICs9IExPR19CQVNFICkgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgc3RyID0gc3RyLnNsaWNlKGkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaSA9IExPR19CQVNFIC0gc3RyLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGkgLT0gbGVuO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yICggOyBpLS07IHN0ciArPSAnMCcgKTtcbiAgICAgICAgICAgICAgICAgICAgeC5jLnB1c2goICtzdHIgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgLy8gWmVyby5cbiAgICAgICAgICAgICAgICB4LmMgPSBbIHguZSA9IDAgXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWQgPSAwO1xuICAgICAgICB9XG5cblxuICAgICAgICAvLyBDT05TVFJVQ1RPUiBQUk9QRVJUSUVTXG5cblxuICAgICAgICBCaWdOdW1iZXIuYW5vdGhlciA9IGFub3RoZXI7XG5cbiAgICAgICAgQmlnTnVtYmVyLlJPVU5EX1VQID0gMDtcbiAgICAgICAgQmlnTnVtYmVyLlJPVU5EX0RPV04gPSAxO1xuICAgICAgICBCaWdOdW1iZXIuUk9VTkRfQ0VJTCA9IDI7XG4gICAgICAgIEJpZ051bWJlci5ST1VORF9GTE9PUiA9IDM7XG4gICAgICAgIEJpZ051bWJlci5ST1VORF9IQUxGX1VQID0gNDtcbiAgICAgICAgQmlnTnVtYmVyLlJPVU5EX0hBTEZfRE9XTiA9IDU7XG4gICAgICAgIEJpZ051bWJlci5ST1VORF9IQUxGX0VWRU4gPSA2O1xuICAgICAgICBCaWdOdW1iZXIuUk9VTkRfSEFMRl9DRUlMID0gNztcbiAgICAgICAgQmlnTnVtYmVyLlJPVU5EX0hBTEZfRkxPT1IgPSA4O1xuICAgICAgICBCaWdOdW1iZXIuRVVDTElEID0gOTtcblxuXG4gICAgICAgIC8qXG4gICAgICAgICAqIENvbmZpZ3VyZSBpbmZyZXF1ZW50bHktY2hhbmdpbmcgbGlicmFyeS13aWRlIHNldHRpbmdzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBBY2NlcHQgYW4gb2JqZWN0IG9yIGFuIGFyZ3VtZW50IGxpc3QsIHdpdGggb25lIG9yIG1hbnkgb2YgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzIG9yXG4gICAgICAgICAqIHBhcmFtZXRlcnMgcmVzcGVjdGl2ZWx5OlxuICAgICAgICAgKlxuICAgICAgICAgKiAgIERFQ0lNQUxfUExBQ0VTICB7bnVtYmVyfSAgSW50ZWdlciwgMCB0byBNQVggaW5jbHVzaXZlXG4gICAgICAgICAqICAgUk9VTkRJTkdfTU9ERSAgIHtudW1iZXJ9ICBJbnRlZ2VyLCAwIHRvIDggaW5jbHVzaXZlXG4gICAgICAgICAqICAgRVhQT05FTlRJQUxfQVQgIHtudW1iZXJ8bnVtYmVyW119ICBJbnRlZ2VyLCAtTUFYIHRvIE1BWCBpbmNsdXNpdmUgb3JcbiAgICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtpbnRlZ2VyIC1NQVggdG8gMCBpbmNsLiwgMCB0byBNQVggaW5jbC5dXG4gICAgICAgICAqICAgUkFOR0UgICAgICAgICAgIHtudW1iZXJ8bnVtYmVyW119ICBOb24temVybyBpbnRlZ2VyLCAtTUFYIHRvIE1BWCBpbmNsdXNpdmUgb3JcbiAgICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtpbnRlZ2VyIC1NQVggdG8gLTEgaW5jbC4sIGludGVnZXIgMSB0byBNQVggaW5jbC5dXG4gICAgICAgICAqICAgRVJST1JTICAgICAgICAgIHtib29sZWFufG51bWJlcn0gICB0cnVlLCBmYWxzZSwgMSBvciAwXG4gICAgICAgICAqICAgQ1JZUFRPICAgICAgICAgIHtib29sZWFufG51bWJlcn0gICB0cnVlLCBmYWxzZSwgMSBvciAwXG4gICAgICAgICAqICAgTU9EVUxPX01PREUgICAgIHtudW1iZXJ9ICAgICAgICAgICAwIHRvIDkgaW5jbHVzaXZlXG4gICAgICAgICAqICAgUE9XX1BSRUNJU0lPTiAgIHtudW1iZXJ9ICAgICAgICAgICAwIHRvIE1BWCBpbmNsdXNpdmVcbiAgICAgICAgICogICBGT1JNQVQgICAgICAgICAge29iamVjdH0gICAgICAgICAgIFNlZSBCaWdOdW1iZXIucHJvdG90eXBlLnRvRm9ybWF0XG4gICAgICAgICAqICAgICAgZGVjaW1hbFNlcGFyYXRvciAgICAgICB7c3RyaW5nfVxuICAgICAgICAgKiAgICAgIGdyb3VwU2VwYXJhdG9yICAgICAgICAge3N0cmluZ31cbiAgICAgICAgICogICAgICBncm91cFNpemUgICAgICAgICAgICAgIHtudW1iZXJ9XG4gICAgICAgICAqICAgICAgc2Vjb25kYXJ5R3JvdXBTaXplICAgICB7bnVtYmVyfVxuICAgICAgICAgKiAgICAgIGZyYWN0aW9uR3JvdXBTZXBhcmF0b3Ige3N0cmluZ31cbiAgICAgICAgICogICAgICBmcmFjdGlvbkdyb3VwU2l6ZSAgICAgIHtudW1iZXJ9XG4gICAgICAgICAqXG4gICAgICAgICAqIChUaGUgdmFsdWVzIGFzc2lnbmVkIHRvIHRoZSBhYm92ZSBGT1JNQVQgb2JqZWN0IHByb3BlcnRpZXMgYXJlIG5vdCBjaGVja2VkIGZvciB2YWxpZGl0eS4pXG4gICAgICAgICAqXG4gICAgICAgICAqIEUuZy5cbiAgICAgICAgICogQmlnTnVtYmVyLmNvbmZpZygyMCwgNCkgaXMgZXF1aXZhbGVudCB0b1xuICAgICAgICAgKiBCaWdOdW1iZXIuY29uZmlnKHsgREVDSU1BTF9QTEFDRVMgOiAyMCwgUk9VTkRJTkdfTU9ERSA6IDQgfSlcbiAgICAgICAgICpcbiAgICAgICAgICogSWdub3JlIHByb3BlcnRpZXMvcGFyYW1ldGVycyBzZXQgdG8gbnVsbCBvciB1bmRlZmluZWQuXG4gICAgICAgICAqIFJldHVybiBhbiBvYmplY3Qgd2l0aCB0aGUgcHJvcGVydGllcyBjdXJyZW50IHZhbHVlcy5cbiAgICAgICAgICovXG4gICAgICAgIEJpZ051bWJlci5jb25maWcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgdiwgcCxcbiAgICAgICAgICAgICAgICBpID0gMCxcbiAgICAgICAgICAgICAgICByID0ge30sXG4gICAgICAgICAgICAgICAgYSA9IGFyZ3VtZW50cyxcbiAgICAgICAgICAgICAgICBvID0gYVswXSxcbiAgICAgICAgICAgICAgICBoYXMgPSBvICYmIHR5cGVvZiBvID09ICdvYmplY3QnXG4gICAgICAgICAgICAgICAgICA/IGZ1bmN0aW9uICgpIHsgaWYgKCBvLmhhc093blByb3BlcnR5KHApICkgcmV0dXJuICggdiA9IG9bcF0gKSAhPSBudWxsOyB9XG4gICAgICAgICAgICAgICAgICA6IGZ1bmN0aW9uICgpIHsgaWYgKCBhLmxlbmd0aCA+IGkgKSByZXR1cm4gKCB2ID0gYVtpKytdICkgIT0gbnVsbDsgfTtcblxuICAgICAgICAgICAgLy8gREVDSU1BTF9QTEFDRVMge251bWJlcn0gSW50ZWdlciwgMCB0byBNQVggaW5jbHVzaXZlLlxuICAgICAgICAgICAgLy8gJ2NvbmZpZygpIERFQ0lNQUxfUExBQ0VTIG5vdCBhbiBpbnRlZ2VyOiB7dn0nXG4gICAgICAgICAgICAvLyAnY29uZmlnKCkgREVDSU1BTF9QTEFDRVMgb3V0IG9mIHJhbmdlOiB7dn0nXG4gICAgICAgICAgICBpZiAoIGhhcyggcCA9ICdERUNJTUFMX1BMQUNFUycgKSAmJiBpc1ZhbGlkSW50KCB2LCAwLCBNQVgsIDIsIHAgKSApIHtcbiAgICAgICAgICAgICAgICBERUNJTUFMX1BMQUNFUyA9IHYgfCAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcltwXSA9IERFQ0lNQUxfUExBQ0VTO1xuXG4gICAgICAgICAgICAvLyBST1VORElOR19NT0RFIHtudW1iZXJ9IEludGVnZXIsIDAgdG8gOCBpbmNsdXNpdmUuXG4gICAgICAgICAgICAvLyAnY29uZmlnKCkgUk9VTkRJTkdfTU9ERSBub3QgYW4gaW50ZWdlcjoge3Z9J1xuICAgICAgICAgICAgLy8gJ2NvbmZpZygpIFJPVU5ESU5HX01PREUgb3V0IG9mIHJhbmdlOiB7dn0nXG4gICAgICAgICAgICBpZiAoIGhhcyggcCA9ICdST1VORElOR19NT0RFJyApICYmIGlzVmFsaWRJbnQoIHYsIDAsIDgsIDIsIHAgKSApIHtcbiAgICAgICAgICAgICAgICBST1VORElOR19NT0RFID0gdiB8IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByW3BdID0gUk9VTkRJTkdfTU9ERTtcblxuICAgICAgICAgICAgLy8gRVhQT05FTlRJQUxfQVQge251bWJlcnxudW1iZXJbXX1cbiAgICAgICAgICAgIC8vIEludGVnZXIsIC1NQVggdG8gTUFYIGluY2x1c2l2ZSBvciBbaW50ZWdlciAtTUFYIHRvIDAgaW5jbHVzaXZlLCAwIHRvIE1BWCBpbmNsdXNpdmVdLlxuICAgICAgICAgICAgLy8gJ2NvbmZpZygpIEVYUE9ORU5USUFMX0FUIG5vdCBhbiBpbnRlZ2VyOiB7dn0nXG4gICAgICAgICAgICAvLyAnY29uZmlnKCkgRVhQT05FTlRJQUxfQVQgb3V0IG9mIHJhbmdlOiB7dn0nXG4gICAgICAgICAgICBpZiAoIGhhcyggcCA9ICdFWFBPTkVOVElBTF9BVCcgKSApIHtcblxuICAgICAgICAgICAgICAgIGlmICggaXNBcnJheSh2KSApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCBpc1ZhbGlkSW50KCB2WzBdLCAtTUFYLCAwLCAyLCBwICkgJiYgaXNWYWxpZEludCggdlsxXSwgMCwgTUFYLCAyLCBwICkgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBUT19FWFBfTkVHID0gdlswXSB8IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBUT19FWFBfUE9TID0gdlsxXSB8IDA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCBpc1ZhbGlkSW50KCB2LCAtTUFYLCBNQVgsIDIsIHAgKSApIHtcbiAgICAgICAgICAgICAgICAgICAgVE9fRVhQX05FRyA9IC0oIFRPX0VYUF9QT1MgPSAoIHYgPCAwID8gLXYgOiB2ICkgfCAwICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcltwXSA9IFsgVE9fRVhQX05FRywgVE9fRVhQX1BPUyBdO1xuXG4gICAgICAgICAgICAvLyBSQU5HRSB7bnVtYmVyfG51bWJlcltdfSBOb24temVybyBpbnRlZ2VyLCAtTUFYIHRvIE1BWCBpbmNsdXNpdmUgb3JcbiAgICAgICAgICAgIC8vIFtpbnRlZ2VyIC1NQVggdG8gLTEgaW5jbHVzaXZlLCBpbnRlZ2VyIDEgdG8gTUFYIGluY2x1c2l2ZV0uXG4gICAgICAgICAgICAvLyAnY29uZmlnKCkgUkFOR0Ugbm90IGFuIGludGVnZXI6IHt2fSdcbiAgICAgICAgICAgIC8vICdjb25maWcoKSBSQU5HRSBjYW5ub3QgYmUgemVybzoge3Z9J1xuICAgICAgICAgICAgLy8gJ2NvbmZpZygpIFJBTkdFIG91dCBvZiByYW5nZToge3Z9J1xuICAgICAgICAgICAgaWYgKCBoYXMoIHAgPSAnUkFOR0UnICkgKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoIGlzQXJyYXkodikgKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICggaXNWYWxpZEludCggdlswXSwgLU1BWCwgLTEsIDIsIHAgKSAmJiBpc1ZhbGlkSW50KCB2WzFdLCAxLCBNQVgsIDIsIHAgKSApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIE1JTl9FWFAgPSB2WzBdIHwgMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIE1BWF9FWFAgPSB2WzFdIHwgMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIGlzVmFsaWRJbnQoIHYsIC1NQVgsIE1BWCwgMiwgcCApICkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIHYgfCAwICkgTUlOX0VYUCA9IC0oIE1BWF9FWFAgPSAoIHYgPCAwID8gLXYgOiB2ICkgfCAwICk7XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKEVSUk9SUykgcmFpc2UoIDIsIHAgKyAnIGNhbm5vdCBiZSB6ZXJvJywgdiApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJbcF0gPSBbIE1JTl9FWFAsIE1BWF9FWFAgXTtcblxuICAgICAgICAgICAgLy8gRVJST1JTIHtib29sZWFufG51bWJlcn0gdHJ1ZSwgZmFsc2UsIDEgb3IgMC5cbiAgICAgICAgICAgIC8vICdjb25maWcoKSBFUlJPUlMgbm90IGEgYm9vbGVhbiBvciBiaW5hcnkgZGlnaXQ6IHt2fSdcbiAgICAgICAgICAgIGlmICggaGFzKCBwID0gJ0VSUk9SUycgKSApIHtcblxuICAgICAgICAgICAgICAgIGlmICggdiA9PT0gISF2IHx8IHYgPT09IDEgfHwgdiA9PT0gMCApIHtcbiAgICAgICAgICAgICAgICAgICAgaWQgPSAwO1xuICAgICAgICAgICAgICAgICAgICBpc1ZhbGlkSW50ID0gKCBFUlJPUlMgPSAhIXYgKSA/IGludFZhbGlkYXRvcldpdGhFcnJvcnMgOiBpbnRWYWxpZGF0b3JOb0Vycm9ycztcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKEVSUk9SUykge1xuICAgICAgICAgICAgICAgICAgICByYWlzZSggMiwgcCArIG5vdEJvb2wsIHYgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByW3BdID0gRVJST1JTO1xuXG4gICAgICAgICAgICAvLyBDUllQVE8ge2Jvb2xlYW58bnVtYmVyfSB0cnVlLCBmYWxzZSwgMSBvciAwLlxuICAgICAgICAgICAgLy8gJ2NvbmZpZygpIENSWVBUTyBub3QgYSBib29sZWFuIG9yIGJpbmFyeSBkaWdpdDoge3Z9J1xuICAgICAgICAgICAgLy8gJ2NvbmZpZygpIGNyeXB0byB1bmF2YWlsYWJsZToge2NyeXB0b30nXG4gICAgICAgICAgICBpZiAoIGhhcyggcCA9ICdDUllQVE8nICkgKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoIHYgPT09ICEhdiB8fCB2ID09PSAxIHx8IHYgPT09IDAgKSB7XG4gICAgICAgICAgICAgICAgICAgIENSWVBUTyA9ICEhKCB2ICYmIGNyeXB0byAmJiB0eXBlb2YgY3J5cHRvID09ICdvYmplY3QnICk7XG4gICAgICAgICAgICAgICAgICAgIGlmICggdiAmJiAhQ1JZUFRPICYmIEVSUk9SUyApIHJhaXNlKCAyLCAnY3J5cHRvIHVuYXZhaWxhYmxlJywgY3J5cHRvICk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChFUlJPUlMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmFpc2UoIDIsIHAgKyBub3RCb29sLCB2ICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcltwXSA9IENSWVBUTztcblxuICAgICAgICAgICAgLy8gTU9EVUxPX01PREUge251bWJlcn0gSW50ZWdlciwgMCB0byA5IGluY2x1c2l2ZS5cbiAgICAgICAgICAgIC8vICdjb25maWcoKSBNT0RVTE9fTU9ERSBub3QgYW4gaW50ZWdlcjoge3Z9J1xuICAgICAgICAgICAgLy8gJ2NvbmZpZygpIE1PRFVMT19NT0RFIG91dCBvZiByYW5nZToge3Z9J1xuICAgICAgICAgICAgaWYgKCBoYXMoIHAgPSAnTU9EVUxPX01PREUnICkgJiYgaXNWYWxpZEludCggdiwgMCwgOSwgMiwgcCApICkge1xuICAgICAgICAgICAgICAgIE1PRFVMT19NT0RFID0gdiB8IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByW3BdID0gTU9EVUxPX01PREU7XG5cbiAgICAgICAgICAgIC8vIFBPV19QUkVDSVNJT04ge251bWJlcn0gSW50ZWdlciwgMCB0byBNQVggaW5jbHVzaXZlLlxuICAgICAgICAgICAgLy8gJ2NvbmZpZygpIFBPV19QUkVDSVNJT04gbm90IGFuIGludGVnZXI6IHt2fSdcbiAgICAgICAgICAgIC8vICdjb25maWcoKSBQT1dfUFJFQ0lTSU9OIG91dCBvZiByYW5nZToge3Z9J1xuICAgICAgICAgICAgaWYgKCBoYXMoIHAgPSAnUE9XX1BSRUNJU0lPTicgKSAmJiBpc1ZhbGlkSW50KCB2LCAwLCBNQVgsIDIsIHAgKSApIHtcbiAgICAgICAgICAgICAgICBQT1dfUFJFQ0lTSU9OID0gdiB8IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByW3BdID0gUE9XX1BSRUNJU0lPTjtcblxuICAgICAgICAgICAgLy8gRk9STUFUIHtvYmplY3R9XG4gICAgICAgICAgICAvLyAnY29uZmlnKCkgRk9STUFUIG5vdCBhbiBvYmplY3Q6IHt2fSdcbiAgICAgICAgICAgIGlmICggaGFzKCBwID0gJ0ZPUk1BVCcgKSApIHtcblxuICAgICAgICAgICAgICAgIGlmICggdHlwZW9mIHYgPT0gJ29iamVjdCcgKSB7XG4gICAgICAgICAgICAgICAgICAgIEZPUk1BVCA9IHY7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChFUlJPUlMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmFpc2UoIDIsIHAgKyAnIG5vdCBhbiBvYmplY3QnLCB2ICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcltwXSA9IEZPUk1BVDtcblxuICAgICAgICAgICAgcmV0dXJuIHI7XG4gICAgICAgIH07XG5cblxuICAgICAgICAvKlxuICAgICAgICAgKiBSZXR1cm4gYSBuZXcgQmlnTnVtYmVyIHdob3NlIHZhbHVlIGlzIHRoZSBtYXhpbXVtIG9mIHRoZSBhcmd1bWVudHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIGFyZ3VtZW50cyB7bnVtYmVyfHN0cmluZ3xCaWdOdW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBCaWdOdW1iZXIubWF4ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gbWF4T3JNaW4oIGFyZ3VtZW50cywgUC5sdCApOyB9O1xuXG5cbiAgICAgICAgLypcbiAgICAgICAgICogUmV0dXJuIGEgbmV3IEJpZ051bWJlciB3aG9zZSB2YWx1ZSBpcyB0aGUgbWluaW11bSBvZiB0aGUgYXJndW1lbnRzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBhcmd1bWVudHMge251bWJlcnxzdHJpbmd8QmlnTnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgQmlnTnVtYmVyLm1pbiA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG1heE9yTWluKCBhcmd1bWVudHMsIFAuZ3QgKTsgfTtcblxuXG4gICAgICAgIC8qXG4gICAgICAgICAqIFJldHVybiBhIG5ldyBCaWdOdW1iZXIgd2l0aCBhIHJhbmRvbSB2YWx1ZSBlcXVhbCB0byBvciBncmVhdGVyIHRoYW4gMCBhbmQgbGVzcyB0aGFuIDEsXG4gICAgICAgICAqIGFuZCB3aXRoIGRwLCBvciBERUNJTUFMX1BMQUNFUyBpZiBkcCBpcyBvbWl0dGVkLCBkZWNpbWFsIHBsYWNlcyAob3IgbGVzcyBpZiB0cmFpbGluZ1xuICAgICAgICAgKiB6ZXJvcyBhcmUgcHJvZHVjZWQpLlxuICAgICAgICAgKlxuICAgICAgICAgKiBbZHBdIHtudW1iZXJ9IERlY2ltYWwgcGxhY2VzLiBJbnRlZ2VyLCAwIHRvIE1BWCBpbmNsdXNpdmUuXG4gICAgICAgICAqXG4gICAgICAgICAqICdyYW5kb20oKSBkZWNpbWFsIHBsYWNlcyBub3QgYW4gaW50ZWdlcjoge2RwfSdcbiAgICAgICAgICogJ3JhbmRvbSgpIGRlY2ltYWwgcGxhY2VzIG91dCBvZiByYW5nZToge2RwfSdcbiAgICAgICAgICogJ3JhbmRvbSgpIGNyeXB0byB1bmF2YWlsYWJsZToge2NyeXB0b30nXG4gICAgICAgICAqL1xuICAgICAgICBCaWdOdW1iZXIucmFuZG9tID0gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBwb3cyXzUzID0gMHgyMDAwMDAwMDAwMDAwMDtcblxuICAgICAgICAgICAgLy8gUmV0dXJuIGEgNTMgYml0IGludGVnZXIgbiwgd2hlcmUgMCA8PSBuIDwgOTAwNzE5OTI1NDc0MDk5Mi5cbiAgICAgICAgICAgIC8vIENoZWNrIGlmIE1hdGgucmFuZG9tKCkgcHJvZHVjZXMgbW9yZSB0aGFuIDMyIGJpdHMgb2YgcmFuZG9tbmVzcy5cbiAgICAgICAgICAgIC8vIElmIGl0IGRvZXMsIGFzc3VtZSBhdCBsZWFzdCA1MyBiaXRzIGFyZSBwcm9kdWNlZCwgb3RoZXJ3aXNlIGFzc3VtZSBhdCBsZWFzdCAzMCBiaXRzLlxuICAgICAgICAgICAgLy8gMHg0MDAwMDAwMCBpcyAyXjMwLCAweDgwMDAwMCBpcyAyXjIzLCAweDFmZmZmZiBpcyAyXjIxIC0gMS5cbiAgICAgICAgICAgIHZhciByYW5kb201M2JpdEludCA9IChNYXRoLnJhbmRvbSgpICogcG93Ml81MykgJiAweDFmZmZmZlxuICAgICAgICAgICAgICA/IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG1hdGhmbG9vciggTWF0aC5yYW5kb20oKSAqIHBvdzJfNTMgKTsgfVxuICAgICAgICAgICAgICA6IGZ1bmN0aW9uICgpIHsgcmV0dXJuICgoTWF0aC5yYW5kb20oKSAqIDB4NDAwMDAwMDAgfCAwKSAqIDB4ODAwMDAwKSArXG4gICAgICAgICAgICAgICAgICAoTWF0aC5yYW5kb20oKSAqIDB4ODAwMDAwIHwgMCk7IH07XG5cbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoZHApIHtcbiAgICAgICAgICAgICAgICB2YXIgYSwgYiwgZSwgaywgdixcbiAgICAgICAgICAgICAgICAgICAgaSA9IDAsXG4gICAgICAgICAgICAgICAgICAgIGMgPSBbXSxcbiAgICAgICAgICAgICAgICAgICAgcmFuZCA9IG5ldyBCaWdOdW1iZXIoT05FKTtcblxuICAgICAgICAgICAgICAgIGRwID0gZHAgPT0gbnVsbCB8fCAhaXNWYWxpZEludCggZHAsIDAsIE1BWCwgMTQgKSA/IERFQ0lNQUxfUExBQ0VTIDogZHAgfCAwO1xuICAgICAgICAgICAgICAgIGsgPSBtYXRoY2VpbCggZHAgLyBMT0dfQkFTRSApO1xuXG4gICAgICAgICAgICAgICAgaWYgKENSWVBUTykge1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIEJyb3dzZXJzIHN1cHBvcnRpbmcgY3J5cHRvLmdldFJhbmRvbVZhbHVlcy5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCBjcnlwdG8gJiYgY3J5cHRvLmdldFJhbmRvbVZhbHVlcyApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgYSA9IGNyeXB0by5nZXRSYW5kb21WYWx1ZXMoIG5ldyBVaW50MzJBcnJheSggayAqPSAyICkgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICggOyBpIDwgazsgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA1MyBiaXRzOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICgoTWF0aC5wb3coMiwgMzIpIC0gMSkgKiBNYXRoLnBvdygyLCAyMSkpLnRvU3RyaW5nKDIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gMTExMTEgMTExMTExMTEgMTExMTExMTEgMTExMTExMTEgMTExMDAwMDAgMDAwMDAwMDAgMDAwMDAwMDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAoKE1hdGgucG93KDIsIDMyKSAtIDEpID4+PiAxMSkudG9TdHJpbmcoMilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAxMTExMSAxMTExMTExMSAxMTExMTExMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDB4MjAwMDAgaXMgMl4yMS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2ID0gYVtpXSAqIDB4MjAwMDAgKyAoYVtpICsgMV0gPj4+IDExKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlamVjdGlvbiBzYW1wbGluZzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAwIDw9IHYgPCA5MDA3MTk5MjU0NzQwOTkyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUHJvYmFiaWxpdHkgdGhhdCB2ID49IDllMTUsIGlzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gNzE5OTI1NDc0MDk5MiAvIDkwMDcxOTkyNTQ3NDA5OTIgfj0gMC4wMDA4LCBpLmUuIDEgaW4gMTI1MVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggdiA+PSA5ZTE1ICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiID0gY3J5cHRvLmdldFJhbmRvbVZhbHVlcyggbmV3IFVpbnQzMkFycmF5KDIpICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFbaV0gPSBiWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhW2kgKyAxXSA9IGJbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAwIDw9IHYgPD0gODk5OTk5OTk5OTk5OTk5OVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAwIDw9ICh2ICUgMWUxNCkgPD0gOTk5OTk5OTk5OTk5OTlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYy5wdXNoKCB2ICUgMWUxNCApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpICs9IDI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaSA9IGsgLyAyO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIE5vZGUuanMgc3VwcG9ydGluZyBjcnlwdG8ucmFuZG9tQnl0ZXMuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIGNyeXB0byAmJiBjcnlwdG8ucmFuZG9tQnl0ZXMgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGJ1ZmZlclxuICAgICAgICAgICAgICAgICAgICAgICAgYSA9IGNyeXB0by5yYW5kb21CeXRlcyggayAqPSA3ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoIDsgaSA8IGs7ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gMHgxMDAwMDAwMDAwMDAwIGlzIDJeNDgsIDB4MTAwMDAwMDAwMDAgaXMgMl40MFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDB4MTAwMDAwMDAwIGlzIDJeMzIsIDB4MTAwMDAwMCBpcyAyXjI0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gMTExMTEgMTExMTExMTEgMTExMTExMTEgMTExMTExMTEgMTExMTExMTEgMTExMTExMTEgMTExMTExMTFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAwIDw9IHYgPCA5MDA3MTk5MjU0NzQwOTkyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdiA9ICggKCBhW2ldICYgMzEgKSAqIDB4MTAwMDAwMDAwMDAwMCApICsgKCBhW2kgKyAxXSAqIDB4MTAwMDAwMDAwMDAgKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKCBhW2kgKyAyXSAqIDB4MTAwMDAwMDAwICkgKyAoIGFbaSArIDNdICogMHgxMDAwMDAwICkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICggYVtpICsgNF0gPDwgMTYgKSArICggYVtpICsgNV0gPDwgOCApICsgYVtpICsgNl07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIHYgPj0gOWUxNSApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3J5cHRvLnJhbmRvbUJ5dGVzKDcpLmNvcHkoIGEsIGkgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDAgPD0gKHYgJSAxZTE0KSA8PSA5OTk5OTk5OTk5OTk5OVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjLnB1c2goIHYgJSAxZTE0ICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgKz0gNztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpID0gayAvIDc7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoRVJST1JTKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByYWlzZSggMTQsICdjcnlwdG8gdW5hdmFpbGFibGUnLCBjcnlwdG8gKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIFVzZSBNYXRoLnJhbmRvbTogQ1JZUFRPIGlzIGZhbHNlIG9yIGNyeXB0byBpcyB1bmF2YWlsYWJsZSBhbmQgRVJST1JTIGlzIGZhbHNlLlxuICAgICAgICAgICAgICAgIGlmICghaSkge1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAoIDsgaSA8IGs7ICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdiA9IHJhbmRvbTUzYml0SW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIHYgPCA5ZTE1ICkgY1tpKytdID0gdiAlIDFlMTQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBrID0gY1stLWldO1xuICAgICAgICAgICAgICAgIGRwICU9IExPR19CQVNFO1xuXG4gICAgICAgICAgICAgICAgLy8gQ29udmVydCB0cmFpbGluZyBkaWdpdHMgdG8gemVyb3MgYWNjb3JkaW5nIHRvIGRwLlxuICAgICAgICAgICAgICAgIGlmICggayAmJiBkcCApIHtcbiAgICAgICAgICAgICAgICAgICAgdiA9IFBPV1NfVEVOW0xPR19CQVNFIC0gZHBdO1xuICAgICAgICAgICAgICAgICAgICBjW2ldID0gbWF0aGZsb29yKCBrIC8gdiApICogdjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBSZW1vdmUgdHJhaWxpbmcgZWxlbWVudHMgd2hpY2ggYXJlIHplcm8uXG4gICAgICAgICAgICAgICAgZm9yICggOyBjW2ldID09PSAwOyBjLnBvcCgpLCBpLS0gKTtcblxuICAgICAgICAgICAgICAgIC8vIFplcm8/XG4gICAgICAgICAgICAgICAgaWYgKCBpIDwgMCApIHtcbiAgICAgICAgICAgICAgICAgICAgYyA9IFsgZSA9IDAgXTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBsZWFkaW5nIGVsZW1lbnRzIHdoaWNoIGFyZSB6ZXJvIGFuZCBhZGp1c3QgZXhwb25lbnQgYWNjb3JkaW5nbHkuXG4gICAgICAgICAgICAgICAgICAgIGZvciAoIGUgPSAtMSA7IGNbMF0gPT09IDA7IGMuc2hpZnQoKSwgZSAtPSBMT0dfQkFTRSk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ291bnQgdGhlIGRpZ2l0cyBvZiB0aGUgZmlyc3QgZWxlbWVudCBvZiBjIHRvIGRldGVybWluZSBsZWFkaW5nIHplcm9zLCBhbmQuLi5cbiAgICAgICAgICAgICAgICAgICAgZm9yICggaSA9IDEsIHYgPSBjWzBdOyB2ID49IDEwOyB2IC89IDEwLCBpKyspO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGFkanVzdCB0aGUgZXhwb25lbnQgYWNjb3JkaW5nbHkuXG4gICAgICAgICAgICAgICAgICAgIGlmICggaSA8IExPR19CQVNFICkgZSAtPSBMT0dfQkFTRSAtIGk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmFuZC5lID0gZTtcbiAgICAgICAgICAgICAgICByYW5kLmMgPSBjO1xuICAgICAgICAgICAgICAgIHJldHVybiByYW5kO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSkoKTtcblxuXG4gICAgICAgIC8vIFBSSVZBVEUgRlVOQ1RJT05TXG5cblxuICAgICAgICAvLyBDb252ZXJ0IGEgbnVtZXJpYyBzdHJpbmcgb2YgYmFzZUluIHRvIGEgbnVtZXJpYyBzdHJpbmcgb2YgYmFzZU91dC5cbiAgICAgICAgZnVuY3Rpb24gY29udmVydEJhc2UoIHN0ciwgYmFzZU91dCwgYmFzZUluLCBzaWduICkge1xuICAgICAgICAgICAgdmFyIGQsIGUsIGssIHIsIHgsIHhjLCB5LFxuICAgICAgICAgICAgICAgIGkgPSBzdHIuaW5kZXhPZiggJy4nICksXG4gICAgICAgICAgICAgICAgZHAgPSBERUNJTUFMX1BMQUNFUyxcbiAgICAgICAgICAgICAgICBybSA9IFJPVU5ESU5HX01PREU7XG5cbiAgICAgICAgICAgIGlmICggYmFzZUluIDwgMzcgKSBzdHIgPSBzdHIudG9Mb3dlckNhc2UoKTtcblxuICAgICAgICAgICAgLy8gTm9uLWludGVnZXIuXG4gICAgICAgICAgICBpZiAoIGkgPj0gMCApIHtcbiAgICAgICAgICAgICAgICBrID0gUE9XX1BSRUNJU0lPTjtcblxuICAgICAgICAgICAgICAgIC8vIFVubGltaXRlZCBwcmVjaXNpb24uXG4gICAgICAgICAgICAgICAgUE9XX1BSRUNJU0lPTiA9IDA7XG4gICAgICAgICAgICAgICAgc3RyID0gc3RyLnJlcGxhY2UoICcuJywgJycgKTtcbiAgICAgICAgICAgICAgICB5ID0gbmV3IEJpZ051bWJlcihiYXNlSW4pO1xuICAgICAgICAgICAgICAgIHggPSB5LnBvdyggc3RyLmxlbmd0aCAtIGkgKTtcbiAgICAgICAgICAgICAgICBQT1dfUFJFQ0lTSU9OID0gaztcblxuICAgICAgICAgICAgICAgIC8vIENvbnZlcnQgc3RyIGFzIGlmIGFuIGludGVnZXIsIHRoZW4gcmVzdG9yZSB0aGUgZnJhY3Rpb24gcGFydCBieSBkaXZpZGluZyB0aGVcbiAgICAgICAgICAgICAgICAvLyByZXN1bHQgYnkgaXRzIGJhc2UgcmFpc2VkIHRvIGEgcG93ZXIuXG4gICAgICAgICAgICAgICAgeS5jID0gdG9CYXNlT3V0KCB0b0ZpeGVkUG9pbnQoIGNvZWZmVG9TdHJpbmcoIHguYyApLCB4LmUgKSwgMTAsIGJhc2VPdXQgKTtcbiAgICAgICAgICAgICAgICB5LmUgPSB5LmMubGVuZ3RoO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDb252ZXJ0IHRoZSBudW1iZXIgYXMgaW50ZWdlci5cbiAgICAgICAgICAgIHhjID0gdG9CYXNlT3V0KCBzdHIsIGJhc2VJbiwgYmFzZU91dCApO1xuICAgICAgICAgICAgZSA9IGsgPSB4Yy5sZW5ndGg7XG5cbiAgICAgICAgICAgIC8vIFJlbW92ZSB0cmFpbGluZyB6ZXJvcy5cbiAgICAgICAgICAgIGZvciAoIDsgeGNbLS1rXSA9PSAwOyB4Yy5wb3AoKSApO1xuICAgICAgICAgICAgaWYgKCAheGNbMF0gKSByZXR1cm4gJzAnO1xuXG4gICAgICAgICAgICBpZiAoIGkgPCAwICkge1xuICAgICAgICAgICAgICAgIC0tZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgeC5jID0geGM7XG4gICAgICAgICAgICAgICAgeC5lID0gZTtcblxuICAgICAgICAgICAgICAgIC8vIHNpZ24gaXMgbmVlZGVkIGZvciBjb3JyZWN0IHJvdW5kaW5nLlxuICAgICAgICAgICAgICAgIHgucyA9IHNpZ247XG4gICAgICAgICAgICAgICAgeCA9IGRpdiggeCwgeSwgZHAsIHJtLCBiYXNlT3V0ICk7XG4gICAgICAgICAgICAgICAgeGMgPSB4LmM7XG4gICAgICAgICAgICAgICAgciA9IHgucjtcbiAgICAgICAgICAgICAgICBlID0geC5lO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkID0gZSArIGRwICsgMTtcblxuICAgICAgICAgICAgLy8gVGhlIHJvdW5kaW5nIGRpZ2l0LCBpLmUuIHRoZSBkaWdpdCB0byB0aGUgcmlnaHQgb2YgdGhlIGRpZ2l0IHRoYXQgbWF5IGJlIHJvdW5kZWQgdXAuXG4gICAgICAgICAgICBpID0geGNbZF07XG4gICAgICAgICAgICBrID0gYmFzZU91dCAvIDI7XG4gICAgICAgICAgICByID0gciB8fCBkIDwgMCB8fCB4Y1tkICsgMV0gIT0gbnVsbDtcblxuICAgICAgICAgICAgciA9IHJtIDwgNCA/ICggaSAhPSBudWxsIHx8IHIgKSAmJiAoIHJtID09IDAgfHwgcm0gPT0gKCB4LnMgPCAwID8gMyA6IDIgKSApXG4gICAgICAgICAgICAgICAgICAgICAgIDogaSA+IGsgfHwgaSA9PSBrICYmKCBybSA9PSA0IHx8IHIgfHwgcm0gPT0gNiAmJiB4Y1tkIC0gMV0gJiAxIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgcm0gPT0gKCB4LnMgPCAwID8gOCA6IDcgKSApO1xuXG4gICAgICAgICAgICBpZiAoIGQgPCAxIHx8ICF4Y1swXSApIHtcblxuICAgICAgICAgICAgICAgIC8vIDFeLWRwIG9yIDAuXG4gICAgICAgICAgICAgICAgc3RyID0gciA/IHRvRml4ZWRQb2ludCggJzEnLCAtZHAgKSA6ICcwJztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgeGMubGVuZ3RoID0gZDtcblxuICAgICAgICAgICAgICAgIGlmIChyKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gUm91bmRpbmcgdXAgbWF5IG1lYW4gdGhlIHByZXZpb3VzIGRpZ2l0IGhhcyB0byBiZSByb3VuZGVkIHVwIGFuZCBzbyBvbi5cbiAgICAgICAgICAgICAgICAgICAgZm9yICggLS1iYXNlT3V0OyArK3hjWy0tZF0gPiBiYXNlT3V0OyApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHhjW2RdID0gMDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCAhZCApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICArK2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeGMudW5zaGlmdCgxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIERldGVybWluZSB0cmFpbGluZyB6ZXJvcy5cbiAgICAgICAgICAgICAgICBmb3IgKCBrID0geGMubGVuZ3RoOyAheGNbLS1rXTsgKTtcblxuICAgICAgICAgICAgICAgIC8vIEUuZy4gWzQsIDExLCAxNV0gYmVjb21lcyA0YmYuXG4gICAgICAgICAgICAgICAgZm9yICggaSA9IDAsIHN0ciA9ICcnOyBpIDw9IGs7IHN0ciArPSBBTFBIQUJFVC5jaGFyQXQoIHhjW2krK10gKSApO1xuICAgICAgICAgICAgICAgIHN0ciA9IHRvRml4ZWRQb2ludCggc3RyLCBlICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFRoZSBjYWxsZXIgd2lsbCBhZGQgdGhlIHNpZ24uXG4gICAgICAgICAgICByZXR1cm4gc3RyO1xuICAgICAgICB9XG5cblxuICAgICAgICAvLyBQZXJmb3JtIGRpdmlzaW9uIGluIHRoZSBzcGVjaWZpZWQgYmFzZS4gQ2FsbGVkIGJ5IGRpdiBhbmQgY29udmVydEJhc2UuXG4gICAgICAgIGRpdiA9IChmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIC8vIEFzc3VtZSBub24temVybyB4IGFuZCBrLlxuICAgICAgICAgICAgZnVuY3Rpb24gbXVsdGlwbHkoIHgsIGssIGJhc2UgKSB7XG4gICAgICAgICAgICAgICAgdmFyIG0sIHRlbXAsIHhsbywgeGhpLFxuICAgICAgICAgICAgICAgICAgICBjYXJyeSA9IDAsXG4gICAgICAgICAgICAgICAgICAgIGkgPSB4Lmxlbmd0aCxcbiAgICAgICAgICAgICAgICAgICAga2xvID0gayAlIFNRUlRfQkFTRSxcbiAgICAgICAgICAgICAgICAgICAga2hpID0gayAvIFNRUlRfQkFTRSB8IDA7XG5cbiAgICAgICAgICAgICAgICBmb3IgKCB4ID0geC5zbGljZSgpOyBpLS07ICkge1xuICAgICAgICAgICAgICAgICAgICB4bG8gPSB4W2ldICUgU1FSVF9CQVNFO1xuICAgICAgICAgICAgICAgICAgICB4aGkgPSB4W2ldIC8gU1FSVF9CQVNFIHwgMDtcbiAgICAgICAgICAgICAgICAgICAgbSA9IGtoaSAqIHhsbyArIHhoaSAqIGtsbztcbiAgICAgICAgICAgICAgICAgICAgdGVtcCA9IGtsbyAqIHhsbyArICggKCBtICUgU1FSVF9CQVNFICkgKiBTUVJUX0JBU0UgKSArIGNhcnJ5O1xuICAgICAgICAgICAgICAgICAgICBjYXJyeSA9ICggdGVtcCAvIGJhc2UgfCAwICkgKyAoIG0gLyBTUVJUX0JBU0UgfCAwICkgKyBraGkgKiB4aGk7XG4gICAgICAgICAgICAgICAgICAgIHhbaV0gPSB0ZW1wICUgYmFzZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoY2FycnkpIHgudW5zaGlmdChjYXJyeSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4geDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gY29tcGFyZSggYSwgYiwgYUwsIGJMICkge1xuICAgICAgICAgICAgICAgIHZhciBpLCBjbXA7XG5cbiAgICAgICAgICAgICAgICBpZiAoIGFMICE9IGJMICkge1xuICAgICAgICAgICAgICAgICAgICBjbXAgPSBhTCA+IGJMID8gMSA6IC0xO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yICggaSA9IGNtcCA9IDA7IGkgPCBhTDsgaSsrICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIGFbaV0gIT0gYltpXSApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbXAgPSBhW2ldID4gYltpXSA/IDEgOiAtMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gY21wO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBzdWJ0cmFjdCggYSwgYiwgYUwsIGJhc2UgKSB7XG4gICAgICAgICAgICAgICAgdmFyIGkgPSAwO1xuXG4gICAgICAgICAgICAgICAgLy8gU3VidHJhY3QgYiBmcm9tIGEuXG4gICAgICAgICAgICAgICAgZm9yICggOyBhTC0tOyApIHtcbiAgICAgICAgICAgICAgICAgICAgYVthTF0gLT0gaTtcbiAgICAgICAgICAgICAgICAgICAgaSA9IGFbYUxdIDwgYlthTF0gPyAxIDogMDtcbiAgICAgICAgICAgICAgICAgICAgYVthTF0gPSBpICogYmFzZSArIGFbYUxdIC0gYlthTF07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gUmVtb3ZlIGxlYWRpbmcgemVyb3MuXG4gICAgICAgICAgICAgICAgZm9yICggOyAhYVswXSAmJiBhLmxlbmd0aCA+IDE7IGEuc2hpZnQoKSApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyB4OiBkaXZpZGVuZCwgeTogZGl2aXNvci5cbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoIHgsIHksIGRwLCBybSwgYmFzZSApIHtcbiAgICAgICAgICAgICAgICB2YXIgY21wLCBlLCBpLCBtb3JlLCBuLCBwcm9kLCBwcm9kTCwgcSwgcWMsIHJlbSwgcmVtTCwgcmVtMCwgeGksIHhMLCB5YzAsXG4gICAgICAgICAgICAgICAgICAgIHlMLCB5eixcbiAgICAgICAgICAgICAgICAgICAgcyA9IHgucyA9PSB5LnMgPyAxIDogLTEsXG4gICAgICAgICAgICAgICAgICAgIHhjID0geC5jLFxuICAgICAgICAgICAgICAgICAgICB5YyA9IHkuYztcblxuICAgICAgICAgICAgICAgIC8vIEVpdGhlciBOYU4sIEluZmluaXR5IG9yIDA/XG4gICAgICAgICAgICAgICAgaWYgKCAheGMgfHwgIXhjWzBdIHx8ICF5YyB8fCAheWNbMF0gKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBCaWdOdW1iZXIoXG5cbiAgICAgICAgICAgICAgICAgICAgICAvLyBSZXR1cm4gTmFOIGlmIGVpdGhlciBOYU4sIG9yIGJvdGggSW5maW5pdHkgb3IgMC5cbiAgICAgICAgICAgICAgICAgICAgICAheC5zIHx8ICF5LnMgfHwgKCB4YyA/IHljICYmIHhjWzBdID09IHljWzBdIDogIXljICkgPyBOYU4gOlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZXR1cm4gwrEwIGlmIHggaXMgwrEwIG9yIHkgaXMgwrFJbmZpbml0eSwgb3IgcmV0dXJuIMKxSW5maW5pdHkgYXMgeSBpcyDCsTAuXG4gICAgICAgICAgICAgICAgICAgICAgICB4YyAmJiB4Y1swXSA9PSAwIHx8ICF5YyA/IHMgKiAwIDogcyAvIDBcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBxID0gbmV3IEJpZ051bWJlcihzKTtcbiAgICAgICAgICAgICAgICBxYyA9IHEuYyA9IFtdO1xuICAgICAgICAgICAgICAgIGUgPSB4LmUgLSB5LmU7XG4gICAgICAgICAgICAgICAgcyA9IGRwICsgZSArIDE7XG5cbiAgICAgICAgICAgICAgICBpZiAoICFiYXNlICkge1xuICAgICAgICAgICAgICAgICAgICBiYXNlID0gQkFTRTtcbiAgICAgICAgICAgICAgICAgICAgZSA9IGJpdEZsb29yKCB4LmUgLyBMT0dfQkFTRSApIC0gYml0Rmxvb3IoIHkuZSAvIExPR19CQVNFICk7XG4gICAgICAgICAgICAgICAgICAgIHMgPSBzIC8gTE9HX0JBU0UgfCAwO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIFJlc3VsdCBleHBvbmVudCBtYXkgYmUgb25lIGxlc3MgdGhlbiB0aGUgY3VycmVudCB2YWx1ZSBvZiBlLlxuICAgICAgICAgICAgICAgIC8vIFRoZSBjb2VmZmljaWVudHMgb2YgdGhlIEJpZ051bWJlcnMgZnJvbSBjb252ZXJ0QmFzZSBtYXkgaGF2ZSB0cmFpbGluZyB6ZXJvcy5cbiAgICAgICAgICAgICAgICBmb3IgKCBpID0gMDsgeWNbaV0gPT0gKCB4Y1tpXSB8fCAwICk7IGkrKyApO1xuICAgICAgICAgICAgICAgIGlmICggeWNbaV0gPiAoIHhjW2ldIHx8IDAgKSApIGUtLTtcblxuICAgICAgICAgICAgICAgIGlmICggcyA8IDAgKSB7XG4gICAgICAgICAgICAgICAgICAgIHFjLnB1c2goMSk7XG4gICAgICAgICAgICAgICAgICAgIG1vcmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHhMID0geGMubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICB5TCA9IHljLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgaSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHMgKz0gMjtcblxuICAgICAgICAgICAgICAgICAgICAvLyBOb3JtYWxpc2UgeGMgYW5kIHljIHNvIGhpZ2hlc3Qgb3JkZXIgZGlnaXQgb2YgeWMgaXMgPj0gYmFzZSAvIDIuXG5cbiAgICAgICAgICAgICAgICAgICAgbiA9IG1hdGhmbG9vciggYmFzZSAvICggeWNbMF0gKyAxICkgKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBOb3QgbmVjZXNzYXJ5LCBidXQgdG8gaGFuZGxlIG9kZCBiYXNlcyB3aGVyZSB5Y1swXSA9PSAoIGJhc2UgLyAyICkgLSAxLlxuICAgICAgICAgICAgICAgICAgICAvLyBpZiAoIG4gPiAxIHx8IG4rKyA9PSAxICYmIHljWzBdIDwgYmFzZSAvIDIgKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICggbiA+IDEgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB5YyA9IG11bHRpcGx5KCB5YywgbiwgYmFzZSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgeGMgPSBtdWx0aXBseSggeGMsIG4sIGJhc2UgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHlMID0geWMubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgeEwgPSB4Yy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB4aSA9IHlMO1xuICAgICAgICAgICAgICAgICAgICByZW0gPSB4Yy5zbGljZSggMCwgeUwgKTtcbiAgICAgICAgICAgICAgICAgICAgcmVtTCA9IHJlbS5sZW5ndGg7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQWRkIHplcm9zIHRvIG1ha2UgcmVtYWluZGVyIGFzIGxvbmcgYXMgZGl2aXNvci5cbiAgICAgICAgICAgICAgICAgICAgZm9yICggOyByZW1MIDwgeUw7IHJlbVtyZW1MKytdID0gMCApO1xuICAgICAgICAgICAgICAgICAgICB5eiA9IHljLnNsaWNlKCk7XG4gICAgICAgICAgICAgICAgICAgIHl6LnVuc2hpZnQoMCk7XG4gICAgICAgICAgICAgICAgICAgIHljMCA9IHljWzBdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIHljWzFdID49IGJhc2UgLyAyICkgeWMwKys7XG4gICAgICAgICAgICAgICAgICAgIC8vIE5vdCBuZWNlc3NhcnksIGJ1dCB0byBwcmV2ZW50IHRyaWFsIGRpZ2l0IG4gPiBiYXNlLCB3aGVuIHVzaW5nIGJhc2UgMy5cbiAgICAgICAgICAgICAgICAgICAgLy8gZWxzZSBpZiAoIGJhc2UgPT0gMyAmJiB5YzAgPT0gMSApIHljMCA9IDEgKyAxZS0xNTtcblxuICAgICAgICAgICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuID0gMDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29tcGFyZSBkaXZpc29yIGFuZCByZW1haW5kZXIuXG4gICAgICAgICAgICAgICAgICAgICAgICBjbXAgPSBjb21wYXJlKCB5YywgcmVtLCB5TCwgcmVtTCApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBkaXZpc29yIDwgcmVtYWluZGVyLlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBjbXAgPCAwICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIHRyaWFsIGRpZ2l0LCBuLlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtMCA9IHJlbVswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIHlMICE9IHJlbUwgKSByZW0wID0gcmVtMCAqIGJhc2UgKyAoIHJlbVsxXSB8fCAwICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBuIGlzIGhvdyBtYW55IHRpbWVzIHRoZSBkaXZpc29yIGdvZXMgaW50byB0aGUgY3VycmVudCByZW1haW5kZXIuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbiA9IG1hdGhmbG9vciggcmVtMCAvIHljMCApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gIEFsZ29yaXRobTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgMS4gcHJvZHVjdCA9IGRpdmlzb3IgKiB0cmlhbCBkaWdpdCAobilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgMi4gaWYgcHJvZHVjdCA+IHJlbWFpbmRlcjogcHJvZHVjdCAtPSBkaXZpc29yLCBuLS1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgMy4gcmVtYWluZGVyIC09IHByb2R1Y3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgNC4gaWYgcHJvZHVjdCB3YXMgPCByZW1haW5kZXIgYXQgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICA1LiBjb21wYXJlIG5ldyByZW1haW5kZXIgYW5kIGRpdmlzb3JcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICA2LiBJZiByZW1haW5kZXIgPiBkaXZpc29yOiByZW1haW5kZXIgLT0gZGl2aXNvciwgbisrXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIG4gPiAxICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG4gbWF5IGJlID4gYmFzZSBvbmx5IHdoZW4gYmFzZSBpcyAzLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobiA+PSBiYXNlKSBuID0gYmFzZSAtIDE7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcHJvZHVjdCA9IGRpdmlzb3IgKiB0cmlhbCBkaWdpdC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZCA9IG11bHRpcGx5KCB5YywgbiwgYmFzZSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9kTCA9IHByb2QubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1MID0gcmVtLmxlbmd0aDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDb21wYXJlIHByb2R1Y3QgYW5kIHJlbWFpbmRlci5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgcHJvZHVjdCA+IHJlbWFpbmRlci5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVHJpYWwgZGlnaXQgbiB0b28gaGlnaC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbiBpcyAxIHRvbyBoaWdoIGFib3V0IDUlIG9mIHRoZSB0aW1lLCBhbmQgaXMgbm90IGtub3duIHRvIGhhdmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXZlciBiZWVuIG1vcmUgdGhhbiAxIHRvbyBoaWdoLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoIGNvbXBhcmUoIHByb2QsIHJlbSwgcHJvZEwsIHJlbUwgKSA9PSAxICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbi0tO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTdWJ0cmFjdCBkaXZpc29yIGZyb20gcHJvZHVjdC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRyYWN0KCBwcm9kLCB5TCA8IHByb2RMID8geXogOiB5YywgcHJvZEwsIGJhc2UgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2RMID0gcHJvZC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbXAgPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBuIGlzIDAgb3IgMSwgY21wIGlzIC0xLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBuIGlzIDAsIHRoZXJlIGlzIG5vIG5lZWQgdG8gY29tcGFyZSB5YyBhbmQgcmVtIGFnYWluIGJlbG93LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzbyBjaGFuZ2UgY21wIHRvIDEgdG8gYXZvaWQgaXQuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIG4gaXMgMSwgbGVhdmUgY21wIGFzIC0xLCBzbyB5YyBhbmQgcmVtIGFyZSBjb21wYXJlZCBhZ2Fpbi5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBuID09IDAgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRpdmlzb3IgPCByZW1haW5kZXIsIHNvIG4gbXVzdCBiZSBhdCBsZWFzdCAxLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY21wID0gbiA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBwcm9kdWN0ID0gZGl2aXNvclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9kID0geWMuc2xpY2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZEwgPSBwcm9kLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIHByb2RMIDwgcmVtTCApIHByb2QudW5zaGlmdCgwKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN1YnRyYWN0IHByb2R1Y3QgZnJvbSByZW1haW5kZXIuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VidHJhY3QoIHJlbSwgcHJvZCwgcmVtTCwgYmFzZSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbUwgPSByZW0ubGVuZ3RoO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHByb2R1Y3Qgd2FzIDwgcmVtYWluZGVyLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggY21wID09IC0xICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvbXBhcmUgZGl2aXNvciBhbmQgbmV3IHJlbWFpbmRlci5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgZGl2aXNvciA8IG5ldyByZW1haW5kZXIsIHN1YnRyYWN0IGRpdmlzb3IgZnJvbSByZW1haW5kZXIuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRyaWFsIGRpZ2l0IG4gdG9vIGxvdy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbiBpcyAxIHRvbyBsb3cgYWJvdXQgNSUgb2YgdGhlIHRpbWUsIGFuZCB2ZXJ5IHJhcmVseSAyIHRvbyBsb3cuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICggY29tcGFyZSggeWMsIHJlbSwgeUwsIHJlbUwgKSA8IDEgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuKys7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN1YnRyYWN0IGRpdmlzb3IgZnJvbSByZW1haW5kZXIuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJ0cmFjdCggcmVtLCB5TCA8IHJlbUwgPyB5eiA6IHljLCByZW1MLCBiYXNlICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1MID0gcmVtLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIGNtcCA9PT0gMCApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuKys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtID0gWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSAvLyBlbHNlIGNtcCA9PT0gMSBhbmQgbiB3aWxsIGJlIDBcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWRkIHRoZSBuZXh0IGRpZ2l0LCBuLCB0byB0aGUgcmVzdWx0IGFycmF5LlxuICAgICAgICAgICAgICAgICAgICAgICAgcWNbaSsrXSA9IG47XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgcmVtYWluZGVyLlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCByZW1bMF0gKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtW3JlbUwrK10gPSB4Y1t4aV0gfHwgMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtID0gWyB4Y1t4aV0gXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1MID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSB3aGlsZSAoICggeGkrKyA8IHhMIHx8IHJlbVswXSAhPSBudWxsICkgJiYgcy0tICk7XG5cbiAgICAgICAgICAgICAgICAgICAgbW9yZSA9IHJlbVswXSAhPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIExlYWRpbmcgemVybz9cbiAgICAgICAgICAgICAgICAgICAgaWYgKCAhcWNbMF0gKSBxYy5zaGlmdCgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICggYmFzZSA9PSBCQVNFICkge1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFRvIGNhbGN1bGF0ZSBxLmUsIGZpcnN0IGdldCB0aGUgbnVtYmVyIG9mIGRpZ2l0cyBvZiBxY1swXS5cbiAgICAgICAgICAgICAgICAgICAgZm9yICggaSA9IDEsIHMgPSBxY1swXTsgcyA+PSAxMDsgcyAvPSAxMCwgaSsrICk7XG4gICAgICAgICAgICAgICAgICAgIHJvdW5kKCBxLCBkcCArICggcS5lID0gaSArIGUgKiBMT0dfQkFTRSAtIDEgKSArIDEsIHJtLCBtb3JlICk7XG5cbiAgICAgICAgICAgICAgICAvLyBDYWxsZXIgaXMgY29udmVydEJhc2UuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcS5lID0gZTtcbiAgICAgICAgICAgICAgICAgICAgcS5yID0gK21vcmU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHE7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KSgpO1xuXG5cbiAgICAgICAgLypcbiAgICAgICAgICogUmV0dXJuIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgdmFsdWUgb2YgQmlnTnVtYmVyIG4gaW4gZml4ZWQtcG9pbnQgb3IgZXhwb25lbnRpYWxcbiAgICAgICAgICogbm90YXRpb24gcm91bmRlZCB0byB0aGUgc3BlY2lmaWVkIGRlY2ltYWwgcGxhY2VzIG9yIHNpZ25pZmljYW50IGRpZ2l0cy5cbiAgICAgICAgICpcbiAgICAgICAgICogbiBpcyBhIEJpZ051bWJlci5cbiAgICAgICAgICogaSBpcyB0aGUgaW5kZXggb2YgdGhlIGxhc3QgZGlnaXQgcmVxdWlyZWQgKGkuZS4gdGhlIGRpZ2l0IHRoYXQgbWF5IGJlIHJvdW5kZWQgdXApLlxuICAgICAgICAgKiBybSBpcyB0aGUgcm91bmRpbmcgbW9kZS5cbiAgICAgICAgICogY2FsbGVyIGlzIGNhbGxlciBpZDogdG9FeHBvbmVudGlhbCAxOSwgdG9GaXhlZCAyMCwgdG9Gb3JtYXQgMjEsIHRvUHJlY2lzaW9uIDI0LlxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gZm9ybWF0KCBuLCBpLCBybSwgY2FsbGVyICkge1xuICAgICAgICAgICAgdmFyIGMwLCBlLCBuZSwgbGVuLCBzdHI7XG5cbiAgICAgICAgICAgIHJtID0gcm0gIT0gbnVsbCAmJiBpc1ZhbGlkSW50KCBybSwgMCwgOCwgY2FsbGVyLCByb3VuZGluZ01vZGUgKVxuICAgICAgICAgICAgICA/IHJtIHwgMCA6IFJPVU5ESU5HX01PREU7XG5cbiAgICAgICAgICAgIGlmICggIW4uYyApIHJldHVybiBuLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICBjMCA9IG4uY1swXTtcbiAgICAgICAgICAgIG5lID0gbi5lO1xuXG4gICAgICAgICAgICBpZiAoIGkgPT0gbnVsbCApIHtcbiAgICAgICAgICAgICAgICBzdHIgPSBjb2VmZlRvU3RyaW5nKCBuLmMgKTtcbiAgICAgICAgICAgICAgICBzdHIgPSBjYWxsZXIgPT0gMTkgfHwgY2FsbGVyID09IDI0ICYmIG5lIDw9IFRPX0VYUF9ORUdcbiAgICAgICAgICAgICAgICAgID8gdG9FeHBvbmVudGlhbCggc3RyLCBuZSApXG4gICAgICAgICAgICAgICAgICA6IHRvRml4ZWRQb2ludCggc3RyLCBuZSApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBuID0gcm91bmQoIG5ldyBCaWdOdW1iZXIobiksIGksIHJtICk7XG5cbiAgICAgICAgICAgICAgICAvLyBuLmUgbWF5IGhhdmUgY2hhbmdlZCBpZiB0aGUgdmFsdWUgd2FzIHJvdW5kZWQgdXAuXG4gICAgICAgICAgICAgICAgZSA9IG4uZTtcblxuICAgICAgICAgICAgICAgIHN0ciA9IGNvZWZmVG9TdHJpbmcoIG4uYyApO1xuICAgICAgICAgICAgICAgIGxlbiA9IHN0ci5sZW5ndGg7XG5cbiAgICAgICAgICAgICAgICAvLyB0b1ByZWNpc2lvbiByZXR1cm5zIGV4cG9uZW50aWFsIG5vdGF0aW9uIGlmIHRoZSBudW1iZXIgb2Ygc2lnbmlmaWNhbnQgZGlnaXRzXG4gICAgICAgICAgICAgICAgLy8gc3BlY2lmaWVkIGlzIGxlc3MgdGhhbiB0aGUgbnVtYmVyIG9mIGRpZ2l0cyBuZWNlc3NhcnkgdG8gcmVwcmVzZW50IHRoZSBpbnRlZ2VyXG4gICAgICAgICAgICAgICAgLy8gcGFydCBvZiB0aGUgdmFsdWUgaW4gZml4ZWQtcG9pbnQgbm90YXRpb24uXG5cbiAgICAgICAgICAgICAgICAvLyBFeHBvbmVudGlhbCBub3RhdGlvbi5cbiAgICAgICAgICAgICAgICBpZiAoIGNhbGxlciA9PSAxOSB8fCBjYWxsZXIgPT0gMjQgJiYgKCBpIDw9IGUgfHwgZSA8PSBUT19FWFBfTkVHICkgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQXBwZW5kIHplcm9zP1xuICAgICAgICAgICAgICAgICAgICBmb3IgKCA7IGxlbiA8IGk7IHN0ciArPSAnMCcsIGxlbisrICk7XG4gICAgICAgICAgICAgICAgICAgIHN0ciA9IHRvRXhwb25lbnRpYWwoIHN0ciwgZSApO1xuXG4gICAgICAgICAgICAgICAgLy8gRml4ZWQtcG9pbnQgbm90YXRpb24uXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaSAtPSBuZTtcbiAgICAgICAgICAgICAgICAgICAgc3RyID0gdG9GaXhlZFBvaW50KCBzdHIsIGUgKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBBcHBlbmQgemVyb3M/XG4gICAgICAgICAgICAgICAgICAgIGlmICggZSArIDEgPiBsZW4gKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIC0taSA+IDAgKSBmb3IgKCBzdHIgKz0gJy4nOyBpLS07IHN0ciArPSAnMCcgKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGkgKz0gZSAtIGxlbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggaSA+IDAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBlICsgMSA9PSBsZW4gKSBzdHIgKz0gJy4nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoIDsgaS0tOyBzdHIgKz0gJzAnICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBuLnMgPCAwICYmIGMwID8gJy0nICsgc3RyIDogc3RyO1xuICAgICAgICB9XG5cblxuICAgICAgICAvLyBIYW5kbGUgQmlnTnVtYmVyLm1heCBhbmQgQmlnTnVtYmVyLm1pbi5cbiAgICAgICAgZnVuY3Rpb24gbWF4T3JNaW4oIGFyZ3MsIG1ldGhvZCApIHtcbiAgICAgICAgICAgIHZhciBtLCBuLFxuICAgICAgICAgICAgICAgIGkgPSAwO1xuXG4gICAgICAgICAgICBpZiAoIGlzQXJyYXkoIGFyZ3NbMF0gKSApIGFyZ3MgPSBhcmdzWzBdO1xuICAgICAgICAgICAgbSA9IG5ldyBCaWdOdW1iZXIoIGFyZ3NbMF0gKTtcblxuICAgICAgICAgICAgZm9yICggOyArK2kgPCBhcmdzLmxlbmd0aDsgKSB7XG4gICAgICAgICAgICAgICAgbiA9IG5ldyBCaWdOdW1iZXIoIGFyZ3NbaV0gKTtcblxuICAgICAgICAgICAgICAgIC8vIElmIGFueSBudW1iZXIgaXMgTmFOLCByZXR1cm4gTmFOLlxuICAgICAgICAgICAgICAgIGlmICggIW4ucyApIHtcbiAgICAgICAgICAgICAgICAgICAgbSA9IG47XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIG1ldGhvZC5jYWxsKCBtLCBuICkgKSB7XG4gICAgICAgICAgICAgICAgICAgIG0gPSBuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG07XG4gICAgICAgIH1cblxuXG4gICAgICAgIC8qXG4gICAgICAgICAqIFJldHVybiB0cnVlIGlmIG4gaXMgYW4gaW50ZWdlciBpbiByYW5nZSwgb3RoZXJ3aXNlIHRocm93LlxuICAgICAgICAgKiBVc2UgZm9yIGFyZ3VtZW50IHZhbGlkYXRpb24gd2hlbiBFUlJPUlMgaXMgdHJ1ZS5cbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGludFZhbGlkYXRvcldpdGhFcnJvcnMoIG4sIG1pbiwgbWF4LCBjYWxsZXIsIG5hbWUgKSB7XG4gICAgICAgICAgICBpZiAoIG4gPCBtaW4gfHwgbiA+IG1heCB8fCBuICE9IHRydW5jYXRlKG4pICkge1xuICAgICAgICAgICAgICAgIHJhaXNlKCBjYWxsZXIsICggbmFtZSB8fCAnZGVjaW1hbCBwbGFjZXMnICkgK1xuICAgICAgICAgICAgICAgICAgKCBuIDwgbWluIHx8IG4gPiBtYXggPyAnIG91dCBvZiByYW5nZScgOiAnIG5vdCBhbiBpbnRlZ2VyJyApLCBuICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cblxuICAgICAgICAvKlxuICAgICAgICAgKiBTdHJpcCB0cmFpbGluZyB6ZXJvcywgY2FsY3VsYXRlIGJhc2UgMTAgZXhwb25lbnQgYW5kIGNoZWNrIGFnYWluc3QgTUlOX0VYUCBhbmQgTUFYX0VYUC5cbiAgICAgICAgICogQ2FsbGVkIGJ5IG1pbnVzLCBwbHVzIGFuZCB0aW1lcy5cbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIG5vcm1hbGlzZSggbiwgYywgZSApIHtcbiAgICAgICAgICAgIHZhciBpID0gMSxcbiAgICAgICAgICAgICAgICBqID0gYy5sZW5ndGg7XG5cbiAgICAgICAgICAgICAvLyBSZW1vdmUgdHJhaWxpbmcgemVyb3MuXG4gICAgICAgICAgICBmb3IgKCA7ICFjWy0tal07IGMucG9wKCkgKTtcblxuICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIHRoZSBiYXNlIDEwIGV4cG9uZW50LiBGaXJzdCBnZXQgdGhlIG51bWJlciBvZiBkaWdpdHMgb2YgY1swXS5cbiAgICAgICAgICAgIGZvciAoIGogPSBjWzBdOyBqID49IDEwOyBqIC89IDEwLCBpKysgKTtcblxuICAgICAgICAgICAgLy8gT3ZlcmZsb3c/XG4gICAgICAgICAgICBpZiAoICggZSA9IGkgKyBlICogTE9HX0JBU0UgLSAxICkgPiBNQVhfRVhQICkge1xuXG4gICAgICAgICAgICAgICAgLy8gSW5maW5pdHkuXG4gICAgICAgICAgICAgICAgbi5jID0gbi5lID0gbnVsbDtcblxuICAgICAgICAgICAgLy8gVW5kZXJmbG93P1xuICAgICAgICAgICAgfSBlbHNlIGlmICggZSA8IE1JTl9FWFAgKSB7XG5cbiAgICAgICAgICAgICAgICAvLyBaZXJvLlxuICAgICAgICAgICAgICAgIG4uYyA9IFsgbi5lID0gMCBdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBuLmUgPSBlO1xuICAgICAgICAgICAgICAgIG4uYyA9IGM7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBuO1xuICAgICAgICB9XG5cblxuICAgICAgICAvLyBIYW5kbGUgdmFsdWVzIHRoYXQgZmFpbCB0aGUgdmFsaWRpdHkgdGVzdCBpbiBCaWdOdW1iZXIuXG4gICAgICAgIHBhcnNlTnVtZXJpYyA9IChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgYmFzZVByZWZpeCA9IC9eKC0/KTAoW3hib10pL2ksXG4gICAgICAgICAgICAgICAgZG90QWZ0ZXIgPSAvXihbXi5dKylcXC4kLyxcbiAgICAgICAgICAgICAgICBkb3RCZWZvcmUgPSAvXlxcLihbXi5dKykkLyxcbiAgICAgICAgICAgICAgICBpc0luZmluaXR5T3JOYU4gPSAvXi0/KEluZmluaXR5fE5hTikkLyxcbiAgICAgICAgICAgICAgICB3aGl0ZXNwYWNlT3JQbHVzID0gL15cXHMqXFwrfF5cXHMrfFxccyskL2c7XG5cbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoIHgsIHN0ciwgbnVtLCBiICkge1xuICAgICAgICAgICAgICAgIHZhciBiYXNlLFxuICAgICAgICAgICAgICAgICAgICBzID0gbnVtID8gc3RyIDogc3RyLnJlcGxhY2UoIHdoaXRlc3BhY2VPclBsdXMsICcnICk7XG5cbiAgICAgICAgICAgICAgICAvLyBObyBleGNlcHRpb24gb24gwrFJbmZpbml0eSBvciBOYU4uXG4gICAgICAgICAgICAgICAgaWYgKCBpc0luZmluaXR5T3JOYU4udGVzdChzKSApIHtcbiAgICAgICAgICAgICAgICAgICAgeC5zID0gaXNOYU4ocykgPyBudWxsIDogcyA8IDAgPyAtMSA6IDE7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCAhbnVtICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBiYXNlUHJlZml4ID0gL14oLT8pMChbeGJvXSkoPz1cXHdbXFx3Ll0qJCkvaVxuICAgICAgICAgICAgICAgICAgICAgICAgcyA9IHMucmVwbGFjZSggYmFzZVByZWZpeCwgZnVuY3Rpb24gKCBtLCBwMSwgcDIgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZSA9ICggcDIgPSBwMi50b0xvd2VyQ2FzZSgpICkgPT0gJ3gnID8gMTYgOiBwMiA9PSAnYicgPyAyIDogODtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gIWIgfHwgYiA9PSBiYXNlID8gcDEgOiBtO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZSA9IGI7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBFLmcuICcxLicgdG8gJzEnLCAnLjEnIHRvICcwLjEnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcyA9IHMucmVwbGFjZSggZG90QWZ0ZXIsICckMScgKS5yZXBsYWNlKCBkb3RCZWZvcmUsICcwLiQxJyApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIHN0ciAhPSBzICkgcmV0dXJuIG5ldyBCaWdOdW1iZXIoIHMsIGJhc2UgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vICduZXcgQmlnTnVtYmVyKCkgbm90IGEgbnVtYmVyOiB7bn0nXG4gICAgICAgICAgICAgICAgICAgIC8vICduZXcgQmlnTnVtYmVyKCkgbm90IGEgYmFzZSB7Yn0gbnVtYmVyOiB7bn0nXG4gICAgICAgICAgICAgICAgICAgIGlmIChFUlJPUlMpIHJhaXNlKCBpZCwgJ25vdCBhJyArICggYiA/ICcgYmFzZSAnICsgYiA6ICcnICkgKyAnIG51bWJlcicsIHN0ciApO1xuICAgICAgICAgICAgICAgICAgICB4LnMgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHguYyA9IHguZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgaWQgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSgpO1xuXG5cbiAgICAgICAgLy8gVGhyb3cgYSBCaWdOdW1iZXIgRXJyb3IuXG4gICAgICAgIGZ1bmN0aW9uIHJhaXNlKCBjYWxsZXIsIG1zZywgdmFsICkge1xuICAgICAgICAgICAgdmFyIGVycm9yID0gbmV3IEVycm9yKCBbXG4gICAgICAgICAgICAgICAgJ25ldyBCaWdOdW1iZXInLCAgICAgLy8gMFxuICAgICAgICAgICAgICAgICdjbXAnLCAgICAgICAgICAgICAgIC8vIDFcbiAgICAgICAgICAgICAgICAnY29uZmlnJywgICAgICAgICAgICAvLyAyXG4gICAgICAgICAgICAgICAgJ2RpdicsICAgICAgICAgICAgICAgLy8gM1xuICAgICAgICAgICAgICAgICdkaXZUb0ludCcsICAgICAgICAgIC8vIDRcbiAgICAgICAgICAgICAgICAnZXEnLCAgICAgICAgICAgICAgICAvLyA1XG4gICAgICAgICAgICAgICAgJ2d0JywgICAgICAgICAgICAgICAgLy8gNlxuICAgICAgICAgICAgICAgICdndGUnLCAgICAgICAgICAgICAgIC8vIDdcbiAgICAgICAgICAgICAgICAnbHQnLCAgICAgICAgICAgICAgICAvLyA4XG4gICAgICAgICAgICAgICAgJ2x0ZScsICAgICAgICAgICAgICAgLy8gOVxuICAgICAgICAgICAgICAgICdtaW51cycsICAgICAgICAgICAgIC8vIDEwXG4gICAgICAgICAgICAgICAgJ21vZCcsICAgICAgICAgICAgICAgLy8gMTFcbiAgICAgICAgICAgICAgICAncGx1cycsICAgICAgICAgICAgICAvLyAxMlxuICAgICAgICAgICAgICAgICdwcmVjaXNpb24nLCAgICAgICAgIC8vIDEzXG4gICAgICAgICAgICAgICAgJ3JhbmRvbScsICAgICAgICAgICAgLy8gMTRcbiAgICAgICAgICAgICAgICAncm91bmQnLCAgICAgICAgICAgICAvLyAxNVxuICAgICAgICAgICAgICAgICdzaGlmdCcsICAgICAgICAgICAgIC8vIDE2XG4gICAgICAgICAgICAgICAgJ3RpbWVzJywgICAgICAgICAgICAgLy8gMTdcbiAgICAgICAgICAgICAgICAndG9EaWdpdHMnLCAgICAgICAgICAvLyAxOFxuICAgICAgICAgICAgICAgICd0b0V4cG9uZW50aWFsJywgICAgIC8vIDE5XG4gICAgICAgICAgICAgICAgJ3RvRml4ZWQnLCAgICAgICAgICAgLy8gMjBcbiAgICAgICAgICAgICAgICAndG9Gb3JtYXQnLCAgICAgICAgICAvLyAyMVxuICAgICAgICAgICAgICAgICd0b0ZyYWN0aW9uJywgICAgICAgIC8vIDIyXG4gICAgICAgICAgICAgICAgJ3BvdycsICAgICAgICAgICAgICAgLy8gMjNcbiAgICAgICAgICAgICAgICAndG9QcmVjaXNpb24nLCAgICAgICAvLyAyNFxuICAgICAgICAgICAgICAgICd0b1N0cmluZycsICAgICAgICAgIC8vIDI1XG4gICAgICAgICAgICAgICAgJ0JpZ051bWJlcicgICAgICAgICAgLy8gMjZcbiAgICAgICAgICAgIF1bY2FsbGVyXSArICcoKSAnICsgbXNnICsgJzogJyArIHZhbCApO1xuXG4gICAgICAgICAgICBlcnJvci5uYW1lID0gJ0JpZ051bWJlciBFcnJvcic7XG4gICAgICAgICAgICBpZCA9IDA7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgLypcbiAgICAgICAgICogUm91bmQgeCB0byBzZCBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBybS4gQ2hlY2sgZm9yIG92ZXIvdW5kZXItZmxvdy5cbiAgICAgICAgICogSWYgciBpcyB0cnV0aHksIGl0IGlzIGtub3duIHRoYXQgdGhlcmUgYXJlIG1vcmUgZGlnaXRzIGFmdGVyIHRoZSByb3VuZGluZyBkaWdpdC5cbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIHJvdW5kKCB4LCBzZCwgcm0sIHIgKSB7XG4gICAgICAgICAgICB2YXIgZCwgaSwgaiwgaywgbiwgbmksIHJkLFxuICAgICAgICAgICAgICAgIHhjID0geC5jLFxuICAgICAgICAgICAgICAgIHBvd3MxMCA9IFBPV1NfVEVOO1xuXG4gICAgICAgICAgICAvLyBpZiB4IGlzIG5vdCBJbmZpbml0eSBvciBOYU4uLi5cbiAgICAgICAgICAgIGlmICh4Yykge1xuXG4gICAgICAgICAgICAgICAgLy8gcmQgaXMgdGhlIHJvdW5kaW5nIGRpZ2l0LCBpLmUuIHRoZSBkaWdpdCBhZnRlciB0aGUgZGlnaXQgdGhhdCBtYXkgYmUgcm91bmRlZCB1cC5cbiAgICAgICAgICAgICAgICAvLyBuIGlzIGEgYmFzZSAxZTE0IG51bWJlciwgdGhlIHZhbHVlIG9mIHRoZSBlbGVtZW50IG9mIGFycmF5IHguYyBjb250YWluaW5nIHJkLlxuICAgICAgICAgICAgICAgIC8vIG5pIGlzIHRoZSBpbmRleCBvZiBuIHdpdGhpbiB4LmMuXG4gICAgICAgICAgICAgICAgLy8gZCBpcyB0aGUgbnVtYmVyIG9mIGRpZ2l0cyBvZiBuLlxuICAgICAgICAgICAgICAgIC8vIGkgaXMgdGhlIGluZGV4IG9mIHJkIHdpdGhpbiBuIGluY2x1ZGluZyBsZWFkaW5nIHplcm9zLlxuICAgICAgICAgICAgICAgIC8vIGogaXMgdGhlIGFjdHVhbCBpbmRleCBvZiByZCB3aXRoaW4gbiAoaWYgPCAwLCByZCBpcyBhIGxlYWRpbmcgemVybykuXG4gICAgICAgICAgICAgICAgb3V0OiB7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gR2V0IHRoZSBudW1iZXIgb2YgZGlnaXRzIG9mIHRoZSBmaXJzdCBlbGVtZW50IG9mIHhjLlxuICAgICAgICAgICAgICAgICAgICBmb3IgKCBkID0gMSwgayA9IHhjWzBdOyBrID49IDEwOyBrIC89IDEwLCBkKysgKTtcbiAgICAgICAgICAgICAgICAgICAgaSA9IHNkIC0gZDtcblxuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgcm91bmRpbmcgZGlnaXQgaXMgaW4gdGhlIGZpcnN0IGVsZW1lbnQgb2YgeGMuLi5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCBpIDwgMCApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGkgKz0gTE9HX0JBU0U7XG4gICAgICAgICAgICAgICAgICAgICAgICBqID0gc2Q7XG4gICAgICAgICAgICAgICAgICAgICAgICBuID0geGNbIG5pID0gMCBdO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBHZXQgdGhlIHJvdW5kaW5nIGRpZ2l0IGF0IGluZGV4IGogb2Ygbi5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJkID0gbiAvIHBvd3MxMFsgZCAtIGogLSAxIF0gJSAxMCB8IDA7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuaSA9IG1hdGhjZWlsKCAoIGkgKyAxICkgLyBMT0dfQkFTRSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIG5pID49IHhjLmxlbmd0aCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTmVlZGVkIGJ5IHNxcnQuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoIDsgeGMubGVuZ3RoIDw9IG5pOyB4Yy5wdXNoKDApICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG4gPSByZCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQgPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpICU9IExPR19CQVNFO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqID0gaSAtIExPR19CQVNFICsgMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhayBvdXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuID0gayA9IHhjW25pXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdldCB0aGUgbnVtYmVyIG9mIGRpZ2l0cyBvZiBuLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoIGQgPSAxOyBrID49IDEwOyBrIC89IDEwLCBkKysgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdldCB0aGUgaW5kZXggb2YgcmQgd2l0aGluIG4uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaSAlPSBMT0dfQkFTRTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdldCB0aGUgaW5kZXggb2YgcmQgd2l0aGluIG4sIGFkanVzdGVkIGZvciBsZWFkaW5nIHplcm9zLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSBudW1iZXIgb2YgbGVhZGluZyB6ZXJvcyBvZiBuIGlzIGdpdmVuIGJ5IExPR19CQVNFIC0gZC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqID0gaSAtIExPR19CQVNFICsgZDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdldCB0aGUgcm91bmRpbmcgZGlnaXQgYXQgaW5kZXggaiBvZiBuLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJkID0gaiA8IDAgPyAwIDogbiAvIHBvd3MxMFsgZCAtIGogLSAxIF0gJSAxMCB8IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByID0gciB8fCBzZCA8IDAgfHxcblxuICAgICAgICAgICAgICAgICAgICAvLyBBcmUgdGhlcmUgYW55IG5vbi16ZXJvIGRpZ2l0cyBhZnRlciB0aGUgcm91bmRpbmcgZGlnaXQ/XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSBleHByZXNzaW9uICBuICUgcG93czEwWyBkIC0gaiAtIDEgXSAgcmV0dXJucyBhbGwgZGlnaXRzIG9mIG4gdG8gdGhlIHJpZ2h0XG4gICAgICAgICAgICAgICAgICAgIC8vIG9mIHRoZSBkaWdpdCBhdCBqLCBlLmcuIGlmIG4gaXMgOTA4NzE0IGFuZCBqIGlzIDIsIHRoZSBleHByZXNzaW9uIGdpdmVzIDcxNC5cbiAgICAgICAgICAgICAgICAgICAgICB4Y1tuaSArIDFdICE9IG51bGwgfHwgKCBqIDwgMCA/IG4gOiBuICUgcG93czEwWyBkIC0gaiAtIDEgXSApO1xuXG4gICAgICAgICAgICAgICAgICAgIHIgPSBybSA8IDRcbiAgICAgICAgICAgICAgICAgICAgICA/ICggcmQgfHwgciApICYmICggcm0gPT0gMCB8fCBybSA9PSAoIHgucyA8IDAgPyAzIDogMiApIClcbiAgICAgICAgICAgICAgICAgICAgICA6IHJkID4gNSB8fCByZCA9PSA1ICYmICggcm0gPT0gNCB8fCByIHx8IHJtID09IDYgJiZcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgd2hldGhlciB0aGUgZGlnaXQgdG8gdGhlIGxlZnQgb2YgdGhlIHJvdW5kaW5nIGRpZ2l0IGlzIG9kZC5cbiAgICAgICAgICAgICAgICAgICAgICAgICggKCBpID4gMCA/IGogPiAwID8gbiAvIHBvd3MxMFsgZCAtIGogXSA6IDAgOiB4Y1tuaSAtIDFdICkgJSAxMCApICYgMSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICBybSA9PSAoIHgucyA8IDAgPyA4IDogNyApICk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCBzZCA8IDEgfHwgIXhjWzBdICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgeGMubGVuZ3RoID0gMDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHIpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvbnZlcnQgc2QgdG8gZGVjaW1hbCBwbGFjZXMuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2QgLT0geC5lICsgMTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDEsIDAuMSwgMC4wMSwgMC4wMDEsIDAuMDAwMSBldGMuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeGNbMF0gPSBwb3dzMTBbIHNkICUgTE9HX0JBU0UgXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4LmUgPSAtc2QgfHwgMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBaZXJvLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhjWzBdID0geC5lID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHg7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgZXhjZXNzIGRpZ2l0cy5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCBpID09IDAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB4Yy5sZW5ndGggPSBuaTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGsgPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmktLTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHhjLmxlbmd0aCA9IG5pICsgMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGsgPSBwb3dzMTBbIExPR19CQVNFIC0gaSBdO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBFLmcuIDU2NzAwIGJlY29tZXMgNTYwMDAgaWYgNyBpcyB0aGUgcm91bmRpbmcgZGlnaXQuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBqID4gMCBtZWFucyBpID4gbnVtYmVyIG9mIGxlYWRpbmcgemVyb3Mgb2Ygbi5cbiAgICAgICAgICAgICAgICAgICAgICAgIHhjW25pXSA9IGogPiAwID8gbWF0aGZsb29yKCBuIC8gcG93czEwWyBkIC0gaiBdICUgcG93czEwW2pdICkgKiBrIDogMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIFJvdW5kIHVwP1xuICAgICAgICAgICAgICAgICAgICBpZiAocikge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKCA7IDsgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgZGlnaXQgdG8gYmUgcm91bmRlZCB1cCBpcyBpbiB0aGUgZmlyc3QgZWxlbWVudCBvZiB4Yy4uLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggbmkgPT0gMCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpIHdpbGwgYmUgdGhlIGxlbmd0aCBvZiB4Y1swXSBiZWZvcmUgayBpcyBhZGRlZC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICggaSA9IDEsIGogPSB4Y1swXTsgaiA+PSAxMDsgaiAvPSAxMCwgaSsrICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGogPSB4Y1swXSArPSBrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKCBrID0gMTsgaiA+PSAxMDsgaiAvPSAxMCwgaysrICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgaSAhPSBrIHRoZSBsZW5ndGggaGFzIGluY3JlYXNlZC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBpICE9IGsgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4LmUrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggeGNbMF0gPT0gQkFTRSApIHhjWzBdID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhjW25pXSArPSBrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIHhjW25pXSAhPSBCQVNFICkgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhjW25pLS1dID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgayA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHRyYWlsaW5nIHplcm9zLlxuICAgICAgICAgICAgICAgICAgICBmb3IgKCBpID0geGMubGVuZ3RoOyB4Y1stLWldID09PSAwOyB4Yy5wb3AoKSApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIE92ZXJmbG93PyBJbmZpbml0eS5cbiAgICAgICAgICAgICAgICBpZiAoIHguZSA+IE1BWF9FWFAgKSB7XG4gICAgICAgICAgICAgICAgICAgIHguYyA9IHguZSA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICAvLyBVbmRlcmZsb3c/IFplcm8uXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICggeC5lIDwgTUlOX0VYUCApIHtcbiAgICAgICAgICAgICAgICAgICAgeC5jID0gWyB4LmUgPSAwIF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4geDtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgLy8gUFJPVE9UWVBFL0lOU1RBTkNFIE1FVEhPRFNcblxuXG4gICAgICAgIC8qXG4gICAgICAgICAqIFJldHVybiBhIG5ldyBCaWdOdW1iZXIgd2hvc2UgdmFsdWUgaXMgdGhlIGFic29sdXRlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyLlxuICAgICAgICAgKi9cbiAgICAgICAgUC5hYnNvbHV0ZVZhbHVlID0gUC5hYnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgeCA9IG5ldyBCaWdOdW1iZXIodGhpcyk7XG4gICAgICAgICAgICBpZiAoIHgucyA8IDAgKSB4LnMgPSAxO1xuICAgICAgICAgICAgcmV0dXJuIHg7XG4gICAgICAgIH07XG5cblxuICAgICAgICAvKlxuICAgICAgICAgKiBSZXR1cm4gYSBuZXcgQmlnTnVtYmVyIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciByb3VuZGVkIHRvIGEgd2hvbGVcbiAgICAgICAgICogbnVtYmVyIGluIHRoZSBkaXJlY3Rpb24gb2YgSW5maW5pdHkuXG4gICAgICAgICAqL1xuICAgICAgICBQLmNlaWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gcm91bmQoIG5ldyBCaWdOdW1iZXIodGhpcyksIHRoaXMuZSArIDEsIDIgKTtcbiAgICAgICAgfTtcblxuXG4gICAgICAgIC8qXG4gICAgICAgICAqIFJldHVyblxuICAgICAgICAgKiAxIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBpcyBncmVhdGVyIHRoYW4gdGhlIHZhbHVlIG9mIEJpZ051bWJlcih5LCBiKSxcbiAgICAgICAgICogLTEgaWYgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIGlzIGxlc3MgdGhhbiB0aGUgdmFsdWUgb2YgQmlnTnVtYmVyKHksIGIpLFxuICAgICAgICAgKiAwIGlmIHRoZXkgaGF2ZSB0aGUgc2FtZSB2YWx1ZSxcbiAgICAgICAgICogb3IgbnVsbCBpZiB0aGUgdmFsdWUgb2YgZWl0aGVyIGlzIE5hTi5cbiAgICAgICAgICovXG4gICAgICAgIFAuY29tcGFyZWRUbyA9IFAuY21wID0gZnVuY3Rpb24gKCB5LCBiICkge1xuICAgICAgICAgICAgaWQgPSAxO1xuICAgICAgICAgICAgcmV0dXJuIGNvbXBhcmUoIHRoaXMsIG5ldyBCaWdOdW1iZXIoIHksIGIgKSApO1xuICAgICAgICB9O1xuXG5cbiAgICAgICAgLypcbiAgICAgICAgICogUmV0dXJuIHRoZSBudW1iZXIgb2YgZGVjaW1hbCBwbGFjZXMgb2YgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyLCBvciBudWxsIGlmIHRoZSB2YWx1ZVxuICAgICAgICAgKiBvZiB0aGlzIEJpZ051bWJlciBpcyDCsUluZmluaXR5IG9yIE5hTi5cbiAgICAgICAgICovXG4gICAgICAgIFAuZGVjaW1hbFBsYWNlcyA9IFAuZHAgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgbiwgdixcbiAgICAgICAgICAgICAgICBjID0gdGhpcy5jO1xuXG4gICAgICAgICAgICBpZiAoICFjICkgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICBuID0gKCAoIHYgPSBjLmxlbmd0aCAtIDEgKSAtIGJpdEZsb29yKCB0aGlzLmUgLyBMT0dfQkFTRSApICkgKiBMT0dfQkFTRTtcblxuICAgICAgICAgICAgLy8gU3VidHJhY3QgdGhlIG51bWJlciBvZiB0cmFpbGluZyB6ZXJvcyBvZiB0aGUgbGFzdCBudW1iZXIuXG4gICAgICAgICAgICBpZiAoIHYgPSBjW3ZdICkgZm9yICggOyB2ICUgMTAgPT0gMDsgdiAvPSAxMCwgbi0tICk7XG4gICAgICAgICAgICBpZiAoIG4gPCAwICkgbiA9IDA7XG5cbiAgICAgICAgICAgIHJldHVybiBuO1xuICAgICAgICB9O1xuXG5cbiAgICAgICAgLypcbiAgICAgICAgICogIG4gLyAwID0gSVxuICAgICAgICAgKiAgbiAvIE4gPSBOXG4gICAgICAgICAqICBuIC8gSSA9IDBcbiAgICAgICAgICogIDAgLyBuID0gMFxuICAgICAgICAgKiAgMCAvIDAgPSBOXG4gICAgICAgICAqICAwIC8gTiA9IE5cbiAgICAgICAgICogIDAgLyBJID0gMFxuICAgICAgICAgKiAgTiAvIG4gPSBOXG4gICAgICAgICAqICBOIC8gMCA9IE5cbiAgICAgICAgICogIE4gLyBOID0gTlxuICAgICAgICAgKiAgTiAvIEkgPSBOXG4gICAgICAgICAqICBJIC8gbiA9IElcbiAgICAgICAgICogIEkgLyAwID0gSVxuICAgICAgICAgKiAgSSAvIE4gPSBOXG4gICAgICAgICAqICBJIC8gSSA9IE5cbiAgICAgICAgICpcbiAgICAgICAgICogUmV0dXJuIGEgbmV3IEJpZ051bWJlciB3aG9zZSB2YWx1ZSBpcyB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgZGl2aWRlZCBieSB0aGUgdmFsdWUgb2ZcbiAgICAgICAgICogQmlnTnVtYmVyKHksIGIpLCByb3VuZGVkIGFjY29yZGluZyB0byBERUNJTUFMX1BMQUNFUyBhbmQgUk9VTkRJTkdfTU9ERS5cbiAgICAgICAgICovXG4gICAgICAgIFAuZGl2aWRlZEJ5ID0gUC5kaXYgPSBmdW5jdGlvbiAoIHksIGIgKSB7XG4gICAgICAgICAgICBpZCA9IDM7XG4gICAgICAgICAgICByZXR1cm4gZGl2KCB0aGlzLCBuZXcgQmlnTnVtYmVyKCB5LCBiICksIERFQ0lNQUxfUExBQ0VTLCBST1VORElOR19NT0RFICk7XG4gICAgICAgIH07XG5cblxuICAgICAgICAvKlxuICAgICAgICAgKiBSZXR1cm4gYSBuZXcgQmlnTnVtYmVyIHdob3NlIHZhbHVlIGlzIHRoZSBpbnRlZ2VyIHBhcnQgb2YgZGl2aWRpbmcgdGhlIHZhbHVlIG9mIHRoaXNcbiAgICAgICAgICogQmlnTnVtYmVyIGJ5IHRoZSB2YWx1ZSBvZiBCaWdOdW1iZXIoeSwgYikuXG4gICAgICAgICAqL1xuICAgICAgICBQLmRpdmlkZWRUb0ludGVnZXJCeSA9IFAuZGl2VG9JbnQgPSBmdW5jdGlvbiAoIHksIGIgKSB7XG4gICAgICAgICAgICBpZCA9IDQ7XG4gICAgICAgICAgICByZXR1cm4gZGl2KCB0aGlzLCBuZXcgQmlnTnVtYmVyKCB5LCBiICksIDAsIDEgKTtcbiAgICAgICAgfTtcblxuXG4gICAgICAgIC8qXG4gICAgICAgICAqIFJldHVybiB0cnVlIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBpcyBlcXVhbCB0byB0aGUgdmFsdWUgb2YgQmlnTnVtYmVyKHksIGIpLFxuICAgICAgICAgKiBvdGhlcndpc2UgcmV0dXJucyBmYWxzZS5cbiAgICAgICAgICovXG4gICAgICAgIFAuZXF1YWxzID0gUC5lcSA9IGZ1bmN0aW9uICggeSwgYiApIHtcbiAgICAgICAgICAgIGlkID0gNTtcbiAgICAgICAgICAgIHJldHVybiBjb21wYXJlKCB0aGlzLCBuZXcgQmlnTnVtYmVyKCB5LCBiICkgKSA9PT0gMDtcbiAgICAgICAgfTtcblxuXG4gICAgICAgIC8qXG4gICAgICAgICAqIFJldHVybiBhIG5ldyBCaWdOdW1iZXIgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIHJvdW5kZWQgdG8gYSB3aG9sZVxuICAgICAgICAgKiBudW1iZXIgaW4gdGhlIGRpcmVjdGlvbiBvZiAtSW5maW5pdHkuXG4gICAgICAgICAqL1xuICAgICAgICBQLmZsb29yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHJvdW5kKCBuZXcgQmlnTnVtYmVyKHRoaXMpLCB0aGlzLmUgKyAxLCAzICk7XG4gICAgICAgIH07XG5cblxuICAgICAgICAvKlxuICAgICAgICAgKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgaXMgZ3JlYXRlciB0aGFuIHRoZSB2YWx1ZSBvZiBCaWdOdW1iZXIoeSwgYiksXG4gICAgICAgICAqIG90aGVyd2lzZSByZXR1cm5zIGZhbHNlLlxuICAgICAgICAgKi9cbiAgICAgICAgUC5ncmVhdGVyVGhhbiA9IFAuZ3QgPSBmdW5jdGlvbiAoIHksIGIgKSB7XG4gICAgICAgICAgICBpZCA9IDY7XG4gICAgICAgICAgICByZXR1cm4gY29tcGFyZSggdGhpcywgbmV3IEJpZ051bWJlciggeSwgYiApICkgPiAwO1xuICAgICAgICB9O1xuXG5cbiAgICAgICAgLypcbiAgICAgICAgICogUmV0dXJuIHRydWUgaWYgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIGlzIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byB0aGUgdmFsdWUgb2ZcbiAgICAgICAgICogQmlnTnVtYmVyKHksIGIpLCBvdGhlcndpc2UgcmV0dXJucyBmYWxzZS5cbiAgICAgICAgICovXG4gICAgICAgIFAuZ3JlYXRlclRoYW5PckVxdWFsVG8gPSBQLmd0ZSA9IGZ1bmN0aW9uICggeSwgYiApIHtcbiAgICAgICAgICAgIGlkID0gNztcbiAgICAgICAgICAgIHJldHVybiAoIGIgPSBjb21wYXJlKCB0aGlzLCBuZXcgQmlnTnVtYmVyKCB5LCBiICkgKSApID09PSAxIHx8IGIgPT09IDA7XG5cbiAgICAgICAgfTtcblxuXG4gICAgICAgIC8qXG4gICAgICAgICAqIFJldHVybiB0cnVlIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBpcyBhIGZpbml0ZSBudW1iZXIsIG90aGVyd2lzZSByZXR1cm5zIGZhbHNlLlxuICAgICAgICAgKi9cbiAgICAgICAgUC5pc0Zpbml0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAhIXRoaXMuYztcbiAgICAgICAgfTtcblxuXG4gICAgICAgIC8qXG4gICAgICAgICAqIFJldHVybiB0cnVlIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBpcyBhbiBpbnRlZ2VyLCBvdGhlcndpc2UgcmV0dXJuIGZhbHNlLlxuICAgICAgICAgKi9cbiAgICAgICAgUC5pc0ludGVnZXIgPSBQLmlzSW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuICEhdGhpcy5jICYmIGJpdEZsb29yKCB0aGlzLmUgLyBMT0dfQkFTRSApID4gdGhpcy5jLmxlbmd0aCAtIDI7XG4gICAgICAgIH07XG5cblxuICAgICAgICAvKlxuICAgICAgICAgKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgaXMgTmFOLCBvdGhlcndpc2UgcmV0dXJucyBmYWxzZS5cbiAgICAgICAgICovXG4gICAgICAgIFAuaXNOYU4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gIXRoaXMucztcbiAgICAgICAgfTtcblxuXG4gICAgICAgIC8qXG4gICAgICAgICAqIFJldHVybiB0cnVlIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBpcyBuZWdhdGl2ZSwgb3RoZXJ3aXNlIHJldHVybnMgZmFsc2UuXG4gICAgICAgICAqL1xuICAgICAgICBQLmlzTmVnYXRpdmUgPSBQLmlzTmVnID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucyA8IDA7XG4gICAgICAgIH07XG5cblxuICAgICAgICAvKlxuICAgICAgICAgKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgaXMgMCBvciAtMCwgb3RoZXJ3aXNlIHJldHVybnMgZmFsc2UuXG4gICAgICAgICAqL1xuICAgICAgICBQLmlzWmVybyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAhIXRoaXMuYyAmJiB0aGlzLmNbMF0gPT0gMDtcbiAgICAgICAgfTtcblxuXG4gICAgICAgIC8qXG4gICAgICAgICAqIFJldHVybiB0cnVlIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBpcyBsZXNzIHRoYW4gdGhlIHZhbHVlIG9mIEJpZ051bWJlcih5LCBiKSxcbiAgICAgICAgICogb3RoZXJ3aXNlIHJldHVybnMgZmFsc2UuXG4gICAgICAgICAqL1xuICAgICAgICBQLmxlc3NUaGFuID0gUC5sdCA9IGZ1bmN0aW9uICggeSwgYiApIHtcbiAgICAgICAgICAgIGlkID0gODtcbiAgICAgICAgICAgIHJldHVybiBjb21wYXJlKCB0aGlzLCBuZXcgQmlnTnVtYmVyKCB5LCBiICkgKSA8IDA7XG4gICAgICAgIH07XG5cblxuICAgICAgICAvKlxuICAgICAgICAgKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgaXMgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIHRoZSB2YWx1ZSBvZlxuICAgICAgICAgKiBCaWdOdW1iZXIoeSwgYiksIG90aGVyd2lzZSByZXR1cm5zIGZhbHNlLlxuICAgICAgICAgKi9cbiAgICAgICAgUC5sZXNzVGhhbk9yRXF1YWxUbyA9IFAubHRlID0gZnVuY3Rpb24gKCB5LCBiICkge1xuICAgICAgICAgICAgaWQgPSA5O1xuICAgICAgICAgICAgcmV0dXJuICggYiA9IGNvbXBhcmUoIHRoaXMsIG5ldyBCaWdOdW1iZXIoIHksIGIgKSApICkgPT09IC0xIHx8IGIgPT09IDA7XG4gICAgICAgIH07XG5cblxuICAgICAgICAvKlxuICAgICAgICAgKiAgbiAtIDAgPSBuXG4gICAgICAgICAqICBuIC0gTiA9IE5cbiAgICAgICAgICogIG4gLSBJID0gLUlcbiAgICAgICAgICogIDAgLSBuID0gLW5cbiAgICAgICAgICogIDAgLSAwID0gMFxuICAgICAgICAgKiAgMCAtIE4gPSBOXG4gICAgICAgICAqICAwIC0gSSA9IC1JXG4gICAgICAgICAqICBOIC0gbiA9IE5cbiAgICAgICAgICogIE4gLSAwID0gTlxuICAgICAgICAgKiAgTiAtIE4gPSBOXG4gICAgICAgICAqICBOIC0gSSA9IE5cbiAgICAgICAgICogIEkgLSBuID0gSVxuICAgICAgICAgKiAgSSAtIDAgPSBJXG4gICAgICAgICAqICBJIC0gTiA9IE5cbiAgICAgICAgICogIEkgLSBJID0gTlxuICAgICAgICAgKlxuICAgICAgICAgKiBSZXR1cm4gYSBuZXcgQmlnTnVtYmVyIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBtaW51cyB0aGUgdmFsdWUgb2ZcbiAgICAgICAgICogQmlnTnVtYmVyKHksIGIpLlxuICAgICAgICAgKi9cbiAgICAgICAgUC5taW51cyA9IFAuc3ViID0gZnVuY3Rpb24gKCB5LCBiICkge1xuICAgICAgICAgICAgdmFyIGksIGosIHQsIHhMVHksXG4gICAgICAgICAgICAgICAgeCA9IHRoaXMsXG4gICAgICAgICAgICAgICAgYSA9IHgucztcblxuICAgICAgICAgICAgaWQgPSAxMDtcbiAgICAgICAgICAgIHkgPSBuZXcgQmlnTnVtYmVyKCB5LCBiICk7XG4gICAgICAgICAgICBiID0geS5zO1xuXG4gICAgICAgICAgICAvLyBFaXRoZXIgTmFOP1xuICAgICAgICAgICAgaWYgKCAhYSB8fCAhYiApIHJldHVybiBuZXcgQmlnTnVtYmVyKE5hTik7XG5cbiAgICAgICAgICAgIC8vIFNpZ25zIGRpZmZlcj9cbiAgICAgICAgICAgIGlmICggYSAhPSBiICkge1xuICAgICAgICAgICAgICAgIHkucyA9IC1iO1xuICAgICAgICAgICAgICAgIHJldHVybiB4LnBsdXMoeSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciB4ZSA9IHguZSAvIExPR19CQVNFLFxuICAgICAgICAgICAgICAgIHllID0geS5lIC8gTE9HX0JBU0UsXG4gICAgICAgICAgICAgICAgeGMgPSB4LmMsXG4gICAgICAgICAgICAgICAgeWMgPSB5LmM7XG5cbiAgICAgICAgICAgIGlmICggIXhlIHx8ICF5ZSApIHtcblxuICAgICAgICAgICAgICAgIC8vIEVpdGhlciBJbmZpbml0eT9cbiAgICAgICAgICAgICAgICBpZiAoICF4YyB8fCAheWMgKSByZXR1cm4geGMgPyAoIHkucyA9IC1iLCB5ICkgOiBuZXcgQmlnTnVtYmVyKCB5YyA/IHggOiBOYU4gKTtcblxuICAgICAgICAgICAgICAgIC8vIEVpdGhlciB6ZXJvP1xuICAgICAgICAgICAgICAgIGlmICggIXhjWzBdIHx8ICF5Y1swXSApIHtcblxuICAgICAgICAgICAgICAgICAgICAvLyBSZXR1cm4geSBpZiB5IGlzIG5vbi16ZXJvLCB4IGlmIHggaXMgbm9uLXplcm8sIG9yIHplcm8gaWYgYm90aCBhcmUgemVyby5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHljWzBdID8gKCB5LnMgPSAtYiwgeSApIDogbmV3IEJpZ051bWJlciggeGNbMF0gPyB4IDpcblxuICAgICAgICAgICAgICAgICAgICAgIC8vIElFRUUgNzU0ICgyMDA4KSA2LjM6IG4gLSBuID0gLTAgd2hlbiByb3VuZGluZyB0byAtSW5maW5pdHlcbiAgICAgICAgICAgICAgICAgICAgICBST1VORElOR19NT0RFID09IDMgPyAtMCA6IDAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHhlID0gYml0Rmxvb3IoeGUpO1xuICAgICAgICAgICAgeWUgPSBiaXRGbG9vcih5ZSk7XG4gICAgICAgICAgICB4YyA9IHhjLnNsaWNlKCk7XG5cbiAgICAgICAgICAgIC8vIERldGVybWluZSB3aGljaCBpcyB0aGUgYmlnZ2VyIG51bWJlci5cbiAgICAgICAgICAgIGlmICggYSA9IHhlIC0geWUgKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoIHhMVHkgPSBhIDwgMCApIHtcbiAgICAgICAgICAgICAgICAgICAgYSA9IC1hO1xuICAgICAgICAgICAgICAgICAgICB0ID0geGM7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgeWUgPSB4ZTtcbiAgICAgICAgICAgICAgICAgICAgdCA9IHljO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHQucmV2ZXJzZSgpO1xuXG4gICAgICAgICAgICAgICAgLy8gUHJlcGVuZCB6ZXJvcyB0byBlcXVhbGlzZSBleHBvbmVudHMuXG4gICAgICAgICAgICAgICAgZm9yICggYiA9IGE7IGItLTsgdC5wdXNoKDApICk7XG4gICAgICAgICAgICAgICAgdC5yZXZlcnNlKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgLy8gRXhwb25lbnRzIGVxdWFsLiBDaGVjayBkaWdpdCBieSBkaWdpdC5cbiAgICAgICAgICAgICAgICBqID0gKCB4TFR5ID0gKCBhID0geGMubGVuZ3RoICkgPCAoIGIgPSB5Yy5sZW5ndGggKSApID8gYSA6IGI7XG5cbiAgICAgICAgICAgICAgICBmb3IgKCBhID0gYiA9IDA7IGIgPCBqOyBiKysgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCB4Y1tiXSAhPSB5Y1tiXSApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHhMVHkgPSB4Y1tiXSA8IHljW2JdO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHggPCB5PyBQb2ludCB4YyB0byB0aGUgYXJyYXkgb2YgdGhlIGJpZ2dlciBudW1iZXIuXG4gICAgICAgICAgICBpZiAoeExUeSkgdCA9IHhjLCB4YyA9IHljLCB5YyA9IHQsIHkucyA9IC15LnM7XG5cbiAgICAgICAgICAgIGIgPSAoIGogPSB5Yy5sZW5ndGggKSAtICggaSA9IHhjLmxlbmd0aCApO1xuXG4gICAgICAgICAgICAvLyBBcHBlbmQgemVyb3MgdG8geGMgaWYgc2hvcnRlci5cbiAgICAgICAgICAgIC8vIE5vIG5lZWQgdG8gYWRkIHplcm9zIHRvIHljIGlmIHNob3J0ZXIgYXMgc3VidHJhY3Qgb25seSBuZWVkcyB0byBzdGFydCBhdCB5Yy5sZW5ndGguXG4gICAgICAgICAgICBpZiAoIGIgPiAwICkgZm9yICggOyBiLS07IHhjW2krK10gPSAwICk7XG4gICAgICAgICAgICBiID0gQkFTRSAtIDE7XG5cbiAgICAgICAgICAgIC8vIFN1YnRyYWN0IHljIGZyb20geGMuXG4gICAgICAgICAgICBmb3IgKCA7IGogPiBhOyApIHtcblxuICAgICAgICAgICAgICAgIGlmICggeGNbLS1qXSA8IHljW2pdICkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKCBpID0gajsgaSAmJiAheGNbLS1pXTsgeGNbaV0gPSBiICk7XG4gICAgICAgICAgICAgICAgICAgIC0teGNbaV07XG4gICAgICAgICAgICAgICAgICAgIHhjW2pdICs9IEJBU0U7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgeGNbal0gLT0geWNbal07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFJlbW92ZSBsZWFkaW5nIHplcm9zIGFuZCBhZGp1c3QgZXhwb25lbnQgYWNjb3JkaW5nbHkuXG4gICAgICAgICAgICBmb3IgKCA7IHhjWzBdID09IDA7IHhjLnNoaWZ0KCksIC0teWUgKTtcblxuICAgICAgICAgICAgLy8gWmVybz9cbiAgICAgICAgICAgIGlmICggIXhjWzBdICkge1xuXG4gICAgICAgICAgICAgICAgLy8gRm9sbG93aW5nIElFRUUgNzU0ICgyMDA4KSA2LjMsXG4gICAgICAgICAgICAgICAgLy8gbiAtIG4gPSArMCAgYnV0ICBuIC0gbiA9IC0wICB3aGVuIHJvdW5kaW5nIHRvd2FyZHMgLUluZmluaXR5LlxuICAgICAgICAgICAgICAgIHkucyA9IFJPVU5ESU5HX01PREUgPT0gMyA/IC0xIDogMTtcbiAgICAgICAgICAgICAgICB5LmMgPSBbIHkuZSA9IDAgXTtcbiAgICAgICAgICAgICAgICByZXR1cm4geTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gTm8gbmVlZCB0byBjaGVjayBmb3IgSW5maW5pdHkgYXMgK3ggLSAreSAhPSBJbmZpbml0eSAmJiAteCAtIC15ICE9IEluZmluaXR5XG4gICAgICAgICAgICAvLyBmb3IgZmluaXRlIHggYW5kIHkuXG4gICAgICAgICAgICByZXR1cm4gbm9ybWFsaXNlKCB5LCB4YywgeWUgKTtcbiAgICAgICAgfTtcblxuXG4gICAgICAgIC8qXG4gICAgICAgICAqICAgbiAlIDAgPSAgTlxuICAgICAgICAgKiAgIG4gJSBOID0gIE5cbiAgICAgICAgICogICBuICUgSSA9ICBuXG4gICAgICAgICAqICAgMCAlIG4gPSAgMFxuICAgICAgICAgKiAgLTAgJSBuID0gLTBcbiAgICAgICAgICogICAwICUgMCA9ICBOXG4gICAgICAgICAqICAgMCAlIE4gPSAgTlxuICAgICAgICAgKiAgIDAgJSBJID0gIDBcbiAgICAgICAgICogICBOICUgbiA9ICBOXG4gICAgICAgICAqICAgTiAlIDAgPSAgTlxuICAgICAgICAgKiAgIE4gJSBOID0gIE5cbiAgICAgICAgICogICBOICUgSSA9ICBOXG4gICAgICAgICAqICAgSSAlIG4gPSAgTlxuICAgICAgICAgKiAgIEkgJSAwID0gIE5cbiAgICAgICAgICogICBJICUgTiA9ICBOXG4gICAgICAgICAqICAgSSAlIEkgPSAgTlxuICAgICAgICAgKlxuICAgICAgICAgKiBSZXR1cm4gYSBuZXcgQmlnTnVtYmVyIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBtb2R1bG8gdGhlIHZhbHVlIG9mXG4gICAgICAgICAqIEJpZ051bWJlcih5LCBiKS4gVGhlIHJlc3VsdCBkZXBlbmRzIG9uIHRoZSB2YWx1ZSBvZiBNT0RVTE9fTU9ERS5cbiAgICAgICAgICovXG4gICAgICAgIFAubW9kdWxvID0gUC5tb2QgPSBmdW5jdGlvbiAoIHksIGIgKSB7XG4gICAgICAgICAgICB2YXIgcSwgcyxcbiAgICAgICAgICAgICAgICB4ID0gdGhpcztcblxuICAgICAgICAgICAgaWQgPSAxMTtcbiAgICAgICAgICAgIHkgPSBuZXcgQmlnTnVtYmVyKCB5LCBiICk7XG5cbiAgICAgICAgICAgIC8vIFJldHVybiBOYU4gaWYgeCBpcyBJbmZpbml0eSBvciBOYU4sIG9yIHkgaXMgTmFOIG9yIHplcm8uXG4gICAgICAgICAgICBpZiAoICF4LmMgfHwgIXkucyB8fCB5LmMgJiYgIXkuY1swXSApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEJpZ051bWJlcihOYU4pO1xuXG4gICAgICAgICAgICAvLyBSZXR1cm4geCBpZiB5IGlzIEluZmluaXR5IG9yIHggaXMgemVyby5cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoICF5LmMgfHwgeC5jICYmICF4LmNbMF0gKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBCaWdOdW1iZXIoeCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICggTU9EVUxPX01PREUgPT0gOSApIHtcblxuICAgICAgICAgICAgICAgIC8vIEV1Y2xpZGlhbiBkaXZpc2lvbjogcSA9IHNpZ24oeSkgKiBmbG9vcih4IC8gYWJzKHkpKVxuICAgICAgICAgICAgICAgIC8vIHIgPSB4IC0gcXkgICAgd2hlcmUgIDAgPD0gciA8IGFicyh5KVxuICAgICAgICAgICAgICAgIHMgPSB5LnM7XG4gICAgICAgICAgICAgICAgeS5zID0gMTtcbiAgICAgICAgICAgICAgICBxID0gZGl2KCB4LCB5LCAwLCAzICk7XG4gICAgICAgICAgICAgICAgeS5zID0gcztcbiAgICAgICAgICAgICAgICBxLnMgKj0gcztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcSA9IGRpdiggeCwgeSwgMCwgTU9EVUxPX01PREUgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHgubWludXMoIHEudGltZXMoeSkgKTtcbiAgICAgICAgfTtcblxuXG4gICAgICAgIC8qXG4gICAgICAgICAqIFJldHVybiBhIG5ldyBCaWdOdW1iZXIgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIG5lZ2F0ZWQsXG4gICAgICAgICAqIGkuZS4gbXVsdGlwbGllZCBieSAtMS5cbiAgICAgICAgICovXG4gICAgICAgIFAubmVnYXRlZCA9IFAubmVnID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHggPSBuZXcgQmlnTnVtYmVyKHRoaXMpO1xuICAgICAgICAgICAgeC5zID0gLXgucyB8fCBudWxsO1xuICAgICAgICAgICAgcmV0dXJuIHg7XG4gICAgICAgIH07XG5cblxuICAgICAgICAvKlxuICAgICAgICAgKiAgbiArIDAgPSBuXG4gICAgICAgICAqICBuICsgTiA9IE5cbiAgICAgICAgICogIG4gKyBJID0gSVxuICAgICAgICAgKiAgMCArIG4gPSBuXG4gICAgICAgICAqICAwICsgMCA9IDBcbiAgICAgICAgICogIDAgKyBOID0gTlxuICAgICAgICAgKiAgMCArIEkgPSBJXG4gICAgICAgICAqICBOICsgbiA9IE5cbiAgICAgICAgICogIE4gKyAwID0gTlxuICAgICAgICAgKiAgTiArIE4gPSBOXG4gICAgICAgICAqICBOICsgSSA9IE5cbiAgICAgICAgICogIEkgKyBuID0gSVxuICAgICAgICAgKiAgSSArIDAgPSBJXG4gICAgICAgICAqICBJICsgTiA9IE5cbiAgICAgICAgICogIEkgKyBJID0gSVxuICAgICAgICAgKlxuICAgICAgICAgKiBSZXR1cm4gYSBuZXcgQmlnTnVtYmVyIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBwbHVzIHRoZSB2YWx1ZSBvZlxuICAgICAgICAgKiBCaWdOdW1iZXIoeSwgYikuXG4gICAgICAgICAqL1xuICAgICAgICBQLnBsdXMgPSBQLmFkZCA9IGZ1bmN0aW9uICggeSwgYiApIHtcbiAgICAgICAgICAgIHZhciB0LFxuICAgICAgICAgICAgICAgIHggPSB0aGlzLFxuICAgICAgICAgICAgICAgIGEgPSB4LnM7XG5cbiAgICAgICAgICAgIGlkID0gMTI7XG4gICAgICAgICAgICB5ID0gbmV3IEJpZ051bWJlciggeSwgYiApO1xuICAgICAgICAgICAgYiA9IHkucztcblxuICAgICAgICAgICAgLy8gRWl0aGVyIE5hTj9cbiAgICAgICAgICAgIGlmICggIWEgfHwgIWIgKSByZXR1cm4gbmV3IEJpZ051bWJlcihOYU4pO1xuXG4gICAgICAgICAgICAvLyBTaWducyBkaWZmZXI/XG4gICAgICAgICAgICAgaWYgKCBhICE9IGIgKSB7XG4gICAgICAgICAgICAgICAgeS5zID0gLWI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHgubWludXMoeSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciB4ZSA9IHguZSAvIExPR19CQVNFLFxuICAgICAgICAgICAgICAgIHllID0geS5lIC8gTE9HX0JBU0UsXG4gICAgICAgICAgICAgICAgeGMgPSB4LmMsXG4gICAgICAgICAgICAgICAgeWMgPSB5LmM7XG5cbiAgICAgICAgICAgIGlmICggIXhlIHx8ICF5ZSApIHtcblxuICAgICAgICAgICAgICAgIC8vIFJldHVybiDCsUluZmluaXR5IGlmIGVpdGhlciDCsUluZmluaXR5LlxuICAgICAgICAgICAgICAgIGlmICggIXhjIHx8ICF5YyApIHJldHVybiBuZXcgQmlnTnVtYmVyKCBhIC8gMCApO1xuXG4gICAgICAgICAgICAgICAgLy8gRWl0aGVyIHplcm8/XG4gICAgICAgICAgICAgICAgLy8gUmV0dXJuIHkgaWYgeSBpcyBub24temVybywgeCBpZiB4IGlzIG5vbi16ZXJvLCBvciB6ZXJvIGlmIGJvdGggYXJlIHplcm8uXG4gICAgICAgICAgICAgICAgaWYgKCAheGNbMF0gfHwgIXljWzBdICkgcmV0dXJuIHljWzBdID8geSA6IG5ldyBCaWdOdW1iZXIoIHhjWzBdID8geCA6IGEgKiAwICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHhlID0gYml0Rmxvb3IoeGUpO1xuICAgICAgICAgICAgeWUgPSBiaXRGbG9vcih5ZSk7XG4gICAgICAgICAgICB4YyA9IHhjLnNsaWNlKCk7XG5cbiAgICAgICAgICAgIC8vIFByZXBlbmQgemVyb3MgdG8gZXF1YWxpc2UgZXhwb25lbnRzLiBGYXN0ZXIgdG8gdXNlIHJldmVyc2UgdGhlbiBkbyB1bnNoaWZ0cy5cbiAgICAgICAgICAgIGlmICggYSA9IHhlIC0geWUgKSB7XG4gICAgICAgICAgICAgICAgaWYgKCBhID4gMCApIHtcbiAgICAgICAgICAgICAgICAgICAgeWUgPSB4ZTtcbiAgICAgICAgICAgICAgICAgICAgdCA9IHljO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGEgPSAtYTtcbiAgICAgICAgICAgICAgICAgICAgdCA9IHhjO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHQucmV2ZXJzZSgpO1xuICAgICAgICAgICAgICAgIGZvciAoIDsgYS0tOyB0LnB1c2goMCkgKTtcbiAgICAgICAgICAgICAgICB0LnJldmVyc2UoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYSA9IHhjLmxlbmd0aDtcbiAgICAgICAgICAgIGIgPSB5Yy5sZW5ndGg7XG5cbiAgICAgICAgICAgIC8vIFBvaW50IHhjIHRvIHRoZSBsb25nZXIgYXJyYXksIGFuZCBiIHRvIHRoZSBzaG9ydGVyIGxlbmd0aC5cbiAgICAgICAgICAgIGlmICggYSAtIGIgPCAwICkgdCA9IHljLCB5YyA9IHhjLCB4YyA9IHQsIGIgPSBhO1xuXG4gICAgICAgICAgICAvLyBPbmx5IHN0YXJ0IGFkZGluZyBhdCB5Yy5sZW5ndGggLSAxIGFzIHRoZSBmdXJ0aGVyIGRpZ2l0cyBvZiB4YyBjYW4gYmUgaWdub3JlZC5cbiAgICAgICAgICAgIGZvciAoIGEgPSAwOyBiOyApIHtcbiAgICAgICAgICAgICAgICBhID0gKCB4Y1stLWJdID0geGNbYl0gKyB5Y1tiXSArIGEgKSAvIEJBU0UgfCAwO1xuICAgICAgICAgICAgICAgIHhjW2JdICU9IEJBU0U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChhKSB7XG4gICAgICAgICAgICAgICAgeGMudW5zaGlmdChhKTtcbiAgICAgICAgICAgICAgICArK3llO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBObyBuZWVkIHRvIGNoZWNrIGZvciB6ZXJvLCBhcyAreCArICt5ICE9IDAgJiYgLXggKyAteSAhPSAwXG4gICAgICAgICAgICAvLyB5ZSA9IE1BWF9FWFAgKyAxIHBvc3NpYmxlXG4gICAgICAgICAgICByZXR1cm4gbm9ybWFsaXNlKCB5LCB4YywgeWUgKTtcbiAgICAgICAgfTtcblxuXG4gICAgICAgIC8qXG4gICAgICAgICAqIFJldHVybiB0aGUgbnVtYmVyIG9mIHNpZ25pZmljYW50IGRpZ2l0cyBvZiB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIFt6XSB7Ym9vbGVhbnxudW1iZXJ9IFdoZXRoZXIgdG8gY291bnQgaW50ZWdlci1wYXJ0IHRyYWlsaW5nIHplcm9zOiB0cnVlLCBmYWxzZSwgMSBvciAwLlxuICAgICAgICAgKi9cbiAgICAgICAgUC5wcmVjaXNpb24gPSBQLnNkID0gZnVuY3Rpb24gKHopIHtcbiAgICAgICAgICAgIHZhciBuLCB2LFxuICAgICAgICAgICAgICAgIHggPSB0aGlzLFxuICAgICAgICAgICAgICAgIGMgPSB4LmM7XG5cbiAgICAgICAgICAgIC8vICdwcmVjaXNpb24oKSBhcmd1bWVudCBub3QgYSBib29sZWFuIG9yIGJpbmFyeSBkaWdpdDoge3p9J1xuICAgICAgICAgICAgaWYgKCB6ICE9IG51bGwgJiYgeiAhPT0gISF6ICYmIHogIT09IDEgJiYgeiAhPT0gMCApIHtcbiAgICAgICAgICAgICAgICBpZiAoRVJST1JTKSByYWlzZSggMTMsICdhcmd1bWVudCcgKyBub3RCb29sLCB6ICk7XG4gICAgICAgICAgICAgICAgaWYgKCB6ICE9ICEheiApIHogPSBudWxsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoICFjICkgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB2ID0gYy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgbiA9IHYgKiBMT0dfQkFTRSArIDE7XG5cbiAgICAgICAgICAgIGlmICggdiA9IGNbdl0gKSB7XG5cbiAgICAgICAgICAgICAgICAvLyBTdWJ0cmFjdCB0aGUgbnVtYmVyIG9mIHRyYWlsaW5nIHplcm9zIG9mIHRoZSBsYXN0IGVsZW1lbnQuXG4gICAgICAgICAgICAgICAgZm9yICggOyB2ICUgMTAgPT0gMDsgdiAvPSAxMCwgbi0tICk7XG5cbiAgICAgICAgICAgICAgICAvLyBBZGQgdGhlIG51bWJlciBvZiBkaWdpdHMgb2YgdGhlIGZpcnN0IGVsZW1lbnQuXG4gICAgICAgICAgICAgICAgZm9yICggdiA9IGNbMF07IHYgPj0gMTA7IHYgLz0gMTAsIG4rKyApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIHogJiYgeC5lICsgMSA+IG4gKSBuID0geC5lICsgMTtcblxuICAgICAgICAgICAgcmV0dXJuIG47XG4gICAgICAgIH07XG5cblxuICAgICAgICAvKlxuICAgICAgICAgKiBSZXR1cm4gYSBuZXcgQmlnTnVtYmVyIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciByb3VuZGVkIHRvIGEgbWF4aW11bSBvZlxuICAgICAgICAgKiBkcCBkZWNpbWFsIHBsYWNlcyB1c2luZyByb3VuZGluZyBtb2RlIHJtLCBvciB0byAwIGFuZCBST1VORElOR19NT0RFIHJlc3BlY3RpdmVseSBpZlxuICAgICAgICAgKiBvbWl0dGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBbZHBdIHtudW1iZXJ9IERlY2ltYWwgcGxhY2VzLiBJbnRlZ2VyLCAwIHRvIE1BWCBpbmNsdXNpdmUuXG4gICAgICAgICAqIFtybV0ge251bWJlcn0gUm91bmRpbmcgbW9kZS4gSW50ZWdlciwgMCB0byA4IGluY2x1c2l2ZS5cbiAgICAgICAgICpcbiAgICAgICAgICogJ3JvdW5kKCkgZGVjaW1hbCBwbGFjZXMgb3V0IG9mIHJhbmdlOiB7ZHB9J1xuICAgICAgICAgKiAncm91bmQoKSBkZWNpbWFsIHBsYWNlcyBub3QgYW4gaW50ZWdlcjoge2RwfSdcbiAgICAgICAgICogJ3JvdW5kKCkgcm91bmRpbmcgbW9kZSBub3QgYW4gaW50ZWdlcjoge3JtfSdcbiAgICAgICAgICogJ3JvdW5kKCkgcm91bmRpbmcgbW9kZSBvdXQgb2YgcmFuZ2U6IHtybX0nXG4gICAgICAgICAqL1xuICAgICAgICBQLnJvdW5kID0gZnVuY3Rpb24gKCBkcCwgcm0gKSB7XG4gICAgICAgICAgICB2YXIgbiA9IG5ldyBCaWdOdW1iZXIodGhpcyk7XG5cbiAgICAgICAgICAgIGlmICggZHAgPT0gbnVsbCB8fCBpc1ZhbGlkSW50KCBkcCwgMCwgTUFYLCAxNSApICkge1xuICAgICAgICAgICAgICAgIHJvdW5kKCBuLCB+fmRwICsgdGhpcy5lICsgMSwgcm0gPT0gbnVsbCB8fFxuICAgICAgICAgICAgICAgICAgIWlzVmFsaWRJbnQoIHJtLCAwLCA4LCAxNSwgcm91bmRpbmdNb2RlICkgPyBST1VORElOR19NT0RFIDogcm0gfCAwICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBuO1xuICAgICAgICB9O1xuXG5cbiAgICAgICAgLypcbiAgICAgICAgICogUmV0dXJuIGEgbmV3IEJpZ051bWJlciB3aG9zZSB2YWx1ZSBpcyB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgc2hpZnRlZCBieSBrIHBsYWNlc1xuICAgICAgICAgKiAocG93ZXJzIG9mIDEwKS4gU2hpZnQgdG8gdGhlIHJpZ2h0IGlmIG4gPiAwLCBhbmQgdG8gdGhlIGxlZnQgaWYgbiA8IDAuXG4gICAgICAgICAqXG4gICAgICAgICAqIGsge251bWJlcn0gSW50ZWdlciwgLU1BWF9TQUZFX0lOVEVHRVIgdG8gTUFYX1NBRkVfSU5URUdFUiBpbmNsdXNpdmUuXG4gICAgICAgICAqXG4gICAgICAgICAqIElmIGsgaXMgb3V0IG9mIHJhbmdlIGFuZCBFUlJPUlMgaXMgZmFsc2UsIHRoZSByZXN1bHQgd2lsbCBiZSDCsTAgaWYgayA8IDAsIG9yIMKxSW5maW5pdHlcbiAgICAgICAgICogb3RoZXJ3aXNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiAnc2hpZnQoKSBhcmd1bWVudCBub3QgYW4gaW50ZWdlcjoge2t9J1xuICAgICAgICAgKiAnc2hpZnQoKSBhcmd1bWVudCBvdXQgb2YgcmFuZ2U6IHtrfSdcbiAgICAgICAgICovXG4gICAgICAgIFAuc2hpZnQgPSBmdW5jdGlvbiAoaykge1xuICAgICAgICAgICAgdmFyIG4gPSB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuIGlzVmFsaWRJbnQoIGssIC1NQVhfU0FGRV9JTlRFR0VSLCBNQVhfU0FGRV9JTlRFR0VSLCAxNiwgJ2FyZ3VtZW50JyApXG5cbiAgICAgICAgICAgICAgLy8gayA8IDFlKzIxLCBvciB0cnVuY2F0ZShrKSB3aWxsIHByb2R1Y2UgZXhwb25lbnRpYWwgbm90YXRpb24uXG4gICAgICAgICAgICAgID8gbi50aW1lcyggJzFlJyArIHRydW5jYXRlKGspIClcbiAgICAgICAgICAgICAgOiBuZXcgQmlnTnVtYmVyKCBuLmMgJiYgbi5jWzBdICYmICggayA8IC1NQVhfU0FGRV9JTlRFR0VSIHx8IGsgPiBNQVhfU0FGRV9JTlRFR0VSIClcbiAgICAgICAgICAgICAgICA/IG4ucyAqICggayA8IDAgPyAwIDogMSAvIDAgKVxuICAgICAgICAgICAgICAgIDogbiApO1xuICAgICAgICB9O1xuXG5cbiAgICAgICAgLypcbiAgICAgICAgICogIHNxcnQoLW4pID0gIE5cbiAgICAgICAgICogIHNxcnQoIE4pID0gIE5cbiAgICAgICAgICogIHNxcnQoLUkpID0gIE5cbiAgICAgICAgICogIHNxcnQoIEkpID0gIElcbiAgICAgICAgICogIHNxcnQoIDApID0gIDBcbiAgICAgICAgICogIHNxcnQoLTApID0gLTBcbiAgICAgICAgICpcbiAgICAgICAgICogUmV0dXJuIGEgbmV3IEJpZ051bWJlciB3aG9zZSB2YWx1ZSBpcyB0aGUgc3F1YXJlIHJvb3Qgb2YgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyLFxuICAgICAgICAgKiByb3VuZGVkIGFjY29yZGluZyB0byBERUNJTUFMX1BMQUNFUyBhbmQgUk9VTkRJTkdfTU9ERS5cbiAgICAgICAgICovXG4gICAgICAgIFAuc3F1YXJlUm9vdCA9IFAuc3FydCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBtLCBuLCByLCByZXAsIHQsXG4gICAgICAgICAgICAgICAgeCA9IHRoaXMsXG4gICAgICAgICAgICAgICAgYyA9IHguYyxcbiAgICAgICAgICAgICAgICBzID0geC5zLFxuICAgICAgICAgICAgICAgIGUgPSB4LmUsXG4gICAgICAgICAgICAgICAgZHAgPSBERUNJTUFMX1BMQUNFUyArIDQsXG4gICAgICAgICAgICAgICAgaGFsZiA9IG5ldyBCaWdOdW1iZXIoJzAuNScpO1xuXG4gICAgICAgICAgICAvLyBOZWdhdGl2ZS9OYU4vSW5maW5pdHkvemVybz9cbiAgICAgICAgICAgIGlmICggcyAhPT0gMSB8fCAhYyB8fCAhY1swXSApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEJpZ051bWJlciggIXMgfHwgcyA8IDAgJiYgKCAhYyB8fCBjWzBdICkgPyBOYU4gOiBjID8geCA6IDEgLyAwICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEluaXRpYWwgZXN0aW1hdGUuXG4gICAgICAgICAgICBzID0gTWF0aC5zcXJ0KCAreCApO1xuXG4gICAgICAgICAgICAvLyBNYXRoLnNxcnQgdW5kZXJmbG93L292ZXJmbG93P1xuICAgICAgICAgICAgLy8gUGFzcyB4IHRvIE1hdGguc3FydCBhcyBpbnRlZ2VyLCB0aGVuIGFkanVzdCB0aGUgZXhwb25lbnQgb2YgdGhlIHJlc3VsdC5cbiAgICAgICAgICAgIGlmICggcyA9PSAwIHx8IHMgPT0gMSAvIDAgKSB7XG4gICAgICAgICAgICAgICAgbiA9IGNvZWZmVG9TdHJpbmcoYyk7XG4gICAgICAgICAgICAgICAgaWYgKCAoIG4ubGVuZ3RoICsgZSApICUgMiA9PSAwICkgbiArPSAnMCc7XG4gICAgICAgICAgICAgICAgcyA9IE1hdGguc3FydChuKTtcbiAgICAgICAgICAgICAgICBlID0gYml0Rmxvb3IoICggZSArIDEgKSAvIDIgKSAtICggZSA8IDAgfHwgZSAlIDIgKTtcblxuICAgICAgICAgICAgICAgIGlmICggcyA9PSAxIC8gMCApIHtcbiAgICAgICAgICAgICAgICAgICAgbiA9ICcxZScgKyBlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG4gPSBzLnRvRXhwb25lbnRpYWwoKTtcbiAgICAgICAgICAgICAgICAgICAgbiA9IG4uc2xpY2UoIDAsIG4uaW5kZXhPZignZScpICsgMSApICsgZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByID0gbmV3IEJpZ051bWJlcihuKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgciA9IG5ldyBCaWdOdW1iZXIoIHMgKyAnJyApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDaGVjayBmb3IgemVyby5cbiAgICAgICAgICAgIC8vIHIgY291bGQgYmUgemVybyBpZiBNSU5fRVhQIGlzIGNoYW5nZWQgYWZ0ZXIgdGhlIHRoaXMgdmFsdWUgd2FzIGNyZWF0ZWQuXG4gICAgICAgICAgICAvLyBUaGlzIHdvdWxkIGNhdXNlIGEgZGl2aXNpb24gYnkgemVybyAoeC90KSBhbmQgaGVuY2UgSW5maW5pdHkgYmVsb3csIHdoaWNoIHdvdWxkIGNhdXNlXG4gICAgICAgICAgICAvLyBjb2VmZlRvU3RyaW5nIHRvIHRocm93LlxuICAgICAgICAgICAgaWYgKCByLmNbMF0gKSB7XG4gICAgICAgICAgICAgICAgZSA9IHIuZTtcbiAgICAgICAgICAgICAgICBzID0gZSArIGRwO1xuICAgICAgICAgICAgICAgIGlmICggcyA8IDMgKSBzID0gMDtcblxuICAgICAgICAgICAgICAgIC8vIE5ld3Rvbi1SYXBoc29uIGl0ZXJhdGlvbi5cbiAgICAgICAgICAgICAgICBmb3IgKCA7IDsgKSB7XG4gICAgICAgICAgICAgICAgICAgIHQgPSByO1xuICAgICAgICAgICAgICAgICAgICByID0gaGFsZi50aW1lcyggdC5wbHVzKCBkaXYoIHgsIHQsIGRwLCAxICkgKSApO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICggY29lZmZUb1N0cmluZyggdC5jICAgKS5zbGljZSggMCwgcyApID09PSAoIG4gPVxuICAgICAgICAgICAgICAgICAgICAgICAgIGNvZWZmVG9TdHJpbmcoIHIuYyApICkuc2xpY2UoIDAsIHMgKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGV4cG9uZW50IG9mIHIgbWF5IGhlcmUgYmUgb25lIGxlc3MgdGhhbiB0aGUgZmluYWwgcmVzdWx0IGV4cG9uZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZS5nIDAuMDAwOTk5OSAoZS00KSAtLT4gMC4wMDEgKGUtMyksIHNvIGFkanVzdCBzIHNvIHRoZSByb3VuZGluZyBkaWdpdHNcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFyZSBpbmRleGVkIGNvcnJlY3RseS5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggci5lIDwgZSApIC0tcztcbiAgICAgICAgICAgICAgICAgICAgICAgIG4gPSBuLnNsaWNlKCBzIC0gMywgcyArIDEgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIDR0aCByb3VuZGluZyBkaWdpdCBtYXkgYmUgaW4gZXJyb3IgYnkgLTEgc28gaWYgdGhlIDQgcm91bmRpbmcgZGlnaXRzXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhcmUgOTk5OSBvciA0OTk5IChpLmUuIGFwcHJvYWNoaW5nIGEgcm91bmRpbmcgYm91bmRhcnkpIGNvbnRpbnVlIHRoZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaXRlcmF0aW9uLlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBuID09ICc5OTk5JyB8fCAhcmVwICYmIG4gPT0gJzQ5OTknICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gT24gdGhlIGZpcnN0IGl0ZXJhdGlvbiBvbmx5LCBjaGVjayB0byBzZWUgaWYgcm91bmRpbmcgdXAgZ2l2ZXMgdGhlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXhhY3QgcmVzdWx0IGFzIHRoZSBuaW5lcyBtYXkgaW5maW5pdGVseSByZXBlYXQuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCAhcmVwICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3VuZCggdCwgdC5lICsgREVDSU1BTF9QTEFDRVMgKyAyLCAwICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCB0LnRpbWVzKHQpLmVxKHgpICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgciA9IHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRwICs9IDQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcyArPSA0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcCA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgcm91bmRpbmcgZGlnaXRzIGFyZSBudWxsLCAwezAsNH0gb3IgNTB7MCwzfSwgY2hlY2sgZm9yIGV4YWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVzdWx0LiBJZiBub3QsIHRoZW4gdGhlcmUgYXJlIGZ1cnRoZXIgZGlnaXRzIGFuZCBtIHdpbGwgYmUgdHJ1dGh5LlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggIStuIHx8ICErbi5zbGljZSgxKSAmJiBuLmNoYXJBdCgwKSA9PSAnNScgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVHJ1bmNhdGUgdG8gdGhlIGZpcnN0IHJvdW5kaW5nIGRpZ2l0LlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3VuZCggciwgci5lICsgREVDSU1BTF9QTEFDRVMgKyAyLCAxICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG0gPSAhci50aW1lcyhyKS5lcSh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHJvdW5kKCByLCByLmUgKyBERUNJTUFMX1BMQUNFUyArIDEsIFJPVU5ESU5HX01PREUsIG0gKTtcbiAgICAgICAgfTtcblxuXG4gICAgICAgIC8qXG4gICAgICAgICAqICBuICogMCA9IDBcbiAgICAgICAgICogIG4gKiBOID0gTlxuICAgICAgICAgKiAgbiAqIEkgPSBJXG4gICAgICAgICAqICAwICogbiA9IDBcbiAgICAgICAgICogIDAgKiAwID0gMFxuICAgICAgICAgKiAgMCAqIE4gPSBOXG4gICAgICAgICAqICAwICogSSA9IE5cbiAgICAgICAgICogIE4gKiBuID0gTlxuICAgICAgICAgKiAgTiAqIDAgPSBOXG4gICAgICAgICAqICBOICogTiA9IE5cbiAgICAgICAgICogIE4gKiBJID0gTlxuICAgICAgICAgKiAgSSAqIG4gPSBJXG4gICAgICAgICAqICBJICogMCA9IE5cbiAgICAgICAgICogIEkgKiBOID0gTlxuICAgICAgICAgKiAgSSAqIEkgPSBJXG4gICAgICAgICAqXG4gICAgICAgICAqIFJldHVybiBhIG5ldyBCaWdOdW1iZXIgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIHRpbWVzIHRoZSB2YWx1ZSBvZlxuICAgICAgICAgKiBCaWdOdW1iZXIoeSwgYikuXG4gICAgICAgICAqL1xuICAgICAgICBQLnRpbWVzID0gUC5tdWwgPSBmdW5jdGlvbiAoIHksIGIgKSB7XG4gICAgICAgICAgICB2YXIgYywgZSwgaSwgaiwgaywgbSwgeGNMLCB4bG8sIHhoaSwgeWNMLCB5bG8sIHloaSwgemMsXG4gICAgICAgICAgICAgICAgYmFzZSwgc3FydEJhc2UsXG4gICAgICAgICAgICAgICAgeCA9IHRoaXMsXG4gICAgICAgICAgICAgICAgeGMgPSB4LmMsXG4gICAgICAgICAgICAgICAgeWMgPSAoIGlkID0gMTcsIHkgPSBuZXcgQmlnTnVtYmVyKCB5LCBiICkgKS5jO1xuXG4gICAgICAgICAgICAvLyBFaXRoZXIgTmFOLCDCsUluZmluaXR5IG9yIMKxMD9cbiAgICAgICAgICAgIGlmICggIXhjIHx8ICF5YyB8fCAheGNbMF0gfHwgIXljWzBdICkge1xuXG4gICAgICAgICAgICAgICAgLy8gUmV0dXJuIE5hTiBpZiBlaXRoZXIgaXMgTmFOLCBvciBvbmUgaXMgMCBhbmQgdGhlIG90aGVyIGlzIEluZmluaXR5LlxuICAgICAgICAgICAgICAgIGlmICggIXgucyB8fCAheS5zIHx8IHhjICYmICF4Y1swXSAmJiAheWMgfHwgeWMgJiYgIXljWzBdICYmICF4YyApIHtcbiAgICAgICAgICAgICAgICAgICAgeS5jID0geS5lID0geS5zID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB5LnMgKj0geC5zO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFJldHVybiDCsUluZmluaXR5IGlmIGVpdGhlciBpcyDCsUluZmluaXR5LlxuICAgICAgICAgICAgICAgICAgICBpZiAoICF4YyB8fCAheWMgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB5LmMgPSB5LmUgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFJldHVybiDCsTAgaWYgZWl0aGVyIGlzIMKxMC5cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHkuYyA9IFswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHkuZSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4geTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZSA9IGJpdEZsb29yKCB4LmUgLyBMT0dfQkFTRSApICsgYml0Rmxvb3IoIHkuZSAvIExPR19CQVNFICk7XG4gICAgICAgICAgICB5LnMgKj0geC5zO1xuICAgICAgICAgICAgeGNMID0geGMubGVuZ3RoO1xuICAgICAgICAgICAgeWNMID0geWMubGVuZ3RoO1xuXG4gICAgICAgICAgICAvLyBFbnN1cmUgeGMgcG9pbnRzIHRvIGxvbmdlciBhcnJheSBhbmQgeGNMIHRvIGl0cyBsZW5ndGguXG4gICAgICAgICAgICBpZiAoIHhjTCA8IHljTCApIHpjID0geGMsIHhjID0geWMsIHljID0gemMsIGkgPSB4Y0wsIHhjTCA9IHljTCwgeWNMID0gaTtcblxuICAgICAgICAgICAgLy8gSW5pdGlhbGlzZSB0aGUgcmVzdWx0IGFycmF5IHdpdGggemVyb3MuXG4gICAgICAgICAgICBmb3IgKCBpID0geGNMICsgeWNMLCB6YyA9IFtdOyBpLS07IHpjLnB1c2goMCkgKTtcblxuICAgICAgICAgICAgYmFzZSA9IEJBU0U7XG4gICAgICAgICAgICBzcXJ0QmFzZSA9IFNRUlRfQkFTRTtcblxuICAgICAgICAgICAgZm9yICggaSA9IHljTDsgLS1pID49IDA7ICkge1xuICAgICAgICAgICAgICAgIGMgPSAwO1xuICAgICAgICAgICAgICAgIHlsbyA9IHljW2ldICUgc3FydEJhc2U7XG4gICAgICAgICAgICAgICAgeWhpID0geWNbaV0gLyBzcXJ0QmFzZSB8IDA7XG5cbiAgICAgICAgICAgICAgICBmb3IgKCBrID0geGNMLCBqID0gaSArIGs7IGogPiBpOyApIHtcbiAgICAgICAgICAgICAgICAgICAgeGxvID0geGNbLS1rXSAlIHNxcnRCYXNlO1xuICAgICAgICAgICAgICAgICAgICB4aGkgPSB4Y1trXSAvIHNxcnRCYXNlIHwgMDtcbiAgICAgICAgICAgICAgICAgICAgbSA9IHloaSAqIHhsbyArIHhoaSAqIHlsbztcbiAgICAgICAgICAgICAgICAgICAgeGxvID0geWxvICogeGxvICsgKCAoIG0gJSBzcXJ0QmFzZSApICogc3FydEJhc2UgKSArIHpjW2pdICsgYztcbiAgICAgICAgICAgICAgICAgICAgYyA9ICggeGxvIC8gYmFzZSB8IDAgKSArICggbSAvIHNxcnRCYXNlIHwgMCApICsgeWhpICogeGhpO1xuICAgICAgICAgICAgICAgICAgICB6Y1tqLS1dID0geGxvICUgYmFzZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB6Y1tqXSA9IGM7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChjKSB7XG4gICAgICAgICAgICAgICAgKytlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB6Yy5zaGlmdCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gbm9ybWFsaXNlKCB5LCB6YywgZSApO1xuICAgICAgICB9O1xuXG5cbiAgICAgICAgLypcbiAgICAgICAgICogUmV0dXJuIGEgbmV3IEJpZ051bWJlciB3aG9zZSB2YWx1ZSBpcyB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgcm91bmRlZCB0byBhIG1heGltdW0gb2ZcbiAgICAgICAgICogc2Qgc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgcm0sIG9yIFJPVU5ESU5HX01PREUgaWYgcm0gaXMgb21pdHRlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogW3NkXSB7bnVtYmVyfSBTaWduaWZpY2FudCBkaWdpdHMuIEludGVnZXIsIDEgdG8gTUFYIGluY2x1c2l2ZS5cbiAgICAgICAgICogW3JtXSB7bnVtYmVyfSBSb3VuZGluZyBtb2RlLiBJbnRlZ2VyLCAwIHRvIDggaW5jbHVzaXZlLlxuICAgICAgICAgKlxuICAgICAgICAgKiAndG9EaWdpdHMoKSBwcmVjaXNpb24gb3V0IG9mIHJhbmdlOiB7c2R9J1xuICAgICAgICAgKiAndG9EaWdpdHMoKSBwcmVjaXNpb24gbm90IGFuIGludGVnZXI6IHtzZH0nXG4gICAgICAgICAqICd0b0RpZ2l0cygpIHJvdW5kaW5nIG1vZGUgbm90IGFuIGludGVnZXI6IHtybX0nXG4gICAgICAgICAqICd0b0RpZ2l0cygpIHJvdW5kaW5nIG1vZGUgb3V0IG9mIHJhbmdlOiB7cm19J1xuICAgICAgICAgKi9cbiAgICAgICAgUC50b0RpZ2l0cyA9IGZ1bmN0aW9uICggc2QsIHJtICkge1xuICAgICAgICAgICAgdmFyIG4gPSBuZXcgQmlnTnVtYmVyKHRoaXMpO1xuICAgICAgICAgICAgc2QgPSBzZCA9PSBudWxsIHx8ICFpc1ZhbGlkSW50KCBzZCwgMSwgTUFYLCAxOCwgJ3ByZWNpc2lvbicgKSA/IG51bGwgOiBzZCB8IDA7XG4gICAgICAgICAgICBybSA9IHJtID09IG51bGwgfHwgIWlzVmFsaWRJbnQoIHJtLCAwLCA4LCAxOCwgcm91bmRpbmdNb2RlICkgPyBST1VORElOR19NT0RFIDogcm0gfCAwO1xuICAgICAgICAgICAgcmV0dXJuIHNkID8gcm91bmQoIG4sIHNkLCBybSApIDogbjtcbiAgICAgICAgfTtcblxuXG4gICAgICAgIC8qXG4gICAgICAgICAqIFJldHVybiBhIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIGluIGV4cG9uZW50aWFsIG5vdGF0aW9uIGFuZFxuICAgICAgICAgKiByb3VuZGVkIHVzaW5nIFJPVU5ESU5HX01PREUgdG8gZHAgZml4ZWQgZGVjaW1hbCBwbGFjZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIFtkcF0ge251bWJlcn0gRGVjaW1hbCBwbGFjZXMuIEludGVnZXIsIDAgdG8gTUFYIGluY2x1c2l2ZS5cbiAgICAgICAgICogW3JtXSB7bnVtYmVyfSBSb3VuZGluZyBtb2RlLiBJbnRlZ2VyLCAwIHRvIDggaW5jbHVzaXZlLlxuICAgICAgICAgKlxuICAgICAgICAgKiAndG9FeHBvbmVudGlhbCgpIGRlY2ltYWwgcGxhY2VzIG5vdCBhbiBpbnRlZ2VyOiB7ZHB9J1xuICAgICAgICAgKiAndG9FeHBvbmVudGlhbCgpIGRlY2ltYWwgcGxhY2VzIG91dCBvZiByYW5nZToge2RwfSdcbiAgICAgICAgICogJ3RvRXhwb25lbnRpYWwoKSByb3VuZGluZyBtb2RlIG5vdCBhbiBpbnRlZ2VyOiB7cm19J1xuICAgICAgICAgKiAndG9FeHBvbmVudGlhbCgpIHJvdW5kaW5nIG1vZGUgb3V0IG9mIHJhbmdlOiB7cm19J1xuICAgICAgICAgKi9cbiAgICAgICAgUC50b0V4cG9uZW50aWFsID0gZnVuY3Rpb24gKCBkcCwgcm0gKSB7XG4gICAgICAgICAgICByZXR1cm4gZm9ybWF0KCB0aGlzLFxuICAgICAgICAgICAgICBkcCAhPSBudWxsICYmIGlzVmFsaWRJbnQoIGRwLCAwLCBNQVgsIDE5ICkgPyB+fmRwICsgMSA6IG51bGwsIHJtLCAxOSApO1xuICAgICAgICB9O1xuXG5cbiAgICAgICAgLypcbiAgICAgICAgICogUmV0dXJuIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgaW4gZml4ZWQtcG9pbnQgbm90YXRpb24gcm91bmRpbmdcbiAgICAgICAgICogdG8gZHAgZml4ZWQgZGVjaW1hbCBwbGFjZXMgdXNpbmcgcm91bmRpbmcgbW9kZSBybSwgb3IgUk9VTkRJTkdfTU9ERSBpZiBybSBpcyBvbWl0dGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBOb3RlOiBhcyB3aXRoIEphdmFTY3JpcHQncyBudW1iZXIgdHlwZSwgKC0wKS50b0ZpeGVkKDApIGlzICcwJyxcbiAgICAgICAgICogYnV0IGUuZy4gKC0wLjAwMDAxKS50b0ZpeGVkKDApIGlzICctMCcuXG4gICAgICAgICAqXG4gICAgICAgICAqIFtkcF0ge251bWJlcn0gRGVjaW1hbCBwbGFjZXMuIEludGVnZXIsIDAgdG8gTUFYIGluY2x1c2l2ZS5cbiAgICAgICAgICogW3JtXSB7bnVtYmVyfSBSb3VuZGluZyBtb2RlLiBJbnRlZ2VyLCAwIHRvIDggaW5jbHVzaXZlLlxuICAgICAgICAgKlxuICAgICAgICAgKiAndG9GaXhlZCgpIGRlY2ltYWwgcGxhY2VzIG5vdCBhbiBpbnRlZ2VyOiB7ZHB9J1xuICAgICAgICAgKiAndG9GaXhlZCgpIGRlY2ltYWwgcGxhY2VzIG91dCBvZiByYW5nZToge2RwfSdcbiAgICAgICAgICogJ3RvRml4ZWQoKSByb3VuZGluZyBtb2RlIG5vdCBhbiBpbnRlZ2VyOiB7cm19J1xuICAgICAgICAgKiAndG9GaXhlZCgpIHJvdW5kaW5nIG1vZGUgb3V0IG9mIHJhbmdlOiB7cm19J1xuICAgICAgICAgKi9cbiAgICAgICAgUC50b0ZpeGVkID0gZnVuY3Rpb24gKCBkcCwgcm0gKSB7XG4gICAgICAgICAgICByZXR1cm4gZm9ybWF0KCB0aGlzLCBkcCAhPSBudWxsICYmIGlzVmFsaWRJbnQoIGRwLCAwLCBNQVgsIDIwIClcbiAgICAgICAgICAgICAgPyB+fmRwICsgdGhpcy5lICsgMSA6IG51bGwsIHJtLCAyMCApO1xuICAgICAgICB9O1xuXG5cbiAgICAgICAgLypcbiAgICAgICAgICogUmV0dXJuIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgaW4gZml4ZWQtcG9pbnQgbm90YXRpb24gcm91bmRlZFxuICAgICAgICAgKiB1c2luZyBybSBvciBST1VORElOR19NT0RFIHRvIGRwIGRlY2ltYWwgcGxhY2VzLCBhbmQgZm9ybWF0dGVkIGFjY29yZGluZyB0byB0aGUgcHJvcGVydGllc1xuICAgICAgICAgKiBvZiB0aGUgRk9STUFUIG9iamVjdCAoc2VlIEJpZ051bWJlci5jb25maWcpLlxuICAgICAgICAgKlxuICAgICAgICAgKiBGT1JNQVQgPSB7XG4gICAgICAgICAqICAgICAgZGVjaW1hbFNlcGFyYXRvciA6ICcuJyxcbiAgICAgICAgICogICAgICBncm91cFNlcGFyYXRvciA6ICcsJyxcbiAgICAgICAgICogICAgICBncm91cFNpemUgOiAzLFxuICAgICAgICAgKiAgICAgIHNlY29uZGFyeUdyb3VwU2l6ZSA6IDAsXG4gICAgICAgICAqICAgICAgZnJhY3Rpb25Hcm91cFNlcGFyYXRvciA6ICdcXHhBMCcsICAgIC8vIG5vbi1icmVha2luZyBzcGFjZVxuICAgICAgICAgKiAgICAgIGZyYWN0aW9uR3JvdXBTaXplIDogMFxuICAgICAgICAgKiB9O1xuICAgICAgICAgKlxuICAgICAgICAgKiBbZHBdIHtudW1iZXJ9IERlY2ltYWwgcGxhY2VzLiBJbnRlZ2VyLCAwIHRvIE1BWCBpbmNsdXNpdmUuXG4gICAgICAgICAqIFtybV0ge251bWJlcn0gUm91bmRpbmcgbW9kZS4gSW50ZWdlciwgMCB0byA4IGluY2x1c2l2ZS5cbiAgICAgICAgICpcbiAgICAgICAgICogJ3RvRm9ybWF0KCkgZGVjaW1hbCBwbGFjZXMgbm90IGFuIGludGVnZXI6IHtkcH0nXG4gICAgICAgICAqICd0b0Zvcm1hdCgpIGRlY2ltYWwgcGxhY2VzIG91dCBvZiByYW5nZToge2RwfSdcbiAgICAgICAgICogJ3RvRm9ybWF0KCkgcm91bmRpbmcgbW9kZSBub3QgYW4gaW50ZWdlcjoge3JtfSdcbiAgICAgICAgICogJ3RvRm9ybWF0KCkgcm91bmRpbmcgbW9kZSBvdXQgb2YgcmFuZ2U6IHtybX0nXG4gICAgICAgICAqL1xuICAgICAgICBQLnRvRm9ybWF0ID0gZnVuY3Rpb24gKCBkcCwgcm0gKSB7XG4gICAgICAgICAgICB2YXIgc3RyID0gZm9ybWF0KCB0aGlzLCBkcCAhPSBudWxsICYmIGlzVmFsaWRJbnQoIGRwLCAwLCBNQVgsIDIxIClcbiAgICAgICAgICAgICAgPyB+fmRwICsgdGhpcy5lICsgMSA6IG51bGwsIHJtLCAyMSApO1xuXG4gICAgICAgICAgICBpZiAoIHRoaXMuYyApIHtcbiAgICAgICAgICAgICAgICB2YXIgaSxcbiAgICAgICAgICAgICAgICAgICAgYXJyID0gc3RyLnNwbGl0KCcuJyksXG4gICAgICAgICAgICAgICAgICAgIGcxID0gK0ZPUk1BVC5ncm91cFNpemUsXG4gICAgICAgICAgICAgICAgICAgIGcyID0gK0ZPUk1BVC5zZWNvbmRhcnlHcm91cFNpemUsXG4gICAgICAgICAgICAgICAgICAgIGdyb3VwU2VwYXJhdG9yID0gRk9STUFULmdyb3VwU2VwYXJhdG9yLFxuICAgICAgICAgICAgICAgICAgICBpbnRQYXJ0ID0gYXJyWzBdLFxuICAgICAgICAgICAgICAgICAgICBmcmFjdGlvblBhcnQgPSBhcnJbMV0sXG4gICAgICAgICAgICAgICAgICAgIGlzTmVnID0gdGhpcy5zIDwgMCxcbiAgICAgICAgICAgICAgICAgICAgaW50RGlnaXRzID0gaXNOZWcgPyBpbnRQYXJ0LnNsaWNlKDEpIDogaW50UGFydCxcbiAgICAgICAgICAgICAgICAgICAgbGVuID0gaW50RGlnaXRzLmxlbmd0aDtcblxuICAgICAgICAgICAgICAgIGlmIChnMikgaSA9IGcxLCBnMSA9IGcyLCBnMiA9IGksIGxlbiAtPSBpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCBnMSA+IDAgJiYgbGVuID4gMCApIHtcbiAgICAgICAgICAgICAgICAgICAgaSA9IGxlbiAlIGcxIHx8IGcxO1xuICAgICAgICAgICAgICAgICAgICBpbnRQYXJ0ID0gaW50RGlnaXRzLnN1YnN0ciggMCwgaSApO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAoIDsgaSA8IGxlbjsgaSArPSBnMSApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGludFBhcnQgKz0gZ3JvdXBTZXBhcmF0b3IgKyBpbnREaWdpdHMuc3Vic3RyKCBpLCBnMSApO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCBnMiA+IDAgKSBpbnRQYXJ0ICs9IGdyb3VwU2VwYXJhdG9yICsgaW50RGlnaXRzLnNsaWNlKGkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNOZWcpIGludFBhcnQgPSAnLScgKyBpbnRQYXJ0O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHN0ciA9IGZyYWN0aW9uUGFydFxuICAgICAgICAgICAgICAgICAgPyBpbnRQYXJ0ICsgRk9STUFULmRlY2ltYWxTZXBhcmF0b3IgKyAoICggZzIgPSArRk9STUFULmZyYWN0aW9uR3JvdXBTaXplIClcbiAgICAgICAgICAgICAgICAgICAgPyBmcmFjdGlvblBhcnQucmVwbGFjZSggbmV3IFJlZ0V4cCggJ1xcXFxkeycgKyBnMiArICd9XFxcXEInLCAnZycgKSxcbiAgICAgICAgICAgICAgICAgICAgICAnJCYnICsgRk9STUFULmZyYWN0aW9uR3JvdXBTZXBhcmF0b3IgKVxuICAgICAgICAgICAgICAgICAgICA6IGZyYWN0aW9uUGFydCApXG4gICAgICAgICAgICAgICAgICA6IGludFBhcnQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBzdHI7XG4gICAgICAgIH07XG5cblxuICAgICAgICAvKlxuICAgICAgICAgKiBSZXR1cm4gYSBzdHJpbmcgYXJyYXkgcmVwcmVzZW50aW5nIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBhcyBhIHNpbXBsZSBmcmFjdGlvbiB3aXRoXG4gICAgICAgICAqIGFuIGludGVnZXIgbnVtZXJhdG9yIGFuZCBhbiBpbnRlZ2VyIGRlbm9taW5hdG9yLiBUaGUgZGVub21pbmF0b3Igd2lsbCBiZSBhIHBvc2l0aXZlXG4gICAgICAgICAqIG5vbi16ZXJvIHZhbHVlIGxlc3MgdGhhbiBvciBlcXVhbCB0byB0aGUgc3BlY2lmaWVkIG1heGltdW0gZGVub21pbmF0b3IuIElmIGEgbWF4aW11bVxuICAgICAgICAgKiBkZW5vbWluYXRvciBpcyBub3Qgc3BlY2lmaWVkLCB0aGUgZGVub21pbmF0b3Igd2lsbCBiZSB0aGUgbG93ZXN0IHZhbHVlIG5lY2Vzc2FyeSB0b1xuICAgICAgICAgKiByZXByZXNlbnQgdGhlIG51bWJlciBleGFjdGx5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBbbWRdIHtudW1iZXJ8c3RyaW5nfEJpZ051bWJlcn0gSW50ZWdlciA+PSAxIGFuZCA8IEluZmluaXR5LiBUaGUgbWF4aW11bSBkZW5vbWluYXRvci5cbiAgICAgICAgICpcbiAgICAgICAgICogJ3RvRnJhY3Rpb24oKSBtYXggZGVub21pbmF0b3Igbm90IGFuIGludGVnZXI6IHttZH0nXG4gICAgICAgICAqICd0b0ZyYWN0aW9uKCkgbWF4IGRlbm9taW5hdG9yIG91dCBvZiByYW5nZToge21kfSdcbiAgICAgICAgICovXG4gICAgICAgIFAudG9GcmFjdGlvbiA9IGZ1bmN0aW9uIChtZCkge1xuICAgICAgICAgICAgdmFyIGFyciwgZDAsIGQyLCBlLCBleHAsIG4sIG4wLCBxLCBzLFxuICAgICAgICAgICAgICAgIGsgPSBFUlJPUlMsXG4gICAgICAgICAgICAgICAgeCA9IHRoaXMsXG4gICAgICAgICAgICAgICAgeGMgPSB4LmMsXG4gICAgICAgICAgICAgICAgZCA9IG5ldyBCaWdOdW1iZXIoT05FKSxcbiAgICAgICAgICAgICAgICBuMSA9IGQwID0gbmV3IEJpZ051bWJlcihPTkUpLFxuICAgICAgICAgICAgICAgIGQxID0gbjAgPSBuZXcgQmlnTnVtYmVyKE9ORSk7XG5cbiAgICAgICAgICAgIGlmICggbWQgIT0gbnVsbCApIHtcbiAgICAgICAgICAgICAgICBFUlJPUlMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBuID0gbmV3IEJpZ051bWJlcihtZCk7XG4gICAgICAgICAgICAgICAgRVJST1JTID0gaztcblxuICAgICAgICAgICAgICAgIGlmICggISggayA9IG4uaXNJbnQoKSApIHx8IG4ubHQoT05FKSApIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoRVJST1JTKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByYWlzZSggMjIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdtYXggZGVub21pbmF0b3IgJyArICggayA/ICdvdXQgb2YgcmFuZ2UnIDogJ25vdCBhbiBpbnRlZ2VyJyApLCBtZCApO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gRVJST1JTIGlzIGZhbHNlOlxuICAgICAgICAgICAgICAgICAgICAvLyBJZiBtZCBpcyBhIGZpbml0ZSBub24taW50ZWdlciA+PSAxLCByb3VuZCBpdCB0byBhbiBpbnRlZ2VyIGFuZCB1c2UgaXQuXG4gICAgICAgICAgICAgICAgICAgIG1kID0gIWsgJiYgbi5jICYmIHJvdW5kKCBuLCBuLmUgKyAxLCAxICkuZ3RlKE9ORSkgPyBuIDogbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICggIXhjICkgcmV0dXJuIHgudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIHMgPSBjb2VmZlRvU3RyaW5nKHhjKTtcblxuICAgICAgICAgICAgLy8gRGV0ZXJtaW5lIGluaXRpYWwgZGVub21pbmF0b3IuXG4gICAgICAgICAgICAvLyBkIGlzIGEgcG93ZXIgb2YgMTAgYW5kIHRoZSBtaW5pbXVtIG1heCBkZW5vbWluYXRvciB0aGF0IHNwZWNpZmllcyB0aGUgdmFsdWUgZXhhY3RseS5cbiAgICAgICAgICAgIGUgPSBkLmUgPSBzLmxlbmd0aCAtIHguZSAtIDE7XG4gICAgICAgICAgICBkLmNbMF0gPSBQT1dTX1RFTlsgKCBleHAgPSBlICUgTE9HX0JBU0UgKSA8IDAgPyBMT0dfQkFTRSArIGV4cCA6IGV4cCBdO1xuICAgICAgICAgICAgbWQgPSAhbWQgfHwgbi5jbXAoZCkgPiAwID8gKCBlID4gMCA/IGQgOiBuMSApIDogbjtcblxuICAgICAgICAgICAgZXhwID0gTUFYX0VYUDtcbiAgICAgICAgICAgIE1BWF9FWFAgPSAxIC8gMDtcbiAgICAgICAgICAgIG4gPSBuZXcgQmlnTnVtYmVyKHMpO1xuXG4gICAgICAgICAgICAvLyBuMCA9IGQxID0gMFxuICAgICAgICAgICAgbjAuY1swXSA9IDA7XG5cbiAgICAgICAgICAgIGZvciAoIDsgOyApICB7XG4gICAgICAgICAgICAgICAgcSA9IGRpdiggbiwgZCwgMCwgMSApO1xuICAgICAgICAgICAgICAgIGQyID0gZDAucGx1cyggcS50aW1lcyhkMSkgKTtcbiAgICAgICAgICAgICAgICBpZiAoIGQyLmNtcChtZCkgPT0gMSApIGJyZWFrO1xuICAgICAgICAgICAgICAgIGQwID0gZDE7XG4gICAgICAgICAgICAgICAgZDEgPSBkMjtcbiAgICAgICAgICAgICAgICBuMSA9IG4wLnBsdXMoIHEudGltZXMoIGQyID0gbjEgKSApO1xuICAgICAgICAgICAgICAgIG4wID0gZDI7XG4gICAgICAgICAgICAgICAgZCA9IG4ubWludXMoIHEudGltZXMoIGQyID0gZCApICk7XG4gICAgICAgICAgICAgICAgbiA9IGQyO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkMiA9IGRpdiggbWQubWludXMoZDApLCBkMSwgMCwgMSApO1xuICAgICAgICAgICAgbjAgPSBuMC5wbHVzKCBkMi50aW1lcyhuMSkgKTtcbiAgICAgICAgICAgIGQwID0gZDAucGx1cyggZDIudGltZXMoZDEpICk7XG4gICAgICAgICAgICBuMC5zID0gbjEucyA9IHgucztcbiAgICAgICAgICAgIGUgKj0gMjtcblxuICAgICAgICAgICAgLy8gRGV0ZXJtaW5lIHdoaWNoIGZyYWN0aW9uIGlzIGNsb3NlciB0byB4LCBuMC9kMCBvciBuMS9kMVxuICAgICAgICAgICAgYXJyID0gZGl2KCBuMSwgZDEsIGUsIFJPVU5ESU5HX01PREUgKS5taW51cyh4KS5hYnMoKS5jbXAoXG4gICAgICAgICAgICAgICAgICBkaXYoIG4wLCBkMCwgZSwgUk9VTkRJTkdfTU9ERSApLm1pbnVzKHgpLmFicygpICkgPCAxXG4gICAgICAgICAgICAgICAgICAgID8gWyBuMS50b1N0cmluZygpLCBkMS50b1N0cmluZygpIF1cbiAgICAgICAgICAgICAgICAgICAgOiBbIG4wLnRvU3RyaW5nKCksIGQwLnRvU3RyaW5nKCkgXTtcblxuICAgICAgICAgICAgTUFYX0VYUCA9IGV4cDtcbiAgICAgICAgICAgIHJldHVybiBhcnI7XG4gICAgICAgIH07XG5cblxuICAgICAgICAvKlxuICAgICAgICAgKiBSZXR1cm4gdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIGNvbnZlcnRlZCB0byBhIG51bWJlciBwcmltaXRpdmUuXG4gICAgICAgICAqL1xuICAgICAgICBQLnRvTnVtYmVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHggPSB0aGlzO1xuXG4gICAgICAgICAgICAvLyBFbnN1cmUgemVybyBoYXMgY29ycmVjdCBzaWduLlxuICAgICAgICAgICAgcmV0dXJuICt4IHx8ICggeC5zID8geC5zICogMCA6IE5hTiApO1xuICAgICAgICB9O1xuXG5cbiAgICAgICAgLypcbiAgICAgICAgICogUmV0dXJuIGEgQmlnTnVtYmVyIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciByYWlzZWQgdG8gdGhlIHBvd2VyIG4uXG4gICAgICAgICAqIElmIG4gaXMgbmVnYXRpdmUgcm91bmQgYWNjb3JkaW5nIHRvIERFQ0lNQUxfUExBQ0VTIGFuZCBST1VORElOR19NT0RFLlxuICAgICAgICAgKiBJZiBQT1dfUFJFQ0lTSU9OIGlzIG5vdCAwLCByb3VuZCB0byBQT1dfUFJFQ0lTSU9OIHVzaW5nIFJPVU5ESU5HX01PREUuXG4gICAgICAgICAqXG4gICAgICAgICAqIG4ge251bWJlcn0gSW50ZWdlciwgLTkwMDcxOTkyNTQ3NDA5OTIgdG8gOTAwNzE5OTI1NDc0MDk5MiBpbmNsdXNpdmUuXG4gICAgICAgICAqIChQZXJmb3JtcyA1NCBsb29wIGl0ZXJhdGlvbnMgZm9yIG4gb2YgOTAwNzE5OTI1NDc0MDk5Mi4pXG4gICAgICAgICAqXG4gICAgICAgICAqICdwb3coKSBleHBvbmVudCBub3QgYW4gaW50ZWdlcjoge259J1xuICAgICAgICAgKiAncG93KCkgZXhwb25lbnQgb3V0IG9mIHJhbmdlOiB7bn0nXG4gICAgICAgICAqL1xuICAgICAgICBQLnRvUG93ZXIgPSBQLnBvdyA9IGZ1bmN0aW9uIChuKSB7XG4gICAgICAgICAgICB2YXIgaywgeSxcbiAgICAgICAgICAgICAgICBpID0gbWF0aGZsb29yKCBuIDwgMCA/IC1uIDogK24gKSxcbiAgICAgICAgICAgICAgICB4ID0gdGhpcztcblxuICAgICAgICAgICAgLy8gUGFzcyDCsUluZmluaXR5IHRvIE1hdGgucG93IGlmIGV4cG9uZW50IGlzIG91dCBvZiByYW5nZS5cbiAgICAgICAgICAgIGlmICggIWlzVmFsaWRJbnQoIG4sIC1NQVhfU0FGRV9JTlRFR0VSLCBNQVhfU0FGRV9JTlRFR0VSLCAyMywgJ2V4cG9uZW50JyApICYmXG4gICAgICAgICAgICAgICggIWlzRmluaXRlKG4pIHx8IGkgPiBNQVhfU0FGRV9JTlRFR0VSICYmICggbiAvPSAwICkgfHxcbiAgICAgICAgICAgICAgICBwYXJzZUZsb2F0KG4pICE9IG4gJiYgISggbiA9IE5hTiApICkgKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBCaWdOdW1iZXIoIE1hdGgucG93KCAreCwgbiApICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFRydW5jYXRpbmcgZWFjaCBjb2VmZmljaWVudCBhcnJheSB0byBhIGxlbmd0aCBvZiBrIGFmdGVyIGVhY2ggbXVsdGlwbGljYXRpb24gZXF1YXRlc1xuICAgICAgICAgICAgLy8gdG8gdHJ1bmNhdGluZyBzaWduaWZpY2FudCBkaWdpdHMgdG8gUE9XX1BSRUNJU0lPTiArIFsyOCwgNDFdLCBpLmUuIHRoZXJlIHdpbGwgYmUgYVxuICAgICAgICAgICAgLy8gbWluaW11bSBvZiAyOCBndWFyZCBkaWdpdHMgcmV0YWluZWQuIChVc2luZyArIDEuNSB3b3VsZCBnaXZlIFs5LCAyMV0gZ3VhcmQgZGlnaXRzLilcbiAgICAgICAgICAgIGsgPSBQT1dfUFJFQ0lTSU9OID8gbWF0aGNlaWwoIFBPV19QUkVDSVNJT04gLyBMT0dfQkFTRSArIDIgKSA6IDA7XG4gICAgICAgICAgICB5ID0gbmV3IEJpZ051bWJlcihPTkUpO1xuXG4gICAgICAgICAgICBmb3IgKCA7IDsgKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoIGkgJSAyICkge1xuICAgICAgICAgICAgICAgICAgICB5ID0geS50aW1lcyh4KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCAheS5jICkgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGlmICggayAmJiB5LmMubGVuZ3RoID4gayApIHkuYy5sZW5ndGggPSBrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGkgPSBtYXRoZmxvb3IoIGkgLyAyICk7XG4gICAgICAgICAgICAgICAgaWYgKCAhaSApIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgeCA9IHgudGltZXMoeCk7XG4gICAgICAgICAgICAgICAgaWYgKCBrICYmIHguYyAmJiB4LmMubGVuZ3RoID4gayApIHguYy5sZW5ndGggPSBrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIG4gPCAwICkgeSA9IE9ORS5kaXYoeSk7XG4gICAgICAgICAgICByZXR1cm4gayA/IHJvdW5kKCB5LCBQT1dfUFJFQ0lTSU9OLCBST1VORElOR19NT0RFICkgOiB5O1xuICAgICAgICB9O1xuXG5cbiAgICAgICAgLypcbiAgICAgICAgICogUmV0dXJuIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgcm91bmRlZCB0byBzZCBzaWduaWZpY2FudCBkaWdpdHNcbiAgICAgICAgICogdXNpbmcgcm91bmRpbmcgbW9kZSBybSBvciBST1VORElOR19NT0RFLiBJZiBzZCBpcyBsZXNzIHRoYW4gdGhlIG51bWJlciBvZiBkaWdpdHNcbiAgICAgICAgICogbmVjZXNzYXJ5IHRvIHJlcHJlc2VudCB0aGUgaW50ZWdlciBwYXJ0IG9mIHRoZSB2YWx1ZSBpbiBmaXhlZC1wb2ludCBub3RhdGlvbiwgdGhlbiB1c2VcbiAgICAgICAgICogZXhwb25lbnRpYWwgbm90YXRpb24uXG4gICAgICAgICAqXG4gICAgICAgICAqIFtzZF0ge251bWJlcn0gU2lnbmlmaWNhbnQgZGlnaXRzLiBJbnRlZ2VyLCAxIHRvIE1BWCBpbmNsdXNpdmUuXG4gICAgICAgICAqIFtybV0ge251bWJlcn0gUm91bmRpbmcgbW9kZS4gSW50ZWdlciwgMCB0byA4IGluY2x1c2l2ZS5cbiAgICAgICAgICpcbiAgICAgICAgICogJ3RvUHJlY2lzaW9uKCkgcHJlY2lzaW9uIG5vdCBhbiBpbnRlZ2VyOiB7c2R9J1xuICAgICAgICAgKiAndG9QcmVjaXNpb24oKSBwcmVjaXNpb24gb3V0IG9mIHJhbmdlOiB7c2R9J1xuICAgICAgICAgKiAndG9QcmVjaXNpb24oKSByb3VuZGluZyBtb2RlIG5vdCBhbiBpbnRlZ2VyOiB7cm19J1xuICAgICAgICAgKiAndG9QcmVjaXNpb24oKSByb3VuZGluZyBtb2RlIG91dCBvZiByYW5nZToge3JtfSdcbiAgICAgICAgICovXG4gICAgICAgIFAudG9QcmVjaXNpb24gPSBmdW5jdGlvbiAoIHNkLCBybSApIHtcbiAgICAgICAgICAgIHJldHVybiBmb3JtYXQoIHRoaXMsIHNkICE9IG51bGwgJiYgaXNWYWxpZEludCggc2QsIDEsIE1BWCwgMjQsICdwcmVjaXNpb24nIClcbiAgICAgICAgICAgICAgPyBzZCB8IDAgOiBudWxsLCBybSwgMjQgKTtcbiAgICAgICAgfTtcblxuXG4gICAgICAgIC8qXG4gICAgICAgICAqIFJldHVybiBhIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIGluIGJhc2UgYiwgb3IgYmFzZSAxMCBpZiBiIGlzXG4gICAgICAgICAqIG9taXR0ZWQuIElmIGEgYmFzZSBpcyBzcGVjaWZpZWQsIGluY2x1ZGluZyBiYXNlIDEwLCByb3VuZCBhY2NvcmRpbmcgdG8gREVDSU1BTF9QTEFDRVMgYW5kXG4gICAgICAgICAqIFJPVU5ESU5HX01PREUuIElmIGEgYmFzZSBpcyBub3Qgc3BlY2lmaWVkLCBhbmQgdGhpcyBCaWdOdW1iZXIgaGFzIGEgcG9zaXRpdmUgZXhwb25lbnRcbiAgICAgICAgICogdGhhdCBpcyBlcXVhbCB0byBvciBncmVhdGVyIHRoYW4gVE9fRVhQX1BPUywgb3IgYSBuZWdhdGl2ZSBleHBvbmVudCBlcXVhbCB0byBvciBsZXNzIHRoYW5cbiAgICAgICAgICogVE9fRVhQX05FRywgcmV0dXJuIGV4cG9uZW50aWFsIG5vdGF0aW9uLlxuICAgICAgICAgKlxuICAgICAgICAgKiBbYl0ge251bWJlcn0gSW50ZWdlciwgMiB0byA2NCBpbmNsdXNpdmUuXG4gICAgICAgICAqXG4gICAgICAgICAqICd0b1N0cmluZygpIGJhc2Ugbm90IGFuIGludGVnZXI6IHtifSdcbiAgICAgICAgICogJ3RvU3RyaW5nKCkgYmFzZSBvdXQgb2YgcmFuZ2U6IHtifSdcbiAgICAgICAgICovXG4gICAgICAgIFAudG9TdHJpbmcgPSBmdW5jdGlvbiAoYikge1xuICAgICAgICAgICAgdmFyIHN0cixcbiAgICAgICAgICAgICAgICBuID0gdGhpcyxcbiAgICAgICAgICAgICAgICBzID0gbi5zLFxuICAgICAgICAgICAgICAgIGUgPSBuLmU7XG5cbiAgICAgICAgICAgIC8vIEluZmluaXR5IG9yIE5hTj9cbiAgICAgICAgICAgIGlmICggZSA9PT0gbnVsbCApIHtcblxuICAgICAgICAgICAgICAgIGlmIChzKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0ciA9ICdJbmZpbml0eSc7XG4gICAgICAgICAgICAgICAgICAgIGlmICggcyA8IDAgKSBzdHIgPSAnLScgKyBzdHI7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3RyID0gJ05hTic7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdHIgPSBjb2VmZlRvU3RyaW5nKCBuLmMgKTtcblxuICAgICAgICAgICAgICAgIGlmICggYiA9PSBudWxsIHx8ICFpc1ZhbGlkSW50KCBiLCAyLCA2NCwgMjUsICdiYXNlJyApICkge1xuICAgICAgICAgICAgICAgICAgICBzdHIgPSBlIDw9IFRPX0VYUF9ORUcgfHwgZSA+PSBUT19FWFBfUE9TXG4gICAgICAgICAgICAgICAgICAgICAgPyB0b0V4cG9uZW50aWFsKCBzdHIsIGUgKVxuICAgICAgICAgICAgICAgICAgICAgIDogdG9GaXhlZFBvaW50KCBzdHIsIGUgKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzdHIgPSBjb252ZXJ0QmFzZSggdG9GaXhlZFBvaW50KCBzdHIsIGUgKSwgYiB8IDAsIDEwLCBzICk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKCBzIDwgMCAmJiBuLmNbMF0gKSBzdHIgPSAnLScgKyBzdHI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBzdHI7XG4gICAgICAgIH07XG5cblxuICAgICAgICAvKlxuICAgICAgICAgKiBSZXR1cm4gYSBuZXcgQmlnTnVtYmVyIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciB0cnVuY2F0ZWQgdG8gYSB3aG9sZVxuICAgICAgICAgKiBudW1iZXIuXG4gICAgICAgICAqL1xuICAgICAgICBQLnRydW5jYXRlZCA9IFAudHJ1bmMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gcm91bmQoIG5ldyBCaWdOdW1iZXIodGhpcyksIHRoaXMuZSArIDEsIDEgKTtcbiAgICAgICAgfTtcblxuXG5cbiAgICAgICAgLypcbiAgICAgICAgICogUmV0dXJuIGFzIHRvU3RyaW5nLCBidXQgZG8gbm90IGFjY2VwdCBhIGJhc2UgYXJndW1lbnQuXG4gICAgICAgICAqL1xuICAgICAgICBQLnZhbHVlT2YgPSBQLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRvU3RyaW5nKCk7XG4gICAgICAgIH07XG5cblxuICAgICAgICAvLyBBbGlhc2VzIGZvciBCaWdEZWNpbWFsIG1ldGhvZHMuXG4gICAgICAgIC8vUC5hZGQgPSBQLnBsdXM7ICAgICAgICAgLy8gUC5hZGQgaW5jbHVkZWQgYWJvdmVcbiAgICAgICAgLy9QLnN1YnRyYWN0ID0gUC5taW51czsgICAvLyBQLnN1YiBpbmNsdWRlZCBhYm92ZVxuICAgICAgICAvL1AubXVsdGlwbHkgPSBQLnRpbWVzOyAgIC8vIFAubXVsIGluY2x1ZGVkIGFib3ZlXG4gICAgICAgIC8vUC5kaXZpZGUgPSBQLmRpdjtcbiAgICAgICAgLy9QLnJlbWFpbmRlciA9IFAubW9kO1xuICAgICAgICAvL1AuY29tcGFyZVRvID0gUC5jbXA7XG4gICAgICAgIC8vUC5uZWdhdGUgPSBQLm5lZztcblxuXG4gICAgICAgIGlmICggY29uZmlnT2JqICE9IG51bGwgKSBCaWdOdW1iZXIuY29uZmlnKGNvbmZpZ09iaik7XG5cbiAgICAgICAgcmV0dXJuIEJpZ051bWJlcjtcbiAgICB9XG5cblxuICAgIC8vIFBSSVZBVEUgSEVMUEVSIEZVTkNUSU9OU1xuXG5cbiAgICBmdW5jdGlvbiBiaXRGbG9vcihuKSB7XG4gICAgICAgIHZhciBpID0gbiB8IDA7XG4gICAgICAgIHJldHVybiBuID4gMCB8fCBuID09PSBpID8gaSA6IGkgLSAxO1xuICAgIH1cblxuXG4gICAgLy8gUmV0dXJuIGEgY29lZmZpY2llbnQgYXJyYXkgYXMgYSBzdHJpbmcgb2YgYmFzZSAxMCBkaWdpdHMuXG4gICAgZnVuY3Rpb24gY29lZmZUb1N0cmluZyhhKSB7XG4gICAgICAgIHZhciBzLCB6LFxuICAgICAgICAgICAgaSA9IDEsXG4gICAgICAgICAgICBqID0gYS5sZW5ndGgsXG4gICAgICAgICAgICByID0gYVswXSArICcnO1xuXG4gICAgICAgIGZvciAoIDsgaSA8IGo7ICkge1xuICAgICAgICAgICAgcyA9IGFbaSsrXSArICcnO1xuICAgICAgICAgICAgeiA9IExPR19CQVNFIC0gcy5sZW5ndGg7XG4gICAgICAgICAgICBmb3IgKCA7IHotLTsgcyA9ICcwJyArIHMgKTtcbiAgICAgICAgICAgIHIgKz0gcztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIERldGVybWluZSB0cmFpbGluZyB6ZXJvcy5cbiAgICAgICAgZm9yICggaiA9IHIubGVuZ3RoOyByLmNoYXJDb2RlQXQoLS1qKSA9PT0gNDg7ICk7XG4gICAgICAgIHJldHVybiByLnNsaWNlKCAwLCBqICsgMSB8fCAxICk7XG4gICAgfVxuXG5cbiAgICAvLyBDb21wYXJlIHRoZSB2YWx1ZSBvZiBCaWdOdW1iZXJzIHggYW5kIHkuXG4gICAgZnVuY3Rpb24gY29tcGFyZSggeCwgeSApIHtcbiAgICAgICAgdmFyIGEsIGIsXG4gICAgICAgICAgICB4YyA9IHguYyxcbiAgICAgICAgICAgIHljID0geS5jLFxuICAgICAgICAgICAgaSA9IHgucyxcbiAgICAgICAgICAgIGogPSB5LnMsXG4gICAgICAgICAgICBrID0geC5lLFxuICAgICAgICAgICAgbCA9IHkuZTtcblxuICAgICAgICAvLyBFaXRoZXIgTmFOP1xuICAgICAgICBpZiAoICFpIHx8ICFqICkgcmV0dXJuIG51bGw7XG5cbiAgICAgICAgYSA9IHhjICYmICF4Y1swXTtcbiAgICAgICAgYiA9IHljICYmICF5Y1swXTtcblxuICAgICAgICAvLyBFaXRoZXIgemVybz9cbiAgICAgICAgaWYgKCBhIHx8IGIgKSByZXR1cm4gYSA/IGIgPyAwIDogLWogOiBpO1xuXG4gICAgICAgIC8vIFNpZ25zIGRpZmZlcj9cbiAgICAgICAgaWYgKCBpICE9IGogKSByZXR1cm4gaTtcblxuICAgICAgICBhID0gaSA8IDA7XG4gICAgICAgIGIgPSBrID09IGw7XG5cbiAgICAgICAgLy8gRWl0aGVyIEluZmluaXR5P1xuICAgICAgICBpZiAoICF4YyB8fCAheWMgKSByZXR1cm4gYiA/IDAgOiAheGMgXiBhID8gMSA6IC0xO1xuXG4gICAgICAgIC8vIENvbXBhcmUgZXhwb25lbnRzLlxuICAgICAgICBpZiAoICFiICkgcmV0dXJuIGsgPiBsIF4gYSA/IDEgOiAtMTtcblxuICAgICAgICBqID0gKCBrID0geGMubGVuZ3RoICkgPCAoIGwgPSB5Yy5sZW5ndGggKSA/IGsgOiBsO1xuXG4gICAgICAgIC8vIENvbXBhcmUgZGlnaXQgYnkgZGlnaXQuXG4gICAgICAgIGZvciAoIGkgPSAwOyBpIDwgajsgaSsrICkgaWYgKCB4Y1tpXSAhPSB5Y1tpXSApIHJldHVybiB4Y1tpXSA+IHljW2ldIF4gYSA/IDEgOiAtMTtcblxuICAgICAgICAvLyBDb21wYXJlIGxlbmd0aHMuXG4gICAgICAgIHJldHVybiBrID09IGwgPyAwIDogayA+IGwgXiBhID8gMSA6IC0xO1xuICAgIH1cblxuXG4gICAgLypcbiAgICAgKiBSZXR1cm4gdHJ1ZSBpZiBuIGlzIGEgdmFsaWQgbnVtYmVyIGluIHJhbmdlLCBvdGhlcndpc2UgZmFsc2UuXG4gICAgICogVXNlIGZvciBhcmd1bWVudCB2YWxpZGF0aW9uIHdoZW4gRVJST1JTIGlzIGZhbHNlLlxuICAgICAqIE5vdGU6IHBhcnNlSW50KCcxZSsxJykgPT0gMSBidXQgcGFyc2VGbG9hdCgnMWUrMScpID09IDEwLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGludFZhbGlkYXRvck5vRXJyb3JzKCBuLCBtaW4sIG1heCApIHtcbiAgICAgICAgcmV0dXJuICggbiA9IHRydW5jYXRlKG4pICkgPj0gbWluICYmIG4gPD0gbWF4O1xuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gaXNBcnJheShvYmopIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopID09ICdbb2JqZWN0IEFycmF5XSc7XG4gICAgfVxuXG5cbiAgICAvKlxuICAgICAqIENvbnZlcnQgc3RyaW5nIG9mIGJhc2VJbiB0byBhbiBhcnJheSBvZiBudW1iZXJzIG9mIGJhc2VPdXQuXG4gICAgICogRWcuIGNvbnZlcnRCYXNlKCcyNTUnLCAxMCwgMTYpIHJldHVybnMgWzE1LCAxNV0uXG4gICAgICogRWcuIGNvbnZlcnRCYXNlKCdmZicsIDE2LCAxMCkgcmV0dXJucyBbMiwgNSwgNV0uXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9CYXNlT3V0KCBzdHIsIGJhc2VJbiwgYmFzZU91dCApIHtcbiAgICAgICAgdmFyIGosXG4gICAgICAgICAgICBhcnIgPSBbMF0sXG4gICAgICAgICAgICBhcnJMLFxuICAgICAgICAgICAgaSA9IDAsXG4gICAgICAgICAgICBsZW4gPSBzdHIubGVuZ3RoO1xuXG4gICAgICAgIGZvciAoIDsgaSA8IGxlbjsgKSB7XG4gICAgICAgICAgICBmb3IgKCBhcnJMID0gYXJyLmxlbmd0aDsgYXJyTC0tOyBhcnJbYXJyTF0gKj0gYmFzZUluICk7XG4gICAgICAgICAgICBhcnJbIGogPSAwIF0gKz0gQUxQSEFCRVQuaW5kZXhPZiggc3RyLmNoYXJBdCggaSsrICkgKTtcblxuICAgICAgICAgICAgZm9yICggOyBqIDwgYXJyLmxlbmd0aDsgaisrICkge1xuXG4gICAgICAgICAgICAgICAgaWYgKCBhcnJbal0gPiBiYXNlT3V0IC0gMSApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCBhcnJbaiArIDFdID09IG51bGwgKSBhcnJbaiArIDFdID0gMDtcbiAgICAgICAgICAgICAgICAgICAgYXJyW2ogKyAxXSArPSBhcnJbal0gLyBiYXNlT3V0IHwgMDtcbiAgICAgICAgICAgICAgICAgICAgYXJyW2pdICU9IGJhc2VPdXQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGFyci5yZXZlcnNlKCk7XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiB0b0V4cG9uZW50aWFsKCBzdHIsIGUgKSB7XG4gICAgICAgIHJldHVybiAoIHN0ci5sZW5ndGggPiAxID8gc3RyLmNoYXJBdCgwKSArICcuJyArIHN0ci5zbGljZSgxKSA6IHN0ciApICtcbiAgICAgICAgICAoIGUgPCAwID8gJ2UnIDogJ2UrJyApICsgZTtcbiAgICB9XG5cblxuICAgIGZ1bmN0aW9uIHRvRml4ZWRQb2ludCggc3RyLCBlICkge1xuICAgICAgICB2YXIgbGVuLCB6O1xuXG4gICAgICAgIC8vIE5lZ2F0aXZlIGV4cG9uZW50P1xuICAgICAgICBpZiAoIGUgPCAwICkge1xuXG4gICAgICAgICAgICAvLyBQcmVwZW5kIHplcm9zLlxuICAgICAgICAgICAgZm9yICggeiA9ICcwLic7ICsrZTsgeiArPSAnMCcgKTtcbiAgICAgICAgICAgIHN0ciA9IHogKyBzdHI7XG5cbiAgICAgICAgLy8gUG9zaXRpdmUgZXhwb25lbnRcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxlbiA9IHN0ci5sZW5ndGg7XG5cbiAgICAgICAgICAgIC8vIEFwcGVuZCB6ZXJvcy5cbiAgICAgICAgICAgIGlmICggKytlID4gbGVuICkge1xuICAgICAgICAgICAgICAgIGZvciAoIHogPSAnMCcsIGUgLT0gbGVuOyAtLWU7IHogKz0gJzAnICk7XG4gICAgICAgICAgICAgICAgc3RyICs9IHo7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCBlIDwgbGVuICkge1xuICAgICAgICAgICAgICAgIHN0ciA9IHN0ci5zbGljZSggMCwgZSApICsgJy4nICsgc3RyLnNsaWNlKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG5cblxuICAgIGZ1bmN0aW9uIHRydW5jYXRlKG4pIHtcbiAgICAgICAgbiA9IHBhcnNlRmxvYXQobik7XG4gICAgICAgIHJldHVybiBuIDwgMCA/IG1hdGhjZWlsKG4pIDogbWF0aGZsb29yKG4pO1xuICAgIH1cblxuXG4gICAgLy8gRVhQT1JUXG5cblxuICAgIEJpZ051bWJlciA9IGFub3RoZXIoKTtcblxuICAgIC8vIEFNRC5cbiAgICBpZiAoIHR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kICkge1xuICAgICAgICBkZWZpbmUoIGZ1bmN0aW9uICgpIHsgcmV0dXJuIEJpZ051bWJlcjsgfSApO1xuXG4gICAgLy8gTm9kZSBhbmQgb3RoZXIgZW52aXJvbm1lbnRzIHRoYXQgc3VwcG9ydCBtb2R1bGUuZXhwb3J0cy5cbiAgICB9IGVsc2UgaWYgKCB0eXBlb2YgbW9kdWxlICE9ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzICkge1xuICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IEJpZ051bWJlcjtcbiAgICAgICAgaWYgKCAhY3J5cHRvICkgdHJ5IHsgY3J5cHRvID0gcmVxdWlyZSgnY3J5cHRvJyk7IH0gY2F0Y2ggKGUpIHt9XG5cbiAgICAvLyBCcm93c2VyLlxuICAgIH0gZWxzZSB7XG4gICAgICAgIGdsb2JhbC5CaWdOdW1iZXIgPSBCaWdOdW1iZXI7XG4gICAgfVxufSkodGhpcyk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L2JpZ251bWJlci5qcy9iaWdudW1iZXIuanMiLCIvKlxuICAgIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIHdlYjMuanMuXG5cbiAgICB3ZWIzLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAgICBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAgICB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICAgIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG5cbiAgICB3ZWIzLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gICAgYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAgICBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gICAgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG5cbiAgICBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAgICBhbG9uZyB3aXRoIHdlYjMuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4qL1xuLyoqIFxuICogQGZpbGUgc2hhMy5qc1xuICogQGF1dGhvciBNYXJlayBLb3Rld2ljeiA8bWFyZWtAZXRoZGV2LmNvbT5cbiAqIEBkYXRlIDIwMTVcbiAqL1xuXG52YXIgQ3J5cHRvSlMgPSByZXF1aXJlKCdjcnlwdG8tanMnKTtcbnZhciBzaGEzID0gcmVxdWlyZSgnY3J5cHRvLWpzL3NoYTMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodmFsdWUsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmVuY29kaW5nID09PSAnaGV4Jykge1xuICAgICAgICBpZiAodmFsdWUubGVuZ3RoID4gMiAmJiB2YWx1ZS5zdWJzdHIoMCwgMikgPT09ICcweCcpIHtcbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWUuc3Vic3RyKDIpO1xuICAgICAgICB9XG4gICAgICAgIHZhbHVlID0gQ3J5cHRvSlMuZW5jLkhleC5wYXJzZSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNoYTModmFsdWUsIHtcbiAgICAgICAgb3V0cHV0TGVuZ3RoOiAyNTZcbiAgICB9KS50b1N0cmluZygpO1xufTtcblxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi93ZWIzL2xpYi91dGlscy9zaGEzLmpzIiwiLypcbiAgICBUaGlzIGZpbGUgaXMgcGFydCBvZiB3ZWIzLmpzLlxuXG4gICAgd2ViMy5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gICAgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAgICAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuXG4gICAgd2ViMy5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICAgIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gICAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICAgIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuXG4gICAgWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gICAgYWxvbmcgd2l0aCB3ZWIzLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuKi9cbi8qKiBcbiAqIEBmaWxlIGVycm9ycy5qc1xuICogQGF1dGhvciBNYXJlayBLb3Rld2ljeiA8bWFyZWtAZXRoZGV2LmNvbT5cbiAqIEBkYXRlIDIwMTVcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBJbnZhbGlkTnVtYmVyT2ZQYXJhbXM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBFcnJvcignSW52YWxpZCBudW1iZXIgb2YgaW5wdXQgcGFyYW1ldGVycycpO1xuICAgIH0sXG4gICAgSW52YWxpZENvbm5lY3Rpb246IGZ1bmN0aW9uIChob3N0KXtcbiAgICAgICAgcmV0dXJuIG5ldyBFcnJvcignQ09OTkVDVElPTiBFUlJPUjogQ291bGRuXFwndCBjb25uZWN0IHRvIG5vZGUgJysgaG9zdCArJy4nKTtcbiAgICB9LFxuICAgIEludmFsaWRQcm92aWRlcjogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IEVycm9yKCdQcm92aWRlciBub3Qgc2V0IG9yIGludmFsaWQnKTtcbiAgICB9LFxuICAgIEludmFsaWRSZXNwb25zZTogZnVuY3Rpb24gKHJlc3VsdCl7XG4gICAgICAgIHZhciBtZXNzYWdlID0gISFyZXN1bHQgJiYgISFyZXN1bHQuZXJyb3IgJiYgISFyZXN1bHQuZXJyb3IubWVzc2FnZSA/IHJlc3VsdC5lcnJvci5tZXNzYWdlIDogJ0ludmFsaWQgSlNPTiBSUEMgcmVzcG9uc2U6ICcgKyBKU09OLnN0cmluZ2lmeShyZXN1bHQpO1xuICAgICAgICByZXR1cm4gbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgIH1cbn07XG5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vd2ViMy9saWIvd2ViMy9lcnJvcnMuanMiLCIvKlxuICAgIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIHdlYjMuanMuXG5cbiAgICB3ZWIzLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAgICBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAgICB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICAgIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG5cbiAgICB3ZWIzLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gICAgYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAgICBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gICAgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG5cbiAgICBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAgICBhbG9uZyB3aXRoIHdlYjMuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4qL1xuLyoqXG4gKiBAZmlsZSBwcm9wZXJ0eS5qc1xuICogQGF1dGhvciBGYWJpYW4gVm9nZWxzdGVsbGVyIDxmYWJpYW5AZnJvemVtYW4uZGU+XG4gKiBAYXV0aG9yIE1hcmVrIEtvdGV3aWN6IDxtYXJla0BldGhkZXYuY29tPlxuICogQGRhdGUgMjAxNVxuICovXG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzL3V0aWxzJyk7XG5cbnZhciBQcm9wZXJ0eSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdGhpcy5uYW1lID0gb3B0aW9ucy5uYW1lO1xuICAgIHRoaXMuZ2V0dGVyID0gb3B0aW9ucy5nZXR0ZXI7XG4gICAgdGhpcy5zZXR0ZXIgPSBvcHRpb25zLnNldHRlcjtcbiAgICB0aGlzLm91dHB1dEZvcm1hdHRlciA9IG9wdGlvbnMub3V0cHV0Rm9ybWF0dGVyO1xuICAgIHRoaXMuaW5wdXRGb3JtYXR0ZXIgPSBvcHRpb25zLmlucHV0Rm9ybWF0dGVyO1xuICAgIHRoaXMucmVxdWVzdE1hbmFnZXIgPSBudWxsO1xufTtcblxuUHJvcGVydHkucHJvdG90eXBlLnNldFJlcXVlc3RNYW5hZ2VyID0gZnVuY3Rpb24gKHJtKSB7XG4gICAgdGhpcy5yZXF1ZXN0TWFuYWdlciA9IHJtO1xufTtcblxuLyoqXG4gKiBTaG91bGQgYmUgY2FsbGVkIHRvIGZvcm1hdCBpbnB1dCBhcmdzIG9mIG1ldGhvZFxuICogXG4gKiBAbWV0aG9kIGZvcm1hdElucHV0XG4gKiBAcGFyYW0ge0FycmF5fVxuICogQHJldHVybiB7QXJyYXl9XG4gKi9cblByb3BlcnR5LnByb3RvdHlwZS5mb3JtYXRJbnB1dCA9IGZ1bmN0aW9uIChhcmcpIHtcbiAgICByZXR1cm4gdGhpcy5pbnB1dEZvcm1hdHRlciA/IHRoaXMuaW5wdXRGb3JtYXR0ZXIoYXJnKSA6IGFyZztcbn07XG5cbi8qKlxuICogU2hvdWxkIGJlIGNhbGxlZCB0byBmb3JtYXQgb3V0cHV0KHJlc3VsdCkgb2YgbWV0aG9kXG4gKlxuICogQG1ldGhvZCBmb3JtYXRPdXRwdXRcbiAqIEBwYXJhbSB7T2JqZWN0fVxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5Qcm9wZXJ0eS5wcm90b3R5cGUuZm9ybWF0T3V0cHV0ID0gZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgIHJldHVybiB0aGlzLm91dHB1dEZvcm1hdHRlciAmJiByZXN1bHQgIT09IG51bGwgPyB0aGlzLm91dHB1dEZvcm1hdHRlcihyZXN1bHQpIDogcmVzdWx0O1xufTtcblxuLyoqXG4gKiBTaG91bGQgYmUgdXNlZCB0byBleHRyYWN0IGNhbGxiYWNrIGZyb20gYXJyYXkgb2YgYXJndW1lbnRzLiBNb2RpZmllcyBpbnB1dCBwYXJhbVxuICpcbiAqIEBtZXRob2QgZXh0cmFjdENhbGxiYWNrXG4gKiBAcGFyYW0ge0FycmF5fSBhcmd1bWVudHNcbiAqIEByZXR1cm4ge0Z1bmN0aW9ufE51bGx9IGNhbGxiYWNrLCBpZiBleGlzdHNcbiAqL1xuUHJvcGVydHkucHJvdG90eXBlLmV4dHJhY3RDYWxsYmFjayA9IGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgaWYgKHV0aWxzLmlzRnVuY3Rpb24oYXJnc1thcmdzLmxlbmd0aCAtIDFdKSkge1xuICAgICAgICByZXR1cm4gYXJncy5wb3AoKTsgLy8gbW9kaWZ5IHRoZSBhcmdzIGFycmF5IVxuICAgIH1cbn07XG5cblxuLyoqXG4gKiBTaG91bGQgYXR0YWNoIGZ1bmN0aW9uIHRvIG1ldGhvZFxuICogXG4gKiBAbWV0aG9kIGF0dGFjaFRvT2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH1cbiAqIEBwYXJhbSB7RnVuY3Rpb259XG4gKi9cblByb3BlcnR5LnByb3RvdHlwZS5hdHRhY2hUb09iamVjdCA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICB2YXIgcHJvdG8gPSB7XG4gICAgICAgIGdldDogdGhpcy5idWlsZEdldCgpLFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlIFxuICAgIH07XG5cbiAgICB2YXIgbmFtZXMgPSB0aGlzLm5hbWUuc3BsaXQoJy4nKTtcbiAgICB2YXIgbmFtZSA9IG5hbWVzWzBdO1xuICAgIGlmIChuYW1lcy5sZW5ndGggPiAxKSB7XG4gICAgICAgIG9ialtuYW1lc1swXV0gPSBvYmpbbmFtZXNbMF1dIHx8IHt9O1xuICAgICAgICBvYmogPSBvYmpbbmFtZXNbMF1dO1xuICAgICAgICBuYW1lID0gbmFtZXNbMV07XG4gICAgfVxuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgbmFtZSwgcHJvdG8pO1xuICAgIG9ialthc3luY0dldHRlck5hbWUobmFtZSldID0gdGhpcy5idWlsZEFzeW5jR2V0KCk7XG59O1xuXG52YXIgYXN5bmNHZXR0ZXJOYW1lID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICByZXR1cm4gJ2dldCcgKyBuYW1lLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgbmFtZS5zbGljZSgxKTtcbn07XG5cblByb3BlcnR5LnByb3RvdHlwZS5idWlsZEdldCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcHJvcGVydHkgPSB0aGlzO1xuICAgIHJldHVybiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBwcm9wZXJ0eS5mb3JtYXRPdXRwdXQocHJvcGVydHkucmVxdWVzdE1hbmFnZXIuc2VuZCh7XG4gICAgICAgICAgICBtZXRob2Q6IHByb3BlcnR5LmdldHRlclxuICAgICAgICB9KSk7IFxuICAgIH07XG59O1xuXG5Qcm9wZXJ0eS5wcm90b3R5cGUuYnVpbGRBc3luY0dldCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcHJvcGVydHkgPSB0aGlzO1xuICAgIHZhciBnZXQgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgcHJvcGVydHkucmVxdWVzdE1hbmFnZXIuc2VuZEFzeW5jKHtcbiAgICAgICAgICAgIG1ldGhvZDogcHJvcGVydHkuZ2V0dGVyXG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnIsIHJlc3VsdCkge1xuICAgICAgICAgICAgY2FsbGJhY2soZXJyLCBwcm9wZXJ0eS5mb3JtYXRPdXRwdXQocmVzdWx0KSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgZ2V0LnJlcXVlc3QgPSB0aGlzLnJlcXVlc3QuYmluZCh0aGlzKTtcbiAgICByZXR1cm4gZ2V0O1xufTtcblxuLyoqXG4gKiBTaG91bGQgYmUgY2FsbGVkIHRvIGNyZWF0ZSBwdXJlIEpTT05SUEMgcmVxdWVzdCB3aGljaCBjYW4gYmUgdXNlZCBpbiBiYXRjaCByZXF1ZXN0XG4gKlxuICogQG1ldGhvZCByZXF1ZXN0XG4gKiBAcGFyYW0gey4uLn0gcGFyYW1zXG4gKiBAcmV0dXJuIHtPYmplY3R9IGpzb25ycGMgcmVxdWVzdFxuICovXG5Qcm9wZXJ0eS5wcm90b3R5cGUucmVxdWVzdCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcGF5bG9hZCA9IHtcbiAgICAgICAgbWV0aG9kOiB0aGlzLmdldHRlcixcbiAgICAgICAgcGFyYW1zOiBbXSxcbiAgICAgICAgY2FsbGJhY2s6IHRoaXMuZXh0cmFjdENhbGxiYWNrKEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykpXG4gICAgfTtcbiAgICBwYXlsb2FkLmZvcm1hdCA9IHRoaXMuZm9ybWF0T3V0cHV0LmJpbmQodGhpcyk7XG4gICAgcmV0dXJuIHBheWxvYWQ7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFByb3BlcnR5O1xuXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3dlYjMvbGliL3dlYjMvcHJvcGVydHkuanMiLCI7KGZ1bmN0aW9uIChyb290LCBmYWN0b3J5KSB7XG5cdGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gXCJvYmplY3RcIikge1xuXHRcdC8vIENvbW1vbkpTXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKFwiLi9jb3JlXCIpKTtcblx0fVxuXHRlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCkge1xuXHRcdC8vIEFNRFxuXHRcdGRlZmluZShbXCIuL2NvcmVcIl0sIGZhY3RvcnkpO1xuXHR9XG5cdGVsc2Uge1xuXHRcdC8vIEdsb2JhbCAoYnJvd3Nlcilcblx0XHRmYWN0b3J5KHJvb3QuQ3J5cHRvSlMpO1xuXHR9XG59KHRoaXMsIGZ1bmN0aW9uIChDcnlwdG9KUykge1xuXG5cdChmdW5jdGlvbiAoTWF0aCkge1xuXHQgICAgLy8gU2hvcnRjdXRzXG5cdCAgICB2YXIgQyA9IENyeXB0b0pTO1xuXHQgICAgdmFyIENfbGliID0gQy5saWI7XG5cdCAgICB2YXIgV29yZEFycmF5ID0gQ19saWIuV29yZEFycmF5O1xuXHQgICAgdmFyIEhhc2hlciA9IENfbGliLkhhc2hlcjtcblx0ICAgIHZhciBDX2FsZ28gPSBDLmFsZ287XG5cblx0ICAgIC8vIEluaXRpYWxpemF0aW9uIGFuZCByb3VuZCBjb25zdGFudHMgdGFibGVzXG5cdCAgICB2YXIgSCA9IFtdO1xuXHQgICAgdmFyIEsgPSBbXTtcblxuXHQgICAgLy8gQ29tcHV0ZSBjb25zdGFudHNcblx0ICAgIChmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgZnVuY3Rpb24gaXNQcmltZShuKSB7XG5cdCAgICAgICAgICAgIHZhciBzcXJ0TiA9IE1hdGguc3FydChuKTtcblx0ICAgICAgICAgICAgZm9yICh2YXIgZmFjdG9yID0gMjsgZmFjdG9yIDw9IHNxcnROOyBmYWN0b3IrKykge1xuXHQgICAgICAgICAgICAgICAgaWYgKCEobiAlIGZhY3RvcikpIHtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICBmdW5jdGlvbiBnZXRGcmFjdGlvbmFsQml0cyhuKSB7XG5cdCAgICAgICAgICAgIHJldHVybiAoKG4gLSAobiB8IDApKSAqIDB4MTAwMDAwMDAwKSB8IDA7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgdmFyIG4gPSAyO1xuXHQgICAgICAgIHZhciBuUHJpbWUgPSAwO1xuXHQgICAgICAgIHdoaWxlIChuUHJpbWUgPCA2NCkge1xuXHQgICAgICAgICAgICBpZiAoaXNQcmltZShuKSkge1xuXHQgICAgICAgICAgICAgICAgaWYgKG5QcmltZSA8IDgpIHtcblx0ICAgICAgICAgICAgICAgICAgICBIW25QcmltZV0gPSBnZXRGcmFjdGlvbmFsQml0cyhNYXRoLnBvdyhuLCAxIC8gMikpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgS1tuUHJpbWVdID0gZ2V0RnJhY3Rpb25hbEJpdHMoTWF0aC5wb3cobiwgMSAvIDMpKTtcblxuXHQgICAgICAgICAgICAgICAgblByaW1lKys7XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICBuKys7XG5cdCAgICAgICAgfVxuXHQgICAgfSgpKTtcblxuXHQgICAgLy8gUmV1c2FibGUgb2JqZWN0XG5cdCAgICB2YXIgVyA9IFtdO1xuXG5cdCAgICAvKipcblx0ICAgICAqIFNIQS0yNTYgaGFzaCBhbGdvcml0aG0uXG5cdCAgICAgKi9cblx0ICAgIHZhciBTSEEyNTYgPSBDX2FsZ28uU0hBMjU2ID0gSGFzaGVyLmV4dGVuZCh7XG5cdCAgICAgICAgX2RvUmVzZXQ6IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgdGhpcy5faGFzaCA9IG5ldyBXb3JkQXJyYXkuaW5pdChILnNsaWNlKDApKTtcblx0ICAgICAgICB9LFxuXG5cdCAgICAgICAgX2RvUHJvY2Vzc0Jsb2NrOiBmdW5jdGlvbiAoTSwgb2Zmc2V0KSB7XG5cdCAgICAgICAgICAgIC8vIFNob3J0Y3V0XG5cdCAgICAgICAgICAgIHZhciBIID0gdGhpcy5faGFzaC53b3JkcztcblxuXHQgICAgICAgICAgICAvLyBXb3JraW5nIHZhcmlhYmxlc1xuXHQgICAgICAgICAgICB2YXIgYSA9IEhbMF07XG5cdCAgICAgICAgICAgIHZhciBiID0gSFsxXTtcblx0ICAgICAgICAgICAgdmFyIGMgPSBIWzJdO1xuXHQgICAgICAgICAgICB2YXIgZCA9IEhbM107XG5cdCAgICAgICAgICAgIHZhciBlID0gSFs0XTtcblx0ICAgICAgICAgICAgdmFyIGYgPSBIWzVdO1xuXHQgICAgICAgICAgICB2YXIgZyA9IEhbNl07XG5cdCAgICAgICAgICAgIHZhciBoID0gSFs3XTtcblxuXHQgICAgICAgICAgICAvLyBDb21wdXRhdGlvblxuXHQgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDY0OyBpKyspIHtcblx0ICAgICAgICAgICAgICAgIGlmIChpIDwgMTYpIHtcblx0ICAgICAgICAgICAgICAgICAgICBXW2ldID0gTVtvZmZzZXQgKyBpXSB8IDA7XG5cdCAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciBnYW1tYTB4ID0gV1tpIC0gMTVdO1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciBnYW1tYTAgID0gKChnYW1tYTB4IDw8IDI1KSB8IChnYW1tYTB4ID4+PiA3KSkgIF5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgoZ2FtbWEweCA8PCAxNCkgfCAoZ2FtbWEweCA+Pj4gMTgpKSBeXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGdhbW1hMHggPj4+IDMpO1xuXG5cdCAgICAgICAgICAgICAgICAgICAgdmFyIGdhbW1hMXggPSBXW2kgLSAyXTtcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgZ2FtbWExICA9ICgoZ2FtbWExeCA8PCAxNSkgfCAoZ2FtbWExeCA+Pj4gMTcpKSBeXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoKGdhbW1hMXggPDwgMTMpIHwgKGdhbW1hMXggPj4+IDE5KSkgXlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChnYW1tYTF4ID4+PiAxMCk7XG5cblx0ICAgICAgICAgICAgICAgICAgICBXW2ldID0gZ2FtbWEwICsgV1tpIC0gN10gKyBnYW1tYTEgKyBXW2kgLSAxNl07XG5cdCAgICAgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgICAgIHZhciBjaCAgPSAoZSAmIGYpIF4gKH5lICYgZyk7XG5cdCAgICAgICAgICAgICAgICB2YXIgbWFqID0gKGEgJiBiKSBeIChhICYgYykgXiAoYiAmIGMpO1xuXG5cdCAgICAgICAgICAgICAgICB2YXIgc2lnbWEwID0gKChhIDw8IDMwKSB8IChhID4+PiAyKSkgXiAoKGEgPDwgMTkpIHwgKGEgPj4+IDEzKSkgXiAoKGEgPDwgMTApIHwgKGEgPj4+IDIyKSk7XG5cdCAgICAgICAgICAgICAgICB2YXIgc2lnbWExID0gKChlIDw8IDI2KSB8IChlID4+PiA2KSkgXiAoKGUgPDwgMjEpIHwgKGUgPj4+IDExKSkgXiAoKGUgPDwgNykgIHwgKGUgPj4+IDI1KSk7XG5cblx0ICAgICAgICAgICAgICAgIHZhciB0MSA9IGggKyBzaWdtYTEgKyBjaCArIEtbaV0gKyBXW2ldO1xuXHQgICAgICAgICAgICAgICAgdmFyIHQyID0gc2lnbWEwICsgbWFqO1xuXG5cdCAgICAgICAgICAgICAgICBoID0gZztcblx0ICAgICAgICAgICAgICAgIGcgPSBmO1xuXHQgICAgICAgICAgICAgICAgZiA9IGU7XG5cdCAgICAgICAgICAgICAgICBlID0gKGQgKyB0MSkgfCAwO1xuXHQgICAgICAgICAgICAgICAgZCA9IGM7XG5cdCAgICAgICAgICAgICAgICBjID0gYjtcblx0ICAgICAgICAgICAgICAgIGIgPSBhO1xuXHQgICAgICAgICAgICAgICAgYSA9ICh0MSArIHQyKSB8IDA7XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAvLyBJbnRlcm1lZGlhdGUgaGFzaCB2YWx1ZVxuXHQgICAgICAgICAgICBIWzBdID0gKEhbMF0gKyBhKSB8IDA7XG5cdCAgICAgICAgICAgIEhbMV0gPSAoSFsxXSArIGIpIHwgMDtcblx0ICAgICAgICAgICAgSFsyXSA9IChIWzJdICsgYykgfCAwO1xuXHQgICAgICAgICAgICBIWzNdID0gKEhbM10gKyBkKSB8IDA7XG5cdCAgICAgICAgICAgIEhbNF0gPSAoSFs0XSArIGUpIHwgMDtcblx0ICAgICAgICAgICAgSFs1XSA9IChIWzVdICsgZikgfCAwO1xuXHQgICAgICAgICAgICBIWzZdID0gKEhbNl0gKyBnKSB8IDA7XG5cdCAgICAgICAgICAgIEhbN10gPSAoSFs3XSArIGgpIHwgMDtcblx0ICAgICAgICB9LFxuXG5cdCAgICAgICAgX2RvRmluYWxpemU6IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgLy8gU2hvcnRjdXRzXG5cdCAgICAgICAgICAgIHZhciBkYXRhID0gdGhpcy5fZGF0YTtcblx0ICAgICAgICAgICAgdmFyIGRhdGFXb3JkcyA9IGRhdGEud29yZHM7XG5cblx0ICAgICAgICAgICAgdmFyIG5CaXRzVG90YWwgPSB0aGlzLl9uRGF0YUJ5dGVzICogODtcblx0ICAgICAgICAgICAgdmFyIG5CaXRzTGVmdCA9IGRhdGEuc2lnQnl0ZXMgKiA4O1xuXG5cdCAgICAgICAgICAgIC8vIEFkZCBwYWRkaW5nXG5cdCAgICAgICAgICAgIGRhdGFXb3Jkc1tuQml0c0xlZnQgPj4+IDVdIHw9IDB4ODAgPDwgKDI0IC0gbkJpdHNMZWZ0ICUgMzIpO1xuXHQgICAgICAgICAgICBkYXRhV29yZHNbKCgobkJpdHNMZWZ0ICsgNjQpID4+PiA5KSA8PCA0KSArIDE0XSA9IE1hdGguZmxvb3IobkJpdHNUb3RhbCAvIDB4MTAwMDAwMDAwKTtcblx0ICAgICAgICAgICAgZGF0YVdvcmRzWygoKG5CaXRzTGVmdCArIDY0KSA+Pj4gOSkgPDwgNCkgKyAxNV0gPSBuQml0c1RvdGFsO1xuXHQgICAgICAgICAgICBkYXRhLnNpZ0J5dGVzID0gZGF0YVdvcmRzLmxlbmd0aCAqIDQ7XG5cblx0ICAgICAgICAgICAgLy8gSGFzaCBmaW5hbCBibG9ja3Ncblx0ICAgICAgICAgICAgdGhpcy5fcHJvY2VzcygpO1xuXG5cdCAgICAgICAgICAgIC8vIFJldHVybiBmaW5hbCBjb21wdXRlZCBoYXNoXG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLl9oYXNoO1xuXHQgICAgICAgIH0sXG5cblx0ICAgICAgICBjbG9uZTogZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICB2YXIgY2xvbmUgPSBIYXNoZXIuY2xvbmUuY2FsbCh0aGlzKTtcblx0ICAgICAgICAgICAgY2xvbmUuX2hhc2ggPSB0aGlzLl9oYXNoLmNsb25lKCk7XG5cblx0ICAgICAgICAgICAgcmV0dXJuIGNsb25lO1xuXHQgICAgICAgIH1cblx0ICAgIH0pO1xuXG5cdCAgICAvKipcblx0ICAgICAqIFNob3J0Y3V0IGZ1bmN0aW9uIHRvIHRoZSBoYXNoZXIncyBvYmplY3QgaW50ZXJmYWNlLlxuXHQgICAgICpcblx0ICAgICAqIEBwYXJhbSB7V29yZEFycmF5fHN0cmluZ30gbWVzc2FnZSBUaGUgbWVzc2FnZSB0byBoYXNoLlxuXHQgICAgICpcblx0ICAgICAqIEByZXR1cm4ge1dvcmRBcnJheX0gVGhlIGhhc2guXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICpcblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogICAgIHZhciBoYXNoID0gQ3J5cHRvSlMuU0hBMjU2KCdtZXNzYWdlJyk7XG5cdCAgICAgKiAgICAgdmFyIGhhc2ggPSBDcnlwdG9KUy5TSEEyNTYod29yZEFycmF5KTtcblx0ICAgICAqL1xuXHQgICAgQy5TSEEyNTYgPSBIYXNoZXIuX2NyZWF0ZUhlbHBlcihTSEEyNTYpO1xuXG5cdCAgICAvKipcblx0ICAgICAqIFNob3J0Y3V0IGZ1bmN0aW9uIHRvIHRoZSBITUFDJ3Mgb2JqZWN0IGludGVyZmFjZS5cblx0ICAgICAqXG5cdCAgICAgKiBAcGFyYW0ge1dvcmRBcnJheXxzdHJpbmd9IG1lc3NhZ2UgVGhlIG1lc3NhZ2UgdG8gaGFzaC5cblx0ICAgICAqIEBwYXJhbSB7V29yZEFycmF5fHN0cmluZ30ga2V5IFRoZSBzZWNyZXQga2V5LlxuXHQgICAgICpcblx0ICAgICAqIEByZXR1cm4ge1dvcmRBcnJheX0gVGhlIEhNQUMuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICpcblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogICAgIHZhciBobWFjID0gQ3J5cHRvSlMuSG1hY1NIQTI1NihtZXNzYWdlLCBrZXkpO1xuXHQgICAgICovXG5cdCAgICBDLkhtYWNTSEEyNTYgPSBIYXNoZXIuX2NyZWF0ZUhtYWNIZWxwZXIoU0hBMjU2KTtcblx0fShNYXRoKSk7XG5cblxuXHRyZXR1cm4gQ3J5cHRvSlMuU0hBMjU2O1xuXG59KSk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9jcnlwdG8tanMvc2hhMjU2LmpzIiwiOyhmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSwgdW5kZWYpIHtcblx0aWYgKHR5cGVvZiBleHBvcnRzID09PSBcIm9iamVjdFwiKSB7XG5cdFx0Ly8gQ29tbW9uSlNcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoXCIuL2NvcmVcIiksIHJlcXVpcmUoXCIuL3g2NC1jb3JlXCIpKTtcblx0fVxuXHRlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCkge1xuXHRcdC8vIEFNRFxuXHRcdGRlZmluZShbXCIuL2NvcmVcIiwgXCIuL3g2NC1jb3JlXCJdLCBmYWN0b3J5KTtcblx0fVxuXHRlbHNlIHtcblx0XHQvLyBHbG9iYWwgKGJyb3dzZXIpXG5cdFx0ZmFjdG9yeShyb290LkNyeXB0b0pTKTtcblx0fVxufSh0aGlzLCBmdW5jdGlvbiAoQ3J5cHRvSlMpIHtcblxuXHQoZnVuY3Rpb24gKCkge1xuXHQgICAgLy8gU2hvcnRjdXRzXG5cdCAgICB2YXIgQyA9IENyeXB0b0pTO1xuXHQgICAgdmFyIENfbGliID0gQy5saWI7XG5cdCAgICB2YXIgSGFzaGVyID0gQ19saWIuSGFzaGVyO1xuXHQgICAgdmFyIENfeDY0ID0gQy54NjQ7XG5cdCAgICB2YXIgWDY0V29yZCA9IENfeDY0LldvcmQ7XG5cdCAgICB2YXIgWDY0V29yZEFycmF5ID0gQ194NjQuV29yZEFycmF5O1xuXHQgICAgdmFyIENfYWxnbyA9IEMuYWxnbztcblxuXHQgICAgZnVuY3Rpb24gWDY0V29yZF9jcmVhdGUoKSB7XG5cdCAgICAgICAgcmV0dXJuIFg2NFdvcmQuY3JlYXRlLmFwcGx5KFg2NFdvcmQsIGFyZ3VtZW50cyk7XG5cdCAgICB9XG5cblx0ICAgIC8vIENvbnN0YW50c1xuXHQgICAgdmFyIEsgPSBbXG5cdCAgICAgICAgWDY0V29yZF9jcmVhdGUoMHg0MjhhMmY5OCwgMHhkNzI4YWUyMiksIFg2NFdvcmRfY3JlYXRlKDB4NzEzNzQ0OTEsIDB4MjNlZjY1Y2QpLFxuXHQgICAgICAgIFg2NFdvcmRfY3JlYXRlKDB4YjVjMGZiY2YsIDB4ZWM0ZDNiMmYpLCBYNjRXb3JkX2NyZWF0ZSgweGU5YjVkYmE1LCAweDgxODlkYmJjKSxcblx0ICAgICAgICBYNjRXb3JkX2NyZWF0ZSgweDM5NTZjMjViLCAweGYzNDhiNTM4KSwgWDY0V29yZF9jcmVhdGUoMHg1OWYxMTFmMSwgMHhiNjA1ZDAxOSksXG5cdCAgICAgICAgWDY0V29yZF9jcmVhdGUoMHg5MjNmODJhNCwgMHhhZjE5NGY5YiksIFg2NFdvcmRfY3JlYXRlKDB4YWIxYzVlZDUsIDB4ZGE2ZDgxMTgpLFxuXHQgICAgICAgIFg2NFdvcmRfY3JlYXRlKDB4ZDgwN2FhOTgsIDB4YTMwMzAyNDIpLCBYNjRXb3JkX2NyZWF0ZSgweDEyODM1YjAxLCAweDQ1NzA2ZmJlKSxcblx0ICAgICAgICBYNjRXb3JkX2NyZWF0ZSgweDI0MzE4NWJlLCAweDRlZTRiMjhjKSwgWDY0V29yZF9jcmVhdGUoMHg1NTBjN2RjMywgMHhkNWZmYjRlMiksXG5cdCAgICAgICAgWDY0V29yZF9jcmVhdGUoMHg3MmJlNWQ3NCwgMHhmMjdiODk2ZiksIFg2NFdvcmRfY3JlYXRlKDB4ODBkZWIxZmUsIDB4M2IxNjk2YjEpLFxuXHQgICAgICAgIFg2NFdvcmRfY3JlYXRlKDB4OWJkYzA2YTcsIDB4MjVjNzEyMzUpLCBYNjRXb3JkX2NyZWF0ZSgweGMxOWJmMTc0LCAweGNmNjkyNjk0KSxcblx0ICAgICAgICBYNjRXb3JkX2NyZWF0ZSgweGU0OWI2OWMxLCAweDllZjE0YWQyKSwgWDY0V29yZF9jcmVhdGUoMHhlZmJlNDc4NiwgMHgzODRmMjVlMyksXG5cdCAgICAgICAgWDY0V29yZF9jcmVhdGUoMHgwZmMxOWRjNiwgMHg4YjhjZDViNSksIFg2NFdvcmRfY3JlYXRlKDB4MjQwY2ExY2MsIDB4NzdhYzljNjUpLFxuXHQgICAgICAgIFg2NFdvcmRfY3JlYXRlKDB4MmRlOTJjNmYsIDB4NTkyYjAyNzUpLCBYNjRXb3JkX2NyZWF0ZSgweDRhNzQ4NGFhLCAweDZlYTZlNDgzKSxcblx0ICAgICAgICBYNjRXb3JkX2NyZWF0ZSgweDVjYjBhOWRjLCAweGJkNDFmYmQ0KSwgWDY0V29yZF9jcmVhdGUoMHg3NmY5ODhkYSwgMHg4MzExNTNiNSksXG5cdCAgICAgICAgWDY0V29yZF9jcmVhdGUoMHg5ODNlNTE1MiwgMHhlZTY2ZGZhYiksIFg2NFdvcmRfY3JlYXRlKDB4YTgzMWM2NmQsIDB4MmRiNDMyMTApLFxuXHQgICAgICAgIFg2NFdvcmRfY3JlYXRlKDB4YjAwMzI3YzgsIDB4OThmYjIxM2YpLCBYNjRXb3JkX2NyZWF0ZSgweGJmNTk3ZmM3LCAweGJlZWYwZWU0KSxcblx0ICAgICAgICBYNjRXb3JkX2NyZWF0ZSgweGM2ZTAwYmYzLCAweDNkYTg4ZmMyKSwgWDY0V29yZF9jcmVhdGUoMHhkNWE3OTE0NywgMHg5MzBhYTcyNSksXG5cdCAgICAgICAgWDY0V29yZF9jcmVhdGUoMHgwNmNhNjM1MSwgMHhlMDAzODI2ZiksIFg2NFdvcmRfY3JlYXRlKDB4MTQyOTI5NjcsIDB4MGEwZTZlNzApLFxuXHQgICAgICAgIFg2NFdvcmRfY3JlYXRlKDB4MjdiNzBhODUsIDB4NDZkMjJmZmMpLCBYNjRXb3JkX2NyZWF0ZSgweDJlMWIyMTM4LCAweDVjMjZjOTI2KSxcblx0ICAgICAgICBYNjRXb3JkX2NyZWF0ZSgweDRkMmM2ZGZjLCAweDVhYzQyYWVkKSwgWDY0V29yZF9jcmVhdGUoMHg1MzM4MGQxMywgMHg5ZDk1YjNkZiksXG5cdCAgICAgICAgWDY0V29yZF9jcmVhdGUoMHg2NTBhNzM1NCwgMHg4YmFmNjNkZSksIFg2NFdvcmRfY3JlYXRlKDB4NzY2YTBhYmIsIDB4M2M3N2IyYTgpLFxuXHQgICAgICAgIFg2NFdvcmRfY3JlYXRlKDB4ODFjMmM5MmUsIDB4NDdlZGFlZTYpLCBYNjRXb3JkX2NyZWF0ZSgweDkyNzIyYzg1LCAweDE0ODIzNTNiKSxcblx0ICAgICAgICBYNjRXb3JkX2NyZWF0ZSgweGEyYmZlOGExLCAweDRjZjEwMzY0KSwgWDY0V29yZF9jcmVhdGUoMHhhODFhNjY0YiwgMHhiYzQyMzAwMSksXG5cdCAgICAgICAgWDY0V29yZF9jcmVhdGUoMHhjMjRiOGI3MCwgMHhkMGY4OTc5MSksIFg2NFdvcmRfY3JlYXRlKDB4Yzc2YzUxYTMsIDB4MDY1NGJlMzApLFxuXHQgICAgICAgIFg2NFdvcmRfY3JlYXRlKDB4ZDE5MmU4MTksIDB4ZDZlZjUyMTgpLCBYNjRXb3JkX2NyZWF0ZSgweGQ2OTkwNjI0LCAweDU1NjVhOTEwKSxcblx0ICAgICAgICBYNjRXb3JkX2NyZWF0ZSgweGY0MGUzNTg1LCAweDU3NzEyMDJhKSwgWDY0V29yZF9jcmVhdGUoMHgxMDZhYTA3MCwgMHgzMmJiZDFiOCksXG5cdCAgICAgICAgWDY0V29yZF9jcmVhdGUoMHgxOWE0YzExNiwgMHhiOGQyZDBjOCksIFg2NFdvcmRfY3JlYXRlKDB4MWUzNzZjMDgsIDB4NTE0MWFiNTMpLFxuXHQgICAgICAgIFg2NFdvcmRfY3JlYXRlKDB4Mjc0ODc3NGMsIDB4ZGY4ZWViOTkpLCBYNjRXb3JkX2NyZWF0ZSgweDM0YjBiY2I1LCAweGUxOWI0OGE4KSxcblx0ICAgICAgICBYNjRXb3JkX2NyZWF0ZSgweDM5MWMwY2IzLCAweGM1Yzk1YTYzKSwgWDY0V29yZF9jcmVhdGUoMHg0ZWQ4YWE0YSwgMHhlMzQxOGFjYiksXG5cdCAgICAgICAgWDY0V29yZF9jcmVhdGUoMHg1YjljY2E0ZiwgMHg3NzYzZTM3MyksIFg2NFdvcmRfY3JlYXRlKDB4NjgyZTZmZjMsIDB4ZDZiMmI4YTMpLFxuXHQgICAgICAgIFg2NFdvcmRfY3JlYXRlKDB4NzQ4ZjgyZWUsIDB4NWRlZmIyZmMpLCBYNjRXb3JkX2NyZWF0ZSgweDc4YTU2MzZmLCAweDQzMTcyZjYwKSxcblx0ICAgICAgICBYNjRXb3JkX2NyZWF0ZSgweDg0Yzg3ODE0LCAweGExZjBhYjcyKSwgWDY0V29yZF9jcmVhdGUoMHg4Y2M3MDIwOCwgMHgxYTY0MzllYyksXG5cdCAgICAgICAgWDY0V29yZF9jcmVhdGUoMHg5MGJlZmZmYSwgMHgyMzYzMWUyOCksIFg2NFdvcmRfY3JlYXRlKDB4YTQ1MDZjZWIsIDB4ZGU4MmJkZTkpLFxuXHQgICAgICAgIFg2NFdvcmRfY3JlYXRlKDB4YmVmOWEzZjcsIDB4YjJjNjc5MTUpLCBYNjRXb3JkX2NyZWF0ZSgweGM2NzE3OGYyLCAweGUzNzI1MzJiKSxcblx0ICAgICAgICBYNjRXb3JkX2NyZWF0ZSgweGNhMjczZWNlLCAweGVhMjY2MTljKSwgWDY0V29yZF9jcmVhdGUoMHhkMTg2YjhjNywgMHgyMWMwYzIwNyksXG5cdCAgICAgICAgWDY0V29yZF9jcmVhdGUoMHhlYWRhN2RkNiwgMHhjZGUwZWIxZSksIFg2NFdvcmRfY3JlYXRlKDB4ZjU3ZDRmN2YsIDB4ZWU2ZWQxNzgpLFxuXHQgICAgICAgIFg2NFdvcmRfY3JlYXRlKDB4MDZmMDY3YWEsIDB4NzIxNzZmYmEpLCBYNjRXb3JkX2NyZWF0ZSgweDBhNjM3ZGM1LCAweGEyYzg5OGE2KSxcblx0ICAgICAgICBYNjRXb3JkX2NyZWF0ZSgweDExM2Y5ODA0LCAweGJlZjkwZGFlKSwgWDY0V29yZF9jcmVhdGUoMHgxYjcxMGIzNSwgMHgxMzFjNDcxYiksXG5cdCAgICAgICAgWDY0V29yZF9jcmVhdGUoMHgyOGRiNzdmNSwgMHgyMzA0N2Q4NCksIFg2NFdvcmRfY3JlYXRlKDB4MzJjYWFiN2IsIDB4NDBjNzI0OTMpLFxuXHQgICAgICAgIFg2NFdvcmRfY3JlYXRlKDB4M2M5ZWJlMGEsIDB4MTVjOWJlYmMpLCBYNjRXb3JkX2NyZWF0ZSgweDQzMWQ2N2M0LCAweDljMTAwZDRjKSxcblx0ICAgICAgICBYNjRXb3JkX2NyZWF0ZSgweDRjYzVkNGJlLCAweGNiM2U0MmI2KSwgWDY0V29yZF9jcmVhdGUoMHg1OTdmMjk5YywgMHhmYzY1N2UyYSksXG5cdCAgICAgICAgWDY0V29yZF9jcmVhdGUoMHg1ZmNiNmZhYiwgMHgzYWQ2ZmFlYyksIFg2NFdvcmRfY3JlYXRlKDB4NmM0NDE5OGMsIDB4NGE0NzU4MTcpXG5cdCAgICBdO1xuXG5cdCAgICAvLyBSZXVzYWJsZSBvYmplY3RzXG5cdCAgICB2YXIgVyA9IFtdO1xuXHQgICAgKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDgwOyBpKyspIHtcblx0ICAgICAgICAgICAgV1tpXSA9IFg2NFdvcmRfY3JlYXRlKCk7XG5cdCAgICAgICAgfVxuXHQgICAgfSgpKTtcblxuXHQgICAgLyoqXG5cdCAgICAgKiBTSEEtNTEyIGhhc2ggYWxnb3JpdGhtLlxuXHQgICAgICovXG5cdCAgICB2YXIgU0hBNTEyID0gQ19hbGdvLlNIQTUxMiA9IEhhc2hlci5leHRlbmQoe1xuXHQgICAgICAgIF9kb1Jlc2V0OiBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIHRoaXMuX2hhc2ggPSBuZXcgWDY0V29yZEFycmF5LmluaXQoW1xuXHQgICAgICAgICAgICAgICAgbmV3IFg2NFdvcmQuaW5pdCgweDZhMDllNjY3LCAweGYzYmNjOTA4KSwgbmV3IFg2NFdvcmQuaW5pdCgweGJiNjdhZTg1LCAweDg0Y2FhNzNiKSxcblx0ICAgICAgICAgICAgICAgIG5ldyBYNjRXb3JkLmluaXQoMHgzYzZlZjM3MiwgMHhmZTk0ZjgyYiksIG5ldyBYNjRXb3JkLmluaXQoMHhhNTRmZjUzYSwgMHg1ZjFkMzZmMSksXG5cdCAgICAgICAgICAgICAgICBuZXcgWDY0V29yZC5pbml0KDB4NTEwZTUyN2YsIDB4YWRlNjgyZDEpLCBuZXcgWDY0V29yZC5pbml0KDB4OWIwNTY4OGMsIDB4MmIzZTZjMWYpLFxuXHQgICAgICAgICAgICAgICAgbmV3IFg2NFdvcmQuaW5pdCgweDFmODNkOWFiLCAweGZiNDFiZDZiKSwgbmV3IFg2NFdvcmQuaW5pdCgweDViZTBjZDE5LCAweDEzN2UyMTc5KVxuXHQgICAgICAgICAgICBdKTtcblx0ICAgICAgICB9LFxuXG5cdCAgICAgICAgX2RvUHJvY2Vzc0Jsb2NrOiBmdW5jdGlvbiAoTSwgb2Zmc2V0KSB7XG5cdCAgICAgICAgICAgIC8vIFNob3J0Y3V0c1xuXHQgICAgICAgICAgICB2YXIgSCA9IHRoaXMuX2hhc2gud29yZHM7XG5cblx0ICAgICAgICAgICAgdmFyIEgwID0gSFswXTtcblx0ICAgICAgICAgICAgdmFyIEgxID0gSFsxXTtcblx0ICAgICAgICAgICAgdmFyIEgyID0gSFsyXTtcblx0ICAgICAgICAgICAgdmFyIEgzID0gSFszXTtcblx0ICAgICAgICAgICAgdmFyIEg0ID0gSFs0XTtcblx0ICAgICAgICAgICAgdmFyIEg1ID0gSFs1XTtcblx0ICAgICAgICAgICAgdmFyIEg2ID0gSFs2XTtcblx0ICAgICAgICAgICAgdmFyIEg3ID0gSFs3XTtcblxuXHQgICAgICAgICAgICB2YXIgSDBoID0gSDAuaGlnaDtcblx0ICAgICAgICAgICAgdmFyIEgwbCA9IEgwLmxvdztcblx0ICAgICAgICAgICAgdmFyIEgxaCA9IEgxLmhpZ2g7XG5cdCAgICAgICAgICAgIHZhciBIMWwgPSBIMS5sb3c7XG5cdCAgICAgICAgICAgIHZhciBIMmggPSBIMi5oaWdoO1xuXHQgICAgICAgICAgICB2YXIgSDJsID0gSDIubG93O1xuXHQgICAgICAgICAgICB2YXIgSDNoID0gSDMuaGlnaDtcblx0ICAgICAgICAgICAgdmFyIEgzbCA9IEgzLmxvdztcblx0ICAgICAgICAgICAgdmFyIEg0aCA9IEg0LmhpZ2g7XG5cdCAgICAgICAgICAgIHZhciBINGwgPSBINC5sb3c7XG5cdCAgICAgICAgICAgIHZhciBINWggPSBINS5oaWdoO1xuXHQgICAgICAgICAgICB2YXIgSDVsID0gSDUubG93O1xuXHQgICAgICAgICAgICB2YXIgSDZoID0gSDYuaGlnaDtcblx0ICAgICAgICAgICAgdmFyIEg2bCA9IEg2Lmxvdztcblx0ICAgICAgICAgICAgdmFyIEg3aCA9IEg3LmhpZ2g7XG5cdCAgICAgICAgICAgIHZhciBIN2wgPSBINy5sb3c7XG5cblx0ICAgICAgICAgICAgLy8gV29ya2luZyB2YXJpYWJsZXNcblx0ICAgICAgICAgICAgdmFyIGFoID0gSDBoO1xuXHQgICAgICAgICAgICB2YXIgYWwgPSBIMGw7XG5cdCAgICAgICAgICAgIHZhciBiaCA9IEgxaDtcblx0ICAgICAgICAgICAgdmFyIGJsID0gSDFsO1xuXHQgICAgICAgICAgICB2YXIgY2ggPSBIMmg7XG5cdCAgICAgICAgICAgIHZhciBjbCA9IEgybDtcblx0ICAgICAgICAgICAgdmFyIGRoID0gSDNoO1xuXHQgICAgICAgICAgICB2YXIgZGwgPSBIM2w7XG5cdCAgICAgICAgICAgIHZhciBlaCA9IEg0aDtcblx0ICAgICAgICAgICAgdmFyIGVsID0gSDRsO1xuXHQgICAgICAgICAgICB2YXIgZmggPSBINWg7XG5cdCAgICAgICAgICAgIHZhciBmbCA9IEg1bDtcblx0ICAgICAgICAgICAgdmFyIGdoID0gSDZoO1xuXHQgICAgICAgICAgICB2YXIgZ2wgPSBINmw7XG5cdCAgICAgICAgICAgIHZhciBoaCA9IEg3aDtcblx0ICAgICAgICAgICAgdmFyIGhsID0gSDdsO1xuXG5cdCAgICAgICAgICAgIC8vIFJvdW5kc1xuXHQgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDgwOyBpKyspIHtcblx0ICAgICAgICAgICAgICAgIC8vIFNob3J0Y3V0XG5cdCAgICAgICAgICAgICAgICB2YXIgV2kgPSBXW2ldO1xuXG5cdCAgICAgICAgICAgICAgICAvLyBFeHRlbmQgbWVzc2FnZVxuXHQgICAgICAgICAgICAgICAgaWYgKGkgPCAxNikge1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciBXaWggPSBXaS5oaWdoID0gTVtvZmZzZXQgKyBpICogMl0gICAgIHwgMDtcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgV2lsID0gV2kubG93ICA9IE1bb2Zmc2V0ICsgaSAqIDIgKyAxXSB8IDA7XG5cdCAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgIC8vIEdhbW1hMFxuXHQgICAgICAgICAgICAgICAgICAgIHZhciBnYW1tYTB4ICA9IFdbaSAtIDE1XTtcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgZ2FtbWEweGggPSBnYW1tYTB4LmhpZ2g7XG5cdCAgICAgICAgICAgICAgICAgICAgdmFyIGdhbW1hMHhsID0gZ2FtbWEweC5sb3c7XG5cdCAgICAgICAgICAgICAgICAgICAgdmFyIGdhbW1hMGggID0gKChnYW1tYTB4aCA+Pj4gMSkgfCAoZ2FtbWEweGwgPDwgMzEpKSBeICgoZ2FtbWEweGggPj4+IDgpIHwgKGdhbW1hMHhsIDw8IDI0KSkgXiAoZ2FtbWEweGggPj4+IDcpO1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciBnYW1tYTBsICA9ICgoZ2FtbWEweGwgPj4+IDEpIHwgKGdhbW1hMHhoIDw8IDMxKSkgXiAoKGdhbW1hMHhsID4+PiA4KSB8IChnYW1tYTB4aCA8PCAyNCkpIF4gKChnYW1tYTB4bCA+Pj4gNykgfCAoZ2FtbWEweGggPDwgMjUpKTtcblxuXHQgICAgICAgICAgICAgICAgICAgIC8vIEdhbW1hMVxuXHQgICAgICAgICAgICAgICAgICAgIHZhciBnYW1tYTF4ICA9IFdbaSAtIDJdO1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciBnYW1tYTF4aCA9IGdhbW1hMXguaGlnaDtcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgZ2FtbWExeGwgPSBnYW1tYTF4Lmxvdztcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgZ2FtbWExaCAgPSAoKGdhbW1hMXhoID4+PiAxOSkgfCAoZ2FtbWExeGwgPDwgMTMpKSBeICgoZ2FtbWExeGggPDwgMykgfCAoZ2FtbWExeGwgPj4+IDI5KSkgXiAoZ2FtbWExeGggPj4+IDYpO1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciBnYW1tYTFsICA9ICgoZ2FtbWExeGwgPj4+IDE5KSB8IChnYW1tYTF4aCA8PCAxMykpIF4gKChnYW1tYTF4bCA8PCAzKSB8IChnYW1tYTF4aCA+Pj4gMjkpKSBeICgoZ2FtbWExeGwgPj4+IDYpIHwgKGdhbW1hMXhoIDw8IDI2KSk7XG5cblx0ICAgICAgICAgICAgICAgICAgICAvLyBXW2ldID0gZ2FtbWEwICsgV1tpIC0gN10gKyBnYW1tYTEgKyBXW2kgLSAxNl1cblx0ICAgICAgICAgICAgICAgICAgICB2YXIgV2k3ICA9IFdbaSAtIDddO1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciBXaTdoID0gV2k3LmhpZ2g7XG5cdCAgICAgICAgICAgICAgICAgICAgdmFyIFdpN2wgPSBXaTcubG93O1xuXG5cdCAgICAgICAgICAgICAgICAgICAgdmFyIFdpMTYgID0gV1tpIC0gMTZdO1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciBXaTE2aCA9IFdpMTYuaGlnaDtcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgV2kxNmwgPSBXaTE2LmxvdztcblxuXHQgICAgICAgICAgICAgICAgICAgIHZhciBXaWwgPSBnYW1tYTBsICsgV2k3bDtcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgV2loID0gZ2FtbWEwaCArIFdpN2ggKyAoKFdpbCA+Pj4gMCkgPCAoZ2FtbWEwbCA+Pj4gMCkgPyAxIDogMCk7XG5cdCAgICAgICAgICAgICAgICAgICAgdmFyIFdpbCA9IFdpbCArIGdhbW1hMWw7XG5cdCAgICAgICAgICAgICAgICAgICAgdmFyIFdpaCA9IFdpaCArIGdhbW1hMWggKyAoKFdpbCA+Pj4gMCkgPCAoZ2FtbWExbCA+Pj4gMCkgPyAxIDogMCk7XG5cdCAgICAgICAgICAgICAgICAgICAgdmFyIFdpbCA9IFdpbCArIFdpMTZsO1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciBXaWggPSBXaWggKyBXaTE2aCArICgoV2lsID4+PiAwKSA8IChXaTE2bCA+Pj4gMCkgPyAxIDogMCk7XG5cblx0ICAgICAgICAgICAgICAgICAgICBXaS5oaWdoID0gV2loO1xuXHQgICAgICAgICAgICAgICAgICAgIFdpLmxvdyAgPSBXaWw7XG5cdCAgICAgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgICAgIHZhciBjaGggID0gKGVoICYgZmgpIF4gKH5laCAmIGdoKTtcblx0ICAgICAgICAgICAgICAgIHZhciBjaGwgID0gKGVsICYgZmwpIF4gKH5lbCAmIGdsKTtcblx0ICAgICAgICAgICAgICAgIHZhciBtYWpoID0gKGFoICYgYmgpIF4gKGFoICYgY2gpIF4gKGJoICYgY2gpO1xuXHQgICAgICAgICAgICAgICAgdmFyIG1hamwgPSAoYWwgJiBibCkgXiAoYWwgJiBjbCkgXiAoYmwgJiBjbCk7XG5cblx0ICAgICAgICAgICAgICAgIHZhciBzaWdtYTBoID0gKChhaCA+Pj4gMjgpIHwgKGFsIDw8IDQpKSAgXiAoKGFoIDw8IDMwKSAgfCAoYWwgPj4+IDIpKSBeICgoYWggPDwgMjUpIHwgKGFsID4+PiA3KSk7XG5cdCAgICAgICAgICAgICAgICB2YXIgc2lnbWEwbCA9ICgoYWwgPj4+IDI4KSB8IChhaCA8PCA0KSkgIF4gKChhbCA8PCAzMCkgIHwgKGFoID4+PiAyKSkgXiAoKGFsIDw8IDI1KSB8IChhaCA+Pj4gNykpO1xuXHQgICAgICAgICAgICAgICAgdmFyIHNpZ21hMWggPSAoKGVoID4+PiAxNCkgfCAoZWwgPDwgMTgpKSBeICgoZWggPj4+IDE4KSB8IChlbCA8PCAxNCkpIF4gKChlaCA8PCAyMykgfCAoZWwgPj4+IDkpKTtcblx0ICAgICAgICAgICAgICAgIHZhciBzaWdtYTFsID0gKChlbCA+Pj4gMTQpIHwgKGVoIDw8IDE4KSkgXiAoKGVsID4+PiAxOCkgfCAoZWggPDwgMTQpKSBeICgoZWwgPDwgMjMpIHwgKGVoID4+PiA5KSk7XG5cblx0ICAgICAgICAgICAgICAgIC8vIHQxID0gaCArIHNpZ21hMSArIGNoICsgS1tpXSArIFdbaV1cblx0ICAgICAgICAgICAgICAgIHZhciBLaSAgPSBLW2ldO1xuXHQgICAgICAgICAgICAgICAgdmFyIEtpaCA9IEtpLmhpZ2g7XG5cdCAgICAgICAgICAgICAgICB2YXIgS2lsID0gS2kubG93O1xuXG5cdCAgICAgICAgICAgICAgICB2YXIgdDFsID0gaGwgKyBzaWdtYTFsO1xuXHQgICAgICAgICAgICAgICAgdmFyIHQxaCA9IGhoICsgc2lnbWExaCArICgodDFsID4+PiAwKSA8IChobCA+Pj4gMCkgPyAxIDogMCk7XG5cdCAgICAgICAgICAgICAgICB2YXIgdDFsID0gdDFsICsgY2hsO1xuXHQgICAgICAgICAgICAgICAgdmFyIHQxaCA9IHQxaCArIGNoaCArICgodDFsID4+PiAwKSA8IChjaGwgPj4+IDApID8gMSA6IDApO1xuXHQgICAgICAgICAgICAgICAgdmFyIHQxbCA9IHQxbCArIEtpbDtcblx0ICAgICAgICAgICAgICAgIHZhciB0MWggPSB0MWggKyBLaWggKyAoKHQxbCA+Pj4gMCkgPCAoS2lsID4+PiAwKSA/IDEgOiAwKTtcblx0ICAgICAgICAgICAgICAgIHZhciB0MWwgPSB0MWwgKyBXaWw7XG5cdCAgICAgICAgICAgICAgICB2YXIgdDFoID0gdDFoICsgV2loICsgKCh0MWwgPj4+IDApIDwgKFdpbCA+Pj4gMCkgPyAxIDogMCk7XG5cblx0ICAgICAgICAgICAgICAgIC8vIHQyID0gc2lnbWEwICsgbWFqXG5cdCAgICAgICAgICAgICAgICB2YXIgdDJsID0gc2lnbWEwbCArIG1hamw7XG5cdCAgICAgICAgICAgICAgICB2YXIgdDJoID0gc2lnbWEwaCArIG1hamggKyAoKHQybCA+Pj4gMCkgPCAoc2lnbWEwbCA+Pj4gMCkgPyAxIDogMCk7XG5cblx0ICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSB3b3JraW5nIHZhcmlhYmxlc1xuXHQgICAgICAgICAgICAgICAgaGggPSBnaDtcblx0ICAgICAgICAgICAgICAgIGhsID0gZ2w7XG5cdCAgICAgICAgICAgICAgICBnaCA9IGZoO1xuXHQgICAgICAgICAgICAgICAgZ2wgPSBmbDtcblx0ICAgICAgICAgICAgICAgIGZoID0gZWg7XG5cdCAgICAgICAgICAgICAgICBmbCA9IGVsO1xuXHQgICAgICAgICAgICAgICAgZWwgPSAoZGwgKyB0MWwpIHwgMDtcblx0ICAgICAgICAgICAgICAgIGVoID0gKGRoICsgdDFoICsgKChlbCA+Pj4gMCkgPCAoZGwgPj4+IDApID8gMSA6IDApKSB8IDA7XG5cdCAgICAgICAgICAgICAgICBkaCA9IGNoO1xuXHQgICAgICAgICAgICAgICAgZGwgPSBjbDtcblx0ICAgICAgICAgICAgICAgIGNoID0gYmg7XG5cdCAgICAgICAgICAgICAgICBjbCA9IGJsO1xuXHQgICAgICAgICAgICAgICAgYmggPSBhaDtcblx0ICAgICAgICAgICAgICAgIGJsID0gYWw7XG5cdCAgICAgICAgICAgICAgICBhbCA9ICh0MWwgKyB0MmwpIHwgMDtcblx0ICAgICAgICAgICAgICAgIGFoID0gKHQxaCArIHQyaCArICgoYWwgPj4+IDApIDwgKHQxbCA+Pj4gMCkgPyAxIDogMCkpIHwgMDtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIC8vIEludGVybWVkaWF0ZSBoYXNoIHZhbHVlXG5cdCAgICAgICAgICAgIEgwbCA9IEgwLmxvdyAgPSAoSDBsICsgYWwpO1xuXHQgICAgICAgICAgICBIMC5oaWdoID0gKEgwaCArIGFoICsgKChIMGwgPj4+IDApIDwgKGFsID4+PiAwKSA/IDEgOiAwKSk7XG5cdCAgICAgICAgICAgIEgxbCA9IEgxLmxvdyAgPSAoSDFsICsgYmwpO1xuXHQgICAgICAgICAgICBIMS5oaWdoID0gKEgxaCArIGJoICsgKChIMWwgPj4+IDApIDwgKGJsID4+PiAwKSA/IDEgOiAwKSk7XG5cdCAgICAgICAgICAgIEgybCA9IEgyLmxvdyAgPSAoSDJsICsgY2wpO1xuXHQgICAgICAgICAgICBIMi5oaWdoID0gKEgyaCArIGNoICsgKChIMmwgPj4+IDApIDwgKGNsID4+PiAwKSA/IDEgOiAwKSk7XG5cdCAgICAgICAgICAgIEgzbCA9IEgzLmxvdyAgPSAoSDNsICsgZGwpO1xuXHQgICAgICAgICAgICBIMy5oaWdoID0gKEgzaCArIGRoICsgKChIM2wgPj4+IDApIDwgKGRsID4+PiAwKSA/IDEgOiAwKSk7XG5cdCAgICAgICAgICAgIEg0bCA9IEg0LmxvdyAgPSAoSDRsICsgZWwpO1xuXHQgICAgICAgICAgICBINC5oaWdoID0gKEg0aCArIGVoICsgKChINGwgPj4+IDApIDwgKGVsID4+PiAwKSA/IDEgOiAwKSk7XG5cdCAgICAgICAgICAgIEg1bCA9IEg1LmxvdyAgPSAoSDVsICsgZmwpO1xuXHQgICAgICAgICAgICBINS5oaWdoID0gKEg1aCArIGZoICsgKChINWwgPj4+IDApIDwgKGZsID4+PiAwKSA/IDEgOiAwKSk7XG5cdCAgICAgICAgICAgIEg2bCA9IEg2LmxvdyAgPSAoSDZsICsgZ2wpO1xuXHQgICAgICAgICAgICBINi5oaWdoID0gKEg2aCArIGdoICsgKChINmwgPj4+IDApIDwgKGdsID4+PiAwKSA/IDEgOiAwKSk7XG5cdCAgICAgICAgICAgIEg3bCA9IEg3LmxvdyAgPSAoSDdsICsgaGwpO1xuXHQgICAgICAgICAgICBINy5oaWdoID0gKEg3aCArIGhoICsgKChIN2wgPj4+IDApIDwgKGhsID4+PiAwKSA/IDEgOiAwKSk7XG5cdCAgICAgICAgfSxcblxuXHQgICAgICAgIF9kb0ZpbmFsaXplOiBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIC8vIFNob3J0Y3V0c1xuXHQgICAgICAgICAgICB2YXIgZGF0YSA9IHRoaXMuX2RhdGE7XG5cdCAgICAgICAgICAgIHZhciBkYXRhV29yZHMgPSBkYXRhLndvcmRzO1xuXG5cdCAgICAgICAgICAgIHZhciBuQml0c1RvdGFsID0gdGhpcy5fbkRhdGFCeXRlcyAqIDg7XG5cdCAgICAgICAgICAgIHZhciBuQml0c0xlZnQgPSBkYXRhLnNpZ0J5dGVzICogODtcblxuXHQgICAgICAgICAgICAvLyBBZGQgcGFkZGluZ1xuXHQgICAgICAgICAgICBkYXRhV29yZHNbbkJpdHNMZWZ0ID4+PiA1XSB8PSAweDgwIDw8ICgyNCAtIG5CaXRzTGVmdCAlIDMyKTtcblx0ICAgICAgICAgICAgZGF0YVdvcmRzWygoKG5CaXRzTGVmdCArIDEyOCkgPj4+IDEwKSA8PCA1KSArIDMwXSA9IE1hdGguZmxvb3IobkJpdHNUb3RhbCAvIDB4MTAwMDAwMDAwKTtcblx0ICAgICAgICAgICAgZGF0YVdvcmRzWygoKG5CaXRzTGVmdCArIDEyOCkgPj4+IDEwKSA8PCA1KSArIDMxXSA9IG5CaXRzVG90YWw7XG5cdCAgICAgICAgICAgIGRhdGEuc2lnQnl0ZXMgPSBkYXRhV29yZHMubGVuZ3RoICogNDtcblxuXHQgICAgICAgICAgICAvLyBIYXNoIGZpbmFsIGJsb2Nrc1xuXHQgICAgICAgICAgICB0aGlzLl9wcm9jZXNzKCk7XG5cblx0ICAgICAgICAgICAgLy8gQ29udmVydCBoYXNoIHRvIDMyLWJpdCB3b3JkIGFycmF5IGJlZm9yZSByZXR1cm5pbmdcblx0ICAgICAgICAgICAgdmFyIGhhc2ggPSB0aGlzLl9oYXNoLnRvWDMyKCk7XG5cblx0ICAgICAgICAgICAgLy8gUmV0dXJuIGZpbmFsIGNvbXB1dGVkIGhhc2hcblx0ICAgICAgICAgICAgcmV0dXJuIGhhc2g7XG5cdCAgICAgICAgfSxcblxuXHQgICAgICAgIGNsb25lOiBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIHZhciBjbG9uZSA9IEhhc2hlci5jbG9uZS5jYWxsKHRoaXMpO1xuXHQgICAgICAgICAgICBjbG9uZS5faGFzaCA9IHRoaXMuX2hhc2guY2xvbmUoKTtcblxuXHQgICAgICAgICAgICByZXR1cm4gY2xvbmU7XG5cdCAgICAgICAgfSxcblxuXHQgICAgICAgIGJsb2NrU2l6ZTogMTAyNC8zMlxuXHQgICAgfSk7XG5cblx0ICAgIC8qKlxuXHQgICAgICogU2hvcnRjdXQgZnVuY3Rpb24gdG8gdGhlIGhhc2hlcidzIG9iamVjdCBpbnRlcmZhY2UuXG5cdCAgICAgKlxuXHQgICAgICogQHBhcmFtIHtXb3JkQXJyYXl8c3RyaW5nfSBtZXNzYWdlIFRoZSBtZXNzYWdlIHRvIGhhc2guXG5cdCAgICAgKlxuXHQgICAgICogQHJldHVybiB7V29yZEFycmF5fSBUaGUgaGFzaC5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiAgICAgdmFyIGhhc2ggPSBDcnlwdG9KUy5TSEE1MTIoJ21lc3NhZ2UnKTtcblx0ICAgICAqICAgICB2YXIgaGFzaCA9IENyeXB0b0pTLlNIQTUxMih3b3JkQXJyYXkpO1xuXHQgICAgICovXG5cdCAgICBDLlNIQTUxMiA9IEhhc2hlci5fY3JlYXRlSGVscGVyKFNIQTUxMik7XG5cblx0ICAgIC8qKlxuXHQgICAgICogU2hvcnRjdXQgZnVuY3Rpb24gdG8gdGhlIEhNQUMncyBvYmplY3QgaW50ZXJmYWNlLlxuXHQgICAgICpcblx0ICAgICAqIEBwYXJhbSB7V29yZEFycmF5fHN0cmluZ30gbWVzc2FnZSBUaGUgbWVzc2FnZSB0byBoYXNoLlxuXHQgICAgICogQHBhcmFtIHtXb3JkQXJyYXl8c3RyaW5nfSBrZXkgVGhlIHNlY3JldCBrZXkuXG5cdCAgICAgKlxuXHQgICAgICogQHJldHVybiB7V29yZEFycmF5fSBUaGUgSE1BQy5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiAgICAgdmFyIGhtYWMgPSBDcnlwdG9KUy5IbWFjU0hBNTEyKG1lc3NhZ2UsIGtleSk7XG5cdCAgICAgKi9cblx0ICAgIEMuSG1hY1NIQTUxMiA9IEhhc2hlci5fY3JlYXRlSG1hY0hlbHBlcihTSEE1MTIpO1xuXHR9KCkpO1xuXG5cblx0cmV0dXJuIENyeXB0b0pTLlNIQTUxMjtcblxufSkpO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vY3J5cHRvLWpzL3NoYTUxMi5qcyIsIi8qXG4gICAgVGhpcyBmaWxlIGlzIHBhcnQgb2Ygd2ViMy5qcy5cblxuICAgIHdlYjMuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICAgIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICAgIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gICAgKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cblxuICAgIHdlYjMuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICAgIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAgICBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cblxuICAgIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICAgIGFsb25nIHdpdGggd2ViMy5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiovXG4vKiogQGZpbGUgY29uZmlnLmpzXG4gKiBAYXV0aG9yczpcbiAqICAgTWFyZWsgS290ZXdpY3ogPG1hcmVrQGV0aGRldi5jb20+XG4gKiBAZGF0ZSAyMDE1XG4gKi9cblxuLyoqXG4gKiBVdGlsc1xuICogXG4gKiBAbW9kdWxlIHV0aWxzXG4gKi9cblxuLyoqXG4gKiBVdGlsaXR5IGZ1bmN0aW9uc1xuICogXG4gKiBAY2xhc3MgW3V0aWxzXSBjb25maWdcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5cblxuLy8vIHJlcXVpcmVkIHRvIGRlZmluZSBFVEhfQklHTlVNQkVSX1JPVU5ESU5HX01PREVcbnZhciBCaWdOdW1iZXIgPSByZXF1aXJlKCdiaWdudW1iZXIuanMnKTtcblxudmFyIEVUSF9VTklUUyA9IFtcbiAgICAnd2VpJyxcbiAgICAna3dlaScsXG4gICAgJ013ZWknLFxuICAgICdHd2VpJyxcbiAgICAnc3phYm8nLFxuICAgICdmaW5uZXknLFxuICAgICdmZW10b2V0aGVyJyxcbiAgICAncGljb2V0aGVyJyxcbiAgICAnbmFub2V0aGVyJyxcbiAgICAnbWljcm9ldGhlcicsXG4gICAgJ21pbGxpZXRoZXInLFxuICAgICduYW5vJyxcbiAgICAnbWljcm8nLFxuICAgICdtaWxsaScsXG4gICAgJ2V0aGVyJyxcbiAgICAnZ3JhbmQnLFxuICAgICdNZXRoZXInLFxuICAgICdHZXRoZXInLFxuICAgICdUZXRoZXInLFxuICAgICdQZXRoZXInLFxuICAgICdFZXRoZXInLFxuICAgICdaZXRoZXInLFxuICAgICdZZXRoZXInLFxuICAgICdOZXRoZXInLFxuICAgICdEZXRoZXInLFxuICAgICdWZXRoZXInLFxuICAgICdVZXRoZXInXG5dO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBFVEhfUEFERElORzogMzIsXG4gICAgRVRIX1NJR05BVFVSRV9MRU5HVEg6IDQsXG4gICAgRVRIX1VOSVRTOiBFVEhfVU5JVFMsXG4gICAgRVRIX0JJR05VTUJFUl9ST1VORElOR19NT0RFOiB7IFJPVU5ESU5HX01PREU6IEJpZ051bWJlci5ST1VORF9ET1dOIH0sXG4gICAgRVRIX1BPTExJTkdfVElNRU9VVDogMTAwMC8yLFxuICAgIGRlZmF1bHRCbG9jazogJ2xhdGVzdCcsXG4gICAgZGVmYXVsdEFjY291bnQ6IHVuZGVmaW5lZFxufTtcblxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi93ZWIzL2xpYi91dGlscy9jb25maWcuanMiLCIvKlxuICAgIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIHdlYjMuanMuXG5cbiAgICB3ZWIzLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAgICBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAgICB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICAgIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG5cbiAgICB3ZWIzLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gICAgYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAgICBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gICAgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG5cbiAgICBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAgICBhbG9uZyB3aXRoIHdlYjMuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4qL1xuLyoqIEBmaWxlIGZpbHRlci5qc1xuICogQGF1dGhvcnM6XG4gKiAgIEplZmZyZXkgV2lsY2tlIDxqZWZmQGV0aGRldi5jb20+XG4gKiAgIE1hcmVrIEtvdGV3aWN6IDxtYXJla0BldGhkZXYuY29tPlxuICogICBNYXJpYW4gT2FuY2VhIDxtYXJpYW5AZXRoZGV2LmNvbT5cbiAqICAgRmFiaWFuIFZvZ2Vsc3RlbGxlciA8ZmFiaWFuQGV0aGRldi5jb20+XG4gKiAgIEdhdiBXb29kIDxnQGV0aGRldi5jb20+XG4gKiBAZGF0ZSAyMDE0XG4gKi9cblxudmFyIGZvcm1hdHRlcnMgPSByZXF1aXJlKCcuL2Zvcm1hdHRlcnMnKTtcbnZhciB1dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzL3V0aWxzJyk7XG5cbi8qKlxuKiBDb252ZXJ0cyBhIGdpdmVuIHRvcGljIHRvIGEgaGV4IHN0cmluZywgYnV0IGFsc28gYWxsb3dzIG51bGwgdmFsdWVzLlxuKlxuKiBAcGFyYW0ge01peGVkfSB2YWx1ZVxuKiBAcmV0dXJuIHtTdHJpbmd9XG4qL1xudmFyIHRvVG9waWMgPSBmdW5jdGlvbih2YWx1ZSl7XG5cbiAgICBpZih2YWx1ZSA9PT0gbnVsbCB8fCB0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnKVxuICAgICAgICByZXR1cm4gbnVsbDtcblxuICAgIHZhbHVlID0gU3RyaW5nKHZhbHVlKTtcblxuICAgIGlmKHZhbHVlLmluZGV4T2YoJzB4JykgPT09IDApXG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICBlbHNlXG4gICAgICAgIHJldHVybiB1dGlscy5mcm9tVXRmOCh2YWx1ZSk7XG59O1xuXG4vLy8gVGhpcyBtZXRob2Qgc2hvdWxkIGJlIGNhbGxlZCBvbiBvcHRpb25zIG9iamVjdCwgdG8gdmVyaWZ5IGRlcHJlY2F0ZWQgcHJvcGVydGllcyAmJiBsYXp5IGxvYWQgZHluYW1pYyBvbmVzXG4vLy8gQHBhcmFtIHNob3VsZCBiZSBzdHJpbmcgb3Igb2JqZWN0XG4vLy8gQHJldHVybnMgb3B0aW9ucyBzdHJpbmcgb3Igb2JqZWN0XG52YXIgZ2V0T3B0aW9ucyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG5cbiAgICBpZiAodXRpbHMuaXNTdHJpbmcob3B0aW9ucykpIHtcbiAgICAgICAgcmV0dXJuIG9wdGlvbnM7XG4gICAgfVxuXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAvLyBtYWtlIHN1cmUgdG9waWNzLCBnZXQgY29udmVydGVkIHRvIGhleFxuICAgIG9wdGlvbnMudG9waWNzID0gb3B0aW9ucy50b3BpY3MgfHwgW107XG4gICAgb3B0aW9ucy50b3BpY3MgPSBvcHRpb25zLnRvcGljcy5tYXAoZnVuY3Rpb24odG9waWMpe1xuICAgICAgICByZXR1cm4gKHV0aWxzLmlzQXJyYXkodG9waWMpKSA/IHRvcGljLm1hcCh0b1RvcGljKSA6IHRvVG9waWModG9waWMpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgdG9waWNzOiBvcHRpb25zLnRvcGljcyxcbiAgICAgICAgZnJvbTogb3B0aW9ucy5mcm9tLFxuICAgICAgICB0bzogb3B0aW9ucy50byxcbiAgICAgICAgYWRkcmVzczogb3B0aW9ucy5hZGRyZXNzLFxuICAgICAgICBmcm9tQmxvY2s6IGZvcm1hdHRlcnMuaW5wdXRCbG9ja051bWJlckZvcm1hdHRlcihvcHRpb25zLmZyb21CbG9jayksXG4gICAgICAgIHRvQmxvY2s6IGZvcm1hdHRlcnMuaW5wdXRCbG9ja051bWJlckZvcm1hdHRlcihvcHRpb25zLnRvQmxvY2spXG4gICAgfTtcbn07XG5cbi8qKlxuQWRkcyB0aGUgY2FsbGJhY2sgYW5kIHNldHMgdXAgdGhlIG1ldGhvZHMsIHRvIGl0ZXJhdGUgb3ZlciB0aGUgcmVzdWx0cy5cblxuQG1ldGhvZCBnZXRMb2dzQXRTdGFydFxuQHBhcmFtIHtPYmplY3R9IHNlbGZcbkBwYXJhbSB7ZnVuY2l0b259XG4qL1xudmFyIGdldExvZ3NBdFN0YXJ0ID0gZnVuY3Rpb24oc2VsZiwgY2FsbGJhY2spe1xuICAgIC8vIGNhbGwgZ2V0RmlsdGVyTG9ncyBmb3IgdGhlIGZpcnN0IHdhdGNoIGNhbGxiYWNrIHN0YXJ0XG4gICAgaWYgKCF1dGlscy5pc1N0cmluZyhzZWxmLm9wdGlvbnMpKSB7XG4gICAgICAgIHNlbGYuZ2V0KGZ1bmN0aW9uIChlcnIsIG1lc3NhZ2VzKSB7XG4gICAgICAgICAgICAvLyBkb24ndCBzZW5kIGFsbCB0aGUgcmVzcG9uc2VzIHRvIGFsbCB0aGUgd2F0Y2hlcyBhZ2Fpbi4uLiBqdXN0IHRvIHNlbGYgb25lXG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYodXRpbHMuaXNBcnJheShtZXNzYWdlcykpIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlcy5mb3JFYWNoKGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59O1xuXG4vKipcbkFkZHMgdGhlIGNhbGxiYWNrIGFuZCBzZXRzIHVwIHRoZSBtZXRob2RzLCB0byBpdGVyYXRlIG92ZXIgdGhlIHJlc3VsdHMuXG5cbkBtZXRob2QgcG9sbEZpbHRlclxuQHBhcmFtIHtPYmplY3R9IHNlbGZcbiovXG52YXIgcG9sbEZpbHRlciA9IGZ1bmN0aW9uKHNlbGYpIHtcblxuICAgIHZhciBvbk1lc3NhZ2UgPSBmdW5jdGlvbiAoZXJyb3IsIG1lc3NhZ2VzKSB7XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIHNlbGYuY2FsbGJhY2tzLmZvckVhY2goZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyb3IpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZih1dGlscy5pc0FycmF5KG1lc3NhZ2VzKSkge1xuICAgICAgICAgICAgbWVzc2FnZXMuZm9yRWFjaChmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBzZWxmLmZvcm1hdHRlciA/IHNlbGYuZm9ybWF0dGVyKG1lc3NhZ2UpIDogbWVzc2FnZTtcbiAgICAgICAgICAgICAgICBzZWxmLmNhbGxiYWNrcy5mb3JFYWNoKGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsLCBtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHNlbGYucmVxdWVzdE1hbmFnZXIuc3RhcnRQb2xsaW5nKHtcbiAgICAgICAgbWV0aG9kOiBzZWxmLmltcGxlbWVudGF0aW9uLnBvbGwuY2FsbCxcbiAgICAgICAgcGFyYW1zOiBbc2VsZi5maWx0ZXJJZF0sXG4gICAgfSwgc2VsZi5maWx0ZXJJZCwgb25NZXNzYWdlLCBzZWxmLnN0b3BXYXRjaGluZy5iaW5kKHNlbGYpKTtcblxufTtcblxudmFyIEZpbHRlciA9IGZ1bmN0aW9uIChyZXF1ZXN0TWFuYWdlciwgb3B0aW9ucywgbWV0aG9kcywgZm9ybWF0dGVyLCBjYWxsYmFjaykge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgaW1wbGVtZW50YXRpb24gPSB7fTtcbiAgICBtZXRob2RzLmZvckVhY2goZnVuY3Rpb24gKG1ldGhvZCkge1xuICAgICAgICBtZXRob2Quc2V0UmVxdWVzdE1hbmFnZXIocmVxdWVzdE1hbmFnZXIpO1xuICAgICAgICBtZXRob2QuYXR0YWNoVG9PYmplY3QoaW1wbGVtZW50YXRpb24pO1xuICAgIH0pO1xuICAgIHRoaXMucmVxdWVzdE1hbmFnZXIgPSByZXF1ZXN0TWFuYWdlcjtcbiAgICB0aGlzLm9wdGlvbnMgPSBnZXRPcHRpb25zKG9wdGlvbnMpO1xuICAgIHRoaXMuaW1wbGVtZW50YXRpb24gPSBpbXBsZW1lbnRhdGlvbjtcbiAgICB0aGlzLmZpbHRlcklkID0gbnVsbDtcbiAgICB0aGlzLmNhbGxiYWNrcyA9IFtdO1xuICAgIHRoaXMuZ2V0TG9nc0NhbGxiYWNrcyA9IFtdO1xuICAgIHRoaXMucG9sbEZpbHRlcnMgPSBbXTtcbiAgICB0aGlzLmZvcm1hdHRlciA9IGZvcm1hdHRlcjtcbiAgICB0aGlzLmltcGxlbWVudGF0aW9uLm5ld0ZpbHRlcih0aGlzLm9wdGlvbnMsIGZ1bmN0aW9uKGVycm9yLCBpZCl7XG4gICAgICAgIGlmKGVycm9yKSB7XG4gICAgICAgICAgICBzZWxmLmNhbGxiYWNrcy5mb3JFYWNoKGZ1bmN0aW9uKGNiKXtcbiAgICAgICAgICAgICAgICBjYihlcnJvcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNlbGYuZmlsdGVySWQgPSBpZDtcblxuICAgICAgICAgICAgLy8gY2hlY2sgaWYgdGhlcmUgYXJlIGdldCBwZW5kaW5nIGNhbGxiYWNrcyBhcyBhIGNvbnNlcXVlbmNlXG4gICAgICAgICAgICAvLyBvZiBjYWxsaW5nIGdldCgpIHdpdGggZmlsdGVySWQgdW5hc3NpZ25lZC5cbiAgICAgICAgICAgIHNlbGYuZ2V0TG9nc0NhbGxiYWNrcy5mb3JFYWNoKGZ1bmN0aW9uIChjYil7XG4gICAgICAgICAgICAgICAgc2VsZi5nZXQoY2IpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzZWxmLmdldExvZ3NDYWxsYmFja3MgPSBbXTtcblxuICAgICAgICAgICAgLy8gZ2V0IGZpbHRlciBsb2dzIGZvciB0aGUgYWxyZWFkeSBleGlzdGluZyB3YXRjaCBjYWxsc1xuICAgICAgICAgICAgc2VsZi5jYWxsYmFja3MuZm9yRWFjaChmdW5jdGlvbihjYil7XG4gICAgICAgICAgICAgICAgZ2V0TG9nc0F0U3RhcnQoc2VsZiwgY2IpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZihzZWxmLmNhbGxiYWNrcy5sZW5ndGggPiAwKVxuICAgICAgICAgICAgICAgIHBvbGxGaWx0ZXIoc2VsZik7XG5cbiAgICAgICAgICAgIC8vIHN0YXJ0IHRvIHdhdGNoIGltbWVkaWF0ZWx5XG4gICAgICAgICAgICBpZih0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi53YXRjaChjYWxsYmFjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuRmlsdGVyLnByb3RvdHlwZS53YXRjaCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHRoaXMuY2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuXG4gICAgaWYodGhpcy5maWx0ZXJJZCkge1xuICAgICAgICBnZXRMb2dzQXRTdGFydCh0aGlzLCBjYWxsYmFjayk7XG4gICAgICAgIHBvbGxGaWx0ZXIodGhpcyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG5GaWx0ZXIucHJvdG90eXBlLnN0b3BXYXRjaGluZyA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHRoaXMucmVxdWVzdE1hbmFnZXIuc3RvcFBvbGxpbmcodGhpcy5maWx0ZXJJZCk7XG4gICAgdGhpcy5jYWxsYmFja3MgPSBbXTtcbiAgICAvLyByZW1vdmUgZmlsdGVyIGFzeW5jXG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuaW1wbGVtZW50YXRpb24udW5pbnN0YWxsRmlsdGVyKHRoaXMuZmlsdGVySWQsIGNhbGxiYWNrKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5pbXBsZW1lbnRhdGlvbi51bmluc3RhbGxGaWx0ZXIodGhpcy5maWx0ZXJJZCk7XG4gICAgfVxufTtcblxuRmlsdGVyLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgaWYgKHV0aWxzLmlzRnVuY3Rpb24oY2FsbGJhY2spKSB7XG4gICAgICAgIGlmICh0aGlzLmZpbHRlcklkID09PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBJZiBmaWx0ZXJJZCBpcyBub3Qgc2V0IHlldCwgY2FsbCBpdCBiYWNrXG4gICAgICAgICAgICAvLyB3aGVuIG5ld0ZpbHRlcigpIGFzc2lnbnMgaXQuXG4gICAgICAgICAgICB0aGlzLmdldExvZ3NDYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmltcGxlbWVudGF0aW9uLmdldExvZ3ModGhpcy5maWx0ZXJJZCwgZnVuY3Rpb24oZXJyLCByZXMpe1xuICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsLCByZXMubWFwKGZ1bmN0aW9uIChsb2cpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLmZvcm1hdHRlciA/IHNlbGYuZm9ybWF0dGVyKGxvZykgOiBsb2c7XG4gICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh0aGlzLmZpbHRlcklkID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZpbHRlciBJRCBFcnJvcjogZmlsdGVyKCkuZ2V0KCkgY2FuXFwndCBiZSBjaGFpbmVkIHN5bmNocm9ub3VzLCBwbGVhc2UgcHJvdmlkZSBhIGNhbGxiYWNrIGZvciB0aGUgZ2V0KCkgbWV0aG9kLicpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsb2dzID0gdGhpcy5pbXBsZW1lbnRhdGlvbi5nZXRMb2dzKHRoaXMuZmlsdGVySWQpO1xuICAgICAgICByZXR1cm4gbG9ncy5tYXAoZnVuY3Rpb24gKGxvZykge1xuICAgICAgICAgICAgcmV0dXJuIHNlbGYuZm9ybWF0dGVyID8gc2VsZi5mb3JtYXR0ZXIobG9nKSA6IGxvZztcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEZpbHRlcjtcblxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi93ZWIzL2xpYi93ZWIzL2ZpbHRlci5qcyIsIi8qXG4gICAgVGhpcyBmaWxlIGlzIHBhcnQgb2Ygd2ViMy5qcy5cblxuICAgIHdlYjMuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICAgIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICAgIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gICAgKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cblxuICAgIHdlYjMuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICAgIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAgICBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cblxuICAgIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICAgIGFsb25nIHdpdGggd2ViMy5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiovXG4vKiogXG4gKiBAZmlsZSBpYmFuLmpzXG4gKiBAYXV0aG9yIE1hcmVrIEtvdGV3aWN6IDxtYXJla0BldGhkZXYuY29tPlxuICogQGRhdGUgMjAxNVxuICovXG5cbnZhciBCaWdOdW1iZXIgPSByZXF1aXJlKCdiaWdudW1iZXIuanMnKTtcblxudmFyIHBhZExlZnQgPSBmdW5jdGlvbiAoc3RyaW5nLCBieXRlcykge1xuICAgIHZhciByZXN1bHQgPSBzdHJpbmc7XG4gICAgd2hpbGUgKHJlc3VsdC5sZW5ndGggPCBieXRlcyAqIDIpIHtcbiAgICAgICAgcmVzdWx0ID0gJzAnICsgcmVzdWx0O1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBQcmVwYXJlIGFuIElCQU4gZm9yIG1vZCA5NyBjb21wdXRhdGlvbiBieSBtb3ZpbmcgdGhlIGZpcnN0IDQgY2hhcnMgdG8gdGhlIGVuZCBhbmQgdHJhbnNmb3JtaW5nIHRoZSBsZXR0ZXJzIHRvXG4gKiBudW1iZXJzIChBID0gMTAsIEIgPSAxMSwgLi4uLCBaID0gMzUpLCBhcyBzcGVjaWZpZWQgaW4gSVNPMTM2MTYuXG4gKlxuICogQG1ldGhvZCBpc28xMzYxNlByZXBhcmVcbiAqIEBwYXJhbSB7U3RyaW5nfSBpYmFuIHRoZSBJQkFOXG4gKiBAcmV0dXJucyB7U3RyaW5nfSB0aGUgcHJlcGFyZWQgSUJBTlxuICovXG52YXIgaXNvMTM2MTZQcmVwYXJlID0gZnVuY3Rpb24gKGliYW4pIHtcbiAgICB2YXIgQSA9ICdBJy5jaGFyQ29kZUF0KDApO1xuICAgIHZhciBaID0gJ1onLmNoYXJDb2RlQXQoMCk7XG5cbiAgICBpYmFuID0gaWJhbi50b1VwcGVyQ2FzZSgpO1xuICAgIGliYW4gPSBpYmFuLnN1YnN0cig0KSArIGliYW4uc3Vic3RyKDAsNCk7XG5cbiAgICByZXR1cm4gaWJhbi5zcGxpdCgnJykubWFwKGZ1bmN0aW9uKG4pe1xuICAgICAgICB2YXIgY29kZSA9IG4uY2hhckNvZGVBdCgwKTtcbiAgICAgICAgaWYgKGNvZGUgPj0gQSAmJiBjb2RlIDw9IFope1xuICAgICAgICAgICAgLy8gQSA9IDEwLCBCID0gMTEsIC4uLiBaID0gMzVcbiAgICAgICAgICAgIHJldHVybiBjb2RlIC0gQSArIDEwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG47XG4gICAgICAgIH1cbiAgICB9KS5qb2luKCcnKTtcbn07XG5cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgTU9EIDk3IDEwIG9mIHRoZSBwYXNzZWQgSUJBTiBhcyBzcGVjaWZpZWQgaW4gSVNPNzA2NC5cbiAqXG4gKiBAbWV0aG9kIG1vZDk3MTBcbiAqIEBwYXJhbSB7U3RyaW5nfSBpYmFuXG4gKiBAcmV0dXJucyB7TnVtYmVyfVxuICovXG52YXIgbW9kOTcxMCA9IGZ1bmN0aW9uIChpYmFuKSB7XG4gICAgdmFyIHJlbWFpbmRlciA9IGliYW4sXG4gICAgICAgIGJsb2NrO1xuXG4gICAgd2hpbGUgKHJlbWFpbmRlci5sZW5ndGggPiAyKXtcbiAgICAgICAgYmxvY2sgPSByZW1haW5kZXIuc2xpY2UoMCwgOSk7XG4gICAgICAgIHJlbWFpbmRlciA9IHBhcnNlSW50KGJsb2NrLCAxMCkgJSA5NyArIHJlbWFpbmRlci5zbGljZShibG9jay5sZW5ndGgpO1xuICAgIH1cblxuICAgIHJldHVybiBwYXJzZUludChyZW1haW5kZXIsIDEwKSAlIDk3O1xufTtcblxuLyoqXG4gKiBUaGlzIHByb3RvdHlwZSBzaG91bGQgYmUgdXNlZCB0byBjcmVhdGUgaWJhbiBvYmplY3QgZnJvbSBpYmFuIGNvcnJlY3Qgc3RyaW5nXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGliYW5cbiAqL1xudmFyIEliYW4gPSBmdW5jdGlvbiAoaWJhbikge1xuICAgIHRoaXMuX2liYW4gPSBpYmFuO1xufTtcblxuLyoqXG4gKiBUaGlzIG1ldGhvZCBzaG91bGQgYmUgdXNlZCB0byBjcmVhdGUgaWJhbiBvYmplY3QgZnJvbSBldGhlcmV1bSBhZGRyZXNzXG4gKlxuICogQG1ldGhvZCBmcm9tQWRkcmVzc1xuICogQHBhcmFtIHtTdHJpbmd9IGFkZHJlc3NcbiAqIEByZXR1cm4ge0liYW59IHRoZSBJQkFOIG9iamVjdFxuICovXG5JYmFuLmZyb21BZGRyZXNzID0gZnVuY3Rpb24gKGFkZHJlc3MpIHtcbiAgICB2YXIgYXNCbiA9IG5ldyBCaWdOdW1iZXIoYWRkcmVzcywgMTYpO1xuICAgIHZhciBiYXNlMzYgPSBhc0JuLnRvU3RyaW5nKDM2KTtcbiAgICB2YXIgcGFkZGVkID0gcGFkTGVmdChiYXNlMzYsIDE1KTtcbiAgICByZXR1cm4gSWJhbi5mcm9tQmJhbihwYWRkZWQudG9VcHBlckNhc2UoKSk7XG59O1xuXG4vKipcbiAqIENvbnZlcnQgdGhlIHBhc3NlZCBCQkFOIHRvIGFuIElCQU4gZm9yIHRoaXMgY291bnRyeSBzcGVjaWZpY2F0aW9uLlxuICogUGxlYXNlIG5vdGUgdGhhdCA8aT5cImdlbmVyYXRpb24gb2YgdGhlIElCQU4gc2hhbGwgYmUgdGhlIGV4Y2x1c2l2ZSByZXNwb25zaWJpbGl0eSBvZiB0aGUgYmFuay9icmFuY2ggc2VydmljaW5nIHRoZSBhY2NvdW50XCI8L2k+LlxuICogVGhpcyBtZXRob2QgaW1wbGVtZW50cyB0aGUgcHJlZmVycmVkIGFsZ29yaXRobSBkZXNjcmliZWQgaW4gaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9JbnRlcm5hdGlvbmFsX0JhbmtfQWNjb3VudF9OdW1iZXIjR2VuZXJhdGluZ19JQkFOX2NoZWNrX2RpZ2l0c1xuICpcbiAqIEBtZXRob2QgZnJvbUJiYW5cbiAqIEBwYXJhbSB7U3RyaW5nfSBiYmFuIHRoZSBCQkFOIHRvIGNvbnZlcnQgdG8gSUJBTlxuICogQHJldHVybnMge0liYW59IHRoZSBJQkFOIG9iamVjdFxuICovXG5JYmFuLmZyb21CYmFuID0gZnVuY3Rpb24gKGJiYW4pIHtcbiAgICB2YXIgY291bnRyeUNvZGUgPSAnWEUnO1xuXG4gICAgdmFyIHJlbWFpbmRlciA9IG1vZDk3MTAoaXNvMTM2MTZQcmVwYXJlKGNvdW50cnlDb2RlICsgJzAwJyArIGJiYW4pKTtcbiAgICB2YXIgY2hlY2tEaWdpdCA9ICgnMCcgKyAoOTggLSByZW1haW5kZXIpKS5zbGljZSgtMik7XG5cbiAgICByZXR1cm4gbmV3IEliYW4oY291bnRyeUNvZGUgKyBjaGVja0RpZ2l0ICsgYmJhbik7XG59O1xuXG4vKipcbiAqIFNob3VsZCBiZSB1c2VkIHRvIGNyZWF0ZSBJQkFOIG9iamVjdCBmb3IgZ2l2ZW4gaW5zdGl0dXRpb24gYW5kIGlkZW50aWZpZXJcbiAqXG4gKiBAbWV0aG9kIGNyZWF0ZUluZGlyZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucywgcmVxdWlyZWQgb3B0aW9ucyBhcmUgXCJpbnN0aXR1dGlvblwiIGFuZCBcImlkZW50aWZpZXJcIlxuICogQHJldHVybiB7SWJhbn0gdGhlIElCQU4gb2JqZWN0XG4gKi9cbkliYW4uY3JlYXRlSW5kaXJlY3QgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHJldHVybiBJYmFuLmZyb21CYmFuKCdFVEgnICsgb3B0aW9ucy5pbnN0aXR1dGlvbiArIG9wdGlvbnMuaWRlbnRpZmllcik7XG59O1xuXG4vKipcbiAqIFRob3MgbWV0aG9kIHNob3VsZCBiZSB1c2VkIHRvIGNoZWNrIGlmIGdpdmVuIHN0cmluZyBpcyB2YWxpZCBpYmFuIG9iamVjdFxuICpcbiAqIEBtZXRob2QgaXNWYWxpZFxuICogQHBhcmFtIHtTdHJpbmd9IGliYW4gc3RyaW5nXG4gKiBAcmV0dXJuIHtCb29sZWFufSB0cnVlIGlmIGl0IGlzIHZhbGlkIElCQU5cbiAqL1xuSWJhbi5pc1ZhbGlkID0gZnVuY3Rpb24gKGliYW4pIHtcbiAgICB2YXIgaSA9IG5ldyBJYmFuKGliYW4pO1xuICAgIHJldHVybiBpLmlzVmFsaWQoKTtcbn07XG5cbi8qKlxuICogU2hvdWxkIGJlIGNhbGxlZCB0byBjaGVjayBpZiBpYmFuIGlzIGNvcnJlY3RcbiAqXG4gKiBAbWV0aG9kIGlzVmFsaWRcbiAqIEByZXR1cm5zIHtCb29sZWFufSB0cnVlIGlmIGl0IGlzLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuSWJhbi5wcm90b3R5cGUuaXNWYWxpZCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gL15YRVswLTldezJ9KEVUSFswLTlBLVpdezEzfXxbMC05QS1aXXszMCwzMX0pJC8udGVzdCh0aGlzLl9pYmFuKSAmJlxuICAgICAgICBtb2Q5NzEwKGlzbzEzNjE2UHJlcGFyZSh0aGlzLl9pYmFuKSkgPT09IDE7XG59O1xuXG4vKipcbiAqIFNob3VsZCBiZSBjYWxsZWQgdG8gY2hlY2sgaWYgaWJhbiBudW1iZXIgaXMgZGlyZWN0XG4gKlxuICogQG1ldGhvZCBpc0RpcmVjdFxuICogQHJldHVybnMge0Jvb2xlYW59IHRydWUgaWYgaXQgaXMsIG90aGVyd2lzZSBmYWxzZVxuICovXG5JYmFuLnByb3RvdHlwZS5pc0RpcmVjdCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5faWJhbi5sZW5ndGggPT09IDM0IHx8IHRoaXMuX2liYW4ubGVuZ3RoID09PSAzNTtcbn07XG5cbi8qKlxuICogU2hvdWxkIGJlIGNhbGxlZCB0byBjaGVjayBpZiBpYmFuIG51bWJlciBpZiBpbmRpcmVjdFxuICpcbiAqIEBtZXRob2QgaXNJbmRpcmVjdFxuICogQHJldHVybnMge0Jvb2xlYW59IHRydWUgaWYgaXQgaXMsIG90aGVyd2lzZSBmYWxzZVxuICovXG5JYmFuLnByb3RvdHlwZS5pc0luZGlyZWN0ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLl9pYmFuLmxlbmd0aCA9PT0gMjA7XG59O1xuXG4vKipcbiAqIFNob3VsZCBiZSBjYWxsZWQgdG8gZ2V0IGliYW4gY2hlY2tzdW1cbiAqIFVzZXMgdGhlIG1vZC05Ny0xMCBjaGVja3N1bW1pbmcgcHJvdG9jb2wgKElTTy9JRUMgNzA2NDoyMDAzKVxuICpcbiAqIEBtZXRob2QgY2hlY2tzdW1cbiAqIEByZXR1cm5zIHtTdHJpbmd9IGNoZWNrc3VtXG4gKi9cbkliYW4ucHJvdG90eXBlLmNoZWNrc3VtID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLl9pYmFuLnN1YnN0cigyLCAyKTtcbn07XG5cbi8qKlxuICogU2hvdWxkIGJlIGNhbGxlZCB0byBnZXQgaW5zdGl0dXRpb24gaWRlbnRpZmllclxuICogZWcuIFhSRUdcbiAqXG4gKiBAbWV0aG9kIGluc3RpdHV0aW9uXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBpbnN0aXR1dGlvbiBpZGVudGlmaWVyXG4gKi9cbkliYW4ucHJvdG90eXBlLmluc3RpdHV0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmlzSW5kaXJlY3QoKSA/IHRoaXMuX2liYW4uc3Vic3RyKDcsIDQpIDogJyc7XG59O1xuXG4vKipcbiAqIFNob3VsZCBiZSBjYWxsZWQgdG8gZ2V0IGNsaWVudCBpZGVudGlmaWVyIHdpdGhpbiBpbnN0aXR1dGlvblxuICogZWcuIEdBVk9GWU9SS1xuICpcbiAqIEBtZXRob2QgY2xpZW50XG4gKiBAcmV0dXJucyB7U3RyaW5nfSBjbGllbnQgaWRlbnRpZmllclxuICovXG5JYmFuLnByb3RvdHlwZS5jbGllbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuaXNJbmRpcmVjdCgpID8gdGhpcy5faWJhbi5zdWJzdHIoMTEpIDogJyc7XG59O1xuXG4vKipcbiAqIFNob3VsZCBiZSBjYWxsZWQgdG8gZ2V0IGNsaWVudCBkaXJlY3QgYWRkcmVzc1xuICpcbiAqIEBtZXRob2QgYWRkcmVzc1xuICogQHJldHVybnMge1N0cmluZ30gY2xpZW50IGRpcmVjdCBhZGRyZXNzXG4gKi9cbkliYW4ucHJvdG90eXBlLmFkZHJlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuaXNEaXJlY3QoKSkge1xuICAgICAgICB2YXIgYmFzZTM2ID0gdGhpcy5faWJhbi5zdWJzdHIoNCk7XG4gICAgICAgIHZhciBhc0JuID0gbmV3IEJpZ051bWJlcihiYXNlMzYsIDM2KTtcbiAgICAgICAgcmV0dXJuIHBhZExlZnQoYXNCbi50b1N0cmluZygxNiksIDIwKTtcbiAgICB9IFxuXG4gICAgcmV0dXJuICcnO1xufTtcblxuSWJhbi5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2liYW47XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEliYW47XG5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vd2ViMy9saWIvd2ViMy9pYmFuLmpzIiwiLypcbiAgICBUaGlzIGZpbGUgaXMgcGFydCBvZiB3ZWIzLmpzLlxuXG4gICAgd2ViMy5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gICAgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAgICAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuXG4gICAgd2ViMy5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICAgIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gICAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICAgIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuXG4gICAgWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gICAgYWxvbmcgd2l0aCB3ZWIzLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuKi9cbi8qKiBAZmlsZSB3YXRjaGVzLmpzXG4gKiBAYXV0aG9yczpcbiAqICAgTWFyZWsgS290ZXdpY3ogPG1hcmVrQGV0aGRldi5jb20+XG4gKiBAZGF0ZSAyMDE1XG4gKi9cblxudmFyIE1ldGhvZCA9IHJlcXVpcmUoJy4uL21ldGhvZCcpO1xuXG4vLy8gQHJldHVybnMgYW4gYXJyYXkgb2Ygb2JqZWN0cyBkZXNjcmliaW5nIHdlYjMuZXRoLmZpbHRlciBhcGkgbWV0aG9kc1xudmFyIGV0aCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgbmV3RmlsdGVyQ2FsbCA9IGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgICAgIHZhciB0eXBlID0gYXJnc1swXTtcblxuICAgICAgICBzd2l0Y2godHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnbGF0ZXN0JzpcbiAgICAgICAgICAgICAgICBhcmdzLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJhbXMgPSAwO1xuICAgICAgICAgICAgICAgIHJldHVybiAnZXRoX25ld0Jsb2NrRmlsdGVyJztcbiAgICAgICAgICAgIGNhc2UgJ3BlbmRpbmcnOlxuICAgICAgICAgICAgICAgIGFyZ3Muc2hpZnQoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmFtcyA9IDA7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdldGhfbmV3UGVuZGluZ1RyYW5zYWN0aW9uRmlsdGVyJztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdldGhfbmV3RmlsdGVyJztcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgbmV3RmlsdGVyID0gbmV3IE1ldGhvZCh7XG4gICAgICAgIG5hbWU6ICduZXdGaWx0ZXInLFxuICAgICAgICBjYWxsOiBuZXdGaWx0ZXJDYWxsLFxuICAgICAgICBwYXJhbXM6IDFcbiAgICB9KTtcblxuICAgIHZhciB1bmluc3RhbGxGaWx0ZXIgPSBuZXcgTWV0aG9kKHtcbiAgICAgICAgbmFtZTogJ3VuaW5zdGFsbEZpbHRlcicsXG4gICAgICAgIGNhbGw6ICdldGhfdW5pbnN0YWxsRmlsdGVyJyxcbiAgICAgICAgcGFyYW1zOiAxXG4gICAgfSk7XG5cbiAgICB2YXIgZ2V0TG9ncyA9IG5ldyBNZXRob2Qoe1xuICAgICAgICBuYW1lOiAnZ2V0TG9ncycsXG4gICAgICAgIGNhbGw6ICdldGhfZ2V0RmlsdGVyTG9ncycsXG4gICAgICAgIHBhcmFtczogMVxuICAgIH0pO1xuXG4gICAgdmFyIHBvbGwgPSBuZXcgTWV0aG9kKHtcbiAgICAgICAgbmFtZTogJ3BvbGwnLFxuICAgICAgICBjYWxsOiAnZXRoX2dldEZpbHRlckNoYW5nZXMnLFxuICAgICAgICBwYXJhbXM6IDFcbiAgICB9KTtcblxuICAgIHJldHVybiBbXG4gICAgICAgIG5ld0ZpbHRlcixcbiAgICAgICAgdW5pbnN0YWxsRmlsdGVyLFxuICAgICAgICBnZXRMb2dzLFxuICAgICAgICBwb2xsXG4gICAgXTtcbn07XG5cbi8vLyBAcmV0dXJucyBhbiBhcnJheSBvZiBvYmplY3RzIGRlc2NyaWJpbmcgd2ViMy5zaGgud2F0Y2ggYXBpIG1ldGhvZHNcbnZhciBzaGggPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIG5ld0ZpbHRlciA9IG5ldyBNZXRob2Qoe1xuICAgICAgICBuYW1lOiAnbmV3RmlsdGVyJyxcbiAgICAgICAgY2FsbDogJ3NoaF9uZXdGaWx0ZXInLFxuICAgICAgICBwYXJhbXM6IDFcbiAgICB9KTtcblxuICAgIHZhciB1bmluc3RhbGxGaWx0ZXIgPSBuZXcgTWV0aG9kKHtcbiAgICAgICAgbmFtZTogJ3VuaW5zdGFsbEZpbHRlcicsXG4gICAgICAgIGNhbGw6ICdzaGhfdW5pbnN0YWxsRmlsdGVyJyxcbiAgICAgICAgcGFyYW1zOiAxXG4gICAgfSk7XG5cbiAgICB2YXIgZ2V0TG9ncyA9IG5ldyBNZXRob2Qoe1xuICAgICAgICBuYW1lOiAnZ2V0TG9ncycsXG4gICAgICAgIGNhbGw6ICdzaGhfZ2V0TWVzc2FnZXMnLFxuICAgICAgICBwYXJhbXM6IDFcbiAgICB9KTtcblxuICAgIHZhciBwb2xsID0gbmV3IE1ldGhvZCh7XG4gICAgICAgIG5hbWU6ICdwb2xsJyxcbiAgICAgICAgY2FsbDogJ3NoaF9nZXRGaWx0ZXJDaGFuZ2VzJyxcbiAgICAgICAgcGFyYW1zOiAxXG4gICAgfSk7XG5cbiAgICByZXR1cm4gW1xuICAgICAgICBuZXdGaWx0ZXIsXG4gICAgICAgIHVuaW5zdGFsbEZpbHRlcixcbiAgICAgICAgZ2V0TG9ncyxcbiAgICAgICAgcG9sbFxuICAgIF07XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBldGg6IGV0aCxcbiAgICBzaGg6IHNoaFxufTtcblxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi93ZWIzL2xpYi93ZWIzL21ldGhvZHMvd2F0Y2hlcy5qcyIsIjsoZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnksIHVuZGVmKSB7XG5cdGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gXCJvYmplY3RcIikge1xuXHRcdC8vIENvbW1vbkpTXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKFwiLi9jb3JlXCIpLCByZXF1aXJlKFwiLi94NjQtY29yZVwiKSk7XG5cdH1cblx0ZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIHtcblx0XHQvLyBBTURcblx0XHRkZWZpbmUoW1wiLi9jb3JlXCIsIFwiLi94NjQtY29yZVwiXSwgZmFjdG9yeSk7XG5cdH1cblx0ZWxzZSB7XG5cdFx0Ly8gR2xvYmFsIChicm93c2VyKVxuXHRcdGZhY3Rvcnkocm9vdC5DcnlwdG9KUyk7XG5cdH1cbn0odGhpcywgZnVuY3Rpb24gKENyeXB0b0pTKSB7XG5cblx0KGZ1bmN0aW9uIChNYXRoKSB7XG5cdCAgICAvLyBTaG9ydGN1dHNcblx0ICAgIHZhciBDID0gQ3J5cHRvSlM7XG5cdCAgICB2YXIgQ19saWIgPSBDLmxpYjtcblx0ICAgIHZhciBXb3JkQXJyYXkgPSBDX2xpYi5Xb3JkQXJyYXk7XG5cdCAgICB2YXIgSGFzaGVyID0gQ19saWIuSGFzaGVyO1xuXHQgICAgdmFyIENfeDY0ID0gQy54NjQ7XG5cdCAgICB2YXIgWDY0V29yZCA9IENfeDY0LldvcmQ7XG5cdCAgICB2YXIgQ19hbGdvID0gQy5hbGdvO1xuXG5cdCAgICAvLyBDb25zdGFudHMgdGFibGVzXG5cdCAgICB2YXIgUkhPX09GRlNFVFMgPSBbXTtcblx0ICAgIHZhciBQSV9JTkRFWEVTICA9IFtdO1xuXHQgICAgdmFyIFJPVU5EX0NPTlNUQU5UUyA9IFtdO1xuXG5cdCAgICAvLyBDb21wdXRlIENvbnN0YW50c1xuXHQgICAgKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAvLyBDb21wdXRlIHJobyBvZmZzZXQgY29uc3RhbnRzXG5cdCAgICAgICAgdmFyIHggPSAxLCB5ID0gMDtcblx0ICAgICAgICBmb3IgKHZhciB0ID0gMDsgdCA8IDI0OyB0KyspIHtcblx0ICAgICAgICAgICAgUkhPX09GRlNFVFNbeCArIDUgKiB5XSA9ICgodCArIDEpICogKHQgKyAyKSAvIDIpICUgNjQ7XG5cblx0ICAgICAgICAgICAgdmFyIG5ld1ggPSB5ICUgNTtcblx0ICAgICAgICAgICAgdmFyIG5ld1kgPSAoMiAqIHggKyAzICogeSkgJSA1O1xuXHQgICAgICAgICAgICB4ID0gbmV3WDtcblx0ICAgICAgICAgICAgeSA9IG5ld1k7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgLy8gQ29tcHV0ZSBwaSBpbmRleCBjb25zdGFudHNcblx0ICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IDU7IHgrKykge1xuXHQgICAgICAgICAgICBmb3IgKHZhciB5ID0gMDsgeSA8IDU7IHkrKykge1xuXHQgICAgICAgICAgICAgICAgUElfSU5ERVhFU1t4ICsgNSAqIHldID0geSArICgoMiAqIHggKyAzICogeSkgJSA1KSAqIDU7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cblx0ICAgICAgICAvLyBDb21wdXRlIHJvdW5kIGNvbnN0YW50c1xuXHQgICAgICAgIHZhciBMRlNSID0gMHgwMTtcblx0ICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDI0OyBpKyspIHtcblx0ICAgICAgICAgICAgdmFyIHJvdW5kQ29uc3RhbnRNc3cgPSAwO1xuXHQgICAgICAgICAgICB2YXIgcm91bmRDb25zdGFudExzdyA9IDA7XG5cblx0ICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCA3OyBqKyspIHtcblx0ICAgICAgICAgICAgICAgIGlmIChMRlNSICYgMHgwMSkge1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciBiaXRQb3NpdGlvbiA9ICgxIDw8IGopIC0gMTtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAoYml0UG9zaXRpb24gPCAzMikge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICByb3VuZENvbnN0YW50THN3IF49IDEgPDwgYml0UG9zaXRpb247XG5cdCAgICAgICAgICAgICAgICAgICAgfSBlbHNlIC8qIGlmIChiaXRQb3NpdGlvbiA+PSAzMikgKi8ge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICByb3VuZENvbnN0YW50TXN3IF49IDEgPDwgKGJpdFBvc2l0aW9uIC0gMzIpO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAgICAgLy8gQ29tcHV0ZSBuZXh0IExGU1Jcblx0ICAgICAgICAgICAgICAgIGlmIChMRlNSICYgMHg4MCkge1xuXHQgICAgICAgICAgICAgICAgICAgIC8vIFByaW1pdGl2ZSBwb2x5bm9taWFsIG92ZXIgR0YoMik6IHheOCArIHheNiArIHheNSArIHheNCArIDFcblx0ICAgICAgICAgICAgICAgICAgICBMRlNSID0gKExGU1IgPDwgMSkgXiAweDcxO1xuXHQgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICBMRlNSIDw8PSAxO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgUk9VTkRfQ09OU1RBTlRTW2ldID0gWDY0V29yZC5jcmVhdGUocm91bmRDb25zdGFudE1zdywgcm91bmRDb25zdGFudExzdyk7XG5cdCAgICAgICAgfVxuXHQgICAgfSgpKTtcblxuXHQgICAgLy8gUmV1c2FibGUgb2JqZWN0cyBmb3IgdGVtcG9yYXJ5IHZhbHVlc1xuXHQgICAgdmFyIFQgPSBbXTtcblx0ICAgIChmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAyNTsgaSsrKSB7XG5cdCAgICAgICAgICAgIFRbaV0gPSBYNjRXb3JkLmNyZWF0ZSgpO1xuXHQgICAgICAgIH1cblx0ICAgIH0oKSk7XG5cblx0ICAgIC8qKlxuXHQgICAgICogU0hBLTMgaGFzaCBhbGdvcml0aG0uXG5cdCAgICAgKi9cblx0ICAgIHZhciBTSEEzID0gQ19hbGdvLlNIQTMgPSBIYXNoZXIuZXh0ZW5kKHtcblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBDb25maWd1cmF0aW9uIG9wdGlvbnMuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcHJvcGVydHkge251bWJlcn0gb3V0cHV0TGVuZ3RoXG5cdCAgICAgICAgICogICBUaGUgZGVzaXJlZCBudW1iZXIgb2YgYml0cyBpbiB0aGUgb3V0cHV0IGhhc2guXG5cdCAgICAgICAgICogICBPbmx5IHZhbHVlcyBwZXJtaXR0ZWQgYXJlOiAyMjQsIDI1NiwgMzg0LCA1MTIuXG5cdCAgICAgICAgICogICBEZWZhdWx0OiA1MTJcblx0ICAgICAgICAgKi9cblx0ICAgICAgICBjZmc6IEhhc2hlci5jZmcuZXh0ZW5kKHtcblx0ICAgICAgICAgICAgb3V0cHV0TGVuZ3RoOiA1MTJcblx0ICAgICAgICB9KSxcblxuXHQgICAgICAgIF9kb1Jlc2V0OiBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuX3N0YXRlID0gW11cblx0ICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAyNTsgaSsrKSB7XG5cdCAgICAgICAgICAgICAgICBzdGF0ZVtpXSA9IG5ldyBYNjRXb3JkLmluaXQoKTtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIHRoaXMuYmxvY2tTaXplID0gKDE2MDAgLSAyICogdGhpcy5jZmcub3V0cHV0TGVuZ3RoKSAvIDMyO1xuXHQgICAgICAgIH0sXG5cblx0ICAgICAgICBfZG9Qcm9jZXNzQmxvY2s6IGZ1bmN0aW9uIChNLCBvZmZzZXQpIHtcblx0ICAgICAgICAgICAgLy8gU2hvcnRjdXRzXG5cdCAgICAgICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuX3N0YXRlO1xuXHQgICAgICAgICAgICB2YXIgbkJsb2NrU2l6ZUxhbmVzID0gdGhpcy5ibG9ja1NpemUgLyAyO1xuXG5cdCAgICAgICAgICAgIC8vIEFic29yYlxuXHQgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5CbG9ja1NpemVMYW5lczsgaSsrKSB7XG5cdCAgICAgICAgICAgICAgICAvLyBTaG9ydGN1dHNcblx0ICAgICAgICAgICAgICAgIHZhciBNMmkgID0gTVtvZmZzZXQgKyAyICogaV07XG5cdCAgICAgICAgICAgICAgICB2YXIgTTJpMSA9IE1bb2Zmc2V0ICsgMiAqIGkgKyAxXTtcblxuXHQgICAgICAgICAgICAgICAgLy8gU3dhcCBlbmRpYW5cblx0ICAgICAgICAgICAgICAgIE0yaSA9IChcblx0ICAgICAgICAgICAgICAgICAgICAoKChNMmkgPDwgOCkgIHwgKE0yaSA+Pj4gMjQpKSAmIDB4MDBmZjAwZmYpIHxcblx0ICAgICAgICAgICAgICAgICAgICAoKChNMmkgPDwgMjQpIHwgKE0yaSA+Pj4gOCkpICAmIDB4ZmYwMGZmMDApXG5cdCAgICAgICAgICAgICAgICApO1xuXHQgICAgICAgICAgICAgICAgTTJpMSA9IChcblx0ICAgICAgICAgICAgICAgICAgICAoKChNMmkxIDw8IDgpICB8IChNMmkxID4+PiAyNCkpICYgMHgwMGZmMDBmZikgfFxuXHQgICAgICAgICAgICAgICAgICAgICgoKE0yaTEgPDwgMjQpIHwgKE0yaTEgPj4+IDgpKSAgJiAweGZmMDBmZjAwKVxuXHQgICAgICAgICAgICAgICAgKTtcblxuXHQgICAgICAgICAgICAgICAgLy8gQWJzb3JiIG1lc3NhZ2UgaW50byBzdGF0ZVxuXHQgICAgICAgICAgICAgICAgdmFyIGxhbmUgPSBzdGF0ZVtpXTtcblx0ICAgICAgICAgICAgICAgIGxhbmUuaGlnaCBePSBNMmkxO1xuXHQgICAgICAgICAgICAgICAgbGFuZS5sb3cgIF49IE0yaTtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIC8vIFJvdW5kc1xuXHQgICAgICAgICAgICBmb3IgKHZhciByb3VuZCA9IDA7IHJvdW5kIDwgMjQ7IHJvdW5kKyspIHtcblx0ICAgICAgICAgICAgICAgIC8vIFRoZXRhXG5cdCAgICAgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IDU7IHgrKykge1xuXHQgICAgICAgICAgICAgICAgICAgIC8vIE1peCBjb2x1bW4gbGFuZXNcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgdE1zdyA9IDAsIHRMc3cgPSAwO1xuXHQgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHkgPSAwOyB5IDwgNTsgeSsrKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsYW5lID0gc3RhdGVbeCArIDUgKiB5XTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdE1zdyBePSBsYW5lLmhpZ2g7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRMc3cgXj0gbGFuZS5sb3c7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgICAgICAgICAgLy8gVGVtcG9yYXJ5IHZhbHVlc1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciBUeCA9IFRbeF07XG5cdCAgICAgICAgICAgICAgICAgICAgVHguaGlnaCA9IHRNc3c7XG5cdCAgICAgICAgICAgICAgICAgICAgVHgubG93ICA9IHRMc3c7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IDU7IHgrKykge1xuXHQgICAgICAgICAgICAgICAgICAgIC8vIFNob3J0Y3V0c1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciBUeDQgPSBUWyh4ICsgNCkgJSA1XTtcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgVHgxID0gVFsoeCArIDEpICUgNV07XG5cdCAgICAgICAgICAgICAgICAgICAgdmFyIFR4MU1zdyA9IFR4MS5oaWdoO1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciBUeDFMc3cgPSBUeDEubG93O1xuXG5cdCAgICAgICAgICAgICAgICAgICAgLy8gTWl4IHN1cnJvdW5kaW5nIGNvbHVtbnNcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgdE1zdyA9IFR4NC5oaWdoIF4gKChUeDFNc3cgPDwgMSkgfCAoVHgxTHN3ID4+PiAzMSkpO1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciB0THN3ID0gVHg0LmxvdyAgXiAoKFR4MUxzdyA8PCAxKSB8IChUeDFNc3cgPj4+IDMxKSk7XG5cdCAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCA1OyB5KyspIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxhbmUgPSBzdGF0ZVt4ICsgNSAqIHldO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBsYW5lLmhpZ2ggXj0gdE1zdztcblx0ICAgICAgICAgICAgICAgICAgICAgICAgbGFuZS5sb3cgIF49IHRMc3c7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgICAgICAvLyBSaG8gUGlcblx0ICAgICAgICAgICAgICAgIGZvciAodmFyIGxhbmVJbmRleCA9IDE7IGxhbmVJbmRleCA8IDI1OyBsYW5lSW5kZXgrKykge1xuXHQgICAgICAgICAgICAgICAgICAgIC8vIFNob3J0Y3V0c1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciBsYW5lID0gc3RhdGVbbGFuZUluZGV4XTtcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgbGFuZU1zdyA9IGxhbmUuaGlnaDtcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgbGFuZUxzdyA9IGxhbmUubG93O1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciByaG9PZmZzZXQgPSBSSE9fT0ZGU0VUU1tsYW5lSW5kZXhdO1xuXG5cdCAgICAgICAgICAgICAgICAgICAgLy8gUm90YXRlIGxhbmVzXG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKHJob09mZnNldCA8IDMyKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0TXN3ID0gKGxhbmVNc3cgPDwgcmhvT2Zmc2V0KSB8IChsYW5lTHN3ID4+PiAoMzIgLSByaG9PZmZzZXQpKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRMc3cgPSAobGFuZUxzdyA8PCByaG9PZmZzZXQpIHwgKGxhbmVNc3cgPj4+ICgzMiAtIHJob09mZnNldCkpO1xuXHQgICAgICAgICAgICAgICAgICAgIH0gZWxzZSAvKiBpZiAocmhvT2Zmc2V0ID49IDMyKSAqLyB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0TXN3ID0gKGxhbmVMc3cgPDwgKHJob09mZnNldCAtIDMyKSkgfCAobGFuZU1zdyA+Pj4gKDY0IC0gcmhvT2Zmc2V0KSk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0THN3ID0gKGxhbmVNc3cgPDwgKHJob09mZnNldCAtIDMyKSkgfCAobGFuZUxzdyA+Pj4gKDY0IC0gcmhvT2Zmc2V0KSk7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgICAgICAgICAgLy8gVHJhbnNwb3NlIGxhbmVzXG5cdCAgICAgICAgICAgICAgICAgICAgdmFyIFRQaUxhbmUgPSBUW1BJX0lOREVYRVNbbGFuZUluZGV4XV07XG5cdCAgICAgICAgICAgICAgICAgICAgVFBpTGFuZS5oaWdoID0gdE1zdztcblx0ICAgICAgICAgICAgICAgICAgICBUUGlMYW5lLmxvdyAgPSB0THN3O1xuXHQgICAgICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgICAgICAvLyBSaG8gcGkgYXQgeCA9IHkgPSAwXG5cdCAgICAgICAgICAgICAgICB2YXIgVDAgPSBUWzBdO1xuXHQgICAgICAgICAgICAgICAgdmFyIHN0YXRlMCA9IHN0YXRlWzBdO1xuXHQgICAgICAgICAgICAgICAgVDAuaGlnaCA9IHN0YXRlMC5oaWdoO1xuXHQgICAgICAgICAgICAgICAgVDAubG93ICA9IHN0YXRlMC5sb3c7XG5cblx0ICAgICAgICAgICAgICAgIC8vIENoaVxuXHQgICAgICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCA1OyB4KyspIHtcblx0ICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB5ID0gMDsgeSA8IDU7IHkrKykge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAvLyBTaG9ydGN1dHNcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxhbmVJbmRleCA9IHggKyA1ICogeTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxhbmUgPSBzdGF0ZVtsYW5lSW5kZXhdO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB2YXIgVExhbmUgPSBUW2xhbmVJbmRleF07XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHZhciBUeDFMYW5lID0gVFsoKHggKyAxKSAlIDUpICsgNSAqIHldO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB2YXIgVHgyTGFuZSA9IFRbKCh4ICsgMikgJSA1KSArIDUgKiB5XTtcblxuXHQgICAgICAgICAgICAgICAgICAgICAgICAvLyBNaXggcm93c1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBsYW5lLmhpZ2ggPSBUTGFuZS5oaWdoIF4gKH5UeDFMYW5lLmhpZ2ggJiBUeDJMYW5lLmhpZ2gpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBsYW5lLmxvdyAgPSBUTGFuZS5sb3cgIF4gKH5UeDFMYW5lLmxvdyAgJiBUeDJMYW5lLmxvdyk7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgICAgICAvLyBJb3RhXG5cdCAgICAgICAgICAgICAgICB2YXIgbGFuZSA9IHN0YXRlWzBdO1xuXHQgICAgICAgICAgICAgICAgdmFyIHJvdW5kQ29uc3RhbnQgPSBST1VORF9DT05TVEFOVFNbcm91bmRdO1xuXHQgICAgICAgICAgICAgICAgbGFuZS5oaWdoIF49IHJvdW5kQ29uc3RhbnQuaGlnaDtcblx0ICAgICAgICAgICAgICAgIGxhbmUubG93ICBePSByb3VuZENvbnN0YW50Lmxvdzs7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9LFxuXG5cdCAgICAgICAgX2RvRmluYWxpemU6IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgLy8gU2hvcnRjdXRzXG5cdCAgICAgICAgICAgIHZhciBkYXRhID0gdGhpcy5fZGF0YTtcblx0ICAgICAgICAgICAgdmFyIGRhdGFXb3JkcyA9IGRhdGEud29yZHM7XG5cdCAgICAgICAgICAgIHZhciBuQml0c1RvdGFsID0gdGhpcy5fbkRhdGFCeXRlcyAqIDg7XG5cdCAgICAgICAgICAgIHZhciBuQml0c0xlZnQgPSBkYXRhLnNpZ0J5dGVzICogODtcblx0ICAgICAgICAgICAgdmFyIGJsb2NrU2l6ZUJpdHMgPSB0aGlzLmJsb2NrU2l6ZSAqIDMyO1xuXG5cdCAgICAgICAgICAgIC8vIEFkZCBwYWRkaW5nXG5cdCAgICAgICAgICAgIGRhdGFXb3Jkc1tuQml0c0xlZnQgPj4+IDVdIHw9IDB4MSA8PCAoMjQgLSBuQml0c0xlZnQgJSAzMik7XG5cdCAgICAgICAgICAgIGRhdGFXb3Jkc1soKE1hdGguY2VpbCgobkJpdHNMZWZ0ICsgMSkgLyBibG9ja1NpemVCaXRzKSAqIGJsb2NrU2l6ZUJpdHMpID4+PiA1KSAtIDFdIHw9IDB4ODA7XG5cdCAgICAgICAgICAgIGRhdGEuc2lnQnl0ZXMgPSBkYXRhV29yZHMubGVuZ3RoICogNDtcblxuXHQgICAgICAgICAgICAvLyBIYXNoIGZpbmFsIGJsb2Nrc1xuXHQgICAgICAgICAgICB0aGlzLl9wcm9jZXNzKCk7XG5cblx0ICAgICAgICAgICAgLy8gU2hvcnRjdXRzXG5cdCAgICAgICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuX3N0YXRlO1xuXHQgICAgICAgICAgICB2YXIgb3V0cHV0TGVuZ3RoQnl0ZXMgPSB0aGlzLmNmZy5vdXRwdXRMZW5ndGggLyA4O1xuXHQgICAgICAgICAgICB2YXIgb3V0cHV0TGVuZ3RoTGFuZXMgPSBvdXRwdXRMZW5ndGhCeXRlcyAvIDg7XG5cblx0ICAgICAgICAgICAgLy8gU3F1ZWV6ZVxuXHQgICAgICAgICAgICB2YXIgaGFzaFdvcmRzID0gW107XG5cdCAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3V0cHV0TGVuZ3RoTGFuZXM7IGkrKykge1xuXHQgICAgICAgICAgICAgICAgLy8gU2hvcnRjdXRzXG5cdCAgICAgICAgICAgICAgICB2YXIgbGFuZSA9IHN0YXRlW2ldO1xuXHQgICAgICAgICAgICAgICAgdmFyIGxhbmVNc3cgPSBsYW5lLmhpZ2g7XG5cdCAgICAgICAgICAgICAgICB2YXIgbGFuZUxzdyA9IGxhbmUubG93O1xuXG5cdCAgICAgICAgICAgICAgICAvLyBTd2FwIGVuZGlhblxuXHQgICAgICAgICAgICAgICAgbGFuZU1zdyA9IChcblx0ICAgICAgICAgICAgICAgICAgICAoKChsYW5lTXN3IDw8IDgpICB8IChsYW5lTXN3ID4+PiAyNCkpICYgMHgwMGZmMDBmZikgfFxuXHQgICAgICAgICAgICAgICAgICAgICgoKGxhbmVNc3cgPDwgMjQpIHwgKGxhbmVNc3cgPj4+IDgpKSAgJiAweGZmMDBmZjAwKVxuXHQgICAgICAgICAgICAgICAgKTtcblx0ICAgICAgICAgICAgICAgIGxhbmVMc3cgPSAoXG5cdCAgICAgICAgICAgICAgICAgICAgKCgobGFuZUxzdyA8PCA4KSAgfCAobGFuZUxzdyA+Pj4gMjQpKSAmIDB4MDBmZjAwZmYpIHxcblx0ICAgICAgICAgICAgICAgICAgICAoKChsYW5lTHN3IDw8IDI0KSB8IChsYW5lTHN3ID4+PiA4KSkgICYgMHhmZjAwZmYwMClcblx0ICAgICAgICAgICAgICAgICk7XG5cblx0ICAgICAgICAgICAgICAgIC8vIFNxdWVlemUgc3RhdGUgdG8gcmV0cmlldmUgaGFzaFxuXHQgICAgICAgICAgICAgICAgaGFzaFdvcmRzLnB1c2gobGFuZUxzdyk7XG5cdCAgICAgICAgICAgICAgICBoYXNoV29yZHMucHVzaChsYW5lTXN3KTtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIC8vIFJldHVybiBmaW5hbCBjb21wdXRlZCBoYXNoXG5cdCAgICAgICAgICAgIHJldHVybiBuZXcgV29yZEFycmF5LmluaXQoaGFzaFdvcmRzLCBvdXRwdXRMZW5ndGhCeXRlcyk7XG5cdCAgICAgICAgfSxcblxuXHQgICAgICAgIGNsb25lOiBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIHZhciBjbG9uZSA9IEhhc2hlci5jbG9uZS5jYWxsKHRoaXMpO1xuXG5cdCAgICAgICAgICAgIHZhciBzdGF0ZSA9IGNsb25lLl9zdGF0ZSA9IHRoaXMuX3N0YXRlLnNsaWNlKDApO1xuXHQgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDI1OyBpKyspIHtcblx0ICAgICAgICAgICAgICAgIHN0YXRlW2ldID0gc3RhdGVbaV0uY2xvbmUoKTtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIHJldHVybiBjbG9uZTtcblx0ICAgICAgICB9XG5cdCAgICB9KTtcblxuXHQgICAgLyoqXG5cdCAgICAgKiBTaG9ydGN1dCBmdW5jdGlvbiB0byB0aGUgaGFzaGVyJ3Mgb2JqZWN0IGludGVyZmFjZS5cblx0ICAgICAqXG5cdCAgICAgKiBAcGFyYW0ge1dvcmRBcnJheXxzdHJpbmd9IG1lc3NhZ2UgVGhlIG1lc3NhZ2UgdG8gaGFzaC5cblx0ICAgICAqXG5cdCAgICAgKiBAcmV0dXJuIHtXb3JkQXJyYXl9IFRoZSBoYXNoLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqICAgICB2YXIgaGFzaCA9IENyeXB0b0pTLlNIQTMoJ21lc3NhZ2UnKTtcblx0ICAgICAqICAgICB2YXIgaGFzaCA9IENyeXB0b0pTLlNIQTMod29yZEFycmF5KTtcblx0ICAgICAqL1xuXHQgICAgQy5TSEEzID0gSGFzaGVyLl9jcmVhdGVIZWxwZXIoU0hBMyk7XG5cblx0ICAgIC8qKlxuXHQgICAgICogU2hvcnRjdXQgZnVuY3Rpb24gdG8gdGhlIEhNQUMncyBvYmplY3QgaW50ZXJmYWNlLlxuXHQgICAgICpcblx0ICAgICAqIEBwYXJhbSB7V29yZEFycmF5fHN0cmluZ30gbWVzc2FnZSBUaGUgbWVzc2FnZSB0byBoYXNoLlxuXHQgICAgICogQHBhcmFtIHtXb3JkQXJyYXl8c3RyaW5nfSBrZXkgVGhlIHNlY3JldCBrZXkuXG5cdCAgICAgKlxuXHQgICAgICogQHJldHVybiB7V29yZEFycmF5fSBUaGUgSE1BQy5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiAgICAgdmFyIGhtYWMgPSBDcnlwdG9KUy5IbWFjU0hBMyhtZXNzYWdlLCBrZXkpO1xuXHQgICAgICovXG5cdCAgICBDLkhtYWNTSEEzID0gSGFzaGVyLl9jcmVhdGVIbWFjSGVscGVyKFNIQTMpO1xuXHR9KE1hdGgpKTtcblxuXG5cdHJldHVybiBDcnlwdG9KUy5TSEEzO1xuXG59KSk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9jcnlwdG8tanMvc2hhMy5qcyIsIi8qXG4gICAgVGhpcyBmaWxlIGlzIHBhcnQgb2Ygd2ViMy5qcy5cblxuICAgIHdlYjMuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICAgIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICAgIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gICAgKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cblxuICAgIHdlYjMuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICAgIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAgICBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cblxuICAgIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICAgIGFsb25nIHdpdGggd2ViMy5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiovXG4vKiogXG4gKiBAZmlsZSBjb2Rlci5qc1xuICogQGF1dGhvciBNYXJlayBLb3Rld2ljeiA8bWFyZWtAZXRoZGV2LmNvbT5cbiAqIEBkYXRlIDIwMTVcbiAqL1xuXG52YXIgZiA9IHJlcXVpcmUoJy4vZm9ybWF0dGVycycpO1xuXG52YXIgU29saWRpdHlUeXBlQWRkcmVzcyA9IHJlcXVpcmUoJy4vYWRkcmVzcycpO1xudmFyIFNvbGlkaXR5VHlwZUJvb2wgPSByZXF1aXJlKCcuL2Jvb2wnKTtcbnZhciBTb2xpZGl0eVR5cGVJbnQgPSByZXF1aXJlKCcuL2ludCcpO1xudmFyIFNvbGlkaXR5VHlwZVVJbnQgPSByZXF1aXJlKCcuL3VpbnQnKTtcbnZhciBTb2xpZGl0eVR5cGVEeW5hbWljQnl0ZXMgPSByZXF1aXJlKCcuL2R5bmFtaWNieXRlcycpO1xudmFyIFNvbGlkaXR5VHlwZVN0cmluZyA9IHJlcXVpcmUoJy4vc3RyaW5nJyk7XG52YXIgU29saWRpdHlUeXBlUmVhbCA9IHJlcXVpcmUoJy4vcmVhbCcpO1xudmFyIFNvbGlkaXR5VHlwZVVSZWFsID0gcmVxdWlyZSgnLi91cmVhbCcpO1xudmFyIFNvbGlkaXR5VHlwZUJ5dGVzID0gcmVxdWlyZSgnLi9ieXRlcycpO1xuXG4vKipcbiAqIFNvbGlkaXR5Q29kZXIgcHJvdG90eXBlIHNob3VsZCBiZSB1c2VkIHRvIGVuY29kZS9kZWNvZGUgc29saWRpdHkgcGFyYW1zIG9mIGFueSB0eXBlXG4gKi9cbnZhciBTb2xpZGl0eUNvZGVyID0gZnVuY3Rpb24gKHR5cGVzKSB7XG4gICAgdGhpcy5fdHlwZXMgPSB0eXBlcztcbn07XG5cbi8qKlxuICogVGhpcyBtZXRob2Qgc2hvdWxkIGJlIHVzZWQgdG8gdHJhbnNmb3JtIHR5cGUgdG8gU29saWRpdHlUeXBlXG4gKlxuICogQG1ldGhvZCBfcmVxdWlyZVR5cGVcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gKiBAcmV0dXJucyB7U29saWRpdHlUeXBlfSBcbiAqIEB0aHJvd3Mge0Vycm9yfSB0aHJvd3MgaWYgbm8gbWF0Y2hpbmcgdHlwZSBpcyBmb3VuZFxuICovXG5Tb2xpZGl0eUNvZGVyLnByb3RvdHlwZS5fcmVxdWlyZVR5cGUgPSBmdW5jdGlvbiAodHlwZSkge1xuICAgIHZhciBzb2xpZGl0eVR5cGUgPSB0aGlzLl90eXBlcy5maWx0ZXIoZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgcmV0dXJuIHQuaXNUeXBlKHR5cGUpO1xuICAgIH0pWzBdO1xuXG4gICAgaWYgKCFzb2xpZGl0eVR5cGUpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoJ2ludmFsaWQgc29saWRpdHkgdHlwZSE6ICcgKyB0eXBlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc29saWRpdHlUeXBlO1xufTtcblxuLyoqXG4gKiBTaG91bGQgYmUgdXNlZCB0byBlbmNvZGUgcGxhaW4gcGFyYW1cbiAqXG4gKiBAbWV0aG9kIGVuY29kZVBhcmFtXG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICogQHBhcmFtIHtPYmplY3R9IHBsYWluIHBhcmFtXG4gKiBAcmV0dXJuIHtTdHJpbmd9IGVuY29kZWQgcGxhaW4gcGFyYW1cbiAqL1xuU29saWRpdHlDb2Rlci5wcm90b3R5cGUuZW5jb2RlUGFyYW0gPSBmdW5jdGlvbiAodHlwZSwgcGFyYW0pIHtcbiAgICByZXR1cm4gdGhpcy5lbmNvZGVQYXJhbXMoW3R5cGVdLCBbcGFyYW1dKTtcbn07XG5cbi8qKlxuICogU2hvdWxkIGJlIHVzZWQgdG8gZW5jb2RlIGxpc3Qgb2YgcGFyYW1zXG4gKlxuICogQG1ldGhvZCBlbmNvZGVQYXJhbXNcbiAqIEBwYXJhbSB7QXJyYXl9IHR5cGVzXG4gKiBAcGFyYW0ge0FycmF5fSBwYXJhbXNcbiAqIEByZXR1cm4ge1N0cmluZ30gZW5jb2RlZCBsaXN0IG9mIHBhcmFtc1xuICovXG5Tb2xpZGl0eUNvZGVyLnByb3RvdHlwZS5lbmNvZGVQYXJhbXMgPSBmdW5jdGlvbiAodHlwZXMsIHBhcmFtcykge1xuICAgIHZhciBzb2xpZGl0eVR5cGVzID0gdGhpcy5nZXRTb2xpZGl0eVR5cGVzKHR5cGVzKTtcblxuICAgIHZhciBlbmNvZGVkcyA9IHNvbGlkaXR5VHlwZXMubWFwKGZ1bmN0aW9uIChzb2xpZGl0eVR5cGUsIGluZGV4KSB7XG4gICAgICAgIHJldHVybiBzb2xpZGl0eVR5cGUuZW5jb2RlKHBhcmFtc1tpbmRleF0sIHR5cGVzW2luZGV4XSk7XG4gICAgfSk7XG5cbiAgICB2YXIgZHluYW1pY09mZnNldCA9IHNvbGlkaXR5VHlwZXMucmVkdWNlKGZ1bmN0aW9uIChhY2MsIHNvbGlkaXR5VHlwZSwgaW5kZXgpIHtcbiAgICAgICAgdmFyIHN0YXRpY1BhcnRMZW5ndGggPSBzb2xpZGl0eVR5cGUuc3RhdGljUGFydExlbmd0aCh0eXBlc1tpbmRleF0pO1xuICAgICAgICB2YXIgcm91bmRlZFN0YXRpY1BhcnRMZW5ndGggPSBNYXRoLmZsb29yKChzdGF0aWNQYXJ0TGVuZ3RoICsgMzEpIC8gMzIpICogMzI7XG4gICAgICAgIHJldHVybiBhY2MgKyByb3VuZGVkU3RhdGljUGFydExlbmd0aDtcbiAgICB9LCAwKTtcblxuICAgIHZhciByZXN1bHQgPSB0aGlzLmVuY29kZU11bHRpV2l0aE9mZnNldCh0eXBlcywgc29saWRpdHlUeXBlcywgZW5jb2RlZHMsIGR5bmFtaWNPZmZzZXQpOyBcblxuICAgIHJldHVybiByZXN1bHQ7XG59O1xuXG5Tb2xpZGl0eUNvZGVyLnByb3RvdHlwZS5lbmNvZGVNdWx0aVdpdGhPZmZzZXQgPSBmdW5jdGlvbiAodHlwZXMsIHNvbGlkaXR5VHlwZXMsIGVuY29kZWRzLCBkeW5hbWljT2Zmc2V0KSB7XG4gICAgdmFyIHJlc3VsdCA9IFwiXCI7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgdmFyIGlzRHluYW1pYyA9IGZ1bmN0aW9uIChpKSB7XG4gICAgICAgcmV0dXJuIHNvbGlkaXR5VHlwZXNbaV0uaXNEeW5hbWljQXJyYXkodHlwZXNbaV0pIHx8IHNvbGlkaXR5VHlwZXNbaV0uaXNEeW5hbWljVHlwZSh0eXBlc1tpXSk7XG4gICAgfTtcblxuICAgIHR5cGVzLmZvckVhY2goZnVuY3Rpb24gKHR5cGUsIGkpIHtcbiAgICAgICAgaWYgKGlzRHluYW1pYyhpKSkge1xuICAgICAgICAgICAgcmVzdWx0ICs9IGYuZm9ybWF0SW5wdXRJbnQoZHluYW1pY09mZnNldCkuZW5jb2RlKCk7XG4gICAgICAgICAgICB2YXIgZSA9IHNlbGYuZW5jb2RlV2l0aE9mZnNldCh0eXBlc1tpXSwgc29saWRpdHlUeXBlc1tpXSwgZW5jb2RlZHNbaV0sIGR5bmFtaWNPZmZzZXQpO1xuICAgICAgICAgICAgZHluYW1pY09mZnNldCArPSBlLmxlbmd0aCAvIDI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBkb24ndCBhZGQgbGVuZ3RoIHRvIGR5bmFtaWNPZmZzZXQuIGl0J3MgYWxyZWFkeSBjb3VudGVkXG4gICAgICAgICAgICByZXN1bHQgKz0gc2VsZi5lbmNvZGVXaXRoT2Zmc2V0KHR5cGVzW2ldLCBzb2xpZGl0eVR5cGVzW2ldLCBlbmNvZGVkc1tpXSwgZHluYW1pY09mZnNldCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUT0RPOiBmaWd1cmUgb3V0IG5lc3RlZCBhcnJheXNcbiAgICB9KTtcbiAgICBcbiAgICB0eXBlcy5mb3JFYWNoKGZ1bmN0aW9uICh0eXBlLCBpKSB7XG4gICAgICAgIGlmIChpc0R5bmFtaWMoaSkpIHtcbiAgICAgICAgICAgIHZhciBlID0gc2VsZi5lbmNvZGVXaXRoT2Zmc2V0KHR5cGVzW2ldLCBzb2xpZGl0eVR5cGVzW2ldLCBlbmNvZGVkc1tpXSwgZHluYW1pY09mZnNldCk7XG4gICAgICAgICAgICBkeW5hbWljT2Zmc2V0ICs9IGUubGVuZ3RoIC8gMjtcbiAgICAgICAgICAgIHJlc3VsdCArPSBlO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8vIFRPRE86IHJlZmFjdG9yIHdob2xlIGVuY29kaW5nIVxuU29saWRpdHlDb2Rlci5wcm90b3R5cGUuZW5jb2RlV2l0aE9mZnNldCA9IGZ1bmN0aW9uICh0eXBlLCBzb2xpZGl0eVR5cGUsIGVuY29kZWQsIG9mZnNldCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBpZiAoc29saWRpdHlUeXBlLmlzRHluYW1pY0FycmF5KHR5cGUpKSB7XG4gICAgICAgIHJldHVybiAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gb2Zmc2V0IHdhcyBhbHJlYWR5IHNldFxuICAgICAgICAgICAgdmFyIG5lc3RlZE5hbWUgPSBzb2xpZGl0eVR5cGUubmVzdGVkTmFtZSh0eXBlKTtcbiAgICAgICAgICAgIHZhciBuZXN0ZWRTdGF0aWNQYXJ0TGVuZ3RoID0gc29saWRpdHlUeXBlLnN0YXRpY1BhcnRMZW5ndGgobmVzdGVkTmFtZSk7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gZW5jb2RlZFswXTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgcHJldmlvdXNMZW5ndGggPSAyOyAvLyBpbiBpbnRcbiAgICAgICAgICAgICAgICBpZiAoc29saWRpdHlUeXBlLmlzRHluYW1pY0FycmF5KG5lc3RlZE5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgZW5jb2RlZC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNMZW5ndGggKz0gKyhlbmNvZGVkW2kgLSAxXSlbMF0gfHwgMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSBmLmZvcm1hdElucHV0SW50KG9mZnNldCArIGkgKiBuZXN0ZWRTdGF0aWNQYXJ0TGVuZ3RoICsgcHJldmlvdXNMZW5ndGggKiAzMikuZW5jb2RlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSgpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBmaXJzdCBlbGVtZW50IGlzIGxlbmd0aCwgc2tpcCBpdFxuICAgICAgICAgICAgKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVuY29kZWQubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhZGRpdGlvbmFsT2Zmc2V0ID0gcmVzdWx0IC8gMjtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IHNlbGYuZW5jb2RlV2l0aE9mZnNldChuZXN0ZWROYW1lLCBzb2xpZGl0eVR5cGUsIGVuY29kZWRbaSArIDFdLCBvZmZzZXQgKyAgYWRkaXRpb25hbE9mZnNldCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkoKTtcblxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfSkoKTtcbiAgICAgICBcbiAgICB9IGVsc2UgaWYgKHNvbGlkaXR5VHlwZS5pc1N0YXRpY0FycmF5KHR5cGUpKSB7XG4gICAgICAgIHJldHVybiAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIG5lc3RlZE5hbWUgPSBzb2xpZGl0eVR5cGUubmVzdGVkTmFtZSh0eXBlKTtcbiAgICAgICAgICAgIHZhciBuZXN0ZWRTdGF0aWNQYXJ0TGVuZ3RoID0gc29saWRpdHlUeXBlLnN0YXRpY1BhcnRMZW5ndGgobmVzdGVkTmFtZSk7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gXCJcIjtcblxuXG4gICAgICAgICAgICBpZiAoc29saWRpdHlUeXBlLmlzRHluYW1pY0FycmF5KG5lc3RlZE5hbWUpKSB7XG4gICAgICAgICAgICAgICAgKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByZXZpb3VzTGVuZ3RoID0gMDsgLy8gaW4gaW50XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZW5jb2RlZC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2FsY3VsYXRlIGxlbmd0aCBvZiBwcmV2aW91cyBpdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2aW91c0xlbmd0aCArPSArKGVuY29kZWRbaSAtIDFdIHx8IFtdKVswXSB8fCAwOyBcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSBmLmZvcm1hdElucHV0SW50KG9mZnNldCArIGkgKiBuZXN0ZWRTdGF0aWNQYXJ0TGVuZ3RoICsgcHJldmlvdXNMZW5ndGggKiAzMikuZW5jb2RlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZW5jb2RlZC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYWRkaXRpb25hbE9mZnNldCA9IHJlc3VsdCAvIDI7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSBzZWxmLmVuY29kZVdpdGhPZmZzZXQobmVzdGVkTmFtZSwgc29saWRpdHlUeXBlLCBlbmNvZGVkW2ldLCBvZmZzZXQgKyBhZGRpdGlvbmFsT2Zmc2V0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSgpO1xuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9KSgpO1xuICAgIH1cblxuICAgIHJldHVybiBlbmNvZGVkO1xufTtcblxuLyoqXG4gKiBTaG91bGQgYmUgdXNlZCB0byBkZWNvZGUgYnl0ZXMgdG8gcGxhaW4gcGFyYW1cbiAqXG4gKiBAbWV0aG9kIGRlY29kZVBhcmFtXG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICogQHBhcmFtIHtTdHJpbmd9IGJ5dGVzXG4gKiBAcmV0dXJuIHtPYmplY3R9IHBsYWluIHBhcmFtXG4gKi9cblNvbGlkaXR5Q29kZXIucHJvdG90eXBlLmRlY29kZVBhcmFtID0gZnVuY3Rpb24gKHR5cGUsIGJ5dGVzKSB7XG4gICAgcmV0dXJuIHRoaXMuZGVjb2RlUGFyYW1zKFt0eXBlXSwgYnl0ZXMpWzBdO1xufTtcblxuLyoqXG4gKiBTaG91bGQgYmUgdXNlZCB0byBkZWNvZGUgbGlzdCBvZiBwYXJhbXNcbiAqXG4gKiBAbWV0aG9kIGRlY29kZVBhcmFtXG4gKiBAcGFyYW0ge0FycmF5fSB0eXBlc1xuICogQHBhcmFtIHtTdHJpbmd9IGJ5dGVzXG4gKiBAcmV0dXJuIHtBcnJheX0gYXJyYXkgb2YgcGxhaW4gcGFyYW1zXG4gKi9cblNvbGlkaXR5Q29kZXIucHJvdG90eXBlLmRlY29kZVBhcmFtcyA9IGZ1bmN0aW9uICh0eXBlcywgYnl0ZXMpIHtcbiAgICB2YXIgc29saWRpdHlUeXBlcyA9IHRoaXMuZ2V0U29saWRpdHlUeXBlcyh0eXBlcyk7XG4gICAgdmFyIG9mZnNldHMgPSB0aGlzLmdldE9mZnNldHModHlwZXMsIHNvbGlkaXR5VHlwZXMpO1xuICAgICAgICBcbiAgICByZXR1cm4gc29saWRpdHlUeXBlcy5tYXAoZnVuY3Rpb24gKHNvbGlkaXR5VHlwZSwgaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIHNvbGlkaXR5VHlwZS5kZWNvZGUoYnl0ZXMsIG9mZnNldHNbaW5kZXhdLCAgdHlwZXNbaW5kZXhdLCBpbmRleCk7XG4gICAgfSk7XG59O1xuXG5Tb2xpZGl0eUNvZGVyLnByb3RvdHlwZS5nZXRPZmZzZXRzID0gZnVuY3Rpb24gKHR5cGVzLCBzb2xpZGl0eVR5cGVzKSB7XG4gICAgdmFyIGxlbmd0aHMgPSAgc29saWRpdHlUeXBlcy5tYXAoZnVuY3Rpb24gKHNvbGlkaXR5VHlwZSwgaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIHNvbGlkaXR5VHlwZS5zdGF0aWNQYXJ0TGVuZ3RoKHR5cGVzW2luZGV4XSk7XG4gICAgfSk7XG4gICAgXG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBsZW5ndGhzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAvLyBzdW0gd2l0aCBsZW5ndGggb2YgcHJldmlvdXMgZWxlbWVudFxuICAgICAgICBsZW5ndGhzW2ldICs9IGxlbmd0aHNbaSAtIDFdOyBcbiAgICB9XG5cbiAgICByZXR1cm4gbGVuZ3Rocy5tYXAoZnVuY3Rpb24gKGxlbmd0aCwgaW5kZXgpIHtcbiAgICAgICAgLy8gcmVtb3ZlIHRoZSBjdXJyZW50IGxlbmd0aCwgc28gdGhlIGxlbmd0aCBpcyBzdW0gb2YgcHJldmlvdXMgZWxlbWVudHNcbiAgICAgICAgdmFyIHN0YXRpY1BhcnRMZW5ndGggPSBzb2xpZGl0eVR5cGVzW2luZGV4XS5zdGF0aWNQYXJ0TGVuZ3RoKHR5cGVzW2luZGV4XSk7XG4gICAgICAgIHJldHVybiBsZW5ndGggLSBzdGF0aWNQYXJ0TGVuZ3RoOyBcbiAgICB9KTtcbn07XG5cblNvbGlkaXR5Q29kZXIucHJvdG90eXBlLmdldFNvbGlkaXR5VHlwZXMgPSBmdW5jdGlvbiAodHlwZXMpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgcmV0dXJuIHR5cGVzLm1hcChmdW5jdGlvbiAodHlwZSkge1xuICAgICAgICByZXR1cm4gc2VsZi5fcmVxdWlyZVR5cGUodHlwZSk7XG4gICAgfSk7XG59O1xuXG52YXIgY29kZXIgPSBuZXcgU29saWRpdHlDb2RlcihbXG4gICAgbmV3IFNvbGlkaXR5VHlwZUFkZHJlc3MoKSxcbiAgICBuZXcgU29saWRpdHlUeXBlQm9vbCgpLFxuICAgIG5ldyBTb2xpZGl0eVR5cGVJbnQoKSxcbiAgICBuZXcgU29saWRpdHlUeXBlVUludCgpLFxuICAgIG5ldyBTb2xpZGl0eVR5cGVEeW5hbWljQnl0ZXMoKSxcbiAgICBuZXcgU29saWRpdHlUeXBlQnl0ZXMoKSxcbiAgICBuZXcgU29saWRpdHlUeXBlU3RyaW5nKCksXG4gICAgbmV3IFNvbGlkaXR5VHlwZVJlYWwoKSxcbiAgICBuZXcgU29saWRpdHlUeXBlVVJlYWwoKVxuXSk7XG5cbm1vZHVsZS5leHBvcnRzID0gY29kZXI7XG5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vd2ViMy9saWIvc29saWRpdHkvY29kZXIuanMiLCI7KGZ1bmN0aW9uIChyb290LCBmYWN0b3J5LCB1bmRlZikge1xuXHRpZiAodHlwZW9mIGV4cG9ydHMgPT09IFwib2JqZWN0XCIpIHtcblx0XHQvLyBDb21tb25KU1xuXHRcdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZShcIi4vY29yZVwiKSwgcmVxdWlyZShcIi4vZW5jLWJhc2U2NFwiKSwgcmVxdWlyZShcIi4vbWQ1XCIpLCByZXF1aXJlKFwiLi9ldnBrZGZcIiksIHJlcXVpcmUoXCIuL2NpcGhlci1jb3JlXCIpKTtcblx0fVxuXHRlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCkge1xuXHRcdC8vIEFNRFxuXHRcdGRlZmluZShbXCIuL2NvcmVcIiwgXCIuL2VuYy1iYXNlNjRcIiwgXCIuL21kNVwiLCBcIi4vZXZwa2RmXCIsIFwiLi9jaXBoZXItY29yZVwiXSwgZmFjdG9yeSk7XG5cdH1cblx0ZWxzZSB7XG5cdFx0Ly8gR2xvYmFsIChicm93c2VyKVxuXHRcdGZhY3Rvcnkocm9vdC5DcnlwdG9KUyk7XG5cdH1cbn0odGhpcywgZnVuY3Rpb24gKENyeXB0b0pTKSB7XG5cblx0KGZ1bmN0aW9uICgpIHtcblx0ICAgIC8vIFNob3J0Y3V0c1xuXHQgICAgdmFyIEMgPSBDcnlwdG9KUztcblx0ICAgIHZhciBDX2xpYiA9IEMubGliO1xuXHQgICAgdmFyIEJsb2NrQ2lwaGVyID0gQ19saWIuQmxvY2tDaXBoZXI7XG5cdCAgICB2YXIgQ19hbGdvID0gQy5hbGdvO1xuXG5cdCAgICAvLyBMb29rdXAgdGFibGVzXG5cdCAgICB2YXIgU0JPWCA9IFtdO1xuXHQgICAgdmFyIElOVl9TQk9YID0gW107XG5cdCAgICB2YXIgU1VCX01JWF8wID0gW107XG5cdCAgICB2YXIgU1VCX01JWF8xID0gW107XG5cdCAgICB2YXIgU1VCX01JWF8yID0gW107XG5cdCAgICB2YXIgU1VCX01JWF8zID0gW107XG5cdCAgICB2YXIgSU5WX1NVQl9NSVhfMCA9IFtdO1xuXHQgICAgdmFyIElOVl9TVUJfTUlYXzEgPSBbXTtcblx0ICAgIHZhciBJTlZfU1VCX01JWF8yID0gW107XG5cdCAgICB2YXIgSU5WX1NVQl9NSVhfMyA9IFtdO1xuXG5cdCAgICAvLyBDb21wdXRlIGxvb2t1cCB0YWJsZXNcblx0ICAgIChmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgLy8gQ29tcHV0ZSBkb3VibGUgdGFibGVcblx0ICAgICAgICB2YXIgZCA9IFtdO1xuXHQgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMjU2OyBpKyspIHtcblx0ICAgICAgICAgICAgaWYgKGkgPCAxMjgpIHtcblx0ICAgICAgICAgICAgICAgIGRbaV0gPSBpIDw8IDE7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICBkW2ldID0gKGkgPDwgMSkgXiAweDExYjtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblxuXHQgICAgICAgIC8vIFdhbGsgR0YoMl44KVxuXHQgICAgICAgIHZhciB4ID0gMDtcblx0ICAgICAgICB2YXIgeGkgPSAwO1xuXHQgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMjU2OyBpKyspIHtcblx0ICAgICAgICAgICAgLy8gQ29tcHV0ZSBzYm94XG5cdCAgICAgICAgICAgIHZhciBzeCA9IHhpIF4gKHhpIDw8IDEpIF4gKHhpIDw8IDIpIF4gKHhpIDw8IDMpIF4gKHhpIDw8IDQpO1xuXHQgICAgICAgICAgICBzeCA9IChzeCA+Pj4gOCkgXiAoc3ggJiAweGZmKSBeIDB4NjM7XG5cdCAgICAgICAgICAgIFNCT1hbeF0gPSBzeDtcblx0ICAgICAgICAgICAgSU5WX1NCT1hbc3hdID0geDtcblxuXHQgICAgICAgICAgICAvLyBDb21wdXRlIG11bHRpcGxpY2F0aW9uXG5cdCAgICAgICAgICAgIHZhciB4MiA9IGRbeF07XG5cdCAgICAgICAgICAgIHZhciB4NCA9IGRbeDJdO1xuXHQgICAgICAgICAgICB2YXIgeDggPSBkW3g0XTtcblxuXHQgICAgICAgICAgICAvLyBDb21wdXRlIHN1YiBieXRlcywgbWl4IGNvbHVtbnMgdGFibGVzXG5cdCAgICAgICAgICAgIHZhciB0ID0gKGRbc3hdICogMHgxMDEpIF4gKHN4ICogMHgxMDEwMTAwKTtcblx0ICAgICAgICAgICAgU1VCX01JWF8wW3hdID0gKHQgPDwgMjQpIHwgKHQgPj4+IDgpO1xuXHQgICAgICAgICAgICBTVUJfTUlYXzFbeF0gPSAodCA8PCAxNikgfCAodCA+Pj4gMTYpO1xuXHQgICAgICAgICAgICBTVUJfTUlYXzJbeF0gPSAodCA8PCA4KSAgfCAodCA+Pj4gMjQpO1xuXHQgICAgICAgICAgICBTVUJfTUlYXzNbeF0gPSB0O1xuXG5cdCAgICAgICAgICAgIC8vIENvbXB1dGUgaW52IHN1YiBieXRlcywgaW52IG1peCBjb2x1bW5zIHRhYmxlc1xuXHQgICAgICAgICAgICB2YXIgdCA9ICh4OCAqIDB4MTAxMDEwMSkgXiAoeDQgKiAweDEwMDAxKSBeICh4MiAqIDB4MTAxKSBeICh4ICogMHgxMDEwMTAwKTtcblx0ICAgICAgICAgICAgSU5WX1NVQl9NSVhfMFtzeF0gPSAodCA8PCAyNCkgfCAodCA+Pj4gOCk7XG5cdCAgICAgICAgICAgIElOVl9TVUJfTUlYXzFbc3hdID0gKHQgPDwgMTYpIHwgKHQgPj4+IDE2KTtcblx0ICAgICAgICAgICAgSU5WX1NVQl9NSVhfMltzeF0gPSAodCA8PCA4KSAgfCAodCA+Pj4gMjQpO1xuXHQgICAgICAgICAgICBJTlZfU1VCX01JWF8zW3N4XSA9IHQ7XG5cblx0ICAgICAgICAgICAgLy8gQ29tcHV0ZSBuZXh0IGNvdW50ZXJcblx0ICAgICAgICAgICAgaWYgKCF4KSB7XG5cdCAgICAgICAgICAgICAgICB4ID0geGkgPSAxO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgeCA9IHgyIF4gZFtkW2RbeDggXiB4Ml1dXTtcblx0ICAgICAgICAgICAgICAgIHhpIF49IGRbZFt4aV1dO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfSgpKTtcblxuXHQgICAgLy8gUHJlY29tcHV0ZWQgUmNvbiBsb29rdXBcblx0ICAgIHZhciBSQ09OID0gWzB4MDAsIDB4MDEsIDB4MDIsIDB4MDQsIDB4MDgsIDB4MTAsIDB4MjAsIDB4NDAsIDB4ODAsIDB4MWIsIDB4MzZdO1xuXG5cdCAgICAvKipcblx0ICAgICAqIEFFUyBibG9jayBjaXBoZXIgYWxnb3JpdGhtLlxuXHQgICAgICovXG5cdCAgICB2YXIgQUVTID0gQ19hbGdvLkFFUyA9IEJsb2NrQ2lwaGVyLmV4dGVuZCh7XG5cdCAgICAgICAgX2RvUmVzZXQ6IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgLy8gU2tpcCByZXNldCBvZiBuUm91bmRzIGhhcyBiZWVuIHNldCBiZWZvcmUgYW5kIGtleSBkaWQgbm90IGNoYW5nZVxuXHQgICAgICAgICAgICBpZiAodGhpcy5fblJvdW5kcyAmJiB0aGlzLl9rZXlQcmlvclJlc2V0ID09PSB0aGlzLl9rZXkpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIC8vIFNob3J0Y3V0c1xuXHQgICAgICAgICAgICB2YXIga2V5ID0gdGhpcy5fa2V5UHJpb3JSZXNldCA9IHRoaXMuX2tleTtcblx0ICAgICAgICAgICAgdmFyIGtleVdvcmRzID0ga2V5LndvcmRzO1xuXHQgICAgICAgICAgICB2YXIga2V5U2l6ZSA9IGtleS5zaWdCeXRlcyAvIDQ7XG5cblx0ICAgICAgICAgICAgLy8gQ29tcHV0ZSBudW1iZXIgb2Ygcm91bmRzXG5cdCAgICAgICAgICAgIHZhciBuUm91bmRzID0gdGhpcy5fblJvdW5kcyA9IGtleVNpemUgKyA2O1xuXG5cdCAgICAgICAgICAgIC8vIENvbXB1dGUgbnVtYmVyIG9mIGtleSBzY2hlZHVsZSByb3dzXG5cdCAgICAgICAgICAgIHZhciBrc1Jvd3MgPSAoblJvdW5kcyArIDEpICogNDtcblxuXHQgICAgICAgICAgICAvLyBDb21wdXRlIGtleSBzY2hlZHVsZVxuXHQgICAgICAgICAgICB2YXIga2V5U2NoZWR1bGUgPSB0aGlzLl9rZXlTY2hlZHVsZSA9IFtdO1xuXHQgICAgICAgICAgICBmb3IgKHZhciBrc1JvdyA9IDA7IGtzUm93IDwga3NSb3dzOyBrc1JvdysrKSB7XG5cdCAgICAgICAgICAgICAgICBpZiAoa3NSb3cgPCBrZXlTaXplKSB7XG5cdCAgICAgICAgICAgICAgICAgICAga2V5U2NoZWR1bGVba3NSb3ddID0ga2V5V29yZHNba3NSb3ddO1xuXHQgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgdCA9IGtleVNjaGVkdWxlW2tzUm93IC0gMV07XG5cblx0ICAgICAgICAgICAgICAgICAgICBpZiAoIShrc1JvdyAlIGtleVNpemUpKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJvdCB3b3JkXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHQgPSAodCA8PCA4KSB8ICh0ID4+PiAyNCk7XG5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3ViIHdvcmRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdCA9IChTQk9YW3QgPj4+IDI0XSA8PCAyNCkgfCAoU0JPWFsodCA+Pj4gMTYpICYgMHhmZl0gPDwgMTYpIHwgKFNCT1hbKHQgPj4+IDgpICYgMHhmZl0gPDwgOCkgfCBTQk9YW3QgJiAweGZmXTtcblxuXHQgICAgICAgICAgICAgICAgICAgICAgICAvLyBNaXggUmNvblxuXHQgICAgICAgICAgICAgICAgICAgICAgICB0IF49IFJDT05bKGtzUm93IC8ga2V5U2l6ZSkgfCAwXSA8PCAyNDtcblx0ICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGtleVNpemUgPiA2ICYmIGtzUm93ICUga2V5U2l6ZSA9PSA0KSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN1YiB3b3JkXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHQgPSAoU0JPWFt0ID4+PiAyNF0gPDwgMjQpIHwgKFNCT1hbKHQgPj4+IDE2KSAmIDB4ZmZdIDw8IDE2KSB8IChTQk9YWyh0ID4+PiA4KSAmIDB4ZmZdIDw8IDgpIHwgU0JPWFt0ICYgMHhmZl07XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgICAgICAgICAga2V5U2NoZWR1bGVba3NSb3ddID0ga2V5U2NoZWR1bGVba3NSb3cgLSBrZXlTaXplXSBeIHQ7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAvLyBDb21wdXRlIGludiBrZXkgc2NoZWR1bGVcblx0ICAgICAgICAgICAgdmFyIGludktleVNjaGVkdWxlID0gdGhpcy5faW52S2V5U2NoZWR1bGUgPSBbXTtcblx0ICAgICAgICAgICAgZm9yICh2YXIgaW52S3NSb3cgPSAwOyBpbnZLc1JvdyA8IGtzUm93czsgaW52S3NSb3crKykge1xuXHQgICAgICAgICAgICAgICAgdmFyIGtzUm93ID0ga3NSb3dzIC0gaW52S3NSb3c7XG5cblx0ICAgICAgICAgICAgICAgIGlmIChpbnZLc1JvdyAlIDQpIHtcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgdCA9IGtleVNjaGVkdWxlW2tzUm93XTtcblx0ICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgdmFyIHQgPSBrZXlTY2hlZHVsZVtrc1JvdyAtIDRdO1xuXHQgICAgICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgICAgICBpZiAoaW52S3NSb3cgPCA0IHx8IGtzUm93IDw9IDQpIHtcblx0ICAgICAgICAgICAgICAgICAgICBpbnZLZXlTY2hlZHVsZVtpbnZLc1Jvd10gPSB0O1xuXHQgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICBpbnZLZXlTY2hlZHVsZVtpbnZLc1Jvd10gPSBJTlZfU1VCX01JWF8wW1NCT1hbdCA+Pj4gMjRdXSBeIElOVl9TVUJfTUlYXzFbU0JPWFsodCA+Pj4gMTYpICYgMHhmZl1dIF5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJTlZfU1VCX01JWF8yW1NCT1hbKHQgPj4+IDgpICYgMHhmZl1dIF4gSU5WX1NVQl9NSVhfM1tTQk9YW3QgJiAweGZmXV07XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9LFxuXG5cdCAgICAgICAgZW5jcnlwdEJsb2NrOiBmdW5jdGlvbiAoTSwgb2Zmc2V0KSB7XG5cdCAgICAgICAgICAgIHRoaXMuX2RvQ3J5cHRCbG9jayhNLCBvZmZzZXQsIHRoaXMuX2tleVNjaGVkdWxlLCBTVUJfTUlYXzAsIFNVQl9NSVhfMSwgU1VCX01JWF8yLCBTVUJfTUlYXzMsIFNCT1gpO1xuXHQgICAgICAgIH0sXG5cblx0ICAgICAgICBkZWNyeXB0QmxvY2s6IGZ1bmN0aW9uIChNLCBvZmZzZXQpIHtcblx0ICAgICAgICAgICAgLy8gU3dhcCAybmQgYW5kIDR0aCByb3dzXG5cdCAgICAgICAgICAgIHZhciB0ID0gTVtvZmZzZXQgKyAxXTtcblx0ICAgICAgICAgICAgTVtvZmZzZXQgKyAxXSA9IE1bb2Zmc2V0ICsgM107XG5cdCAgICAgICAgICAgIE1bb2Zmc2V0ICsgM10gPSB0O1xuXG5cdCAgICAgICAgICAgIHRoaXMuX2RvQ3J5cHRCbG9jayhNLCBvZmZzZXQsIHRoaXMuX2ludktleVNjaGVkdWxlLCBJTlZfU1VCX01JWF8wLCBJTlZfU1VCX01JWF8xLCBJTlZfU1VCX01JWF8yLCBJTlZfU1VCX01JWF8zLCBJTlZfU0JPWCk7XG5cblx0ICAgICAgICAgICAgLy8gSW52IHN3YXAgMm5kIGFuZCA0dGggcm93c1xuXHQgICAgICAgICAgICB2YXIgdCA9IE1bb2Zmc2V0ICsgMV07XG5cdCAgICAgICAgICAgIE1bb2Zmc2V0ICsgMV0gPSBNW29mZnNldCArIDNdO1xuXHQgICAgICAgICAgICBNW29mZnNldCArIDNdID0gdDtcblx0ICAgICAgICB9LFxuXG5cdCAgICAgICAgX2RvQ3J5cHRCbG9jazogZnVuY3Rpb24gKE0sIG9mZnNldCwga2V5U2NoZWR1bGUsIFNVQl9NSVhfMCwgU1VCX01JWF8xLCBTVUJfTUlYXzIsIFNVQl9NSVhfMywgU0JPWCkge1xuXHQgICAgICAgICAgICAvLyBTaG9ydGN1dFxuXHQgICAgICAgICAgICB2YXIgblJvdW5kcyA9IHRoaXMuX25Sb3VuZHM7XG5cblx0ICAgICAgICAgICAgLy8gR2V0IGlucHV0LCBhZGQgcm91bmQga2V5XG5cdCAgICAgICAgICAgIHZhciBzMCA9IE1bb2Zmc2V0XSAgICAgXiBrZXlTY2hlZHVsZVswXTtcblx0ICAgICAgICAgICAgdmFyIHMxID0gTVtvZmZzZXQgKyAxXSBeIGtleVNjaGVkdWxlWzFdO1xuXHQgICAgICAgICAgICB2YXIgczIgPSBNW29mZnNldCArIDJdIF4ga2V5U2NoZWR1bGVbMl07XG5cdCAgICAgICAgICAgIHZhciBzMyA9IE1bb2Zmc2V0ICsgM10gXiBrZXlTY2hlZHVsZVszXTtcblxuXHQgICAgICAgICAgICAvLyBLZXkgc2NoZWR1bGUgcm93IGNvdW50ZXJcblx0ICAgICAgICAgICAgdmFyIGtzUm93ID0gNDtcblxuXHQgICAgICAgICAgICAvLyBSb3VuZHNcblx0ICAgICAgICAgICAgZm9yICh2YXIgcm91bmQgPSAxOyByb3VuZCA8IG5Sb3VuZHM7IHJvdW5kKyspIHtcblx0ICAgICAgICAgICAgICAgIC8vIFNoaWZ0IHJvd3MsIHN1YiBieXRlcywgbWl4IGNvbHVtbnMsIGFkZCByb3VuZCBrZXlcblx0ICAgICAgICAgICAgICAgIHZhciB0MCA9IFNVQl9NSVhfMFtzMCA+Pj4gMjRdIF4gU1VCX01JWF8xWyhzMSA+Pj4gMTYpICYgMHhmZl0gXiBTVUJfTUlYXzJbKHMyID4+PiA4KSAmIDB4ZmZdIF4gU1VCX01JWF8zW3MzICYgMHhmZl0gXiBrZXlTY2hlZHVsZVtrc1JvdysrXTtcblx0ICAgICAgICAgICAgICAgIHZhciB0MSA9IFNVQl9NSVhfMFtzMSA+Pj4gMjRdIF4gU1VCX01JWF8xWyhzMiA+Pj4gMTYpICYgMHhmZl0gXiBTVUJfTUlYXzJbKHMzID4+PiA4KSAmIDB4ZmZdIF4gU1VCX01JWF8zW3MwICYgMHhmZl0gXiBrZXlTY2hlZHVsZVtrc1JvdysrXTtcblx0ICAgICAgICAgICAgICAgIHZhciB0MiA9IFNVQl9NSVhfMFtzMiA+Pj4gMjRdIF4gU1VCX01JWF8xWyhzMyA+Pj4gMTYpICYgMHhmZl0gXiBTVUJfTUlYXzJbKHMwID4+PiA4KSAmIDB4ZmZdIF4gU1VCX01JWF8zW3MxICYgMHhmZl0gXiBrZXlTY2hlZHVsZVtrc1JvdysrXTtcblx0ICAgICAgICAgICAgICAgIHZhciB0MyA9IFNVQl9NSVhfMFtzMyA+Pj4gMjRdIF4gU1VCX01JWF8xWyhzMCA+Pj4gMTYpICYgMHhmZl0gXiBTVUJfTUlYXzJbKHMxID4+PiA4KSAmIDB4ZmZdIF4gU1VCX01JWF8zW3MyICYgMHhmZl0gXiBrZXlTY2hlZHVsZVtrc1JvdysrXTtcblxuXHQgICAgICAgICAgICAgICAgLy8gVXBkYXRlIHN0YXRlXG5cdCAgICAgICAgICAgICAgICBzMCA9IHQwO1xuXHQgICAgICAgICAgICAgICAgczEgPSB0MTtcblx0ICAgICAgICAgICAgICAgIHMyID0gdDI7XG5cdCAgICAgICAgICAgICAgICBzMyA9IHQzO1xuXHQgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgLy8gU2hpZnQgcm93cywgc3ViIGJ5dGVzLCBhZGQgcm91bmQga2V5XG5cdCAgICAgICAgICAgIHZhciB0MCA9ICgoU0JPWFtzMCA+Pj4gMjRdIDw8IDI0KSB8IChTQk9YWyhzMSA+Pj4gMTYpICYgMHhmZl0gPDwgMTYpIHwgKFNCT1hbKHMyID4+PiA4KSAmIDB4ZmZdIDw8IDgpIHwgU0JPWFtzMyAmIDB4ZmZdKSBeIGtleVNjaGVkdWxlW2tzUm93KytdO1xuXHQgICAgICAgICAgICB2YXIgdDEgPSAoKFNCT1hbczEgPj4+IDI0XSA8PCAyNCkgfCAoU0JPWFsoczIgPj4+IDE2KSAmIDB4ZmZdIDw8IDE2KSB8IChTQk9YWyhzMyA+Pj4gOCkgJiAweGZmXSA8PCA4KSB8IFNCT1hbczAgJiAweGZmXSkgXiBrZXlTY2hlZHVsZVtrc1JvdysrXTtcblx0ICAgICAgICAgICAgdmFyIHQyID0gKChTQk9YW3MyID4+PiAyNF0gPDwgMjQpIHwgKFNCT1hbKHMzID4+PiAxNikgJiAweGZmXSA8PCAxNikgfCAoU0JPWFsoczAgPj4+IDgpICYgMHhmZl0gPDwgOCkgfCBTQk9YW3MxICYgMHhmZl0pIF4ga2V5U2NoZWR1bGVba3NSb3crK107XG5cdCAgICAgICAgICAgIHZhciB0MyA9ICgoU0JPWFtzMyA+Pj4gMjRdIDw8IDI0KSB8IChTQk9YWyhzMCA+Pj4gMTYpICYgMHhmZl0gPDwgMTYpIHwgKFNCT1hbKHMxID4+PiA4KSAmIDB4ZmZdIDw8IDgpIHwgU0JPWFtzMiAmIDB4ZmZdKSBeIGtleVNjaGVkdWxlW2tzUm93KytdO1xuXG5cdCAgICAgICAgICAgIC8vIFNldCBvdXRwdXRcblx0ICAgICAgICAgICAgTVtvZmZzZXRdICAgICA9IHQwO1xuXHQgICAgICAgICAgICBNW29mZnNldCArIDFdID0gdDE7XG5cdCAgICAgICAgICAgIE1bb2Zmc2V0ICsgMl0gPSB0Mjtcblx0ICAgICAgICAgICAgTVtvZmZzZXQgKyAzXSA9IHQzO1xuXHQgICAgICAgIH0sXG5cblx0ICAgICAgICBrZXlTaXplOiAyNTYvMzJcblx0ICAgIH0pO1xuXG5cdCAgICAvKipcblx0ICAgICAqIFNob3J0Y3V0IGZ1bmN0aW9ucyB0byB0aGUgY2lwaGVyJ3Mgb2JqZWN0IGludGVyZmFjZS5cblx0ICAgICAqXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqICAgICB2YXIgY2lwaGVydGV4dCA9IENyeXB0b0pTLkFFUy5lbmNyeXB0KG1lc3NhZ2UsIGtleSwgY2ZnKTtcblx0ICAgICAqICAgICB2YXIgcGxhaW50ZXh0ICA9IENyeXB0b0pTLkFFUy5kZWNyeXB0KGNpcGhlcnRleHQsIGtleSwgY2ZnKTtcblx0ICAgICAqL1xuXHQgICAgQy5BRVMgPSBCbG9ja0NpcGhlci5fY3JlYXRlSGVscGVyKEFFUyk7XG5cdH0oKSk7XG5cblxuXHRyZXR1cm4gQ3J5cHRvSlMuQUVTO1xuXG59KSk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9jcnlwdG8tanMvYWVzLmpzIiwiOyhmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSkge1xuXHRpZiAodHlwZW9mIGV4cG9ydHMgPT09IFwib2JqZWN0XCIpIHtcblx0XHQvLyBDb21tb25KU1xuXHRcdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZShcIi4vY29yZVwiKSk7XG5cdH1cblx0ZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIHtcblx0XHQvLyBBTURcblx0XHRkZWZpbmUoW1wiLi9jb3JlXCJdLCBmYWN0b3J5KTtcblx0fVxuXHRlbHNlIHtcblx0XHQvLyBHbG9iYWwgKGJyb3dzZXIpXG5cdFx0ZmFjdG9yeShyb290LkNyeXB0b0pTKTtcblx0fVxufSh0aGlzLCBmdW5jdGlvbiAoQ3J5cHRvSlMpIHtcblxuXHQoZnVuY3Rpb24gKCkge1xuXHQgICAgLy8gU2hvcnRjdXRzXG5cdCAgICB2YXIgQyA9IENyeXB0b0pTO1xuXHQgICAgdmFyIENfbGliID0gQy5saWI7XG5cdCAgICB2YXIgV29yZEFycmF5ID0gQ19saWIuV29yZEFycmF5O1xuXHQgICAgdmFyIENfZW5jID0gQy5lbmM7XG5cblx0ICAgIC8qKlxuXHQgICAgICogVVRGLTE2IEJFIGVuY29kaW5nIHN0cmF0ZWd5LlxuXHQgICAgICovXG5cdCAgICB2YXIgVXRmMTZCRSA9IENfZW5jLlV0ZjE2ID0gQ19lbmMuVXRmMTZCRSA9IHtcblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBDb252ZXJ0cyBhIHdvcmQgYXJyYXkgdG8gYSBVVEYtMTYgQkUgc3RyaW5nLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHBhcmFtIHtXb3JkQXJyYXl9IHdvcmRBcnJheSBUaGUgd29yZCBhcnJheS5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIFVURi0xNiBCRSBzdHJpbmcuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAc3RhdGljXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAZXhhbXBsZVxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogICAgIHZhciB1dGYxNlN0cmluZyA9IENyeXB0b0pTLmVuYy5VdGYxNi5zdHJpbmdpZnkod29yZEFycmF5KTtcblx0ICAgICAgICAgKi9cblx0ICAgICAgICBzdHJpbmdpZnk6IGZ1bmN0aW9uICh3b3JkQXJyYXkpIHtcblx0ICAgICAgICAgICAgLy8gU2hvcnRjdXRzXG5cdCAgICAgICAgICAgIHZhciB3b3JkcyA9IHdvcmRBcnJheS53b3Jkcztcblx0ICAgICAgICAgICAgdmFyIHNpZ0J5dGVzID0gd29yZEFycmF5LnNpZ0J5dGVzO1xuXG5cdCAgICAgICAgICAgIC8vIENvbnZlcnRcblx0ICAgICAgICAgICAgdmFyIHV0ZjE2Q2hhcnMgPSBbXTtcblx0ICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaWdCeXRlczsgaSArPSAyKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgY29kZVBvaW50ID0gKHdvcmRzW2kgPj4+IDJdID4+PiAoMTYgLSAoaSAlIDQpICogOCkpICYgMHhmZmZmO1xuXHQgICAgICAgICAgICAgICAgdXRmMTZDaGFycy5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoY29kZVBvaW50KSk7XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICByZXR1cm4gdXRmMTZDaGFycy5qb2luKCcnKTtcblx0ICAgICAgICB9LFxuXG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogQ29udmVydHMgYSBVVEYtMTYgQkUgc3RyaW5nIHRvIGEgd29yZCBhcnJheS5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1dGYxNlN0ciBUaGUgVVRGLTE2IEJFIHN0cmluZy5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEByZXR1cm4ge1dvcmRBcnJheX0gVGhlIHdvcmQgYXJyYXkuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAc3RhdGljXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAZXhhbXBsZVxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogICAgIHZhciB3b3JkQXJyYXkgPSBDcnlwdG9KUy5lbmMuVXRmMTYucGFyc2UodXRmMTZTdHJpbmcpO1xuXHQgICAgICAgICAqL1xuXHQgICAgICAgIHBhcnNlOiBmdW5jdGlvbiAodXRmMTZTdHIpIHtcblx0ICAgICAgICAgICAgLy8gU2hvcnRjdXRcblx0ICAgICAgICAgICAgdmFyIHV0ZjE2U3RyTGVuZ3RoID0gdXRmMTZTdHIubGVuZ3RoO1xuXG5cdCAgICAgICAgICAgIC8vIENvbnZlcnRcblx0ICAgICAgICAgICAgdmFyIHdvcmRzID0gW107XG5cdCAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdXRmMTZTdHJMZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICAgICAgd29yZHNbaSA+Pj4gMV0gfD0gdXRmMTZTdHIuY2hhckNvZGVBdChpKSA8PCAoMTYgLSAoaSAlIDIpICogMTYpO1xuXHQgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgcmV0dXJuIFdvcmRBcnJheS5jcmVhdGUod29yZHMsIHV0ZjE2U3RyTGVuZ3RoICogMik7XG5cdCAgICAgICAgfVxuXHQgICAgfTtcblxuXHQgICAgLyoqXG5cdCAgICAgKiBVVEYtMTYgTEUgZW5jb2Rpbmcgc3RyYXRlZ3kuXG5cdCAgICAgKi9cblx0ICAgIENfZW5jLlV0ZjE2TEUgPSB7XG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogQ29udmVydHMgYSB3b3JkIGFycmF5IHRvIGEgVVRGLTE2IExFIHN0cmluZy5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBwYXJhbSB7V29yZEFycmF5fSB3b3JkQXJyYXkgVGhlIHdvcmQgYXJyYXkuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBVVEYtMTYgTEUgc3RyaW5nLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHN0YXRpY1xuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQGV4YW1wbGVcblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqICAgICB2YXIgdXRmMTZTdHIgPSBDcnlwdG9KUy5lbmMuVXRmMTZMRS5zdHJpbmdpZnkod29yZEFycmF5KTtcblx0ICAgICAgICAgKi9cblx0ICAgICAgICBzdHJpbmdpZnk6IGZ1bmN0aW9uICh3b3JkQXJyYXkpIHtcblx0ICAgICAgICAgICAgLy8gU2hvcnRjdXRzXG5cdCAgICAgICAgICAgIHZhciB3b3JkcyA9IHdvcmRBcnJheS53b3Jkcztcblx0ICAgICAgICAgICAgdmFyIHNpZ0J5dGVzID0gd29yZEFycmF5LnNpZ0J5dGVzO1xuXG5cdCAgICAgICAgICAgIC8vIENvbnZlcnRcblx0ICAgICAgICAgICAgdmFyIHV0ZjE2Q2hhcnMgPSBbXTtcblx0ICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaWdCeXRlczsgaSArPSAyKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgY29kZVBvaW50ID0gc3dhcEVuZGlhbigod29yZHNbaSA+Pj4gMl0gPj4+ICgxNiAtIChpICUgNCkgKiA4KSkgJiAweGZmZmYpO1xuXHQgICAgICAgICAgICAgICAgdXRmMTZDaGFycy5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoY29kZVBvaW50KSk7XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICByZXR1cm4gdXRmMTZDaGFycy5qb2luKCcnKTtcblx0ICAgICAgICB9LFxuXG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogQ29udmVydHMgYSBVVEYtMTYgTEUgc3RyaW5nIHRvIGEgd29yZCBhcnJheS5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1dGYxNlN0ciBUaGUgVVRGLTE2IExFIHN0cmluZy5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEByZXR1cm4ge1dvcmRBcnJheX0gVGhlIHdvcmQgYXJyYXkuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAc3RhdGljXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAZXhhbXBsZVxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogICAgIHZhciB3b3JkQXJyYXkgPSBDcnlwdG9KUy5lbmMuVXRmMTZMRS5wYXJzZSh1dGYxNlN0cik7XG5cdCAgICAgICAgICovXG5cdCAgICAgICAgcGFyc2U6IGZ1bmN0aW9uICh1dGYxNlN0cikge1xuXHQgICAgICAgICAgICAvLyBTaG9ydGN1dFxuXHQgICAgICAgICAgICB2YXIgdXRmMTZTdHJMZW5ndGggPSB1dGYxNlN0ci5sZW5ndGg7XG5cblx0ICAgICAgICAgICAgLy8gQ29udmVydFxuXHQgICAgICAgICAgICB2YXIgd29yZHMgPSBbXTtcblx0ICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB1dGYxNlN0ckxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgICAgICAgICB3b3Jkc1tpID4+PiAxXSB8PSBzd2FwRW5kaWFuKHV0ZjE2U3RyLmNoYXJDb2RlQXQoaSkgPDwgKDE2IC0gKGkgJSAyKSAqIDE2KSk7XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICByZXR1cm4gV29yZEFycmF5LmNyZWF0ZSh3b3JkcywgdXRmMTZTdHJMZW5ndGggKiAyKTtcblx0ICAgICAgICB9XG5cdCAgICB9O1xuXG5cdCAgICBmdW5jdGlvbiBzd2FwRW5kaWFuKHdvcmQpIHtcblx0ICAgICAgICByZXR1cm4gKCh3b3JkIDw8IDgpICYgMHhmZjAwZmYwMCkgfCAoKHdvcmQgPj4+IDgpICYgMHgwMGZmMDBmZik7XG5cdCAgICB9XG5cdH0oKSk7XG5cblxuXHRyZXR1cm4gQ3J5cHRvSlMuZW5jLlV0ZjE2O1xuXG59KSk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9jcnlwdG8tanMvZW5jLXV0ZjE2LmpzIiwiOyhmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSwgdW5kZWYpIHtcblx0aWYgKHR5cGVvZiBleHBvcnRzID09PSBcIm9iamVjdFwiKSB7XG5cdFx0Ly8gQ29tbW9uSlNcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoXCIuL2NvcmVcIiksIHJlcXVpcmUoXCIuL2NpcGhlci1jb3JlXCIpKTtcblx0fVxuXHRlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCkge1xuXHRcdC8vIEFNRFxuXHRcdGRlZmluZShbXCIuL2NvcmVcIiwgXCIuL2NpcGhlci1jb3JlXCJdLCBmYWN0b3J5KTtcblx0fVxuXHRlbHNlIHtcblx0XHQvLyBHbG9iYWwgKGJyb3dzZXIpXG5cdFx0ZmFjdG9yeShyb290LkNyeXB0b0pTKTtcblx0fVxufSh0aGlzLCBmdW5jdGlvbiAoQ3J5cHRvSlMpIHtcblxuXHQoZnVuY3Rpb24gKHVuZGVmaW5lZCkge1xuXHQgICAgLy8gU2hvcnRjdXRzXG5cdCAgICB2YXIgQyA9IENyeXB0b0pTO1xuXHQgICAgdmFyIENfbGliID0gQy5saWI7XG5cdCAgICB2YXIgQ2lwaGVyUGFyYW1zID0gQ19saWIuQ2lwaGVyUGFyYW1zO1xuXHQgICAgdmFyIENfZW5jID0gQy5lbmM7XG5cdCAgICB2YXIgSGV4ID0gQ19lbmMuSGV4O1xuXHQgICAgdmFyIENfZm9ybWF0ID0gQy5mb3JtYXQ7XG5cblx0ICAgIHZhciBIZXhGb3JtYXR0ZXIgPSBDX2Zvcm1hdC5IZXggPSB7XG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogQ29udmVydHMgdGhlIGNpcGhlcnRleHQgb2YgYSBjaXBoZXIgcGFyYW1zIG9iamVjdCB0byBhIGhleGFkZWNpbWFsbHkgZW5jb2RlZCBzdHJpbmcuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcGFyYW0ge0NpcGhlclBhcmFtc30gY2lwaGVyUGFyYW1zIFRoZSBjaXBoZXIgcGFyYW1zIG9iamVjdC5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIGhleGFkZWNpbWFsbHkgZW5jb2RlZCBzdHJpbmcuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAc3RhdGljXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAZXhhbXBsZVxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogICAgIHZhciBoZXhTdHJpbmcgPSBDcnlwdG9KUy5mb3JtYXQuSGV4LnN0cmluZ2lmeShjaXBoZXJQYXJhbXMpO1xuXHQgICAgICAgICAqL1xuXHQgICAgICAgIHN0cmluZ2lmeTogZnVuY3Rpb24gKGNpcGhlclBhcmFtcykge1xuXHQgICAgICAgICAgICByZXR1cm4gY2lwaGVyUGFyYW1zLmNpcGhlcnRleHQudG9TdHJpbmcoSGV4KTtcblx0ICAgICAgICB9LFxuXG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogQ29udmVydHMgYSBoZXhhZGVjaW1hbGx5IGVuY29kZWQgY2lwaGVydGV4dCBzdHJpbmcgdG8gYSBjaXBoZXIgcGFyYW1zIG9iamVjdC5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpbnB1dCBUaGUgaGV4YWRlY2ltYWxseSBlbmNvZGVkIHN0cmluZy5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEByZXR1cm4ge0NpcGhlclBhcmFtc30gVGhlIGNpcGhlciBwYXJhbXMgb2JqZWN0LlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHN0YXRpY1xuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQGV4YW1wbGVcblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqICAgICB2YXIgY2lwaGVyUGFyYW1zID0gQ3J5cHRvSlMuZm9ybWF0LkhleC5wYXJzZShoZXhTdHJpbmcpO1xuXHQgICAgICAgICAqL1xuXHQgICAgICAgIHBhcnNlOiBmdW5jdGlvbiAoaW5wdXQpIHtcblx0ICAgICAgICAgICAgdmFyIGNpcGhlcnRleHQgPSBIZXgucGFyc2UoaW5wdXQpO1xuXHQgICAgICAgICAgICByZXR1cm4gQ2lwaGVyUGFyYW1zLmNyZWF0ZSh7IGNpcGhlcnRleHQ6IGNpcGhlcnRleHQgfSk7XG5cdCAgICAgICAgfVxuXHQgICAgfTtcblx0fSgpKTtcblxuXG5cdHJldHVybiBDcnlwdG9KUy5mb3JtYXQuSGV4O1xuXG59KSk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9jcnlwdG8tanMvZm9ybWF0LWhleC5qcyIsIjsoZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYgKHR5cGVvZiBleHBvcnRzID09PSBcIm9iamVjdFwiKSB7XG5cdFx0Ly8gQ29tbW9uSlNcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoXCIuL2NvcmVcIikpO1xuXHR9XG5cdGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kKSB7XG5cdFx0Ly8gQU1EXG5cdFx0ZGVmaW5lKFtcIi4vY29yZVwiXSwgZmFjdG9yeSk7XG5cdH1cblx0ZWxzZSB7XG5cdFx0Ly8gR2xvYmFsIChicm93c2VyKVxuXHRcdGZhY3Rvcnkocm9vdC5DcnlwdG9KUyk7XG5cdH1cbn0odGhpcywgZnVuY3Rpb24gKENyeXB0b0pTKSB7XG5cblx0KGZ1bmN0aW9uICgpIHtcblx0ICAgIC8vIENoZWNrIGlmIHR5cGVkIGFycmF5cyBhcmUgc3VwcG9ydGVkXG5cdCAgICBpZiAodHlwZW9mIEFycmF5QnVmZmVyICE9ICdmdW5jdGlvbicpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICB9XG5cblx0ICAgIC8vIFNob3J0Y3V0c1xuXHQgICAgdmFyIEMgPSBDcnlwdG9KUztcblx0ICAgIHZhciBDX2xpYiA9IEMubGliO1xuXHQgICAgdmFyIFdvcmRBcnJheSA9IENfbGliLldvcmRBcnJheTtcblxuXHQgICAgLy8gUmVmZXJlbmNlIG9yaWdpbmFsIGluaXRcblx0ICAgIHZhciBzdXBlckluaXQgPSBXb3JkQXJyYXkuaW5pdDtcblxuXHQgICAgLy8gQXVnbWVudCBXb3JkQXJyYXkuaW5pdCB0byBoYW5kbGUgdHlwZWQgYXJyYXlzXG5cdCAgICB2YXIgc3ViSW5pdCA9IFdvcmRBcnJheS5pbml0ID0gZnVuY3Rpb24gKHR5cGVkQXJyYXkpIHtcblx0ICAgICAgICAvLyBDb252ZXJ0IGJ1ZmZlcnMgdG8gdWludDhcblx0ICAgICAgICBpZiAodHlwZWRBcnJheSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG5cdCAgICAgICAgICAgIHR5cGVkQXJyYXkgPSBuZXcgVWludDhBcnJheSh0eXBlZEFycmF5KTtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICAvLyBDb252ZXJ0IG90aGVyIGFycmF5IHZpZXdzIHRvIHVpbnQ4XG5cdCAgICAgICAgaWYgKFxuXHQgICAgICAgICAgICB0eXBlZEFycmF5IGluc3RhbmNlb2YgSW50OEFycmF5IHx8XG5cdCAgICAgICAgICAgICh0eXBlb2YgVWludDhDbGFtcGVkQXJyYXkgIT09IFwidW5kZWZpbmVkXCIgJiYgdHlwZWRBcnJheSBpbnN0YW5jZW9mIFVpbnQ4Q2xhbXBlZEFycmF5KSB8fFxuXHQgICAgICAgICAgICB0eXBlZEFycmF5IGluc3RhbmNlb2YgSW50MTZBcnJheSB8fFxuXHQgICAgICAgICAgICB0eXBlZEFycmF5IGluc3RhbmNlb2YgVWludDE2QXJyYXkgfHxcblx0ICAgICAgICAgICAgdHlwZWRBcnJheSBpbnN0YW5jZW9mIEludDMyQXJyYXkgfHxcblx0ICAgICAgICAgICAgdHlwZWRBcnJheSBpbnN0YW5jZW9mIFVpbnQzMkFycmF5IHx8XG5cdCAgICAgICAgICAgIHR5cGVkQXJyYXkgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXkgfHxcblx0ICAgICAgICAgICAgdHlwZWRBcnJheSBpbnN0YW5jZW9mIEZsb2F0NjRBcnJheVxuXHQgICAgICAgICkge1xuXHQgICAgICAgICAgICB0eXBlZEFycmF5ID0gbmV3IFVpbnQ4QXJyYXkodHlwZWRBcnJheS5idWZmZXIsIHR5cGVkQXJyYXkuYnl0ZU9mZnNldCwgdHlwZWRBcnJheS5ieXRlTGVuZ3RoKTtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICAvLyBIYW5kbGUgVWludDhBcnJheVxuXHQgICAgICAgIGlmICh0eXBlZEFycmF5IGluc3RhbmNlb2YgVWludDhBcnJheSkge1xuXHQgICAgICAgICAgICAvLyBTaG9ydGN1dFxuXHQgICAgICAgICAgICB2YXIgdHlwZWRBcnJheUJ5dGVMZW5ndGggPSB0eXBlZEFycmF5LmJ5dGVMZW5ndGg7XG5cblx0ICAgICAgICAgICAgLy8gRXh0cmFjdCBieXRlc1xuXHQgICAgICAgICAgICB2YXIgd29yZHMgPSBbXTtcblx0ICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0eXBlZEFycmF5Qnl0ZUxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgICAgICAgICB3b3Jkc1tpID4+PiAyXSB8PSB0eXBlZEFycmF5W2ldIDw8ICgyNCAtIChpICUgNCkgKiA4KTtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIC8vIEluaXRpYWxpemUgdGhpcyB3b3JkIGFycmF5XG5cdCAgICAgICAgICAgIHN1cGVySW5pdC5jYWxsKHRoaXMsIHdvcmRzLCB0eXBlZEFycmF5Qnl0ZUxlbmd0aCk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgLy8gRWxzZSBjYWxsIG5vcm1hbCBpbml0XG5cdCAgICAgICAgICAgIHN1cGVySW5pdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHQgICAgICAgIH1cblx0ICAgIH07XG5cblx0ICAgIHN1YkluaXQucHJvdG90eXBlID0gV29yZEFycmF5O1xuXHR9KCkpO1xuXG5cblx0cmV0dXJuIENyeXB0b0pTLmxpYi5Xb3JkQXJyYXk7XG5cbn0pKTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L2NyeXB0by1qcy9saWItdHlwZWRhcnJheXMuanMiLCI7KGZ1bmN0aW9uIChyb290LCBmYWN0b3J5LCB1bmRlZikge1xuXHRpZiAodHlwZW9mIGV4cG9ydHMgPT09IFwib2JqZWN0XCIpIHtcblx0XHQvLyBDb21tb25KU1xuXHRcdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZShcIi4vY29yZVwiKSwgcmVxdWlyZShcIi4vY2lwaGVyLWNvcmVcIikpO1xuXHR9XG5cdGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kKSB7XG5cdFx0Ly8gQU1EXG5cdFx0ZGVmaW5lKFtcIi4vY29yZVwiLCBcIi4vY2lwaGVyLWNvcmVcIl0sIGZhY3RvcnkpO1xuXHR9XG5cdGVsc2Uge1xuXHRcdC8vIEdsb2JhbCAoYnJvd3Nlcilcblx0XHRmYWN0b3J5KHJvb3QuQ3J5cHRvSlMpO1xuXHR9XG59KHRoaXMsIGZ1bmN0aW9uIChDcnlwdG9KUykge1xuXG5cdC8qKlxuXHQgKiBDaXBoZXIgRmVlZGJhY2sgYmxvY2sgbW9kZS5cblx0ICovXG5cdENyeXB0b0pTLm1vZGUuQ0ZCID0gKGZ1bmN0aW9uICgpIHtcblx0ICAgIHZhciBDRkIgPSBDcnlwdG9KUy5saWIuQmxvY2tDaXBoZXJNb2RlLmV4dGVuZCgpO1xuXG5cdCAgICBDRkIuRW5jcnlwdG9yID0gQ0ZCLmV4dGVuZCh7XG5cdCAgICAgICAgcHJvY2Vzc0Jsb2NrOiBmdW5jdGlvbiAod29yZHMsIG9mZnNldCkge1xuXHQgICAgICAgICAgICAvLyBTaG9ydGN1dHNcblx0ICAgICAgICAgICAgdmFyIGNpcGhlciA9IHRoaXMuX2NpcGhlcjtcblx0ICAgICAgICAgICAgdmFyIGJsb2NrU2l6ZSA9IGNpcGhlci5ibG9ja1NpemU7XG5cblx0ICAgICAgICAgICAgZ2VuZXJhdGVLZXlzdHJlYW1BbmRFbmNyeXB0LmNhbGwodGhpcywgd29yZHMsIG9mZnNldCwgYmxvY2tTaXplLCBjaXBoZXIpO1xuXG5cdCAgICAgICAgICAgIC8vIFJlbWVtYmVyIHRoaXMgYmxvY2sgdG8gdXNlIHdpdGggbmV4dCBibG9ja1xuXHQgICAgICAgICAgICB0aGlzLl9wcmV2QmxvY2sgPSB3b3Jkcy5zbGljZShvZmZzZXQsIG9mZnNldCArIGJsb2NrU2l6ZSk7XG5cdCAgICAgICAgfVxuXHQgICAgfSk7XG5cblx0ICAgIENGQi5EZWNyeXB0b3IgPSBDRkIuZXh0ZW5kKHtcblx0ICAgICAgICBwcm9jZXNzQmxvY2s6IGZ1bmN0aW9uICh3b3Jkcywgb2Zmc2V0KSB7XG5cdCAgICAgICAgICAgIC8vIFNob3J0Y3V0c1xuXHQgICAgICAgICAgICB2YXIgY2lwaGVyID0gdGhpcy5fY2lwaGVyO1xuXHQgICAgICAgICAgICB2YXIgYmxvY2tTaXplID0gY2lwaGVyLmJsb2NrU2l6ZTtcblxuXHQgICAgICAgICAgICAvLyBSZW1lbWJlciB0aGlzIGJsb2NrIHRvIHVzZSB3aXRoIG5leHQgYmxvY2tcblx0ICAgICAgICAgICAgdmFyIHRoaXNCbG9jayA9IHdvcmRzLnNsaWNlKG9mZnNldCwgb2Zmc2V0ICsgYmxvY2tTaXplKTtcblxuXHQgICAgICAgICAgICBnZW5lcmF0ZUtleXN0cmVhbUFuZEVuY3J5cHQuY2FsbCh0aGlzLCB3b3Jkcywgb2Zmc2V0LCBibG9ja1NpemUsIGNpcGhlcik7XG5cblx0ICAgICAgICAgICAgLy8gVGhpcyBibG9jayBiZWNvbWVzIHRoZSBwcmV2aW91cyBibG9ja1xuXHQgICAgICAgICAgICB0aGlzLl9wcmV2QmxvY2sgPSB0aGlzQmxvY2s7XG5cdCAgICAgICAgfVxuXHQgICAgfSk7XG5cblx0ICAgIGZ1bmN0aW9uIGdlbmVyYXRlS2V5c3RyZWFtQW5kRW5jcnlwdCh3b3Jkcywgb2Zmc2V0LCBibG9ja1NpemUsIGNpcGhlcikge1xuXHQgICAgICAgIC8vIFNob3J0Y3V0XG5cdCAgICAgICAgdmFyIGl2ID0gdGhpcy5faXY7XG5cblx0ICAgICAgICAvLyBHZW5lcmF0ZSBrZXlzdHJlYW1cblx0ICAgICAgICBpZiAoaXYpIHtcblx0ICAgICAgICAgICAgdmFyIGtleXN0cmVhbSA9IGl2LnNsaWNlKDApO1xuXG5cdCAgICAgICAgICAgIC8vIFJlbW92ZSBJViBmb3Igc3Vic2VxdWVudCBibG9ja3Ncblx0ICAgICAgICAgICAgdGhpcy5faXYgPSB1bmRlZmluZWQ7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgdmFyIGtleXN0cmVhbSA9IHRoaXMuX3ByZXZCbG9jaztcblx0ICAgICAgICB9XG5cdCAgICAgICAgY2lwaGVyLmVuY3J5cHRCbG9jayhrZXlzdHJlYW0sIDApO1xuXG5cdCAgICAgICAgLy8gRW5jcnlwdFxuXHQgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYmxvY2tTaXplOyBpKyspIHtcblx0ICAgICAgICAgICAgd29yZHNbb2Zmc2V0ICsgaV0gXj0ga2V5c3RyZWFtW2ldO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblxuXHQgICAgcmV0dXJuIENGQjtcblx0fSgpKTtcblxuXG5cdHJldHVybiBDcnlwdG9KUy5tb2RlLkNGQjtcblxufSkpO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vY3J5cHRvLWpzL21vZGUtY2ZiLmpzIiwiOyhmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSwgdW5kZWYpIHtcblx0aWYgKHR5cGVvZiBleHBvcnRzID09PSBcIm9iamVjdFwiKSB7XG5cdFx0Ly8gQ29tbW9uSlNcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoXCIuL2NvcmVcIiksIHJlcXVpcmUoXCIuL2NpcGhlci1jb3JlXCIpKTtcblx0fVxuXHRlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCkge1xuXHRcdC8vIEFNRFxuXHRcdGRlZmluZShbXCIuL2NvcmVcIiwgXCIuL2NpcGhlci1jb3JlXCJdLCBmYWN0b3J5KTtcblx0fVxuXHRlbHNlIHtcblx0XHQvLyBHbG9iYWwgKGJyb3dzZXIpXG5cdFx0ZmFjdG9yeShyb290LkNyeXB0b0pTKTtcblx0fVxufSh0aGlzLCBmdW5jdGlvbiAoQ3J5cHRvSlMpIHtcblxuXHQvKiogQHByZXNlcnZlXG5cdCAqIENvdW50ZXIgYmxvY2sgbW9kZSBjb21wYXRpYmxlIHdpdGggIERyIEJyaWFuIEdsYWRtYW4gZmlsZWVuYy5jXG5cdCAqIGRlcml2ZWQgZnJvbSBDcnlwdG9KUy5tb2RlLkNUUlxuXHQgKiBKYW4gSHJ1YnkgamhydWJ5LndlYkBnbWFpbC5jb21cblx0ICovXG5cdENyeXB0b0pTLm1vZGUuQ1RSR2xhZG1hbiA9IChmdW5jdGlvbiAoKSB7XG5cdCAgICB2YXIgQ1RSR2xhZG1hbiA9IENyeXB0b0pTLmxpYi5CbG9ja0NpcGhlck1vZGUuZXh0ZW5kKCk7XG5cblx0XHRmdW5jdGlvbiBpbmNXb3JkKHdvcmQpXG5cdFx0e1xuXHRcdFx0aWYgKCgod29yZCA+PiAyNCkgJiAweGZmKSA9PT0gMHhmZikgeyAvL292ZXJmbG93XG5cdFx0XHR2YXIgYjEgPSAod29yZCA+PiAxNikmMHhmZjtcblx0XHRcdHZhciBiMiA9ICh3b3JkID4+IDgpJjB4ZmY7XG5cdFx0XHR2YXIgYjMgPSB3b3JkICYgMHhmZjtcblxuXHRcdFx0aWYgKGIxID09PSAweGZmKSAvLyBvdmVyZmxvdyBiMVxuXHRcdFx0e1xuXHRcdFx0YjEgPSAwO1xuXHRcdFx0aWYgKGIyID09PSAweGZmKVxuXHRcdFx0e1xuXHRcdFx0XHRiMiA9IDA7XG5cdFx0XHRcdGlmIChiMyA9PT0gMHhmZilcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGIzID0gMDtcblx0XHRcdFx0fVxuXHRcdFx0XHRlbHNlXG5cdFx0XHRcdHtcblx0XHRcdFx0XHQrK2IzO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRlbHNlXG5cdFx0XHR7XG5cdFx0XHRcdCsrYjI7XG5cdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRlbHNlXG5cdFx0XHR7XG5cdFx0XHQrK2IxO1xuXHRcdFx0fVxuXG5cdFx0XHR3b3JkID0gMDtcblx0XHRcdHdvcmQgKz0gKGIxIDw8IDE2KTtcblx0XHRcdHdvcmQgKz0gKGIyIDw8IDgpO1xuXHRcdFx0d29yZCArPSBiMztcblx0XHRcdH1cblx0XHRcdGVsc2Vcblx0XHRcdHtcblx0XHRcdHdvcmQgKz0gKDB4MDEgPDwgMjQpO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHdvcmQ7XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gaW5jQ291bnRlcihjb3VudGVyKVxuXHRcdHtcblx0XHRcdGlmICgoY291bnRlclswXSA9IGluY1dvcmQoY291bnRlclswXSkpID09PSAwKVxuXHRcdFx0e1xuXHRcdFx0XHQvLyBlbmNyX2RhdGEgaW4gZmlsZWVuYy5jIGZyb20gIERyIEJyaWFuIEdsYWRtYW4ncyBjb3VudHMgb25seSB3aXRoIERXT1JEIGogPCA4XG5cdFx0XHRcdGNvdW50ZXJbMV0gPSBpbmNXb3JkKGNvdW50ZXJbMV0pO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGNvdW50ZXI7XG5cdFx0fVxuXG5cdCAgICB2YXIgRW5jcnlwdG9yID0gQ1RSR2xhZG1hbi5FbmNyeXB0b3IgPSBDVFJHbGFkbWFuLmV4dGVuZCh7XG5cdCAgICAgICAgcHJvY2Vzc0Jsb2NrOiBmdW5jdGlvbiAod29yZHMsIG9mZnNldCkge1xuXHQgICAgICAgICAgICAvLyBTaG9ydGN1dHNcblx0ICAgICAgICAgICAgdmFyIGNpcGhlciA9IHRoaXMuX2NpcGhlclxuXHQgICAgICAgICAgICB2YXIgYmxvY2tTaXplID0gY2lwaGVyLmJsb2NrU2l6ZTtcblx0ICAgICAgICAgICAgdmFyIGl2ID0gdGhpcy5faXY7XG5cdCAgICAgICAgICAgIHZhciBjb3VudGVyID0gdGhpcy5fY291bnRlcjtcblxuXHQgICAgICAgICAgICAvLyBHZW5lcmF0ZSBrZXlzdHJlYW1cblx0ICAgICAgICAgICAgaWYgKGl2KSB7XG5cdCAgICAgICAgICAgICAgICBjb3VudGVyID0gdGhpcy5fY291bnRlciA9IGl2LnNsaWNlKDApO1xuXG5cdCAgICAgICAgICAgICAgICAvLyBSZW1vdmUgSVYgZm9yIHN1YnNlcXVlbnQgYmxvY2tzXG5cdCAgICAgICAgICAgICAgICB0aGlzLl9pdiA9IHVuZGVmaW5lZDtcblx0ICAgICAgICAgICAgfVxuXG5cdFx0XHRcdGluY0NvdW50ZXIoY291bnRlcik7XG5cblx0XHRcdFx0dmFyIGtleXN0cmVhbSA9IGNvdW50ZXIuc2xpY2UoMCk7XG5cdCAgICAgICAgICAgIGNpcGhlci5lbmNyeXB0QmxvY2soa2V5c3RyZWFtLCAwKTtcblxuXHQgICAgICAgICAgICAvLyBFbmNyeXB0XG5cdCAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYmxvY2tTaXplOyBpKyspIHtcblx0ICAgICAgICAgICAgICAgIHdvcmRzW29mZnNldCArIGldIF49IGtleXN0cmVhbVtpXTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgIH0pO1xuXG5cdCAgICBDVFJHbGFkbWFuLkRlY3J5cHRvciA9IEVuY3J5cHRvcjtcblxuXHQgICAgcmV0dXJuIENUUkdsYWRtYW47XG5cdH0oKSk7XG5cblxuXG5cblx0cmV0dXJuIENyeXB0b0pTLm1vZGUuQ1RSR2xhZG1hbjtcblxufSkpO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vY3J5cHRvLWpzL21vZGUtY3RyLWdsYWRtYW4uanMiLCI7KGZ1bmN0aW9uIChyb290LCBmYWN0b3J5LCB1bmRlZikge1xuXHRpZiAodHlwZW9mIGV4cG9ydHMgPT09IFwib2JqZWN0XCIpIHtcblx0XHQvLyBDb21tb25KU1xuXHRcdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZShcIi4vY29yZVwiKSwgcmVxdWlyZShcIi4vY2lwaGVyLWNvcmVcIikpO1xuXHR9XG5cdGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kKSB7XG5cdFx0Ly8gQU1EXG5cdFx0ZGVmaW5lKFtcIi4vY29yZVwiLCBcIi4vY2lwaGVyLWNvcmVcIl0sIGZhY3RvcnkpO1xuXHR9XG5cdGVsc2Uge1xuXHRcdC8vIEdsb2JhbCAoYnJvd3Nlcilcblx0XHRmYWN0b3J5KHJvb3QuQ3J5cHRvSlMpO1xuXHR9XG59KHRoaXMsIGZ1bmN0aW9uIChDcnlwdG9KUykge1xuXG5cdC8qKlxuXHQgKiBDb3VudGVyIGJsb2NrIG1vZGUuXG5cdCAqL1xuXHRDcnlwdG9KUy5tb2RlLkNUUiA9IChmdW5jdGlvbiAoKSB7XG5cdCAgICB2YXIgQ1RSID0gQ3J5cHRvSlMubGliLkJsb2NrQ2lwaGVyTW9kZS5leHRlbmQoKTtcblxuXHQgICAgdmFyIEVuY3J5cHRvciA9IENUUi5FbmNyeXB0b3IgPSBDVFIuZXh0ZW5kKHtcblx0ICAgICAgICBwcm9jZXNzQmxvY2s6IGZ1bmN0aW9uICh3b3Jkcywgb2Zmc2V0KSB7XG5cdCAgICAgICAgICAgIC8vIFNob3J0Y3V0c1xuXHQgICAgICAgICAgICB2YXIgY2lwaGVyID0gdGhpcy5fY2lwaGVyXG5cdCAgICAgICAgICAgIHZhciBibG9ja1NpemUgPSBjaXBoZXIuYmxvY2tTaXplO1xuXHQgICAgICAgICAgICB2YXIgaXYgPSB0aGlzLl9pdjtcblx0ICAgICAgICAgICAgdmFyIGNvdW50ZXIgPSB0aGlzLl9jb3VudGVyO1xuXG5cdCAgICAgICAgICAgIC8vIEdlbmVyYXRlIGtleXN0cmVhbVxuXHQgICAgICAgICAgICBpZiAoaXYpIHtcblx0ICAgICAgICAgICAgICAgIGNvdW50ZXIgPSB0aGlzLl9jb3VudGVyID0gaXYuc2xpY2UoMCk7XG5cblx0ICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBJViBmb3Igc3Vic2VxdWVudCBibG9ja3Ncblx0ICAgICAgICAgICAgICAgIHRoaXMuX2l2ID0gdW5kZWZpbmVkO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHZhciBrZXlzdHJlYW0gPSBjb3VudGVyLnNsaWNlKDApO1xuXHQgICAgICAgICAgICBjaXBoZXIuZW5jcnlwdEJsb2NrKGtleXN0cmVhbSwgMCk7XG5cblx0ICAgICAgICAgICAgLy8gSW5jcmVtZW50IGNvdW50ZXJcblx0ICAgICAgICAgICAgY291bnRlcltibG9ja1NpemUgLSAxXSA9IChjb3VudGVyW2Jsb2NrU2l6ZSAtIDFdICsgMSkgfCAwXG5cblx0ICAgICAgICAgICAgLy8gRW5jcnlwdFxuXHQgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJsb2NrU2l6ZTsgaSsrKSB7XG5cdCAgICAgICAgICAgICAgICB3b3Jkc1tvZmZzZXQgKyBpXSBePSBrZXlzdHJlYW1baV07XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9KTtcblxuXHQgICAgQ1RSLkRlY3J5cHRvciA9IEVuY3J5cHRvcjtcblxuXHQgICAgcmV0dXJuIENUUjtcblx0fSgpKTtcblxuXG5cdHJldHVybiBDcnlwdG9KUy5tb2RlLkNUUjtcblxufSkpO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vY3J5cHRvLWpzL21vZGUtY3RyLmpzIiwiOyhmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSwgdW5kZWYpIHtcblx0aWYgKHR5cGVvZiBleHBvcnRzID09PSBcIm9iamVjdFwiKSB7XG5cdFx0Ly8gQ29tbW9uSlNcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoXCIuL2NvcmVcIiksIHJlcXVpcmUoXCIuL2NpcGhlci1jb3JlXCIpKTtcblx0fVxuXHRlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCkge1xuXHRcdC8vIEFNRFxuXHRcdGRlZmluZShbXCIuL2NvcmVcIiwgXCIuL2NpcGhlci1jb3JlXCJdLCBmYWN0b3J5KTtcblx0fVxuXHRlbHNlIHtcblx0XHQvLyBHbG9iYWwgKGJyb3dzZXIpXG5cdFx0ZmFjdG9yeShyb290LkNyeXB0b0pTKTtcblx0fVxufSh0aGlzLCBmdW5jdGlvbiAoQ3J5cHRvSlMpIHtcblxuXHQvKipcblx0ICogRWxlY3Ryb25pYyBDb2RlYm9vayBibG9jayBtb2RlLlxuXHQgKi9cblx0Q3J5cHRvSlMubW9kZS5FQ0IgPSAoZnVuY3Rpb24gKCkge1xuXHQgICAgdmFyIEVDQiA9IENyeXB0b0pTLmxpYi5CbG9ja0NpcGhlck1vZGUuZXh0ZW5kKCk7XG5cblx0ICAgIEVDQi5FbmNyeXB0b3IgPSBFQ0IuZXh0ZW5kKHtcblx0ICAgICAgICBwcm9jZXNzQmxvY2s6IGZ1bmN0aW9uICh3b3Jkcywgb2Zmc2V0KSB7XG5cdCAgICAgICAgICAgIHRoaXMuX2NpcGhlci5lbmNyeXB0QmxvY2sod29yZHMsIG9mZnNldCk7XG5cdCAgICAgICAgfVxuXHQgICAgfSk7XG5cblx0ICAgIEVDQi5EZWNyeXB0b3IgPSBFQ0IuZXh0ZW5kKHtcblx0ICAgICAgICBwcm9jZXNzQmxvY2s6IGZ1bmN0aW9uICh3b3Jkcywgb2Zmc2V0KSB7XG5cdCAgICAgICAgICAgIHRoaXMuX2NpcGhlci5kZWNyeXB0QmxvY2sod29yZHMsIG9mZnNldCk7XG5cdCAgICAgICAgfVxuXHQgICAgfSk7XG5cblx0ICAgIHJldHVybiBFQ0I7XG5cdH0oKSk7XG5cblxuXHRyZXR1cm4gQ3J5cHRvSlMubW9kZS5FQ0I7XG5cbn0pKTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L2NyeXB0by1qcy9tb2RlLWVjYi5qcyIsIjsoZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnksIHVuZGVmKSB7XG5cdGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gXCJvYmplY3RcIikge1xuXHRcdC8vIENvbW1vbkpTXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKFwiLi9jb3JlXCIpLCByZXF1aXJlKFwiLi9jaXBoZXItY29yZVwiKSk7XG5cdH1cblx0ZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIHtcblx0XHQvLyBBTURcblx0XHRkZWZpbmUoW1wiLi9jb3JlXCIsIFwiLi9jaXBoZXItY29yZVwiXSwgZmFjdG9yeSk7XG5cdH1cblx0ZWxzZSB7XG5cdFx0Ly8gR2xvYmFsIChicm93c2VyKVxuXHRcdGZhY3Rvcnkocm9vdC5DcnlwdG9KUyk7XG5cdH1cbn0odGhpcywgZnVuY3Rpb24gKENyeXB0b0pTKSB7XG5cblx0LyoqXG5cdCAqIE91dHB1dCBGZWVkYmFjayBibG9jayBtb2RlLlxuXHQgKi9cblx0Q3J5cHRvSlMubW9kZS5PRkIgPSAoZnVuY3Rpb24gKCkge1xuXHQgICAgdmFyIE9GQiA9IENyeXB0b0pTLmxpYi5CbG9ja0NpcGhlck1vZGUuZXh0ZW5kKCk7XG5cblx0ICAgIHZhciBFbmNyeXB0b3IgPSBPRkIuRW5jcnlwdG9yID0gT0ZCLmV4dGVuZCh7XG5cdCAgICAgICAgcHJvY2Vzc0Jsb2NrOiBmdW5jdGlvbiAod29yZHMsIG9mZnNldCkge1xuXHQgICAgICAgICAgICAvLyBTaG9ydGN1dHNcblx0ICAgICAgICAgICAgdmFyIGNpcGhlciA9IHRoaXMuX2NpcGhlclxuXHQgICAgICAgICAgICB2YXIgYmxvY2tTaXplID0gY2lwaGVyLmJsb2NrU2l6ZTtcblx0ICAgICAgICAgICAgdmFyIGl2ID0gdGhpcy5faXY7XG5cdCAgICAgICAgICAgIHZhciBrZXlzdHJlYW0gPSB0aGlzLl9rZXlzdHJlYW07XG5cblx0ICAgICAgICAgICAgLy8gR2VuZXJhdGUga2V5c3RyZWFtXG5cdCAgICAgICAgICAgIGlmIChpdikge1xuXHQgICAgICAgICAgICAgICAga2V5c3RyZWFtID0gdGhpcy5fa2V5c3RyZWFtID0gaXYuc2xpY2UoMCk7XG5cblx0ICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBJViBmb3Igc3Vic2VxdWVudCBibG9ja3Ncblx0ICAgICAgICAgICAgICAgIHRoaXMuX2l2ID0gdW5kZWZpbmVkO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGNpcGhlci5lbmNyeXB0QmxvY2soa2V5c3RyZWFtLCAwKTtcblxuXHQgICAgICAgICAgICAvLyBFbmNyeXB0XG5cdCAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYmxvY2tTaXplOyBpKyspIHtcblx0ICAgICAgICAgICAgICAgIHdvcmRzW29mZnNldCArIGldIF49IGtleXN0cmVhbVtpXTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgIH0pO1xuXG5cdCAgICBPRkIuRGVjcnlwdG9yID0gRW5jcnlwdG9yO1xuXG5cdCAgICByZXR1cm4gT0ZCO1xuXHR9KCkpO1xuXG5cblx0cmV0dXJuIENyeXB0b0pTLm1vZGUuT0ZCO1xuXG59KSk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9jcnlwdG8tanMvbW9kZS1vZmIuanMiLCI7KGZ1bmN0aW9uIChyb290LCBmYWN0b3J5LCB1bmRlZikge1xuXHRpZiAodHlwZW9mIGV4cG9ydHMgPT09IFwib2JqZWN0XCIpIHtcblx0XHQvLyBDb21tb25KU1xuXHRcdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZShcIi4vY29yZVwiKSwgcmVxdWlyZShcIi4vY2lwaGVyLWNvcmVcIikpO1xuXHR9XG5cdGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kKSB7XG5cdFx0Ly8gQU1EXG5cdFx0ZGVmaW5lKFtcIi4vY29yZVwiLCBcIi4vY2lwaGVyLWNvcmVcIl0sIGZhY3RvcnkpO1xuXHR9XG5cdGVsc2Uge1xuXHRcdC8vIEdsb2JhbCAoYnJvd3Nlcilcblx0XHRmYWN0b3J5KHJvb3QuQ3J5cHRvSlMpO1xuXHR9XG59KHRoaXMsIGZ1bmN0aW9uIChDcnlwdG9KUykge1xuXG5cdC8qKlxuXHQgKiBBTlNJIFguOTIzIHBhZGRpbmcgc3RyYXRlZ3kuXG5cdCAqL1xuXHRDcnlwdG9KUy5wYWQuQW5zaVg5MjMgPSB7XG5cdCAgICBwYWQ6IGZ1bmN0aW9uIChkYXRhLCBibG9ja1NpemUpIHtcblx0ICAgICAgICAvLyBTaG9ydGN1dHNcblx0ICAgICAgICB2YXIgZGF0YVNpZ0J5dGVzID0gZGF0YS5zaWdCeXRlcztcblx0ICAgICAgICB2YXIgYmxvY2tTaXplQnl0ZXMgPSBibG9ja1NpemUgKiA0O1xuXG5cdCAgICAgICAgLy8gQ291bnQgcGFkZGluZyBieXRlc1xuXHQgICAgICAgIHZhciBuUGFkZGluZ0J5dGVzID0gYmxvY2tTaXplQnl0ZXMgLSBkYXRhU2lnQnl0ZXMgJSBibG9ja1NpemVCeXRlcztcblxuXHQgICAgICAgIC8vIENvbXB1dGUgbGFzdCBieXRlIHBvc2l0aW9uXG5cdCAgICAgICAgdmFyIGxhc3RCeXRlUG9zID0gZGF0YVNpZ0J5dGVzICsgblBhZGRpbmdCeXRlcyAtIDE7XG5cblx0ICAgICAgICAvLyBQYWRcblx0ICAgICAgICBkYXRhLmNsYW1wKCk7XG5cdCAgICAgICAgZGF0YS53b3Jkc1tsYXN0Qnl0ZVBvcyA+Pj4gMl0gfD0gblBhZGRpbmdCeXRlcyA8PCAoMjQgLSAobGFzdEJ5dGVQb3MgJSA0KSAqIDgpO1xuXHQgICAgICAgIGRhdGEuc2lnQnl0ZXMgKz0gblBhZGRpbmdCeXRlcztcblx0ICAgIH0sXG5cblx0ICAgIHVucGFkOiBmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICAgIC8vIEdldCBudW1iZXIgb2YgcGFkZGluZyBieXRlcyBmcm9tIGxhc3QgYnl0ZVxuXHQgICAgICAgIHZhciBuUGFkZGluZ0J5dGVzID0gZGF0YS53b3Jkc1soZGF0YS5zaWdCeXRlcyAtIDEpID4+PiAyXSAmIDB4ZmY7XG5cblx0ICAgICAgICAvLyBSZW1vdmUgcGFkZGluZ1xuXHQgICAgICAgIGRhdGEuc2lnQnl0ZXMgLT0gblBhZGRpbmdCeXRlcztcblx0ICAgIH1cblx0fTtcblxuXG5cdHJldHVybiBDcnlwdG9KUy5wYWQuQW5zaXg5MjM7XG5cbn0pKTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L2NyeXB0by1qcy9wYWQtYW5zaXg5MjMuanMiLCI7KGZ1bmN0aW9uIChyb290LCBmYWN0b3J5LCB1bmRlZikge1xuXHRpZiAodHlwZW9mIGV4cG9ydHMgPT09IFwib2JqZWN0XCIpIHtcblx0XHQvLyBDb21tb25KU1xuXHRcdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZShcIi4vY29yZVwiKSwgcmVxdWlyZShcIi4vY2lwaGVyLWNvcmVcIikpO1xuXHR9XG5cdGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kKSB7XG5cdFx0Ly8gQU1EXG5cdFx0ZGVmaW5lKFtcIi4vY29yZVwiLCBcIi4vY2lwaGVyLWNvcmVcIl0sIGZhY3RvcnkpO1xuXHR9XG5cdGVsc2Uge1xuXHRcdC8vIEdsb2JhbCAoYnJvd3Nlcilcblx0XHRmYWN0b3J5KHJvb3QuQ3J5cHRvSlMpO1xuXHR9XG59KHRoaXMsIGZ1bmN0aW9uIChDcnlwdG9KUykge1xuXG5cdC8qKlxuXHQgKiBJU08gMTAxMjYgcGFkZGluZyBzdHJhdGVneS5cblx0ICovXG5cdENyeXB0b0pTLnBhZC5Jc28xMDEyNiA9IHtcblx0ICAgIHBhZDogZnVuY3Rpb24gKGRhdGEsIGJsb2NrU2l6ZSkge1xuXHQgICAgICAgIC8vIFNob3J0Y3V0XG5cdCAgICAgICAgdmFyIGJsb2NrU2l6ZUJ5dGVzID0gYmxvY2tTaXplICogNDtcblxuXHQgICAgICAgIC8vIENvdW50IHBhZGRpbmcgYnl0ZXNcblx0ICAgICAgICB2YXIgblBhZGRpbmdCeXRlcyA9IGJsb2NrU2l6ZUJ5dGVzIC0gZGF0YS5zaWdCeXRlcyAlIGJsb2NrU2l6ZUJ5dGVzO1xuXG5cdCAgICAgICAgLy8gUGFkXG5cdCAgICAgICAgZGF0YS5jb25jYXQoQ3J5cHRvSlMubGliLldvcmRBcnJheS5yYW5kb20oblBhZGRpbmdCeXRlcyAtIDEpKS5cblx0ICAgICAgICAgICAgIGNvbmNhdChDcnlwdG9KUy5saWIuV29yZEFycmF5LmNyZWF0ZShbblBhZGRpbmdCeXRlcyA8PCAyNF0sIDEpKTtcblx0ICAgIH0sXG5cblx0ICAgIHVucGFkOiBmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICAgIC8vIEdldCBudW1iZXIgb2YgcGFkZGluZyBieXRlcyBmcm9tIGxhc3QgYnl0ZVxuXHQgICAgICAgIHZhciBuUGFkZGluZ0J5dGVzID0gZGF0YS53b3Jkc1soZGF0YS5zaWdCeXRlcyAtIDEpID4+PiAyXSAmIDB4ZmY7XG5cblx0ICAgICAgICAvLyBSZW1vdmUgcGFkZGluZ1xuXHQgICAgICAgIGRhdGEuc2lnQnl0ZXMgLT0gblBhZGRpbmdCeXRlcztcblx0ICAgIH1cblx0fTtcblxuXG5cdHJldHVybiBDcnlwdG9KUy5wYWQuSXNvMTAxMjY7XG5cbn0pKTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L2NyeXB0by1qcy9wYWQtaXNvMTAxMjYuanMiLCI7KGZ1bmN0aW9uIChyb290LCBmYWN0b3J5LCB1bmRlZikge1xuXHRpZiAodHlwZW9mIGV4cG9ydHMgPT09IFwib2JqZWN0XCIpIHtcblx0XHQvLyBDb21tb25KU1xuXHRcdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZShcIi4vY29yZVwiKSwgcmVxdWlyZShcIi4vY2lwaGVyLWNvcmVcIikpO1xuXHR9XG5cdGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kKSB7XG5cdFx0Ly8gQU1EXG5cdFx0ZGVmaW5lKFtcIi4vY29yZVwiLCBcIi4vY2lwaGVyLWNvcmVcIl0sIGZhY3RvcnkpO1xuXHR9XG5cdGVsc2Uge1xuXHRcdC8vIEdsb2JhbCAoYnJvd3Nlcilcblx0XHRmYWN0b3J5KHJvb3QuQ3J5cHRvSlMpO1xuXHR9XG59KHRoaXMsIGZ1bmN0aW9uIChDcnlwdG9KUykge1xuXG5cdC8qKlxuXHQgKiBJU08vSUVDIDk3OTctMSBQYWRkaW5nIE1ldGhvZCAyLlxuXHQgKi9cblx0Q3J5cHRvSlMucGFkLklzbzk3OTcxID0ge1xuXHQgICAgcGFkOiBmdW5jdGlvbiAoZGF0YSwgYmxvY2tTaXplKSB7XG5cdCAgICAgICAgLy8gQWRkIDB4ODAgYnl0ZVxuXHQgICAgICAgIGRhdGEuY29uY2F0KENyeXB0b0pTLmxpYi5Xb3JkQXJyYXkuY3JlYXRlKFsweDgwMDAwMDAwXSwgMSkpO1xuXG5cdCAgICAgICAgLy8gWmVybyBwYWQgdGhlIHJlc3Rcblx0ICAgICAgICBDcnlwdG9KUy5wYWQuWmVyb1BhZGRpbmcucGFkKGRhdGEsIGJsb2NrU2l6ZSk7XG5cdCAgICB9LFxuXG5cdCAgICB1bnBhZDogZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgICAvLyBSZW1vdmUgemVybyBwYWRkaW5nXG5cdCAgICAgICAgQ3J5cHRvSlMucGFkLlplcm9QYWRkaW5nLnVucGFkKGRhdGEpO1xuXG5cdCAgICAgICAgLy8gUmVtb3ZlIG9uZSBtb3JlIGJ5dGUgLS0gdGhlIDB4ODAgYnl0ZVxuXHQgICAgICAgIGRhdGEuc2lnQnl0ZXMtLTtcblx0ICAgIH1cblx0fTtcblxuXG5cdHJldHVybiBDcnlwdG9KUy5wYWQuSXNvOTc5NzE7XG5cbn0pKTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L2NyeXB0by1qcy9wYWQtaXNvOTc5NzEuanMiLCI7KGZ1bmN0aW9uIChyb290LCBmYWN0b3J5LCB1bmRlZikge1xuXHRpZiAodHlwZW9mIGV4cG9ydHMgPT09IFwib2JqZWN0XCIpIHtcblx0XHQvLyBDb21tb25KU1xuXHRcdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZShcIi4vY29yZVwiKSwgcmVxdWlyZShcIi4vY2lwaGVyLWNvcmVcIikpO1xuXHR9XG5cdGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kKSB7XG5cdFx0Ly8gQU1EXG5cdFx0ZGVmaW5lKFtcIi4vY29yZVwiLCBcIi4vY2lwaGVyLWNvcmVcIl0sIGZhY3RvcnkpO1xuXHR9XG5cdGVsc2Uge1xuXHRcdC8vIEdsb2JhbCAoYnJvd3Nlcilcblx0XHRmYWN0b3J5KHJvb3QuQ3J5cHRvSlMpO1xuXHR9XG59KHRoaXMsIGZ1bmN0aW9uIChDcnlwdG9KUykge1xuXG5cdC8qKlxuXHQgKiBBIG5vb3AgcGFkZGluZyBzdHJhdGVneS5cblx0ICovXG5cdENyeXB0b0pTLnBhZC5Ob1BhZGRpbmcgPSB7XG5cdCAgICBwYWQ6IGZ1bmN0aW9uICgpIHtcblx0ICAgIH0sXG5cblx0ICAgIHVucGFkOiBmdW5jdGlvbiAoKSB7XG5cdCAgICB9XG5cdH07XG5cblxuXHRyZXR1cm4gQ3J5cHRvSlMucGFkLk5vUGFkZGluZztcblxufSkpO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vY3J5cHRvLWpzL3BhZC1ub3BhZGRpbmcuanMiLCI7KGZ1bmN0aW9uIChyb290LCBmYWN0b3J5LCB1bmRlZikge1xuXHRpZiAodHlwZW9mIGV4cG9ydHMgPT09IFwib2JqZWN0XCIpIHtcblx0XHQvLyBDb21tb25KU1xuXHRcdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZShcIi4vY29yZVwiKSwgcmVxdWlyZShcIi4vY2lwaGVyLWNvcmVcIikpO1xuXHR9XG5cdGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kKSB7XG5cdFx0Ly8gQU1EXG5cdFx0ZGVmaW5lKFtcIi4vY29yZVwiLCBcIi4vY2lwaGVyLWNvcmVcIl0sIGZhY3RvcnkpO1xuXHR9XG5cdGVsc2Uge1xuXHRcdC8vIEdsb2JhbCAoYnJvd3Nlcilcblx0XHRmYWN0b3J5KHJvb3QuQ3J5cHRvSlMpO1xuXHR9XG59KHRoaXMsIGZ1bmN0aW9uIChDcnlwdG9KUykge1xuXG5cdC8qKlxuXHQgKiBaZXJvIHBhZGRpbmcgc3RyYXRlZ3kuXG5cdCAqL1xuXHRDcnlwdG9KUy5wYWQuWmVyb1BhZGRpbmcgPSB7XG5cdCAgICBwYWQ6IGZ1bmN0aW9uIChkYXRhLCBibG9ja1NpemUpIHtcblx0ICAgICAgICAvLyBTaG9ydGN1dFxuXHQgICAgICAgIHZhciBibG9ja1NpemVCeXRlcyA9IGJsb2NrU2l6ZSAqIDQ7XG5cblx0ICAgICAgICAvLyBQYWRcblx0ICAgICAgICBkYXRhLmNsYW1wKCk7XG5cdCAgICAgICAgZGF0YS5zaWdCeXRlcyArPSBibG9ja1NpemVCeXRlcyAtICgoZGF0YS5zaWdCeXRlcyAlIGJsb2NrU2l6ZUJ5dGVzKSB8fCBibG9ja1NpemVCeXRlcyk7XG5cdCAgICB9LFxuXG5cdCAgICB1bnBhZDogZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgICAvLyBTaG9ydGN1dFxuXHQgICAgICAgIHZhciBkYXRhV29yZHMgPSBkYXRhLndvcmRzO1xuXG5cdCAgICAgICAgLy8gVW5wYWRcblx0ICAgICAgICB2YXIgaSA9IGRhdGEuc2lnQnl0ZXMgLSAxO1xuXHQgICAgICAgIHdoaWxlICghKChkYXRhV29yZHNbaSA+Pj4gMl0gPj4+ICgyNCAtIChpICUgNCkgKiA4KSkgJiAweGZmKSkge1xuXHQgICAgICAgICAgICBpLS07XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGRhdGEuc2lnQnl0ZXMgPSBpICsgMTtcblx0ICAgIH1cblx0fTtcblxuXG5cdHJldHVybiBDcnlwdG9KUy5wYWQuWmVyb1BhZGRpbmc7XG5cbn0pKTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L2NyeXB0by1qcy9wYWQtemVyb3BhZGRpbmcuanMiLCI7KGZ1bmN0aW9uIChyb290LCBmYWN0b3J5LCB1bmRlZikge1xuXHRpZiAodHlwZW9mIGV4cG9ydHMgPT09IFwib2JqZWN0XCIpIHtcblx0XHQvLyBDb21tb25KU1xuXHRcdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZShcIi4vY29yZVwiKSwgcmVxdWlyZShcIi4vc2hhMVwiKSwgcmVxdWlyZShcIi4vaG1hY1wiKSk7XG5cdH1cblx0ZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIHtcblx0XHQvLyBBTURcblx0XHRkZWZpbmUoW1wiLi9jb3JlXCIsIFwiLi9zaGExXCIsIFwiLi9obWFjXCJdLCBmYWN0b3J5KTtcblx0fVxuXHRlbHNlIHtcblx0XHQvLyBHbG9iYWwgKGJyb3dzZXIpXG5cdFx0ZmFjdG9yeShyb290LkNyeXB0b0pTKTtcblx0fVxufSh0aGlzLCBmdW5jdGlvbiAoQ3J5cHRvSlMpIHtcblxuXHQoZnVuY3Rpb24gKCkge1xuXHQgICAgLy8gU2hvcnRjdXRzXG5cdCAgICB2YXIgQyA9IENyeXB0b0pTO1xuXHQgICAgdmFyIENfbGliID0gQy5saWI7XG5cdCAgICB2YXIgQmFzZSA9IENfbGliLkJhc2U7XG5cdCAgICB2YXIgV29yZEFycmF5ID0gQ19saWIuV29yZEFycmF5O1xuXHQgICAgdmFyIENfYWxnbyA9IEMuYWxnbztcblx0ICAgIHZhciBTSEExID0gQ19hbGdvLlNIQTE7XG5cdCAgICB2YXIgSE1BQyA9IENfYWxnby5ITUFDO1xuXG5cdCAgICAvKipcblx0ICAgICAqIFBhc3N3b3JkLUJhc2VkIEtleSBEZXJpdmF0aW9uIEZ1bmN0aW9uIDIgYWxnb3JpdGhtLlxuXHQgICAgICovXG5cdCAgICB2YXIgUEJLREYyID0gQ19hbGdvLlBCS0RGMiA9IEJhc2UuZXh0ZW5kKHtcblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBDb25maWd1cmF0aW9uIG9wdGlvbnMuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcHJvcGVydHkge251bWJlcn0ga2V5U2l6ZSBUaGUga2V5IHNpemUgaW4gd29yZHMgdG8gZ2VuZXJhdGUuIERlZmF1bHQ6IDQgKDEyOCBiaXRzKVxuXHQgICAgICAgICAqIEBwcm9wZXJ0eSB7SGFzaGVyfSBoYXNoZXIgVGhlIGhhc2hlciB0byB1c2UuIERlZmF1bHQ6IFNIQTFcblx0ICAgICAgICAgKiBAcHJvcGVydHkge251bWJlcn0gaXRlcmF0aW9ucyBUaGUgbnVtYmVyIG9mIGl0ZXJhdGlvbnMgdG8gcGVyZm9ybS4gRGVmYXVsdDogMVxuXHQgICAgICAgICAqL1xuXHQgICAgICAgIGNmZzogQmFzZS5leHRlbmQoe1xuXHQgICAgICAgICAgICBrZXlTaXplOiAxMjgvMzIsXG5cdCAgICAgICAgICAgIGhhc2hlcjogU0hBMSxcblx0ICAgICAgICAgICAgaXRlcmF0aW9uczogMVxuXHQgICAgICAgIH0pLFxuXG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogSW5pdGlhbGl6ZXMgYSBuZXdseSBjcmVhdGVkIGtleSBkZXJpdmF0aW9uIGZ1bmN0aW9uLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGNmZyAoT3B0aW9uYWwpIFRoZSBjb25maWd1cmF0aW9uIG9wdGlvbnMgdG8gdXNlIGZvciB0aGUgZGVyaXZhdGlvbi5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBleGFtcGxlXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiAgICAgdmFyIGtkZiA9IENyeXB0b0pTLmFsZ28uUEJLREYyLmNyZWF0ZSgpO1xuXHQgICAgICAgICAqICAgICB2YXIga2RmID0gQ3J5cHRvSlMuYWxnby5QQktERjIuY3JlYXRlKHsga2V5U2l6ZTogOCB9KTtcblx0ICAgICAgICAgKiAgICAgdmFyIGtkZiA9IENyeXB0b0pTLmFsZ28uUEJLREYyLmNyZWF0ZSh7IGtleVNpemU6IDgsIGl0ZXJhdGlvbnM6IDEwMDAgfSk7XG5cdCAgICAgICAgICovXG5cdCAgICAgICAgaW5pdDogZnVuY3Rpb24gKGNmZykge1xuXHQgICAgICAgICAgICB0aGlzLmNmZyA9IHRoaXMuY2ZnLmV4dGVuZChjZmcpO1xuXHQgICAgICAgIH0sXG5cblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBDb21wdXRlcyB0aGUgUGFzc3dvcmQtQmFzZWQgS2V5IERlcml2YXRpb24gRnVuY3Rpb24gMi5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBwYXJhbSB7V29yZEFycmF5fHN0cmluZ30gcGFzc3dvcmQgVGhlIHBhc3N3b3JkLlxuXHQgICAgICAgICAqIEBwYXJhbSB7V29yZEFycmF5fHN0cmluZ30gc2FsdCBBIHNhbHQuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcmV0dXJuIHtXb3JkQXJyYXl9IFRoZSBkZXJpdmVkIGtleS5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBleGFtcGxlXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiAgICAgdmFyIGtleSA9IGtkZi5jb21wdXRlKHBhc3N3b3JkLCBzYWx0KTtcblx0ICAgICAgICAgKi9cblx0ICAgICAgICBjb21wdXRlOiBmdW5jdGlvbiAocGFzc3dvcmQsIHNhbHQpIHtcblx0ICAgICAgICAgICAgLy8gU2hvcnRjdXRcblx0ICAgICAgICAgICAgdmFyIGNmZyA9IHRoaXMuY2ZnO1xuXG5cdCAgICAgICAgICAgIC8vIEluaXQgSE1BQ1xuXHQgICAgICAgICAgICB2YXIgaG1hYyA9IEhNQUMuY3JlYXRlKGNmZy5oYXNoZXIsIHBhc3N3b3JkKTtcblxuXHQgICAgICAgICAgICAvLyBJbml0aWFsIHZhbHVlc1xuXHQgICAgICAgICAgICB2YXIgZGVyaXZlZEtleSA9IFdvcmRBcnJheS5jcmVhdGUoKTtcblx0ICAgICAgICAgICAgdmFyIGJsb2NrSW5kZXggPSBXb3JkQXJyYXkuY3JlYXRlKFsweDAwMDAwMDAxXSk7XG5cblx0ICAgICAgICAgICAgLy8gU2hvcnRjdXRzXG5cdCAgICAgICAgICAgIHZhciBkZXJpdmVkS2V5V29yZHMgPSBkZXJpdmVkS2V5LndvcmRzO1xuXHQgICAgICAgICAgICB2YXIgYmxvY2tJbmRleFdvcmRzID0gYmxvY2tJbmRleC53b3Jkcztcblx0ICAgICAgICAgICAgdmFyIGtleVNpemUgPSBjZmcua2V5U2l6ZTtcblx0ICAgICAgICAgICAgdmFyIGl0ZXJhdGlvbnMgPSBjZmcuaXRlcmF0aW9ucztcblxuXHQgICAgICAgICAgICAvLyBHZW5lcmF0ZSBrZXlcblx0ICAgICAgICAgICAgd2hpbGUgKGRlcml2ZWRLZXlXb3Jkcy5sZW5ndGggPCBrZXlTaXplKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgYmxvY2sgPSBobWFjLnVwZGF0ZShzYWx0KS5maW5hbGl6ZShibG9ja0luZGV4KTtcblx0ICAgICAgICAgICAgICAgIGhtYWMucmVzZXQoKTtcblxuXHQgICAgICAgICAgICAgICAgLy8gU2hvcnRjdXRzXG5cdCAgICAgICAgICAgICAgICB2YXIgYmxvY2tXb3JkcyA9IGJsb2NrLndvcmRzO1xuXHQgICAgICAgICAgICAgICAgdmFyIGJsb2NrV29yZHNMZW5ndGggPSBibG9ja1dvcmRzLmxlbmd0aDtcblxuXHQgICAgICAgICAgICAgICAgLy8gSXRlcmF0aW9uc1xuXHQgICAgICAgICAgICAgICAgdmFyIGludGVybWVkaWF0ZSA9IGJsb2NrO1xuXHQgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBpdGVyYXRpb25zOyBpKyspIHtcblx0ICAgICAgICAgICAgICAgICAgICBpbnRlcm1lZGlhdGUgPSBobWFjLmZpbmFsaXplKGludGVybWVkaWF0ZSk7XG5cdCAgICAgICAgICAgICAgICAgICAgaG1hYy5yZXNldCgpO1xuXG5cdCAgICAgICAgICAgICAgICAgICAgLy8gU2hvcnRjdXRcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgaW50ZXJtZWRpYXRlV29yZHMgPSBpbnRlcm1lZGlhdGUud29yZHM7XG5cblx0ICAgICAgICAgICAgICAgICAgICAvLyBYT1IgaW50ZXJtZWRpYXRlIHdpdGggYmxvY2tcblx0ICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGJsb2NrV29yZHNMZW5ndGg7IGorKykge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBibG9ja1dvcmRzW2pdIF49IGludGVybWVkaWF0ZVdvcmRzW2pdO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAgICAgZGVyaXZlZEtleS5jb25jYXQoYmxvY2spO1xuXHQgICAgICAgICAgICAgICAgYmxvY2tJbmRleFdvcmRzWzBdKys7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgZGVyaXZlZEtleS5zaWdCeXRlcyA9IGtleVNpemUgKiA0O1xuXG5cdCAgICAgICAgICAgIHJldHVybiBkZXJpdmVkS2V5O1xuXHQgICAgICAgIH1cblx0ICAgIH0pO1xuXG5cdCAgICAvKipcblx0ICAgICAqIENvbXB1dGVzIHRoZSBQYXNzd29yZC1CYXNlZCBLZXkgRGVyaXZhdGlvbiBGdW5jdGlvbiAyLlxuXHQgICAgICpcblx0ICAgICAqIEBwYXJhbSB7V29yZEFycmF5fHN0cmluZ30gcGFzc3dvcmQgVGhlIHBhc3N3b3JkLlxuXHQgICAgICogQHBhcmFtIHtXb3JkQXJyYXl8c3RyaW5nfSBzYWx0IEEgc2FsdC5cblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjZmcgKE9wdGlvbmFsKSBUaGUgY29uZmlndXJhdGlvbiBvcHRpb25zIHRvIHVzZSBmb3IgdGhpcyBjb21wdXRhdGlvbi5cblx0ICAgICAqXG5cdCAgICAgKiBAcmV0dXJuIHtXb3JkQXJyYXl9IFRoZSBkZXJpdmVkIGtleS5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiAgICAgdmFyIGtleSA9IENyeXB0b0pTLlBCS0RGMihwYXNzd29yZCwgc2FsdCk7XG5cdCAgICAgKiAgICAgdmFyIGtleSA9IENyeXB0b0pTLlBCS0RGMihwYXNzd29yZCwgc2FsdCwgeyBrZXlTaXplOiA4IH0pO1xuXHQgICAgICogICAgIHZhciBrZXkgPSBDcnlwdG9KUy5QQktERjIocGFzc3dvcmQsIHNhbHQsIHsga2V5U2l6ZTogOCwgaXRlcmF0aW9uczogMTAwMCB9KTtcblx0ICAgICAqL1xuXHQgICAgQy5QQktERjIgPSBmdW5jdGlvbiAocGFzc3dvcmQsIHNhbHQsIGNmZykge1xuXHQgICAgICAgIHJldHVybiBQQktERjIuY3JlYXRlKGNmZykuY29tcHV0ZShwYXNzd29yZCwgc2FsdCk7XG5cdCAgICB9O1xuXHR9KCkpO1xuXG5cblx0cmV0dXJuIENyeXB0b0pTLlBCS0RGMjtcblxufSkpO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vY3J5cHRvLWpzL3Bia2RmMi5qcyIsIjsoZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnksIHVuZGVmKSB7XG5cdGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gXCJvYmplY3RcIikge1xuXHRcdC8vIENvbW1vbkpTXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKFwiLi9jb3JlXCIpLCByZXF1aXJlKFwiLi9lbmMtYmFzZTY0XCIpLCByZXF1aXJlKFwiLi9tZDVcIiksIHJlcXVpcmUoXCIuL2V2cGtkZlwiKSwgcmVxdWlyZShcIi4vY2lwaGVyLWNvcmVcIikpO1xuXHR9XG5cdGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kKSB7XG5cdFx0Ly8gQU1EXG5cdFx0ZGVmaW5lKFtcIi4vY29yZVwiLCBcIi4vZW5jLWJhc2U2NFwiLCBcIi4vbWQ1XCIsIFwiLi9ldnBrZGZcIiwgXCIuL2NpcGhlci1jb3JlXCJdLCBmYWN0b3J5KTtcblx0fVxuXHRlbHNlIHtcblx0XHQvLyBHbG9iYWwgKGJyb3dzZXIpXG5cdFx0ZmFjdG9yeShyb290LkNyeXB0b0pTKTtcblx0fVxufSh0aGlzLCBmdW5jdGlvbiAoQ3J5cHRvSlMpIHtcblxuXHQoZnVuY3Rpb24gKCkge1xuXHQgICAgLy8gU2hvcnRjdXRzXG5cdCAgICB2YXIgQyA9IENyeXB0b0pTO1xuXHQgICAgdmFyIENfbGliID0gQy5saWI7XG5cdCAgICB2YXIgU3RyZWFtQ2lwaGVyID0gQ19saWIuU3RyZWFtQ2lwaGVyO1xuXHQgICAgdmFyIENfYWxnbyA9IEMuYWxnbztcblxuXHQgICAgLy8gUmV1c2FibGUgb2JqZWN0c1xuXHQgICAgdmFyIFMgID0gW107XG5cdCAgICB2YXIgQ18gPSBbXTtcblx0ICAgIHZhciBHICA9IFtdO1xuXG5cdCAgICAvKipcblx0ICAgICAqIFJhYmJpdCBzdHJlYW0gY2lwaGVyIGFsZ29yaXRobS5cblx0ICAgICAqXG5cdCAgICAgKiBUaGlzIGlzIGEgbGVnYWN5IHZlcnNpb24gdGhhdCBuZWdsZWN0ZWQgdG8gY29udmVydCB0aGUga2V5IHRvIGxpdHRsZS1lbmRpYW4uXG5cdCAgICAgKiBUaGlzIGVycm9yIGRvZXNuJ3QgYWZmZWN0IHRoZSBjaXBoZXIncyBzZWN1cml0eSxcblx0ICAgICAqIGJ1dCBpdCBkb2VzIGFmZmVjdCBpdHMgY29tcGF0aWJpbGl0eSB3aXRoIG90aGVyIGltcGxlbWVudGF0aW9ucy5cblx0ICAgICAqL1xuXHQgICAgdmFyIFJhYmJpdExlZ2FjeSA9IENfYWxnby5SYWJiaXRMZWdhY3kgPSBTdHJlYW1DaXBoZXIuZXh0ZW5kKHtcblx0ICAgICAgICBfZG9SZXNldDogZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAvLyBTaG9ydGN1dHNcblx0ICAgICAgICAgICAgdmFyIEsgPSB0aGlzLl9rZXkud29yZHM7XG5cdCAgICAgICAgICAgIHZhciBpdiA9IHRoaXMuY2ZnLml2O1xuXG5cdCAgICAgICAgICAgIC8vIEdlbmVyYXRlIGluaXRpYWwgc3RhdGUgdmFsdWVzXG5cdCAgICAgICAgICAgIHZhciBYID0gdGhpcy5fWCA9IFtcblx0ICAgICAgICAgICAgICAgIEtbMF0sIChLWzNdIDw8IDE2KSB8IChLWzJdID4+PiAxNiksXG5cdCAgICAgICAgICAgICAgICBLWzFdLCAoS1swXSA8PCAxNikgfCAoS1szXSA+Pj4gMTYpLFxuXHQgICAgICAgICAgICAgICAgS1syXSwgKEtbMV0gPDwgMTYpIHwgKEtbMF0gPj4+IDE2KSxcblx0ICAgICAgICAgICAgICAgIEtbM10sIChLWzJdIDw8IDE2KSB8IChLWzFdID4+PiAxNilcblx0ICAgICAgICAgICAgXTtcblxuXHQgICAgICAgICAgICAvLyBHZW5lcmF0ZSBpbml0aWFsIGNvdW50ZXIgdmFsdWVzXG5cdCAgICAgICAgICAgIHZhciBDID0gdGhpcy5fQyA9IFtcblx0ICAgICAgICAgICAgICAgIChLWzJdIDw8IDE2KSB8IChLWzJdID4+PiAxNiksIChLWzBdICYgMHhmZmZmMDAwMCkgfCAoS1sxXSAmIDB4MDAwMGZmZmYpLFxuXHQgICAgICAgICAgICAgICAgKEtbM10gPDwgMTYpIHwgKEtbM10gPj4+IDE2KSwgKEtbMV0gJiAweGZmZmYwMDAwKSB8IChLWzJdICYgMHgwMDAwZmZmZiksXG5cdCAgICAgICAgICAgICAgICAoS1swXSA8PCAxNikgfCAoS1swXSA+Pj4gMTYpLCAoS1syXSAmIDB4ZmZmZjAwMDApIHwgKEtbM10gJiAweDAwMDBmZmZmKSxcblx0ICAgICAgICAgICAgICAgIChLWzFdIDw8IDE2KSB8IChLWzFdID4+PiAxNiksIChLWzNdICYgMHhmZmZmMDAwMCkgfCAoS1swXSAmIDB4MDAwMGZmZmYpXG5cdCAgICAgICAgICAgIF07XG5cblx0ICAgICAgICAgICAgLy8gQ2FycnkgYml0XG5cdCAgICAgICAgICAgIHRoaXMuX2IgPSAwO1xuXG5cdCAgICAgICAgICAgIC8vIEl0ZXJhdGUgdGhlIHN5c3RlbSBmb3VyIHRpbWVzXG5cdCAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNDsgaSsrKSB7XG5cdCAgICAgICAgICAgICAgICBuZXh0U3RhdGUuY2FsbCh0aGlzKTtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIC8vIE1vZGlmeSB0aGUgY291bnRlcnNcblx0ICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA4OyBpKyspIHtcblx0ICAgICAgICAgICAgICAgIENbaV0gXj0gWFsoaSArIDQpICYgN107XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAvLyBJViBzZXR1cFxuXHQgICAgICAgICAgICBpZiAoaXYpIHtcblx0ICAgICAgICAgICAgICAgIC8vIFNob3J0Y3V0c1xuXHQgICAgICAgICAgICAgICAgdmFyIElWID0gaXYud29yZHM7XG5cdCAgICAgICAgICAgICAgICB2YXIgSVZfMCA9IElWWzBdO1xuXHQgICAgICAgICAgICAgICAgdmFyIElWXzEgPSBJVlsxXTtcblxuXHQgICAgICAgICAgICAgICAgLy8gR2VuZXJhdGUgZm91ciBzdWJ2ZWN0b3JzXG5cdCAgICAgICAgICAgICAgICB2YXIgaTAgPSAoKChJVl8wIDw8IDgpIHwgKElWXzAgPj4+IDI0KSkgJiAweDAwZmYwMGZmKSB8ICgoKElWXzAgPDwgMjQpIHwgKElWXzAgPj4+IDgpKSAmIDB4ZmYwMGZmMDApO1xuXHQgICAgICAgICAgICAgICAgdmFyIGkyID0gKCgoSVZfMSA8PCA4KSB8IChJVl8xID4+PiAyNCkpICYgMHgwMGZmMDBmZikgfCAoKChJVl8xIDw8IDI0KSB8IChJVl8xID4+PiA4KSkgJiAweGZmMDBmZjAwKTtcblx0ICAgICAgICAgICAgICAgIHZhciBpMSA9IChpMCA+Pj4gMTYpIHwgKGkyICYgMHhmZmZmMDAwMCk7XG5cdCAgICAgICAgICAgICAgICB2YXIgaTMgPSAoaTIgPDwgMTYpICB8IChpMCAmIDB4MDAwMGZmZmYpO1xuXG5cdCAgICAgICAgICAgICAgICAvLyBNb2RpZnkgY291bnRlciB2YWx1ZXNcblx0ICAgICAgICAgICAgICAgIENbMF0gXj0gaTA7XG5cdCAgICAgICAgICAgICAgICBDWzFdIF49IGkxO1xuXHQgICAgICAgICAgICAgICAgQ1syXSBePSBpMjtcblx0ICAgICAgICAgICAgICAgIENbM10gXj0gaTM7XG5cdCAgICAgICAgICAgICAgICBDWzRdIF49IGkwO1xuXHQgICAgICAgICAgICAgICAgQ1s1XSBePSBpMTtcblx0ICAgICAgICAgICAgICAgIENbNl0gXj0gaTI7XG5cdCAgICAgICAgICAgICAgICBDWzddIF49IGkzO1xuXG5cdCAgICAgICAgICAgICAgICAvLyBJdGVyYXRlIHRoZSBzeXN0ZW0gZm91ciB0aW1lc1xuXHQgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA0OyBpKyspIHtcblx0ICAgICAgICAgICAgICAgICAgICBuZXh0U3RhdGUuY2FsbCh0aGlzKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0sXG5cblx0ICAgICAgICBfZG9Qcm9jZXNzQmxvY2s6IGZ1bmN0aW9uIChNLCBvZmZzZXQpIHtcblx0ICAgICAgICAgICAgLy8gU2hvcnRjdXRcblx0ICAgICAgICAgICAgdmFyIFggPSB0aGlzLl9YO1xuXG5cdCAgICAgICAgICAgIC8vIEl0ZXJhdGUgdGhlIHN5c3RlbVxuXHQgICAgICAgICAgICBuZXh0U3RhdGUuY2FsbCh0aGlzKTtcblxuXHQgICAgICAgICAgICAvLyBHZW5lcmF0ZSBmb3VyIGtleXN0cmVhbSB3b3Jkc1xuXHQgICAgICAgICAgICBTWzBdID0gWFswXSBeIChYWzVdID4+PiAxNikgXiAoWFszXSA8PCAxNik7XG5cdCAgICAgICAgICAgIFNbMV0gPSBYWzJdIF4gKFhbN10gPj4+IDE2KSBeIChYWzVdIDw8IDE2KTtcblx0ICAgICAgICAgICAgU1syXSA9IFhbNF0gXiAoWFsxXSA+Pj4gMTYpIF4gKFhbN10gPDwgMTYpO1xuXHQgICAgICAgICAgICBTWzNdID0gWFs2XSBeIChYWzNdID4+PiAxNikgXiAoWFsxXSA8PCAxNik7XG5cblx0ICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA0OyBpKyspIHtcblx0ICAgICAgICAgICAgICAgIC8vIFN3YXAgZW5kaWFuXG5cdCAgICAgICAgICAgICAgICBTW2ldID0gKCgoU1tpXSA8PCA4KSAgfCAoU1tpXSA+Pj4gMjQpKSAmIDB4MDBmZjAwZmYpIHxcblx0ICAgICAgICAgICAgICAgICAgICAgICAoKChTW2ldIDw8IDI0KSB8IChTW2ldID4+PiA4KSkgICYgMHhmZjAwZmYwMCk7XG5cblx0ICAgICAgICAgICAgICAgIC8vIEVuY3J5cHRcblx0ICAgICAgICAgICAgICAgIE1bb2Zmc2V0ICsgaV0gXj0gU1tpXTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0sXG5cblx0ICAgICAgICBibG9ja1NpemU6IDEyOC8zMixcblxuXHQgICAgICAgIGl2U2l6ZTogNjQvMzJcblx0ICAgIH0pO1xuXG5cdCAgICBmdW5jdGlvbiBuZXh0U3RhdGUoKSB7XG5cdCAgICAgICAgLy8gU2hvcnRjdXRzXG5cdCAgICAgICAgdmFyIFggPSB0aGlzLl9YO1xuXHQgICAgICAgIHZhciBDID0gdGhpcy5fQztcblxuXHQgICAgICAgIC8vIFNhdmUgb2xkIGNvdW50ZXIgdmFsdWVzXG5cdCAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA4OyBpKyspIHtcblx0ICAgICAgICAgICAgQ19baV0gPSBDW2ldO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIC8vIENhbGN1bGF0ZSBuZXcgY291bnRlciB2YWx1ZXNcblx0ICAgICAgICBDWzBdID0gKENbMF0gKyAweDRkMzRkMzRkICsgdGhpcy5fYikgfCAwO1xuXHQgICAgICAgIENbMV0gPSAoQ1sxXSArIDB4ZDM0ZDM0ZDMgKyAoKENbMF0gPj4+IDApIDwgKENfWzBdID4+PiAwKSA/IDEgOiAwKSkgfCAwO1xuXHQgICAgICAgIENbMl0gPSAoQ1syXSArIDB4MzRkMzRkMzQgKyAoKENbMV0gPj4+IDApIDwgKENfWzFdID4+PiAwKSA/IDEgOiAwKSkgfCAwO1xuXHQgICAgICAgIENbM10gPSAoQ1szXSArIDB4NGQzNGQzNGQgKyAoKENbMl0gPj4+IDApIDwgKENfWzJdID4+PiAwKSA/IDEgOiAwKSkgfCAwO1xuXHQgICAgICAgIENbNF0gPSAoQ1s0XSArIDB4ZDM0ZDM0ZDMgKyAoKENbM10gPj4+IDApIDwgKENfWzNdID4+PiAwKSA/IDEgOiAwKSkgfCAwO1xuXHQgICAgICAgIENbNV0gPSAoQ1s1XSArIDB4MzRkMzRkMzQgKyAoKENbNF0gPj4+IDApIDwgKENfWzRdID4+PiAwKSA/IDEgOiAwKSkgfCAwO1xuXHQgICAgICAgIENbNl0gPSAoQ1s2XSArIDB4NGQzNGQzNGQgKyAoKENbNV0gPj4+IDApIDwgKENfWzVdID4+PiAwKSA/IDEgOiAwKSkgfCAwO1xuXHQgICAgICAgIENbN10gPSAoQ1s3XSArIDB4ZDM0ZDM0ZDMgKyAoKENbNl0gPj4+IDApIDwgKENfWzZdID4+PiAwKSA/IDEgOiAwKSkgfCAwO1xuXHQgICAgICAgIHRoaXMuX2IgPSAoQ1s3XSA+Pj4gMCkgPCAoQ19bN10gPj4+IDApID8gMSA6IDA7XG5cblx0ICAgICAgICAvLyBDYWxjdWxhdGUgdGhlIGctdmFsdWVzXG5cdCAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA4OyBpKyspIHtcblx0ICAgICAgICAgICAgdmFyIGd4ID0gWFtpXSArIENbaV07XG5cblx0ICAgICAgICAgICAgLy8gQ29uc3RydWN0IGhpZ2ggYW5kIGxvdyBhcmd1bWVudCBmb3Igc3F1YXJpbmdcblx0ICAgICAgICAgICAgdmFyIGdhID0gZ3ggJiAweGZmZmY7XG5cdCAgICAgICAgICAgIHZhciBnYiA9IGd4ID4+PiAxNjtcblxuXHQgICAgICAgICAgICAvLyBDYWxjdWxhdGUgaGlnaCBhbmQgbG93IHJlc3VsdCBvZiBzcXVhcmluZ1xuXHQgICAgICAgICAgICB2YXIgZ2ggPSAoKCgoZ2EgKiBnYSkgPj4+IDE3KSArIGdhICogZ2IpID4+PiAxNSkgKyBnYiAqIGdiO1xuXHQgICAgICAgICAgICB2YXIgZ2wgPSAoKChneCAmIDB4ZmZmZjAwMDApICogZ3gpIHwgMCkgKyAoKChneCAmIDB4MDAwMGZmZmYpICogZ3gpIHwgMCk7XG5cblx0ICAgICAgICAgICAgLy8gSGlnaCBYT1IgbG93XG5cdCAgICAgICAgICAgIEdbaV0gPSBnaCBeIGdsO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIC8vIENhbGN1bGF0ZSBuZXcgc3RhdGUgdmFsdWVzXG5cdCAgICAgICAgWFswXSA9IChHWzBdICsgKChHWzddIDw8IDE2KSB8IChHWzddID4+PiAxNikpICsgKChHWzZdIDw8IDE2KSB8IChHWzZdID4+PiAxNikpKSB8IDA7XG5cdCAgICAgICAgWFsxXSA9IChHWzFdICsgKChHWzBdIDw8IDgpICB8IChHWzBdID4+PiAyNCkpICsgR1s3XSkgfCAwO1xuXHQgICAgICAgIFhbMl0gPSAoR1syXSArICgoR1sxXSA8PCAxNikgfCAoR1sxXSA+Pj4gMTYpKSArICgoR1swXSA8PCAxNikgfCAoR1swXSA+Pj4gMTYpKSkgfCAwO1xuXHQgICAgICAgIFhbM10gPSAoR1szXSArICgoR1syXSA8PCA4KSAgfCAoR1syXSA+Pj4gMjQpKSArIEdbMV0pIHwgMDtcblx0ICAgICAgICBYWzRdID0gKEdbNF0gKyAoKEdbM10gPDwgMTYpIHwgKEdbM10gPj4+IDE2KSkgKyAoKEdbMl0gPDwgMTYpIHwgKEdbMl0gPj4+IDE2KSkpIHwgMDtcblx0ICAgICAgICBYWzVdID0gKEdbNV0gKyAoKEdbNF0gPDwgOCkgIHwgKEdbNF0gPj4+IDI0KSkgKyBHWzNdKSB8IDA7XG5cdCAgICAgICAgWFs2XSA9IChHWzZdICsgKChHWzVdIDw8IDE2KSB8IChHWzVdID4+PiAxNikpICsgKChHWzRdIDw8IDE2KSB8IChHWzRdID4+PiAxNikpKSB8IDA7XG5cdCAgICAgICAgWFs3XSA9IChHWzddICsgKChHWzZdIDw8IDgpICB8IChHWzZdID4+PiAyNCkpICsgR1s1XSkgfCAwO1xuXHQgICAgfVxuXG5cdCAgICAvKipcblx0ICAgICAqIFNob3J0Y3V0IGZ1bmN0aW9ucyB0byB0aGUgY2lwaGVyJ3Mgb2JqZWN0IGludGVyZmFjZS5cblx0ICAgICAqXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqICAgICB2YXIgY2lwaGVydGV4dCA9IENyeXB0b0pTLlJhYmJpdExlZ2FjeS5lbmNyeXB0KG1lc3NhZ2UsIGtleSwgY2ZnKTtcblx0ICAgICAqICAgICB2YXIgcGxhaW50ZXh0ICA9IENyeXB0b0pTLlJhYmJpdExlZ2FjeS5kZWNyeXB0KGNpcGhlcnRleHQsIGtleSwgY2ZnKTtcblx0ICAgICAqL1xuXHQgICAgQy5SYWJiaXRMZWdhY3kgPSBTdHJlYW1DaXBoZXIuX2NyZWF0ZUhlbHBlcihSYWJiaXRMZWdhY3kpO1xuXHR9KCkpO1xuXG5cblx0cmV0dXJuIENyeXB0b0pTLlJhYmJpdExlZ2FjeTtcblxufSkpO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vY3J5cHRvLWpzL3JhYmJpdC1sZWdhY3kuanMiLCI7KGZ1bmN0aW9uIChyb290LCBmYWN0b3J5LCB1bmRlZikge1xuXHRpZiAodHlwZW9mIGV4cG9ydHMgPT09IFwib2JqZWN0XCIpIHtcblx0XHQvLyBDb21tb25KU1xuXHRcdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZShcIi4vY29yZVwiKSwgcmVxdWlyZShcIi4vZW5jLWJhc2U2NFwiKSwgcmVxdWlyZShcIi4vbWQ1XCIpLCByZXF1aXJlKFwiLi9ldnBrZGZcIiksIHJlcXVpcmUoXCIuL2NpcGhlci1jb3JlXCIpKTtcblx0fVxuXHRlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCkge1xuXHRcdC8vIEFNRFxuXHRcdGRlZmluZShbXCIuL2NvcmVcIiwgXCIuL2VuYy1iYXNlNjRcIiwgXCIuL21kNVwiLCBcIi4vZXZwa2RmXCIsIFwiLi9jaXBoZXItY29yZVwiXSwgZmFjdG9yeSk7XG5cdH1cblx0ZWxzZSB7XG5cdFx0Ly8gR2xvYmFsIChicm93c2VyKVxuXHRcdGZhY3Rvcnkocm9vdC5DcnlwdG9KUyk7XG5cdH1cbn0odGhpcywgZnVuY3Rpb24gKENyeXB0b0pTKSB7XG5cblx0KGZ1bmN0aW9uICgpIHtcblx0ICAgIC8vIFNob3J0Y3V0c1xuXHQgICAgdmFyIEMgPSBDcnlwdG9KUztcblx0ICAgIHZhciBDX2xpYiA9IEMubGliO1xuXHQgICAgdmFyIFN0cmVhbUNpcGhlciA9IENfbGliLlN0cmVhbUNpcGhlcjtcblx0ICAgIHZhciBDX2FsZ28gPSBDLmFsZ287XG5cblx0ICAgIC8vIFJldXNhYmxlIG9iamVjdHNcblx0ICAgIHZhciBTICA9IFtdO1xuXHQgICAgdmFyIENfID0gW107XG5cdCAgICB2YXIgRyAgPSBbXTtcblxuXHQgICAgLyoqXG5cdCAgICAgKiBSYWJiaXQgc3RyZWFtIGNpcGhlciBhbGdvcml0aG1cblx0ICAgICAqL1xuXHQgICAgdmFyIFJhYmJpdCA9IENfYWxnby5SYWJiaXQgPSBTdHJlYW1DaXBoZXIuZXh0ZW5kKHtcblx0ICAgICAgICBfZG9SZXNldDogZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAvLyBTaG9ydGN1dHNcblx0ICAgICAgICAgICAgdmFyIEsgPSB0aGlzLl9rZXkud29yZHM7XG5cdCAgICAgICAgICAgIHZhciBpdiA9IHRoaXMuY2ZnLml2O1xuXG5cdCAgICAgICAgICAgIC8vIFN3YXAgZW5kaWFuXG5cdCAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNDsgaSsrKSB7XG5cdCAgICAgICAgICAgICAgICBLW2ldID0gKCgoS1tpXSA8PCA4KSAgfCAoS1tpXSA+Pj4gMjQpKSAmIDB4MDBmZjAwZmYpIHxcblx0ICAgICAgICAgICAgICAgICAgICAgICAoKChLW2ldIDw8IDI0KSB8IChLW2ldID4+PiA4KSkgICYgMHhmZjAwZmYwMCk7XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAvLyBHZW5lcmF0ZSBpbml0aWFsIHN0YXRlIHZhbHVlc1xuXHQgICAgICAgICAgICB2YXIgWCA9IHRoaXMuX1ggPSBbXG5cdCAgICAgICAgICAgICAgICBLWzBdLCAoS1szXSA8PCAxNikgfCAoS1syXSA+Pj4gMTYpLFxuXHQgICAgICAgICAgICAgICAgS1sxXSwgKEtbMF0gPDwgMTYpIHwgKEtbM10gPj4+IDE2KSxcblx0ICAgICAgICAgICAgICAgIEtbMl0sIChLWzFdIDw8IDE2KSB8IChLWzBdID4+PiAxNiksXG5cdCAgICAgICAgICAgICAgICBLWzNdLCAoS1syXSA8PCAxNikgfCAoS1sxXSA+Pj4gMTYpXG5cdCAgICAgICAgICAgIF07XG5cblx0ICAgICAgICAgICAgLy8gR2VuZXJhdGUgaW5pdGlhbCBjb3VudGVyIHZhbHVlc1xuXHQgICAgICAgICAgICB2YXIgQyA9IHRoaXMuX0MgPSBbXG5cdCAgICAgICAgICAgICAgICAoS1syXSA8PCAxNikgfCAoS1syXSA+Pj4gMTYpLCAoS1swXSAmIDB4ZmZmZjAwMDApIHwgKEtbMV0gJiAweDAwMDBmZmZmKSxcblx0ICAgICAgICAgICAgICAgIChLWzNdIDw8IDE2KSB8IChLWzNdID4+PiAxNiksIChLWzFdICYgMHhmZmZmMDAwMCkgfCAoS1syXSAmIDB4MDAwMGZmZmYpLFxuXHQgICAgICAgICAgICAgICAgKEtbMF0gPDwgMTYpIHwgKEtbMF0gPj4+IDE2KSwgKEtbMl0gJiAweGZmZmYwMDAwKSB8IChLWzNdICYgMHgwMDAwZmZmZiksXG5cdCAgICAgICAgICAgICAgICAoS1sxXSA8PCAxNikgfCAoS1sxXSA+Pj4gMTYpLCAoS1szXSAmIDB4ZmZmZjAwMDApIHwgKEtbMF0gJiAweDAwMDBmZmZmKVxuXHQgICAgICAgICAgICBdO1xuXG5cdCAgICAgICAgICAgIC8vIENhcnJ5IGJpdFxuXHQgICAgICAgICAgICB0aGlzLl9iID0gMDtcblxuXHQgICAgICAgICAgICAvLyBJdGVyYXRlIHRoZSBzeXN0ZW0gZm91ciB0aW1lc1xuXHQgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDQ7IGkrKykge1xuXHQgICAgICAgICAgICAgICAgbmV4dFN0YXRlLmNhbGwodGhpcyk7XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAvLyBNb2RpZnkgdGhlIGNvdW50ZXJzXG5cdCAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgODsgaSsrKSB7XG5cdCAgICAgICAgICAgICAgICBDW2ldIF49IFhbKGkgKyA0KSAmIDddO1xuXHQgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgLy8gSVYgc2V0dXBcblx0ICAgICAgICAgICAgaWYgKGl2KSB7XG5cdCAgICAgICAgICAgICAgICAvLyBTaG9ydGN1dHNcblx0ICAgICAgICAgICAgICAgIHZhciBJViA9IGl2LndvcmRzO1xuXHQgICAgICAgICAgICAgICAgdmFyIElWXzAgPSBJVlswXTtcblx0ICAgICAgICAgICAgICAgIHZhciBJVl8xID0gSVZbMV07XG5cblx0ICAgICAgICAgICAgICAgIC8vIEdlbmVyYXRlIGZvdXIgc3VidmVjdG9yc1xuXHQgICAgICAgICAgICAgICAgdmFyIGkwID0gKCgoSVZfMCA8PCA4KSB8IChJVl8wID4+PiAyNCkpICYgMHgwMGZmMDBmZikgfCAoKChJVl8wIDw8IDI0KSB8IChJVl8wID4+PiA4KSkgJiAweGZmMDBmZjAwKTtcblx0ICAgICAgICAgICAgICAgIHZhciBpMiA9ICgoKElWXzEgPDwgOCkgfCAoSVZfMSA+Pj4gMjQpKSAmIDB4MDBmZjAwZmYpIHwgKCgoSVZfMSA8PCAyNCkgfCAoSVZfMSA+Pj4gOCkpICYgMHhmZjAwZmYwMCk7XG5cdCAgICAgICAgICAgICAgICB2YXIgaTEgPSAoaTAgPj4+IDE2KSB8IChpMiAmIDB4ZmZmZjAwMDApO1xuXHQgICAgICAgICAgICAgICAgdmFyIGkzID0gKGkyIDw8IDE2KSAgfCAoaTAgJiAweDAwMDBmZmZmKTtcblxuXHQgICAgICAgICAgICAgICAgLy8gTW9kaWZ5IGNvdW50ZXIgdmFsdWVzXG5cdCAgICAgICAgICAgICAgICBDWzBdIF49IGkwO1xuXHQgICAgICAgICAgICAgICAgQ1sxXSBePSBpMTtcblx0ICAgICAgICAgICAgICAgIENbMl0gXj0gaTI7XG5cdCAgICAgICAgICAgICAgICBDWzNdIF49IGkzO1xuXHQgICAgICAgICAgICAgICAgQ1s0XSBePSBpMDtcblx0ICAgICAgICAgICAgICAgIENbNV0gXj0gaTE7XG5cdCAgICAgICAgICAgICAgICBDWzZdIF49IGkyO1xuXHQgICAgICAgICAgICAgICAgQ1s3XSBePSBpMztcblxuXHQgICAgICAgICAgICAgICAgLy8gSXRlcmF0ZSB0aGUgc3lzdGVtIGZvdXIgdGltZXNcblx0ICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNDsgaSsrKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgbmV4dFN0YXRlLmNhbGwodGhpcyk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9LFxuXG5cdCAgICAgICAgX2RvUHJvY2Vzc0Jsb2NrOiBmdW5jdGlvbiAoTSwgb2Zmc2V0KSB7XG5cdCAgICAgICAgICAgIC8vIFNob3J0Y3V0XG5cdCAgICAgICAgICAgIHZhciBYID0gdGhpcy5fWDtcblxuXHQgICAgICAgICAgICAvLyBJdGVyYXRlIHRoZSBzeXN0ZW1cblx0ICAgICAgICAgICAgbmV4dFN0YXRlLmNhbGwodGhpcyk7XG5cblx0ICAgICAgICAgICAgLy8gR2VuZXJhdGUgZm91ciBrZXlzdHJlYW0gd29yZHNcblx0ICAgICAgICAgICAgU1swXSA9IFhbMF0gXiAoWFs1XSA+Pj4gMTYpIF4gKFhbM10gPDwgMTYpO1xuXHQgICAgICAgICAgICBTWzFdID0gWFsyXSBeIChYWzddID4+PiAxNikgXiAoWFs1XSA8PCAxNik7XG5cdCAgICAgICAgICAgIFNbMl0gPSBYWzRdIF4gKFhbMV0gPj4+IDE2KSBeIChYWzddIDw8IDE2KTtcblx0ICAgICAgICAgICAgU1szXSA9IFhbNl0gXiAoWFszXSA+Pj4gMTYpIF4gKFhbMV0gPDwgMTYpO1xuXG5cdCAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNDsgaSsrKSB7XG5cdCAgICAgICAgICAgICAgICAvLyBTd2FwIGVuZGlhblxuXHQgICAgICAgICAgICAgICAgU1tpXSA9ICgoKFNbaV0gPDwgOCkgIHwgKFNbaV0gPj4+IDI0KSkgJiAweDAwZmYwMGZmKSB8XG5cdCAgICAgICAgICAgICAgICAgICAgICAgKCgoU1tpXSA8PCAyNCkgfCAoU1tpXSA+Pj4gOCkpICAmIDB4ZmYwMGZmMDApO1xuXG5cdCAgICAgICAgICAgICAgICAvLyBFbmNyeXB0XG5cdCAgICAgICAgICAgICAgICBNW29mZnNldCArIGldIF49IFNbaV07XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9LFxuXG5cdCAgICAgICAgYmxvY2tTaXplOiAxMjgvMzIsXG5cblx0ICAgICAgICBpdlNpemU6IDY0LzMyXG5cdCAgICB9KTtcblxuXHQgICAgZnVuY3Rpb24gbmV4dFN0YXRlKCkge1xuXHQgICAgICAgIC8vIFNob3J0Y3V0c1xuXHQgICAgICAgIHZhciBYID0gdGhpcy5fWDtcblx0ICAgICAgICB2YXIgQyA9IHRoaXMuX0M7XG5cblx0ICAgICAgICAvLyBTYXZlIG9sZCBjb3VudGVyIHZhbHVlc1xuXHQgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgODsgaSsrKSB7XG5cdCAgICAgICAgICAgIENfW2ldID0gQ1tpXTtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICAvLyBDYWxjdWxhdGUgbmV3IGNvdW50ZXIgdmFsdWVzXG5cdCAgICAgICAgQ1swXSA9IChDWzBdICsgMHg0ZDM0ZDM0ZCArIHRoaXMuX2IpIHwgMDtcblx0ICAgICAgICBDWzFdID0gKENbMV0gKyAweGQzNGQzNGQzICsgKChDWzBdID4+PiAwKSA8IChDX1swXSA+Pj4gMCkgPyAxIDogMCkpIHwgMDtcblx0ICAgICAgICBDWzJdID0gKENbMl0gKyAweDM0ZDM0ZDM0ICsgKChDWzFdID4+PiAwKSA8IChDX1sxXSA+Pj4gMCkgPyAxIDogMCkpIHwgMDtcblx0ICAgICAgICBDWzNdID0gKENbM10gKyAweDRkMzRkMzRkICsgKChDWzJdID4+PiAwKSA8IChDX1syXSA+Pj4gMCkgPyAxIDogMCkpIHwgMDtcblx0ICAgICAgICBDWzRdID0gKENbNF0gKyAweGQzNGQzNGQzICsgKChDWzNdID4+PiAwKSA8IChDX1szXSA+Pj4gMCkgPyAxIDogMCkpIHwgMDtcblx0ICAgICAgICBDWzVdID0gKENbNV0gKyAweDM0ZDM0ZDM0ICsgKChDWzRdID4+PiAwKSA8IChDX1s0XSA+Pj4gMCkgPyAxIDogMCkpIHwgMDtcblx0ICAgICAgICBDWzZdID0gKENbNl0gKyAweDRkMzRkMzRkICsgKChDWzVdID4+PiAwKSA8IChDX1s1XSA+Pj4gMCkgPyAxIDogMCkpIHwgMDtcblx0ICAgICAgICBDWzddID0gKENbN10gKyAweGQzNGQzNGQzICsgKChDWzZdID4+PiAwKSA8IChDX1s2XSA+Pj4gMCkgPyAxIDogMCkpIHwgMDtcblx0ICAgICAgICB0aGlzLl9iID0gKENbN10gPj4+IDApIDwgKENfWzddID4+PiAwKSA/IDEgOiAwO1xuXG5cdCAgICAgICAgLy8gQ2FsY3VsYXRlIHRoZSBnLXZhbHVlc1xuXHQgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgODsgaSsrKSB7XG5cdCAgICAgICAgICAgIHZhciBneCA9IFhbaV0gKyBDW2ldO1xuXG5cdCAgICAgICAgICAgIC8vIENvbnN0cnVjdCBoaWdoIGFuZCBsb3cgYXJndW1lbnQgZm9yIHNxdWFyaW5nXG5cdCAgICAgICAgICAgIHZhciBnYSA9IGd4ICYgMHhmZmZmO1xuXHQgICAgICAgICAgICB2YXIgZ2IgPSBneCA+Pj4gMTY7XG5cblx0ICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIGhpZ2ggYW5kIGxvdyByZXN1bHQgb2Ygc3F1YXJpbmdcblx0ICAgICAgICAgICAgdmFyIGdoID0gKCgoKGdhICogZ2EpID4+PiAxNykgKyBnYSAqIGdiKSA+Pj4gMTUpICsgZ2IgKiBnYjtcblx0ICAgICAgICAgICAgdmFyIGdsID0gKCgoZ3ggJiAweGZmZmYwMDAwKSAqIGd4KSB8IDApICsgKCgoZ3ggJiAweDAwMDBmZmZmKSAqIGd4KSB8IDApO1xuXG5cdCAgICAgICAgICAgIC8vIEhpZ2ggWE9SIGxvd1xuXHQgICAgICAgICAgICBHW2ldID0gZ2ggXiBnbDtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICAvLyBDYWxjdWxhdGUgbmV3IHN0YXRlIHZhbHVlc1xuXHQgICAgICAgIFhbMF0gPSAoR1swXSArICgoR1s3XSA8PCAxNikgfCAoR1s3XSA+Pj4gMTYpKSArICgoR1s2XSA8PCAxNikgfCAoR1s2XSA+Pj4gMTYpKSkgfCAwO1xuXHQgICAgICAgIFhbMV0gPSAoR1sxXSArICgoR1swXSA8PCA4KSAgfCAoR1swXSA+Pj4gMjQpKSArIEdbN10pIHwgMDtcblx0ICAgICAgICBYWzJdID0gKEdbMl0gKyAoKEdbMV0gPDwgMTYpIHwgKEdbMV0gPj4+IDE2KSkgKyAoKEdbMF0gPDwgMTYpIHwgKEdbMF0gPj4+IDE2KSkpIHwgMDtcblx0ICAgICAgICBYWzNdID0gKEdbM10gKyAoKEdbMl0gPDwgOCkgIHwgKEdbMl0gPj4+IDI0KSkgKyBHWzFdKSB8IDA7XG5cdCAgICAgICAgWFs0XSA9IChHWzRdICsgKChHWzNdIDw8IDE2KSB8IChHWzNdID4+PiAxNikpICsgKChHWzJdIDw8IDE2KSB8IChHWzJdID4+PiAxNikpKSB8IDA7XG5cdCAgICAgICAgWFs1XSA9IChHWzVdICsgKChHWzRdIDw8IDgpICB8IChHWzRdID4+PiAyNCkpICsgR1szXSkgfCAwO1xuXHQgICAgICAgIFhbNl0gPSAoR1s2XSArICgoR1s1XSA8PCAxNikgfCAoR1s1XSA+Pj4gMTYpKSArICgoR1s0XSA8PCAxNikgfCAoR1s0XSA+Pj4gMTYpKSkgfCAwO1xuXHQgICAgICAgIFhbN10gPSAoR1s3XSArICgoR1s2XSA8PCA4KSAgfCAoR1s2XSA+Pj4gMjQpKSArIEdbNV0pIHwgMDtcblx0ICAgIH1cblxuXHQgICAgLyoqXG5cdCAgICAgKiBTaG9ydGN1dCBmdW5jdGlvbnMgdG8gdGhlIGNpcGhlcidzIG9iamVjdCBpbnRlcmZhY2UuXG5cdCAgICAgKlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiAgICAgdmFyIGNpcGhlcnRleHQgPSBDcnlwdG9KUy5SYWJiaXQuZW5jcnlwdChtZXNzYWdlLCBrZXksIGNmZyk7XG5cdCAgICAgKiAgICAgdmFyIHBsYWludGV4dCAgPSBDcnlwdG9KUy5SYWJiaXQuZGVjcnlwdChjaXBoZXJ0ZXh0LCBrZXksIGNmZyk7XG5cdCAgICAgKi9cblx0ICAgIEMuUmFiYml0ID0gU3RyZWFtQ2lwaGVyLl9jcmVhdGVIZWxwZXIoUmFiYml0KTtcblx0fSgpKTtcblxuXG5cdHJldHVybiBDcnlwdG9KUy5SYWJiaXQ7XG5cbn0pKTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L2NyeXB0by1qcy9yYWJiaXQuanMiLCI7KGZ1bmN0aW9uIChyb290LCBmYWN0b3J5LCB1bmRlZikge1xuXHRpZiAodHlwZW9mIGV4cG9ydHMgPT09IFwib2JqZWN0XCIpIHtcblx0XHQvLyBDb21tb25KU1xuXHRcdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZShcIi4vY29yZVwiKSwgcmVxdWlyZShcIi4vZW5jLWJhc2U2NFwiKSwgcmVxdWlyZShcIi4vbWQ1XCIpLCByZXF1aXJlKFwiLi9ldnBrZGZcIiksIHJlcXVpcmUoXCIuL2NpcGhlci1jb3JlXCIpKTtcblx0fVxuXHRlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCkge1xuXHRcdC8vIEFNRFxuXHRcdGRlZmluZShbXCIuL2NvcmVcIiwgXCIuL2VuYy1iYXNlNjRcIiwgXCIuL21kNVwiLCBcIi4vZXZwa2RmXCIsIFwiLi9jaXBoZXItY29yZVwiXSwgZmFjdG9yeSk7XG5cdH1cblx0ZWxzZSB7XG5cdFx0Ly8gR2xvYmFsIChicm93c2VyKVxuXHRcdGZhY3Rvcnkocm9vdC5DcnlwdG9KUyk7XG5cdH1cbn0odGhpcywgZnVuY3Rpb24gKENyeXB0b0pTKSB7XG5cblx0KGZ1bmN0aW9uICgpIHtcblx0ICAgIC8vIFNob3J0Y3V0c1xuXHQgICAgdmFyIEMgPSBDcnlwdG9KUztcblx0ICAgIHZhciBDX2xpYiA9IEMubGliO1xuXHQgICAgdmFyIFN0cmVhbUNpcGhlciA9IENfbGliLlN0cmVhbUNpcGhlcjtcblx0ICAgIHZhciBDX2FsZ28gPSBDLmFsZ287XG5cblx0ICAgIC8qKlxuXHQgICAgICogUkM0IHN0cmVhbSBjaXBoZXIgYWxnb3JpdGhtLlxuXHQgICAgICovXG5cdCAgICB2YXIgUkM0ID0gQ19hbGdvLlJDNCA9IFN0cmVhbUNpcGhlci5leHRlbmQoe1xuXHQgICAgICAgIF9kb1Jlc2V0OiBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIC8vIFNob3J0Y3V0c1xuXHQgICAgICAgICAgICB2YXIga2V5ID0gdGhpcy5fa2V5O1xuXHQgICAgICAgICAgICB2YXIga2V5V29yZHMgPSBrZXkud29yZHM7XG5cdCAgICAgICAgICAgIHZhciBrZXlTaWdCeXRlcyA9IGtleS5zaWdCeXRlcztcblxuXHQgICAgICAgICAgICAvLyBJbml0IHNib3hcblx0ICAgICAgICAgICAgdmFyIFMgPSB0aGlzLl9TID0gW107XG5cdCAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMjU2OyBpKyspIHtcblx0ICAgICAgICAgICAgICAgIFNbaV0gPSBpO1xuXHQgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgLy8gS2V5IHNldHVwXG5cdCAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBqID0gMDsgaSA8IDI1NjsgaSsrKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIga2V5Qnl0ZUluZGV4ID0gaSAlIGtleVNpZ0J5dGVzO1xuXHQgICAgICAgICAgICAgICAgdmFyIGtleUJ5dGUgPSAoa2V5V29yZHNba2V5Qnl0ZUluZGV4ID4+PiAyXSA+Pj4gKDI0IC0gKGtleUJ5dGVJbmRleCAlIDQpICogOCkpICYgMHhmZjtcblxuXHQgICAgICAgICAgICAgICAgaiA9IChqICsgU1tpXSArIGtleUJ5dGUpICUgMjU2O1xuXG5cdCAgICAgICAgICAgICAgICAvLyBTd2FwXG5cdCAgICAgICAgICAgICAgICB2YXIgdCA9IFNbaV07XG5cdCAgICAgICAgICAgICAgICBTW2ldID0gU1tqXTtcblx0ICAgICAgICAgICAgICAgIFNbal0gPSB0O1xuXHQgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgLy8gQ291bnRlcnNcblx0ICAgICAgICAgICAgdGhpcy5faSA9IHRoaXMuX2ogPSAwO1xuXHQgICAgICAgIH0sXG5cblx0ICAgICAgICBfZG9Qcm9jZXNzQmxvY2s6IGZ1bmN0aW9uIChNLCBvZmZzZXQpIHtcblx0ICAgICAgICAgICAgTVtvZmZzZXRdIF49IGdlbmVyYXRlS2V5c3RyZWFtV29yZC5jYWxsKHRoaXMpO1xuXHQgICAgICAgIH0sXG5cblx0ICAgICAgICBrZXlTaXplOiAyNTYvMzIsXG5cblx0ICAgICAgICBpdlNpemU6IDBcblx0ICAgIH0pO1xuXG5cdCAgICBmdW5jdGlvbiBnZW5lcmF0ZUtleXN0cmVhbVdvcmQoKSB7XG5cdCAgICAgICAgLy8gU2hvcnRjdXRzXG5cdCAgICAgICAgdmFyIFMgPSB0aGlzLl9TO1xuXHQgICAgICAgIHZhciBpID0gdGhpcy5faTtcblx0ICAgICAgICB2YXIgaiA9IHRoaXMuX2o7XG5cblx0ICAgICAgICAvLyBHZW5lcmF0ZSBrZXlzdHJlYW0gd29yZFxuXHQgICAgICAgIHZhciBrZXlzdHJlYW1Xb3JkID0gMDtcblx0ICAgICAgICBmb3IgKHZhciBuID0gMDsgbiA8IDQ7IG4rKykge1xuXHQgICAgICAgICAgICBpID0gKGkgKyAxKSAlIDI1Njtcblx0ICAgICAgICAgICAgaiA9IChqICsgU1tpXSkgJSAyNTY7XG5cblx0ICAgICAgICAgICAgLy8gU3dhcFxuXHQgICAgICAgICAgICB2YXIgdCA9IFNbaV07XG5cdCAgICAgICAgICAgIFNbaV0gPSBTW2pdO1xuXHQgICAgICAgICAgICBTW2pdID0gdDtcblxuXHQgICAgICAgICAgICBrZXlzdHJlYW1Xb3JkIHw9IFNbKFNbaV0gKyBTW2pdKSAlIDI1Nl0gPDwgKDI0IC0gbiAqIDgpO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIC8vIFVwZGF0ZSBjb3VudGVyc1xuXHQgICAgICAgIHRoaXMuX2kgPSBpO1xuXHQgICAgICAgIHRoaXMuX2ogPSBqO1xuXG5cdCAgICAgICAgcmV0dXJuIGtleXN0cmVhbVdvcmQ7XG5cdCAgICB9XG5cblx0ICAgIC8qKlxuXHQgICAgICogU2hvcnRjdXQgZnVuY3Rpb25zIHRvIHRoZSBjaXBoZXIncyBvYmplY3QgaW50ZXJmYWNlLlxuXHQgICAgICpcblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogICAgIHZhciBjaXBoZXJ0ZXh0ID0gQ3J5cHRvSlMuUkM0LmVuY3J5cHQobWVzc2FnZSwga2V5LCBjZmcpO1xuXHQgICAgICogICAgIHZhciBwbGFpbnRleHQgID0gQ3J5cHRvSlMuUkM0LmRlY3J5cHQoY2lwaGVydGV4dCwga2V5LCBjZmcpO1xuXHQgICAgICovXG5cdCAgICBDLlJDNCA9IFN0cmVhbUNpcGhlci5fY3JlYXRlSGVscGVyKFJDNCk7XG5cblx0ICAgIC8qKlxuXHQgICAgICogTW9kaWZpZWQgUkM0IHN0cmVhbSBjaXBoZXIgYWxnb3JpdGhtLlxuXHQgICAgICovXG5cdCAgICB2YXIgUkM0RHJvcCA9IENfYWxnby5SQzREcm9wID0gUkM0LmV4dGVuZCh7XG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogQ29uZmlndXJhdGlvbiBvcHRpb25zLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHByb3BlcnR5IHtudW1iZXJ9IGRyb3AgVGhlIG51bWJlciBvZiBrZXlzdHJlYW0gd29yZHMgdG8gZHJvcC4gRGVmYXVsdCAxOTJcblx0ICAgICAgICAgKi9cblx0ICAgICAgICBjZmc6IFJDNC5jZmcuZXh0ZW5kKHtcblx0ICAgICAgICAgICAgZHJvcDogMTkyXG5cdCAgICAgICAgfSksXG5cblx0ICAgICAgICBfZG9SZXNldDogZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICBSQzQuX2RvUmVzZXQuY2FsbCh0aGlzKTtcblxuXHQgICAgICAgICAgICAvLyBEcm9wXG5cdCAgICAgICAgICAgIGZvciAodmFyIGkgPSB0aGlzLmNmZy5kcm9wOyBpID4gMDsgaS0tKSB7XG5cdCAgICAgICAgICAgICAgICBnZW5lcmF0ZUtleXN0cmVhbVdvcmQuY2FsbCh0aGlzKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgIH0pO1xuXG5cdCAgICAvKipcblx0ICAgICAqIFNob3J0Y3V0IGZ1bmN0aW9ucyB0byB0aGUgY2lwaGVyJ3Mgb2JqZWN0IGludGVyZmFjZS5cblx0ICAgICAqXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqICAgICB2YXIgY2lwaGVydGV4dCA9IENyeXB0b0pTLlJDNERyb3AuZW5jcnlwdChtZXNzYWdlLCBrZXksIGNmZyk7XG5cdCAgICAgKiAgICAgdmFyIHBsYWludGV4dCAgPSBDcnlwdG9KUy5SQzREcm9wLmRlY3J5cHQoY2lwaGVydGV4dCwga2V5LCBjZmcpO1xuXHQgICAgICovXG5cdCAgICBDLlJDNERyb3AgPSBTdHJlYW1DaXBoZXIuX2NyZWF0ZUhlbHBlcihSQzREcm9wKTtcblx0fSgpKTtcblxuXG5cdHJldHVybiBDcnlwdG9KUy5SQzQ7XG5cbn0pKTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L2NyeXB0by1qcy9yYzQuanMiLCI7KGZ1bmN0aW9uIChyb290LCBmYWN0b3J5KSB7XG5cdGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gXCJvYmplY3RcIikge1xuXHRcdC8vIENvbW1vbkpTXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKFwiLi9jb3JlXCIpKTtcblx0fVxuXHRlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCkge1xuXHRcdC8vIEFNRFxuXHRcdGRlZmluZShbXCIuL2NvcmVcIl0sIGZhY3RvcnkpO1xuXHR9XG5cdGVsc2Uge1xuXHRcdC8vIEdsb2JhbCAoYnJvd3Nlcilcblx0XHRmYWN0b3J5KHJvb3QuQ3J5cHRvSlMpO1xuXHR9XG59KHRoaXMsIGZ1bmN0aW9uIChDcnlwdG9KUykge1xuXG5cdC8qKiBAcHJlc2VydmVcblx0KGMpIDIwMTIgYnkgQ8OpZHJpYyBNZXNuaWwuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5cblx0UmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0IG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmUgbWV0OlxuXG5cdCAgICAtIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cblx0ICAgIC0gUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyIGluIHRoZSBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxuXG5cdFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlMgXCJBUyBJU1wiIEFORCBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQVJFIERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFQgSE9MREVSIE9SIENPTlRSSUJVVE9SUyBCRSBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLCBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyAoSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7IExPU1MgT0YgVVNFLCBEQVRBLCBPUiBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTlkgVEhFT1JZIE9GIExJQUJJTElUWSwgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVCAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKSBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0UgT0YgVEhJUyBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cblx0Ki9cblxuXHQoZnVuY3Rpb24gKE1hdGgpIHtcblx0ICAgIC8vIFNob3J0Y3V0c1xuXHQgICAgdmFyIEMgPSBDcnlwdG9KUztcblx0ICAgIHZhciBDX2xpYiA9IEMubGliO1xuXHQgICAgdmFyIFdvcmRBcnJheSA9IENfbGliLldvcmRBcnJheTtcblx0ICAgIHZhciBIYXNoZXIgPSBDX2xpYi5IYXNoZXI7XG5cdCAgICB2YXIgQ19hbGdvID0gQy5hbGdvO1xuXG5cdCAgICAvLyBDb25zdGFudHMgdGFibGVcblx0ICAgIHZhciBfemwgPSBXb3JkQXJyYXkuY3JlYXRlKFtcblx0ICAgICAgICAwLCAgMSwgIDIsICAzLCAgNCwgIDUsICA2LCAgNywgIDgsICA5LCAxMCwgMTEsIDEyLCAxMywgMTQsIDE1LFxuXHQgICAgICAgIDcsICA0LCAxMywgIDEsIDEwLCAgNiwgMTUsICAzLCAxMiwgIDAsICA5LCAgNSwgIDIsIDE0LCAxMSwgIDgsXG5cdCAgICAgICAgMywgMTAsIDE0LCAgNCwgIDksIDE1LCAgOCwgIDEsICAyLCAgNywgIDAsICA2LCAxMywgMTEsICA1LCAxMixcblx0ICAgICAgICAxLCAgOSwgMTEsIDEwLCAgMCwgIDgsIDEyLCAgNCwgMTMsICAzLCAgNywgMTUsIDE0LCAgNSwgIDYsICAyLFxuXHQgICAgICAgIDQsICAwLCAgNSwgIDksICA3LCAxMiwgIDIsIDEwLCAxNCwgIDEsICAzLCAgOCwgMTEsICA2LCAxNSwgMTNdKTtcblx0ICAgIHZhciBfenIgPSBXb3JkQXJyYXkuY3JlYXRlKFtcblx0ICAgICAgICA1LCAxNCwgIDcsICAwLCAgOSwgIDIsIDExLCAgNCwgMTMsICA2LCAxNSwgIDgsICAxLCAxMCwgIDMsIDEyLFxuXHQgICAgICAgIDYsIDExLCAgMywgIDcsICAwLCAxMywgIDUsIDEwLCAxNCwgMTUsICA4LCAxMiwgIDQsICA5LCAgMSwgIDIsXG5cdCAgICAgICAgMTUsICA1LCAgMSwgIDMsICA3LCAxNCwgIDYsICA5LCAxMSwgIDgsIDEyLCAgMiwgMTAsICAwLCAgNCwgMTMsXG5cdCAgICAgICAgOCwgIDYsICA0LCAgMSwgIDMsIDExLCAxNSwgIDAsICA1LCAxMiwgIDIsIDEzLCAgOSwgIDcsIDEwLCAxNCxcblx0ICAgICAgICAxMiwgMTUsIDEwLCAgNCwgIDEsICA1LCAgOCwgIDcsICA2LCAgMiwgMTMsIDE0LCAgMCwgIDMsICA5LCAxMV0pO1xuXHQgICAgdmFyIF9zbCA9IFdvcmRBcnJheS5jcmVhdGUoW1xuXHQgICAgICAgICAxMSwgMTQsIDE1LCAxMiwgIDUsICA4LCAgNywgIDksIDExLCAxMywgMTQsIDE1LCAgNiwgIDcsICA5LCAgOCxcblx0ICAgICAgICA3LCA2LCAgIDgsIDEzLCAxMSwgIDksICA3LCAxNSwgIDcsIDEyLCAxNSwgIDksIDExLCAgNywgMTMsIDEyLFxuXHQgICAgICAgIDExLCAxMywgIDYsICA3LCAxNCwgIDksIDEzLCAxNSwgMTQsICA4LCAxMywgIDYsICA1LCAxMiwgIDcsICA1LFxuXHQgICAgICAgICAgMTEsIDEyLCAxNCwgMTUsIDE0LCAxNSwgIDksICA4LCAgOSwgMTQsICA1LCAgNiwgIDgsICA2LCAgNSwgMTIsXG5cdCAgICAgICAgOSwgMTUsICA1LCAxMSwgIDYsICA4LCAxMywgMTIsICA1LCAxMiwgMTMsIDE0LCAxMSwgIDgsICA1LCAgNiBdKTtcblx0ICAgIHZhciBfc3IgPSBXb3JkQXJyYXkuY3JlYXRlKFtcblx0ICAgICAgICA4LCAgOSwgIDksIDExLCAxMywgMTUsIDE1LCAgNSwgIDcsICA3LCAgOCwgMTEsIDE0LCAxNCwgMTIsICA2LFxuXHQgICAgICAgIDksIDEzLCAxNSwgIDcsIDEyLCAgOCwgIDksIDExLCAgNywgIDcsIDEyLCAgNywgIDYsIDE1LCAxMywgMTEsXG5cdCAgICAgICAgOSwgIDcsIDE1LCAxMSwgIDgsICA2LCAgNiwgMTQsIDEyLCAxMywgIDUsIDE0LCAxMywgMTMsICA3LCAgNSxcblx0ICAgICAgICAxNSwgIDUsICA4LCAxMSwgMTQsIDE0LCAgNiwgMTQsICA2LCAgOSwgMTIsICA5LCAxMiwgIDUsIDE1LCAgOCxcblx0ICAgICAgICA4LCAgNSwgMTIsICA5LCAxMiwgIDUsIDE0LCAgNiwgIDgsIDEzLCAgNiwgIDUsIDE1LCAxMywgMTEsIDExIF0pO1xuXG5cdCAgICB2YXIgX2hsID0gIFdvcmRBcnJheS5jcmVhdGUoWyAweDAwMDAwMDAwLCAweDVBODI3OTk5LCAweDZFRDlFQkExLCAweDhGMUJCQ0RDLCAweEE5NTNGRDRFXSk7XG5cdCAgICB2YXIgX2hyID0gIFdvcmRBcnJheS5jcmVhdGUoWyAweDUwQTI4QkU2LCAweDVDNEREMTI0LCAweDZENzAzRUYzLCAweDdBNkQ3NkU5LCAweDAwMDAwMDAwXSk7XG5cblx0ICAgIC8qKlxuXHQgICAgICogUklQRU1EMTYwIGhhc2ggYWxnb3JpdGhtLlxuXHQgICAgICovXG5cdCAgICB2YXIgUklQRU1EMTYwID0gQ19hbGdvLlJJUEVNRDE2MCA9IEhhc2hlci5leHRlbmQoe1xuXHQgICAgICAgIF9kb1Jlc2V0OiBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIHRoaXMuX2hhc2ggID0gV29yZEFycmF5LmNyZWF0ZShbMHg2NzQ1MjMwMSwgMHhFRkNEQUI4OSwgMHg5OEJBRENGRSwgMHgxMDMyNTQ3NiwgMHhDM0QyRTFGMF0pO1xuXHQgICAgICAgIH0sXG5cblx0ICAgICAgICBfZG9Qcm9jZXNzQmxvY2s6IGZ1bmN0aW9uIChNLCBvZmZzZXQpIHtcblxuXHQgICAgICAgICAgICAvLyBTd2FwIGVuZGlhblxuXHQgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDE2OyBpKyspIHtcblx0ICAgICAgICAgICAgICAgIC8vIFNob3J0Y3V0c1xuXHQgICAgICAgICAgICAgICAgdmFyIG9mZnNldF9pID0gb2Zmc2V0ICsgaTtcblx0ICAgICAgICAgICAgICAgIHZhciBNX29mZnNldF9pID0gTVtvZmZzZXRfaV07XG5cblx0ICAgICAgICAgICAgICAgIC8vIFN3YXBcblx0ICAgICAgICAgICAgICAgIE1bb2Zmc2V0X2ldID0gKFxuXHQgICAgICAgICAgICAgICAgICAgICgoKE1fb2Zmc2V0X2kgPDwgOCkgIHwgKE1fb2Zmc2V0X2kgPj4+IDI0KSkgJiAweDAwZmYwMGZmKSB8XG5cdCAgICAgICAgICAgICAgICAgICAgKCgoTV9vZmZzZXRfaSA8PCAyNCkgfCAoTV9vZmZzZXRfaSA+Pj4gOCkpICAmIDB4ZmYwMGZmMDApXG5cdCAgICAgICAgICAgICAgICApO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIC8vIFNob3J0Y3V0XG5cdCAgICAgICAgICAgIHZhciBIICA9IHRoaXMuX2hhc2gud29yZHM7XG5cdCAgICAgICAgICAgIHZhciBobCA9IF9obC53b3Jkcztcblx0ICAgICAgICAgICAgdmFyIGhyID0gX2hyLndvcmRzO1xuXHQgICAgICAgICAgICB2YXIgemwgPSBfemwud29yZHM7XG5cdCAgICAgICAgICAgIHZhciB6ciA9IF96ci53b3Jkcztcblx0ICAgICAgICAgICAgdmFyIHNsID0gX3NsLndvcmRzO1xuXHQgICAgICAgICAgICB2YXIgc3IgPSBfc3Iud29yZHM7XG5cblx0ICAgICAgICAgICAgLy8gV29ya2luZyB2YXJpYWJsZXNcblx0ICAgICAgICAgICAgdmFyIGFsLCBibCwgY2wsIGRsLCBlbDtcblx0ICAgICAgICAgICAgdmFyIGFyLCBiciwgY3IsIGRyLCBlcjtcblxuXHQgICAgICAgICAgICBhciA9IGFsID0gSFswXTtcblx0ICAgICAgICAgICAgYnIgPSBibCA9IEhbMV07XG5cdCAgICAgICAgICAgIGNyID0gY2wgPSBIWzJdO1xuXHQgICAgICAgICAgICBkciA9IGRsID0gSFszXTtcblx0ICAgICAgICAgICAgZXIgPSBlbCA9IEhbNF07XG5cdCAgICAgICAgICAgIC8vIENvbXB1dGF0aW9uXG5cdCAgICAgICAgICAgIHZhciB0O1xuXHQgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDgwOyBpICs9IDEpIHtcblx0ICAgICAgICAgICAgICAgIHQgPSAoYWwgKyAgTVtvZmZzZXQremxbaV1dKXwwO1xuXHQgICAgICAgICAgICAgICAgaWYgKGk8MTYpe1xuXHRcdCAgICAgICAgICAgIHQgKz0gIGYxKGJsLGNsLGRsKSArIGhsWzBdO1xuXHQgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpPDMyKSB7XG5cdFx0ICAgICAgICAgICAgdCArPSAgZjIoYmwsY2wsZGwpICsgaGxbMV07XG5cdCAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGk8NDgpIHtcblx0XHQgICAgICAgICAgICB0ICs9ICBmMyhibCxjbCxkbCkgKyBobFsyXTtcblx0ICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaTw2NCkge1xuXHRcdCAgICAgICAgICAgIHQgKz0gIGY0KGJsLGNsLGRsKSArIGhsWzNdO1xuXHQgICAgICAgICAgICAgICAgfSBlbHNlIHsvLyBpZiAoaTw4MCkge1xuXHRcdCAgICAgICAgICAgIHQgKz0gIGY1KGJsLGNsLGRsKSArIGhsWzRdO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgdCA9IHR8MDtcblx0ICAgICAgICAgICAgICAgIHQgPSAgcm90bCh0LHNsW2ldKTtcblx0ICAgICAgICAgICAgICAgIHQgPSAodCtlbCl8MDtcblx0ICAgICAgICAgICAgICAgIGFsID0gZWw7XG5cdCAgICAgICAgICAgICAgICBlbCA9IGRsO1xuXHQgICAgICAgICAgICAgICAgZGwgPSByb3RsKGNsLCAxMCk7XG5cdCAgICAgICAgICAgICAgICBjbCA9IGJsO1xuXHQgICAgICAgICAgICAgICAgYmwgPSB0O1xuXG5cdCAgICAgICAgICAgICAgICB0ID0gKGFyICsgTVtvZmZzZXQrenJbaV1dKXwwO1xuXHQgICAgICAgICAgICAgICAgaWYgKGk8MTYpe1xuXHRcdCAgICAgICAgICAgIHQgKz0gIGY1KGJyLGNyLGRyKSArIGhyWzBdO1xuXHQgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpPDMyKSB7XG5cdFx0ICAgICAgICAgICAgdCArPSAgZjQoYnIsY3IsZHIpICsgaHJbMV07XG5cdCAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGk8NDgpIHtcblx0XHQgICAgICAgICAgICB0ICs9ICBmMyhicixjcixkcikgKyBoclsyXTtcblx0ICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaTw2NCkge1xuXHRcdCAgICAgICAgICAgIHQgKz0gIGYyKGJyLGNyLGRyKSArIGhyWzNdO1xuXHQgICAgICAgICAgICAgICAgfSBlbHNlIHsvLyBpZiAoaTw4MCkge1xuXHRcdCAgICAgICAgICAgIHQgKz0gIGYxKGJyLGNyLGRyKSArIGhyWzRdO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgdCA9IHR8MDtcblx0ICAgICAgICAgICAgICAgIHQgPSAgcm90bCh0LHNyW2ldKSA7XG5cdCAgICAgICAgICAgICAgICB0ID0gKHQrZXIpfDA7XG5cdCAgICAgICAgICAgICAgICBhciA9IGVyO1xuXHQgICAgICAgICAgICAgICAgZXIgPSBkcjtcblx0ICAgICAgICAgICAgICAgIGRyID0gcm90bChjciwgMTApO1xuXHQgICAgICAgICAgICAgICAgY3IgPSBicjtcblx0ICAgICAgICAgICAgICAgIGJyID0gdDtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAvLyBJbnRlcm1lZGlhdGUgaGFzaCB2YWx1ZVxuXHQgICAgICAgICAgICB0ICAgID0gKEhbMV0gKyBjbCArIGRyKXwwO1xuXHQgICAgICAgICAgICBIWzFdID0gKEhbMl0gKyBkbCArIGVyKXwwO1xuXHQgICAgICAgICAgICBIWzJdID0gKEhbM10gKyBlbCArIGFyKXwwO1xuXHQgICAgICAgICAgICBIWzNdID0gKEhbNF0gKyBhbCArIGJyKXwwO1xuXHQgICAgICAgICAgICBIWzRdID0gKEhbMF0gKyBibCArIGNyKXwwO1xuXHQgICAgICAgICAgICBIWzBdID0gIHQ7XG5cdCAgICAgICAgfSxcblxuXHQgICAgICAgIF9kb0ZpbmFsaXplOiBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIC8vIFNob3J0Y3V0c1xuXHQgICAgICAgICAgICB2YXIgZGF0YSA9IHRoaXMuX2RhdGE7XG5cdCAgICAgICAgICAgIHZhciBkYXRhV29yZHMgPSBkYXRhLndvcmRzO1xuXG5cdCAgICAgICAgICAgIHZhciBuQml0c1RvdGFsID0gdGhpcy5fbkRhdGFCeXRlcyAqIDg7XG5cdCAgICAgICAgICAgIHZhciBuQml0c0xlZnQgPSBkYXRhLnNpZ0J5dGVzICogODtcblxuXHQgICAgICAgICAgICAvLyBBZGQgcGFkZGluZ1xuXHQgICAgICAgICAgICBkYXRhV29yZHNbbkJpdHNMZWZ0ID4+PiA1XSB8PSAweDgwIDw8ICgyNCAtIG5CaXRzTGVmdCAlIDMyKTtcblx0ICAgICAgICAgICAgZGF0YVdvcmRzWygoKG5CaXRzTGVmdCArIDY0KSA+Pj4gOSkgPDwgNCkgKyAxNF0gPSAoXG5cdCAgICAgICAgICAgICAgICAoKChuQml0c1RvdGFsIDw8IDgpICB8IChuQml0c1RvdGFsID4+PiAyNCkpICYgMHgwMGZmMDBmZikgfFxuXHQgICAgICAgICAgICAgICAgKCgobkJpdHNUb3RhbCA8PCAyNCkgfCAobkJpdHNUb3RhbCA+Pj4gOCkpICAmIDB4ZmYwMGZmMDApXG5cdCAgICAgICAgICAgICk7XG5cdCAgICAgICAgICAgIGRhdGEuc2lnQnl0ZXMgPSAoZGF0YVdvcmRzLmxlbmd0aCArIDEpICogNDtcblxuXHQgICAgICAgICAgICAvLyBIYXNoIGZpbmFsIGJsb2Nrc1xuXHQgICAgICAgICAgICB0aGlzLl9wcm9jZXNzKCk7XG5cblx0ICAgICAgICAgICAgLy8gU2hvcnRjdXRzXG5cdCAgICAgICAgICAgIHZhciBoYXNoID0gdGhpcy5faGFzaDtcblx0ICAgICAgICAgICAgdmFyIEggPSBoYXNoLndvcmRzO1xuXG5cdCAgICAgICAgICAgIC8vIFN3YXAgZW5kaWFuXG5cdCAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNTsgaSsrKSB7XG5cdCAgICAgICAgICAgICAgICAvLyBTaG9ydGN1dFxuXHQgICAgICAgICAgICAgICAgdmFyIEhfaSA9IEhbaV07XG5cblx0ICAgICAgICAgICAgICAgIC8vIFN3YXBcblx0ICAgICAgICAgICAgICAgIEhbaV0gPSAoKChIX2kgPDwgOCkgIHwgKEhfaSA+Pj4gMjQpKSAmIDB4MDBmZjAwZmYpIHxcblx0ICAgICAgICAgICAgICAgICAgICAgICAoKChIX2kgPDwgMjQpIHwgKEhfaSA+Pj4gOCkpICAmIDB4ZmYwMGZmMDApO1xuXHQgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgLy8gUmV0dXJuIGZpbmFsIGNvbXB1dGVkIGhhc2hcblx0ICAgICAgICAgICAgcmV0dXJuIGhhc2g7XG5cdCAgICAgICAgfSxcblxuXHQgICAgICAgIGNsb25lOiBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIHZhciBjbG9uZSA9IEhhc2hlci5jbG9uZS5jYWxsKHRoaXMpO1xuXHQgICAgICAgICAgICBjbG9uZS5faGFzaCA9IHRoaXMuX2hhc2guY2xvbmUoKTtcblxuXHQgICAgICAgICAgICByZXR1cm4gY2xvbmU7XG5cdCAgICAgICAgfVxuXHQgICAgfSk7XG5cblxuXHQgICAgZnVuY3Rpb24gZjEoeCwgeSwgeikge1xuXHQgICAgICAgIHJldHVybiAoKHgpIF4gKHkpIF4gKHopKTtcblxuXHQgICAgfVxuXG5cdCAgICBmdW5jdGlvbiBmMih4LCB5LCB6KSB7XG5cdCAgICAgICAgcmV0dXJuICgoKHgpJih5KSkgfCAoKH54KSYoeikpKTtcblx0ICAgIH1cblxuXHQgICAgZnVuY3Rpb24gZjMoeCwgeSwgeikge1xuXHQgICAgICAgIHJldHVybiAoKCh4KSB8ICh+KHkpKSkgXiAoeikpO1xuXHQgICAgfVxuXG5cdCAgICBmdW5jdGlvbiBmNCh4LCB5LCB6KSB7XG5cdCAgICAgICAgcmV0dXJuICgoKHgpICYgKHopKSB8ICgoeSkmKH4oeikpKSk7XG5cdCAgICB9XG5cblx0ICAgIGZ1bmN0aW9uIGY1KHgsIHksIHopIHtcblx0ICAgICAgICByZXR1cm4gKCh4KSBeICgoeSkgfCh+KHopKSkpO1xuXG5cdCAgICB9XG5cblx0ICAgIGZ1bmN0aW9uIHJvdGwoeCxuKSB7XG5cdCAgICAgICAgcmV0dXJuICh4PDxuKSB8ICh4Pj4+KDMyLW4pKTtcblx0ICAgIH1cblxuXG5cdCAgICAvKipcblx0ICAgICAqIFNob3J0Y3V0IGZ1bmN0aW9uIHRvIHRoZSBoYXNoZXIncyBvYmplY3QgaW50ZXJmYWNlLlxuXHQgICAgICpcblx0ICAgICAqIEBwYXJhbSB7V29yZEFycmF5fHN0cmluZ30gbWVzc2FnZSBUaGUgbWVzc2FnZSB0byBoYXNoLlxuXHQgICAgICpcblx0ICAgICAqIEByZXR1cm4ge1dvcmRBcnJheX0gVGhlIGhhc2guXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICpcblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogICAgIHZhciBoYXNoID0gQ3J5cHRvSlMuUklQRU1EMTYwKCdtZXNzYWdlJyk7XG5cdCAgICAgKiAgICAgdmFyIGhhc2ggPSBDcnlwdG9KUy5SSVBFTUQxNjAod29yZEFycmF5KTtcblx0ICAgICAqL1xuXHQgICAgQy5SSVBFTUQxNjAgPSBIYXNoZXIuX2NyZWF0ZUhlbHBlcihSSVBFTUQxNjApO1xuXG5cdCAgICAvKipcblx0ICAgICAqIFNob3J0Y3V0IGZ1bmN0aW9uIHRvIHRoZSBITUFDJ3Mgb2JqZWN0IGludGVyZmFjZS5cblx0ICAgICAqXG5cdCAgICAgKiBAcGFyYW0ge1dvcmRBcnJheXxzdHJpbmd9IG1lc3NhZ2UgVGhlIG1lc3NhZ2UgdG8gaGFzaC5cblx0ICAgICAqIEBwYXJhbSB7V29yZEFycmF5fHN0cmluZ30ga2V5IFRoZSBzZWNyZXQga2V5LlxuXHQgICAgICpcblx0ICAgICAqIEByZXR1cm4ge1dvcmRBcnJheX0gVGhlIEhNQUMuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICpcblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogICAgIHZhciBobWFjID0gQ3J5cHRvSlMuSG1hY1JJUEVNRDE2MChtZXNzYWdlLCBrZXkpO1xuXHQgICAgICovXG5cdCAgICBDLkhtYWNSSVBFTUQxNjAgPSBIYXNoZXIuX2NyZWF0ZUhtYWNIZWxwZXIoUklQRU1EMTYwKTtcblx0fShNYXRoKSk7XG5cblxuXHRyZXR1cm4gQ3J5cHRvSlMuUklQRU1EMTYwO1xuXG59KSk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9jcnlwdG8tanMvcmlwZW1kMTYwLmpzIiwiOyhmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSwgdW5kZWYpIHtcblx0aWYgKHR5cGVvZiBleHBvcnRzID09PSBcIm9iamVjdFwiKSB7XG5cdFx0Ly8gQ29tbW9uSlNcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoXCIuL2NvcmVcIiksIHJlcXVpcmUoXCIuL3NoYTI1NlwiKSk7XG5cdH1cblx0ZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIHtcblx0XHQvLyBBTURcblx0XHRkZWZpbmUoW1wiLi9jb3JlXCIsIFwiLi9zaGEyNTZcIl0sIGZhY3RvcnkpO1xuXHR9XG5cdGVsc2Uge1xuXHRcdC8vIEdsb2JhbCAoYnJvd3Nlcilcblx0XHRmYWN0b3J5KHJvb3QuQ3J5cHRvSlMpO1xuXHR9XG59KHRoaXMsIGZ1bmN0aW9uIChDcnlwdG9KUykge1xuXG5cdChmdW5jdGlvbiAoKSB7XG5cdCAgICAvLyBTaG9ydGN1dHNcblx0ICAgIHZhciBDID0gQ3J5cHRvSlM7XG5cdCAgICB2YXIgQ19saWIgPSBDLmxpYjtcblx0ICAgIHZhciBXb3JkQXJyYXkgPSBDX2xpYi5Xb3JkQXJyYXk7XG5cdCAgICB2YXIgQ19hbGdvID0gQy5hbGdvO1xuXHQgICAgdmFyIFNIQTI1NiA9IENfYWxnby5TSEEyNTY7XG5cblx0ICAgIC8qKlxuXHQgICAgICogU0hBLTIyNCBoYXNoIGFsZ29yaXRobS5cblx0ICAgICAqL1xuXHQgICAgdmFyIFNIQTIyNCA9IENfYWxnby5TSEEyMjQgPSBTSEEyNTYuZXh0ZW5kKHtcblx0ICAgICAgICBfZG9SZXNldDogZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICB0aGlzLl9oYXNoID0gbmV3IFdvcmRBcnJheS5pbml0KFtcblx0ICAgICAgICAgICAgICAgIDB4YzEwNTllZDgsIDB4MzY3Y2Q1MDcsIDB4MzA3MGRkMTcsIDB4ZjcwZTU5MzksXG5cdCAgICAgICAgICAgICAgICAweGZmYzAwYjMxLCAweDY4NTgxNTExLCAweDY0Zjk4ZmE3LCAweGJlZmE0ZmE0XG5cdCAgICAgICAgICAgIF0pO1xuXHQgICAgICAgIH0sXG5cblx0ICAgICAgICBfZG9GaW5hbGl6ZTogZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICB2YXIgaGFzaCA9IFNIQTI1Ni5fZG9GaW5hbGl6ZS5jYWxsKHRoaXMpO1xuXG5cdCAgICAgICAgICAgIGhhc2guc2lnQnl0ZXMgLT0gNDtcblxuXHQgICAgICAgICAgICByZXR1cm4gaGFzaDtcblx0ICAgICAgICB9XG5cdCAgICB9KTtcblxuXHQgICAgLyoqXG5cdCAgICAgKiBTaG9ydGN1dCBmdW5jdGlvbiB0byB0aGUgaGFzaGVyJ3Mgb2JqZWN0IGludGVyZmFjZS5cblx0ICAgICAqXG5cdCAgICAgKiBAcGFyYW0ge1dvcmRBcnJheXxzdHJpbmd9IG1lc3NhZ2UgVGhlIG1lc3NhZ2UgdG8gaGFzaC5cblx0ICAgICAqXG5cdCAgICAgKiBAcmV0dXJuIHtXb3JkQXJyYXl9IFRoZSBoYXNoLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqICAgICB2YXIgaGFzaCA9IENyeXB0b0pTLlNIQTIyNCgnbWVzc2FnZScpO1xuXHQgICAgICogICAgIHZhciBoYXNoID0gQ3J5cHRvSlMuU0hBMjI0KHdvcmRBcnJheSk7XG5cdCAgICAgKi9cblx0ICAgIEMuU0hBMjI0ID0gU0hBMjU2Ll9jcmVhdGVIZWxwZXIoU0hBMjI0KTtcblxuXHQgICAgLyoqXG5cdCAgICAgKiBTaG9ydGN1dCBmdW5jdGlvbiB0byB0aGUgSE1BQydzIG9iamVjdCBpbnRlcmZhY2UuXG5cdCAgICAgKlxuXHQgICAgICogQHBhcmFtIHtXb3JkQXJyYXl8c3RyaW5nfSBtZXNzYWdlIFRoZSBtZXNzYWdlIHRvIGhhc2guXG5cdCAgICAgKiBAcGFyYW0ge1dvcmRBcnJheXxzdHJpbmd9IGtleSBUaGUgc2VjcmV0IGtleS5cblx0ICAgICAqXG5cdCAgICAgKiBAcmV0dXJuIHtXb3JkQXJyYXl9IFRoZSBITUFDLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqICAgICB2YXIgaG1hYyA9IENyeXB0b0pTLkhtYWNTSEEyMjQobWVzc2FnZSwga2V5KTtcblx0ICAgICAqL1xuXHQgICAgQy5IbWFjU0hBMjI0ID0gU0hBMjU2Ll9jcmVhdGVIbWFjSGVscGVyKFNIQTIyNCk7XG5cdH0oKSk7XG5cblxuXHRyZXR1cm4gQ3J5cHRvSlMuU0hBMjI0O1xuXG59KSk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9jcnlwdG8tanMvc2hhMjI0LmpzIiwiOyhmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSwgdW5kZWYpIHtcblx0aWYgKHR5cGVvZiBleHBvcnRzID09PSBcIm9iamVjdFwiKSB7XG5cdFx0Ly8gQ29tbW9uSlNcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoXCIuL2NvcmVcIiksIHJlcXVpcmUoXCIuL3g2NC1jb3JlXCIpLCByZXF1aXJlKFwiLi9zaGE1MTJcIikpO1xuXHR9XG5cdGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kKSB7XG5cdFx0Ly8gQU1EXG5cdFx0ZGVmaW5lKFtcIi4vY29yZVwiLCBcIi4veDY0LWNvcmVcIiwgXCIuL3NoYTUxMlwiXSwgZmFjdG9yeSk7XG5cdH1cblx0ZWxzZSB7XG5cdFx0Ly8gR2xvYmFsIChicm93c2VyKVxuXHRcdGZhY3Rvcnkocm9vdC5DcnlwdG9KUyk7XG5cdH1cbn0odGhpcywgZnVuY3Rpb24gKENyeXB0b0pTKSB7XG5cblx0KGZ1bmN0aW9uICgpIHtcblx0ICAgIC8vIFNob3J0Y3V0c1xuXHQgICAgdmFyIEMgPSBDcnlwdG9KUztcblx0ICAgIHZhciBDX3g2NCA9IEMueDY0O1xuXHQgICAgdmFyIFg2NFdvcmQgPSBDX3g2NC5Xb3JkO1xuXHQgICAgdmFyIFg2NFdvcmRBcnJheSA9IENfeDY0LldvcmRBcnJheTtcblx0ICAgIHZhciBDX2FsZ28gPSBDLmFsZ287XG5cdCAgICB2YXIgU0hBNTEyID0gQ19hbGdvLlNIQTUxMjtcblxuXHQgICAgLyoqXG5cdCAgICAgKiBTSEEtMzg0IGhhc2ggYWxnb3JpdGhtLlxuXHQgICAgICovXG5cdCAgICB2YXIgU0hBMzg0ID0gQ19hbGdvLlNIQTM4NCA9IFNIQTUxMi5leHRlbmQoe1xuXHQgICAgICAgIF9kb1Jlc2V0OiBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIHRoaXMuX2hhc2ggPSBuZXcgWDY0V29yZEFycmF5LmluaXQoW1xuXHQgICAgICAgICAgICAgICAgbmV3IFg2NFdvcmQuaW5pdCgweGNiYmI5ZDVkLCAweGMxMDU5ZWQ4KSwgbmV3IFg2NFdvcmQuaW5pdCgweDYyOWEyOTJhLCAweDM2N2NkNTA3KSxcblx0ICAgICAgICAgICAgICAgIG5ldyBYNjRXb3JkLmluaXQoMHg5MTU5MDE1YSwgMHgzMDcwZGQxNyksIG5ldyBYNjRXb3JkLmluaXQoMHgxNTJmZWNkOCwgMHhmNzBlNTkzOSksXG5cdCAgICAgICAgICAgICAgICBuZXcgWDY0V29yZC5pbml0KDB4NjczMzI2NjcsIDB4ZmZjMDBiMzEpLCBuZXcgWDY0V29yZC5pbml0KDB4OGViNDRhODcsIDB4Njg1ODE1MTEpLFxuXHQgICAgICAgICAgICAgICAgbmV3IFg2NFdvcmQuaW5pdCgweGRiMGMyZTBkLCAweDY0Zjk4ZmE3KSwgbmV3IFg2NFdvcmQuaW5pdCgweDQ3YjU0ODFkLCAweGJlZmE0ZmE0KVxuXHQgICAgICAgICAgICBdKTtcblx0ICAgICAgICB9LFxuXG5cdCAgICAgICAgX2RvRmluYWxpemU6IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgdmFyIGhhc2ggPSBTSEE1MTIuX2RvRmluYWxpemUuY2FsbCh0aGlzKTtcblxuXHQgICAgICAgICAgICBoYXNoLnNpZ0J5dGVzIC09IDE2O1xuXG5cdCAgICAgICAgICAgIHJldHVybiBoYXNoO1xuXHQgICAgICAgIH1cblx0ICAgIH0pO1xuXG5cdCAgICAvKipcblx0ICAgICAqIFNob3J0Y3V0IGZ1bmN0aW9uIHRvIHRoZSBoYXNoZXIncyBvYmplY3QgaW50ZXJmYWNlLlxuXHQgICAgICpcblx0ICAgICAqIEBwYXJhbSB7V29yZEFycmF5fHN0cmluZ30gbWVzc2FnZSBUaGUgbWVzc2FnZSB0byBoYXNoLlxuXHQgICAgICpcblx0ICAgICAqIEByZXR1cm4ge1dvcmRBcnJheX0gVGhlIGhhc2guXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICpcblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogICAgIHZhciBoYXNoID0gQ3J5cHRvSlMuU0hBMzg0KCdtZXNzYWdlJyk7XG5cdCAgICAgKiAgICAgdmFyIGhhc2ggPSBDcnlwdG9KUy5TSEEzODQod29yZEFycmF5KTtcblx0ICAgICAqL1xuXHQgICAgQy5TSEEzODQgPSBTSEE1MTIuX2NyZWF0ZUhlbHBlcihTSEEzODQpO1xuXG5cdCAgICAvKipcblx0ICAgICAqIFNob3J0Y3V0IGZ1bmN0aW9uIHRvIHRoZSBITUFDJ3Mgb2JqZWN0IGludGVyZmFjZS5cblx0ICAgICAqXG5cdCAgICAgKiBAcGFyYW0ge1dvcmRBcnJheXxzdHJpbmd9IG1lc3NhZ2UgVGhlIG1lc3NhZ2UgdG8gaGFzaC5cblx0ICAgICAqIEBwYXJhbSB7V29yZEFycmF5fHN0cmluZ30ga2V5IFRoZSBzZWNyZXQga2V5LlxuXHQgICAgICpcblx0ICAgICAqIEByZXR1cm4ge1dvcmRBcnJheX0gVGhlIEhNQUMuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICpcblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogICAgIHZhciBobWFjID0gQ3J5cHRvSlMuSG1hY1NIQTM4NChtZXNzYWdlLCBrZXkpO1xuXHQgICAgICovXG5cdCAgICBDLkhtYWNTSEEzODQgPSBTSEE1MTIuX2NyZWF0ZUhtYWNIZWxwZXIoU0hBMzg0KTtcblx0fSgpKTtcblxuXG5cdHJldHVybiBDcnlwdG9KUy5TSEEzODQ7XG5cbn0pKTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L2NyeXB0by1qcy9zaGEzODQuanMiLCI7KGZ1bmN0aW9uIChyb290LCBmYWN0b3J5LCB1bmRlZikge1xuXHRpZiAodHlwZW9mIGV4cG9ydHMgPT09IFwib2JqZWN0XCIpIHtcblx0XHQvLyBDb21tb25KU1xuXHRcdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZShcIi4vY29yZVwiKSwgcmVxdWlyZShcIi4vZW5jLWJhc2U2NFwiKSwgcmVxdWlyZShcIi4vbWQ1XCIpLCByZXF1aXJlKFwiLi9ldnBrZGZcIiksIHJlcXVpcmUoXCIuL2NpcGhlci1jb3JlXCIpKTtcblx0fVxuXHRlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCkge1xuXHRcdC8vIEFNRFxuXHRcdGRlZmluZShbXCIuL2NvcmVcIiwgXCIuL2VuYy1iYXNlNjRcIiwgXCIuL21kNVwiLCBcIi4vZXZwa2RmXCIsIFwiLi9jaXBoZXItY29yZVwiXSwgZmFjdG9yeSk7XG5cdH1cblx0ZWxzZSB7XG5cdFx0Ly8gR2xvYmFsIChicm93c2VyKVxuXHRcdGZhY3Rvcnkocm9vdC5DcnlwdG9KUyk7XG5cdH1cbn0odGhpcywgZnVuY3Rpb24gKENyeXB0b0pTKSB7XG5cblx0KGZ1bmN0aW9uICgpIHtcblx0ICAgIC8vIFNob3J0Y3V0c1xuXHQgICAgdmFyIEMgPSBDcnlwdG9KUztcblx0ICAgIHZhciBDX2xpYiA9IEMubGliO1xuXHQgICAgdmFyIFdvcmRBcnJheSA9IENfbGliLldvcmRBcnJheTtcblx0ICAgIHZhciBCbG9ja0NpcGhlciA9IENfbGliLkJsb2NrQ2lwaGVyO1xuXHQgICAgdmFyIENfYWxnbyA9IEMuYWxnbztcblxuXHQgICAgLy8gUGVybXV0ZWQgQ2hvaWNlIDEgY29uc3RhbnRzXG5cdCAgICB2YXIgUEMxID0gW1xuXHQgICAgICAgIDU3LCA0OSwgNDEsIDMzLCAyNSwgMTcsIDksICAxLFxuXHQgICAgICAgIDU4LCA1MCwgNDIsIDM0LCAyNiwgMTgsIDEwLCAyLFxuXHQgICAgICAgIDU5LCA1MSwgNDMsIDM1LCAyNywgMTksIDExLCAzLFxuXHQgICAgICAgIDYwLCA1MiwgNDQsIDM2LCA2MywgNTUsIDQ3LCAzOSxcblx0ICAgICAgICAzMSwgMjMsIDE1LCA3LCAgNjIsIDU0LCA0NiwgMzgsXG5cdCAgICAgICAgMzAsIDIyLCAxNCwgNiwgIDYxLCA1MywgNDUsIDM3LFxuXHQgICAgICAgIDI5LCAyMSwgMTMsIDUsICAyOCwgMjAsIDEyLCA0XG5cdCAgICBdO1xuXG5cdCAgICAvLyBQZXJtdXRlZCBDaG9pY2UgMiBjb25zdGFudHNcblx0ICAgIHZhciBQQzIgPSBbXG5cdCAgICAgICAgMTQsIDE3LCAxMSwgMjQsIDEsICA1LFxuXHQgICAgICAgIDMsICAyOCwgMTUsIDYsICAyMSwgMTAsXG5cdCAgICAgICAgMjMsIDE5LCAxMiwgNCwgIDI2LCA4LFxuXHQgICAgICAgIDE2LCA3LCAgMjcsIDIwLCAxMywgMixcblx0ICAgICAgICA0MSwgNTIsIDMxLCAzNywgNDcsIDU1LFxuXHQgICAgICAgIDMwLCA0MCwgNTEsIDQ1LCAzMywgNDgsXG5cdCAgICAgICAgNDQsIDQ5LCAzOSwgNTYsIDM0LCA1Myxcblx0ICAgICAgICA0NiwgNDIsIDUwLCAzNiwgMjksIDMyXG5cdCAgICBdO1xuXG5cdCAgICAvLyBDdW11bGF0aXZlIGJpdCBzaGlmdCBjb25zdGFudHNcblx0ICAgIHZhciBCSVRfU0hJRlRTID0gWzEsICAyLCAgNCwgIDYsICA4LCAgMTAsIDEyLCAxNCwgMTUsIDE3LCAxOSwgMjEsIDIzLCAyNSwgMjcsIDI4XTtcblxuXHQgICAgLy8gU0JPWGVzIGFuZCByb3VuZCBwZXJtdXRhdGlvbiBjb25zdGFudHNcblx0ICAgIHZhciBTQk9YX1AgPSBbXG5cdCAgICAgICAge1xuXHQgICAgICAgICAgICAweDA6IDB4ODA4MjAwLFxuXHQgICAgICAgICAgICAweDEwMDAwMDAwOiAweDgwMDAsXG5cdCAgICAgICAgICAgIDB4MjAwMDAwMDA6IDB4ODA4MDAyLFxuXHQgICAgICAgICAgICAweDMwMDAwMDAwOiAweDIsXG5cdCAgICAgICAgICAgIDB4NDAwMDAwMDA6IDB4MjAwLFxuXHQgICAgICAgICAgICAweDUwMDAwMDAwOiAweDgwODIwMixcblx0ICAgICAgICAgICAgMHg2MDAwMDAwMDogMHg4MDAyMDIsXG5cdCAgICAgICAgICAgIDB4NzAwMDAwMDA6IDB4ODAwMDAwLFxuXHQgICAgICAgICAgICAweDgwMDAwMDAwOiAweDIwMixcblx0ICAgICAgICAgICAgMHg5MDAwMDAwMDogMHg4MDAyMDAsXG5cdCAgICAgICAgICAgIDB4YTAwMDAwMDA6IDB4ODIwMCxcblx0ICAgICAgICAgICAgMHhiMDAwMDAwMDogMHg4MDgwMDAsXG5cdCAgICAgICAgICAgIDB4YzAwMDAwMDA6IDB4ODAwMixcblx0ICAgICAgICAgICAgMHhkMDAwMDAwMDogMHg4MDAwMDIsXG5cdCAgICAgICAgICAgIDB4ZTAwMDAwMDA6IDB4MCxcblx0ICAgICAgICAgICAgMHhmMDAwMDAwMDogMHg4MjAyLFxuXHQgICAgICAgICAgICAweDgwMDAwMDA6IDB4MCxcblx0ICAgICAgICAgICAgMHgxODAwMDAwMDogMHg4MDgyMDIsXG5cdCAgICAgICAgICAgIDB4MjgwMDAwMDA6IDB4ODIwMixcblx0ICAgICAgICAgICAgMHgzODAwMDAwMDogMHg4MDAwLFxuXHQgICAgICAgICAgICAweDQ4MDAwMDAwOiAweDgwODIwMCxcblx0ICAgICAgICAgICAgMHg1ODAwMDAwMDogMHgyMDAsXG5cdCAgICAgICAgICAgIDB4NjgwMDAwMDA6IDB4ODA4MDAyLFxuXHQgICAgICAgICAgICAweDc4MDAwMDAwOiAweDIsXG5cdCAgICAgICAgICAgIDB4ODgwMDAwMDA6IDB4ODAwMjAwLFxuXHQgICAgICAgICAgICAweDk4MDAwMDAwOiAweDgyMDAsXG5cdCAgICAgICAgICAgIDB4YTgwMDAwMDA6IDB4ODA4MDAwLFxuXHQgICAgICAgICAgICAweGI4MDAwMDAwOiAweDgwMDIwMixcblx0ICAgICAgICAgICAgMHhjODAwMDAwMDogMHg4MDAwMDIsXG5cdCAgICAgICAgICAgIDB4ZDgwMDAwMDA6IDB4ODAwMixcblx0ICAgICAgICAgICAgMHhlODAwMDAwMDogMHgyMDIsXG5cdCAgICAgICAgICAgIDB4ZjgwMDAwMDA6IDB4ODAwMDAwLFxuXHQgICAgICAgICAgICAweDE6IDB4ODAwMCxcblx0ICAgICAgICAgICAgMHgxMDAwMDAwMTogMHgyLFxuXHQgICAgICAgICAgICAweDIwMDAwMDAxOiAweDgwODIwMCxcblx0ICAgICAgICAgICAgMHgzMDAwMDAwMTogMHg4MDAwMDAsXG5cdCAgICAgICAgICAgIDB4NDAwMDAwMDE6IDB4ODA4MDAyLFxuXHQgICAgICAgICAgICAweDUwMDAwMDAxOiAweDgyMDAsXG5cdCAgICAgICAgICAgIDB4NjAwMDAwMDE6IDB4MjAwLFxuXHQgICAgICAgICAgICAweDcwMDAwMDAxOiAweDgwMDIwMixcblx0ICAgICAgICAgICAgMHg4MDAwMDAwMTogMHg4MDgyMDIsXG5cdCAgICAgICAgICAgIDB4OTAwMDAwMDE6IDB4ODA4MDAwLFxuXHQgICAgICAgICAgICAweGEwMDAwMDAxOiAweDgwMDAwMixcblx0ICAgICAgICAgICAgMHhiMDAwMDAwMTogMHg4MjAyLFxuXHQgICAgICAgICAgICAweGMwMDAwMDAxOiAweDIwMixcblx0ICAgICAgICAgICAgMHhkMDAwMDAwMTogMHg4MDAyMDAsXG5cdCAgICAgICAgICAgIDB4ZTAwMDAwMDE6IDB4ODAwMixcblx0ICAgICAgICAgICAgMHhmMDAwMDAwMTogMHgwLFxuXHQgICAgICAgICAgICAweDgwMDAwMDE6IDB4ODA4MjAyLFxuXHQgICAgICAgICAgICAweDE4MDAwMDAxOiAweDgwODAwMCxcblx0ICAgICAgICAgICAgMHgyODAwMDAwMTogMHg4MDAwMDAsXG5cdCAgICAgICAgICAgIDB4MzgwMDAwMDE6IDB4MjAwLFxuXHQgICAgICAgICAgICAweDQ4MDAwMDAxOiAweDgwMDAsXG5cdCAgICAgICAgICAgIDB4NTgwMDAwMDE6IDB4ODAwMDAyLFxuXHQgICAgICAgICAgICAweDY4MDAwMDAxOiAweDIsXG5cdCAgICAgICAgICAgIDB4NzgwMDAwMDE6IDB4ODIwMixcblx0ICAgICAgICAgICAgMHg4ODAwMDAwMTogMHg4MDAyLFxuXHQgICAgICAgICAgICAweDk4MDAwMDAxOiAweDgwMDIwMixcblx0ICAgICAgICAgICAgMHhhODAwMDAwMTogMHgyMDIsXG5cdCAgICAgICAgICAgIDB4YjgwMDAwMDE6IDB4ODA4MjAwLFxuXHQgICAgICAgICAgICAweGM4MDAwMDAxOiAweDgwMDIwMCxcblx0ICAgICAgICAgICAgMHhkODAwMDAwMTogMHgwLFxuXHQgICAgICAgICAgICAweGU4MDAwMDAxOiAweDgyMDAsXG5cdCAgICAgICAgICAgIDB4ZjgwMDAwMDE6IDB4ODA4MDAyXG5cdCAgICAgICAgfSxcblx0ICAgICAgICB7XG5cdCAgICAgICAgICAgIDB4MDogMHg0MDA4NDAxMCxcblx0ICAgICAgICAgICAgMHgxMDAwMDAwOiAweDQwMDAsXG5cdCAgICAgICAgICAgIDB4MjAwMDAwMDogMHg4MDAwMCxcblx0ICAgICAgICAgICAgMHgzMDAwMDAwOiAweDQwMDgwMDEwLFxuXHQgICAgICAgICAgICAweDQwMDAwMDA6IDB4NDAwMDAwMTAsXG5cdCAgICAgICAgICAgIDB4NTAwMDAwMDogMHg0MDA4NDAwMCxcblx0ICAgICAgICAgICAgMHg2MDAwMDAwOiAweDQwMDA0MDAwLFxuXHQgICAgICAgICAgICAweDcwMDAwMDA6IDB4MTAsXG5cdCAgICAgICAgICAgIDB4ODAwMDAwMDogMHg4NDAwMCxcblx0ICAgICAgICAgICAgMHg5MDAwMDAwOiAweDQwMDA0MDEwLFxuXHQgICAgICAgICAgICAweGEwMDAwMDA6IDB4NDAwMDAwMDAsXG5cdCAgICAgICAgICAgIDB4YjAwMDAwMDogMHg4NDAxMCxcblx0ICAgICAgICAgICAgMHhjMDAwMDAwOiAweDgwMDEwLFxuXHQgICAgICAgICAgICAweGQwMDAwMDA6IDB4MCxcblx0ICAgICAgICAgICAgMHhlMDAwMDAwOiAweDQwMTAsXG5cdCAgICAgICAgICAgIDB4ZjAwMDAwMDogMHg0MDA4MDAwMCxcblx0ICAgICAgICAgICAgMHg4MDAwMDA6IDB4NDAwMDQwMDAsXG5cdCAgICAgICAgICAgIDB4MTgwMDAwMDogMHg4NDAxMCxcblx0ICAgICAgICAgICAgMHgyODAwMDAwOiAweDEwLFxuXHQgICAgICAgICAgICAweDM4MDAwMDA6IDB4NDAwMDQwMTAsXG5cdCAgICAgICAgICAgIDB4NDgwMDAwMDogMHg0MDA4NDAxMCxcblx0ICAgICAgICAgICAgMHg1ODAwMDAwOiAweDQwMDAwMDAwLFxuXHQgICAgICAgICAgICAweDY4MDAwMDA6IDB4ODAwMDAsXG5cdCAgICAgICAgICAgIDB4NzgwMDAwMDogMHg0MDA4MDAxMCxcblx0ICAgICAgICAgICAgMHg4ODAwMDAwOiAweDgwMDEwLFxuXHQgICAgICAgICAgICAweDk4MDAwMDA6IDB4MCxcblx0ICAgICAgICAgICAgMHhhODAwMDAwOiAweDQwMDAsXG5cdCAgICAgICAgICAgIDB4YjgwMDAwMDogMHg0MDA4MDAwMCxcblx0ICAgICAgICAgICAgMHhjODAwMDAwOiAweDQwMDAwMDEwLFxuXHQgICAgICAgICAgICAweGQ4MDAwMDA6IDB4ODQwMDAsXG5cdCAgICAgICAgICAgIDB4ZTgwMDAwMDogMHg0MDA4NDAwMCxcblx0ICAgICAgICAgICAgMHhmODAwMDAwOiAweDQwMTAsXG5cdCAgICAgICAgICAgIDB4MTAwMDAwMDA6IDB4MCxcblx0ICAgICAgICAgICAgMHgxMTAwMDAwMDogMHg0MDA4MDAxMCxcblx0ICAgICAgICAgICAgMHgxMjAwMDAwMDogMHg0MDAwNDAxMCxcblx0ICAgICAgICAgICAgMHgxMzAwMDAwMDogMHg0MDA4NDAwMCxcblx0ICAgICAgICAgICAgMHgxNDAwMDAwMDogMHg0MDA4MDAwMCxcblx0ICAgICAgICAgICAgMHgxNTAwMDAwMDogMHgxMCxcblx0ICAgICAgICAgICAgMHgxNjAwMDAwMDogMHg4NDAxMCxcblx0ICAgICAgICAgICAgMHgxNzAwMDAwMDogMHg0MDAwLFxuXHQgICAgICAgICAgICAweDE4MDAwMDAwOiAweDQwMTAsXG5cdCAgICAgICAgICAgIDB4MTkwMDAwMDA6IDB4ODAwMDAsXG5cdCAgICAgICAgICAgIDB4MWEwMDAwMDA6IDB4ODAwMTAsXG5cdCAgICAgICAgICAgIDB4MWIwMDAwMDA6IDB4NDAwMDAwMTAsXG5cdCAgICAgICAgICAgIDB4MWMwMDAwMDA6IDB4ODQwMDAsXG5cdCAgICAgICAgICAgIDB4MWQwMDAwMDA6IDB4NDAwMDQwMDAsXG5cdCAgICAgICAgICAgIDB4MWUwMDAwMDA6IDB4NDAwMDAwMDAsXG5cdCAgICAgICAgICAgIDB4MWYwMDAwMDA6IDB4NDAwODQwMTAsXG5cdCAgICAgICAgICAgIDB4MTA4MDAwMDA6IDB4ODQwMTAsXG5cdCAgICAgICAgICAgIDB4MTE4MDAwMDA6IDB4ODAwMDAsXG5cdCAgICAgICAgICAgIDB4MTI4MDAwMDA6IDB4NDAwODAwMDAsXG5cdCAgICAgICAgICAgIDB4MTM4MDAwMDA6IDB4NDAwMCxcblx0ICAgICAgICAgICAgMHgxNDgwMDAwMDogMHg0MDAwNDAwMCxcblx0ICAgICAgICAgICAgMHgxNTgwMDAwMDogMHg0MDA4NDAxMCxcblx0ICAgICAgICAgICAgMHgxNjgwMDAwMDogMHgxMCxcblx0ICAgICAgICAgICAgMHgxNzgwMDAwMDogMHg0MDAwMDAwMCxcblx0ICAgICAgICAgICAgMHgxODgwMDAwMDogMHg0MDA4NDAwMCxcblx0ICAgICAgICAgICAgMHgxOTgwMDAwMDogMHg0MDAwMDAxMCxcblx0ICAgICAgICAgICAgMHgxYTgwMDAwMDogMHg0MDAwNDAxMCxcblx0ICAgICAgICAgICAgMHgxYjgwMDAwMDogMHg4MDAxMCxcblx0ICAgICAgICAgICAgMHgxYzgwMDAwMDogMHgwLFxuXHQgICAgICAgICAgICAweDFkODAwMDAwOiAweDQwMTAsXG5cdCAgICAgICAgICAgIDB4MWU4MDAwMDA6IDB4NDAwODAwMTAsXG5cdCAgICAgICAgICAgIDB4MWY4MDAwMDA6IDB4ODQwMDBcblx0ICAgICAgICB9LFxuXHQgICAgICAgIHtcblx0ICAgICAgICAgICAgMHgwOiAweDEwNCxcblx0ICAgICAgICAgICAgMHgxMDAwMDA6IDB4MCxcblx0ICAgICAgICAgICAgMHgyMDAwMDA6IDB4NDAwMDEwMCxcblx0ICAgICAgICAgICAgMHgzMDAwMDA6IDB4MTAxMDQsXG5cdCAgICAgICAgICAgIDB4NDAwMDAwOiAweDEwMDA0LFxuXHQgICAgICAgICAgICAweDUwMDAwMDogMHg0MDAwMDA0LFxuXHQgICAgICAgICAgICAweDYwMDAwMDogMHg0MDEwMTA0LFxuXHQgICAgICAgICAgICAweDcwMDAwMDogMHg0MDEwMDAwLFxuXHQgICAgICAgICAgICAweDgwMDAwMDogMHg0MDAwMDAwLFxuXHQgICAgICAgICAgICAweDkwMDAwMDogMHg0MDEwMTAwLFxuXHQgICAgICAgICAgICAweGEwMDAwMDogMHgxMDEwMCxcblx0ICAgICAgICAgICAgMHhiMDAwMDA6IDB4NDAxMDAwNCxcblx0ICAgICAgICAgICAgMHhjMDAwMDA6IDB4NDAwMDEwNCxcblx0ICAgICAgICAgICAgMHhkMDAwMDA6IDB4MTAwMDAsXG5cdCAgICAgICAgICAgIDB4ZTAwMDAwOiAweDQsXG5cdCAgICAgICAgICAgIDB4ZjAwMDAwOiAweDEwMCxcblx0ICAgICAgICAgICAgMHg4MDAwMDogMHg0MDEwMTAwLFxuXHQgICAgICAgICAgICAweDE4MDAwMDogMHg0MDEwMDA0LFxuXHQgICAgICAgICAgICAweDI4MDAwMDogMHgwLFxuXHQgICAgICAgICAgICAweDM4MDAwMDogMHg0MDAwMTAwLFxuXHQgICAgICAgICAgICAweDQ4MDAwMDogMHg0MDAwMDA0LFxuXHQgICAgICAgICAgICAweDU4MDAwMDogMHgxMDAwMCxcblx0ICAgICAgICAgICAgMHg2ODAwMDA6IDB4MTAwMDQsXG5cdCAgICAgICAgICAgIDB4NzgwMDAwOiAweDEwNCxcblx0ICAgICAgICAgICAgMHg4ODAwMDA6IDB4NCxcblx0ICAgICAgICAgICAgMHg5ODAwMDA6IDB4MTAwLFxuXHQgICAgICAgICAgICAweGE4MDAwMDogMHg0MDEwMDAwLFxuXHQgICAgICAgICAgICAweGI4MDAwMDogMHgxMDEwNCxcblx0ICAgICAgICAgICAgMHhjODAwMDA6IDB4MTAxMDAsXG5cdCAgICAgICAgICAgIDB4ZDgwMDAwOiAweDQwMDAxMDQsXG5cdCAgICAgICAgICAgIDB4ZTgwMDAwOiAweDQwMTAxMDQsXG5cdCAgICAgICAgICAgIDB4ZjgwMDAwOiAweDQwMDAwMDAsXG5cdCAgICAgICAgICAgIDB4MTAwMDAwMDogMHg0MDEwMTAwLFxuXHQgICAgICAgICAgICAweDExMDAwMDA6IDB4MTAwMDQsXG5cdCAgICAgICAgICAgIDB4MTIwMDAwMDogMHgxMDAwMCxcblx0ICAgICAgICAgICAgMHgxMzAwMDAwOiAweDQwMDAxMDAsXG5cdCAgICAgICAgICAgIDB4MTQwMDAwMDogMHgxMDAsXG5cdCAgICAgICAgICAgIDB4MTUwMDAwMDogMHg0MDEwMTA0LFxuXHQgICAgICAgICAgICAweDE2MDAwMDA6IDB4NDAwMDAwNCxcblx0ICAgICAgICAgICAgMHgxNzAwMDAwOiAweDAsXG5cdCAgICAgICAgICAgIDB4MTgwMDAwMDogMHg0MDAwMTA0LFxuXHQgICAgICAgICAgICAweDE5MDAwMDA6IDB4NDAwMDAwMCxcblx0ICAgICAgICAgICAgMHgxYTAwMDAwOiAweDQsXG5cdCAgICAgICAgICAgIDB4MWIwMDAwMDogMHgxMDEwMCxcblx0ICAgICAgICAgICAgMHgxYzAwMDAwOiAweDQwMTAwMDAsXG5cdCAgICAgICAgICAgIDB4MWQwMDAwMDogMHgxMDQsXG5cdCAgICAgICAgICAgIDB4MWUwMDAwMDogMHgxMDEwNCxcblx0ICAgICAgICAgICAgMHgxZjAwMDAwOiAweDQwMTAwMDQsXG5cdCAgICAgICAgICAgIDB4MTA4MDAwMDogMHg0MDAwMDAwLFxuXHQgICAgICAgICAgICAweDExODAwMDA6IDB4MTA0LFxuXHQgICAgICAgICAgICAweDEyODAwMDA6IDB4NDAxMDEwMCxcblx0ICAgICAgICAgICAgMHgxMzgwMDAwOiAweDAsXG5cdCAgICAgICAgICAgIDB4MTQ4MDAwMDogMHgxMDAwNCxcblx0ICAgICAgICAgICAgMHgxNTgwMDAwOiAweDQwMDAxMDAsXG5cdCAgICAgICAgICAgIDB4MTY4MDAwMDogMHgxMDAsXG5cdCAgICAgICAgICAgIDB4MTc4MDAwMDogMHg0MDEwMDA0LFxuXHQgICAgICAgICAgICAweDE4ODAwMDA6IDB4MTAwMDAsXG5cdCAgICAgICAgICAgIDB4MTk4MDAwMDogMHg0MDEwMTA0LFxuXHQgICAgICAgICAgICAweDFhODAwMDA6IDB4MTAxMDQsXG5cdCAgICAgICAgICAgIDB4MWI4MDAwMDogMHg0MDAwMDA0LFxuXHQgICAgICAgICAgICAweDFjODAwMDA6IDB4NDAwMDEwNCxcblx0ICAgICAgICAgICAgMHgxZDgwMDAwOiAweDQwMTAwMDAsXG5cdCAgICAgICAgICAgIDB4MWU4MDAwMDogMHg0LFxuXHQgICAgICAgICAgICAweDFmODAwMDA6IDB4MTAxMDBcblx0ICAgICAgICB9LFxuXHQgICAgICAgIHtcblx0ICAgICAgICAgICAgMHgwOiAweDgwNDAxMDAwLFxuXHQgICAgICAgICAgICAweDEwMDAwOiAweDgwMDAxMDQwLFxuXHQgICAgICAgICAgICAweDIwMDAwOiAweDQwMTA0MCxcblx0ICAgICAgICAgICAgMHgzMDAwMDogMHg4MDQwMDAwMCxcblx0ICAgICAgICAgICAgMHg0MDAwMDogMHgwLFxuXHQgICAgICAgICAgICAweDUwMDAwOiAweDQwMTAwMCxcblx0ICAgICAgICAgICAgMHg2MDAwMDogMHg4MDAwMDA0MCxcblx0ICAgICAgICAgICAgMHg3MDAwMDogMHg0MDAwNDAsXG5cdCAgICAgICAgICAgIDB4ODAwMDA6IDB4ODAwMDAwMDAsXG5cdCAgICAgICAgICAgIDB4OTAwMDA6IDB4NDAwMDAwLFxuXHQgICAgICAgICAgICAweGEwMDAwOiAweDQwLFxuXHQgICAgICAgICAgICAweGIwMDAwOiAweDgwMDAxMDAwLFxuXHQgICAgICAgICAgICAweGMwMDAwOiAweDgwNDAwMDQwLFxuXHQgICAgICAgICAgICAweGQwMDAwOiAweDEwNDAsXG5cdCAgICAgICAgICAgIDB4ZTAwMDA6IDB4MTAwMCxcblx0ICAgICAgICAgICAgMHhmMDAwMDogMHg4MDQwMTA0MCxcblx0ICAgICAgICAgICAgMHg4MDAwOiAweDgwMDAxMDQwLFxuXHQgICAgICAgICAgICAweDE4MDAwOiAweDQwLFxuXHQgICAgICAgICAgICAweDI4MDAwOiAweDgwNDAwMDQwLFxuXHQgICAgICAgICAgICAweDM4MDAwOiAweDgwMDAxMDAwLFxuXHQgICAgICAgICAgICAweDQ4MDAwOiAweDQwMTAwMCxcblx0ICAgICAgICAgICAgMHg1ODAwMDogMHg4MDQwMTA0MCxcblx0ICAgICAgICAgICAgMHg2ODAwMDogMHgwLFxuXHQgICAgICAgICAgICAweDc4MDAwOiAweDgwNDAwMDAwLFxuXHQgICAgICAgICAgICAweDg4MDAwOiAweDEwMDAsXG5cdCAgICAgICAgICAgIDB4OTgwMDA6IDB4ODA0MDEwMDAsXG5cdCAgICAgICAgICAgIDB4YTgwMDA6IDB4NDAwMDAwLFxuXHQgICAgICAgICAgICAweGI4MDAwOiAweDEwNDAsXG5cdCAgICAgICAgICAgIDB4YzgwMDA6IDB4ODAwMDAwMDAsXG5cdCAgICAgICAgICAgIDB4ZDgwMDA6IDB4NDAwMDQwLFxuXHQgICAgICAgICAgICAweGU4MDAwOiAweDQwMTA0MCxcblx0ICAgICAgICAgICAgMHhmODAwMDogMHg4MDAwMDA0MCxcblx0ICAgICAgICAgICAgMHgxMDAwMDA6IDB4NDAwMDQwLFxuXHQgICAgICAgICAgICAweDExMDAwMDogMHg0MDEwMDAsXG5cdCAgICAgICAgICAgIDB4MTIwMDAwOiAweDgwMDAwMDQwLFxuXHQgICAgICAgICAgICAweDEzMDAwMDogMHgwLFxuXHQgICAgICAgICAgICAweDE0MDAwMDogMHgxMDQwLFxuXHQgICAgICAgICAgICAweDE1MDAwMDogMHg4MDQwMDA0MCxcblx0ICAgICAgICAgICAgMHgxNjAwMDA6IDB4ODA0MDEwMDAsXG5cdCAgICAgICAgICAgIDB4MTcwMDAwOiAweDgwMDAxMDQwLFxuXHQgICAgICAgICAgICAweDE4MDAwMDogMHg4MDQwMTA0MCxcblx0ICAgICAgICAgICAgMHgxOTAwMDA6IDB4ODAwMDAwMDAsXG5cdCAgICAgICAgICAgIDB4MWEwMDAwOiAweDgwNDAwMDAwLFxuXHQgICAgICAgICAgICAweDFiMDAwMDogMHg0MDEwNDAsXG5cdCAgICAgICAgICAgIDB4MWMwMDAwOiAweDgwMDAxMDAwLFxuXHQgICAgICAgICAgICAweDFkMDAwMDogMHg0MDAwMDAsXG5cdCAgICAgICAgICAgIDB4MWUwMDAwOiAweDQwLFxuXHQgICAgICAgICAgICAweDFmMDAwMDogMHgxMDAwLFxuXHQgICAgICAgICAgICAweDEwODAwMDogMHg4MDQwMDAwMCxcblx0ICAgICAgICAgICAgMHgxMTgwMDA6IDB4ODA0MDEwNDAsXG5cdCAgICAgICAgICAgIDB4MTI4MDAwOiAweDAsXG5cdCAgICAgICAgICAgIDB4MTM4MDAwOiAweDQwMTAwMCxcblx0ICAgICAgICAgICAgMHgxNDgwMDA6IDB4NDAwMDQwLFxuXHQgICAgICAgICAgICAweDE1ODAwMDogMHg4MDAwMDAwMCxcblx0ICAgICAgICAgICAgMHgxNjgwMDA6IDB4ODAwMDEwNDAsXG5cdCAgICAgICAgICAgIDB4MTc4MDAwOiAweDQwLFxuXHQgICAgICAgICAgICAweDE4ODAwMDogMHg4MDAwMDA0MCxcblx0ICAgICAgICAgICAgMHgxOTgwMDA6IDB4MTAwMCxcblx0ICAgICAgICAgICAgMHgxYTgwMDA6IDB4ODAwMDEwMDAsXG5cdCAgICAgICAgICAgIDB4MWI4MDAwOiAweDgwNDAwMDQwLFxuXHQgICAgICAgICAgICAweDFjODAwMDogMHgxMDQwLFxuXHQgICAgICAgICAgICAweDFkODAwMDogMHg4MDQwMTAwMCxcblx0ICAgICAgICAgICAgMHgxZTgwMDA6IDB4NDAwMDAwLFxuXHQgICAgICAgICAgICAweDFmODAwMDogMHg0MDEwNDBcblx0ICAgICAgICB9LFxuXHQgICAgICAgIHtcblx0ICAgICAgICAgICAgMHgwOiAweDgwLFxuXHQgICAgICAgICAgICAweDEwMDA6IDB4MTA0MDAwMCxcblx0ICAgICAgICAgICAgMHgyMDAwOiAweDQwMDAwLFxuXHQgICAgICAgICAgICAweDMwMDA6IDB4MjAwMDAwMDAsXG5cdCAgICAgICAgICAgIDB4NDAwMDogMHgyMDA0MDA4MCxcblx0ICAgICAgICAgICAgMHg1MDAwOiAweDEwMDAwODAsXG5cdCAgICAgICAgICAgIDB4NjAwMDogMHgyMTAwMDA4MCxcblx0ICAgICAgICAgICAgMHg3MDAwOiAweDQwMDgwLFxuXHQgICAgICAgICAgICAweDgwMDA6IDB4MTAwMDAwMCxcblx0ICAgICAgICAgICAgMHg5MDAwOiAweDIwMDQwMDAwLFxuXHQgICAgICAgICAgICAweGEwMDA6IDB4MjAwMDAwODAsXG5cdCAgICAgICAgICAgIDB4YjAwMDogMHgyMTA0MDA4MCxcblx0ICAgICAgICAgICAgMHhjMDAwOiAweDIxMDQwMDAwLFxuXHQgICAgICAgICAgICAweGQwMDA6IDB4MCxcblx0ICAgICAgICAgICAgMHhlMDAwOiAweDEwNDAwODAsXG5cdCAgICAgICAgICAgIDB4ZjAwMDogMHgyMTAwMDAwMCxcblx0ICAgICAgICAgICAgMHg4MDA6IDB4MTA0MDA4MCxcblx0ICAgICAgICAgICAgMHgxODAwOiAweDIxMDAwMDgwLFxuXHQgICAgICAgICAgICAweDI4MDA6IDB4ODAsXG5cdCAgICAgICAgICAgIDB4MzgwMDogMHgxMDQwMDAwLFxuXHQgICAgICAgICAgICAweDQ4MDA6IDB4NDAwMDAsXG5cdCAgICAgICAgICAgIDB4NTgwMDogMHgyMDA0MDA4MCxcblx0ICAgICAgICAgICAgMHg2ODAwOiAweDIxMDQwMDAwLFxuXHQgICAgICAgICAgICAweDc4MDA6IDB4MjAwMDAwMDAsXG5cdCAgICAgICAgICAgIDB4ODgwMDogMHgyMDA0MDAwMCxcblx0ICAgICAgICAgICAgMHg5ODAwOiAweDAsXG5cdCAgICAgICAgICAgIDB4YTgwMDogMHgyMTA0MDA4MCxcblx0ICAgICAgICAgICAgMHhiODAwOiAweDEwMDAwODAsXG5cdCAgICAgICAgICAgIDB4YzgwMDogMHgyMDAwMDA4MCxcblx0ICAgICAgICAgICAgMHhkODAwOiAweDIxMDAwMDAwLFxuXHQgICAgICAgICAgICAweGU4MDA6IDB4MTAwMDAwMCxcblx0ICAgICAgICAgICAgMHhmODAwOiAweDQwMDgwLFxuXHQgICAgICAgICAgICAweDEwMDAwOiAweDQwMDAwLFxuXHQgICAgICAgICAgICAweDExMDAwOiAweDgwLFxuXHQgICAgICAgICAgICAweDEyMDAwOiAweDIwMDAwMDAwLFxuXHQgICAgICAgICAgICAweDEzMDAwOiAweDIxMDAwMDgwLFxuXHQgICAgICAgICAgICAweDE0MDAwOiAweDEwMDAwODAsXG5cdCAgICAgICAgICAgIDB4MTUwMDA6IDB4MjEwNDAwMDAsXG5cdCAgICAgICAgICAgIDB4MTYwMDA6IDB4MjAwNDAwODAsXG5cdCAgICAgICAgICAgIDB4MTcwMDA6IDB4MTAwMDAwMCxcblx0ICAgICAgICAgICAgMHgxODAwMDogMHgyMTA0MDA4MCxcblx0ICAgICAgICAgICAgMHgxOTAwMDogMHgyMTAwMDAwMCxcblx0ICAgICAgICAgICAgMHgxYTAwMDogMHgxMDQwMDAwLFxuXHQgICAgICAgICAgICAweDFiMDAwOiAweDIwMDQwMDAwLFxuXHQgICAgICAgICAgICAweDFjMDAwOiAweDQwMDgwLFxuXHQgICAgICAgICAgICAweDFkMDAwOiAweDIwMDAwMDgwLFxuXHQgICAgICAgICAgICAweDFlMDAwOiAweDAsXG5cdCAgICAgICAgICAgIDB4MWYwMDA6IDB4MTA0MDA4MCxcblx0ICAgICAgICAgICAgMHgxMDgwMDogMHgyMTAwMDA4MCxcblx0ICAgICAgICAgICAgMHgxMTgwMDogMHgxMDAwMDAwLFxuXHQgICAgICAgICAgICAweDEyODAwOiAweDEwNDAwMDAsXG5cdCAgICAgICAgICAgIDB4MTM4MDA6IDB4MjAwNDAwODAsXG5cdCAgICAgICAgICAgIDB4MTQ4MDA6IDB4MjAwMDAwMDAsXG5cdCAgICAgICAgICAgIDB4MTU4MDA6IDB4MTA0MDA4MCxcblx0ICAgICAgICAgICAgMHgxNjgwMDogMHg4MCxcblx0ICAgICAgICAgICAgMHgxNzgwMDogMHgyMTA0MDAwMCxcblx0ICAgICAgICAgICAgMHgxODgwMDogMHg0MDA4MCxcblx0ICAgICAgICAgICAgMHgxOTgwMDogMHgyMTA0MDA4MCxcblx0ICAgICAgICAgICAgMHgxYTgwMDogMHgwLFxuXHQgICAgICAgICAgICAweDFiODAwOiAweDIxMDAwMDAwLFxuXHQgICAgICAgICAgICAweDFjODAwOiAweDEwMDAwODAsXG5cdCAgICAgICAgICAgIDB4MWQ4MDA6IDB4NDAwMDAsXG5cdCAgICAgICAgICAgIDB4MWU4MDA6IDB4MjAwNDAwMDAsXG5cdCAgICAgICAgICAgIDB4MWY4MDA6IDB4MjAwMDAwODBcblx0ICAgICAgICB9LFxuXHQgICAgICAgIHtcblx0ICAgICAgICAgICAgMHgwOiAweDEwMDAwMDA4LFxuXHQgICAgICAgICAgICAweDEwMDogMHgyMDAwLFxuXHQgICAgICAgICAgICAweDIwMDogMHgxMDIwMDAwMCxcblx0ICAgICAgICAgICAgMHgzMDA6IDB4MTAyMDIwMDgsXG5cdCAgICAgICAgICAgIDB4NDAwOiAweDEwMDAyMDAwLFxuXHQgICAgICAgICAgICAweDUwMDogMHgyMDAwMDAsXG5cdCAgICAgICAgICAgIDB4NjAwOiAweDIwMDAwOCxcblx0ICAgICAgICAgICAgMHg3MDA6IDB4MTAwMDAwMDAsXG5cdCAgICAgICAgICAgIDB4ODAwOiAweDAsXG5cdCAgICAgICAgICAgIDB4OTAwOiAweDEwMDAyMDA4LFxuXHQgICAgICAgICAgICAweGEwMDogMHgyMDIwMDAsXG5cdCAgICAgICAgICAgIDB4YjAwOiAweDgsXG5cdCAgICAgICAgICAgIDB4YzAwOiAweDEwMjAwMDA4LFxuXHQgICAgICAgICAgICAweGQwMDogMHgyMDIwMDgsXG5cdCAgICAgICAgICAgIDB4ZTAwOiAweDIwMDgsXG5cdCAgICAgICAgICAgIDB4ZjAwOiAweDEwMjAyMDAwLFxuXHQgICAgICAgICAgICAweDgwOiAweDEwMjAwMDAwLFxuXHQgICAgICAgICAgICAweDE4MDogMHgxMDIwMjAwOCxcblx0ICAgICAgICAgICAgMHgyODA6IDB4OCxcblx0ICAgICAgICAgICAgMHgzODA6IDB4MjAwMDAwLFxuXHQgICAgICAgICAgICAweDQ4MDogMHgyMDIwMDgsXG5cdCAgICAgICAgICAgIDB4NTgwOiAweDEwMDAwMDA4LFxuXHQgICAgICAgICAgICAweDY4MDogMHgxMDAwMjAwMCxcblx0ICAgICAgICAgICAgMHg3ODA6IDB4MjAwOCxcblx0ICAgICAgICAgICAgMHg4ODA6IDB4MjAwMDA4LFxuXHQgICAgICAgICAgICAweDk4MDogMHgyMDAwLFxuXHQgICAgICAgICAgICAweGE4MDogMHgxMDAwMjAwOCxcblx0ICAgICAgICAgICAgMHhiODA6IDB4MTAyMDAwMDgsXG5cdCAgICAgICAgICAgIDB4YzgwOiAweDAsXG5cdCAgICAgICAgICAgIDB4ZDgwOiAweDEwMjAyMDAwLFxuXHQgICAgICAgICAgICAweGU4MDogMHgyMDIwMDAsXG5cdCAgICAgICAgICAgIDB4ZjgwOiAweDEwMDAwMDAwLFxuXHQgICAgICAgICAgICAweDEwMDA6IDB4MTAwMDIwMDAsXG5cdCAgICAgICAgICAgIDB4MTEwMDogMHgxMDIwMDAwOCxcblx0ICAgICAgICAgICAgMHgxMjAwOiAweDEwMjAyMDA4LFxuXHQgICAgICAgICAgICAweDEzMDA6IDB4MjAwOCxcblx0ICAgICAgICAgICAgMHgxNDAwOiAweDIwMDAwMCxcblx0ICAgICAgICAgICAgMHgxNTAwOiAweDEwMDAwMDAwLFxuXHQgICAgICAgICAgICAweDE2MDA6IDB4MTAwMDAwMDgsXG5cdCAgICAgICAgICAgIDB4MTcwMDogMHgyMDIwMDAsXG5cdCAgICAgICAgICAgIDB4MTgwMDogMHgyMDIwMDgsXG5cdCAgICAgICAgICAgIDB4MTkwMDogMHgwLFxuXHQgICAgICAgICAgICAweDFhMDA6IDB4OCxcblx0ICAgICAgICAgICAgMHgxYjAwOiAweDEwMjAwMDAwLFxuXHQgICAgICAgICAgICAweDFjMDA6IDB4MjAwMCxcblx0ICAgICAgICAgICAgMHgxZDAwOiAweDEwMDAyMDA4LFxuXHQgICAgICAgICAgICAweDFlMDA6IDB4MTAyMDIwMDAsXG5cdCAgICAgICAgICAgIDB4MWYwMDogMHgyMDAwMDgsXG5cdCAgICAgICAgICAgIDB4MTA4MDogMHg4LFxuXHQgICAgICAgICAgICAweDExODA6IDB4MjAyMDAwLFxuXHQgICAgICAgICAgICAweDEyODA6IDB4MjAwMDAwLFxuXHQgICAgICAgICAgICAweDEzODA6IDB4MTAwMDAwMDgsXG5cdCAgICAgICAgICAgIDB4MTQ4MDogMHgxMDAwMjAwMCxcblx0ICAgICAgICAgICAgMHgxNTgwOiAweDIwMDgsXG5cdCAgICAgICAgICAgIDB4MTY4MDogMHgxMDIwMjAwOCxcblx0ICAgICAgICAgICAgMHgxNzgwOiAweDEwMjAwMDAwLFxuXHQgICAgICAgICAgICAweDE4ODA6IDB4MTAyMDIwMDAsXG5cdCAgICAgICAgICAgIDB4MTk4MDogMHgxMDIwMDAwOCxcblx0ICAgICAgICAgICAgMHgxYTgwOiAweDIwMDAsXG5cdCAgICAgICAgICAgIDB4MWI4MDogMHgyMDIwMDgsXG5cdCAgICAgICAgICAgIDB4MWM4MDogMHgyMDAwMDgsXG5cdCAgICAgICAgICAgIDB4MWQ4MDogMHgwLFxuXHQgICAgICAgICAgICAweDFlODA6IDB4MTAwMDAwMDAsXG5cdCAgICAgICAgICAgIDB4MWY4MDogMHgxMDAwMjAwOFxuXHQgICAgICAgIH0sXG5cdCAgICAgICAge1xuXHQgICAgICAgICAgICAweDA6IDB4MTAwMDAwLFxuXHQgICAgICAgICAgICAweDEwOiAweDIwMDA0MDEsXG5cdCAgICAgICAgICAgIDB4MjA6IDB4NDAwLFxuXHQgICAgICAgICAgICAweDMwOiAweDEwMDQwMSxcblx0ICAgICAgICAgICAgMHg0MDogMHgyMTAwNDAxLFxuXHQgICAgICAgICAgICAweDUwOiAweDAsXG5cdCAgICAgICAgICAgIDB4NjA6IDB4MSxcblx0ICAgICAgICAgICAgMHg3MDogMHgyMTAwMDAxLFxuXHQgICAgICAgICAgICAweDgwOiAweDIwMDA0MDAsXG5cdCAgICAgICAgICAgIDB4OTA6IDB4MTAwMDAxLFxuXHQgICAgICAgICAgICAweGEwOiAweDIwMDAwMDEsXG5cdCAgICAgICAgICAgIDB4YjA6IDB4MjEwMDQwMCxcblx0ICAgICAgICAgICAgMHhjMDogMHgyMTAwMDAwLFxuXHQgICAgICAgICAgICAweGQwOiAweDQwMSxcblx0ICAgICAgICAgICAgMHhlMDogMHgxMDA0MDAsXG5cdCAgICAgICAgICAgIDB4ZjA6IDB4MjAwMDAwMCxcblx0ICAgICAgICAgICAgMHg4OiAweDIxMDAwMDEsXG5cdCAgICAgICAgICAgIDB4MTg6IDB4MCxcblx0ICAgICAgICAgICAgMHgyODogMHgyMDAwNDAxLFxuXHQgICAgICAgICAgICAweDM4OiAweDIxMDA0MDAsXG5cdCAgICAgICAgICAgIDB4NDg6IDB4MTAwMDAwLFxuXHQgICAgICAgICAgICAweDU4OiAweDIwMDAwMDEsXG5cdCAgICAgICAgICAgIDB4Njg6IDB4MjAwMDAwMCxcblx0ICAgICAgICAgICAgMHg3ODogMHg0MDEsXG5cdCAgICAgICAgICAgIDB4ODg6IDB4MTAwNDAxLFxuXHQgICAgICAgICAgICAweDk4OiAweDIwMDA0MDAsXG5cdCAgICAgICAgICAgIDB4YTg6IDB4MjEwMDAwMCxcblx0ICAgICAgICAgICAgMHhiODogMHgxMDAwMDEsXG5cdCAgICAgICAgICAgIDB4Yzg6IDB4NDAwLFxuXHQgICAgICAgICAgICAweGQ4OiAweDIxMDA0MDEsXG5cdCAgICAgICAgICAgIDB4ZTg6IDB4MSxcblx0ICAgICAgICAgICAgMHhmODogMHgxMDA0MDAsXG5cdCAgICAgICAgICAgIDB4MTAwOiAweDIwMDAwMDAsXG5cdCAgICAgICAgICAgIDB4MTEwOiAweDEwMDAwMCxcblx0ICAgICAgICAgICAgMHgxMjA6IDB4MjAwMDQwMSxcblx0ICAgICAgICAgICAgMHgxMzA6IDB4MjEwMDAwMSxcblx0ICAgICAgICAgICAgMHgxNDA6IDB4MTAwMDAxLFxuXHQgICAgICAgICAgICAweDE1MDogMHgyMDAwNDAwLFxuXHQgICAgICAgICAgICAweDE2MDogMHgyMTAwNDAwLFxuXHQgICAgICAgICAgICAweDE3MDogMHgxMDA0MDEsXG5cdCAgICAgICAgICAgIDB4MTgwOiAweDQwMSxcblx0ICAgICAgICAgICAgMHgxOTA6IDB4MjEwMDQwMSxcblx0ICAgICAgICAgICAgMHgxYTA6IDB4MTAwNDAwLFxuXHQgICAgICAgICAgICAweDFiMDogMHgxLFxuXHQgICAgICAgICAgICAweDFjMDogMHgwLFxuXHQgICAgICAgICAgICAweDFkMDogMHgyMTAwMDAwLFxuXHQgICAgICAgICAgICAweDFlMDogMHgyMDAwMDAxLFxuXHQgICAgICAgICAgICAweDFmMDogMHg0MDAsXG5cdCAgICAgICAgICAgIDB4MTA4OiAweDEwMDQwMCxcblx0ICAgICAgICAgICAgMHgxMTg6IDB4MjAwMDQwMSxcblx0ICAgICAgICAgICAgMHgxMjg6IDB4MjEwMDAwMSxcblx0ICAgICAgICAgICAgMHgxMzg6IDB4MSxcblx0ICAgICAgICAgICAgMHgxNDg6IDB4MjAwMDAwMCxcblx0ICAgICAgICAgICAgMHgxNTg6IDB4MTAwMDAwLFxuXHQgICAgICAgICAgICAweDE2ODogMHg0MDEsXG5cdCAgICAgICAgICAgIDB4MTc4OiAweDIxMDA0MDAsXG5cdCAgICAgICAgICAgIDB4MTg4OiAweDIwMDAwMDEsXG5cdCAgICAgICAgICAgIDB4MTk4OiAweDIxMDAwMDAsXG5cdCAgICAgICAgICAgIDB4MWE4OiAweDAsXG5cdCAgICAgICAgICAgIDB4MWI4OiAweDIxMDA0MDEsXG5cdCAgICAgICAgICAgIDB4MWM4OiAweDEwMDQwMSxcblx0ICAgICAgICAgICAgMHgxZDg6IDB4NDAwLFxuXHQgICAgICAgICAgICAweDFlODogMHgyMDAwNDAwLFxuXHQgICAgICAgICAgICAweDFmODogMHgxMDAwMDFcblx0ICAgICAgICB9LFxuXHQgICAgICAgIHtcblx0ICAgICAgICAgICAgMHgwOiAweDgwMDA4MjAsXG5cdCAgICAgICAgICAgIDB4MTogMHgyMDAwMCxcblx0ICAgICAgICAgICAgMHgyOiAweDgwMDAwMDAsXG5cdCAgICAgICAgICAgIDB4MzogMHgyMCxcblx0ICAgICAgICAgICAgMHg0OiAweDIwMDIwLFxuXHQgICAgICAgICAgICAweDU6IDB4ODAyMDgyMCxcblx0ICAgICAgICAgICAgMHg2OiAweDgwMjA4MDAsXG5cdCAgICAgICAgICAgIDB4NzogMHg4MDAsXG5cdCAgICAgICAgICAgIDB4ODogMHg4MDIwMDAwLFxuXHQgICAgICAgICAgICAweDk6IDB4ODAwMDgwMCxcblx0ICAgICAgICAgICAgMHhhOiAweDIwODAwLFxuXHQgICAgICAgICAgICAweGI6IDB4ODAyMDAyMCxcblx0ICAgICAgICAgICAgMHhjOiAweDgyMCxcblx0ICAgICAgICAgICAgMHhkOiAweDAsXG5cdCAgICAgICAgICAgIDB4ZTogMHg4MDAwMDIwLFxuXHQgICAgICAgICAgICAweGY6IDB4MjA4MjAsXG5cdCAgICAgICAgICAgIDB4ODAwMDAwMDA6IDB4ODAwLFxuXHQgICAgICAgICAgICAweDgwMDAwMDAxOiAweDgwMjA4MjAsXG5cdCAgICAgICAgICAgIDB4ODAwMDAwMDI6IDB4ODAwMDgyMCxcblx0ICAgICAgICAgICAgMHg4MDAwMDAwMzogMHg4MDAwMDAwLFxuXHQgICAgICAgICAgICAweDgwMDAwMDA0OiAweDgwMjAwMDAsXG5cdCAgICAgICAgICAgIDB4ODAwMDAwMDU6IDB4MjA4MDAsXG5cdCAgICAgICAgICAgIDB4ODAwMDAwMDY6IDB4MjA4MjAsXG5cdCAgICAgICAgICAgIDB4ODAwMDAwMDc6IDB4MjAsXG5cdCAgICAgICAgICAgIDB4ODAwMDAwMDg6IDB4ODAwMDAyMCxcblx0ICAgICAgICAgICAgMHg4MDAwMDAwOTogMHg4MjAsXG5cdCAgICAgICAgICAgIDB4ODAwMDAwMGE6IDB4MjAwMjAsXG5cdCAgICAgICAgICAgIDB4ODAwMDAwMGI6IDB4ODAyMDgwMCxcblx0ICAgICAgICAgICAgMHg4MDAwMDAwYzogMHgwLFxuXHQgICAgICAgICAgICAweDgwMDAwMDBkOiAweDgwMjAwMjAsXG5cdCAgICAgICAgICAgIDB4ODAwMDAwMGU6IDB4ODAwMDgwMCxcblx0ICAgICAgICAgICAgMHg4MDAwMDAwZjogMHgyMDAwMCxcblx0ICAgICAgICAgICAgMHgxMDogMHgyMDgyMCxcblx0ICAgICAgICAgICAgMHgxMTogMHg4MDIwODAwLFxuXHQgICAgICAgICAgICAweDEyOiAweDIwLFxuXHQgICAgICAgICAgICAweDEzOiAweDgwMCxcblx0ICAgICAgICAgICAgMHgxNDogMHg4MDAwODAwLFxuXHQgICAgICAgICAgICAweDE1OiAweDgwMDAwMjAsXG5cdCAgICAgICAgICAgIDB4MTY6IDB4ODAyMDAyMCxcblx0ICAgICAgICAgICAgMHgxNzogMHgyMDAwMCxcblx0ICAgICAgICAgICAgMHgxODogMHgwLFxuXHQgICAgICAgICAgICAweDE5OiAweDIwMDIwLFxuXHQgICAgICAgICAgICAweDFhOiAweDgwMjAwMDAsXG5cdCAgICAgICAgICAgIDB4MWI6IDB4ODAwMDgyMCxcblx0ICAgICAgICAgICAgMHgxYzogMHg4MDIwODIwLFxuXHQgICAgICAgICAgICAweDFkOiAweDIwODAwLFxuXHQgICAgICAgICAgICAweDFlOiAweDgyMCxcblx0ICAgICAgICAgICAgMHgxZjogMHg4MDAwMDAwLFxuXHQgICAgICAgICAgICAweDgwMDAwMDEwOiAweDIwMDAwLFxuXHQgICAgICAgICAgICAweDgwMDAwMDExOiAweDgwMCxcblx0ICAgICAgICAgICAgMHg4MDAwMDAxMjogMHg4MDIwMDIwLFxuXHQgICAgICAgICAgICAweDgwMDAwMDEzOiAweDIwODIwLFxuXHQgICAgICAgICAgICAweDgwMDAwMDE0OiAweDIwLFxuXHQgICAgICAgICAgICAweDgwMDAwMDE1OiAweDgwMjAwMDAsXG5cdCAgICAgICAgICAgIDB4ODAwMDAwMTY6IDB4ODAwMDAwMCxcblx0ICAgICAgICAgICAgMHg4MDAwMDAxNzogMHg4MDAwODIwLFxuXHQgICAgICAgICAgICAweDgwMDAwMDE4OiAweDgwMjA4MjAsXG5cdCAgICAgICAgICAgIDB4ODAwMDAwMTk6IDB4ODAwMDAyMCxcblx0ICAgICAgICAgICAgMHg4MDAwMDAxYTogMHg4MDAwODAwLFxuXHQgICAgICAgICAgICAweDgwMDAwMDFiOiAweDAsXG5cdCAgICAgICAgICAgIDB4ODAwMDAwMWM6IDB4MjA4MDAsXG5cdCAgICAgICAgICAgIDB4ODAwMDAwMWQ6IDB4ODIwLFxuXHQgICAgICAgICAgICAweDgwMDAwMDFlOiAweDIwMDIwLFxuXHQgICAgICAgICAgICAweDgwMDAwMDFmOiAweDgwMjA4MDBcblx0ICAgICAgICB9XG5cdCAgICBdO1xuXG5cdCAgICAvLyBNYXNrcyB0aGF0IHNlbGVjdCB0aGUgU0JPWCBpbnB1dFxuXHQgICAgdmFyIFNCT1hfTUFTSyA9IFtcblx0ICAgICAgICAweGY4MDAwMDAxLCAweDFmODAwMDAwLCAweDAxZjgwMDAwLCAweDAwMWY4MDAwLFxuXHQgICAgICAgIDB4MDAwMWY4MDAsIDB4MDAwMDFmODAsIDB4MDAwMDAxZjgsIDB4ODAwMDAwMWZcblx0ICAgIF07XG5cblx0ICAgIC8qKlxuXHQgICAgICogREVTIGJsb2NrIGNpcGhlciBhbGdvcml0aG0uXG5cdCAgICAgKi9cblx0ICAgIHZhciBERVMgPSBDX2FsZ28uREVTID0gQmxvY2tDaXBoZXIuZXh0ZW5kKHtcblx0ICAgICAgICBfZG9SZXNldDogZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAvLyBTaG9ydGN1dHNcblx0ICAgICAgICAgICAgdmFyIGtleSA9IHRoaXMuX2tleTtcblx0ICAgICAgICAgICAgdmFyIGtleVdvcmRzID0ga2V5LndvcmRzO1xuXG5cdCAgICAgICAgICAgIC8vIFNlbGVjdCA1NiBiaXRzIGFjY29yZGluZyB0byBQQzFcblx0ICAgICAgICAgICAgdmFyIGtleUJpdHMgPSBbXTtcblx0ICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA1NjsgaSsrKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIga2V5Qml0UG9zID0gUEMxW2ldIC0gMTtcblx0ICAgICAgICAgICAgICAgIGtleUJpdHNbaV0gPSAoa2V5V29yZHNba2V5Qml0UG9zID4+PiA1XSA+Pj4gKDMxIC0ga2V5Qml0UG9zICUgMzIpKSAmIDE7XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAvLyBBc3NlbWJsZSAxNiBzdWJrZXlzXG5cdCAgICAgICAgICAgIHZhciBzdWJLZXlzID0gdGhpcy5fc3ViS2V5cyA9IFtdO1xuXHQgICAgICAgICAgICBmb3IgKHZhciBuU3ViS2V5ID0gMDsgblN1YktleSA8IDE2OyBuU3ViS2V5KyspIHtcblx0ICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBzdWJrZXlcblx0ICAgICAgICAgICAgICAgIHZhciBzdWJLZXkgPSBzdWJLZXlzW25TdWJLZXldID0gW107XG5cblx0ICAgICAgICAgICAgICAgIC8vIFNob3J0Y3V0XG5cdCAgICAgICAgICAgICAgICB2YXIgYml0U2hpZnQgPSBCSVRfU0hJRlRTW25TdWJLZXldO1xuXG5cdCAgICAgICAgICAgICAgICAvLyBTZWxlY3QgNDggYml0cyBhY2NvcmRpbmcgdG8gUEMyXG5cdCAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDI0OyBpKyspIHtcblx0ICAgICAgICAgICAgICAgICAgICAvLyBTZWxlY3QgZnJvbSB0aGUgbGVmdCAyOCBrZXkgYml0c1xuXHQgICAgICAgICAgICAgICAgICAgIHN1YktleVsoaSAvIDYpIHwgMF0gfD0ga2V5Qml0c1soKFBDMltpXSAtIDEpICsgYml0U2hpZnQpICUgMjhdIDw8ICgzMSAtIGkgJSA2KTtcblxuXHQgICAgICAgICAgICAgICAgICAgIC8vIFNlbGVjdCBmcm9tIHRoZSByaWdodCAyOCBrZXkgYml0c1xuXHQgICAgICAgICAgICAgICAgICAgIHN1YktleVs0ICsgKChpIC8gNikgfCAwKV0gfD0ga2V5Qml0c1syOCArICgoKFBDMltpICsgMjRdIC0gMSkgKyBiaXRTaGlmdCkgJSAyOCldIDw8ICgzMSAtIGkgJSA2KTtcblx0ICAgICAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAgICAgLy8gU2luY2UgZWFjaCBzdWJrZXkgaXMgYXBwbGllZCB0byBhbiBleHBhbmRlZCAzMi1iaXQgaW5wdXQsXG5cdCAgICAgICAgICAgICAgICAvLyB0aGUgc3Via2V5IGNhbiBiZSBicm9rZW4gaW50byA4IHZhbHVlcyBzY2FsZWQgdG8gMzItYml0cyxcblx0ICAgICAgICAgICAgICAgIC8vIHdoaWNoIGFsbG93cyB0aGUga2V5IHRvIGJlIHVzZWQgd2l0aG91dCBleHBhbnNpb25cblx0ICAgICAgICAgICAgICAgIHN1YktleVswXSA9IChzdWJLZXlbMF0gPDwgMSkgfCAoc3ViS2V5WzBdID4+PiAzMSk7XG5cdCAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IDc7IGkrKykge1xuXHQgICAgICAgICAgICAgICAgICAgIHN1YktleVtpXSA9IHN1YktleVtpXSA+Pj4gKChpIC0gMSkgKiA0ICsgMyk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICBzdWJLZXlbN10gPSAoc3ViS2V5WzddIDw8IDUpIHwgKHN1YktleVs3XSA+Pj4gMjcpO1xuXHQgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgLy8gQ29tcHV0ZSBpbnZlcnNlIHN1YmtleXNcblx0ICAgICAgICAgICAgdmFyIGludlN1YktleXMgPSB0aGlzLl9pbnZTdWJLZXlzID0gW107XG5cdCAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMTY7IGkrKykge1xuXHQgICAgICAgICAgICAgICAgaW52U3ViS2V5c1tpXSA9IHN1YktleXNbMTUgLSBpXTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0sXG5cblx0ICAgICAgICBlbmNyeXB0QmxvY2s6IGZ1bmN0aW9uIChNLCBvZmZzZXQpIHtcblx0ICAgICAgICAgICAgdGhpcy5fZG9DcnlwdEJsb2NrKE0sIG9mZnNldCwgdGhpcy5fc3ViS2V5cyk7XG5cdCAgICAgICAgfSxcblxuXHQgICAgICAgIGRlY3J5cHRCbG9jazogZnVuY3Rpb24gKE0sIG9mZnNldCkge1xuXHQgICAgICAgICAgICB0aGlzLl9kb0NyeXB0QmxvY2soTSwgb2Zmc2V0LCB0aGlzLl9pbnZTdWJLZXlzKTtcblx0ICAgICAgICB9LFxuXG5cdCAgICAgICAgX2RvQ3J5cHRCbG9jazogZnVuY3Rpb24gKE0sIG9mZnNldCwgc3ViS2V5cykge1xuXHQgICAgICAgICAgICAvLyBHZXQgaW5wdXRcblx0ICAgICAgICAgICAgdGhpcy5fbEJsb2NrID0gTVtvZmZzZXRdO1xuXHQgICAgICAgICAgICB0aGlzLl9yQmxvY2sgPSBNW29mZnNldCArIDFdO1xuXG5cdCAgICAgICAgICAgIC8vIEluaXRpYWwgcGVybXV0YXRpb25cblx0ICAgICAgICAgICAgZXhjaGFuZ2VMUi5jYWxsKHRoaXMsIDQsICAweDBmMGYwZjBmKTtcblx0ICAgICAgICAgICAgZXhjaGFuZ2VMUi5jYWxsKHRoaXMsIDE2LCAweDAwMDBmZmZmKTtcblx0ICAgICAgICAgICAgZXhjaGFuZ2VSTC5jYWxsKHRoaXMsIDIsICAweDMzMzMzMzMzKTtcblx0ICAgICAgICAgICAgZXhjaGFuZ2VSTC5jYWxsKHRoaXMsIDgsICAweDAwZmYwMGZmKTtcblx0ICAgICAgICAgICAgZXhjaGFuZ2VMUi5jYWxsKHRoaXMsIDEsICAweDU1NTU1NTU1KTtcblxuXHQgICAgICAgICAgICAvLyBSb3VuZHNcblx0ICAgICAgICAgICAgZm9yICh2YXIgcm91bmQgPSAwOyByb3VuZCA8IDE2OyByb3VuZCsrKSB7XG5cdCAgICAgICAgICAgICAgICAvLyBTaG9ydGN1dHNcblx0ICAgICAgICAgICAgICAgIHZhciBzdWJLZXkgPSBzdWJLZXlzW3JvdW5kXTtcblx0ICAgICAgICAgICAgICAgIHZhciBsQmxvY2sgPSB0aGlzLl9sQmxvY2s7XG5cdCAgICAgICAgICAgICAgICB2YXIgckJsb2NrID0gdGhpcy5fckJsb2NrO1xuXG5cdCAgICAgICAgICAgICAgICAvLyBGZWlzdGVsIGZ1bmN0aW9uXG5cdCAgICAgICAgICAgICAgICB2YXIgZiA9IDA7XG5cdCAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDg7IGkrKykge1xuXHQgICAgICAgICAgICAgICAgICAgIGYgfD0gU0JPWF9QW2ldWygockJsb2NrIF4gc3ViS2V5W2ldKSAmIFNCT1hfTUFTS1tpXSkgPj4+IDBdO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgdGhpcy5fbEJsb2NrID0gckJsb2NrO1xuXHQgICAgICAgICAgICAgICAgdGhpcy5fckJsb2NrID0gbEJsb2NrIF4gZjtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIC8vIFVuZG8gc3dhcCBmcm9tIGxhc3Qgcm91bmRcblx0ICAgICAgICAgICAgdmFyIHQgPSB0aGlzLl9sQmxvY2s7XG5cdCAgICAgICAgICAgIHRoaXMuX2xCbG9jayA9IHRoaXMuX3JCbG9jaztcblx0ICAgICAgICAgICAgdGhpcy5fckJsb2NrID0gdDtcblxuXHQgICAgICAgICAgICAvLyBGaW5hbCBwZXJtdXRhdGlvblxuXHQgICAgICAgICAgICBleGNoYW5nZUxSLmNhbGwodGhpcywgMSwgIDB4NTU1NTU1NTUpO1xuXHQgICAgICAgICAgICBleGNoYW5nZVJMLmNhbGwodGhpcywgOCwgIDB4MDBmZjAwZmYpO1xuXHQgICAgICAgICAgICBleGNoYW5nZVJMLmNhbGwodGhpcywgMiwgIDB4MzMzMzMzMzMpO1xuXHQgICAgICAgICAgICBleGNoYW5nZUxSLmNhbGwodGhpcywgMTYsIDB4MDAwMGZmZmYpO1xuXHQgICAgICAgICAgICBleGNoYW5nZUxSLmNhbGwodGhpcywgNCwgIDB4MGYwZjBmMGYpO1xuXG5cdCAgICAgICAgICAgIC8vIFNldCBvdXRwdXRcblx0ICAgICAgICAgICAgTVtvZmZzZXRdID0gdGhpcy5fbEJsb2NrO1xuXHQgICAgICAgICAgICBNW29mZnNldCArIDFdID0gdGhpcy5fckJsb2NrO1xuXHQgICAgICAgIH0sXG5cblx0ICAgICAgICBrZXlTaXplOiA2NC8zMixcblxuXHQgICAgICAgIGl2U2l6ZTogNjQvMzIsXG5cblx0ICAgICAgICBibG9ja1NpemU6IDY0LzMyXG5cdCAgICB9KTtcblxuXHQgICAgLy8gU3dhcCBiaXRzIGFjcm9zcyB0aGUgbGVmdCBhbmQgcmlnaHQgd29yZHNcblx0ICAgIGZ1bmN0aW9uIGV4Y2hhbmdlTFIob2Zmc2V0LCBtYXNrKSB7XG5cdCAgICAgICAgdmFyIHQgPSAoKHRoaXMuX2xCbG9jayA+Pj4gb2Zmc2V0KSBeIHRoaXMuX3JCbG9jaykgJiBtYXNrO1xuXHQgICAgICAgIHRoaXMuX3JCbG9jayBePSB0O1xuXHQgICAgICAgIHRoaXMuX2xCbG9jayBePSB0IDw8IG9mZnNldDtcblx0ICAgIH1cblxuXHQgICAgZnVuY3Rpb24gZXhjaGFuZ2VSTChvZmZzZXQsIG1hc2spIHtcblx0ICAgICAgICB2YXIgdCA9ICgodGhpcy5fckJsb2NrID4+PiBvZmZzZXQpIF4gdGhpcy5fbEJsb2NrKSAmIG1hc2s7XG5cdCAgICAgICAgdGhpcy5fbEJsb2NrIF49IHQ7XG5cdCAgICAgICAgdGhpcy5fckJsb2NrIF49IHQgPDwgb2Zmc2V0O1xuXHQgICAgfVxuXG5cdCAgICAvKipcblx0ICAgICAqIFNob3J0Y3V0IGZ1bmN0aW9ucyB0byB0aGUgY2lwaGVyJ3Mgb2JqZWN0IGludGVyZmFjZS5cblx0ICAgICAqXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqICAgICB2YXIgY2lwaGVydGV4dCA9IENyeXB0b0pTLkRFUy5lbmNyeXB0KG1lc3NhZ2UsIGtleSwgY2ZnKTtcblx0ICAgICAqICAgICB2YXIgcGxhaW50ZXh0ICA9IENyeXB0b0pTLkRFUy5kZWNyeXB0KGNpcGhlcnRleHQsIGtleSwgY2ZnKTtcblx0ICAgICAqL1xuXHQgICAgQy5ERVMgPSBCbG9ja0NpcGhlci5fY3JlYXRlSGVscGVyKERFUyk7XG5cblx0ICAgIC8qKlxuXHQgICAgICogVHJpcGxlLURFUyBibG9jayBjaXBoZXIgYWxnb3JpdGhtLlxuXHQgICAgICovXG5cdCAgICB2YXIgVHJpcGxlREVTID0gQ19hbGdvLlRyaXBsZURFUyA9IEJsb2NrQ2lwaGVyLmV4dGVuZCh7XG5cdCAgICAgICAgX2RvUmVzZXQ6IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgLy8gU2hvcnRjdXRzXG5cdCAgICAgICAgICAgIHZhciBrZXkgPSB0aGlzLl9rZXk7XG5cdCAgICAgICAgICAgIHZhciBrZXlXb3JkcyA9IGtleS53b3JkcztcblxuXHQgICAgICAgICAgICAvLyBDcmVhdGUgREVTIGluc3RhbmNlc1xuXHQgICAgICAgICAgICB0aGlzLl9kZXMxID0gREVTLmNyZWF0ZUVuY3J5cHRvcihXb3JkQXJyYXkuY3JlYXRlKGtleVdvcmRzLnNsaWNlKDAsIDIpKSk7XG5cdCAgICAgICAgICAgIHRoaXMuX2RlczIgPSBERVMuY3JlYXRlRW5jcnlwdG9yKFdvcmRBcnJheS5jcmVhdGUoa2V5V29yZHMuc2xpY2UoMiwgNCkpKTtcblx0ICAgICAgICAgICAgdGhpcy5fZGVzMyA9IERFUy5jcmVhdGVFbmNyeXB0b3IoV29yZEFycmF5LmNyZWF0ZShrZXlXb3Jkcy5zbGljZSg0LCA2KSkpO1xuXHQgICAgICAgIH0sXG5cblx0ICAgICAgICBlbmNyeXB0QmxvY2s6IGZ1bmN0aW9uIChNLCBvZmZzZXQpIHtcblx0ICAgICAgICAgICAgdGhpcy5fZGVzMS5lbmNyeXB0QmxvY2soTSwgb2Zmc2V0KTtcblx0ICAgICAgICAgICAgdGhpcy5fZGVzMi5kZWNyeXB0QmxvY2soTSwgb2Zmc2V0KTtcblx0ICAgICAgICAgICAgdGhpcy5fZGVzMy5lbmNyeXB0QmxvY2soTSwgb2Zmc2V0KTtcblx0ICAgICAgICB9LFxuXG5cdCAgICAgICAgZGVjcnlwdEJsb2NrOiBmdW5jdGlvbiAoTSwgb2Zmc2V0KSB7XG5cdCAgICAgICAgICAgIHRoaXMuX2RlczMuZGVjcnlwdEJsb2NrKE0sIG9mZnNldCk7XG5cdCAgICAgICAgICAgIHRoaXMuX2RlczIuZW5jcnlwdEJsb2NrKE0sIG9mZnNldCk7XG5cdCAgICAgICAgICAgIHRoaXMuX2RlczEuZGVjcnlwdEJsb2NrKE0sIG9mZnNldCk7XG5cdCAgICAgICAgfSxcblxuXHQgICAgICAgIGtleVNpemU6IDE5Mi8zMixcblxuXHQgICAgICAgIGl2U2l6ZTogNjQvMzIsXG5cblx0ICAgICAgICBibG9ja1NpemU6IDY0LzMyXG5cdCAgICB9KTtcblxuXHQgICAgLyoqXG5cdCAgICAgKiBTaG9ydGN1dCBmdW5jdGlvbnMgdG8gdGhlIGNpcGhlcidzIG9iamVjdCBpbnRlcmZhY2UuXG5cdCAgICAgKlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiAgICAgdmFyIGNpcGhlcnRleHQgPSBDcnlwdG9KUy5UcmlwbGVERVMuZW5jcnlwdChtZXNzYWdlLCBrZXksIGNmZyk7XG5cdCAgICAgKiAgICAgdmFyIHBsYWludGV4dCAgPSBDcnlwdG9KUy5UcmlwbGVERVMuZGVjcnlwdChjaXBoZXJ0ZXh0LCBrZXksIGNmZyk7XG5cdCAgICAgKi9cblx0ICAgIEMuVHJpcGxlREVTID0gQmxvY2tDaXBoZXIuX2NyZWF0ZUhlbHBlcihUcmlwbGVERVMpO1xuXHR9KCkpO1xuXG5cblx0cmV0dXJuIENyeXB0b0pTLlRyaXBsZURFUztcblxufSkpO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vY3J5cHRvLWpzL3RyaXBsZWRlcy5qcyIsIi8qXG4gICAgVGhpcyBmaWxlIGlzIHBhcnQgb2Ygd2ViMy5qcy5cblxuICAgIHdlYjMuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICAgIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICAgIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gICAgKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cblxuICAgIHdlYjMuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICAgIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAgICBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cblxuICAgIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICAgIGFsb25nIHdpdGggd2ViMy5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiovXG4vKiogXG4gKiBAZmlsZSBwYXJhbS5qc1xuICogQGF1dGhvciBNYXJlayBLb3Rld2ljeiA8bWFyZWtAZXRoZGV2LmNvbT5cbiAqIEBkYXRlIDIwMTVcbiAqL1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscy91dGlscycpO1xuXG4vKipcbiAqIFNvbGlkaXR5UGFyYW0gb2JqZWN0IHByb3RvdHlwZS5cbiAqIFNob3VsZCBiZSB1c2VkIHdoZW4gZW5jb2RpbmcsIGRlY29kaW5nIHNvbGlkaXR5IGJ5dGVzXG4gKi9cbnZhciBTb2xpZGl0eVBhcmFtID0gZnVuY3Rpb24gKHZhbHVlLCBvZmZzZXQpIHtcbiAgICB0aGlzLnZhbHVlID0gdmFsdWUgfHwgJyc7XG4gICAgdGhpcy5vZmZzZXQgPSBvZmZzZXQ7IC8vIG9mZnNldCBpbiBieXRlc1xufTtcblxuLyoqXG4gKiBUaGlzIG1ldGhvZCBzaG91bGQgYmUgdXNlZCB0byBnZXQgbGVuZ3RoIG9mIHBhcmFtcydzIGR5bmFtaWMgcGFydFxuICogXG4gKiBAbWV0aG9kIGR5bmFtaWNQYXJ0TGVuZ3RoXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBsZW5ndGggb2YgZHluYW1pYyBwYXJ0IChpbiBieXRlcylcbiAqL1xuU29saWRpdHlQYXJhbS5wcm90b3R5cGUuZHluYW1pY1BhcnRMZW5ndGggPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZHluYW1pY1BhcnQoKS5sZW5ndGggLyAyO1xufTtcblxuLyoqXG4gKiBUaGlzIG1ldGhvZCBzaG91bGQgYmUgdXNlZCB0byBjcmVhdGUgY29weSBvZiBzb2xpZGl0eSBwYXJhbSB3aXRoIGRpZmZlcmVudCBvZmZzZXRcbiAqXG4gKiBAbWV0aG9kIHdpdGhPZmZzZXRcbiAqIEBwYXJhbSB7TnVtYmVyfSBvZmZzZXQgbGVuZ3RoIGluIGJ5dGVzXG4gKiBAcmV0dXJucyB7U29saWRpdHlQYXJhbX0gbmV3IHNvbGlkaXR5IHBhcmFtIHdpdGggYXBwbGllZCBvZmZzZXRcbiAqL1xuU29saWRpdHlQYXJhbS5wcm90b3R5cGUud2l0aE9mZnNldCA9IGZ1bmN0aW9uIChvZmZzZXQpIHtcbiAgICByZXR1cm4gbmV3IFNvbGlkaXR5UGFyYW0odGhpcy52YWx1ZSwgb2Zmc2V0KTtcbn07XG5cbi8qKlxuICogVGhpcyBtZXRob2Qgc2hvdWxkIGJlIHVzZWQgdG8gY29tYmluZSBzb2xpZGl0eSBwYXJhbXMgdG9nZXRoZXJcbiAqIGVnLiB3aGVuIGFwcGVuZGluZyBhbiBhcnJheVxuICpcbiAqIEBtZXRob2QgY29tYmluZVxuICogQHBhcmFtIHtTb2xpZGl0eVBhcmFtfSBwYXJhbSB3aXRoIHdoaWNoIHdlIHNob3VsZCBjb21iaW5lXG4gKiBAcGFyYW0ge1NvbGlkaXR5UGFyYW19IHJlc3VsdCBvZiBjb21iaW5hdGlvblxuICovXG5Tb2xpZGl0eVBhcmFtLnByb3RvdHlwZS5jb21iaW5lID0gZnVuY3Rpb24gKHBhcmFtKSB7XG4gICAgcmV0dXJuIG5ldyBTb2xpZGl0eVBhcmFtKHRoaXMudmFsdWUgKyBwYXJhbS52YWx1ZSk7IFxufTtcblxuLyoqXG4gKiBUaGlzIG1ldGhvZCBzaG91bGQgYmUgY2FsbGVkIHRvIGNoZWNrIGlmIHBhcmFtIGhhcyBkeW5hbWljIHNpemUuXG4gKiBJZiBpdCBoYXMsIGl0IHJldHVybnMgdHJ1ZSwgb3RoZXJ3aXNlIGZhbHNlXG4gKlxuICogQG1ldGhvZCBpc0R5bmFtaWNcbiAqIEByZXR1cm5zIHtCb29sZWFufVxuICovXG5Tb2xpZGl0eVBhcmFtLnByb3RvdHlwZS5pc0R5bmFtaWMgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMub2Zmc2V0ICE9PSB1bmRlZmluZWQ7XG59O1xuXG4vKipcbiAqIFRoaXMgbWV0aG9kIHNob3VsZCBiZSBjYWxsZWQgdG8gdHJhbnNmb3JtIG9mZnNldCB0byBieXRlc1xuICpcbiAqIEBtZXRob2Qgb2Zmc2V0QXNCeXRlc1xuICogQHJldHVybnMge1N0cmluZ30gYnl0ZXMgcmVwcmVzZW50YXRpb24gb2Ygb2Zmc2V0XG4gKi9cblNvbGlkaXR5UGFyYW0ucHJvdG90eXBlLm9mZnNldEFzQnl0ZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICF0aGlzLmlzRHluYW1pYygpID8gJycgOiB1dGlscy5wYWRMZWZ0KHV0aWxzLnRvVHdvc0NvbXBsZW1lbnQodGhpcy5vZmZzZXQpLnRvU3RyaW5nKDE2KSwgNjQpO1xufTtcblxuLyoqXG4gKiBUaGlzIG1ldGhvZCBzaG91bGQgYmUgY2FsbGVkIHRvIGdldCBzdGF0aWMgcGFydCBvZiBwYXJhbVxuICpcbiAqIEBtZXRob2Qgc3RhdGljUGFydFxuICogQHJldHVybnMge1N0cmluZ30gb2Zmc2V0IGlmIGl0IGlzIGEgZHluYW1pYyBwYXJhbSwgb3RoZXJ3aXNlIHZhbHVlXG4gKi9cblNvbGlkaXR5UGFyYW0ucHJvdG90eXBlLnN0YXRpY1BhcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCF0aGlzLmlzRHluYW1pYygpKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlOyBcbiAgICB9IFxuICAgIHJldHVybiB0aGlzLm9mZnNldEFzQnl0ZXMoKTtcbn07XG5cbi8qKlxuICogVGhpcyBtZXRob2Qgc2hvdWxkIGJlIGNhbGxlZCB0byBnZXQgZHluYW1pYyBwYXJ0IG9mIHBhcmFtXG4gKlxuICogQG1ldGhvZCBkeW5hbWljUGFydFxuICogQHJldHVybnMge1N0cmluZ30gcmV0dXJucyBhIHZhbHVlIGlmIGl0IGlzIGEgZHluYW1pYyBwYXJhbSwgb3RoZXJ3aXNlIGVtcHR5IHN0cmluZ1xuICovXG5Tb2xpZGl0eVBhcmFtLnByb3RvdHlwZS5keW5hbWljUGFydCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5pc0R5bmFtaWMoKSA/IHRoaXMudmFsdWUgOiAnJztcbn07XG5cbi8qKlxuICogVGhpcyBtZXRob2Qgc2hvdWxkIGJlIGNhbGxlZCB0byBlbmNvZGUgcGFyYW1cbiAqXG4gKiBAbWV0aG9kIGVuY29kZVxuICogQHJldHVybnMge1N0cmluZ31cbiAqL1xuU29saWRpdHlQYXJhbS5wcm90b3R5cGUuZW5jb2RlID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnN0YXRpY1BhcnQoKSArIHRoaXMuZHluYW1pY1BhcnQoKTtcbn07XG5cbi8qKlxuICogVGhpcyBtZXRob2Qgc2hvdWxkIGJlIGNhbGxlZCB0byBlbmNvZGUgYXJyYXkgb2YgcGFyYW1zXG4gKlxuICogQG1ldGhvZCBlbmNvZGVMaXN0XG4gKiBAcGFyYW0ge0FycmF5W1NvbGlkaXR5UGFyYW1dfSBwYXJhbXNcbiAqIEByZXR1cm5zIHtTdHJpbmd9XG4gKi9cblNvbGlkaXR5UGFyYW0uZW5jb2RlTGlzdCA9IGZ1bmN0aW9uIChwYXJhbXMpIHtcbiAgICBcbiAgICAvLyB1cGRhdGluZyBvZmZzZXRzXG4gICAgdmFyIHRvdGFsT2Zmc2V0ID0gcGFyYW1zLmxlbmd0aCAqIDMyO1xuICAgIHZhciBvZmZzZXRQYXJhbXMgPSBwYXJhbXMubWFwKGZ1bmN0aW9uIChwYXJhbSkge1xuICAgICAgICBpZiAoIXBhcmFtLmlzRHluYW1pYygpKSB7XG4gICAgICAgICAgICByZXR1cm4gcGFyYW07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG9mZnNldCA9IHRvdGFsT2Zmc2V0O1xuICAgICAgICB0b3RhbE9mZnNldCArPSBwYXJhbS5keW5hbWljUGFydExlbmd0aCgpO1xuICAgICAgICByZXR1cm4gcGFyYW0ud2l0aE9mZnNldChvZmZzZXQpO1xuICAgIH0pO1xuXG4gICAgLy8gZW5jb2RlIGV2ZXJ5dGhpbmchXG4gICAgcmV0dXJuIG9mZnNldFBhcmFtcy5yZWR1Y2UoZnVuY3Rpb24gKHJlc3VsdCwgcGFyYW0pIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdCArIHBhcmFtLmR5bmFtaWNQYXJ0KCk7XG4gICAgfSwgb2Zmc2V0UGFyYW1zLnJlZHVjZShmdW5jdGlvbiAocmVzdWx0LCBwYXJhbSkge1xuICAgICAgICByZXR1cm4gcmVzdWx0ICsgcGFyYW0uc3RhdGljUGFydCgpO1xuICAgIH0sICcnKSk7XG59O1xuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBTb2xpZGl0eVBhcmFtO1xuXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3dlYjMvbGliL3NvbGlkaXR5L3BhcmFtLmpzIiwiLypcbiAgICBUaGlzIGZpbGUgaXMgcGFydCBvZiB3ZWIzLmpzLlxuXG4gICAgd2ViMy5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gICAgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAgICAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuXG4gICAgd2ViMy5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICAgIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gICAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICAgIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuXG4gICAgWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gICAgYWxvbmcgd2l0aCB3ZWIzLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuKi9cbi8qKiBcbiAqIEBmaWxlIGV2ZW50LmpzXG4gKiBAYXV0aG9yIE1hcmVrIEtvdGV3aWN6IDxtYXJla0BldGhkZXYuY29tPlxuICogQGRhdGUgMjAxNFxuICovXG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzL3V0aWxzJyk7XG52YXIgY29kZXIgPSByZXF1aXJlKCcuLi9zb2xpZGl0eS9jb2RlcicpO1xudmFyIGZvcm1hdHRlcnMgPSByZXF1aXJlKCcuL2Zvcm1hdHRlcnMnKTtcbnZhciBzaGEzID0gcmVxdWlyZSgnLi4vdXRpbHMvc2hhMycpO1xudmFyIEZpbHRlciA9IHJlcXVpcmUoJy4vZmlsdGVyJyk7XG52YXIgd2F0Y2hlcyA9IHJlcXVpcmUoJy4vbWV0aG9kcy93YXRjaGVzJyk7XG5cbi8qKlxuICogVGhpcyBwcm90b3R5cGUgc2hvdWxkIGJlIHVzZWQgdG8gY3JlYXRlIGV2ZW50IGZpbHRlcnNcbiAqL1xudmFyIFNvbGlkaXR5RXZlbnQgPSBmdW5jdGlvbiAocmVxdWVzdE1hbmFnZXIsIGpzb24sIGFkZHJlc3MpIHtcbiAgICB0aGlzLl9yZXF1ZXN0TWFuYWdlciA9IHJlcXVlc3RNYW5hZ2VyO1xuICAgIHRoaXMuX3BhcmFtcyA9IGpzb24uaW5wdXRzO1xuICAgIHRoaXMuX25hbWUgPSB1dGlscy50cmFuc2Zvcm1Ub0Z1bGxOYW1lKGpzb24pO1xuICAgIHRoaXMuX2FkZHJlc3MgPSBhZGRyZXNzO1xuICAgIHRoaXMuX2Fub255bW91cyA9IGpzb24uYW5vbnltb3VzO1xufTtcblxuLyoqXG4gKiBTaG91bGQgYmUgdXNlZCB0byBnZXQgZmlsdGVyZWQgcGFyYW0gdHlwZXNcbiAqXG4gKiBAbWV0aG9kIHR5cGVzXG4gKiBAcGFyYW0ge0Jvb2x9IGRlY2lkZSBpZiByZXR1cm5lZCB0eXBlZCBzaG91bGQgYmUgaW5kZXhlZFxuICogQHJldHVybiB7QXJyYXl9IGFycmF5IG9mIHR5cGVzXG4gKi9cblNvbGlkaXR5RXZlbnQucHJvdG90eXBlLnR5cGVzID0gZnVuY3Rpb24gKGluZGV4ZWQpIHtcbiAgICByZXR1cm4gdGhpcy5fcGFyYW1zLmZpbHRlcihmdW5jdGlvbiAoaSkge1xuICAgICAgICByZXR1cm4gaS5pbmRleGVkID09PSBpbmRleGVkO1xuICAgIH0pLm1hcChmdW5jdGlvbiAoaSkge1xuICAgICAgICByZXR1cm4gaS50eXBlO1xuICAgIH0pO1xufTtcblxuLyoqXG4gKiBTaG91bGQgYmUgdXNlZCB0byBnZXQgZXZlbnQgZGlzcGxheSBuYW1lXG4gKlxuICogQG1ldGhvZCBkaXNwbGF5TmFtZVxuICogQHJldHVybiB7U3RyaW5nfSBldmVudCBkaXNwbGF5IG5hbWVcbiAqL1xuU29saWRpdHlFdmVudC5wcm90b3R5cGUuZGlzcGxheU5hbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHV0aWxzLmV4dHJhY3REaXNwbGF5TmFtZSh0aGlzLl9uYW1lKTtcbn07XG5cbi8qKlxuICogU2hvdWxkIGJlIHVzZWQgdG8gZ2V0IGV2ZW50IHR5cGUgbmFtZVxuICpcbiAqIEBtZXRob2QgdHlwZU5hbWVcbiAqIEByZXR1cm4ge1N0cmluZ30gZXZlbnQgdHlwZSBuYW1lXG4gKi9cblNvbGlkaXR5RXZlbnQucHJvdG90eXBlLnR5cGVOYW1lID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB1dGlscy5leHRyYWN0VHlwZU5hbWUodGhpcy5fbmFtZSk7XG59O1xuXG4vKipcbiAqIFNob3VsZCBiZSB1c2VkIHRvIGdldCBldmVudCBzaWduYXR1cmVcbiAqXG4gKiBAbWV0aG9kIHNpZ25hdHVyZVxuICogQHJldHVybiB7U3RyaW5nfSBldmVudCBzaWduYXR1cmVcbiAqL1xuU29saWRpdHlFdmVudC5wcm90b3R5cGUuc2lnbmF0dXJlID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBzaGEzKHRoaXMuX25hbWUpO1xufTtcblxuLyoqXG4gKiBTaG91bGQgYmUgdXNlZCB0byBlbmNvZGUgaW5kZXhlZCBwYXJhbXMgYW5kIG9wdGlvbnMgdG8gb25lIGZpbmFsIG9iamVjdFxuICogXG4gKiBAbWV0aG9kIGVuY29kZVxuICogQHBhcmFtIHtPYmplY3R9IGluZGV4ZWRcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gKiBAcmV0dXJuIHtPYmplY3R9IGV2ZXJ5dGhpbmcgY29tYmluZWQgdG9nZXRoZXIgYW5kIGVuY29kZWRcbiAqL1xuU29saWRpdHlFdmVudC5wcm90b3R5cGUuZW5jb2RlID0gZnVuY3Rpb24gKGluZGV4ZWQsIG9wdGlvbnMpIHtcbiAgICBpbmRleGVkID0gaW5kZXhlZCB8fCB7fTtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICB2YXIgcmVzdWx0ID0ge307XG5cbiAgICBbJ2Zyb21CbG9jaycsICd0b0Jsb2NrJ10uZmlsdGVyKGZ1bmN0aW9uIChmKSB7XG4gICAgICAgIHJldHVybiBvcHRpb25zW2ZdICE9PSB1bmRlZmluZWQ7XG4gICAgfSkuZm9yRWFjaChmdW5jdGlvbiAoZikge1xuICAgICAgICByZXN1bHRbZl0gPSBmb3JtYXR0ZXJzLmlucHV0QmxvY2tOdW1iZXJGb3JtYXR0ZXIob3B0aW9uc1tmXSk7XG4gICAgfSk7XG5cbiAgICByZXN1bHQudG9waWNzID0gW107XG5cbiAgICByZXN1bHQuYWRkcmVzcyA9IHRoaXMuX2FkZHJlc3M7XG4gICAgaWYgKCF0aGlzLl9hbm9ueW1vdXMpIHtcbiAgICAgICAgcmVzdWx0LnRvcGljcy5wdXNoKCcweCcgKyB0aGlzLnNpZ25hdHVyZSgpKTtcbiAgICB9XG5cbiAgICB2YXIgaW5kZXhlZFRvcGljcyA9IHRoaXMuX3BhcmFtcy5maWx0ZXIoZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgcmV0dXJuIGkuaW5kZXhlZCA9PT0gdHJ1ZTtcbiAgICB9KS5tYXAoZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gaW5kZXhlZFtpLm5hbWVdO1xuICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCB8fCB2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGlmICh1dGlscy5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlLm1hcChmdW5jdGlvbiAodikge1xuICAgICAgICAgICAgICAgIHJldHVybiAnMHgnICsgY29kZXIuZW5jb2RlUGFyYW0oaS50eXBlLCB2KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAnMHgnICsgY29kZXIuZW5jb2RlUGFyYW0oaS50eXBlLCB2YWx1ZSk7XG4gICAgfSk7XG5cbiAgICByZXN1bHQudG9waWNzID0gcmVzdWx0LnRvcGljcy5jb25jYXQoaW5kZXhlZFRvcGljcyk7XG5cbiAgICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBTaG91bGQgYmUgdXNlZCB0byBkZWNvZGUgaW5kZXhlZCBwYXJhbXMgYW5kIG9wdGlvbnNcbiAqXG4gKiBAbWV0aG9kIGRlY29kZVxuICogQHBhcmFtIHtPYmplY3R9IGRhdGFcbiAqIEByZXR1cm4ge09iamVjdH0gcmVzdWx0IG9iamVjdCB3aXRoIGRlY29kZWQgaW5kZXhlZCAmJiBub3QgaW5kZXhlZCBwYXJhbXNcbiAqL1xuU29saWRpdHlFdmVudC5wcm90b3R5cGUuZGVjb2RlID0gZnVuY3Rpb24gKGRhdGEpIHtcbiBcbiAgICBkYXRhLmRhdGEgPSBkYXRhLmRhdGEgfHwgJyc7XG4gICAgZGF0YS50b3BpY3MgPSBkYXRhLnRvcGljcyB8fCBbXTtcblxuICAgIHZhciBhcmdUb3BpY3MgPSB0aGlzLl9hbm9ueW1vdXMgPyBkYXRhLnRvcGljcyA6IGRhdGEudG9waWNzLnNsaWNlKDEpO1xuICAgIHZhciBpbmRleGVkRGF0YSA9IGFyZ1RvcGljcy5tYXAoZnVuY3Rpb24gKHRvcGljcykgeyByZXR1cm4gdG9waWNzLnNsaWNlKDIpOyB9KS5qb2luKFwiXCIpO1xuICAgIHZhciBpbmRleGVkUGFyYW1zID0gY29kZXIuZGVjb2RlUGFyYW1zKHRoaXMudHlwZXModHJ1ZSksIGluZGV4ZWREYXRhKTsgXG5cbiAgICB2YXIgbm90SW5kZXhlZERhdGEgPSBkYXRhLmRhdGEuc2xpY2UoMik7XG4gICAgdmFyIG5vdEluZGV4ZWRQYXJhbXMgPSBjb2Rlci5kZWNvZGVQYXJhbXModGhpcy50eXBlcyhmYWxzZSksIG5vdEluZGV4ZWREYXRhKTtcbiAgICBcbiAgICB2YXIgcmVzdWx0ID0gZm9ybWF0dGVycy5vdXRwdXRMb2dGb3JtYXR0ZXIoZGF0YSk7XG4gICAgcmVzdWx0LmV2ZW50ID0gdGhpcy5kaXNwbGF5TmFtZSgpO1xuICAgIHJlc3VsdC5hZGRyZXNzID0gZGF0YS5hZGRyZXNzO1xuXG4gICAgcmVzdWx0LmFyZ3MgPSB0aGlzLl9wYXJhbXMucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGN1cnJlbnQpIHtcbiAgICAgICAgYWNjW2N1cnJlbnQubmFtZV0gPSBjdXJyZW50LmluZGV4ZWQgPyBpbmRleGVkUGFyYW1zLnNoaWZ0KCkgOiBub3RJbmRleGVkUGFyYW1zLnNoaWZ0KCk7XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgfSwge30pO1xuXG4gICAgZGVsZXRlIHJlc3VsdC5kYXRhO1xuICAgIGRlbGV0ZSByZXN1bHQudG9waWNzO1xuXG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogU2hvdWxkIGJlIHVzZWQgdG8gY3JlYXRlIG5ldyBmaWx0ZXIgb2JqZWN0IGZyb20gZXZlbnRcbiAqXG4gKiBAbWV0aG9kIGV4ZWN1dGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBpbmRleGVkXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICogQHJldHVybiB7T2JqZWN0fSBmaWx0ZXIgb2JqZWN0XG4gKi9cblNvbGlkaXR5RXZlbnQucHJvdG90eXBlLmV4ZWN1dGUgPSBmdW5jdGlvbiAoaW5kZXhlZCwgb3B0aW9ucywgY2FsbGJhY2spIHtcblxuICAgIGlmICh1dGlscy5pc0Z1bmN0aW9uKGFyZ3VtZW50c1thcmd1bWVudHMubGVuZ3RoIC0gMV0pKSB7XG4gICAgICAgIGNhbGxiYWNrID0gYXJndW1lbnRzW2FyZ3VtZW50cy5sZW5ndGggLSAxXTtcbiAgICAgICAgaWYoYXJndW1lbnRzLmxlbmd0aCA9PT0gMilcbiAgICAgICAgICAgIG9wdGlvbnMgPSBudWxsO1xuICAgICAgICBpZihhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICBvcHRpb25zID0gbnVsbDtcbiAgICAgICAgICAgIGluZGV4ZWQgPSB7fTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICB2YXIgbyA9IHRoaXMuZW5jb2RlKGluZGV4ZWQsIG9wdGlvbnMpO1xuICAgIHZhciBmb3JtYXR0ZXIgPSB0aGlzLmRlY29kZS5iaW5kKHRoaXMpO1xuICAgIHJldHVybiBuZXcgRmlsdGVyKHRoaXMuX3JlcXVlc3RNYW5hZ2VyLCBvLCB3YXRjaGVzLmV0aCgpLCBmb3JtYXR0ZXIsIGNhbGxiYWNrKTtcbn07XG5cbi8qKlxuICogU2hvdWxkIGJlIHVzZWQgdG8gYXR0YWNoIGV2ZW50IHRvIGNvbnRyYWN0IG9iamVjdFxuICpcbiAqIEBtZXRob2QgYXR0YWNoVG9Db250cmFjdFxuICogQHBhcmFtIHtDb250cmFjdH1cbiAqL1xuU29saWRpdHlFdmVudC5wcm90b3R5cGUuYXR0YWNoVG9Db250cmFjdCA9IGZ1bmN0aW9uIChjb250cmFjdCkge1xuICAgIHZhciBleGVjdXRlID0gdGhpcy5leGVjdXRlLmJpbmQodGhpcyk7XG4gICAgdmFyIGRpc3BsYXlOYW1lID0gdGhpcy5kaXNwbGF5TmFtZSgpO1xuICAgIGlmICghY29udHJhY3RbZGlzcGxheU5hbWVdKSB7XG4gICAgICAgIGNvbnRyYWN0W2Rpc3BsYXlOYW1lXSA9IGV4ZWN1dGU7XG4gICAgfVxuICAgIGNvbnRyYWN0W2Rpc3BsYXlOYW1lXVt0aGlzLnR5cGVOYW1lKCldID0gdGhpcy5leGVjdXRlLmJpbmQodGhpcywgY29udHJhY3QpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBTb2xpZGl0eUV2ZW50O1xuXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3dlYjMvbGliL3dlYjMvZXZlbnQuanMiLCIvKlxuICAgIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIHdlYjMuanMuXG5cbiAgICB3ZWIzLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAgICBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAgICB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICAgIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG5cbiAgICB3ZWIzLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gICAgYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAgICBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gICAgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG5cbiAgICBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAgICBhbG9uZyB3aXRoIHdlYjMuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4qL1xuLyoqIEBmaWxlIGpzb25ycGMuanNcbiAqIEBhdXRob3JzOlxuICogICBNYXJlayBLb3Rld2ljeiA8bWFyZWtAZXRoZGV2LmNvbT5cbiAqICAgQWFyb24gS3VtYXZpcyA8YWFyb25Aa3VtYXZpcy5tZT5cbiAqIEBkYXRlIDIwMTVcbiAqL1xuXG4vLyBJbml0aWFsaXplIEpzb25ycGMgYXMgYSBzaW1wbGUgb2JqZWN0IHdpdGggdXRpbGl0eSBmdW5jdGlvbnMuXG52YXIgSnNvbnJwYyA9IHtcbiAgICBtZXNzYWdlSWQ6IDBcbn07XG5cbi8qKlxuICogU2hvdWxkIGJlIGNhbGxlZCB0byB2YWxpZCBqc29uIGNyZWF0ZSBwYXlsb2FkIG9iamVjdFxuICpcbiAqIEBtZXRob2QgdG9QYXlsb2FkXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBtZXRob2Qgb2YganNvbnJwYyBjYWxsLCByZXF1aXJlZFxuICogQHBhcmFtIHtBcnJheX0gcGFyYW1zLCBhbiBhcnJheSBvZiBtZXRob2QgcGFyYW1zLCBvcHRpb25hbFxuICogQHJldHVybnMge09iamVjdH0gdmFsaWQganNvbnJwYyBwYXlsb2FkIG9iamVjdFxuICovXG5Kc29ucnBjLnRvUGF5bG9hZCA9IGZ1bmN0aW9uIChtZXRob2QsIHBhcmFtcykge1xuICAgIGlmICghbWV0aG9kKVxuICAgICAgICBjb25zb2xlLmVycm9yKCdqc29ucnBjIG1ldGhvZCBzaG91bGQgYmUgc3BlY2lmaWVkIScpO1xuXG4gICAgLy8gYWR2YW5jZSBtZXNzYWdlIElEXG4gICAgSnNvbnJwYy5tZXNzYWdlSWQrKztcblxuICAgIHJldHVybiB7XG4gICAgICAgIGpzb25ycGM6ICcyLjAnLFxuICAgICAgICBpZDogSnNvbnJwYy5tZXNzYWdlSWQsXG4gICAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgICBwYXJhbXM6IHBhcmFtcyB8fCBbXVxuICAgIH07XG59O1xuXG4vKipcbiAqIFNob3VsZCBiZSBjYWxsZWQgdG8gY2hlY2sgaWYganNvbnJwYyByZXNwb25zZSBpcyB2YWxpZFxuICpcbiAqIEBtZXRob2QgaXNWYWxpZFJlc3BvbnNlXG4gKiBAcGFyYW0ge09iamVjdH1cbiAqIEByZXR1cm5zIHtCb29sZWFufSB0cnVlIGlmIHJlc3BvbnNlIGlzIHZhbGlkLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuSnNvbnJwYy5pc1ZhbGlkUmVzcG9uc2UgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShyZXNwb25zZSkgPyByZXNwb25zZS5ldmVyeSh2YWxpZGF0ZVNpbmdsZU1lc3NhZ2UpIDogdmFsaWRhdGVTaW5nbGVNZXNzYWdlKHJlc3BvbnNlKTtcblxuICAgIGZ1bmN0aW9uIHZhbGlkYXRlU2luZ2xlTWVzc2FnZShtZXNzYWdlKXtcbiAgICAgIHJldHVybiAhIW1lc3NhZ2UgJiZcbiAgICAgICAgIW1lc3NhZ2UuZXJyb3IgJiZcbiAgICAgICAgbWVzc2FnZS5qc29ucnBjID09PSAnMi4wJyAmJlxuICAgICAgICB0eXBlb2YgbWVzc2FnZS5pZCA9PT0gJ251bWJlcicgJiZcbiAgICAgICAgbWVzc2FnZS5yZXN1bHQgIT09IHVuZGVmaW5lZDsgLy8gb25seSB1bmRlZmluZWQgaXMgbm90IHZhbGlkIGpzb24gb2JqZWN0XG4gICAgfVxufTtcblxuLyoqXG4gKiBTaG91bGQgYmUgY2FsbGVkIHRvIGNyZWF0ZSBiYXRjaCBwYXlsb2FkIG9iamVjdFxuICpcbiAqIEBtZXRob2QgdG9CYXRjaFBheWxvYWRcbiAqIEBwYXJhbSB7QXJyYXl9IG1lc3NhZ2VzLCBhbiBhcnJheSBvZiBvYmplY3RzIHdpdGggbWV0aG9kIChyZXF1aXJlZCkgYW5kIHBhcmFtcyAob3B0aW9uYWwpIGZpZWxkc1xuICogQHJldHVybnMge0FycmF5fSBiYXRjaCBwYXlsb2FkXG4gKi9cbkpzb25ycGMudG9CYXRjaFBheWxvYWQgPSBmdW5jdGlvbiAobWVzc2FnZXMpIHtcbiAgICByZXR1cm4gbWVzc2FnZXMubWFwKGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBKc29ucnBjLnRvUGF5bG9hZChtZXNzYWdlLm1ldGhvZCwgbWVzc2FnZS5wYXJhbXMpO1xuICAgIH0pO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBKc29ucnBjO1xuXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3dlYjMvbGliL3dlYjMvanNvbnJwYy5qcyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX2FtZF9vcHRpb25zX187XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vICh3ZWJwYWNrKS9idWlsZGluL2FtZC1vcHRpb25zLmpzXG4vLyBtb2R1bGUgaWQgPSA1MVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCI7KGZ1bmN0aW9uIChyb290LCBmYWN0b3J5LCB1bmRlZikge1xuXHRpZiAodHlwZW9mIGV4cG9ydHMgPT09IFwib2JqZWN0XCIpIHtcblx0XHQvLyBDb21tb25KU1xuXHRcdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZShcIi4vY29yZVwiKSwgcmVxdWlyZShcIi4veDY0LWNvcmVcIiksIHJlcXVpcmUoXCIuL2xpYi10eXBlZGFycmF5c1wiKSwgcmVxdWlyZShcIi4vZW5jLXV0ZjE2XCIpLCByZXF1aXJlKFwiLi9lbmMtYmFzZTY0XCIpLCByZXF1aXJlKFwiLi9tZDVcIiksIHJlcXVpcmUoXCIuL3NoYTFcIiksIHJlcXVpcmUoXCIuL3NoYTI1NlwiKSwgcmVxdWlyZShcIi4vc2hhMjI0XCIpLCByZXF1aXJlKFwiLi9zaGE1MTJcIiksIHJlcXVpcmUoXCIuL3NoYTM4NFwiKSwgcmVxdWlyZShcIi4vc2hhM1wiKSwgcmVxdWlyZShcIi4vcmlwZW1kMTYwXCIpLCByZXF1aXJlKFwiLi9obWFjXCIpLCByZXF1aXJlKFwiLi9wYmtkZjJcIiksIHJlcXVpcmUoXCIuL2V2cGtkZlwiKSwgcmVxdWlyZShcIi4vY2lwaGVyLWNvcmVcIiksIHJlcXVpcmUoXCIuL21vZGUtY2ZiXCIpLCByZXF1aXJlKFwiLi9tb2RlLWN0clwiKSwgcmVxdWlyZShcIi4vbW9kZS1jdHItZ2xhZG1hblwiKSwgcmVxdWlyZShcIi4vbW9kZS1vZmJcIiksIHJlcXVpcmUoXCIuL21vZGUtZWNiXCIpLCByZXF1aXJlKFwiLi9wYWQtYW5zaXg5MjNcIiksIHJlcXVpcmUoXCIuL3BhZC1pc28xMDEyNlwiKSwgcmVxdWlyZShcIi4vcGFkLWlzbzk3OTcxXCIpLCByZXF1aXJlKFwiLi9wYWQtemVyb3BhZGRpbmdcIiksIHJlcXVpcmUoXCIuL3BhZC1ub3BhZGRpbmdcIiksIHJlcXVpcmUoXCIuL2Zvcm1hdC1oZXhcIiksIHJlcXVpcmUoXCIuL2Flc1wiKSwgcmVxdWlyZShcIi4vdHJpcGxlZGVzXCIpLCByZXF1aXJlKFwiLi9yYzRcIiksIHJlcXVpcmUoXCIuL3JhYmJpdFwiKSwgcmVxdWlyZShcIi4vcmFiYml0LWxlZ2FjeVwiKSk7XG5cdH1cblx0ZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIHtcblx0XHQvLyBBTURcblx0XHRkZWZpbmUoW1wiLi9jb3JlXCIsIFwiLi94NjQtY29yZVwiLCBcIi4vbGliLXR5cGVkYXJyYXlzXCIsIFwiLi9lbmMtdXRmMTZcIiwgXCIuL2VuYy1iYXNlNjRcIiwgXCIuL21kNVwiLCBcIi4vc2hhMVwiLCBcIi4vc2hhMjU2XCIsIFwiLi9zaGEyMjRcIiwgXCIuL3NoYTUxMlwiLCBcIi4vc2hhMzg0XCIsIFwiLi9zaGEzXCIsIFwiLi9yaXBlbWQxNjBcIiwgXCIuL2htYWNcIiwgXCIuL3Bia2RmMlwiLCBcIi4vZXZwa2RmXCIsIFwiLi9jaXBoZXItY29yZVwiLCBcIi4vbW9kZS1jZmJcIiwgXCIuL21vZGUtY3RyXCIsIFwiLi9tb2RlLWN0ci1nbGFkbWFuXCIsIFwiLi9tb2RlLW9mYlwiLCBcIi4vbW9kZS1lY2JcIiwgXCIuL3BhZC1hbnNpeDkyM1wiLCBcIi4vcGFkLWlzbzEwMTI2XCIsIFwiLi9wYWQtaXNvOTc5NzFcIiwgXCIuL3BhZC16ZXJvcGFkZGluZ1wiLCBcIi4vcGFkLW5vcGFkZGluZ1wiLCBcIi4vZm9ybWF0LWhleFwiLCBcIi4vYWVzXCIsIFwiLi90cmlwbGVkZXNcIiwgXCIuL3JjNFwiLCBcIi4vcmFiYml0XCIsIFwiLi9yYWJiaXQtbGVnYWN5XCJdLCBmYWN0b3J5KTtcblx0fVxuXHRlbHNlIHtcblx0XHQvLyBHbG9iYWwgKGJyb3dzZXIpXG5cdFx0cm9vdC5DcnlwdG9KUyA9IGZhY3Rvcnkocm9vdC5DcnlwdG9KUyk7XG5cdH1cbn0odGhpcywgZnVuY3Rpb24gKENyeXB0b0pTKSB7XG5cblx0cmV0dXJuIENyeXB0b0pTO1xuXG59KSk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9jcnlwdG8tanMvaW5kZXguanMiLCJtb2R1bGUuZXhwb3J0cyA9IFtcblx0e1xuXHRcdFwiY29uc3RhbnRcIjogdHJ1ZSxcblx0XHRcImlucHV0c1wiOiBbXG5cdFx0XHR7XG5cdFx0XHRcdFwibmFtZVwiOiBcIl9vd25lclwiLFxuXHRcdFx0XHRcInR5cGVcIjogXCJhZGRyZXNzXCJcblx0XHRcdH1cblx0XHRdLFxuXHRcdFwibmFtZVwiOiBcIm5hbWVcIixcblx0XHRcIm91dHB1dHNcIjogW1xuXHRcdFx0e1xuXHRcdFx0XHRcIm5hbWVcIjogXCJvX25hbWVcIixcblx0XHRcdFx0XCJ0eXBlXCI6IFwiYnl0ZXMzMlwiXG5cdFx0XHR9XG5cdFx0XSxcblx0XHRcInR5cGVcIjogXCJmdW5jdGlvblwiXG5cdH0sXG5cdHtcblx0XHRcImNvbnN0YW50XCI6IHRydWUsXG5cdFx0XCJpbnB1dHNcIjogW1xuXHRcdFx0e1xuXHRcdFx0XHRcIm5hbWVcIjogXCJfbmFtZVwiLFxuXHRcdFx0XHRcInR5cGVcIjogXCJieXRlczMyXCJcblx0XHRcdH1cblx0XHRdLFxuXHRcdFwibmFtZVwiOiBcIm93bmVyXCIsXG5cdFx0XCJvdXRwdXRzXCI6IFtcblx0XHRcdHtcblx0XHRcdFx0XCJuYW1lXCI6IFwiXCIsXG5cdFx0XHRcdFwidHlwZVwiOiBcImFkZHJlc3NcIlxuXHRcdFx0fVxuXHRcdF0sXG5cdFx0XCJ0eXBlXCI6IFwiZnVuY3Rpb25cIlxuXHR9LFxuXHR7XG5cdFx0XCJjb25zdGFudFwiOiB0cnVlLFxuXHRcdFwiaW5wdXRzXCI6IFtcblx0XHRcdHtcblx0XHRcdFx0XCJuYW1lXCI6IFwiX25hbWVcIixcblx0XHRcdFx0XCJ0eXBlXCI6IFwiYnl0ZXMzMlwiXG5cdFx0XHR9XG5cdFx0XSxcblx0XHRcIm5hbWVcIjogXCJjb250ZW50XCIsXG5cdFx0XCJvdXRwdXRzXCI6IFtcblx0XHRcdHtcblx0XHRcdFx0XCJuYW1lXCI6IFwiXCIsXG5cdFx0XHRcdFwidHlwZVwiOiBcImJ5dGVzMzJcIlxuXHRcdFx0fVxuXHRcdF0sXG5cdFx0XCJ0eXBlXCI6IFwiZnVuY3Rpb25cIlxuXHR9LFxuXHR7XG5cdFx0XCJjb25zdGFudFwiOiB0cnVlLFxuXHRcdFwiaW5wdXRzXCI6IFtcblx0XHRcdHtcblx0XHRcdFx0XCJuYW1lXCI6IFwiX25hbWVcIixcblx0XHRcdFx0XCJ0eXBlXCI6IFwiYnl0ZXMzMlwiXG5cdFx0XHR9XG5cdFx0XSxcblx0XHRcIm5hbWVcIjogXCJhZGRyXCIsXG5cdFx0XCJvdXRwdXRzXCI6IFtcblx0XHRcdHtcblx0XHRcdFx0XCJuYW1lXCI6IFwiXCIsXG5cdFx0XHRcdFwidHlwZVwiOiBcImFkZHJlc3NcIlxuXHRcdFx0fVxuXHRcdF0sXG5cdFx0XCJ0eXBlXCI6IFwiZnVuY3Rpb25cIlxuXHR9LFxuXHR7XG5cdFx0XCJjb25zdGFudFwiOiBmYWxzZSxcblx0XHRcImlucHV0c1wiOiBbXG5cdFx0XHR7XG5cdFx0XHRcdFwibmFtZVwiOiBcIl9uYW1lXCIsXG5cdFx0XHRcdFwidHlwZVwiOiBcImJ5dGVzMzJcIlxuXHRcdFx0fVxuXHRcdF0sXG5cdFx0XCJuYW1lXCI6IFwicmVzZXJ2ZVwiLFxuXHRcdFwib3V0cHV0c1wiOiBbXSxcblx0XHRcInR5cGVcIjogXCJmdW5jdGlvblwiXG5cdH0sXG5cdHtcblx0XHRcImNvbnN0YW50XCI6IHRydWUsXG5cdFx0XCJpbnB1dHNcIjogW1xuXHRcdFx0e1xuXHRcdFx0XHRcIm5hbWVcIjogXCJfbmFtZVwiLFxuXHRcdFx0XHRcInR5cGVcIjogXCJieXRlczMyXCJcblx0XHRcdH1cblx0XHRdLFxuXHRcdFwibmFtZVwiOiBcInN1YlJlZ2lzdHJhclwiLFxuXHRcdFwib3V0cHV0c1wiOiBbXG5cdFx0XHR7XG5cdFx0XHRcdFwibmFtZVwiOiBcIlwiLFxuXHRcdFx0XHRcInR5cGVcIjogXCJhZGRyZXNzXCJcblx0XHRcdH1cblx0XHRdLFxuXHRcdFwidHlwZVwiOiBcImZ1bmN0aW9uXCJcblx0fSxcblx0e1xuXHRcdFwiY29uc3RhbnRcIjogZmFsc2UsXG5cdFx0XCJpbnB1dHNcIjogW1xuXHRcdFx0e1xuXHRcdFx0XHRcIm5hbWVcIjogXCJfbmFtZVwiLFxuXHRcdFx0XHRcInR5cGVcIjogXCJieXRlczMyXCJcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdFwibmFtZVwiOiBcIl9uZXdPd25lclwiLFxuXHRcdFx0XHRcInR5cGVcIjogXCJhZGRyZXNzXCJcblx0XHRcdH1cblx0XHRdLFxuXHRcdFwibmFtZVwiOiBcInRyYW5zZmVyXCIsXG5cdFx0XCJvdXRwdXRzXCI6IFtdLFxuXHRcdFwidHlwZVwiOiBcImZ1bmN0aW9uXCJcblx0fSxcblx0e1xuXHRcdFwiY29uc3RhbnRcIjogZmFsc2UsXG5cdFx0XCJpbnB1dHNcIjogW1xuXHRcdFx0e1xuXHRcdFx0XHRcIm5hbWVcIjogXCJfbmFtZVwiLFxuXHRcdFx0XHRcInR5cGVcIjogXCJieXRlczMyXCJcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdFwibmFtZVwiOiBcIl9yZWdpc3RyYXJcIixcblx0XHRcdFx0XCJ0eXBlXCI6IFwiYWRkcmVzc1wiXG5cdFx0XHR9XG5cdFx0XSxcblx0XHRcIm5hbWVcIjogXCJzZXRTdWJSZWdpc3RyYXJcIixcblx0XHRcIm91dHB1dHNcIjogW10sXG5cdFx0XCJ0eXBlXCI6IFwiZnVuY3Rpb25cIlxuXHR9LFxuXHR7XG5cdFx0XCJjb25zdGFudFwiOiBmYWxzZSxcblx0XHRcImlucHV0c1wiOiBbXSxcblx0XHRcIm5hbWVcIjogXCJSZWdpc3RyYXJcIixcblx0XHRcIm91dHB1dHNcIjogW10sXG5cdFx0XCJ0eXBlXCI6IFwiZnVuY3Rpb25cIlxuXHR9LFxuXHR7XG5cdFx0XCJjb25zdGFudFwiOiBmYWxzZSxcblx0XHRcImlucHV0c1wiOiBbXG5cdFx0XHR7XG5cdFx0XHRcdFwibmFtZVwiOiBcIl9uYW1lXCIsXG5cdFx0XHRcdFwidHlwZVwiOiBcImJ5dGVzMzJcIlxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0XCJuYW1lXCI6IFwiX2FcIixcblx0XHRcdFx0XCJ0eXBlXCI6IFwiYWRkcmVzc1wiXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRcIm5hbWVcIjogXCJfcHJpbWFyeVwiLFxuXHRcdFx0XHRcInR5cGVcIjogXCJib29sXCJcblx0XHRcdH1cblx0XHRdLFxuXHRcdFwibmFtZVwiOiBcInNldEFkZHJlc3NcIixcblx0XHRcIm91dHB1dHNcIjogW10sXG5cdFx0XCJ0eXBlXCI6IFwiZnVuY3Rpb25cIlxuXHR9LFxuXHR7XG5cdFx0XCJjb25zdGFudFwiOiBmYWxzZSxcblx0XHRcImlucHV0c1wiOiBbXG5cdFx0XHR7XG5cdFx0XHRcdFwibmFtZVwiOiBcIl9uYW1lXCIsXG5cdFx0XHRcdFwidHlwZVwiOiBcImJ5dGVzMzJcIlxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0XCJuYW1lXCI6IFwiX2NvbnRlbnRcIixcblx0XHRcdFx0XCJ0eXBlXCI6IFwiYnl0ZXMzMlwiXG5cdFx0XHR9XG5cdFx0XSxcblx0XHRcIm5hbWVcIjogXCJzZXRDb250ZW50XCIsXG5cdFx0XCJvdXRwdXRzXCI6IFtdLFxuXHRcdFwidHlwZVwiOiBcImZ1bmN0aW9uXCJcblx0fSxcblx0e1xuXHRcdFwiY29uc3RhbnRcIjogZmFsc2UsXG5cdFx0XCJpbnB1dHNcIjogW1xuXHRcdFx0e1xuXHRcdFx0XHRcIm5hbWVcIjogXCJfbmFtZVwiLFxuXHRcdFx0XHRcInR5cGVcIjogXCJieXRlczMyXCJcblx0XHRcdH1cblx0XHRdLFxuXHRcdFwibmFtZVwiOiBcImRpc293blwiLFxuXHRcdFwib3V0cHV0c1wiOiBbXSxcblx0XHRcInR5cGVcIjogXCJmdW5jdGlvblwiXG5cdH0sXG5cdHtcblx0XHRcImFub255bW91c1wiOiBmYWxzZSxcblx0XHRcImlucHV0c1wiOiBbXG5cdFx0XHR7XG5cdFx0XHRcdFwiaW5kZXhlZFwiOiB0cnVlLFxuXHRcdFx0XHRcIm5hbWVcIjogXCJfbmFtZVwiLFxuXHRcdFx0XHRcInR5cGVcIjogXCJieXRlczMyXCJcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdFwiaW5kZXhlZFwiOiBmYWxzZSxcblx0XHRcdFx0XCJuYW1lXCI6IFwiX3dpbm5lclwiLFxuXHRcdFx0XHRcInR5cGVcIjogXCJhZGRyZXNzXCJcblx0XHRcdH1cblx0XHRdLFxuXHRcdFwibmFtZVwiOiBcIkF1Y3Rpb25FbmRlZFwiLFxuXHRcdFwidHlwZVwiOiBcImV2ZW50XCJcblx0fSxcblx0e1xuXHRcdFwiYW5vbnltb3VzXCI6IGZhbHNlLFxuXHRcdFwiaW5wdXRzXCI6IFtcblx0XHRcdHtcblx0XHRcdFx0XCJpbmRleGVkXCI6IHRydWUsXG5cdFx0XHRcdFwibmFtZVwiOiBcIl9uYW1lXCIsXG5cdFx0XHRcdFwidHlwZVwiOiBcImJ5dGVzMzJcIlxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0XCJpbmRleGVkXCI6IGZhbHNlLFxuXHRcdFx0XHRcIm5hbWVcIjogXCJfYmlkZGVyXCIsXG5cdFx0XHRcdFwidHlwZVwiOiBcImFkZHJlc3NcIlxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0XCJpbmRleGVkXCI6IGZhbHNlLFxuXHRcdFx0XHRcIm5hbWVcIjogXCJfdmFsdWVcIixcblx0XHRcdFx0XCJ0eXBlXCI6IFwidWludDI1NlwiXG5cdFx0XHR9XG5cdFx0XSxcblx0XHRcIm5hbWVcIjogXCJOZXdCaWRcIixcblx0XHRcInR5cGVcIjogXCJldmVudFwiXG5cdH0sXG5cdHtcblx0XHRcImFub255bW91c1wiOiBmYWxzZSxcblx0XHRcImlucHV0c1wiOiBbXG5cdFx0XHR7XG5cdFx0XHRcdFwiaW5kZXhlZFwiOiB0cnVlLFxuXHRcdFx0XHRcIm5hbWVcIjogXCJuYW1lXCIsXG5cdFx0XHRcdFwidHlwZVwiOiBcImJ5dGVzMzJcIlxuXHRcdFx0fVxuXHRcdF0sXG5cdFx0XCJuYW1lXCI6IFwiQ2hhbmdlZFwiLFxuXHRcdFwidHlwZVwiOiBcImV2ZW50XCJcblx0fSxcblx0e1xuXHRcdFwiYW5vbnltb3VzXCI6IGZhbHNlLFxuXHRcdFwiaW5wdXRzXCI6IFtcblx0XHRcdHtcblx0XHRcdFx0XCJpbmRleGVkXCI6IHRydWUsXG5cdFx0XHRcdFwibmFtZVwiOiBcIm5hbWVcIixcblx0XHRcdFx0XCJ0eXBlXCI6IFwiYnl0ZXMzMlwiXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRcImluZGV4ZWRcIjogdHJ1ZSxcblx0XHRcdFx0XCJuYW1lXCI6IFwiYWRkclwiLFxuXHRcdFx0XHRcInR5cGVcIjogXCJhZGRyZXNzXCJcblx0XHRcdH1cblx0XHRdLFxuXHRcdFwibmFtZVwiOiBcIlByaW1hcnlDaGFuZ2VkXCIsXG5cdFx0XCJ0eXBlXCI6IFwiZXZlbnRcIlxuXHR9XG5dO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vd2ViMy9saWIvY29udHJhY3RzL0dsb2JhbFJlZ2lzdHJhci5qc29uIiwibW9kdWxlLmV4cG9ydHMgPSBbXG5cdHtcblx0XHRcImNvbnN0YW50XCI6IHRydWUsXG5cdFx0XCJpbnB1dHNcIjogW1xuXHRcdFx0e1xuXHRcdFx0XHRcIm5hbWVcIjogXCJfbmFtZVwiLFxuXHRcdFx0XHRcInR5cGVcIjogXCJieXRlczMyXCJcblx0XHRcdH1cblx0XHRdLFxuXHRcdFwibmFtZVwiOiBcIm93bmVyXCIsXG5cdFx0XCJvdXRwdXRzXCI6IFtcblx0XHRcdHtcblx0XHRcdFx0XCJuYW1lXCI6IFwiXCIsXG5cdFx0XHRcdFwidHlwZVwiOiBcImFkZHJlc3NcIlxuXHRcdFx0fVxuXHRcdF0sXG5cdFx0XCJ0eXBlXCI6IFwiZnVuY3Rpb25cIlxuXHR9LFxuXHR7XG5cdFx0XCJjb25zdGFudFwiOiBmYWxzZSxcblx0XHRcImlucHV0c1wiOiBbXG5cdFx0XHR7XG5cdFx0XHRcdFwibmFtZVwiOiBcIl9uYW1lXCIsXG5cdFx0XHRcdFwidHlwZVwiOiBcImJ5dGVzMzJcIlxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0XCJuYW1lXCI6IFwiX3JlZnVuZFwiLFxuXHRcdFx0XHRcInR5cGVcIjogXCJhZGRyZXNzXCJcblx0XHRcdH1cblx0XHRdLFxuXHRcdFwibmFtZVwiOiBcImRpc293blwiLFxuXHRcdFwib3V0cHV0c1wiOiBbXSxcblx0XHRcInR5cGVcIjogXCJmdW5jdGlvblwiXG5cdH0sXG5cdHtcblx0XHRcImNvbnN0YW50XCI6IHRydWUsXG5cdFx0XCJpbnB1dHNcIjogW1xuXHRcdFx0e1xuXHRcdFx0XHRcIm5hbWVcIjogXCJfbmFtZVwiLFxuXHRcdFx0XHRcInR5cGVcIjogXCJieXRlczMyXCJcblx0XHRcdH1cblx0XHRdLFxuXHRcdFwibmFtZVwiOiBcImFkZHJcIixcblx0XHRcIm91dHB1dHNcIjogW1xuXHRcdFx0e1xuXHRcdFx0XHRcIm5hbWVcIjogXCJcIixcblx0XHRcdFx0XCJ0eXBlXCI6IFwiYWRkcmVzc1wiXG5cdFx0XHR9XG5cdFx0XSxcblx0XHRcInR5cGVcIjogXCJmdW5jdGlvblwiXG5cdH0sXG5cdHtcblx0XHRcImNvbnN0YW50XCI6IGZhbHNlLFxuXHRcdFwiaW5wdXRzXCI6IFtcblx0XHRcdHtcblx0XHRcdFx0XCJuYW1lXCI6IFwiX25hbWVcIixcblx0XHRcdFx0XCJ0eXBlXCI6IFwiYnl0ZXMzMlwiXG5cdFx0XHR9XG5cdFx0XSxcblx0XHRcIm5hbWVcIjogXCJyZXNlcnZlXCIsXG5cdFx0XCJvdXRwdXRzXCI6IFtdLFxuXHRcdFwidHlwZVwiOiBcImZ1bmN0aW9uXCJcblx0fSxcblx0e1xuXHRcdFwiY29uc3RhbnRcIjogZmFsc2UsXG5cdFx0XCJpbnB1dHNcIjogW1xuXHRcdFx0e1xuXHRcdFx0XHRcIm5hbWVcIjogXCJfbmFtZVwiLFxuXHRcdFx0XHRcInR5cGVcIjogXCJieXRlczMyXCJcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdFwibmFtZVwiOiBcIl9uZXdPd25lclwiLFxuXHRcdFx0XHRcInR5cGVcIjogXCJhZGRyZXNzXCJcblx0XHRcdH1cblx0XHRdLFxuXHRcdFwibmFtZVwiOiBcInRyYW5zZmVyXCIsXG5cdFx0XCJvdXRwdXRzXCI6IFtdLFxuXHRcdFwidHlwZVwiOiBcImZ1bmN0aW9uXCJcblx0fSxcblx0e1xuXHRcdFwiY29uc3RhbnRcIjogZmFsc2UsXG5cdFx0XCJpbnB1dHNcIjogW1xuXHRcdFx0e1xuXHRcdFx0XHRcIm5hbWVcIjogXCJfbmFtZVwiLFxuXHRcdFx0XHRcInR5cGVcIjogXCJieXRlczMyXCJcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdFwibmFtZVwiOiBcIl9hXCIsXG5cdFx0XHRcdFwidHlwZVwiOiBcImFkZHJlc3NcIlxuXHRcdFx0fVxuXHRcdF0sXG5cdFx0XCJuYW1lXCI6IFwic2V0QWRkclwiLFxuXHRcdFwib3V0cHV0c1wiOiBbXSxcblx0XHRcInR5cGVcIjogXCJmdW5jdGlvblwiXG5cdH0sXG5cdHtcblx0XHRcImFub255bW91c1wiOiBmYWxzZSxcblx0XHRcImlucHV0c1wiOiBbXG5cdFx0XHR7XG5cdFx0XHRcdFwiaW5kZXhlZFwiOiB0cnVlLFxuXHRcdFx0XHRcIm5hbWVcIjogXCJuYW1lXCIsXG5cdFx0XHRcdFwidHlwZVwiOiBcImJ5dGVzMzJcIlxuXHRcdFx0fVxuXHRcdF0sXG5cdFx0XCJuYW1lXCI6IFwiQ2hhbmdlZFwiLFxuXHRcdFwidHlwZVwiOiBcImV2ZW50XCJcblx0fVxuXTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3dlYjMvbGliL2NvbnRyYWN0cy9JQ0FQUmVnaXN0cmFyLmpzb24iLCJtb2R1bGUuZXhwb3J0cyA9IFtcblx0e1xuXHRcdFwiY29uc3RhbnRcIjogZmFsc2UsXG5cdFx0XCJpbnB1dHNcIjogW1xuXHRcdFx0e1xuXHRcdFx0XHRcIm5hbWVcIjogXCJmcm9tXCIsXG5cdFx0XHRcdFwidHlwZVwiOiBcImJ5dGVzMzJcIlxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0XCJuYW1lXCI6IFwidG9cIixcblx0XHRcdFx0XCJ0eXBlXCI6IFwiYWRkcmVzc1wiXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRcIm5hbWVcIjogXCJ2YWx1ZVwiLFxuXHRcdFx0XHRcInR5cGVcIjogXCJ1aW50MjU2XCJcblx0XHRcdH1cblx0XHRdLFxuXHRcdFwibmFtZVwiOiBcInRyYW5zZmVyXCIsXG5cdFx0XCJvdXRwdXRzXCI6IFtdLFxuXHRcdFwidHlwZVwiOiBcImZ1bmN0aW9uXCJcblx0fSxcblx0e1xuXHRcdFwiY29uc3RhbnRcIjogZmFsc2UsXG5cdFx0XCJpbnB1dHNcIjogW1xuXHRcdFx0e1xuXHRcdFx0XHRcIm5hbWVcIjogXCJmcm9tXCIsXG5cdFx0XHRcdFwidHlwZVwiOiBcImJ5dGVzMzJcIlxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0XCJuYW1lXCI6IFwidG9cIixcblx0XHRcdFx0XCJ0eXBlXCI6IFwiYWRkcmVzc1wiXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRcIm5hbWVcIjogXCJpbmRpcmVjdElkXCIsXG5cdFx0XHRcdFwidHlwZVwiOiBcImJ5dGVzMzJcIlxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0XCJuYW1lXCI6IFwidmFsdWVcIixcblx0XHRcdFx0XCJ0eXBlXCI6IFwidWludDI1NlwiXG5cdFx0XHR9XG5cdFx0XSxcblx0XHRcIm5hbWVcIjogXCJpY2FwVHJhbnNmZXJcIixcblx0XHRcIm91dHB1dHNcIjogW10sXG5cdFx0XCJ0eXBlXCI6IFwiZnVuY3Rpb25cIlxuXHR9LFxuXHR7XG5cdFx0XCJjb25zdGFudFwiOiBmYWxzZSxcblx0XHRcImlucHV0c1wiOiBbXG5cdFx0XHR7XG5cdFx0XHRcdFwibmFtZVwiOiBcInRvXCIsXG5cdFx0XHRcdFwidHlwZVwiOiBcImJ5dGVzMzJcIlxuXHRcdFx0fVxuXHRcdF0sXG5cdFx0XCJuYW1lXCI6IFwiZGVwb3NpdFwiLFxuXHRcdFwib3V0cHV0c1wiOiBbXSxcblx0XHRcInR5cGVcIjogXCJmdW5jdGlvblwiXG5cdH0sXG5cdHtcblx0XHRcImFub255bW91c1wiOiBmYWxzZSxcblx0XHRcImlucHV0c1wiOiBbXG5cdFx0XHR7XG5cdFx0XHRcdFwiaW5kZXhlZFwiOiB0cnVlLFxuXHRcdFx0XHRcIm5hbWVcIjogXCJmcm9tXCIsXG5cdFx0XHRcdFwidHlwZVwiOiBcImFkZHJlc3NcIlxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0XCJpbmRleGVkXCI6IGZhbHNlLFxuXHRcdFx0XHRcIm5hbWVcIjogXCJ2YWx1ZVwiLFxuXHRcdFx0XHRcInR5cGVcIjogXCJ1aW50MjU2XCJcblx0XHRcdH1cblx0XHRdLFxuXHRcdFwibmFtZVwiOiBcIkFub255bW91c0RlcG9zaXRcIixcblx0XHRcInR5cGVcIjogXCJldmVudFwiXG5cdH0sXG5cdHtcblx0XHRcImFub255bW91c1wiOiBmYWxzZSxcblx0XHRcImlucHV0c1wiOiBbXG5cdFx0XHR7XG5cdFx0XHRcdFwiaW5kZXhlZFwiOiB0cnVlLFxuXHRcdFx0XHRcIm5hbWVcIjogXCJmcm9tXCIsXG5cdFx0XHRcdFwidHlwZVwiOiBcImFkZHJlc3NcIlxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0XCJpbmRleGVkXCI6IHRydWUsXG5cdFx0XHRcdFwibmFtZVwiOiBcInRvXCIsXG5cdFx0XHRcdFwidHlwZVwiOiBcImJ5dGVzMzJcIlxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0XCJpbmRleGVkXCI6IGZhbHNlLFxuXHRcdFx0XHRcIm5hbWVcIjogXCJ2YWx1ZVwiLFxuXHRcdFx0XHRcInR5cGVcIjogXCJ1aW50MjU2XCJcblx0XHRcdH1cblx0XHRdLFxuXHRcdFwibmFtZVwiOiBcIkRlcG9zaXRcIixcblx0XHRcInR5cGVcIjogXCJldmVudFwiXG5cdH0sXG5cdHtcblx0XHRcImFub255bW91c1wiOiBmYWxzZSxcblx0XHRcImlucHV0c1wiOiBbXG5cdFx0XHR7XG5cdFx0XHRcdFwiaW5kZXhlZFwiOiB0cnVlLFxuXHRcdFx0XHRcIm5hbWVcIjogXCJmcm9tXCIsXG5cdFx0XHRcdFwidHlwZVwiOiBcImJ5dGVzMzJcIlxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0XCJpbmRleGVkXCI6IHRydWUsXG5cdFx0XHRcdFwibmFtZVwiOiBcInRvXCIsXG5cdFx0XHRcdFwidHlwZVwiOiBcImFkZHJlc3NcIlxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0XCJpbmRleGVkXCI6IGZhbHNlLFxuXHRcdFx0XHRcIm5hbWVcIjogXCJ2YWx1ZVwiLFxuXHRcdFx0XHRcInR5cGVcIjogXCJ1aW50MjU2XCJcblx0XHRcdH1cblx0XHRdLFxuXHRcdFwibmFtZVwiOiBcIlRyYW5zZmVyXCIsXG5cdFx0XCJ0eXBlXCI6IFwiZXZlbnRcIlxuXHR9LFxuXHR7XG5cdFx0XCJhbm9ueW1vdXNcIjogZmFsc2UsXG5cdFx0XCJpbnB1dHNcIjogW1xuXHRcdFx0e1xuXHRcdFx0XHRcImluZGV4ZWRcIjogdHJ1ZSxcblx0XHRcdFx0XCJuYW1lXCI6IFwiZnJvbVwiLFxuXHRcdFx0XHRcInR5cGVcIjogXCJieXRlczMyXCJcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdFwiaW5kZXhlZFwiOiB0cnVlLFxuXHRcdFx0XHRcIm5hbWVcIjogXCJ0b1wiLFxuXHRcdFx0XHRcInR5cGVcIjogXCJhZGRyZXNzXCJcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdFwiaW5kZXhlZFwiOiBmYWxzZSxcblx0XHRcdFx0XCJuYW1lXCI6IFwiaW5kaXJlY3RJZFwiLFxuXHRcdFx0XHRcInR5cGVcIjogXCJieXRlczMyXCJcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdFwiaW5kZXhlZFwiOiBmYWxzZSxcblx0XHRcdFx0XCJuYW1lXCI6IFwidmFsdWVcIixcblx0XHRcdFx0XCJ0eXBlXCI6IFwidWludDI1NlwiXG5cdFx0XHR9XG5cdFx0XSxcblx0XHRcIm5hbWVcIjogXCJJY2FwVHJhbnNmZXJcIixcblx0XHRcInR5cGVcIjogXCJldmVudFwiXG5cdH1cbl07XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi93ZWIzL2xpYi9jb250cmFjdHMvU21hcnRFeGNoYW5nZS5qc29uIiwibW9kdWxlLmV4cG9ydHMgPSB7XG5cdFwidmVyc2lvblwiOiBcIjAuMTcuMC1hbHBoYVwiXG59O1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vd2ViMy9saWIvdmVyc2lvbi5qc29uIiwiJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBfdG9BcnJheShhcnIpIHsgcmV0dXJuIEFycmF5LmlzQXJyYXkoYXJyKSA/IGFyciA6IEFycmF5LmZyb20oYXJyKTsgfVxuXG5mdW5jdGlvbiBpc1VuZGVmKHZhbCkge1xuICByZXR1cm4gdHlwZW9mIHZhbCA9PT0gJ3VuZGVmaW5lZCc7XG59XG5cbmZ1bmN0aW9uIGlzU3RyaW5nKHZhbCkge1xuICByZXR1cm4gdHlwZW9mIHZhbCA9PT0gJ3N0cmluZyc7XG59XG5cbmZ1bmN0aW9uIHNxdWJhKCkge1xuICB2YXIgb2JqID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgdmFyIHBhdGggPSBhcmd1bWVudHNbMV07XG5cbiAgaWYgKGlzU3RyaW5nKHBhdGgpKSB7XG4gICAgcmV0dXJuIHNxdWJhKG9iaiwgcGF0aC5zcGxpdCgnLicpKTtcbiAgfVxuXG4gIGlmIChpc1VuZGVmKG9ialtwYXRoWzBdXSkpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgaWYgKHBhdGgubGVuZ3RoID4gMSkge1xuICAgIHZhciBfcGF0aCA9IF90b0FycmF5KHBhdGgpLFxuICAgICAgICBoZWFkID0gX3BhdGhbMF0sXG4gICAgICAgIHRhaWwgPSBfcGF0aC5zbGljZSgxKTtcblxuICAgIHJldHVybiBzcXViYShvYmpbaGVhZF0sIHRhaWwpO1xuICB9XG5cbiAgcmV0dXJuIG9ialtwYXRoWzBdXTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzcXViYTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vc3F1YmEvZGlzdC9zcXViYS5qcyIsIi8qISBodHRwczovL210aHMuYmUvdXRmOGpzIHYyLjEuMiBieSBAbWF0aGlhcyAqL1xuOyhmdW5jdGlvbihyb290KSB7XG5cblx0Ly8gRGV0ZWN0IGZyZWUgdmFyaWFibGVzIGBleHBvcnRzYFxuXHR2YXIgZnJlZUV4cG9ydHMgPSB0eXBlb2YgZXhwb3J0cyA9PSAnb2JqZWN0JyAmJiBleHBvcnRzO1xuXG5cdC8vIERldGVjdCBmcmVlIHZhcmlhYmxlIGBtb2R1bGVgXG5cdHZhciBmcmVlTW9kdWxlID0gdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUgJiZcblx0XHRtb2R1bGUuZXhwb3J0cyA9PSBmcmVlRXhwb3J0cyAmJiBtb2R1bGU7XG5cblx0Ly8gRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGdsb2JhbGAsIGZyb20gTm9kZS5qcyBvciBCcm93c2VyaWZpZWQgY29kZSxcblx0Ly8gYW5kIHVzZSBpdCBhcyBgcm9vdGBcblx0dmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbDtcblx0aWYgKGZyZWVHbG9iYWwuZ2xvYmFsID09PSBmcmVlR2xvYmFsIHx8IGZyZWVHbG9iYWwud2luZG93ID09PSBmcmVlR2xvYmFsKSB7XG5cdFx0cm9vdCA9IGZyZWVHbG9iYWw7XG5cdH1cblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHR2YXIgc3RyaW5nRnJvbUNoYXJDb2RlID0gU3RyaW5nLmZyb21DaGFyQ29kZTtcblxuXHQvLyBUYWtlbiBmcm9tIGh0dHBzOi8vbXRocy5iZS9wdW55Y29kZVxuXHRmdW5jdGlvbiB1Y3MyZGVjb2RlKHN0cmluZykge1xuXHRcdHZhciBvdXRwdXQgPSBbXTtcblx0XHR2YXIgY291bnRlciA9IDA7XG5cdFx0dmFyIGxlbmd0aCA9IHN0cmluZy5sZW5ndGg7XG5cdFx0dmFyIHZhbHVlO1xuXHRcdHZhciBleHRyYTtcblx0XHR3aGlsZSAoY291bnRlciA8IGxlbmd0aCkge1xuXHRcdFx0dmFsdWUgPSBzdHJpbmcuY2hhckNvZGVBdChjb3VudGVyKyspO1xuXHRcdFx0aWYgKHZhbHVlID49IDB4RDgwMCAmJiB2YWx1ZSA8PSAweERCRkYgJiYgY291bnRlciA8IGxlbmd0aCkge1xuXHRcdFx0XHQvLyBoaWdoIHN1cnJvZ2F0ZSwgYW5kIHRoZXJlIGlzIGEgbmV4dCBjaGFyYWN0ZXJcblx0XHRcdFx0ZXh0cmEgPSBzdHJpbmcuY2hhckNvZGVBdChjb3VudGVyKyspO1xuXHRcdFx0XHRpZiAoKGV4dHJhICYgMHhGQzAwKSA9PSAweERDMDApIHsgLy8gbG93IHN1cnJvZ2F0ZVxuXHRcdFx0XHRcdG91dHB1dC5wdXNoKCgodmFsdWUgJiAweDNGRikgPDwgMTApICsgKGV4dHJhICYgMHgzRkYpICsgMHgxMDAwMCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Ly8gdW5tYXRjaGVkIHN1cnJvZ2F0ZTsgb25seSBhcHBlbmQgdGhpcyBjb2RlIHVuaXQsIGluIGNhc2UgdGhlIG5leHRcblx0XHRcdFx0XHQvLyBjb2RlIHVuaXQgaXMgdGhlIGhpZ2ggc3Vycm9nYXRlIG9mIGEgc3Vycm9nYXRlIHBhaXJcblx0XHRcdFx0XHRvdXRwdXQucHVzaCh2YWx1ZSk7XG5cdFx0XHRcdFx0Y291bnRlci0tO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRvdXRwdXQucHVzaCh2YWx1ZSk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBvdXRwdXQ7XG5cdH1cblxuXHQvLyBUYWtlbiBmcm9tIGh0dHBzOi8vbXRocy5iZS9wdW55Y29kZVxuXHRmdW5jdGlvbiB1Y3MyZW5jb2RlKGFycmF5KSB7XG5cdFx0dmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblx0XHR2YXIgaW5kZXggPSAtMTtcblx0XHR2YXIgdmFsdWU7XG5cdFx0dmFyIG91dHB1dCA9ICcnO1xuXHRcdHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG5cdFx0XHR2YWx1ZSA9IGFycmF5W2luZGV4XTtcblx0XHRcdGlmICh2YWx1ZSA+IDB4RkZGRikge1xuXHRcdFx0XHR2YWx1ZSAtPSAweDEwMDAwO1xuXHRcdFx0XHRvdXRwdXQgKz0gc3RyaW5nRnJvbUNoYXJDb2RlKHZhbHVlID4+PiAxMCAmIDB4M0ZGIHwgMHhEODAwKTtcblx0XHRcdFx0dmFsdWUgPSAweERDMDAgfCB2YWx1ZSAmIDB4M0ZGO1xuXHRcdFx0fVxuXHRcdFx0b3V0cHV0ICs9IHN0cmluZ0Zyb21DaGFyQ29kZSh2YWx1ZSk7XG5cdFx0fVxuXHRcdHJldHVybiBvdXRwdXQ7XG5cdH1cblxuXHRmdW5jdGlvbiBjaGVja1NjYWxhclZhbHVlKGNvZGVQb2ludCkge1xuXHRcdGlmIChjb2RlUG9pbnQgPj0gMHhEODAwICYmIGNvZGVQb2ludCA8PSAweERGRkYpIHtcblx0XHRcdHRocm93IEVycm9yKFxuXHRcdFx0XHQnTG9uZSBzdXJyb2dhdGUgVSsnICsgY29kZVBvaW50LnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpICtcblx0XHRcdFx0JyBpcyBub3QgYSBzY2FsYXIgdmFsdWUnXG5cdFx0XHQpO1xuXHRcdH1cblx0fVxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRmdW5jdGlvbiBjcmVhdGVCeXRlKGNvZGVQb2ludCwgc2hpZnQpIHtcblx0XHRyZXR1cm4gc3RyaW5nRnJvbUNoYXJDb2RlKCgoY29kZVBvaW50ID4+IHNoaWZ0KSAmIDB4M0YpIHwgMHg4MCk7XG5cdH1cblxuXHRmdW5jdGlvbiBlbmNvZGVDb2RlUG9pbnQoY29kZVBvaW50KSB7XG5cdFx0aWYgKChjb2RlUG9pbnQgJiAweEZGRkZGRjgwKSA9PSAwKSB7IC8vIDEtYnl0ZSBzZXF1ZW5jZVxuXHRcdFx0cmV0dXJuIHN0cmluZ0Zyb21DaGFyQ29kZShjb2RlUG9pbnQpO1xuXHRcdH1cblx0XHR2YXIgc3ltYm9sID0gJyc7XG5cdFx0aWYgKChjb2RlUG9pbnQgJiAweEZGRkZGODAwKSA9PSAwKSB7IC8vIDItYnl0ZSBzZXF1ZW5jZVxuXHRcdFx0c3ltYm9sID0gc3RyaW5nRnJvbUNoYXJDb2RlKCgoY29kZVBvaW50ID4+IDYpICYgMHgxRikgfCAweEMwKTtcblx0XHR9XG5cdFx0ZWxzZSBpZiAoKGNvZGVQb2ludCAmIDB4RkZGRjAwMDApID09IDApIHsgLy8gMy1ieXRlIHNlcXVlbmNlXG5cdFx0XHRjaGVja1NjYWxhclZhbHVlKGNvZGVQb2ludCk7XG5cdFx0XHRzeW1ib2wgPSBzdHJpbmdGcm9tQ2hhckNvZGUoKChjb2RlUG9pbnQgPj4gMTIpICYgMHgwRikgfCAweEUwKTtcblx0XHRcdHN5bWJvbCArPSBjcmVhdGVCeXRlKGNvZGVQb2ludCwgNik7XG5cdFx0fVxuXHRcdGVsc2UgaWYgKChjb2RlUG9pbnQgJiAweEZGRTAwMDAwKSA9PSAwKSB7IC8vIDQtYnl0ZSBzZXF1ZW5jZVxuXHRcdFx0c3ltYm9sID0gc3RyaW5nRnJvbUNoYXJDb2RlKCgoY29kZVBvaW50ID4+IDE4KSAmIDB4MDcpIHwgMHhGMCk7XG5cdFx0XHRzeW1ib2wgKz0gY3JlYXRlQnl0ZShjb2RlUG9pbnQsIDEyKTtcblx0XHRcdHN5bWJvbCArPSBjcmVhdGVCeXRlKGNvZGVQb2ludCwgNik7XG5cdFx0fVxuXHRcdHN5bWJvbCArPSBzdHJpbmdGcm9tQ2hhckNvZGUoKGNvZGVQb2ludCAmIDB4M0YpIHwgMHg4MCk7XG5cdFx0cmV0dXJuIHN5bWJvbDtcblx0fVxuXG5cdGZ1bmN0aW9uIHV0ZjhlbmNvZGUoc3RyaW5nKSB7XG5cdFx0dmFyIGNvZGVQb2ludHMgPSB1Y3MyZGVjb2RlKHN0cmluZyk7XG5cdFx0dmFyIGxlbmd0aCA9IGNvZGVQb2ludHMubGVuZ3RoO1xuXHRcdHZhciBpbmRleCA9IC0xO1xuXHRcdHZhciBjb2RlUG9pbnQ7XG5cdFx0dmFyIGJ5dGVTdHJpbmcgPSAnJztcblx0XHR3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuXHRcdFx0Y29kZVBvaW50ID0gY29kZVBvaW50c1tpbmRleF07XG5cdFx0XHRieXRlU3RyaW5nICs9IGVuY29kZUNvZGVQb2ludChjb2RlUG9pbnQpO1xuXHRcdH1cblx0XHRyZXR1cm4gYnl0ZVN0cmluZztcblx0fVxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdGZ1bmN0aW9uIHJlYWRDb250aW51YXRpb25CeXRlKCkge1xuXHRcdGlmIChieXRlSW5kZXggPj0gYnl0ZUNvdW50KSB7XG5cdFx0XHR0aHJvdyBFcnJvcignSW52YWxpZCBieXRlIGluZGV4Jyk7XG5cdFx0fVxuXG5cdFx0dmFyIGNvbnRpbnVhdGlvbkJ5dGUgPSBieXRlQXJyYXlbYnl0ZUluZGV4XSAmIDB4RkY7XG5cdFx0Ynl0ZUluZGV4Kys7XG5cblx0XHRpZiAoKGNvbnRpbnVhdGlvbkJ5dGUgJiAweEMwKSA9PSAweDgwKSB7XG5cdFx0XHRyZXR1cm4gY29udGludWF0aW9uQnl0ZSAmIDB4M0Y7XG5cdFx0fVxuXG5cdFx0Ly8gSWYgd2UgZW5kIHVwIGhlcmUsIGl04oCZcyBub3QgYSBjb250aW51YXRpb24gYnl0ZVxuXHRcdHRocm93IEVycm9yKCdJbnZhbGlkIGNvbnRpbnVhdGlvbiBieXRlJyk7XG5cdH1cblxuXHRmdW5jdGlvbiBkZWNvZGVTeW1ib2woKSB7XG5cdFx0dmFyIGJ5dGUxO1xuXHRcdHZhciBieXRlMjtcblx0XHR2YXIgYnl0ZTM7XG5cdFx0dmFyIGJ5dGU0O1xuXHRcdHZhciBjb2RlUG9pbnQ7XG5cblx0XHRpZiAoYnl0ZUluZGV4ID4gYnl0ZUNvdW50KSB7XG5cdFx0XHR0aHJvdyBFcnJvcignSW52YWxpZCBieXRlIGluZGV4Jyk7XG5cdFx0fVxuXG5cdFx0aWYgKGJ5dGVJbmRleCA9PSBieXRlQ291bnQpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBSZWFkIGZpcnN0IGJ5dGVcblx0XHRieXRlMSA9IGJ5dGVBcnJheVtieXRlSW5kZXhdICYgMHhGRjtcblx0XHRieXRlSW5kZXgrKztcblxuXHRcdC8vIDEtYnl0ZSBzZXF1ZW5jZSAobm8gY29udGludWF0aW9uIGJ5dGVzKVxuXHRcdGlmICgoYnl0ZTEgJiAweDgwKSA9PSAwKSB7XG5cdFx0XHRyZXR1cm4gYnl0ZTE7XG5cdFx0fVxuXG5cdFx0Ly8gMi1ieXRlIHNlcXVlbmNlXG5cdFx0aWYgKChieXRlMSAmIDB4RTApID09IDB4QzApIHtcblx0XHRcdGJ5dGUyID0gcmVhZENvbnRpbnVhdGlvbkJ5dGUoKTtcblx0XHRcdGNvZGVQb2ludCA9ICgoYnl0ZTEgJiAweDFGKSA8PCA2KSB8IGJ5dGUyO1xuXHRcdFx0aWYgKGNvZGVQb2ludCA+PSAweDgwKSB7XG5cdFx0XHRcdHJldHVybiBjb2RlUG9pbnQ7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aHJvdyBFcnJvcignSW52YWxpZCBjb250aW51YXRpb24gYnl0ZScpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIDMtYnl0ZSBzZXF1ZW5jZSAobWF5IGluY2x1ZGUgdW5wYWlyZWQgc3Vycm9nYXRlcylcblx0XHRpZiAoKGJ5dGUxICYgMHhGMCkgPT0gMHhFMCkge1xuXHRcdFx0Ynl0ZTIgPSByZWFkQ29udGludWF0aW9uQnl0ZSgpO1xuXHRcdFx0Ynl0ZTMgPSByZWFkQ29udGludWF0aW9uQnl0ZSgpO1xuXHRcdFx0Y29kZVBvaW50ID0gKChieXRlMSAmIDB4MEYpIDw8IDEyKSB8IChieXRlMiA8PCA2KSB8IGJ5dGUzO1xuXHRcdFx0aWYgKGNvZGVQb2ludCA+PSAweDA4MDApIHtcblx0XHRcdFx0Y2hlY2tTY2FsYXJWYWx1ZShjb2RlUG9pbnQpO1xuXHRcdFx0XHRyZXR1cm4gY29kZVBvaW50O1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ0ludmFsaWQgY29udGludWF0aW9uIGJ5dGUnKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyA0LWJ5dGUgc2VxdWVuY2Vcblx0XHRpZiAoKGJ5dGUxICYgMHhGOCkgPT0gMHhGMCkge1xuXHRcdFx0Ynl0ZTIgPSByZWFkQ29udGludWF0aW9uQnl0ZSgpO1xuXHRcdFx0Ynl0ZTMgPSByZWFkQ29udGludWF0aW9uQnl0ZSgpO1xuXHRcdFx0Ynl0ZTQgPSByZWFkQ29udGludWF0aW9uQnl0ZSgpO1xuXHRcdFx0Y29kZVBvaW50ID0gKChieXRlMSAmIDB4MDcpIDw8IDB4MTIpIHwgKGJ5dGUyIDw8IDB4MEMpIHxcblx0XHRcdFx0KGJ5dGUzIDw8IDB4MDYpIHwgYnl0ZTQ7XG5cdFx0XHRpZiAoY29kZVBvaW50ID49IDB4MDEwMDAwICYmIGNvZGVQb2ludCA8PSAweDEwRkZGRikge1xuXHRcdFx0XHRyZXR1cm4gY29kZVBvaW50O1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHRocm93IEVycm9yKCdJbnZhbGlkIFVURi04IGRldGVjdGVkJyk7XG5cdH1cblxuXHR2YXIgYnl0ZUFycmF5O1xuXHR2YXIgYnl0ZUNvdW50O1xuXHR2YXIgYnl0ZUluZGV4O1xuXHRmdW5jdGlvbiB1dGY4ZGVjb2RlKGJ5dGVTdHJpbmcpIHtcblx0XHRieXRlQXJyYXkgPSB1Y3MyZGVjb2RlKGJ5dGVTdHJpbmcpO1xuXHRcdGJ5dGVDb3VudCA9IGJ5dGVBcnJheS5sZW5ndGg7XG5cdFx0Ynl0ZUluZGV4ID0gMDtcblx0XHR2YXIgY29kZVBvaW50cyA9IFtdO1xuXHRcdHZhciB0bXA7XG5cdFx0d2hpbGUgKCh0bXAgPSBkZWNvZGVTeW1ib2woKSkgIT09IGZhbHNlKSB7XG5cdFx0XHRjb2RlUG9pbnRzLnB1c2godG1wKTtcblx0XHR9XG5cdFx0cmV0dXJuIHVjczJlbmNvZGUoY29kZVBvaW50cyk7XG5cdH1cblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHR2YXIgdXRmOCA9IHtcblx0XHQndmVyc2lvbic6ICcyLjEuMicsXG5cdFx0J2VuY29kZSc6IHV0ZjhlbmNvZGUsXG5cdFx0J2RlY29kZSc6IHV0ZjhkZWNvZGVcblx0fTtcblxuXHQvLyBTb21lIEFNRCBidWlsZCBvcHRpbWl6ZXJzLCBsaWtlIHIuanMsIGNoZWNrIGZvciBzcGVjaWZpYyBjb25kaXRpb24gcGF0dGVybnNcblx0Ly8gbGlrZSB0aGUgZm9sbG93aW5nOlxuXHRpZiAoXG5cdFx0dHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmXG5cdFx0dHlwZW9mIGRlZmluZS5hbWQgPT0gJ29iamVjdCcgJiZcblx0XHRkZWZpbmUuYW1kXG5cdCkge1xuXHRcdGRlZmluZShmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiB1dGY4O1xuXHRcdH0pO1xuXHR9XHRlbHNlIGlmIChmcmVlRXhwb3J0cyAmJiAhZnJlZUV4cG9ydHMubm9kZVR5cGUpIHtcblx0XHRpZiAoZnJlZU1vZHVsZSkgeyAvLyBpbiBOb2RlLmpzIG9yIFJpbmdvSlMgdjAuOC4wK1xuXHRcdFx0ZnJlZU1vZHVsZS5leHBvcnRzID0gdXRmODtcblx0XHR9IGVsc2UgeyAvLyBpbiBOYXJ3aGFsIG9yIFJpbmdvSlMgdjAuNy4wLVxuXHRcdFx0dmFyIG9iamVjdCA9IHt9O1xuXHRcdFx0dmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0Lmhhc093blByb3BlcnR5O1xuXHRcdFx0Zm9yICh2YXIga2V5IGluIHV0ZjgpIHtcblx0XHRcdFx0aGFzT3duUHJvcGVydHkuY2FsbCh1dGY4LCBrZXkpICYmIChmcmVlRXhwb3J0c1trZXldID0gdXRmOFtrZXldKTtcblx0XHRcdH1cblx0XHR9XG5cdH0gZWxzZSB7IC8vIGluIFJoaW5vIG9yIGEgd2ViIGJyb3dzZXJcblx0XHRyb290LnV0ZjggPSB1dGY4O1xuXHR9XG5cbn0odGhpcykpO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi91dGY4L3V0ZjguanMiLCJ2YXIgV2ViMyA9IHJlcXVpcmUoJy4vbGliL3dlYjMnKTtcblxuLy8gZG9udCBvdmVycmlkZSBnbG9iYWwgdmFyaWFibGVcbmlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygd2luZG93LldlYjMgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgd2luZG93LldlYjMgPSBXZWIzO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFdlYjM7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3dlYjMvaW5kZXguanMiLCJ2YXIgZiA9IHJlcXVpcmUoJy4vZm9ybWF0dGVycycpO1xudmFyIFNvbGlkaXR5VHlwZSA9IHJlcXVpcmUoJy4vdHlwZScpO1xuXG4vKipcbiAqIFNvbGlkaXR5VHlwZUFkZHJlc3MgaXMgYSBwcm9vdHlwZSB0aGF0IHJlcHJlc2VudHMgYWRkcmVzcyB0eXBlXG4gKiBJdCBtYXRjaGVzOlxuICogYWRkcmVzc1xuICogYWRkcmVzc1tdXG4gKiBhZGRyZXNzWzRdXG4gKiBhZGRyZXNzW11bXVxuICogYWRkcmVzc1szXVtdXG4gKiBhZGRyZXNzW11bNl1bXSwgLi4uXG4gKi9cbnZhciBTb2xpZGl0eVR5cGVBZGRyZXNzID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuX2lucHV0Rm9ybWF0dGVyID0gZi5mb3JtYXRJbnB1dEludDtcbiAgICB0aGlzLl9vdXRwdXRGb3JtYXR0ZXIgPSBmLmZvcm1hdE91dHB1dEFkZHJlc3M7XG59O1xuXG5Tb2xpZGl0eVR5cGVBZGRyZXNzLnByb3RvdHlwZSA9IG5ldyBTb2xpZGl0eVR5cGUoe30pO1xuU29saWRpdHlUeXBlQWRkcmVzcy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBTb2xpZGl0eVR5cGVBZGRyZXNzO1xuXG5Tb2xpZGl0eVR5cGVBZGRyZXNzLnByb3RvdHlwZS5pc1R5cGUgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHJldHVybiAhIW5hbWUubWF0Y2goL2FkZHJlc3MoXFxbKFswLTldKilcXF0pPy8pO1xufTtcblxuU29saWRpdHlUeXBlQWRkcmVzcy5wcm90b3R5cGUuc3RhdGljUGFydExlbmd0aCA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgcmV0dXJuIDMyICogdGhpcy5zdGF0aWNBcnJheUxlbmd0aChuYW1lKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gU29saWRpdHlUeXBlQWRkcmVzcztcblxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi93ZWIzL2xpYi9zb2xpZGl0eS9hZGRyZXNzLmpzIiwidmFyIGYgPSByZXF1aXJlKCcuL2Zvcm1hdHRlcnMnKTtcbnZhciBTb2xpZGl0eVR5cGUgPSByZXF1aXJlKCcuL3R5cGUnKTtcblxuLyoqXG4gKiBTb2xpZGl0eVR5cGVCb29sIGlzIGEgcHJvb3R5cGUgdGhhdCByZXByZXNlbnRzIGJvb2wgdHlwZVxuICogSXQgbWF0Y2hlczpcbiAqIGJvb2xcbiAqIGJvb2xbXVxuICogYm9vbFs0XVxuICogYm9vbFtdW11cbiAqIGJvb2xbM11bXVxuICogYm9vbFtdWzZdW10sIC4uLlxuICovXG52YXIgU29saWRpdHlUeXBlQm9vbCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLl9pbnB1dEZvcm1hdHRlciA9IGYuZm9ybWF0SW5wdXRCb29sO1xuICAgIHRoaXMuX291dHB1dEZvcm1hdHRlciA9IGYuZm9ybWF0T3V0cHV0Qm9vbDtcbn07XG5cblNvbGlkaXR5VHlwZUJvb2wucHJvdG90eXBlID0gbmV3IFNvbGlkaXR5VHlwZSh7fSk7XG5Tb2xpZGl0eVR5cGVCb29sLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFNvbGlkaXR5VHlwZUJvb2w7XG5cblNvbGlkaXR5VHlwZUJvb2wucHJvdG90eXBlLmlzVHlwZSA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgcmV0dXJuICEhbmFtZS5tYXRjaCgvXmJvb2woXFxbKFswLTldKilcXF0pKiQvKTtcbn07XG5cblNvbGlkaXR5VHlwZUJvb2wucHJvdG90eXBlLnN0YXRpY1BhcnRMZW5ndGggPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHJldHVybiAzMiAqIHRoaXMuc3RhdGljQXJyYXlMZW5ndGgobmFtZSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFNvbGlkaXR5VHlwZUJvb2w7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3dlYjMvbGliL3NvbGlkaXR5L2Jvb2wuanMiLCJ2YXIgZiA9IHJlcXVpcmUoJy4vZm9ybWF0dGVycycpO1xudmFyIFNvbGlkaXR5VHlwZSA9IHJlcXVpcmUoJy4vdHlwZScpO1xuXG4vKipcbiAqIFNvbGlkaXR5VHlwZUJ5dGVzIGlzIGEgcHJvb3R5cGUgdGhhdCByZXByZXNlbnRzIGJ5dGVzIHR5cGVcbiAqIEl0IG1hdGNoZXM6XG4gKiBieXRlc1xuICogYnl0ZXNbXVxuICogYnl0ZXNbNF1cbiAqIGJ5dGVzW11bXVxuICogYnl0ZXNbM11bXVxuICogYnl0ZXNbXVs2XVtdLCAuLi5cbiAqIGJ5dGVzMzJcbiAqIGJ5dGVzNjRbXVxuICogYnl0ZXM4WzRdXG4gKiBieXRlczI1NltdW11cbiAqIGJ5dGVzWzNdW11cbiAqIGJ5dGVzNjRbXVs2XVtdLCAuLi5cbiAqL1xudmFyIFNvbGlkaXR5VHlwZUJ5dGVzID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuX2lucHV0Rm9ybWF0dGVyID0gZi5mb3JtYXRJbnB1dEJ5dGVzO1xuICAgIHRoaXMuX291dHB1dEZvcm1hdHRlciA9IGYuZm9ybWF0T3V0cHV0Qnl0ZXM7XG59O1xuXG5Tb2xpZGl0eVR5cGVCeXRlcy5wcm90b3R5cGUgPSBuZXcgU29saWRpdHlUeXBlKHt9KTtcblNvbGlkaXR5VHlwZUJ5dGVzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFNvbGlkaXR5VHlwZUJ5dGVzO1xuXG5Tb2xpZGl0eVR5cGVCeXRlcy5wcm90b3R5cGUuaXNUeXBlID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICByZXR1cm4gISFuYW1lLm1hdGNoKC9eYnl0ZXMoWzAtOV17MSx9KShcXFsoWzAtOV0qKVxcXSkqJC8pO1xufTtcblxuU29saWRpdHlUeXBlQnl0ZXMucHJvdG90eXBlLnN0YXRpY1BhcnRMZW5ndGggPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHZhciBtYXRjaGVzID0gbmFtZS5tYXRjaCgvXmJ5dGVzKFswLTldKikvKTtcbiAgICB2YXIgc2l6ZSA9IHBhcnNlSW50KG1hdGNoZXNbMV0pO1xuICAgIHJldHVybiBzaXplICogdGhpcy5zdGF0aWNBcnJheUxlbmd0aChuYW1lKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gU29saWRpdHlUeXBlQnl0ZXM7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3dlYjMvbGliL3NvbGlkaXR5L2J5dGVzLmpzIiwidmFyIGYgPSByZXF1aXJlKCcuL2Zvcm1hdHRlcnMnKTtcbnZhciBTb2xpZGl0eVR5cGUgPSByZXF1aXJlKCcuL3R5cGUnKTtcblxudmFyIFNvbGlkaXR5VHlwZUR5bmFtaWNCeXRlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLl9pbnB1dEZvcm1hdHRlciA9IGYuZm9ybWF0SW5wdXREeW5hbWljQnl0ZXM7XG4gICAgdGhpcy5fb3V0cHV0Rm9ybWF0dGVyID0gZi5mb3JtYXRPdXRwdXREeW5hbWljQnl0ZXM7XG59O1xuXG5Tb2xpZGl0eVR5cGVEeW5hbWljQnl0ZXMucHJvdG90eXBlID0gbmV3IFNvbGlkaXR5VHlwZSh7fSk7XG5Tb2xpZGl0eVR5cGVEeW5hbWljQnl0ZXMucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gU29saWRpdHlUeXBlRHluYW1pY0J5dGVzO1xuXG5Tb2xpZGl0eVR5cGVEeW5hbWljQnl0ZXMucHJvdG90eXBlLmlzVHlwZSA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgcmV0dXJuICEhbmFtZS5tYXRjaCgvXmJ5dGVzKFxcWyhbMC05XSopXFxdKSokLyk7XG59O1xuXG5Tb2xpZGl0eVR5cGVEeW5hbWljQnl0ZXMucHJvdG90eXBlLnN0YXRpY1BhcnRMZW5ndGggPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHJldHVybiAzMiAqIHRoaXMuc3RhdGljQXJyYXlMZW5ndGgobmFtZSk7XG59O1xuXG5Tb2xpZGl0eVR5cGVEeW5hbWljQnl0ZXMucHJvdG90eXBlLmlzRHluYW1pY1R5cGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRydWU7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFNvbGlkaXR5VHlwZUR5bmFtaWNCeXRlcztcblxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi93ZWIzL2xpYi9zb2xpZGl0eS9keW5hbWljYnl0ZXMuanMiLCJ2YXIgZiA9IHJlcXVpcmUoJy4vZm9ybWF0dGVycycpO1xudmFyIFNvbGlkaXR5VHlwZSA9IHJlcXVpcmUoJy4vdHlwZScpO1xuXG4vKipcbiAqIFNvbGlkaXR5VHlwZUludCBpcyBhIHByb290eXBlIHRoYXQgcmVwcmVzZW50cyBpbnQgdHlwZVxuICogSXQgbWF0Y2hlczpcbiAqIGludFxuICogaW50W11cbiAqIGludFs0XVxuICogaW50W11bXVxuICogaW50WzNdW11cbiAqIGludFtdWzZdW10sIC4uLlxuICogaW50MzJcbiAqIGludDY0W11cbiAqIGludDhbNF1cbiAqIGludDI1NltdW11cbiAqIGludFszXVtdXG4gKiBpbnQ2NFtdWzZdW10sIC4uLlxuICovXG52YXIgU29saWRpdHlUeXBlSW50ID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuX2lucHV0Rm9ybWF0dGVyID0gZi5mb3JtYXRJbnB1dEludDtcbiAgICB0aGlzLl9vdXRwdXRGb3JtYXR0ZXIgPSBmLmZvcm1hdE91dHB1dEludDtcbn07XG5cblNvbGlkaXR5VHlwZUludC5wcm90b3R5cGUgPSBuZXcgU29saWRpdHlUeXBlKHt9KTtcblNvbGlkaXR5VHlwZUludC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBTb2xpZGl0eVR5cGVJbnQ7XG5cblNvbGlkaXR5VHlwZUludC5wcm90b3R5cGUuaXNUeXBlID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICByZXR1cm4gISFuYW1lLm1hdGNoKC9eaW50KFswLTldKik/KFxcWyhbMC05XSopXFxdKSokLyk7XG59O1xuXG5Tb2xpZGl0eVR5cGVJbnQucHJvdG90eXBlLnN0YXRpY1BhcnRMZW5ndGggPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHJldHVybiAzMiAqIHRoaXMuc3RhdGljQXJyYXlMZW5ndGgobmFtZSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFNvbGlkaXR5VHlwZUludDtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vd2ViMy9saWIvc29saWRpdHkvaW50LmpzIiwidmFyIGYgPSByZXF1aXJlKCcuL2Zvcm1hdHRlcnMnKTtcbnZhciBTb2xpZGl0eVR5cGUgPSByZXF1aXJlKCcuL3R5cGUnKTtcblxuLyoqXG4gKiBTb2xpZGl0eVR5cGVSZWFsIGlzIGEgcHJvb3R5cGUgdGhhdCByZXByZXNlbnRzIHJlYWwgdHlwZVxuICogSXQgbWF0Y2hlczpcbiAqIHJlYWxcbiAqIHJlYWxbXVxuICogcmVhbFs0XVxuICogcmVhbFtdW11cbiAqIHJlYWxbM11bXVxuICogcmVhbFtdWzZdW10sIC4uLlxuICogcmVhbDMyXG4gKiByZWFsNjRbXVxuICogcmVhbDhbNF1cbiAqIHJlYWwyNTZbXVtdXG4gKiByZWFsWzNdW11cbiAqIHJlYWw2NFtdWzZdW10sIC4uLlxuICovXG52YXIgU29saWRpdHlUeXBlUmVhbCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLl9pbnB1dEZvcm1hdHRlciA9IGYuZm9ybWF0SW5wdXRSZWFsO1xuICAgIHRoaXMuX291dHB1dEZvcm1hdHRlciA9IGYuZm9ybWF0T3V0cHV0UmVhbDtcbn07XG5cblNvbGlkaXR5VHlwZVJlYWwucHJvdG90eXBlID0gbmV3IFNvbGlkaXR5VHlwZSh7fSk7XG5Tb2xpZGl0eVR5cGVSZWFsLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFNvbGlkaXR5VHlwZVJlYWw7XG5cblNvbGlkaXR5VHlwZVJlYWwucHJvdG90eXBlLmlzVHlwZSA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgcmV0dXJuICEhbmFtZS5tYXRjaCgvcmVhbChbMC05XSopPyhcXFsoWzAtOV0qKVxcXSk/Lyk7XG59O1xuXG5Tb2xpZGl0eVR5cGVSZWFsLnByb3RvdHlwZS5zdGF0aWNQYXJ0TGVuZ3RoID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICByZXR1cm4gMzIgKiB0aGlzLnN0YXRpY0FycmF5TGVuZ3RoKG5hbWUpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBTb2xpZGl0eVR5cGVSZWFsO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi93ZWIzL2xpYi9zb2xpZGl0eS9yZWFsLmpzIiwidmFyIGYgPSByZXF1aXJlKCcuL2Zvcm1hdHRlcnMnKTtcbnZhciBTb2xpZGl0eVR5cGUgPSByZXF1aXJlKCcuL3R5cGUnKTtcblxudmFyIFNvbGlkaXR5VHlwZVN0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLl9pbnB1dEZvcm1hdHRlciA9IGYuZm9ybWF0SW5wdXRTdHJpbmc7XG4gICAgdGhpcy5fb3V0cHV0Rm9ybWF0dGVyID0gZi5mb3JtYXRPdXRwdXRTdHJpbmc7XG59O1xuXG5Tb2xpZGl0eVR5cGVTdHJpbmcucHJvdG90eXBlID0gbmV3IFNvbGlkaXR5VHlwZSh7fSk7XG5Tb2xpZGl0eVR5cGVTdHJpbmcucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gU29saWRpdHlUeXBlU3RyaW5nO1xuXG5Tb2xpZGl0eVR5cGVTdHJpbmcucHJvdG90eXBlLmlzVHlwZSA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgcmV0dXJuICEhbmFtZS5tYXRjaCgvXnN0cmluZyhcXFsoWzAtOV0qKVxcXSkqJC8pO1xufTtcblxuU29saWRpdHlUeXBlU3RyaW5nLnByb3RvdHlwZS5zdGF0aWNQYXJ0TGVuZ3RoID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICByZXR1cm4gMzIgKiB0aGlzLnN0YXRpY0FycmF5TGVuZ3RoKG5hbWUpO1xufTtcblxuU29saWRpdHlUeXBlU3RyaW5nLnByb3RvdHlwZS5pc0R5bmFtaWNUeXBlID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0cnVlO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBTb2xpZGl0eVR5cGVTdHJpbmc7XG5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vd2ViMy9saWIvc29saWRpdHkvc3RyaW5nLmpzIiwidmFyIGYgPSByZXF1aXJlKCcuL2Zvcm1hdHRlcnMnKTtcbnZhciBTb2xpZGl0eVR5cGUgPSByZXF1aXJlKCcuL3R5cGUnKTtcblxuLyoqXG4gKiBTb2xpZGl0eVR5cGVVSW50IGlzIGEgcHJvb3R5cGUgdGhhdCByZXByZXNlbnRzIHVpbnQgdHlwZVxuICogSXQgbWF0Y2hlczpcbiAqIHVpbnRcbiAqIHVpbnRbXVxuICogdWludFs0XVxuICogdWludFtdW11cbiAqIHVpbnRbM11bXVxuICogdWludFtdWzZdW10sIC4uLlxuICogdWludDMyXG4gKiB1aW50NjRbXVxuICogdWludDhbNF1cbiAqIHVpbnQyNTZbXVtdXG4gKiB1aW50WzNdW11cbiAqIHVpbnQ2NFtdWzZdW10sIC4uLlxuICovXG52YXIgU29saWRpdHlUeXBlVUludCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLl9pbnB1dEZvcm1hdHRlciA9IGYuZm9ybWF0SW5wdXRJbnQ7XG4gICAgdGhpcy5fb3V0cHV0Rm9ybWF0dGVyID0gZi5mb3JtYXRPdXRwdXRVSW50O1xufTtcblxuU29saWRpdHlUeXBlVUludC5wcm90b3R5cGUgPSBuZXcgU29saWRpdHlUeXBlKHt9KTtcblNvbGlkaXR5VHlwZVVJbnQucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gU29saWRpdHlUeXBlVUludDtcblxuU29saWRpdHlUeXBlVUludC5wcm90b3R5cGUuaXNUeXBlID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICByZXR1cm4gISFuYW1lLm1hdGNoKC9edWludChbMC05XSopPyhcXFsoWzAtOV0qKVxcXSkqJC8pO1xufTtcblxuU29saWRpdHlUeXBlVUludC5wcm90b3R5cGUuc3RhdGljUGFydExlbmd0aCA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgcmV0dXJuIDMyICogdGhpcy5zdGF0aWNBcnJheUxlbmd0aChuYW1lKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gU29saWRpdHlUeXBlVUludDtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vd2ViMy9saWIvc29saWRpdHkvdWludC5qcyIsInZhciBmID0gcmVxdWlyZSgnLi9mb3JtYXR0ZXJzJyk7XG52YXIgU29saWRpdHlUeXBlID0gcmVxdWlyZSgnLi90eXBlJyk7XG5cbi8qKlxuICogU29saWRpdHlUeXBlVVJlYWwgaXMgYSBwcm9vdHlwZSB0aGF0IHJlcHJlc2VudHMgdXJlYWwgdHlwZVxuICogSXQgbWF0Y2hlczpcbiAqIHVyZWFsXG4gKiB1cmVhbFtdXG4gKiB1cmVhbFs0XVxuICogdXJlYWxbXVtdXG4gKiB1cmVhbFszXVtdXG4gKiB1cmVhbFtdWzZdW10sIC4uLlxuICogdXJlYWwzMlxuICogdXJlYWw2NFtdXG4gKiB1cmVhbDhbNF1cbiAqIHVyZWFsMjU2W11bXVxuICogdXJlYWxbM11bXVxuICogdXJlYWw2NFtdWzZdW10sIC4uLlxuICovXG52YXIgU29saWRpdHlUeXBlVVJlYWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5faW5wdXRGb3JtYXR0ZXIgPSBmLmZvcm1hdElucHV0UmVhbDtcbiAgICB0aGlzLl9vdXRwdXRGb3JtYXR0ZXIgPSBmLmZvcm1hdE91dHB1dFVSZWFsO1xufTtcblxuU29saWRpdHlUeXBlVVJlYWwucHJvdG90eXBlID0gbmV3IFNvbGlkaXR5VHlwZSh7fSk7XG5Tb2xpZGl0eVR5cGVVUmVhbC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBTb2xpZGl0eVR5cGVVUmVhbDtcblxuU29saWRpdHlUeXBlVVJlYWwucHJvdG90eXBlLmlzVHlwZSA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgcmV0dXJuICEhbmFtZS5tYXRjaCgvXnVyZWFsKFswLTldKik/KFxcWyhbMC05XSopXFxdKSokLyk7XG59O1xuXG5Tb2xpZGl0eVR5cGVVUmVhbC5wcm90b3R5cGUuc3RhdGljUGFydExlbmd0aCA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgcmV0dXJuIDMyICogdGhpcy5zdGF0aWNBcnJheUxlbmd0aChuYW1lKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gU29saWRpdHlUeXBlVVJlYWw7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3dlYjMvbGliL3NvbGlkaXR5L3VyZWFsLmpzIiwiJ3VzZSBzdHJpY3QnO1xuXG4vLyBnbyBlbnYgZG9lc24ndCBoYXZlIGFuZCBuZWVkIFhNTEh0dHBSZXF1ZXN0XG5pZiAodHlwZW9mIFhNTEh0dHBSZXF1ZXN0ID09PSAndW5kZWZpbmVkJykge1xuICAgIGV4cG9ydHMuWE1MSHR0cFJlcXVlc3QgPSB7fTtcbn0gZWxzZSB7XG4gICAgZXhwb3J0cy5YTUxIdHRwUmVxdWVzdCA9IFhNTEh0dHBSZXF1ZXN0OyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbn1cblxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi93ZWIzL2xpYi91dGlscy9icm93c2VyLXhoci5qcyIsIi8qXG4gICAgVGhpcyBmaWxlIGlzIHBhcnQgb2Ygd2ViMy5qcy5cblxuICAgIHdlYjMuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICAgIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICAgIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gICAgKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cblxuICAgIHdlYjMuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICAgIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAgICBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cblxuICAgIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICAgIGFsb25nIHdpdGggd2ViMy5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiovXG4vKipcbiAqIEBmaWxlIHdlYjMuanNcbiAqIEBhdXRob3JzOlxuICogICBKZWZmcmV5IFdpbGNrZSA8amVmZkBldGhkZXYuY29tPlxuICogICBNYXJlayBLb3Rld2ljeiA8bWFyZWtAZXRoZGV2LmNvbT5cbiAqICAgTWFyaWFuIE9hbmNlYSA8bWFyaWFuQGV0aGRldi5jb20+XG4gKiAgIEZhYmlhbiBWb2dlbHN0ZWxsZXIgPGZhYmlhbkBldGhkZXYuY29tPlxuICogICBHYXYgV29vZCA8Z0BldGhkZXYuY29tPlxuICogQGRhdGUgMjAxNFxuICovXG5cbnZhciBSZXF1ZXN0TWFuYWdlciA9IHJlcXVpcmUoJy4vd2ViMy9yZXF1ZXN0bWFuYWdlcicpO1xudmFyIEliYW4gPSByZXF1aXJlKCcuL3dlYjMvaWJhbicpO1xudmFyIEV0aCA9IHJlcXVpcmUoJy4vd2ViMy9tZXRob2RzL2V0aCcpO1xudmFyIERCID0gcmVxdWlyZSgnLi93ZWIzL21ldGhvZHMvZGInKTtcbnZhciBTaGggPSByZXF1aXJlKCcuL3dlYjMvbWV0aG9kcy9zaGgnKTtcbnZhciBOZXQgPSByZXF1aXJlKCcuL3dlYjMvbWV0aG9kcy9uZXQnKTtcbnZhciBQZXJzb25hbCA9IHJlcXVpcmUoJy4vd2ViMy9tZXRob2RzL3BlcnNvbmFsJyk7XG52YXIgU2V0dGluZ3MgPSByZXF1aXJlKCcuL3dlYjMvc2V0dGluZ3MnKTtcbnZhciB2ZXJzaW9uID0gcmVxdWlyZSgnLi92ZXJzaW9uLmpzb24nKTtcbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vdXRpbHMvdXRpbHMnKTtcbnZhciBzaGEzID0gcmVxdWlyZSgnLi91dGlscy9zaGEzJyk7XG52YXIgZXh0ZW5kID0gcmVxdWlyZSgnLi93ZWIzL2V4dGVuZCcpO1xudmFyIEJhdGNoID0gcmVxdWlyZSgnLi93ZWIzL2JhdGNoJyk7XG52YXIgUHJvcGVydHkgPSByZXF1aXJlKCcuL3dlYjMvcHJvcGVydHknKTtcbnZhciBIdHRwUHJvdmlkZXIgPSByZXF1aXJlKCcuL3dlYjMvaHR0cHByb3ZpZGVyJyk7XG52YXIgSXBjUHJvdmlkZXIgPSByZXF1aXJlKCcuL3dlYjMvaXBjcHJvdmlkZXInKTtcbnZhciBCaWdOdW1iZXIgPSByZXF1aXJlKCdiaWdudW1iZXIuanMnKTtcblxuXG5cbmZ1bmN0aW9uIFdlYjMgKHByb3ZpZGVyKSB7XG4gICAgdGhpcy5fcmVxdWVzdE1hbmFnZXIgPSBuZXcgUmVxdWVzdE1hbmFnZXIocHJvdmlkZXIpO1xuICAgIHRoaXMuY3VycmVudFByb3ZpZGVyID0gcHJvdmlkZXI7XG4gICAgdGhpcy5ldGggPSBuZXcgRXRoKHRoaXMpO1xuICAgIHRoaXMuZGIgPSBuZXcgREIodGhpcyk7XG4gICAgdGhpcy5zaGggPSBuZXcgU2hoKHRoaXMpO1xuICAgIHRoaXMubmV0ID0gbmV3IE5ldCh0aGlzKTtcbiAgICB0aGlzLnBlcnNvbmFsID0gbmV3IFBlcnNvbmFsKHRoaXMpO1xuICAgIHRoaXMuc2V0dGluZ3MgPSBuZXcgU2V0dGluZ3MoKTtcbiAgICB0aGlzLnZlcnNpb24gPSB7XG4gICAgICAgIGFwaTogdmVyc2lvbi52ZXJzaW9uXG4gICAgfTtcbiAgICB0aGlzLnByb3ZpZGVycyA9IHtcbiAgICAgICAgSHR0cFByb3ZpZGVyOiBIdHRwUHJvdmlkZXIsXG4gICAgICAgIElwY1Byb3ZpZGVyOiBJcGNQcm92aWRlclxuICAgIH07XG4gICAgdGhpcy5fZXh0ZW5kID0gZXh0ZW5kKHRoaXMpO1xuICAgIHRoaXMuX2V4dGVuZCh7XG4gICAgICAgIHByb3BlcnRpZXM6IHByb3BlcnRpZXMoKVxuICAgIH0pO1xufVxuXG4vLyBleHBvc2UgcHJvdmlkZXJzIG9uIHRoZSBjbGFzc1xuV2ViMy5wcm92aWRlcnMgPSB7XG4gICAgSHR0cFByb3ZpZGVyOiBIdHRwUHJvdmlkZXIsXG4gICAgSXBjUHJvdmlkZXI6IElwY1Byb3ZpZGVyXG59O1xuXG5XZWIzLnByb3RvdHlwZS5zZXRQcm92aWRlciA9IGZ1bmN0aW9uIChwcm92aWRlcikge1xuICAgIHRoaXMuX3JlcXVlc3RNYW5hZ2VyLnNldFByb3ZpZGVyKHByb3ZpZGVyKTtcbiAgICB0aGlzLmN1cnJlbnRQcm92aWRlciA9IHByb3ZpZGVyO1xufTtcblxuV2ViMy5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoa2VlcElzU3luY2luZykge1xuICAgIHRoaXMuX3JlcXVlc3RNYW5hZ2VyLnJlc2V0KGtlZXBJc1N5bmNpbmcpO1xuICAgIHRoaXMuc2V0dGluZ3MgPSBuZXcgU2V0dGluZ3MoKTtcbn07XG5cbldlYjMucHJvdG90eXBlLkJpZ051bWJlciA9IEJpZ051bWJlcjtcbldlYjMucHJvdG90eXBlLnRvSGV4ID0gdXRpbHMudG9IZXg7XG5XZWIzLnByb3RvdHlwZS50b0FzY2lpID0gdXRpbHMudG9Bc2NpaTtcbldlYjMucHJvdG90eXBlLnRvVXRmOCA9IHV0aWxzLnRvVXRmODtcbldlYjMucHJvdG90eXBlLmZyb21Bc2NpaSA9IHV0aWxzLmZyb21Bc2NpaTtcbldlYjMucHJvdG90eXBlLmZyb21VdGY4ID0gdXRpbHMuZnJvbVV0Zjg7XG5XZWIzLnByb3RvdHlwZS50b0RlY2ltYWwgPSB1dGlscy50b0RlY2ltYWw7XG5XZWIzLnByb3RvdHlwZS5mcm9tRGVjaW1hbCA9IHV0aWxzLmZyb21EZWNpbWFsO1xuV2ViMy5wcm90b3R5cGUudG9CaWdOdW1iZXIgPSB1dGlscy50b0JpZ051bWJlcjtcbldlYjMucHJvdG90eXBlLnRvV2VpID0gdXRpbHMudG9XZWk7XG5XZWIzLnByb3RvdHlwZS5mcm9tV2VpID0gdXRpbHMuZnJvbVdlaTtcbldlYjMucHJvdG90eXBlLmlzQWRkcmVzcyA9IHV0aWxzLmlzQWRkcmVzcztcbldlYjMucHJvdG90eXBlLmlzQ2hlY2tzdW1BZGRyZXNzID0gdXRpbHMuaXNDaGVja3N1bUFkZHJlc3M7XG5XZWIzLnByb3RvdHlwZS50b0NoZWNrc3VtQWRkcmVzcyA9IHV0aWxzLnRvQ2hlY2tzdW1BZGRyZXNzO1xuV2ViMy5wcm90b3R5cGUuaXNJQkFOID0gdXRpbHMuaXNJQkFOO1xuXG5cbldlYjMucHJvdG90eXBlLnNoYTMgPSBmdW5jdGlvbihzdHJpbmcsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gJzB4JyArIHNoYTMoc3RyaW5nLCBvcHRpb25zKTtcbn07XG5cbi8qKlxuICogVHJhbnNmb3JtcyBkaXJlY3QgaWNhcCB0byBhZGRyZXNzXG4gKi9cbldlYjMucHJvdG90eXBlLmZyb21JQ0FQID0gZnVuY3Rpb24gKGljYXApIHtcbiAgICB2YXIgaWJhbiA9IG5ldyBJYmFuKGljYXApO1xuICAgIHJldHVybiBpYmFuLmFkZHJlc3MoKTtcbn07XG5cbnZhciBwcm9wZXJ0aWVzID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBbXG4gICAgICAgIG5ldyBQcm9wZXJ0eSh7XG4gICAgICAgICAgICBuYW1lOiAndmVyc2lvbi5ub2RlJyxcbiAgICAgICAgICAgIGdldHRlcjogJ3dlYjNfY2xpZW50VmVyc2lvbidcbiAgICAgICAgfSksXG4gICAgICAgIG5ldyBQcm9wZXJ0eSh7XG4gICAgICAgICAgICBuYW1lOiAndmVyc2lvbi5uZXR3b3JrJyxcbiAgICAgICAgICAgIGdldHRlcjogJ25ldF92ZXJzaW9uJyxcbiAgICAgICAgICAgIGlucHV0Rm9ybWF0dGVyOiB1dGlscy50b0RlY2ltYWxcbiAgICAgICAgfSksXG4gICAgICAgIG5ldyBQcm9wZXJ0eSh7XG4gICAgICAgICAgICBuYW1lOiAndmVyc2lvbi5ldGhlcmV1bScsXG4gICAgICAgICAgICBnZXR0ZXI6ICdldGhfcHJvdG9jb2xWZXJzaW9uJyxcbiAgICAgICAgICAgIGlucHV0Rm9ybWF0dGVyOiB1dGlscy50b0RlY2ltYWxcbiAgICAgICAgfSksXG4gICAgICAgIG5ldyBQcm9wZXJ0eSh7XG4gICAgICAgICAgICBuYW1lOiAndmVyc2lvbi53aGlzcGVyJyxcbiAgICAgICAgICAgIGdldHRlcjogJ3NoaF92ZXJzaW9uJyxcbiAgICAgICAgICAgIGlucHV0Rm9ybWF0dGVyOiB1dGlscy50b0RlY2ltYWxcbiAgICAgICAgfSlcbiAgICBdO1xufTtcblxuV2ViMy5wcm90b3R5cGUuaXNDb25uZWN0ZWQgPSBmdW5jdGlvbigpe1xuICAgIHJldHVybiAodGhpcy5jdXJyZW50UHJvdmlkZXIgJiYgdGhpcy5jdXJyZW50UHJvdmlkZXIuaXNDb25uZWN0ZWQoKSk7XG59O1xuXG5XZWIzLnByb3RvdHlwZS5jcmVhdGVCYXRjaCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gbmV3IEJhdGNoKHRoaXMpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBXZWIzO1xuXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3dlYjMvbGliL3dlYjMuanMiLCIvKlxuICAgIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIHdlYjMuanMuXG5cbiAgICB3ZWIzLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAgICBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAgICB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICAgIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG5cbiAgICB3ZWIzLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gICAgYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAgICBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gICAgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG5cbiAgICBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAgICBhbG9uZyB3aXRoIHdlYjMuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4qL1xuLyoqIFxuICogQGZpbGUgYWxsZXZlbnRzLmpzXG4gKiBAYXV0aG9yIE1hcmVrIEtvdGV3aWN6IDxtYXJla0BldGhkZXYuY29tPlxuICogQGRhdGUgMjAxNFxuICovXG5cbnZhciBzaGEzID0gcmVxdWlyZSgnLi4vdXRpbHMvc2hhMycpO1xudmFyIFNvbGlkaXR5RXZlbnQgPSByZXF1aXJlKCcuL2V2ZW50Jyk7XG52YXIgZm9ybWF0dGVycyA9IHJlcXVpcmUoJy4vZm9ybWF0dGVycycpO1xudmFyIHV0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMvdXRpbHMnKTtcbnZhciBGaWx0ZXIgPSByZXF1aXJlKCcuL2ZpbHRlcicpO1xudmFyIHdhdGNoZXMgPSByZXF1aXJlKCcuL21ldGhvZHMvd2F0Y2hlcycpO1xuXG52YXIgQWxsU29saWRpdHlFdmVudHMgPSBmdW5jdGlvbiAocmVxdWVzdE1hbmFnZXIsIGpzb24sIGFkZHJlc3MpIHtcbiAgICB0aGlzLl9yZXF1ZXN0TWFuYWdlciA9IHJlcXVlc3RNYW5hZ2VyO1xuICAgIHRoaXMuX2pzb24gPSBqc29uO1xuICAgIHRoaXMuX2FkZHJlc3MgPSBhZGRyZXNzO1xufTtcblxuQWxsU29saWRpdHlFdmVudHMucHJvdG90eXBlLmVuY29kZSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgdmFyIHJlc3VsdCA9IHt9O1xuXG4gICAgWydmcm9tQmxvY2snLCAndG9CbG9jayddLmZpbHRlcihmdW5jdGlvbiAoZikge1xuICAgICAgICByZXR1cm4gb3B0aW9uc1tmXSAhPT0gdW5kZWZpbmVkO1xuICAgIH0pLmZvckVhY2goZnVuY3Rpb24gKGYpIHtcbiAgICAgICAgcmVzdWx0W2ZdID0gZm9ybWF0dGVycy5pbnB1dEJsb2NrTnVtYmVyRm9ybWF0dGVyKG9wdGlvbnNbZl0pO1xuICAgIH0pO1xuXG4gICAgcmVzdWx0LmFkZHJlc3MgPSB0aGlzLl9hZGRyZXNzO1xuXG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbkFsbFNvbGlkaXR5RXZlbnRzLnByb3RvdHlwZS5kZWNvZGUgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgIGRhdGEuZGF0YSA9IGRhdGEuZGF0YSB8fCAnJztcbiAgICBkYXRhLnRvcGljcyA9IGRhdGEudG9waWNzIHx8IFtdO1xuXG4gICAgdmFyIGV2ZW50VG9waWMgPSBkYXRhLnRvcGljc1swXS5zbGljZSgyKTtcbiAgICB2YXIgbWF0Y2ggPSB0aGlzLl9qc29uLmZpbHRlcihmdW5jdGlvbiAoaikge1xuICAgICAgICByZXR1cm4gZXZlbnRUb3BpYyA9PT0gc2hhMyh1dGlscy50cmFuc2Zvcm1Ub0Z1bGxOYW1lKGopKTtcbiAgICB9KVswXTtcblxuICAgIGlmICghbWF0Y2gpIHsgLy8gY2Fubm90IGZpbmQgbWF0Y2hpbmcgZXZlbnQ/XG4gICAgICAgIGNvbnNvbGUud2FybignY2Fubm90IGZpbmQgZXZlbnQgZm9yIGxvZycpO1xuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG5cbiAgICB2YXIgZXZlbnQgPSBuZXcgU29saWRpdHlFdmVudCh0aGlzLl9yZXF1ZXN0TWFuYWdlciwgbWF0Y2gsIHRoaXMuX2FkZHJlc3MpO1xuICAgIHJldHVybiBldmVudC5kZWNvZGUoZGF0YSk7XG59O1xuXG5BbGxTb2xpZGl0eUV2ZW50cy5wcm90b3R5cGUuZXhlY3V0ZSA9IGZ1bmN0aW9uIChvcHRpb25zLCBjYWxsYmFjaykge1xuXG4gICAgaWYgKHV0aWxzLmlzRnVuY3Rpb24oYXJndW1lbnRzW2FyZ3VtZW50cy5sZW5ndGggLSAxXSkpIHtcbiAgICAgICAgY2FsbGJhY2sgPSBhcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aCAtIDFdO1xuICAgICAgICBpZihhcmd1bWVudHMubGVuZ3RoID09PSAxKVxuICAgICAgICAgICAgb3B0aW9ucyA9IG51bGw7XG4gICAgfVxuXG4gICAgdmFyIG8gPSB0aGlzLmVuY29kZShvcHRpb25zKTtcbiAgICB2YXIgZm9ybWF0dGVyID0gdGhpcy5kZWNvZGUuYmluZCh0aGlzKTtcbiAgICByZXR1cm4gbmV3IEZpbHRlcih0aGlzLl9yZXF1ZXN0TWFuYWdlciwgbywgd2F0Y2hlcy5ldGgoKSwgZm9ybWF0dGVyLCBjYWxsYmFjayk7XG59O1xuXG5BbGxTb2xpZGl0eUV2ZW50cy5wcm90b3R5cGUuYXR0YWNoVG9Db250cmFjdCA9IGZ1bmN0aW9uIChjb250cmFjdCkge1xuICAgIHZhciBleGVjdXRlID0gdGhpcy5leGVjdXRlLmJpbmQodGhpcyk7XG4gICAgY29udHJhY3QuYWxsRXZlbnRzID0gZXhlY3V0ZTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gQWxsU29saWRpdHlFdmVudHM7XG5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vd2ViMy9saWIvd2ViMy9hbGxldmVudHMuanMiLCIvKlxuICAgIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIHdlYjMuanMuXG5cbiAgICB3ZWIzLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAgICBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAgICB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICAgIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG5cbiAgICB3ZWIzLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gICAgYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAgICBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gICAgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG5cbiAgICBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAgICBhbG9uZyB3aXRoIHdlYjMuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4qL1xuLyoqIFxuICogQGZpbGUgYmF0Y2guanNcbiAqIEBhdXRob3IgTWFyZWsgS290ZXdpY3ogPG1hcmVrQGV0aGRldi5jb20+XG4gKiBAZGF0ZSAyMDE1XG4gKi9cblxudmFyIEpzb25ycGMgPSByZXF1aXJlKCcuL2pzb25ycGMnKTtcbnZhciBlcnJvcnMgPSByZXF1aXJlKCcuL2Vycm9ycycpO1xuXG52YXIgQmF0Y2ggPSBmdW5jdGlvbiAod2ViMykge1xuICAgIHRoaXMucmVxdWVzdE1hbmFnZXIgPSB3ZWIzLl9yZXF1ZXN0TWFuYWdlcjtcbiAgICB0aGlzLnJlcXVlc3RzID0gW107XG59O1xuXG4vKipcbiAqIFNob3VsZCBiZSBjYWxsZWQgdG8gYWRkIGNyZWF0ZSBuZXcgcmVxdWVzdCB0byBiYXRjaCByZXF1ZXN0XG4gKlxuICogQG1ldGhvZCBhZGRcbiAqIEBwYXJhbSB7T2JqZWN0fSBqc29ucnBjIHJlcXVldCBvYmplY3RcbiAqL1xuQmF0Y2gucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChyZXF1ZXN0KSB7XG4gICAgdGhpcy5yZXF1ZXN0cy5wdXNoKHJlcXVlc3QpO1xufTtcblxuLyoqXG4gKiBTaG91bGQgYmUgY2FsbGVkIHRvIGV4ZWN1dGUgYmF0Y2ggcmVxdWVzdFxuICpcbiAqIEBtZXRob2QgZXhlY3V0ZVxuICovXG5CYXRjaC5wcm90b3R5cGUuZXhlY3V0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcmVxdWVzdHMgPSB0aGlzLnJlcXVlc3RzO1xuICAgIHRoaXMucmVxdWVzdE1hbmFnZXIuc2VuZEJhdGNoKHJlcXVlc3RzLCBmdW5jdGlvbiAoZXJyLCByZXN1bHRzKSB7XG4gICAgICAgIHJlc3VsdHMgPSByZXN1bHRzIHx8IFtdO1xuICAgICAgICByZXF1ZXN0cy5tYXAoZnVuY3Rpb24gKHJlcXVlc3QsIGluZGV4KSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0c1tpbmRleF0gfHwge307XG4gICAgICAgIH0pLmZvckVhY2goZnVuY3Rpb24gKHJlc3VsdCwgaW5kZXgpIHtcbiAgICAgICAgICAgIGlmIChyZXF1ZXN0c1tpbmRleF0uY2FsbGJhY2spIHtcblxuICAgICAgICAgICAgICAgIGlmICghSnNvbnJwYy5pc1ZhbGlkUmVzcG9uc2UocmVzdWx0KSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVxdWVzdHNbaW5kZXhdLmNhbGxiYWNrKGVycm9ycy5JbnZhbGlkUmVzcG9uc2UocmVzdWx0KSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmVxdWVzdHNbaW5kZXhdLmNhbGxiYWNrKG51bGwsIChyZXF1ZXN0c1tpbmRleF0uZm9ybWF0ID8gcmVxdWVzdHNbaW5kZXhdLmZvcm1hdChyZXN1bHQucmVzdWx0KSA6IHJlc3VsdC5yZXN1bHQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7IFxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBCYXRjaDtcblxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi93ZWIzL2xpYi93ZWIzL2JhdGNoLmpzIiwiLypcbiAgICBUaGlzIGZpbGUgaXMgcGFydCBvZiB3ZWIzLmpzLlxuXG4gICAgd2ViMy5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gICAgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAgICAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuXG4gICAgd2ViMy5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICAgIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gICAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICAgIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuXG4gICAgWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gICAgYWxvbmcgd2l0aCB3ZWIzLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuKi9cbi8qKlxuICogQGZpbGUgY29udHJhY3QuanNcbiAqIEBhdXRob3IgTWFyZWsgS290ZXdpY3ogPG1hcmVrQGV0aGRldi5jb20+XG4gKiBAZGF0ZSAyMDE0XG4gKi9cblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMvdXRpbHMnKTtcbnZhciBjb2RlciA9IHJlcXVpcmUoJy4uL3NvbGlkaXR5L2NvZGVyJyk7XG52YXIgU29saWRpdHlFdmVudCA9IHJlcXVpcmUoJy4vZXZlbnQnKTtcbnZhciBTb2xpZGl0eUZ1bmN0aW9uID0gcmVxdWlyZSgnLi9mdW5jdGlvbicpO1xudmFyIEFsbEV2ZW50cyA9IHJlcXVpcmUoJy4vYWxsZXZlbnRzJyk7XG5cbi8qKlxuICogU2hvdWxkIGJlIGNhbGxlZCB0byBlbmNvZGUgY29uc3RydWN0b3IgcGFyYW1zXG4gKlxuICogQG1ldGhvZCBlbmNvZGVDb25zdHJ1Y3RvclBhcmFtc1xuICogQHBhcmFtIHtBcnJheX0gYWJpXG4gKiBAcGFyYW0ge0FycmF5fSBjb25zdHJ1Y3RvciBwYXJhbXNcbiAqL1xudmFyIGVuY29kZUNvbnN0cnVjdG9yUGFyYW1zID0gZnVuY3Rpb24gKGFiaSwgcGFyYW1zKSB7XG4gICAgcmV0dXJuIGFiaS5maWx0ZXIoZnVuY3Rpb24gKGpzb24pIHtcbiAgICAgICAgcmV0dXJuIGpzb24udHlwZSA9PT0gJ2NvbnN0cnVjdG9yJyAmJiBqc29uLmlucHV0cy5sZW5ndGggPT09IHBhcmFtcy5sZW5ndGg7XG4gICAgfSkubWFwKGZ1bmN0aW9uIChqc29uKSB7XG4gICAgICAgIHJldHVybiBqc29uLmlucHV0cy5tYXAoZnVuY3Rpb24gKGlucHV0KSB7XG4gICAgICAgICAgICByZXR1cm4gaW5wdXQudHlwZTtcbiAgICAgICAgfSk7XG4gICAgfSkubWFwKGZ1bmN0aW9uICh0eXBlcykge1xuICAgICAgICByZXR1cm4gY29kZXIuZW5jb2RlUGFyYW1zKHR5cGVzLCBwYXJhbXMpO1xuICAgIH0pWzBdIHx8ICcnO1xufTtcblxuLyoqXG4gKiBTaG91bGQgYmUgY2FsbGVkIHRvIGFkZCBmdW5jdGlvbnMgdG8gY29udHJhY3Qgb2JqZWN0XG4gKlxuICogQG1ldGhvZCBhZGRGdW5jdGlvbnNUb0NvbnRyYWN0XG4gKiBAcGFyYW0ge0NvbnRyYWN0fSBjb250cmFjdFxuICogQHBhcmFtIHtBcnJheX0gYWJpXG4gKi9cbnZhciBhZGRGdW5jdGlvbnNUb0NvbnRyYWN0ID0gZnVuY3Rpb24gKGNvbnRyYWN0KSB7XG4gICAgY29udHJhY3QuYWJpLmZpbHRlcihmdW5jdGlvbiAoanNvbikge1xuICAgICAgICByZXR1cm4ganNvbi50eXBlID09PSAnZnVuY3Rpb24nO1xuICAgIH0pLm1hcChmdW5jdGlvbiAoanNvbikge1xuICAgICAgICByZXR1cm4gbmV3IFNvbGlkaXR5RnVuY3Rpb24oY29udHJhY3QuX2V0aCwganNvbiwgY29udHJhY3QuYWRkcmVzcyk7XG4gICAgfSkuZm9yRWFjaChmdW5jdGlvbiAoZikge1xuICAgICAgICBmLmF0dGFjaFRvQ29udHJhY3QoY29udHJhY3QpO1xuICAgIH0pO1xufTtcblxuLyoqXG4gKiBTaG91bGQgYmUgY2FsbGVkIHRvIGFkZCBldmVudHMgdG8gY29udHJhY3Qgb2JqZWN0XG4gKlxuICogQG1ldGhvZCBhZGRFdmVudHNUb0NvbnRyYWN0XG4gKiBAcGFyYW0ge0NvbnRyYWN0fSBjb250cmFjdFxuICogQHBhcmFtIHtBcnJheX0gYWJpXG4gKi9cbnZhciBhZGRFdmVudHNUb0NvbnRyYWN0ID0gZnVuY3Rpb24gKGNvbnRyYWN0KSB7XG4gICAgdmFyIGV2ZW50cyA9IGNvbnRyYWN0LmFiaS5maWx0ZXIoZnVuY3Rpb24gKGpzb24pIHtcbiAgICAgICAgcmV0dXJuIGpzb24udHlwZSA9PT0gJ2V2ZW50JztcbiAgICB9KTtcblxuICAgIHZhciBBbGwgPSBuZXcgQWxsRXZlbnRzKGNvbnRyYWN0Ll9ldGguX3JlcXVlc3RNYW5hZ2VyLCBldmVudHMsIGNvbnRyYWN0LmFkZHJlc3MpO1xuICAgIEFsbC5hdHRhY2hUb0NvbnRyYWN0KGNvbnRyYWN0KTtcblxuICAgIGV2ZW50cy5tYXAoZnVuY3Rpb24gKGpzb24pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTb2xpZGl0eUV2ZW50KGNvbnRyYWN0Ll9ldGguX3JlcXVlc3RNYW5hZ2VyLCBqc29uLCBjb250cmFjdC5hZGRyZXNzKTtcbiAgICB9KS5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGUuYXR0YWNoVG9Db250cmFjdChjb250cmFjdCk7XG4gICAgfSk7XG59O1xuXG5cbi8qKlxuICogU2hvdWxkIGJlIGNhbGxlZCB0byBjaGVjayBpZiB0aGUgY29udHJhY3QgZ2V0cyBwcm9wZXJseSBkZXBsb3llZCBvbiB0aGUgYmxvY2tjaGFpbi5cbiAqXG4gKiBAbWV0aG9kIGNoZWNrRm9yQ29udHJhY3RBZGRyZXNzXG4gKiBAcGFyYW0ge09iamVjdH0gY29udHJhY3RcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gKiBAcmV0dXJucyB7VW5kZWZpbmVkfVxuICovXG52YXIgY2hlY2tGb3JDb250cmFjdEFkZHJlc3MgPSBmdW5jdGlvbihjb250cmFjdCwgY2FsbGJhY2spe1xuICAgIHZhciBjb3VudCA9IDAsXG4gICAgICAgIGNhbGxiYWNrRmlyZWQgPSBmYWxzZTtcblxuICAgIC8vIHdhaXQgZm9yIHJlY2VpcHRcbiAgICB2YXIgZmlsdGVyID0gY29udHJhY3QuX2V0aC5maWx0ZXIoJ2xhdGVzdCcsIGZ1bmN0aW9uKGUpe1xuICAgICAgICBpZiAoIWUgJiYgIWNhbGxiYWNrRmlyZWQpIHtcbiAgICAgICAgICAgIGNvdW50Kys7XG5cbiAgICAgICAgICAgIC8vIHN0b3Agd2F0Y2hpbmcgYWZ0ZXIgNTAgYmxvY2tzICh0aW1lb3V0KVxuICAgICAgICAgICAgaWYgKGNvdW50ID4gNTApIHtcblxuICAgICAgICAgICAgICAgIGZpbHRlci5zdG9wV2F0Y2hpbmcoKTtcbiAgICAgICAgICAgICAgICBjYWxsYmFja0ZpcmVkID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjaylcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCdDb250cmFjdCB0cmFuc2FjdGlvbiBjb3VsZG5cXCd0IGJlIGZvdW5kIGFmdGVyIDUwIGJsb2NrcycpKTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ29udHJhY3QgdHJhbnNhY3Rpb24gY291bGRuXFwndCBiZSBmb3VuZCBhZnRlciA1MCBibG9ja3MnKTtcblxuXG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgY29udHJhY3QuX2V0aC5nZXRUcmFuc2FjdGlvblJlY2VpcHQoY29udHJhY3QudHJhbnNhY3Rpb25IYXNoLCBmdW5jdGlvbihlLCByZWNlaXB0KXtcbiAgICAgICAgICAgICAgICAgICAgaWYocmVjZWlwdCAmJiAhY2FsbGJhY2tGaXJlZCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cmFjdC5fZXRoLmdldENvZGUocmVjZWlwdC5jb250cmFjdEFkZHJlc3MsIGZ1bmN0aW9uKGUsIGNvZGUpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qanNoaW50IG1heGNvbXBsZXhpdHk6IDYgKi9cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGNhbGxiYWNrRmlyZWQgfHwgIWNvZGUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlci5zdG9wV2F0Y2hpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFja0ZpcmVkID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGNvZGUubGVuZ3RoID4gMykge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdDb250cmFjdCBjb2RlIGRlcGxveWVkIScpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyYWN0LmFkZHJlc3MgPSByZWNlaXB0LmNvbnRyYWN0QWRkcmVzcztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhdHRhY2ggZXZlbnRzIGFuZCBtZXRob2RzIGFnYWluIGFmdGVyIHdlIGhhdmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkRnVuY3Rpb25zVG9Db250cmFjdChjb250cmFjdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZEV2ZW50c1RvQ29udHJhY3QoY29udHJhY3QpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNhbGwgY2FsbGJhY2sgZm9yIHRoZSBzZWNvbmQgdGltZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihjYWxsYmFjaylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIGNvbnRyYWN0KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGNhbGxiYWNrKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCdUaGUgY29udHJhY3QgY29kZSBjb3VsZG5cXCd0IGJlIHN0b3JlZCwgcGxlYXNlIGNoZWNrIHlvdXIgZ2FzIGFtb3VudC4nKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIGNvbnRyYWN0IGNvZGUgY291bGRuXFwndCBiZSBzdG9yZWQsIHBsZWFzZSBjaGVjayB5b3VyIGdhcyBhbW91bnQuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xufTtcblxuLyoqXG4gKiBTaG91bGQgYmUgY2FsbGVkIHRvIGNyZWF0ZSBuZXcgQ29udHJhY3RGYWN0b3J5IGluc3RhbmNlXG4gKlxuICogQG1ldGhvZCBDb250cmFjdEZhY3RvcnlcbiAqIEBwYXJhbSB7QXJyYXl9IGFiaVxuICovXG52YXIgQ29udHJhY3RGYWN0b3J5ID0gZnVuY3Rpb24gKGV0aCwgYWJpKSB7XG4gICAgdGhpcy5ldGggPSBldGg7XG4gICAgdGhpcy5hYmkgPSBhYmk7XG5cbiAgICAvKipcbiAgICAgKiBTaG91bGQgYmUgY2FsbGVkIHRvIGNyZWF0ZSBuZXcgY29udHJhY3Qgb24gYSBibG9ja2NoYWluXG4gICAgICpcbiAgICAgKiBAbWV0aG9kIG5ld1xuICAgICAqIEBwYXJhbSB7QW55fSBjb250cmFjdCBjb25zdHJ1Y3RvciBwYXJhbTEgKG9wdGlvbmFsKVxuICAgICAqIEBwYXJhbSB7QW55fSBjb250cmFjdCBjb25zdHJ1Y3RvciBwYXJhbTIgKG9wdGlvbmFsKVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb250cmFjdCB0cmFuc2FjdGlvbiBvYmplY3QgKHJlcXVpcmVkKVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gICAgICogQHJldHVybnMge0NvbnRyYWN0fSByZXR1cm5zIGNvbnRyYWN0IGluc3RhbmNlXG4gICAgICovXG4gICAgdGhpcy5uZXcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjb250cmFjdCA9IG5ldyBDb250cmFjdCh0aGlzLmV0aCwgdGhpcy5hYmkpO1xuXG4gICAgICAgIC8vIHBhcnNlIGFyZ3VtZW50c1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHt9OyAvLyByZXF1aXJlZCFcbiAgICAgICAgdmFyIGNhbGxiYWNrO1xuXG4gICAgICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcbiAgICAgICAgaWYgKHV0aWxzLmlzRnVuY3Rpb24oYXJnc1thcmdzLmxlbmd0aCAtIDFdKSkge1xuICAgICAgICAgICAgY2FsbGJhY2sgPSBhcmdzLnBvcCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGxhc3QgPSBhcmdzW2FyZ3MubGVuZ3RoIC0gMV07XG4gICAgICAgIGlmICh1dGlscy5pc09iamVjdChsYXN0KSAmJiAhdXRpbHMuaXNBcnJheShsYXN0KSkge1xuICAgICAgICAgICAgb3B0aW9ucyA9IGFyZ3MucG9wKCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYnl0ZXMgPSBlbmNvZGVDb25zdHJ1Y3RvclBhcmFtcyh0aGlzLmFiaSwgYXJncyk7XG4gICAgICAgIG9wdGlvbnMuZGF0YSArPSBieXRlcztcblxuICAgICAgICBpZiAoY2FsbGJhY2spIHtcblxuICAgICAgICAgICAgLy8gd2FpdCBmb3IgdGhlIGNvbnRyYWN0IGFkZHJlc3MgYWRuIGNoZWNrIGlmIHRoZSBjb2RlIHdhcyBkZXBsb3llZFxuICAgICAgICAgICAgdGhpcy5ldGguc2VuZFRyYW5zYWN0aW9uKG9wdGlvbnMsIGZ1bmN0aW9uIChlcnIsIGhhc2gpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gYWRkIHRoZSB0cmFuc2FjdGlvbiBoYXNoXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyYWN0LnRyYW5zYWN0aW9uSGFzaCA9IGhhc2g7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gY2FsbCBjYWxsYmFjayBmb3IgdGhlIGZpcnN0IHRpbWVcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sobnVsbCwgY29udHJhY3QpO1xuXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrRm9yQ29udHJhY3RBZGRyZXNzKGNvbnRyYWN0LCBjYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgaGFzaCA9IHRoaXMuZXRoLnNlbmRUcmFuc2FjdGlvbihvcHRpb25zKTtcbiAgICAgICAgICAgIC8vIGFkZCB0aGUgdHJhbnNhY3Rpb24gaGFzaFxuICAgICAgICAgICAgY29udHJhY3QudHJhbnNhY3Rpb25IYXNoID0gaGFzaDtcbiAgICAgICAgICAgIGNoZWNrRm9yQ29udHJhY3RBZGRyZXNzKGNvbnRyYWN0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjb250cmFjdDtcbiAgICB9O1xuXG4gICAgdGhpcy5uZXcuZ2V0RGF0YSA9IHRoaXMuZ2V0RGF0YS5iaW5kKHRoaXMpO1xufTtcblxuLyoqXG4gKiBTaG91bGQgYmUgY2FsbGVkIHRvIGNyZWF0ZSBuZXcgQ29udHJhY3RGYWN0b3J5XG4gKlxuICogQG1ldGhvZCBjb250cmFjdFxuICogQHBhcmFtIHtBcnJheX0gYWJpXG4gKiBAcmV0dXJucyB7Q29udHJhY3RGYWN0b3J5fSBuZXcgY29udHJhY3QgZmFjdG9yeVxuICovXG4vL3ZhciBjb250cmFjdCA9IGZ1bmN0aW9uIChhYmkpIHtcbiAgICAvL3JldHVybiBuZXcgQ29udHJhY3RGYWN0b3J5KGFiaSk7XG4vL307XG5cblxuXG4vKipcbiAqIFNob3VsZCBiZSBjYWxsZWQgdG8gZ2V0IGFjY2VzcyB0byBleGlzdGluZyBjb250cmFjdCBvbiBhIGJsb2NrY2hhaW5cbiAqXG4gKiBAbWV0aG9kIGF0XG4gKiBAcGFyYW0ge0FkZHJlc3N9IGNvbnRyYWN0IGFkZHJlc3MgKHJlcXVpcmVkKVxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sge29wdGlvbmFsKVxuICogQHJldHVybnMge0NvbnRyYWN0fSByZXR1cm5zIGNvbnRyYWN0IGlmIG5vIGNhbGxiYWNrIHdhcyBwYXNzZWQsXG4gKiBvdGhlcndpc2UgY2FsbHMgY2FsbGJhY2sgZnVuY3Rpb24gKGVyciwgY29udHJhY3QpXG4gKi9cbkNvbnRyYWN0RmFjdG9yeS5wcm90b3R5cGUuYXQgPSBmdW5jdGlvbiAoYWRkcmVzcywgY2FsbGJhY2spIHtcbiAgICB2YXIgY29udHJhY3QgPSBuZXcgQ29udHJhY3QodGhpcy5ldGgsIHRoaXMuYWJpLCBhZGRyZXNzKTtcblxuICAgIC8vIHRoaXMgZnVuY3Rpb25zIGFyZSBub3QgcGFydCBvZiBwcm90b3R5cGUsXG4gICAgLy8gYmVjYXVzZSB3ZSBkb250IHdhbnQgdG8gc3BvaWwgdGhlIGludGVyZmFjZVxuICAgIGFkZEZ1bmN0aW9uc1RvQ29udHJhY3QoY29udHJhY3QpO1xuICAgIGFkZEV2ZW50c1RvQ29udHJhY3QoY29udHJhY3QpO1xuXG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgIGNhbGxiYWNrKG51bGwsIGNvbnRyYWN0KTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRyYWN0O1xufTtcblxuLyoqXG4gKiBHZXRzIHRoZSBkYXRhLCB3aGljaCBpcyBkYXRhIHRvIGRlcGxveSBwbHVzIGNvbnN0cnVjdG9yIHBhcmFtc1xuICpcbiAqIEBtZXRob2QgZ2V0RGF0YVxuICovXG5Db250cmFjdEZhY3RvcnkucHJvdG90eXBlLmdldERhdGEgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIG9wdGlvbnMgPSB7fTsgLy8gcmVxdWlyZWQhXG4gICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO1xuXG4gICAgdmFyIGxhc3QgPSBhcmdzW2FyZ3MubGVuZ3RoIC0gMV07XG4gICAgaWYgKHV0aWxzLmlzT2JqZWN0KGxhc3QpICYmICF1dGlscy5pc0FycmF5KGxhc3QpKSB7XG4gICAgICAgIG9wdGlvbnMgPSBhcmdzLnBvcCgpO1xuICAgIH1cblxuICAgIHZhciBieXRlcyA9IGVuY29kZUNvbnN0cnVjdG9yUGFyYW1zKHRoaXMuYWJpLCBhcmdzKTtcbiAgICBvcHRpb25zLmRhdGEgKz0gYnl0ZXM7XG5cbiAgICByZXR1cm4gb3B0aW9ucy5kYXRhO1xufTtcblxuLyoqXG4gKiBTaG91bGQgYmUgY2FsbGVkIHRvIGNyZWF0ZSBuZXcgY29udHJhY3QgaW5zdGFuY2VcbiAqXG4gKiBAbWV0aG9kIENvbnRyYWN0XG4gKiBAcGFyYW0ge0FycmF5fSBhYmlcbiAqIEBwYXJhbSB7QWRkcmVzc30gY29udHJhY3QgYWRkcmVzc1xuICovXG52YXIgQ29udHJhY3QgPSBmdW5jdGlvbiAoZXRoLCBhYmksIGFkZHJlc3MpIHtcbiAgICB0aGlzLl9ldGggPSBldGg7XG4gICAgdGhpcy50cmFuc2FjdGlvbkhhc2ggPSBudWxsO1xuICAgIHRoaXMuYWRkcmVzcyA9IGFkZHJlc3M7XG4gICAgdGhpcy5hYmkgPSBhYmk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IENvbnRyYWN0RmFjdG9yeTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vd2ViMy9saWIvd2ViMy9jb250cmFjdC5qcyIsInZhciBmb3JtYXR0ZXJzID0gcmVxdWlyZSgnLi9mb3JtYXR0ZXJzJyk7XG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzL3V0aWxzJyk7XG52YXIgTWV0aG9kID0gcmVxdWlyZSgnLi9tZXRob2QnKTtcbnZhciBQcm9wZXJ0eSA9IHJlcXVpcmUoJy4vcHJvcGVydHknKTtcblxuLy8gVE9ETzogcmVmYWN0b3IsIHNvIHRoZSBpbnB1dCBwYXJhbXMgYXJlIG5vdCBhbHRlcmVkLlxuLy8gaXQncyBuZWNlc3NhcnkgdG8gbWFrZSBzYW1lICdleHRlbnNpb24nIHdvcmsgd2l0aCBtdWx0aXBsZSBwcm92aWRlcnNcbnZhciBleHRlbmQgPSBmdW5jdGlvbiAod2ViMykge1xuICAgIC8qIGpzaGludCBtYXhjb21wbGV4aXR5OjUgKi9cbiAgICB2YXIgZXggPSBmdW5jdGlvbiAoZXh0ZW5zaW9uKSB7XG5cbiAgICAgICAgdmFyIGV4dGVuZGVkT2JqZWN0O1xuICAgICAgICBpZiAoZXh0ZW5zaW9uLnByb3BlcnR5KSB7XG4gICAgICAgICAgICBpZiAoIXdlYjNbZXh0ZW5zaW9uLnByb3BlcnR5XSkge1xuICAgICAgICAgICAgICAgIHdlYjNbZXh0ZW5zaW9uLnByb3BlcnR5XSA9IHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZXh0ZW5kZWRPYmplY3QgPSB3ZWIzW2V4dGVuc2lvbi5wcm9wZXJ0eV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBleHRlbmRlZE9iamVjdCA9IHdlYjM7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXh0ZW5zaW9uLm1ldGhvZHMpIHtcbiAgICAgICAgICAgIGV4dGVuc2lvbi5tZXRob2RzLmZvckVhY2goZnVuY3Rpb24gKG1ldGhvZCkge1xuICAgICAgICAgICAgICAgIG1ldGhvZC5hdHRhY2hUb09iamVjdChleHRlbmRlZE9iamVjdCk7XG4gICAgICAgICAgICAgICAgbWV0aG9kLnNldFJlcXVlc3RNYW5hZ2VyKHdlYjMuX3JlcXVlc3RNYW5hZ2VyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGV4dGVuc2lvbi5wcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICBleHRlbnNpb24ucHJvcGVydGllcy5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wZXJ0eSkge1xuICAgICAgICAgICAgICAgIHByb3BlcnR5LmF0dGFjaFRvT2JqZWN0KGV4dGVuZGVkT2JqZWN0KTtcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eS5zZXRSZXF1ZXN0TWFuYWdlcih3ZWIzLl9yZXF1ZXN0TWFuYWdlcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBleC5mb3JtYXR0ZXJzID0gZm9ybWF0dGVyczsgXG4gICAgZXgudXRpbHMgPSB1dGlscztcbiAgICBleC5NZXRob2QgPSBNZXRob2Q7XG4gICAgZXguUHJvcGVydHkgPSBQcm9wZXJ0eTtcblxuICAgIHJldHVybiBleDtcbn07XG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4dGVuZDtcblxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi93ZWIzL2xpYi93ZWIzL2V4dGVuZC5qcyIsIi8qXG4gICAgVGhpcyBmaWxlIGlzIHBhcnQgb2Ygd2ViMy5qcy5cblxuICAgIHdlYjMuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICAgIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICAgIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gICAgKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cblxuICAgIHdlYjMuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICAgIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAgICBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cblxuICAgIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICAgIGFsb25nIHdpdGggd2ViMy5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiovXG4vKipcbiAqIEBmaWxlIGZ1bmN0aW9uLmpzXG4gKiBAYXV0aG9yIE1hcmVrIEtvdGV3aWN6IDxtYXJla0BldGhkZXYuY29tPlxuICogQGRhdGUgMjAxNVxuICovXG5cbnZhciBjb2RlciA9IHJlcXVpcmUoJy4uL3NvbGlkaXR5L2NvZGVyJyk7XG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscy91dGlscycpO1xudmFyIGZvcm1hdHRlcnMgPSByZXF1aXJlKCcuL2Zvcm1hdHRlcnMnKTtcbnZhciBzaGEzID0gcmVxdWlyZSgnLi4vdXRpbHMvc2hhMycpO1xuXG4vKipcbiAqIFRoaXMgcHJvdG90eXBlIHNob3VsZCBiZSB1c2VkIHRvIGNhbGwvc2VuZFRyYW5zYWN0aW9uIHRvIHNvbGlkaXR5IGZ1bmN0aW9uc1xuICovXG52YXIgU29saWRpdHlGdW5jdGlvbiA9IGZ1bmN0aW9uIChldGgsIGpzb24sIGFkZHJlc3MpIHtcbiAgICB0aGlzLl9ldGggPSBldGg7XG4gICAgdGhpcy5faW5wdXRUeXBlcyA9IGpzb24uaW5wdXRzLm1hcChmdW5jdGlvbiAoaSkge1xuICAgICAgICByZXR1cm4gaS50eXBlO1xuICAgIH0pO1xuICAgIHRoaXMuX291dHB1dFR5cGVzID0ganNvbi5vdXRwdXRzLm1hcChmdW5jdGlvbiAoaSkge1xuICAgICAgICByZXR1cm4gaS50eXBlO1xuICAgIH0pO1xuICAgIHRoaXMuX2NvbnN0YW50ID0ganNvbi5jb25zdGFudDtcbiAgICB0aGlzLl9uYW1lID0gdXRpbHMudHJhbnNmb3JtVG9GdWxsTmFtZShqc29uKTtcbiAgICB0aGlzLl9hZGRyZXNzID0gYWRkcmVzcztcbn07XG5cblNvbGlkaXR5RnVuY3Rpb24ucHJvdG90eXBlLmV4dHJhY3RDYWxsYmFjayA9IGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgaWYgKHV0aWxzLmlzRnVuY3Rpb24oYXJnc1thcmdzLmxlbmd0aCAtIDFdKSkge1xuICAgICAgICByZXR1cm4gYXJncy5wb3AoKTsgLy8gbW9kaWZ5IHRoZSBhcmdzIGFycmF5IVxuICAgIH1cbn07XG5cblNvbGlkaXR5RnVuY3Rpb24ucHJvdG90eXBlLmV4dHJhY3REZWZhdWx0QmxvY2sgPSBmdW5jdGlvbiAoYXJncykge1xuICAgIGlmIChhcmdzLmxlbmd0aCA+IHRoaXMuX2lucHV0VHlwZXMubGVuZ3RoICYmICF1dGlscy5pc09iamVjdChhcmdzW2FyZ3MubGVuZ3RoIC0xXSkpIHtcbiAgICAgICAgcmV0dXJuIGZvcm1hdHRlcnMuaW5wdXREZWZhdWx0QmxvY2tOdW1iZXJGb3JtYXR0ZXIoYXJncy5wb3AoKSk7IC8vIG1vZGlmeSB0aGUgYXJncyBhcnJheSFcbiAgICB9XG59O1xuXG4vKipcbiAqIFNob3VsZCBiZSB1c2VkIHRvIGNyZWF0ZSBwYXlsb2FkIGZyb20gYXJndW1lbnRzXG4gKlxuICogQG1ldGhvZCB0b1BheWxvYWRcbiAqIEBwYXJhbSB7QXJyYXl9IHNvbGlkaXR5IGZ1bmN0aW9uIHBhcmFtc1xuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbmFsIHBheWxvYWQgb3B0aW9uc1xuICovXG5Tb2xpZGl0eUZ1bmN0aW9uLnByb3RvdHlwZS50b1BheWxvYWQgPSBmdW5jdGlvbiAoYXJncykge1xuICAgIHZhciBvcHRpb25zID0ge307XG4gICAgaWYgKGFyZ3MubGVuZ3RoID4gdGhpcy5faW5wdXRUeXBlcy5sZW5ndGggJiYgdXRpbHMuaXNPYmplY3QoYXJnc1thcmdzLmxlbmd0aCAtMV0pKSB7XG4gICAgICAgIG9wdGlvbnMgPSBhcmdzW2FyZ3MubGVuZ3RoIC0gMV07XG4gICAgfVxuICAgIG9wdGlvbnMudG8gPSB0aGlzLl9hZGRyZXNzO1xuICAgIG9wdGlvbnMuZGF0YSA9ICcweCcgKyB0aGlzLnNpZ25hdHVyZSgpICsgY29kZXIuZW5jb2RlUGFyYW1zKHRoaXMuX2lucHV0VHlwZXMsIGFyZ3MpO1xuICAgIHJldHVybiBvcHRpb25zO1xufTtcblxuLyoqXG4gKiBTaG91bGQgYmUgdXNlZCB0byBnZXQgZnVuY3Rpb24gc2lnbmF0dXJlXG4gKlxuICogQG1ldGhvZCBzaWduYXR1cmVcbiAqIEByZXR1cm4ge1N0cmluZ30gZnVuY3Rpb24gc2lnbmF0dXJlXG4gKi9cblNvbGlkaXR5RnVuY3Rpb24ucHJvdG90eXBlLnNpZ25hdHVyZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gc2hhMyh0aGlzLl9uYW1lKS5zbGljZSgwLCA4KTtcbn07XG5cblxuU29saWRpdHlGdW5jdGlvbi5wcm90b3R5cGUudW5wYWNrT3V0cHV0ID0gZnVuY3Rpb24gKG91dHB1dCkge1xuICAgIGlmICghb3V0cHV0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBvdXRwdXQgPSBvdXRwdXQubGVuZ3RoID49IDIgPyBvdXRwdXQuc2xpY2UoMikgOiBvdXRwdXQ7XG4gICAgdmFyIHJlc3VsdCA9IGNvZGVyLmRlY29kZVBhcmFtcyh0aGlzLl9vdXRwdXRUeXBlcywgb3V0cHV0KTtcbiAgICByZXR1cm4gcmVzdWx0Lmxlbmd0aCA9PT0gMSA/IHJlc3VsdFswXSA6IHJlc3VsdDtcbn07XG5cbi8qKlxuICogQ2FsbHMgYSBjb250cmFjdCBmdW5jdGlvbi5cbiAqXG4gKiBAbWV0aG9kIGNhbGxcbiAqIEBwYXJhbSB7Li4uT2JqZWN0fSBDb250cmFjdCBmdW5jdGlvbiBhcmd1bWVudHNcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IElmIHRoZSBsYXN0IGFyZ3VtZW50IGlzIGEgZnVuY3Rpb24sIHRoZSBjb250cmFjdCBmdW5jdGlvblxuICogICBjYWxsIHdpbGwgYmUgYXN5bmNocm9ub3VzLCBhbmQgdGhlIGNhbGxiYWNrIHdpbGwgYmUgcGFzc2VkIHRoZVxuICogICBlcnJvciBhbmQgcmVzdWx0LlxuICogQHJldHVybiB7U3RyaW5nfSBvdXRwdXQgYnl0ZXNcbiAqL1xuU29saWRpdHlGdW5jdGlvbi5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykuZmlsdGVyKGZ1bmN0aW9uIChhKSB7cmV0dXJuIGEgIT09IHVuZGVmaW5lZDsgfSk7XG4gICAgdmFyIGNhbGxiYWNrID0gdGhpcy5leHRyYWN0Q2FsbGJhY2soYXJncyk7XG4gICAgdmFyIGRlZmF1bHRCbG9jayA9IHRoaXMuZXh0cmFjdERlZmF1bHRCbG9jayhhcmdzKTtcbiAgICB2YXIgcGF5bG9hZCA9IHRoaXMudG9QYXlsb2FkKGFyZ3MpO1xuXG5cbiAgICBpZiAoIWNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBvdXRwdXQgPSB0aGlzLl9ldGguY2FsbChwYXlsb2FkLCBkZWZhdWx0QmxvY2spO1xuICAgICAgICByZXR1cm4gdGhpcy51bnBhY2tPdXRwdXQob3V0cHV0KTtcbiAgICB9IFxuICAgICAgICBcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdGhpcy5fZXRoLmNhbGwocGF5bG9hZCwgZGVmYXVsdEJsb2NrLCBmdW5jdGlvbiAoZXJyb3IsIG91dHB1dCkge1xuICAgICAgICBjYWxsYmFjayhlcnJvciwgc2VsZi51bnBhY2tPdXRwdXQob3V0cHV0KSk7XG4gICAgfSk7XG59O1xuXG4vKipcbiAqIFNob3VsZCBiZSB1c2VkIHRvIHNlbmRUcmFuc2FjdGlvbiB0byBzb2xpZGl0eSBmdW5jdGlvblxuICpcbiAqIEBtZXRob2Qgc2VuZFRyYW5zYWN0aW9uXG4gKi9cblNvbGlkaXR5RnVuY3Rpb24ucHJvdG90eXBlLnNlbmRUcmFuc2FjdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykuZmlsdGVyKGZ1bmN0aW9uIChhKSB7cmV0dXJuIGEgIT09IHVuZGVmaW5lZDsgfSk7XG4gICAgdmFyIGNhbGxiYWNrID0gdGhpcy5leHRyYWN0Q2FsbGJhY2soYXJncyk7XG4gICAgdmFyIHBheWxvYWQgPSB0aGlzLnRvUGF5bG9hZChhcmdzKTtcblxuICAgIGlmICghY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2V0aC5zZW5kVHJhbnNhY3Rpb24ocGF5bG9hZCk7XG4gICAgfVxuXG4gICAgdGhpcy5fZXRoLnNlbmRUcmFuc2FjdGlvbihwYXlsb2FkLCBjYWxsYmFjayk7XG59O1xuXG4vKipcbiAqIFNob3VsZCBiZSB1c2VkIHRvIGVzdGltYXRlR2FzIG9mIHNvbGlkaXR5IGZ1bmN0aW9uXG4gKlxuICogQG1ldGhvZCBlc3RpbWF0ZUdhc1xuICovXG5Tb2xpZGl0eUZ1bmN0aW9uLnByb3RvdHlwZS5lc3RpbWF0ZUdhcyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XG4gICAgdmFyIGNhbGxiYWNrID0gdGhpcy5leHRyYWN0Q2FsbGJhY2soYXJncyk7XG4gICAgdmFyIHBheWxvYWQgPSB0aGlzLnRvUGF5bG9hZChhcmdzKTtcblxuICAgIGlmICghY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2V0aC5lc3RpbWF0ZUdhcyhwYXlsb2FkKTtcbiAgICB9XG5cbiAgICB0aGlzLl9ldGguZXN0aW1hdGVHYXMocGF5bG9hZCwgY2FsbGJhY2spO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gdGhlIGVuY29kZWQgZGF0YSBvZiB0aGUgY2FsbFxuICpcbiAqIEBtZXRob2QgZ2V0RGF0YVxuICogQHJldHVybiB7U3RyaW5nfSB0aGUgZW5jb2RlZCBkYXRhXG4gKi9cblNvbGlkaXR5RnVuY3Rpb24ucHJvdG90eXBlLmdldERhdGEgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO1xuICAgIHZhciBwYXlsb2FkID0gdGhpcy50b1BheWxvYWQoYXJncyk7XG5cbiAgICByZXR1cm4gcGF5bG9hZC5kYXRhO1xufTtcblxuLyoqXG4gKiBTaG91bGQgYmUgdXNlZCB0byBnZXQgZnVuY3Rpb24gZGlzcGxheSBuYW1lXG4gKlxuICogQG1ldGhvZCBkaXNwbGF5TmFtZVxuICogQHJldHVybiB7U3RyaW5nfSBkaXNwbGF5IG5hbWUgb2YgdGhlIGZ1bmN0aW9uXG4gKi9cblNvbGlkaXR5RnVuY3Rpb24ucHJvdG90eXBlLmRpc3BsYXlOYW1lID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB1dGlscy5leHRyYWN0RGlzcGxheU5hbWUodGhpcy5fbmFtZSk7XG59O1xuXG4vKipcbiAqIFNob3VsZCBiZSB1c2VkIHRvIGdldCBmdW5jdGlvbiB0eXBlIG5hbWVcbiAqXG4gKiBAbWV0aG9kIHR5cGVOYW1lXG4gKiBAcmV0dXJuIHtTdHJpbmd9IHR5cGUgbmFtZSBvZiB0aGUgZnVuY3Rpb25cbiAqL1xuU29saWRpdHlGdW5jdGlvbi5wcm90b3R5cGUudHlwZU5hbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHV0aWxzLmV4dHJhY3RUeXBlTmFtZSh0aGlzLl9uYW1lKTtcbn07XG5cbi8qKlxuICogU2hvdWxkIGJlIGNhbGxlZCB0byBnZXQgcnBjIHJlcXVlc3RzIGZyb20gc29saWRpdHkgZnVuY3Rpb25cbiAqXG4gKiBAbWV0aG9kIHJlcXVlc3RcbiAqIEByZXR1cm5zIHtPYmplY3R9XG4gKi9cblNvbGlkaXR5RnVuY3Rpb24ucHJvdG90eXBlLnJlcXVlc3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO1xuICAgIHZhciBjYWxsYmFjayA9IHRoaXMuZXh0cmFjdENhbGxiYWNrKGFyZ3MpO1xuICAgIHZhciBwYXlsb2FkID0gdGhpcy50b1BheWxvYWQoYXJncyk7XG4gICAgdmFyIGZvcm1hdCA9IHRoaXMudW5wYWNrT3V0cHV0LmJpbmQodGhpcyk7XG4gICAgXG4gICAgcmV0dXJuIHtcbiAgICAgICAgbWV0aG9kOiB0aGlzLl9jb25zdGFudCA/ICdldGhfY2FsbCcgOiAnZXRoX3NlbmRUcmFuc2FjdGlvbicsXG4gICAgICAgIGNhbGxiYWNrOiBjYWxsYmFjayxcbiAgICAgICAgcGFyYW1zOiBbcGF5bG9hZF0sIFxuICAgICAgICBmb3JtYXQ6IGZvcm1hdFxuICAgIH07XG59O1xuXG4vKipcbiAqIFNob3VsZCBiZSBjYWxsZWQgdG8gZXhlY3V0ZSBmdW5jdGlvblxuICpcbiAqIEBtZXRob2QgZXhlY3V0ZVxuICovXG5Tb2xpZGl0eUZ1bmN0aW9uLnByb3RvdHlwZS5leGVjdXRlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB0cmFuc2FjdGlvbiA9ICF0aGlzLl9jb25zdGFudDtcblxuICAgIC8vIHNlbmQgdHJhbnNhY3Rpb25cbiAgICBpZiAodHJhbnNhY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VuZFRyYW5zYWN0aW9uLmFwcGx5KHRoaXMsIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykpO1xuICAgIH1cblxuICAgIC8vIGNhbGxcbiAgICByZXR1cm4gdGhpcy5jYWxsLmFwcGx5KHRoaXMsIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykpO1xufTtcblxuLyoqXG4gKiBTaG91bGQgYmUgY2FsbGVkIHRvIGF0dGFjaCBmdW5jdGlvbiB0byBjb250cmFjdFxuICpcbiAqIEBtZXRob2QgYXR0YWNoVG9Db250cmFjdFxuICogQHBhcmFtIHtDb250cmFjdH1cbiAqL1xuU29saWRpdHlGdW5jdGlvbi5wcm90b3R5cGUuYXR0YWNoVG9Db250cmFjdCA9IGZ1bmN0aW9uIChjb250cmFjdCkge1xuICAgIHZhciBleGVjdXRlID0gdGhpcy5leGVjdXRlLmJpbmQodGhpcyk7XG4gICAgZXhlY3V0ZS5yZXF1ZXN0ID0gdGhpcy5yZXF1ZXN0LmJpbmQodGhpcyk7XG4gICAgZXhlY3V0ZS5jYWxsID0gdGhpcy5jYWxsLmJpbmQodGhpcyk7XG4gICAgZXhlY3V0ZS5zZW5kVHJhbnNhY3Rpb24gPSB0aGlzLnNlbmRUcmFuc2FjdGlvbi5iaW5kKHRoaXMpO1xuICAgIGV4ZWN1dGUuZXN0aW1hdGVHYXMgPSB0aGlzLmVzdGltYXRlR2FzLmJpbmQodGhpcyk7XG4gICAgZXhlY3V0ZS5nZXREYXRhID0gdGhpcy5nZXREYXRhLmJpbmQodGhpcyk7XG4gICAgdmFyIGRpc3BsYXlOYW1lID0gdGhpcy5kaXNwbGF5TmFtZSgpO1xuICAgIGlmICghY29udHJhY3RbZGlzcGxheU5hbWVdKSB7XG4gICAgICAgIGNvbnRyYWN0W2Rpc3BsYXlOYW1lXSA9IGV4ZWN1dGU7XG4gICAgfVxuICAgIGNvbnRyYWN0W2Rpc3BsYXlOYW1lXVt0aGlzLnR5cGVOYW1lKCldID0gZXhlY3V0ZTsgLy8gY2lyY3VsYXIhISEhXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFNvbGlkaXR5RnVuY3Rpb247XG5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vd2ViMy9saWIvd2ViMy9mdW5jdGlvbi5qcyIsIi8qXG4gICAgVGhpcyBmaWxlIGlzIHBhcnQgb2Ygd2ViMy5qcy5cblxuICAgIHdlYjMuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICAgIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICAgIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gICAgKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cblxuICAgIHdlYjMuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICAgIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAgICBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cblxuICAgIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICAgIGFsb25nIHdpdGggd2ViMy5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiovXG4vKiogQGZpbGUgaHR0cHByb3ZpZGVyLmpzXG4gKiBAYXV0aG9yczpcbiAqICAgTWFyZWsgS290ZXdpY3ogPG1hcmVrQGV0aGRldi5jb20+XG4gKiAgIE1hcmlhbiBPYW5jZWEgPG1hcmlhbkBldGhkZXYuY29tPlxuICogICBGYWJpYW4gVm9nZWxzdGVsbGVyIDxmYWJpYW5AZXRoZGV2LmNvbT5cbiAqIEBkYXRlIDIwMTVcbiAqL1xuXG5cInVzZSBzdHJpY3RcIjtcblxudmFyIGVycm9ycyA9IHJlcXVpcmUoJy4vZXJyb3JzJyk7XG5cbi8vIHdvcmthcm91bmQgdG8gdXNlIGh0dHBwcm92aWRlciBpbiBkaWZmZXJlbnQgZW52c1xudmFyIFhNTEh0dHBSZXF1ZXN0OyAvLyBqc2hpbnQgaWdub3JlOiBsaW5lXG5cbi8vIGJyb3dzZXJcbmlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuWE1MSHR0cFJlcXVlc3QpIHtcbiAgICBYTUxIdHRwUmVxdWVzdCA9IHdpbmRvdy5YTUxIdHRwUmVxdWVzdDsgLy8ganNoaW50IGlnbm9yZTogbGluZVxuXG4vLyBub2RlXG59IGVsc2Uge1xuICAgIFhNTEh0dHBSZXF1ZXN0ID0gcmVxdWlyZSgneG1saHR0cHJlcXVlc3QnKS5YTUxIdHRwUmVxdWVzdDsgLy8ganNoaW50IGlnbm9yZTogbGluZVxufVxuXG4vKipcbiAqIEh0dHBQcm92aWRlciBzaG91bGQgYmUgdXNlZCB0byBzZW5kIHJwYyBjYWxscyBvdmVyIGh0dHBcbiAqL1xudmFyIEh0dHBQcm92aWRlciA9IGZ1bmN0aW9uIChob3N0KSB7XG4gICAgdGhpcy5ob3N0ID0gaG9zdCB8fCAnaHR0cDovL2xvY2FsaG9zdDo4NTQ1Jztcbn07XG5cbi8qKlxuICogU2hvdWxkIGJlIGNhbGxlZCB0byBwcmVwYXJlIG5ldyBYTUxIdHRwUmVxdWVzdFxuICpcbiAqIEBtZXRob2QgcHJlcGFyZVJlcXVlc3RcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gdHJ1ZSBpZiByZXF1ZXN0IHNob3VsZCBiZSBhc3luY1xuICogQHJldHVybiB7WE1MSHR0cFJlcXVlc3R9IG9iamVjdFxuICovXG5IdHRwUHJvdmlkZXIucHJvdG90eXBlLnByZXBhcmVSZXF1ZXN0ID0gZnVuY3Rpb24gKGFzeW5jKSB7XG4gICAgdmFyIHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICByZXF1ZXN0Lm9wZW4oJ1BPU1QnLCB0aGlzLmhvc3QsIGFzeW5jKTtcbiAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoJ0NvbnRlbnQtVHlwZScsJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICByZXR1cm4gcmVxdWVzdDtcbn07XG5cbi8qKlxuICogU2hvdWxkIGJlIGNhbGxlZCB0byBtYWtlIHN5bmMgcmVxdWVzdFxuICpcbiAqIEBtZXRob2Qgc2VuZFxuICogQHBhcmFtIHtPYmplY3R9IHBheWxvYWRcbiAqIEByZXR1cm4ge09iamVjdH0gcmVzdWx0XG4gKi9cbkh0dHBQcm92aWRlci5wcm90b3R5cGUuc2VuZCA9IGZ1bmN0aW9uIChwYXlsb2FkKSB7XG4gICAgdmFyIHJlcXVlc3QgPSB0aGlzLnByZXBhcmVSZXF1ZXN0KGZhbHNlKTtcblxuICAgIHRyeSB7XG4gICAgICAgIHJlcXVlc3Quc2VuZChKU09OLnN0cmluZ2lmeShwYXlsb2FkKSk7XG4gICAgfSBjYXRjaChlcnJvcikge1xuICAgICAgICB0aHJvdyBlcnJvcnMuSW52YWxpZENvbm5lY3Rpb24odGhpcy5ob3N0KTtcbiAgICB9XG5cbiAgICB2YXIgcmVzdWx0ID0gcmVxdWVzdC5yZXNwb25zZVRleHQ7XG5cbiAgICB0cnkge1xuICAgICAgICByZXN1bHQgPSBKU09OLnBhcnNlKHJlc3VsdCk7XG4gICAgfSBjYXRjaChlKSB7XG4gICAgICAgIHRocm93IGVycm9ycy5JbnZhbGlkUmVzcG9uc2UocmVxdWVzdC5yZXNwb25zZVRleHQpOyAgICAgICAgICAgICAgICBcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBTaG91bGQgYmUgdXNlZCB0byBtYWtlIGFzeW5jIHJlcXVlc3RcbiAqXG4gKiBAbWV0aG9kIHNlbmRBc3luY1xuICogQHBhcmFtIHtPYmplY3R9IHBheWxvYWRcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIHRyaWdnZXJlZCBvbiBlbmQgd2l0aCAoZXJyLCByZXN1bHQpXG4gKi9cbkh0dHBQcm92aWRlci5wcm90b3R5cGUuc2VuZEFzeW5jID0gZnVuY3Rpb24gKHBheWxvYWQsIGNhbGxiYWNrKSB7XG4gICAgdmFyIHJlcXVlc3QgPSB0aGlzLnByZXBhcmVSZXF1ZXN0KHRydWUpOyBcblxuICAgIHJlcXVlc3Qub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChyZXF1ZXN0LnJlYWR5U3RhdGUgPT09IDQpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSByZXF1ZXN0LnJlc3BvbnNlVGV4dDtcbiAgICAgICAgICAgIHZhciBlcnJvciA9IG51bGw7XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gSlNPTi5wYXJzZShyZXN1bHQpO1xuICAgICAgICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgICAgICAgICAgZXJyb3IgPSBlcnJvcnMuSW52YWxpZFJlc3BvbnNlKHJlcXVlc3QucmVzcG9uc2VUZXh0KTsgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhbGxiYWNrKGVycm9yLCByZXN1bHQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBcbiAgICB0cnkge1xuICAgICAgICByZXF1ZXN0LnNlbmQoSlNPTi5zdHJpbmdpZnkocGF5bG9hZCkpO1xuICAgIH0gY2F0Y2goZXJyb3IpIHtcbiAgICAgICAgY2FsbGJhY2soZXJyb3JzLkludmFsaWRDb25uZWN0aW9uKHRoaXMuaG9zdCkpO1xuICAgIH1cbn07XG5cbi8qKlxuICogU3luY2hyb25vdXNseSB0cmllcyB0byBtYWtlIEh0dHAgcmVxdWVzdFxuICpcbiAqIEBtZXRob2QgaXNDb25uZWN0ZWRcbiAqIEByZXR1cm4ge0Jvb2xlYW59IHJldHVybnMgdHJ1ZSBpZiByZXF1ZXN0IGhhdmVuJ3QgZmFpbGVkLiBPdGhlcndpc2UgZmFsc2VcbiAqL1xuSHR0cFByb3ZpZGVyLnByb3RvdHlwZS5pc0Nvbm5lY3RlZCA9IGZ1bmN0aW9uKCkge1xuICAgIHRyeSB7XG4gICAgICAgIHRoaXMuc2VuZCh7XG4gICAgICAgICAgICBpZDogOTk5OTk5OTk5OSxcbiAgICAgICAgICAgIGpzb25ycGM6ICcyLjAnLFxuICAgICAgICAgICAgbWV0aG9kOiAnbmV0X2xpc3RlbmluZycsXG4gICAgICAgICAgICBwYXJhbXM6IFtdXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gSHR0cFByb3ZpZGVyO1xuXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3dlYjMvbGliL3dlYjMvaHR0cHByb3ZpZGVyLmpzIiwiLypcbiAgICBUaGlzIGZpbGUgaXMgcGFydCBvZiB3ZWIzLmpzLlxuXG4gICAgd2ViMy5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gICAgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAgICAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuXG4gICAgd2ViMy5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICAgIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gICAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICAgIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuXG4gICAgWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gICAgYWxvbmcgd2l0aCB3ZWIzLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuKi9cbi8qKiBAZmlsZSBpcGNwcm92aWRlci5qc1xuICogQGF1dGhvcnM6XG4gKiAgIEZhYmlhbiBWb2dlbHN0ZWxsZXIgPGZhYmlhbkBldGhkZXYuY29tPlxuICogQGRhdGUgMjAxNVxuICovXG5cblwidXNlIHN0cmljdFwiO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscy91dGlscycpO1xudmFyIGVycm9ycyA9IHJlcXVpcmUoJy4vZXJyb3JzJyk7XG5cblxudmFyIElwY1Byb3ZpZGVyID0gZnVuY3Rpb24gKHBhdGgsIG5ldCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgdGhpcy5yZXNwb25zZUNhbGxiYWNrcyA9IHt9O1xuICAgIHRoaXMucGF0aCA9IHBhdGg7XG4gICAgXG4gICAgdGhpcy5jb25uZWN0aW9uID0gbmV0LmNvbm5lY3Qoe3BhdGg6IHRoaXMucGF0aH0pO1xuXG4gICAgdGhpcy5jb25uZWN0aW9uLm9uKCdlcnJvcicsIGZ1bmN0aW9uKGUpe1xuICAgICAgICBjb25zb2xlLmVycm9yKCdJUEMgQ29ubmVjdGlvbiBFcnJvcicsIGUpO1xuICAgICAgICBfdGhpcy5fdGltZW91dCgpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5jb25uZWN0aW9uLm9uKCdlbmQnLCBmdW5jdGlvbigpe1xuICAgICAgICBfdGhpcy5fdGltZW91dCgpO1xuICAgIH0pOyBcblxuXG4gICAgLy8gTElTVEVOIEZPUiBDT05ORUNUSU9OIFJFU1BPTlNFU1xuICAgIHRoaXMuY29ubmVjdGlvbi5vbignZGF0YScsIGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgLypqc2hpbnQgbWF4Y29tcGxleGl0eTogNiAqL1xuXG4gICAgICAgIF90aGlzLl9wYXJzZVJlc3BvbnNlKGRhdGEudG9TdHJpbmcoKSkuZm9yRWFjaChmdW5jdGlvbihyZXN1bHQpe1xuXG4gICAgICAgICAgICB2YXIgaWQgPSBudWxsO1xuXG4gICAgICAgICAgICAvLyBnZXQgdGhlIGlkIHdoaWNoIG1hdGNoZXMgdGhlIHJldHVybmVkIGlkXG4gICAgICAgICAgICBpZih1dGlscy5pc0FycmF5KHJlc3VsdCkpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQuZm9yRWFjaChmdW5jdGlvbihsb2FkKXtcbiAgICAgICAgICAgICAgICAgICAgaWYoX3RoaXMucmVzcG9uc2VDYWxsYmFja3NbbG9hZC5pZF0pXG4gICAgICAgICAgICAgICAgICAgICAgICBpZCA9IGxvYWQuaWQ7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlkID0gcmVzdWx0LmlkO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBmaXJlIHRoZSBjYWxsYmFja1xuICAgICAgICAgICAgaWYoX3RoaXMucmVzcG9uc2VDYWxsYmFja3NbaWRdKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMucmVzcG9uc2VDYWxsYmFja3NbaWRdKG51bGwsIHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgZGVsZXRlIF90aGlzLnJlc3BvbnNlQ2FsbGJhY2tzW2lkXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59O1xuXG4vKipcbldpbGwgcGFyc2UgdGhlIHJlc3BvbnNlIGFuZCBtYWtlIGFuIGFycmF5IG91dCBvZiBpdC5cblxuQG1ldGhvZCBfcGFyc2VSZXNwb25zZVxuQHBhcmFtIHtTdHJpbmd9IGRhdGFcbiovXG5JcGNQcm92aWRlci5wcm90b3R5cGUuX3BhcnNlUmVzcG9uc2UgPSBmdW5jdGlvbihkYXRhKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcyxcbiAgICAgICAgcmV0dXJuVmFsdWVzID0gW107XG4gICAgXG4gICAgLy8gREUtQ0hVTktFUlxuICAgIHZhciBkZWNodW5rZWREYXRhID0gZGF0YVxuICAgICAgICAucmVwbGFjZSgvXFx9W1xcblxccl0/XFx7L2csJ318LS18eycpIC8vIH17XG4gICAgICAgIC5yZXBsYWNlKC9cXH1cXF1bXFxuXFxyXT9cXFtcXHsvZywnfV18LS18W3snKSAvLyB9XVt7XG4gICAgICAgIC5yZXBsYWNlKC9cXH1bXFxuXFxyXT9cXFtcXHsvZywnfXwtLXxbeycpIC8vIH1be1xuICAgICAgICAucmVwbGFjZSgvXFx9XFxdW1xcblxccl0/XFx7L2csJ31dfC0tfHsnKSAvLyB9XXtcbiAgICAgICAgLnNwbGl0KCd8LS18Jyk7XG5cbiAgICBkZWNodW5rZWREYXRhLmZvckVhY2goZnVuY3Rpb24oZGF0YSl7XG5cbiAgICAgICAgLy8gcHJlcGVuZCB0aGUgbGFzdCBjaHVua1xuICAgICAgICBpZihfdGhpcy5sYXN0Q2h1bmspXG4gICAgICAgICAgICBkYXRhID0gX3RoaXMubGFzdENodW5rICsgZGF0YTtcblxuICAgICAgICB2YXIgcmVzdWx0ID0gbnVsbDtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmVzdWx0ID0gSlNPTi5wYXJzZShkYXRhKTtcblxuICAgICAgICB9IGNhdGNoKGUpIHtcblxuICAgICAgICAgICAgX3RoaXMubGFzdENodW5rID0gZGF0YTtcblxuICAgICAgICAgICAgLy8gc3RhcnQgdGltZW91dCB0byBjYW5jZWwgYWxsIHJlcXVlc3RzXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQoX3RoaXMubGFzdENodW5rVGltZW91dCk7XG4gICAgICAgICAgICBfdGhpcy5sYXN0Q2h1bmtUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIF90aGlzLl90aW1lb3V0KCk7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3JzLkludmFsaWRSZXNwb25zZShkYXRhKTtcbiAgICAgICAgICAgIH0sIDEwMDAgKiAxNSk7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNhbmNlbCB0aW1lb3V0IGFuZCBzZXQgY2h1bmsgdG8gbnVsbFxuICAgICAgICBjbGVhclRpbWVvdXQoX3RoaXMubGFzdENodW5rVGltZW91dCk7XG4gICAgICAgIF90aGlzLmxhc3RDaHVuayA9IG51bGw7XG5cbiAgICAgICAgaWYocmVzdWx0KVxuICAgICAgICAgICAgcmV0dXJuVmFsdWVzLnB1c2gocmVzdWx0KTtcbiAgICB9KTtcblxuICAgIHJldHVybiByZXR1cm5WYWx1ZXM7XG59O1xuXG5cbi8qKlxuR2V0IHRoZSBhZGRzIGEgY2FsbGJhY2sgdG8gdGhlIHJlc3BvbnNlQ2FsbGJhY2tzIG9iamVjdCxcbndoaWNoIHdpbGwgYmUgY2FsbGVkIGlmIGEgcmVzcG9uc2UgbWF0Y2hpbmcgdGhlIHJlc3BvbnNlIElkIHdpbGwgYXJyaXZlLlxuXG5AbWV0aG9kIF9hZGRSZXNwb25zZUNhbGxiYWNrXG4qL1xuSXBjUHJvdmlkZXIucHJvdG90eXBlLl9hZGRSZXNwb25zZUNhbGxiYWNrID0gZnVuY3Rpb24ocGF5bG9hZCwgY2FsbGJhY2spIHtcbiAgICB2YXIgaWQgPSBwYXlsb2FkLmlkIHx8IHBheWxvYWRbMF0uaWQ7XG4gICAgdmFyIG1ldGhvZCA9IHBheWxvYWQubWV0aG9kIHx8IHBheWxvYWRbMF0ubWV0aG9kO1xuXG4gICAgdGhpcy5yZXNwb25zZUNhbGxiYWNrc1tpZF0gPSBjYWxsYmFjaztcbiAgICB0aGlzLnJlc3BvbnNlQ2FsbGJhY2tzW2lkXS5tZXRob2QgPSBtZXRob2Q7XG59O1xuXG4vKipcblRpbWVvdXQgYWxsIHJlcXVlc3RzIHdoZW4gdGhlIGVuZC9lcnJvciBldmVudCBpcyBmaXJlZFxuXG5AbWV0aG9kIF90aW1lb3V0XG4qL1xuSXBjUHJvdmlkZXIucHJvdG90eXBlLl90aW1lb3V0ID0gZnVuY3Rpb24oKSB7XG4gICAgZm9yKHZhciBrZXkgaW4gdGhpcy5yZXNwb25zZUNhbGxiYWNrcykge1xuICAgICAgICBpZih0aGlzLnJlc3BvbnNlQ2FsbGJhY2tzLmhhc093blByb3BlcnR5KGtleSkpe1xuICAgICAgICAgICAgdGhpcy5yZXNwb25zZUNhbGxiYWNrc1trZXldKGVycm9ycy5JbnZhbGlkQ29ubmVjdGlvbignb24gSVBDJykpO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMucmVzcG9uc2VDYWxsYmFja3Nba2V5XTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cblxuLyoqXG5DaGVjayBpZiB0aGUgY3VycmVudCBjb25uZWN0aW9uIGlzIHN0aWxsIHZhbGlkLlxuXG5AbWV0aG9kIGlzQ29ubmVjdGVkXG4qL1xuSXBjUHJvdmlkZXIucHJvdG90eXBlLmlzQ29ubmVjdGVkID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIC8vIHRyeSByZWNvbm5lY3QsIHdoZW4gY29ubmVjdGlvbiBpcyBnb25lXG4gICAgaWYoIV90aGlzLmNvbm5lY3Rpb24ud3JpdGFibGUpXG4gICAgICAgIF90aGlzLmNvbm5lY3Rpb24uY29ubmVjdCh7cGF0aDogX3RoaXMucGF0aH0pO1xuXG4gICAgcmV0dXJuICEhdGhpcy5jb25uZWN0aW9uLndyaXRhYmxlO1xufTtcblxuSXBjUHJvdmlkZXIucHJvdG90eXBlLnNlbmQgPSBmdW5jdGlvbiAocGF5bG9hZCkge1xuXG4gICAgaWYodGhpcy5jb25uZWN0aW9uLndyaXRlU3luYykge1xuICAgICAgICB2YXIgcmVzdWx0O1xuXG4gICAgICAgIC8vIHRyeSByZWNvbm5lY3QsIHdoZW4gY29ubmVjdGlvbiBpcyBnb25lXG4gICAgICAgIGlmKCF0aGlzLmNvbm5lY3Rpb24ud3JpdGFibGUpXG4gICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb24uY29ubmVjdCh7cGF0aDogdGhpcy5wYXRofSk7XG5cbiAgICAgICAgdmFyIGRhdGEgPSB0aGlzLmNvbm5lY3Rpb24ud3JpdGVTeW5jKEpTT04uc3RyaW5naWZ5KHBheWxvYWQpKTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmVzdWx0ID0gSlNPTi5wYXJzZShkYXRhKTtcbiAgICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcnMuSW52YWxpZFJlc3BvbnNlKGRhdGEpOyAgICAgICAgICAgICAgICBcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1lvdSB0cmllZCB0byBzZW5kIFwiJysgcGF5bG9hZC5tZXRob2QgKydcIiBzeW5jaHJvbm91c2x5LiBTeW5jaHJvbm91cyByZXF1ZXN0cyBhcmUgbm90IHN1cHBvcnRlZCBieSB0aGUgSVBDIHByb3ZpZGVyLicpO1xuICAgIH1cbn07XG5cbklwY1Byb3ZpZGVyLnByb3RvdHlwZS5zZW5kQXN5bmMgPSBmdW5jdGlvbiAocGF5bG9hZCwgY2FsbGJhY2spIHtcbiAgICAvLyB0cnkgcmVjb25uZWN0LCB3aGVuIGNvbm5lY3Rpb24gaXMgZ29uZVxuICAgIGlmKCF0aGlzLmNvbm5lY3Rpb24ud3JpdGFibGUpXG4gICAgICAgIHRoaXMuY29ubmVjdGlvbi5jb25uZWN0KHtwYXRoOiB0aGlzLnBhdGh9KTtcblxuXG4gICAgdGhpcy5jb25uZWN0aW9uLndyaXRlKEpTT04uc3RyaW5naWZ5KHBheWxvYWQpKTtcbiAgICB0aGlzLl9hZGRSZXNwb25zZUNhbGxiYWNrKHBheWxvYWQsIGNhbGxiYWNrKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gSXBjUHJvdmlkZXI7XG5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vd2ViMy9saWIvd2ViMy9pcGNwcm92aWRlci5qcyIsIi8qXG4gICAgVGhpcyBmaWxlIGlzIHBhcnQgb2Ygd2ViMy5qcy5cblxuICAgIHdlYjMuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICAgIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICAgIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gICAgKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cblxuICAgIHdlYjMuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICAgIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAgICBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cblxuICAgIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICAgIGFsb25nIHdpdGggd2ViMy5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiovXG4vKiogQGZpbGUgZGIuanNcbiAqIEBhdXRob3JzOlxuICogICBNYXJlayBLb3Rld2ljeiA8bWFyZWtAZXRoZGV2LmNvbT5cbiAqIEBkYXRlIDIwMTVcbiAqL1xuXG52YXIgTWV0aG9kID0gcmVxdWlyZSgnLi4vbWV0aG9kJyk7XG5cbnZhciBEQiA9IGZ1bmN0aW9uICh3ZWIzKSB7XG4gICAgdGhpcy5fcmVxdWVzdE1hbmFnZXIgPSB3ZWIzLl9yZXF1ZXN0TWFuYWdlcjtcblxuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBcbiAgICBtZXRob2RzKCkuZm9yRWFjaChmdW5jdGlvbihtZXRob2QpIHsgXG4gICAgICAgIG1ldGhvZC5hdHRhY2hUb09iamVjdChzZWxmKTtcbiAgICAgICAgbWV0aG9kLnNldFJlcXVlc3RNYW5hZ2VyKHdlYjMuX3JlcXVlc3RNYW5hZ2VyKTtcbiAgICB9KTtcbn07XG5cbnZhciBtZXRob2RzID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBwdXRTdHJpbmcgPSBuZXcgTWV0aG9kKHtcbiAgICAgICAgbmFtZTogJ3B1dFN0cmluZycsXG4gICAgICAgIGNhbGw6ICdkYl9wdXRTdHJpbmcnLFxuICAgICAgICBwYXJhbXM6IDNcbiAgICB9KTtcblxuICAgIHZhciBnZXRTdHJpbmcgPSBuZXcgTWV0aG9kKHtcbiAgICAgICAgbmFtZTogJ2dldFN0cmluZycsXG4gICAgICAgIGNhbGw6ICdkYl9nZXRTdHJpbmcnLFxuICAgICAgICBwYXJhbXM6IDJcbiAgICB9KTtcblxuICAgIHZhciBwdXRIZXggPSBuZXcgTWV0aG9kKHtcbiAgICAgICAgbmFtZTogJ3B1dEhleCcsXG4gICAgICAgIGNhbGw6ICdkYl9wdXRIZXgnLFxuICAgICAgICBwYXJhbXM6IDNcbiAgICB9KTtcblxuICAgIHZhciBnZXRIZXggPSBuZXcgTWV0aG9kKHtcbiAgICAgICAgbmFtZTogJ2dldEhleCcsXG4gICAgICAgIGNhbGw6ICdkYl9nZXRIZXgnLFxuICAgICAgICBwYXJhbXM6IDJcbiAgICB9KTtcblxuICAgIHJldHVybiBbXG4gICAgICAgIHB1dFN0cmluZywgZ2V0U3RyaW5nLCBwdXRIZXgsIGdldEhleFxuICAgIF07XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IERCO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi93ZWIzL2xpYi93ZWIzL21ldGhvZHMvZGIuanMiLCIvKlxuICAgIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIHdlYjMuanMuXG5cbiAgICB3ZWIzLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAgICBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAgICB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICAgIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG5cbiAgICB3ZWIzLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gICAgYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAgICBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gICAgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG5cbiAgICBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAgICBhbG9uZyB3aXRoIHdlYjMuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4qL1xuLyoqXG4gKiBAZmlsZSBldGguanNcbiAqIEBhdXRob3IgTWFyZWsgS290ZXdpY3ogPG1hcmVrQGV0aGRldi5jb20+XG4gKiBAYXV0aG9yIEZhYmlhbiBWb2dlbHN0ZWxsZXIgPGZhYmlhbkBldGhkZXYuY29tPlxuICogQGRhdGUgMjAxNVxuICovXG5cblwidXNlIHN0cmljdFwiO1xuXG52YXIgZm9ybWF0dGVycyA9IHJlcXVpcmUoJy4uL2Zvcm1hdHRlcnMnKTtcbnZhciB1dGlscyA9IHJlcXVpcmUoJy4uLy4uL3V0aWxzL3V0aWxzJyk7XG52YXIgTWV0aG9kID0gcmVxdWlyZSgnLi4vbWV0aG9kJyk7XG52YXIgUHJvcGVydHkgPSByZXF1aXJlKCcuLi9wcm9wZXJ0eScpO1xudmFyIGMgPSByZXF1aXJlKCcuLi8uLi91dGlscy9jb25maWcnKTtcbnZhciBDb250cmFjdCA9IHJlcXVpcmUoJy4uL2NvbnRyYWN0Jyk7XG52YXIgd2F0Y2hlcyA9IHJlcXVpcmUoJy4vd2F0Y2hlcycpO1xudmFyIEZpbHRlciA9IHJlcXVpcmUoJy4uL2ZpbHRlcicpO1xudmFyIElzU3luY2luZyA9IHJlcXVpcmUoJy4uL3N5bmNpbmcnKTtcbnZhciBuYW1lcmVnID0gcmVxdWlyZSgnLi4vbmFtZXJlZycpO1xudmFyIEliYW4gPSByZXF1aXJlKCcuLi9pYmFuJyk7XG52YXIgdHJhbnNmZXIgPSByZXF1aXJlKCcuLi90cmFuc2ZlcicpO1xuXG52YXIgYmxvY2tDYWxsID0gZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICByZXR1cm4gKHV0aWxzLmlzU3RyaW5nKGFyZ3NbMF0pICYmIGFyZ3NbMF0uaW5kZXhPZignMHgnKSA9PT0gMCkgPyBcImV0aF9nZXRCbG9ja0J5SGFzaFwiIDogXCJldGhfZ2V0QmxvY2tCeU51bWJlclwiO1xufTtcblxudmFyIHRyYW5zYWN0aW9uRnJvbUJsb2NrQ2FsbCA9IGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgcmV0dXJuICh1dGlscy5pc1N0cmluZyhhcmdzWzBdKSAmJiBhcmdzWzBdLmluZGV4T2YoJzB4JykgPT09IDApID8gJ2V0aF9nZXRUcmFuc2FjdGlvbkJ5QmxvY2tIYXNoQW5kSW5kZXgnIDogJ2V0aF9nZXRUcmFuc2FjdGlvbkJ5QmxvY2tOdW1iZXJBbmRJbmRleCc7XG59O1xuXG52YXIgdW5jbGVDYWxsID0gZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICByZXR1cm4gKHV0aWxzLmlzU3RyaW5nKGFyZ3NbMF0pICYmIGFyZ3NbMF0uaW5kZXhPZignMHgnKSA9PT0gMCkgPyAnZXRoX2dldFVuY2xlQnlCbG9ja0hhc2hBbmRJbmRleCcgOiAnZXRoX2dldFVuY2xlQnlCbG9ja051bWJlckFuZEluZGV4Jztcbn07XG5cbnZhciBnZXRCbG9ja1RyYW5zYWN0aW9uQ291bnRDYWxsID0gZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICByZXR1cm4gKHV0aWxzLmlzU3RyaW5nKGFyZ3NbMF0pICYmIGFyZ3NbMF0uaW5kZXhPZignMHgnKSA9PT0gMCkgPyAnZXRoX2dldEJsb2NrVHJhbnNhY3Rpb25Db3VudEJ5SGFzaCcgOiAnZXRoX2dldEJsb2NrVHJhbnNhY3Rpb25Db3VudEJ5TnVtYmVyJztcbn07XG5cbnZhciB1bmNsZUNvdW50Q2FsbCA9IGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgcmV0dXJuICh1dGlscy5pc1N0cmluZyhhcmdzWzBdKSAmJiBhcmdzWzBdLmluZGV4T2YoJzB4JykgPT09IDApID8gJ2V0aF9nZXRVbmNsZUNvdW50QnlCbG9ja0hhc2gnIDogJ2V0aF9nZXRVbmNsZUNvdW50QnlCbG9ja051bWJlcic7XG59O1xuXG5mdW5jdGlvbiBFdGgod2ViMykge1xuICAgIHRoaXMuX3JlcXVlc3RNYW5hZ2VyID0gd2ViMy5fcmVxdWVzdE1hbmFnZXI7XG5cbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICBtZXRob2RzKCkuZm9yRWFjaChmdW5jdGlvbihtZXRob2QpIHsgXG4gICAgICAgIG1ldGhvZC5hdHRhY2hUb09iamVjdChzZWxmKTtcbiAgICAgICAgbWV0aG9kLnNldFJlcXVlc3RNYW5hZ2VyKHNlbGYuX3JlcXVlc3RNYW5hZ2VyKTtcbiAgICB9KTtcblxuICAgIHByb3BlcnRpZXMoKS5mb3JFYWNoKGZ1bmN0aW9uKHApIHsgXG4gICAgICAgIHAuYXR0YWNoVG9PYmplY3Qoc2VsZik7XG4gICAgICAgIHAuc2V0UmVxdWVzdE1hbmFnZXIoc2VsZi5fcmVxdWVzdE1hbmFnZXIpO1xuICAgIH0pO1xuXG5cbiAgICB0aGlzLmliYW4gPSBJYmFuO1xuICAgIHRoaXMuc2VuZElCQU5UcmFuc2FjdGlvbiA9IHRyYW5zZmVyLmJpbmQobnVsbCwgdGhpcyk7XG59XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShFdGgucHJvdG90eXBlLCAnZGVmYXVsdEJsb2NrJywge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gYy5kZWZhdWx0QmxvY2s7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgYy5kZWZhdWx0QmxvY2sgPSB2YWw7XG4gICAgICAgIHJldHVybiB2YWw7XG4gICAgfVxufSk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShFdGgucHJvdG90eXBlLCAnZGVmYXVsdEFjY291bnQnLCB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBjLmRlZmF1bHRBY2NvdW50O1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgIGMuZGVmYXVsdEFjY291bnQgPSB2YWw7XG4gICAgICAgIHJldHVybiB2YWw7XG4gICAgfVxufSk7XG5cbnZhciBtZXRob2RzID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBnZXRCYWxhbmNlID0gbmV3IE1ldGhvZCh7XG4gICAgICAgIG5hbWU6ICdnZXRCYWxhbmNlJyxcbiAgICAgICAgY2FsbDogJ2V0aF9nZXRCYWxhbmNlJyxcbiAgICAgICAgcGFyYW1zOiAyLFxuICAgICAgICBpbnB1dEZvcm1hdHRlcjogW2Zvcm1hdHRlcnMuaW5wdXRBZGRyZXNzRm9ybWF0dGVyLCBmb3JtYXR0ZXJzLmlucHV0RGVmYXVsdEJsb2NrTnVtYmVyRm9ybWF0dGVyXSxcbiAgICAgICAgb3V0cHV0Rm9ybWF0dGVyOiBmb3JtYXR0ZXJzLm91dHB1dEJpZ051bWJlckZvcm1hdHRlclxuICAgIH0pO1xuXG4gICAgdmFyIGdldFN0b3JhZ2VBdCA9IG5ldyBNZXRob2Qoe1xuICAgICAgICBuYW1lOiAnZ2V0U3RvcmFnZUF0JyxcbiAgICAgICAgY2FsbDogJ2V0aF9nZXRTdG9yYWdlQXQnLFxuICAgICAgICBwYXJhbXM6IDMsXG4gICAgICAgIGlucHV0Rm9ybWF0dGVyOiBbbnVsbCwgdXRpbHMudG9IZXgsIGZvcm1hdHRlcnMuaW5wdXREZWZhdWx0QmxvY2tOdW1iZXJGb3JtYXR0ZXJdXG4gICAgfSk7XG5cbiAgICB2YXIgZ2V0Q29kZSA9IG5ldyBNZXRob2Qoe1xuICAgICAgICBuYW1lOiAnZ2V0Q29kZScsXG4gICAgICAgIGNhbGw6ICdldGhfZ2V0Q29kZScsXG4gICAgICAgIHBhcmFtczogMixcbiAgICAgICAgaW5wdXRGb3JtYXR0ZXI6IFtmb3JtYXR0ZXJzLmlucHV0QWRkcmVzc0Zvcm1hdHRlciwgZm9ybWF0dGVycy5pbnB1dERlZmF1bHRCbG9ja051bWJlckZvcm1hdHRlcl1cbiAgICB9KTtcblxuICAgIHZhciBnZXRCbG9jayA9IG5ldyBNZXRob2Qoe1xuICAgICAgICBuYW1lOiAnZ2V0QmxvY2snLFxuICAgICAgICBjYWxsOiBibG9ja0NhbGwsXG4gICAgICAgIHBhcmFtczogMixcbiAgICAgICAgaW5wdXRGb3JtYXR0ZXI6IFtmb3JtYXR0ZXJzLmlucHV0QmxvY2tOdW1iZXJGb3JtYXR0ZXIsIGZ1bmN0aW9uICh2YWwpIHsgcmV0dXJuICEhdmFsOyB9XSxcbiAgICAgICAgb3V0cHV0Rm9ybWF0dGVyOiBmb3JtYXR0ZXJzLm91dHB1dEJsb2NrRm9ybWF0dGVyXG4gICAgfSk7XG5cbiAgICB2YXIgZ2V0VW5jbGUgPSBuZXcgTWV0aG9kKHtcbiAgICAgICAgbmFtZTogJ2dldFVuY2xlJyxcbiAgICAgICAgY2FsbDogdW5jbGVDYWxsLFxuICAgICAgICBwYXJhbXM6IDIsXG4gICAgICAgIGlucHV0Rm9ybWF0dGVyOiBbZm9ybWF0dGVycy5pbnB1dEJsb2NrTnVtYmVyRm9ybWF0dGVyLCB1dGlscy50b0hleF0sXG4gICAgICAgIG91dHB1dEZvcm1hdHRlcjogZm9ybWF0dGVycy5vdXRwdXRCbG9ja0Zvcm1hdHRlcixcblxuICAgIH0pO1xuXG4gICAgdmFyIGdldENvbXBpbGVycyA9IG5ldyBNZXRob2Qoe1xuICAgICAgICBuYW1lOiAnZ2V0Q29tcGlsZXJzJyxcbiAgICAgICAgY2FsbDogJ2V0aF9nZXRDb21waWxlcnMnLFxuICAgICAgICBwYXJhbXM6IDBcbiAgICB9KTtcblxuICAgIHZhciBnZXRCbG9ja1RyYW5zYWN0aW9uQ291bnQgPSBuZXcgTWV0aG9kKHtcbiAgICAgICAgbmFtZTogJ2dldEJsb2NrVHJhbnNhY3Rpb25Db3VudCcsXG4gICAgICAgIGNhbGw6IGdldEJsb2NrVHJhbnNhY3Rpb25Db3VudENhbGwsXG4gICAgICAgIHBhcmFtczogMSxcbiAgICAgICAgaW5wdXRGb3JtYXR0ZXI6IFtmb3JtYXR0ZXJzLmlucHV0QmxvY2tOdW1iZXJGb3JtYXR0ZXJdLFxuICAgICAgICBvdXRwdXRGb3JtYXR0ZXI6IHV0aWxzLnRvRGVjaW1hbFxuICAgIH0pO1xuXG4gICAgdmFyIGdldEJsb2NrVW5jbGVDb3VudCA9IG5ldyBNZXRob2Qoe1xuICAgICAgICBuYW1lOiAnZ2V0QmxvY2tVbmNsZUNvdW50JyxcbiAgICAgICAgY2FsbDogdW5jbGVDb3VudENhbGwsXG4gICAgICAgIHBhcmFtczogMSxcbiAgICAgICAgaW5wdXRGb3JtYXR0ZXI6IFtmb3JtYXR0ZXJzLmlucHV0QmxvY2tOdW1iZXJGb3JtYXR0ZXJdLFxuICAgICAgICBvdXRwdXRGb3JtYXR0ZXI6IHV0aWxzLnRvRGVjaW1hbFxuICAgIH0pO1xuXG4gICAgdmFyIGdldFRyYW5zYWN0aW9uID0gbmV3IE1ldGhvZCh7XG4gICAgICAgIG5hbWU6ICdnZXRUcmFuc2FjdGlvbicsXG4gICAgICAgIGNhbGw6ICdldGhfZ2V0VHJhbnNhY3Rpb25CeUhhc2gnLFxuICAgICAgICBwYXJhbXM6IDEsXG4gICAgICAgIG91dHB1dEZvcm1hdHRlcjogZm9ybWF0dGVycy5vdXRwdXRUcmFuc2FjdGlvbkZvcm1hdHRlclxuICAgIH0pO1xuXG4gICAgdmFyIGdldFRyYW5zYWN0aW9uRnJvbUJsb2NrID0gbmV3IE1ldGhvZCh7XG4gICAgICAgIG5hbWU6ICdnZXRUcmFuc2FjdGlvbkZyb21CbG9jaycsXG4gICAgICAgIGNhbGw6IHRyYW5zYWN0aW9uRnJvbUJsb2NrQ2FsbCxcbiAgICAgICAgcGFyYW1zOiAyLFxuICAgICAgICBpbnB1dEZvcm1hdHRlcjogW2Zvcm1hdHRlcnMuaW5wdXRCbG9ja051bWJlckZvcm1hdHRlciwgdXRpbHMudG9IZXhdLFxuICAgICAgICBvdXRwdXRGb3JtYXR0ZXI6IGZvcm1hdHRlcnMub3V0cHV0VHJhbnNhY3Rpb25Gb3JtYXR0ZXJcbiAgICB9KTtcblxuICAgIHZhciBnZXRUcmFuc2FjdGlvblJlY2VpcHQgPSBuZXcgTWV0aG9kKHtcbiAgICAgICAgbmFtZTogJ2dldFRyYW5zYWN0aW9uUmVjZWlwdCcsXG4gICAgICAgIGNhbGw6ICdldGhfZ2V0VHJhbnNhY3Rpb25SZWNlaXB0JyxcbiAgICAgICAgcGFyYW1zOiAxLFxuICAgICAgICBvdXRwdXRGb3JtYXR0ZXI6IGZvcm1hdHRlcnMub3V0cHV0VHJhbnNhY3Rpb25SZWNlaXB0Rm9ybWF0dGVyXG4gICAgfSk7XG5cbiAgICB2YXIgZ2V0VHJhbnNhY3Rpb25Db3VudCA9IG5ldyBNZXRob2Qoe1xuICAgICAgICBuYW1lOiAnZ2V0VHJhbnNhY3Rpb25Db3VudCcsXG4gICAgICAgIGNhbGw6ICdldGhfZ2V0VHJhbnNhY3Rpb25Db3VudCcsXG4gICAgICAgIHBhcmFtczogMixcbiAgICAgICAgaW5wdXRGb3JtYXR0ZXI6IFtudWxsLCBmb3JtYXR0ZXJzLmlucHV0RGVmYXVsdEJsb2NrTnVtYmVyRm9ybWF0dGVyXSxcbiAgICAgICAgb3V0cHV0Rm9ybWF0dGVyOiB1dGlscy50b0RlY2ltYWxcbiAgICB9KTtcblxuICAgIHZhciBzZW5kUmF3VHJhbnNhY3Rpb24gPSBuZXcgTWV0aG9kKHtcbiAgICAgICAgbmFtZTogJ3NlbmRSYXdUcmFuc2FjdGlvbicsXG4gICAgICAgIGNhbGw6ICdldGhfc2VuZFJhd1RyYW5zYWN0aW9uJyxcbiAgICAgICAgcGFyYW1zOiAxLFxuICAgICAgICBpbnB1dEZvcm1hdHRlcjogW251bGxdXG4gICAgfSk7XG5cbiAgICB2YXIgc2VuZFRyYW5zYWN0aW9uID0gbmV3IE1ldGhvZCh7XG4gICAgICAgIG5hbWU6ICdzZW5kVHJhbnNhY3Rpb24nLFxuICAgICAgICBjYWxsOiAnZXRoX3NlbmRUcmFuc2FjdGlvbicsXG4gICAgICAgIHBhcmFtczogMSxcbiAgICAgICAgaW5wdXRGb3JtYXR0ZXI6IFtmb3JtYXR0ZXJzLmlucHV0VHJhbnNhY3Rpb25Gb3JtYXR0ZXJdXG4gICAgfSk7XG5cbiAgICB2YXIgc2lnbiA9IG5ldyBNZXRob2Qoe1xuICAgICAgICBuYW1lOiAnc2lnbicsXG4gICAgICAgIGNhbGw6ICdldGhfc2lnbicsXG4gICAgICAgIHBhcmFtczogMixcbiAgICAgICAgaW5wdXRGb3JtYXR0ZXI6IFtmb3JtYXR0ZXJzLmlucHV0QWRkcmVzc0Zvcm1hdHRlciwgbnVsbF1cbiAgICB9KTtcblxuICAgIHZhciBjYWxsID0gbmV3IE1ldGhvZCh7XG4gICAgICAgIG5hbWU6ICdjYWxsJyxcbiAgICAgICAgY2FsbDogJ2V0aF9jYWxsJyxcbiAgICAgICAgcGFyYW1zOiAyLFxuICAgICAgICBpbnB1dEZvcm1hdHRlcjogW2Zvcm1hdHRlcnMuaW5wdXRDYWxsRm9ybWF0dGVyLCBmb3JtYXR0ZXJzLmlucHV0RGVmYXVsdEJsb2NrTnVtYmVyRm9ybWF0dGVyXVxuICAgIH0pO1xuXG4gICAgdmFyIGVzdGltYXRlR2FzID0gbmV3IE1ldGhvZCh7XG4gICAgICAgIG5hbWU6ICdlc3RpbWF0ZUdhcycsXG4gICAgICAgIGNhbGw6ICdldGhfZXN0aW1hdGVHYXMnLFxuICAgICAgICBwYXJhbXM6IDEsXG4gICAgICAgIGlucHV0Rm9ybWF0dGVyOiBbZm9ybWF0dGVycy5pbnB1dENhbGxGb3JtYXR0ZXJdLFxuICAgICAgICBvdXRwdXRGb3JtYXR0ZXI6IHV0aWxzLnRvRGVjaW1hbFxuICAgIH0pO1xuXG4gICAgdmFyIGNvbXBpbGVTb2xpZGl0eSA9IG5ldyBNZXRob2Qoe1xuICAgICAgICBuYW1lOiAnY29tcGlsZS5zb2xpZGl0eScsXG4gICAgICAgIGNhbGw6ICdldGhfY29tcGlsZVNvbGlkaXR5JyxcbiAgICAgICAgcGFyYW1zOiAxXG4gICAgfSk7XG5cbiAgICB2YXIgY29tcGlsZUxMTCA9IG5ldyBNZXRob2Qoe1xuICAgICAgICBuYW1lOiAnY29tcGlsZS5sbGwnLFxuICAgICAgICBjYWxsOiAnZXRoX2NvbXBpbGVMTEwnLFxuICAgICAgICBwYXJhbXM6IDFcbiAgICB9KTtcblxuICAgIHZhciBjb21waWxlU2VycGVudCA9IG5ldyBNZXRob2Qoe1xuICAgICAgICBuYW1lOiAnY29tcGlsZS5zZXJwZW50JyxcbiAgICAgICAgY2FsbDogJ2V0aF9jb21waWxlU2VycGVudCcsXG4gICAgICAgIHBhcmFtczogMVxuICAgIH0pO1xuXG4gICAgdmFyIHN1Ym1pdFdvcmsgPSBuZXcgTWV0aG9kKHtcbiAgICAgICAgbmFtZTogJ3N1Ym1pdFdvcmsnLFxuICAgICAgICBjYWxsOiAnZXRoX3N1Ym1pdFdvcmsnLFxuICAgICAgICBwYXJhbXM6IDNcbiAgICB9KTtcblxuICAgIHZhciBnZXRXb3JrID0gbmV3IE1ldGhvZCh7XG4gICAgICAgIG5hbWU6ICdnZXRXb3JrJyxcbiAgICAgICAgY2FsbDogJ2V0aF9nZXRXb3JrJyxcbiAgICAgICAgcGFyYW1zOiAwXG4gICAgfSk7XG5cbiAgICByZXR1cm4gW1xuICAgICAgICBnZXRCYWxhbmNlLFxuICAgICAgICBnZXRTdG9yYWdlQXQsXG4gICAgICAgIGdldENvZGUsXG4gICAgICAgIGdldEJsb2NrLFxuICAgICAgICBnZXRVbmNsZSxcbiAgICAgICAgZ2V0Q29tcGlsZXJzLFxuICAgICAgICBnZXRCbG9ja1RyYW5zYWN0aW9uQ291bnQsXG4gICAgICAgIGdldEJsb2NrVW5jbGVDb3VudCxcbiAgICAgICAgZ2V0VHJhbnNhY3Rpb24sXG4gICAgICAgIGdldFRyYW5zYWN0aW9uRnJvbUJsb2NrLFxuICAgICAgICBnZXRUcmFuc2FjdGlvblJlY2VpcHQsXG4gICAgICAgIGdldFRyYW5zYWN0aW9uQ291bnQsXG4gICAgICAgIGNhbGwsXG4gICAgICAgIGVzdGltYXRlR2FzLFxuICAgICAgICBzZW5kUmF3VHJhbnNhY3Rpb24sXG4gICAgICAgIHNlbmRUcmFuc2FjdGlvbixcbiAgICAgICAgc2lnbixcbiAgICAgICAgY29tcGlsZVNvbGlkaXR5LFxuICAgICAgICBjb21waWxlTExMLFxuICAgICAgICBjb21waWxlU2VycGVudCxcbiAgICAgICAgc3VibWl0V29yayxcbiAgICAgICAgZ2V0V29ya1xuICAgIF07XG59O1xuXG5cbnZhciBwcm9wZXJ0aWVzID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBbXG4gICAgICAgIG5ldyBQcm9wZXJ0eSh7XG4gICAgICAgICAgICBuYW1lOiAnY29pbmJhc2UnLFxuICAgICAgICAgICAgZ2V0dGVyOiAnZXRoX2NvaW5iYXNlJ1xuICAgICAgICB9KSxcbiAgICAgICAgbmV3IFByb3BlcnR5KHtcbiAgICAgICAgICAgIG5hbWU6ICdtaW5pbmcnLFxuICAgICAgICAgICAgZ2V0dGVyOiAnZXRoX21pbmluZydcbiAgICAgICAgfSksXG4gICAgICAgIG5ldyBQcm9wZXJ0eSh7XG4gICAgICAgICAgICBuYW1lOiAnaGFzaHJhdGUnLFxuICAgICAgICAgICAgZ2V0dGVyOiAnZXRoX2hhc2hyYXRlJyxcbiAgICAgICAgICAgIG91dHB1dEZvcm1hdHRlcjogdXRpbHMudG9EZWNpbWFsXG4gICAgICAgIH0pLFxuICAgICAgICBuZXcgUHJvcGVydHkoe1xuICAgICAgICAgICAgbmFtZTogJ3N5bmNpbmcnLFxuICAgICAgICAgICAgZ2V0dGVyOiAnZXRoX3N5bmNpbmcnLFxuICAgICAgICAgICAgb3V0cHV0Rm9ybWF0dGVyOiBmb3JtYXR0ZXJzLm91dHB1dFN5bmNpbmdGb3JtYXR0ZXJcbiAgICAgICAgfSksXG4gICAgICAgIG5ldyBQcm9wZXJ0eSh7XG4gICAgICAgICAgICBuYW1lOiAnZ2FzUHJpY2UnLFxuICAgICAgICAgICAgZ2V0dGVyOiAnZXRoX2dhc1ByaWNlJyxcbiAgICAgICAgICAgIG91dHB1dEZvcm1hdHRlcjogZm9ybWF0dGVycy5vdXRwdXRCaWdOdW1iZXJGb3JtYXR0ZXJcbiAgICAgICAgfSksXG4gICAgICAgIG5ldyBQcm9wZXJ0eSh7XG4gICAgICAgICAgICBuYW1lOiAnYWNjb3VudHMnLFxuICAgICAgICAgICAgZ2V0dGVyOiAnZXRoX2FjY291bnRzJ1xuICAgICAgICB9KSxcbiAgICAgICAgbmV3IFByb3BlcnR5KHtcbiAgICAgICAgICAgIG5hbWU6ICdibG9ja051bWJlcicsXG4gICAgICAgICAgICBnZXR0ZXI6ICdldGhfYmxvY2tOdW1iZXInLFxuICAgICAgICAgICAgb3V0cHV0Rm9ybWF0dGVyOiB1dGlscy50b0RlY2ltYWxcbiAgICAgICAgfSksXG4gICAgICAgIG5ldyBQcm9wZXJ0eSh7XG4gICAgICAgICAgICBuYW1lOiAncHJvdG9jb2xWZXJzaW9uJyxcbiAgICAgICAgICAgIGdldHRlcjogJ2V0aF9wcm90b2NvbFZlcnNpb24nXG4gICAgICAgIH0pXG4gICAgXTtcbn07XG5cbkV0aC5wcm90b3R5cGUuY29udHJhY3QgPSBmdW5jdGlvbiAoYWJpKSB7XG4gICAgdmFyIGZhY3RvcnkgPSBuZXcgQ29udHJhY3QodGhpcywgYWJpKTtcbiAgICByZXR1cm4gZmFjdG9yeTtcbn07XG5cbkV0aC5wcm90b3R5cGUuZmlsdGVyID0gZnVuY3Rpb24gKGZpbCwgY2FsbGJhY2spIHtcbiAgICByZXR1cm4gbmV3IEZpbHRlcih0aGlzLl9yZXF1ZXN0TWFuYWdlciwgZmlsLCB3YXRjaGVzLmV0aCgpLCBmb3JtYXR0ZXJzLm91dHB1dExvZ0Zvcm1hdHRlciwgY2FsbGJhY2spO1xufTtcblxuRXRoLnByb3RvdHlwZS5uYW1lcmVnID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmNvbnRyYWN0KG5hbWVyZWcuZ2xvYmFsLmFiaSkuYXQobmFtZXJlZy5nbG9iYWwuYWRkcmVzcyk7XG59O1xuXG5FdGgucHJvdG90eXBlLmljYXBOYW1lcmVnID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmNvbnRyYWN0KG5hbWVyZWcuaWNhcC5hYmkpLmF0KG5hbWVyZWcuaWNhcC5hZGRyZXNzKTtcbn07XG5cbkV0aC5wcm90b3R5cGUuaXNTeW5jaW5nID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIG5ldyBJc1N5bmNpbmcodGhpcy5fcmVxdWVzdE1hbmFnZXIsIGNhbGxiYWNrKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gRXRoO1xuXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3dlYjMvbGliL3dlYjMvbWV0aG9kcy9ldGguanMiLCIvKlxuICAgIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIHdlYjMuanMuXG5cbiAgICB3ZWIzLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAgICBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAgICB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICAgIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG5cbiAgICB3ZWIzLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gICAgYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAgICBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gICAgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG5cbiAgICBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAgICBhbG9uZyB3aXRoIHdlYjMuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4qL1xuLyoqIEBmaWxlIGV0aC5qc1xuICogQGF1dGhvcnM6XG4gKiAgIE1hcmVrIEtvdGV3aWN6IDxtYXJla0BldGhkZXYuY29tPlxuICogQGRhdGUgMjAxNVxuICovXG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4uLy4uL3V0aWxzL3V0aWxzJyk7XG52YXIgUHJvcGVydHkgPSByZXF1aXJlKCcuLi9wcm9wZXJ0eScpO1xuXG52YXIgTmV0ID0gZnVuY3Rpb24gKHdlYjMpIHtcbiAgICB0aGlzLl9yZXF1ZXN0TWFuYWdlciA9IHdlYjMuX3JlcXVlc3RNYW5hZ2VyO1xuXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgcHJvcGVydGllcygpLmZvckVhY2goZnVuY3Rpb24ocCkgeyBcbiAgICAgICAgcC5hdHRhY2hUb09iamVjdChzZWxmKTtcbiAgICAgICAgcC5zZXRSZXF1ZXN0TWFuYWdlcih3ZWIzLl9yZXF1ZXN0TWFuYWdlcik7XG4gICAgfSk7XG59O1xuXG4vLy8gQHJldHVybnMgYW4gYXJyYXkgb2Ygb2JqZWN0cyBkZXNjcmliaW5nIHdlYjMuZXRoIGFwaSBwcm9wZXJ0aWVzXG52YXIgcHJvcGVydGllcyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gW1xuICAgICAgICBuZXcgUHJvcGVydHkoe1xuICAgICAgICAgICAgbmFtZTogJ2xpc3RlbmluZycsXG4gICAgICAgICAgICBnZXR0ZXI6ICduZXRfbGlzdGVuaW5nJ1xuICAgICAgICB9KSxcbiAgICAgICAgbmV3IFByb3BlcnR5KHtcbiAgICAgICAgICAgIG5hbWU6ICdwZWVyQ291bnQnLFxuICAgICAgICAgICAgZ2V0dGVyOiAnbmV0X3BlZXJDb3VudCcsXG4gICAgICAgICAgICBvdXRwdXRGb3JtYXR0ZXI6IHV0aWxzLnRvRGVjaW1hbFxuICAgICAgICB9KVxuICAgIF07XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IE5ldDtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vd2ViMy9saWIvd2ViMy9tZXRob2RzL25ldC5qcyIsIi8qXG4gICAgVGhpcyBmaWxlIGlzIHBhcnQgb2Ygd2ViMy5qcy5cblxuICAgIHdlYjMuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICAgIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICAgIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gICAgKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cblxuICAgIHdlYjMuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICAgIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAgICBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cblxuICAgIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICAgIGFsb25nIHdpdGggd2ViMy5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiovXG4vKipcbiAqIEBmaWxlIGV0aC5qc1xuICogQGF1dGhvciBNYXJlayBLb3Rld2ljeiA8bWFyZWtAZXRoZGV2LmNvbT5cbiAqIEBhdXRob3IgRmFiaWFuIFZvZ2Vsc3RlbGxlciA8ZmFiaWFuQGV0aGRldi5jb20+XG4gKiBAZGF0ZSAyMDE1XG4gKi9cblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBNZXRob2QgPSByZXF1aXJlKCcuLi9tZXRob2QnKTtcbnZhciBQcm9wZXJ0eSA9IHJlcXVpcmUoJy4uL3Byb3BlcnR5Jyk7XG52YXIgZm9ybWF0dGVycyA9IHJlcXVpcmUoJy4uL2Zvcm1hdHRlcnMnKTtcblxuZnVuY3Rpb24gUGVyc29uYWwod2ViMykge1xuICAgIHRoaXMuX3JlcXVlc3RNYW5hZ2VyID0gd2ViMy5fcmVxdWVzdE1hbmFnZXI7XG5cbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICBtZXRob2RzKCkuZm9yRWFjaChmdW5jdGlvbihtZXRob2QpIHtcbiAgICAgICAgbWV0aG9kLmF0dGFjaFRvT2JqZWN0KHNlbGYpO1xuICAgICAgICBtZXRob2Quc2V0UmVxdWVzdE1hbmFnZXIoc2VsZi5fcmVxdWVzdE1hbmFnZXIpO1xuICAgIH0pO1xuXG4gICAgcHJvcGVydGllcygpLmZvckVhY2goZnVuY3Rpb24ocCkge1xuICAgICAgICBwLmF0dGFjaFRvT2JqZWN0KHNlbGYpO1xuICAgICAgICBwLnNldFJlcXVlc3RNYW5hZ2VyKHNlbGYuX3JlcXVlc3RNYW5hZ2VyKTtcbiAgICB9KTtcbn1cblxudmFyIG1ldGhvZHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIG5ld0FjY291bnQgPSBuZXcgTWV0aG9kKHtcbiAgICAgICAgbmFtZTogJ25ld0FjY291bnQnLFxuICAgICAgICBjYWxsOiAncGVyc29uYWxfbmV3QWNjb3VudCcsXG4gICAgICAgIHBhcmFtczogMSxcbiAgICAgICAgaW5wdXRGb3JtYXR0ZXI6IFtudWxsXVxuICAgIH0pO1xuXG4gICAgdmFyIHVubG9ja0FjY291bnQgPSBuZXcgTWV0aG9kKHtcbiAgICAgICAgbmFtZTogJ3VubG9ja0FjY291bnQnLFxuICAgICAgICBjYWxsOiAncGVyc29uYWxfdW5sb2NrQWNjb3VudCcsXG4gICAgICAgIHBhcmFtczogMyxcbiAgICAgICAgaW5wdXRGb3JtYXR0ZXI6IFtmb3JtYXR0ZXJzLmlucHV0QWRkcmVzc0Zvcm1hdHRlciwgbnVsbCwgbnVsbF1cbiAgICB9KTtcblxuICAgIHZhciB1bmxvY2tBY2NvdW50QW5kU2VuZFRyYW5zYWN0aW9uID0gbmV3IE1ldGhvZCh7XG4gICAgICAgIG5hbWU6ICd1bmxvY2tBY2NvdW50QW5kU2VuZFRyYW5zYWN0aW9uJywgLy8gc2VuZFRyYW5zYWN0aW9uXG4gICAgICAgIGNhbGw6ICdwZXJzb25hbF9zaWduQW5kU2VuZFRyYW5zYWN0aW9uJywgLy8gcGVyc29uYWxfc2VuZFRyYW5zYWN0aW9uXG4gICAgICAgIHBhcmFtczogMixcbiAgICAgICAgaW5wdXRGb3JtYXR0ZXI6IFtmb3JtYXR0ZXJzLmlucHV0VHJhbnNhY3Rpb25Gb3JtYXR0ZXIsIG51bGxdXG4gICAgfSk7XG5cbiAgICB2YXIgbG9ja0FjY291bnQgPSBuZXcgTWV0aG9kKHtcbiAgICAgICAgbmFtZTogJ2xvY2tBY2NvdW50JyxcbiAgICAgICAgY2FsbDogJ3BlcnNvbmFsX2xvY2tBY2NvdW50JyxcbiAgICAgICAgcGFyYW1zOiAxLFxuICAgICAgICBpbnB1dEZvcm1hdHRlcjogW2Zvcm1hdHRlcnMuaW5wdXRBZGRyZXNzRm9ybWF0dGVyXVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIFtcbiAgICAgICAgbmV3QWNjb3VudCxcbiAgICAgICAgdW5sb2NrQWNjb3VudCxcbiAgICAgICAgdW5sb2NrQWNjb3VudEFuZFNlbmRUcmFuc2FjdGlvbixcbiAgICAgICAgbG9ja0FjY291bnRcbiAgICBdO1xufTtcblxudmFyIHByb3BlcnRpZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgICAgbmV3IFByb3BlcnR5KHtcbiAgICAgICAgICAgIG5hbWU6ICdsaXN0QWNjb3VudHMnLFxuICAgICAgICAgICAgZ2V0dGVyOiAncGVyc29uYWxfbGlzdEFjY291bnRzJ1xuICAgICAgICB9KVxuICAgIF07XG59O1xuXG5cbm1vZHVsZS5leHBvcnRzID0gUGVyc29uYWw7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3dlYjMvbGliL3dlYjMvbWV0aG9kcy9wZXJzb25hbC5qcyIsIi8qXG4gICAgVGhpcyBmaWxlIGlzIHBhcnQgb2Ygd2ViMy5qcy5cblxuICAgIHdlYjMuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICAgIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICAgIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gICAgKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cblxuICAgIHdlYjMuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICAgIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAgICBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cblxuICAgIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICAgIGFsb25nIHdpdGggd2ViMy5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiovXG4vKiogQGZpbGUgc2hoLmpzXG4gKiBAYXV0aG9yczpcbiAqICAgTWFyZWsgS290ZXdpY3ogPG1hcmVrQGV0aGRldi5jb20+XG4gKiBAZGF0ZSAyMDE1XG4gKi9cblxudmFyIE1ldGhvZCA9IHJlcXVpcmUoJy4uL21ldGhvZCcpO1xudmFyIGZvcm1hdHRlcnMgPSByZXF1aXJlKCcuLi9mb3JtYXR0ZXJzJyk7XG52YXIgRmlsdGVyID0gcmVxdWlyZSgnLi4vZmlsdGVyJyk7XG52YXIgd2F0Y2hlcyA9IHJlcXVpcmUoJy4vd2F0Y2hlcycpO1xuXG52YXIgU2hoID0gZnVuY3Rpb24gKHdlYjMpIHtcbiAgICB0aGlzLl9yZXF1ZXN0TWFuYWdlciA9IHdlYjMuX3JlcXVlc3RNYW5hZ2VyO1xuXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgbWV0aG9kcygpLmZvckVhY2goZnVuY3Rpb24obWV0aG9kKSB7IFxuICAgICAgICBtZXRob2QuYXR0YWNoVG9PYmplY3Qoc2VsZik7XG4gICAgICAgIG1ldGhvZC5zZXRSZXF1ZXN0TWFuYWdlcihzZWxmLl9yZXF1ZXN0TWFuYWdlcik7XG4gICAgfSk7XG59O1xuXG5TaGgucHJvdG90eXBlLmZpbHRlciA9IGZ1bmN0aW9uIChmaWwsIGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIG5ldyBGaWx0ZXIodGhpcy5fcmVxdWVzdE1hbmFnZXIsIGZpbCwgd2F0Y2hlcy5zaGgoKSwgZm9ybWF0dGVycy5vdXRwdXRQb3N0Rm9ybWF0dGVyLCBjYWxsYmFjayk7XG59O1xuXG52YXIgbWV0aG9kcyA9IGZ1bmN0aW9uICgpIHsgXG5cbiAgICB2YXIgcG9zdCA9IG5ldyBNZXRob2Qoe1xuICAgICAgICBuYW1lOiAncG9zdCcsIFxuICAgICAgICBjYWxsOiAnc2hoX3Bvc3QnLCBcbiAgICAgICAgcGFyYW1zOiAxLFxuICAgICAgICBpbnB1dEZvcm1hdHRlcjogW2Zvcm1hdHRlcnMuaW5wdXRQb3N0Rm9ybWF0dGVyXVxuICAgIH0pO1xuXG4gICAgdmFyIG5ld0lkZW50aXR5ID0gbmV3IE1ldGhvZCh7XG4gICAgICAgIG5hbWU6ICduZXdJZGVudGl0eScsXG4gICAgICAgIGNhbGw6ICdzaGhfbmV3SWRlbnRpdHknLFxuICAgICAgICBwYXJhbXM6IDBcbiAgICB9KTtcblxuICAgIHZhciBoYXNJZGVudGl0eSA9IG5ldyBNZXRob2Qoe1xuICAgICAgICBuYW1lOiAnaGFzSWRlbnRpdHknLFxuICAgICAgICBjYWxsOiAnc2hoX2hhc0lkZW50aXR5JyxcbiAgICAgICAgcGFyYW1zOiAxXG4gICAgfSk7XG5cbiAgICB2YXIgbmV3R3JvdXAgPSBuZXcgTWV0aG9kKHtcbiAgICAgICAgbmFtZTogJ25ld0dyb3VwJyxcbiAgICAgICAgY2FsbDogJ3NoaF9uZXdHcm91cCcsXG4gICAgICAgIHBhcmFtczogMFxuICAgIH0pO1xuXG4gICAgdmFyIGFkZFRvR3JvdXAgPSBuZXcgTWV0aG9kKHtcbiAgICAgICAgbmFtZTogJ2FkZFRvR3JvdXAnLFxuICAgICAgICBjYWxsOiAnc2hoX2FkZFRvR3JvdXAnLFxuICAgICAgICBwYXJhbXM6IDBcbiAgICB9KTtcblxuICAgIHJldHVybiBbXG4gICAgICAgIHBvc3QsXG4gICAgICAgIG5ld0lkZW50aXR5LFxuICAgICAgICBoYXNJZGVudGl0eSxcbiAgICAgICAgbmV3R3JvdXAsXG4gICAgICAgIGFkZFRvR3JvdXBcbiAgICBdO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBTaGg7XG5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vd2ViMy9saWIvd2ViMy9tZXRob2RzL3NoaC5qcyIsIi8qXG4gICAgVGhpcyBmaWxlIGlzIHBhcnQgb2Ygd2ViMy5qcy5cblxuICAgIHdlYjMuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICAgIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICAgIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gICAgKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cblxuICAgIHdlYjMuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICAgIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAgICBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cblxuICAgIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICAgIGFsb25nIHdpdGggd2ViMy5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiovXG4vKiogXG4gKiBAZmlsZSBuYW1lcmVnLmpzXG4gKiBAYXV0aG9yIE1hcmVrIEtvdGV3aWN6IDxtYXJla0BldGhkZXYuY29tPlxuICogQGRhdGUgMjAxNVxuICovXG5cbnZhciBnbG9iYWxSZWdpc3RyYXJBYmkgPSByZXF1aXJlKCcuLi9jb250cmFjdHMvR2xvYmFsUmVnaXN0cmFyLmpzb24nKTtcbnZhciBpY2FwUmVnaXN0cmFyQWJpPSByZXF1aXJlKCcuLi9jb250cmFjdHMvSUNBUFJlZ2lzdHJhci5qc29uJyk7XG5cbnZhciBnbG9iYWxOYW1lcmVnQWRkcmVzcyA9ICcweGM2ZDlkMmNkNDQ5YTc1NGM0OTQyNjRlMTgwOWM1MGUzNGQ2NDU2MmInO1xudmFyIGljYXBOYW1lcmVnQWRkcmVzcyA9ICcweGExYTExMWJjMDc0YzljZmE3ODFmMGMzOGU2M2JkNTFjOTFiOGFmMDAnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBnbG9iYWw6IHtcbiAgICAgICAgYWJpOiBnbG9iYWxSZWdpc3RyYXJBYmksXG4gICAgICAgIGFkZHJlc3M6IGdsb2JhbE5hbWVyZWdBZGRyZXNzXG4gICAgfSxcbiAgICBpY2FwOiB7XG4gICAgICAgIGFiaTogaWNhcFJlZ2lzdHJhckFiaSxcbiAgICAgICAgYWRkcmVzczogaWNhcE5hbWVyZWdBZGRyZXNzXG4gICAgfVxufTtcblxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi93ZWIzL2xpYi93ZWIzL25hbWVyZWcuanMiLCIvKlxuICAgIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIHdlYjMuanMuXG5cbiAgICB3ZWIzLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAgICBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAgICB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICAgIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG5cbiAgICB3ZWIzLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gICAgYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAgICBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gICAgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG5cbiAgICBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAgICBhbG9uZyB3aXRoIHdlYjMuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4qL1xuLyoqIFxuICogQGZpbGUgcmVxdWVzdG1hbmFnZXIuanNcbiAqIEBhdXRob3IgSmVmZnJleSBXaWxja2UgPGplZmZAZXRoZGV2LmNvbT5cbiAqIEBhdXRob3IgTWFyZWsgS290ZXdpY3ogPG1hcmVrQGV0aGRldi5jb20+XG4gKiBAYXV0aG9yIE1hcmlhbiBPYW5jZWEgPG1hcmlhbkBldGhkZXYuY29tPlxuICogQGF1dGhvciBGYWJpYW4gVm9nZWxzdGVsbGVyIDxmYWJpYW5AZXRoZGV2LmNvbT5cbiAqIEBhdXRob3IgR2F2IFdvb2QgPGdAZXRoZGV2LmNvbT5cbiAqIEBkYXRlIDIwMTRcbiAqL1xuXG52YXIgSnNvbnJwYyA9IHJlcXVpcmUoJy4vanNvbnJwYycpO1xudmFyIHV0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMvdXRpbHMnKTtcbnZhciBjID0gcmVxdWlyZSgnLi4vdXRpbHMvY29uZmlnJyk7XG52YXIgZXJyb3JzID0gcmVxdWlyZSgnLi9lcnJvcnMnKTtcblxuLyoqXG4gKiBJdCdzIHJlc3BvbnNpYmxlIGZvciBwYXNzaW5nIG1lc3NhZ2VzIHRvIHByb3ZpZGVyc1xuICogSXQncyBhbHNvIHJlc3BvbnNpYmxlIGZvciBwb2xsaW5nIHRoZSBldGhlcmV1bSBub2RlIGZvciBpbmNvbWluZyBtZXNzYWdlc1xuICogRGVmYXVsdCBwb2xsIHRpbWVvdXQgaXMgMSBzZWNvbmRcbiAqIFNpbmdsZXRvblxuICovXG52YXIgUmVxdWVzdE1hbmFnZXIgPSBmdW5jdGlvbiAocHJvdmlkZXIpIHtcbiAgICB0aGlzLnByb3ZpZGVyID0gcHJvdmlkZXI7XG4gICAgdGhpcy5wb2xscyA9IHt9O1xuICAgIHRoaXMudGltZW91dCA9IG51bGw7XG59O1xuXG4vKipcbiAqIFNob3VsZCBiZSB1c2VkIHRvIHN5bmNocm9ub3VzbHkgc2VuZCByZXF1ZXN0XG4gKlxuICogQG1ldGhvZCBzZW5kXG4gKiBAcGFyYW0ge09iamVjdH0gZGF0YVxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5SZXF1ZXN0TWFuYWdlci5wcm90b3R5cGUuc2VuZCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgaWYgKCF0aGlzLnByb3ZpZGVyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3JzLkludmFsaWRQcm92aWRlcigpKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdmFyIHBheWxvYWQgPSBKc29ucnBjLnRvUGF5bG9hZChkYXRhLm1ldGhvZCwgZGF0YS5wYXJhbXMpO1xuICAgIHZhciByZXN1bHQgPSB0aGlzLnByb3ZpZGVyLnNlbmQocGF5bG9hZCk7XG5cbiAgICBpZiAoIUpzb25ycGMuaXNWYWxpZFJlc3BvbnNlKHJlc3VsdCkpIHtcbiAgICAgICAgdGhyb3cgZXJyb3JzLkludmFsaWRSZXNwb25zZShyZXN1bHQpO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQucmVzdWx0O1xufTtcblxuLyoqXG4gKiBTaG91bGQgYmUgdXNlZCB0byBhc3luY2hyb25vdXNseSBzZW5kIHJlcXVlc3RcbiAqXG4gKiBAbWV0aG9kIHNlbmRBc3luY1xuICogQHBhcmFtIHtPYmplY3R9IGRhdGFcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gKi9cblJlcXVlc3RNYW5hZ2VyLnByb3RvdHlwZS5zZW5kQXN5bmMgPSBmdW5jdGlvbiAoZGF0YSwgY2FsbGJhY2spIHtcbiAgICBpZiAoIXRoaXMucHJvdmlkZXIpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycm9ycy5JbnZhbGlkUHJvdmlkZXIoKSk7XG4gICAgfVxuXG4gICAgdmFyIHBheWxvYWQgPSBKc29ucnBjLnRvUGF5bG9hZChkYXRhLm1ldGhvZCwgZGF0YS5wYXJhbXMpO1xuICAgIHRoaXMucHJvdmlkZXIuc2VuZEFzeW5jKHBheWxvYWQsIGZ1bmN0aW9uIChlcnIsIHJlc3VsdCkge1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYgKCFKc29ucnBjLmlzVmFsaWRSZXNwb25zZShyZXN1bHQpKSB7XG4gICAgICAgICAgICByZXR1cm4gY2FsbGJhY2soZXJyb3JzLkludmFsaWRSZXNwb25zZShyZXN1bHQpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNhbGxiYWNrKG51bGwsIHJlc3VsdC5yZXN1bHQpO1xuICAgIH0pO1xufTtcblxuLyoqXG4gKiBTaG91bGQgYmUgY2FsbGVkIHRvIGFzeW5jaHJvbm91c2x5IHNlbmQgYmF0Y2ggcmVxdWVzdFxuICpcbiAqIEBtZXRob2Qgc2VuZEJhdGNoXG4gKiBAcGFyYW0ge0FycmF5fSBiYXRjaCBkYXRhXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICovXG5SZXF1ZXN0TWFuYWdlci5wcm90b3R5cGUuc2VuZEJhdGNoID0gZnVuY3Rpb24gKGRhdGEsIGNhbGxiYWNrKSB7XG4gICAgaWYgKCF0aGlzLnByb3ZpZGVyKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhlcnJvcnMuSW52YWxpZFByb3ZpZGVyKCkpO1xuICAgIH1cblxuICAgIHZhciBwYXlsb2FkID0gSnNvbnJwYy50b0JhdGNoUGF5bG9hZChkYXRhKTtcblxuICAgIHRoaXMucHJvdmlkZXIuc2VuZEFzeW5jKHBheWxvYWQsIGZ1bmN0aW9uIChlcnIsIHJlc3VsdHMpIHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXV0aWxzLmlzQXJyYXkocmVzdWx0cykpIHtcbiAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhlcnJvcnMuSW52YWxpZFJlc3BvbnNlKHJlc3VsdHMpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNhbGxiYWNrKGVyciwgcmVzdWx0cyk7XG4gICAgfSk7IFxufTtcblxuLyoqXG4gKiBTaG91bGQgYmUgdXNlZCB0byBzZXQgcHJvdmlkZXIgb2YgcmVxdWVzdCBtYW5hZ2VyXG4gKlxuICogQG1ldGhvZCBzZXRQcm92aWRlclxuICogQHBhcmFtIHtPYmplY3R9XG4gKi9cblJlcXVlc3RNYW5hZ2VyLnByb3RvdHlwZS5zZXRQcm92aWRlciA9IGZ1bmN0aW9uIChwKSB7XG4gICAgdGhpcy5wcm92aWRlciA9IHA7XG59O1xuXG4vKipcbiAqIFNob3VsZCBiZSB1c2VkIHRvIHN0YXJ0IHBvbGxpbmdcbiAqXG4gKiBAbWV0aG9kIHN0YXJ0UG9sbGluZ1xuICogQHBhcmFtIHtPYmplY3R9IGRhdGFcbiAqIEBwYXJhbSB7TnVtYmVyfSBwb2xsSWRcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSB1bmluc3RhbGxcbiAqXG4gKiBAdG9kbyBjbGVhbnVwIG51bWJlciBvZiBwYXJhbXNcbiAqL1xuUmVxdWVzdE1hbmFnZXIucHJvdG90eXBlLnN0YXJ0UG9sbGluZyA9IGZ1bmN0aW9uIChkYXRhLCBwb2xsSWQsIGNhbGxiYWNrLCB1bmluc3RhbGwpIHtcbiAgICB0aGlzLnBvbGxzW3BvbGxJZF0gPSB7ZGF0YTogZGF0YSwgaWQ6IHBvbGxJZCwgY2FsbGJhY2s6IGNhbGxiYWNrLCB1bmluc3RhbGw6IHVuaW5zdGFsbH07XG5cblxuICAgIC8vIHN0YXJ0IHBvbGxpbmdcbiAgICBpZiAoIXRoaXMudGltZW91dCkge1xuICAgICAgICB0aGlzLnBvbGwoKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIFNob3VsZCBiZSB1c2VkIHRvIHN0b3AgcG9sbGluZyBmb3IgZmlsdGVyIHdpdGggZ2l2ZW4gaWRcbiAqXG4gKiBAbWV0aG9kIHN0b3BQb2xsaW5nXG4gKiBAcGFyYW0ge051bWJlcn0gcG9sbElkXG4gKi9cblJlcXVlc3RNYW5hZ2VyLnByb3RvdHlwZS5zdG9wUG9sbGluZyA9IGZ1bmN0aW9uIChwb2xsSWQpIHtcbiAgICBkZWxldGUgdGhpcy5wb2xsc1twb2xsSWRdO1xuXG4gICAgLy8gc3RvcCBwb2xsaW5nXG4gICAgaWYoT2JqZWN0LmtleXModGhpcy5wb2xscykubGVuZ3RoID09PSAwICYmIHRoaXMudGltZW91dCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KTtcbiAgICAgICAgdGhpcy50aW1lb3V0ID0gbnVsbDtcbiAgICB9XG59O1xuXG4vKipcbiAqIFNob3VsZCBiZSBjYWxsZWQgdG8gcmVzZXQgdGhlIHBvbGxpbmcgbWVjaGFuaXNtIG9mIHRoZSByZXF1ZXN0IG1hbmFnZXJcbiAqXG4gKiBAbWV0aG9kIHJlc2V0XG4gKi9cblJlcXVlc3RNYW5hZ2VyLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uIChrZWVwSXNTeW5jaW5nKSB7XG4gICAgLypqc2hpbnQgbWF4Y29tcGxleGl0eTo1ICovXG5cbiAgICBmb3IgKHZhciBrZXkgaW4gdGhpcy5wb2xscykge1xuICAgICAgICAvLyByZW1vdmUgYWxsIHBvbGxzLCBleGNlcHQgc3luYyBwb2xscyxcbiAgICAgICAgLy8gdGhleSBuZWVkIHRvIGJlIHJlbW92ZWQgbWFudWFsbHkgYnkgY2FsbGluZyBzeW5jaW5nLnN0b3BXYXRjaGluZygpXG4gICAgICAgIGlmKCFrZWVwSXNTeW5jaW5nIHx8IGtleS5pbmRleE9mKCdzeW5jUG9sbF8nKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMucG9sbHNba2V5XS51bmluc3RhbGwoKTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnBvbGxzW2tleV07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBzdG9wIHBvbGxpbmdcbiAgICBpZihPYmplY3Qua2V5cyh0aGlzLnBvbGxzKS5sZW5ndGggPT09IDAgJiYgdGhpcy50aW1lb3V0KSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpO1xuICAgICAgICB0aGlzLnRpbWVvdXQgPSBudWxsO1xuICAgIH1cbn07XG5cbi8qKlxuICogU2hvdWxkIGJlIGNhbGxlZCB0byBwb2xsIGZvciBjaGFuZ2VzIG9uIGZpbHRlciB3aXRoIGdpdmVuIGlkXG4gKlxuICogQG1ldGhvZCBwb2xsXG4gKi9cblJlcXVlc3RNYW5hZ2VyLnByb3RvdHlwZS5wb2xsID0gZnVuY3Rpb24gKCkge1xuICAgIC8qanNoaW50IG1heGNvbXBsZXhpdHk6IDYgKi9cbiAgICB0aGlzLnRpbWVvdXQgPSBzZXRUaW1lb3V0KHRoaXMucG9sbC5iaW5kKHRoaXMpLCBjLkVUSF9QT0xMSU5HX1RJTUVPVVQpO1xuXG4gICAgaWYgKE9iamVjdC5rZXlzKHRoaXMucG9sbHMpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLnByb3ZpZGVyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3JzLkludmFsaWRQcm92aWRlcigpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBwb2xsc0RhdGEgPSBbXTtcbiAgICB2YXIgcG9sbHNJZHMgPSBbXTtcbiAgICBmb3IgKHZhciBrZXkgaW4gdGhpcy5wb2xscykge1xuICAgICAgICBwb2xsc0RhdGEucHVzaCh0aGlzLnBvbGxzW2tleV0uZGF0YSk7XG4gICAgICAgIHBvbGxzSWRzLnB1c2goa2V5KTtcbiAgICB9XG5cbiAgICBpZiAocG9sbHNEYXRhLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHBheWxvYWQgPSBKc29ucnBjLnRvQmF0Y2hQYXlsb2FkKHBvbGxzRGF0YSk7XG4gICAgXG4gICAgLy8gbWFwIHRoZSByZXF1ZXN0IGlkIHRvIHRoZXkgcG9sbCBpZFxuICAgIHZhciBwb2xsc0lkTWFwID0ge307XG4gICAgcGF5bG9hZC5mb3JFYWNoKGZ1bmN0aW9uKGxvYWQsIGluZGV4KXtcbiAgICAgICAgcG9sbHNJZE1hcFtsb2FkLmlkXSA9IHBvbGxzSWRzW2luZGV4XTtcbiAgICB9KTtcblxuXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHRoaXMucHJvdmlkZXIuc2VuZEFzeW5jKHBheWxvYWQsIGZ1bmN0aW9uIChlcnJvciwgcmVzdWx0cykge1xuXG5cbiAgICAgICAgLy8gVE9ETzogY29uc29sZSBsb2c/XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF1dGlscy5pc0FycmF5KHJlc3VsdHMpKSB7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcnMuSW52YWxpZFJlc3BvbnNlKHJlc3VsdHMpO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdHMubWFwKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgIHZhciBpZCA9IHBvbGxzSWRNYXBbcmVzdWx0LmlkXTtcblxuICAgICAgICAgICAgLy8gbWFrZSBzdXJlIHRoZSBmaWx0ZXIgaXMgc3RpbGwgaW5zdGFsbGVkIGFmdGVyIGFycml2YWwgb2YgdGhlIHJlcXVlc3RcbiAgICAgICAgICAgIGlmIChzZWxmLnBvbGxzW2lkXSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5jYWxsYmFjayA9IHNlbGYucG9sbHNbaWRdLmNhbGxiYWNrO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0pLmZpbHRlcihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICByZXR1cm4gISFyZXN1bHQ7IFxuICAgICAgICB9KS5maWx0ZXIoZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgdmFyIHZhbGlkID0gSnNvbnJwYy5pc1ZhbGlkUmVzcG9uc2UocmVzdWx0KTtcbiAgICAgICAgICAgIGlmICghdmFsaWQpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQuY2FsbGJhY2soZXJyb3JzLkludmFsaWRSZXNwb25zZShyZXN1bHQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB2YWxpZDtcbiAgICAgICAgfSkuZm9yRWFjaChmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICByZXN1bHQuY2FsbGJhY2sobnVsbCwgcmVzdWx0LnJlc3VsdCk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBSZXF1ZXN0TWFuYWdlcjtcblxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi93ZWIzL2xpYi93ZWIzL3JlcXVlc3RtYW5hZ2VyLmpzIiwiXG5cbnZhciBTZXR0aW5ncyA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmRlZmF1bHRCbG9jayA9ICdsYXRlc3QnO1xuICAgIHRoaXMuZGVmYXVsdEFjY291bnQgPSB1bmRlZmluZWQ7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFNldHRpbmdzO1xuXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3dlYjMvbGliL3dlYjMvc2V0dGluZ3MuanMiLCIvKlxuICAgIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIHdlYjMuanMuXG5cbiAgICB3ZWIzLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAgICBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAgICB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICAgIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG5cbiAgICB3ZWIzLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gICAgYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAgICBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gICAgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG5cbiAgICBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAgICBhbG9uZyB3aXRoIHdlYjMuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4qL1xuLyoqIEBmaWxlIHN5bmNpbmcuanNcbiAqIEBhdXRob3JzOlxuICogICBGYWJpYW4gVm9nZWxzdGVsbGVyIDxmYWJpYW5AZXRoZGV2LmNvbT5cbiAqIEBkYXRlIDIwMTVcbiAqL1xuXG52YXIgZm9ybWF0dGVycyA9IHJlcXVpcmUoJy4vZm9ybWF0dGVycycpO1xudmFyIHV0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMvdXRpbHMnKTtcblxudmFyIGNvdW50ID0gMTtcblxuLyoqXG5BZGRzIHRoZSBjYWxsYmFjayBhbmQgc2V0cyB1cCB0aGUgbWV0aG9kcywgdG8gaXRlcmF0ZSBvdmVyIHRoZSByZXN1bHRzLlxuXG5AbWV0aG9kIHBvbGxTeW5jaW5nXG5AcGFyYW0ge09iamVjdH0gc2VsZlxuKi9cbnZhciBwb2xsU3luY2luZyA9IGZ1bmN0aW9uKHNlbGYpIHtcblxuICAgIHZhciBvbk1lc3NhZ2UgPSBmdW5jdGlvbiAoZXJyb3IsIHN5bmMpIHtcbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gc2VsZi5jYWxsYmFja3MuZm9yRWFjaChmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnJvcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmKHV0aWxzLmlzT2JqZWN0KHN5bmMpICYmIHN5bmMuc3RhcnRpbmdCbG9jaylcbiAgICAgICAgICAgIHN5bmMgPSBmb3JtYXR0ZXJzLm91dHB1dFN5bmNpbmdGb3JtYXR0ZXIoc3luYyk7XG5cbiAgICAgICAgc2VsZi5jYWxsYmFja3MuZm9yRWFjaChmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgIGlmIChzZWxmLmxhc3RTeW5jU3RhdGUgIT09IHN5bmMpIHtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBjYWxsIHRoZSBjYWxsYmFjayB3aXRoIHRydWUgZmlyc3Qgc28gdGhlIGFwcCBjYW4gc3RvcCBhbnl0aGluZywgYmVmb3JlIHJlY2VpdmluZyB0aGUgc3luYyBkYXRhXG4gICAgICAgICAgICAgICAgaWYoIXNlbGYubGFzdFN5bmNTdGF0ZSAmJiB1dGlscy5pc09iamVjdChzeW5jKSlcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sobnVsbCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gY2FsbCBvbiB0aGUgbmV4dCBDUFUgY3ljbGUsIHNvIHRoZSBhY3Rpb25zIG9mIHRoZSBzeW5jIHN0b3AgY2FuIGJlIHByb2Nlc3NlcyBmaXJzdFxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIHN5bmMpO1xuICAgICAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHNlbGYubGFzdFN5bmNTdGF0ZSA9IHN5bmM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBzZWxmLnJlcXVlc3RNYW5hZ2VyLnN0YXJ0UG9sbGluZyh7XG4gICAgICAgIG1ldGhvZDogJ2V0aF9zeW5jaW5nJyxcbiAgICAgICAgcGFyYW1zOiBbXSxcbiAgICB9LCBzZWxmLnBvbGxJZCwgb25NZXNzYWdlLCBzZWxmLnN0b3BXYXRjaGluZy5iaW5kKHNlbGYpKTtcblxufTtcblxudmFyIElzU3luY2luZyA9IGZ1bmN0aW9uIChyZXF1ZXN0TWFuYWdlciwgY2FsbGJhY2spIHtcbiAgICB0aGlzLnJlcXVlc3RNYW5hZ2VyID0gcmVxdWVzdE1hbmFnZXI7XG4gICAgdGhpcy5wb2xsSWQgPSAnc3luY1BvbGxfJysgY291bnQrKztcbiAgICB0aGlzLmNhbGxiYWNrcyA9IFtdO1xuICAgIHRoaXMuYWRkQ2FsbGJhY2soY2FsbGJhY2spO1xuICAgIHRoaXMubGFzdFN5bmNTdGF0ZSA9IGZhbHNlO1xuICAgIHBvbGxTeW5jaW5nKHRoaXMpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG5Jc1N5bmNpbmcucHJvdG90eXBlLmFkZENhbGxiYWNrID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgaWYoY2FsbGJhY2spXG4gICAgICAgIHRoaXMuY2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuICAgIHJldHVybiB0aGlzO1xufTtcblxuSXNTeW5jaW5nLnByb3RvdHlwZS5zdG9wV2F0Y2hpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5yZXF1ZXN0TWFuYWdlci5zdG9wUG9sbGluZyh0aGlzLnBvbGxJZCk7XG4gICAgdGhpcy5jYWxsYmFja3MgPSBbXTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gSXNTeW5jaW5nO1xuXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3dlYjMvbGliL3dlYjMvc3luY2luZy5qcyIsIi8qXG4gICAgVGhpcyBmaWxlIGlzIHBhcnQgb2Ygd2ViMy5qcy5cblxuICAgIHdlYjMuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICAgIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICAgIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gICAgKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cblxuICAgIHdlYjMuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICAgIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAgICBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cblxuICAgIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICAgIGFsb25nIHdpdGggd2ViMy5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiovXG4vKiogXG4gKiBAZmlsZSB0cmFuc2Zlci5qc1xuICogQGF1dGhvciBNYXJlayBLb3Rld2ljeiA8bWFyZWtAZXRoZGV2LmNvbT5cbiAqIEBkYXRlIDIwMTVcbiAqL1xuXG52YXIgSWJhbiA9IHJlcXVpcmUoJy4vaWJhbicpO1xudmFyIGV4Y2hhbmdlQWJpID0gcmVxdWlyZSgnLi4vY29udHJhY3RzL1NtYXJ0RXhjaGFuZ2UuanNvbicpO1xuXG4vKipcbiAqIFNob3VsZCBiZSB1c2VkIHRvIG1ha2UgSWJhbiB0cmFuc2ZlclxuICpcbiAqIEBtZXRob2QgdHJhbnNmZXJcbiAqIEBwYXJhbSB7U3RyaW5nfSBmcm9tXG4gKiBAcGFyYW0ge1N0cmluZ30gdG8gaWJhblxuICogQHBhcmFtIHtWYWx1ZX0gdmFsdWUgdG8gYmUgdHJhbmZlcmVkXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjaywgY2FsbGJhY2tcbiAqL1xudmFyIHRyYW5zZmVyID0gZnVuY3Rpb24gKGV0aCwgZnJvbSwgdG8sIHZhbHVlLCBjYWxsYmFjaykge1xuICAgIHZhciBpYmFuID0gbmV3IEliYW4odG8pOyBcbiAgICBpZiAoIWliYW4uaXNWYWxpZCgpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBpYmFuIGFkZHJlc3MnKTtcbiAgICB9XG5cbiAgICBpZiAoaWJhbi5pc0RpcmVjdCgpKSB7XG4gICAgICAgIHJldHVybiB0cmFuc2ZlclRvQWRkcmVzcyhldGgsIGZyb20sIGliYW4uYWRkcmVzcygpLCB2YWx1ZSwgY2FsbGJhY2spO1xuICAgIH1cbiAgICBcbiAgICBpZiAoIWNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBhZGRyZXNzID0gZXRoLmljYXBOYW1lcmVnKCkuYWRkcihpYmFuLmluc3RpdHV0aW9uKCkpO1xuICAgICAgICByZXR1cm4gZGVwb3NpdChldGgsIGZyb20sIGFkZHJlc3MsIHZhbHVlLCBpYmFuLmNsaWVudCgpKTtcbiAgICB9XG5cbiAgICBldGguaWNhcE5hbWVyZWcoKS5hZGRyKGliYW4uaW5zdGl0dXRpb24oKSwgZnVuY3Rpb24gKGVyciwgYWRkcmVzcykge1xuICAgICAgICByZXR1cm4gZGVwb3NpdChldGgsIGZyb20sIGFkZHJlc3MsIHZhbHVlLCBpYmFuLmNsaWVudCgpLCBjYWxsYmFjayk7XG4gICAgfSk7XG4gICAgXG59O1xuXG4vKipcbiAqIFNob3VsZCBiZSB1c2VkIHRvIHRyYW5zZmVyIGZ1bmRzIHRvIGNlcnRhaW4gYWRkcmVzc1xuICpcbiAqIEBtZXRob2QgdHJhbnNmZXJUb0FkZHJlc3NcbiAqIEBwYXJhbSB7U3RyaW5nfSBmcm9tXG4gKiBAcGFyYW0ge1N0cmluZ30gdG9cbiAqIEBwYXJhbSB7VmFsdWV9IHZhbHVlIHRvIGJlIHRyYW5mZXJlZFxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2ssIGNhbGxiYWNrXG4gKi9cbnZhciB0cmFuc2ZlclRvQWRkcmVzcyA9IGZ1bmN0aW9uIChldGgsIGZyb20sIHRvLCB2YWx1ZSwgY2FsbGJhY2spIHtcbiAgICByZXR1cm4gZXRoLnNlbmRUcmFuc2FjdGlvbih7XG4gICAgICAgIGFkZHJlc3M6IHRvLFxuICAgICAgICBmcm9tOiBmcm9tLFxuICAgICAgICB2YWx1ZTogdmFsdWVcbiAgICB9LCBjYWxsYmFjayk7XG59O1xuXG4vKipcbiAqIFNob3VsZCBiZSB1c2VkIHRvIGRlcG9zaXQgZnVuZHMgdG8gZ2VuZXJpYyBFeGNoYW5nZSBjb250cmFjdCAobXVzdCBpbXBsZW1lbnQgZGVwb3NpdChieXRlczMyKSBtZXRob2QhKVxuICpcbiAqIEBtZXRob2QgZGVwb3NpdFxuICogQHBhcmFtIHtTdHJpbmd9IGZyb21cbiAqIEBwYXJhbSB7U3RyaW5nfSB0b1xuICogQHBhcmFtIHtWYWx1ZX0gdmFsdWUgdG8gYmUgdHJhbnNmZXJlZFxuICogQHBhcmFtIHtTdHJpbmd9IGNsaWVudCB1bmlxdWUgaWRlbnRpZmllclxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2ssIGNhbGxiYWNrXG4gKi9cbnZhciBkZXBvc2l0ID0gZnVuY3Rpb24gKGV0aCwgZnJvbSwgdG8sIHZhbHVlLCBjbGllbnQsIGNhbGxiYWNrKSB7XG4gICAgdmFyIGFiaSA9IGV4Y2hhbmdlQWJpO1xuICAgIHJldHVybiBldGguY29udHJhY3QoYWJpKS5hdCh0bykuZGVwb3NpdChjbGllbnQsIHtcbiAgICAgICAgZnJvbTogZnJvbSxcbiAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgfSwgY2FsbGJhY2spO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB0cmFuc2ZlcjtcblxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi93ZWIzL2xpYi93ZWIzL3RyYW5zZmVyLmpzIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihtb2R1bGUpIHtcclxuXHRpZighbW9kdWxlLndlYnBhY2tQb2x5ZmlsbCkge1xyXG5cdFx0bW9kdWxlLmRlcHJlY2F0ZSA9IGZ1bmN0aW9uKCkge307XHJcblx0XHRtb2R1bGUucGF0aHMgPSBbXTtcclxuXHRcdC8vIG1vZHVsZS5wYXJlbnQgPSB1bmRlZmluZWQgYnkgZGVmYXVsdFxyXG5cdFx0bW9kdWxlLmNoaWxkcmVuID0gW107XHJcblx0XHRtb2R1bGUud2VicGFja1BvbHlmaWxsID0gMTtcclxuXHR9XHJcblx0cmV0dXJuIG1vZHVsZTtcclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gKHdlYnBhY2spL2J1aWxkaW4vbW9kdWxlLmpzIiwidmFyIGFiaV9iaW4gPSB7fTtcbmFiaV9iaW4uYWJpID0ge1xuICBcIlJTQ19BZGRyZXNzUmVzb2x2ZXJcIjogW1xuICAgIHtcbiAgICAgIFwiY29uc3RhbnRcIjogdHJ1ZSxcbiAgICAgIFwiaW5wdXRzXCI6IFtcbiAgICAgICAge1xuICAgICAgICAgIFwibmFtZVwiOiBcImhhc2hcIixcbiAgICAgICAgICBcInR5cGVcIjogXCJieXRlczMyXCJcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIFwibmFtZVwiOiBcImdldEFkZHJlc3NcIixcbiAgICAgIFwib3V0cHV0c1wiOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBcIm5hbWVcIjogXCJfb2FkZHJcIixcbiAgICAgICAgICBcInR5cGVcIjogXCJhZGRyZXNzXCJcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIFwicGF5YWJsZVwiOiBmYWxzZSxcbiAgICAgIFwidHlwZVwiOiBcImZ1bmN0aW9uXCJcbiAgICB9LCB7XG4gICAgICBcImNvbnN0YW50XCI6IHRydWUsXG4gICAgICBcImlucHV0c1wiOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgICAgICBcInR5cGVcIjogXCJieXRlczMyXCJcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIFwibmFtZVwiOiBcImFkZHJlc3Nlc1wiLFxuICAgICAgXCJvdXRwdXRzXCI6IFtcbiAgICAgICAge1xuICAgICAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgICAgIFwidHlwZVwiOiBcImFkZHJlc3NcIlxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgXCJwYXlhYmxlXCI6IGZhbHNlLFxuICAgICAgXCJ0eXBlXCI6IFwiZnVuY3Rpb25cIlxuICAgIH0sIHtcbiAgICAgIFwiY29uc3RhbnRcIjogdHJ1ZSxcbiAgICAgIFwiaW5wdXRzXCI6IFtdLFxuICAgICAgXCJuYW1lXCI6IFwib3duZXJcIixcbiAgICAgIFwib3V0cHV0c1wiOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgICAgICBcInR5cGVcIjogXCJhZGRyZXNzXCJcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIFwicGF5YWJsZVwiOiBmYWxzZSxcbiAgICAgIFwidHlwZVwiOiBcImZ1bmN0aW9uXCJcbiAgICB9LCB7XG4gICAgICBcImNvbnN0YW50XCI6IGZhbHNlLFxuICAgICAgXCJpbnB1dHNcIjogW1xuICAgICAgICB7XG4gICAgICAgICAgXCJuYW1lXCI6IFwiX25ld293bmVyXCIsXG4gICAgICAgICAgXCJ0eXBlXCI6IFwiYWRkcmVzc1wiXG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBcIm5hbWVcIjogXCJjaGFuZ2VPd25lclwiLFxuICAgICAgXCJvdXRwdXRzXCI6IFtdLFxuICAgICAgXCJwYXlhYmxlXCI6IGZhbHNlLFxuICAgICAgXCJ0eXBlXCI6IFwiZnVuY3Rpb25cIlxuICAgIH0sIHtcbiAgICAgIFwiY29uc3RhbnRcIjogZmFsc2UsXG4gICAgICBcImlucHV0c1wiOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBcIm5hbWVcIjogXCJoYXNoXCIsXG4gICAgICAgICAgXCJ0eXBlXCI6IFwiYnl0ZXMzMlwiXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBcIm5hbWVcIjogXCJfbmV3YWRkclwiLFxuICAgICAgICAgIFwidHlwZVwiOiBcImFkZHJlc3NcIlxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgXCJuYW1lXCI6IFwic2V0QWRkclwiLFxuICAgICAgXCJvdXRwdXRzXCI6IFtdLFxuICAgICAgXCJwYXlhYmxlXCI6IGZhbHNlLFxuICAgICAgXCJ0eXBlXCI6IFwiZnVuY3Rpb25cIlxuICAgIH0sIHtcbiAgICAgIFwiaW5wdXRzXCI6IFtdLFxuICAgICAgXCJwYXlhYmxlXCI6IGZhbHNlLFxuICAgICAgXCJ0eXBlXCI6IFwiY29uc3RydWN0b3JcIlxuICAgIH1cbiAgXSxcbiAgXCJSU0NfVG9rZW5cIjogW1xuICAgIHtcbiAgICAgIFwiY29uc3RhbnRcIjogdHJ1ZSxcbiAgICAgIFwiaW5wdXRzXCI6IFtdLFxuICAgICAgXCJuYW1lXCI6IFwibmFtZVwiLFxuICAgICAgXCJvdXRwdXRzXCI6IFtcbiAgICAgICAge1xuICAgICAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiXG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBcInBheWFibGVcIjogZmFsc2UsXG4gICAgICBcInR5cGVcIjogXCJmdW5jdGlvblwiXG4gICAgfSwge1xuICAgICAgXCJjb25zdGFudFwiOiBmYWxzZSxcbiAgICAgIFwiaW5wdXRzXCI6IFtcbiAgICAgICAge1xuICAgICAgICAgIFwibmFtZVwiOiBcIl9zcGVuZGVyXCIsXG4gICAgICAgICAgXCJ0eXBlXCI6IFwiYWRkcmVzc1wiXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBcIm5hbWVcIjogXCJfdmFsdWVcIixcbiAgICAgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIFwibmFtZVwiOiBcImFwcHJvdmVcIixcbiAgICAgIFwib3V0cHV0c1wiOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBcIm5hbWVcIjogXCJzdWNjZXNzXCIsXG4gICAgICAgICAgXCJ0eXBlXCI6IFwiYm9vbFwiXG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBcInBheWFibGVcIjogZmFsc2UsXG4gICAgICBcInR5cGVcIjogXCJmdW5jdGlvblwiXG4gICAgfSwge1xuICAgICAgXCJjb25zdGFudFwiOiBmYWxzZSxcbiAgICAgIFwiaW5wdXRzXCI6IFtcbiAgICAgICAge1xuICAgICAgICAgIFwibmFtZVwiOiBcIl9uZXdPd25lclwiLFxuICAgICAgICAgIFwidHlwZVwiOiBcImFkZHJlc3NcIlxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgXCJuYW1lXCI6IFwic2V0T3duZXJcIixcbiAgICAgIFwib3V0cHV0c1wiOiBbXSxcbiAgICAgIFwicGF5YWJsZVwiOiBmYWxzZSxcbiAgICAgIFwidHlwZVwiOiBcImZ1bmN0aW9uXCJcbiAgICB9LCB7XG4gICAgICBcImNvbnN0YW50XCI6IHRydWUsXG4gICAgICBcImlucHV0c1wiOiBbXSxcbiAgICAgIFwibmFtZVwiOiBcInRvdGFsU3VwcGx5XCIsXG4gICAgICBcIm91dHB1dHNcIjogW1xuICAgICAgICB7XG4gICAgICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBcInBheWFibGVcIjogZmFsc2UsXG4gICAgICBcInR5cGVcIjogXCJmdW5jdGlvblwiXG4gICAgfSwge1xuICAgICAgXCJjb25zdGFudFwiOiBmYWxzZSxcbiAgICAgIFwiaW5wdXRzXCI6IFtcbiAgICAgICAge1xuICAgICAgICAgIFwibmFtZVwiOiBcIl9mcm9tXCIsXG4gICAgICAgICAgXCJ0eXBlXCI6IFwiYWRkcmVzc1wiXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBcIm5hbWVcIjogXCJfdG9cIixcbiAgICAgICAgICBcInR5cGVcIjogXCJhZGRyZXNzXCJcbiAgICAgICAgfSwge1xuICAgICAgICAgIFwibmFtZVwiOiBcIl92YWx1ZVwiLFxuICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgXCJuYW1lXCI6IFwidHJhbnNmZXJGcm9tXCIsXG4gICAgICBcIm91dHB1dHNcIjogW1xuICAgICAgICB7XG4gICAgICAgICAgXCJuYW1lXCI6IFwic3VjY2Vzc1wiLFxuICAgICAgICAgIFwidHlwZVwiOiBcImJvb2xcIlxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgXCJwYXlhYmxlXCI6IGZhbHNlLFxuICAgICAgXCJ0eXBlXCI6IFwiZnVuY3Rpb25cIlxuICAgIH0sIHtcbiAgICAgIFwiY29uc3RhbnRcIjogdHJ1ZSxcbiAgICAgIFwiaW5wdXRzXCI6IFtdLFxuICAgICAgXCJuYW1lXCI6IFwiU3ltYm9sXCIsXG4gICAgICBcIm91dHB1dHNcIjogW1xuICAgICAgICB7XG4gICAgICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICAgICAgXCJ0eXBlXCI6IFwic3RyaW5nXCJcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIFwicGF5YWJsZVwiOiBmYWxzZSxcbiAgICAgIFwidHlwZVwiOiBcImZ1bmN0aW9uXCJcbiAgICB9LCB7XG4gICAgICBcImNvbnN0YW50XCI6IHRydWUsXG4gICAgICBcImlucHV0c1wiOiBbXSxcbiAgICAgIFwibmFtZVwiOiBcImRlY2ltYWxzXCIsXG4gICAgICBcIm91dHB1dHNcIjogW1xuICAgICAgICB7XG4gICAgICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICAgICAgXCJ0eXBlXCI6IFwidWludDhcIlxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgXCJwYXlhYmxlXCI6IGZhbHNlLFxuICAgICAgXCJ0eXBlXCI6IFwiZnVuY3Rpb25cIlxuICAgIH0sIHtcbiAgICAgIFwiY29uc3RhbnRcIjogZmFsc2UsXG4gICAgICBcImlucHV0c1wiOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBcIm5hbWVcIjogXCJfbmV3VG90YWxTdXBwbHlcIixcbiAgICAgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIFwibmFtZVwiOiBcInNldE5ld1RvdGFsU3VwcGx5XCIsXG4gICAgICBcIm91dHB1dHNcIjogW10sXG4gICAgICBcInBheWFibGVcIjogZmFsc2UsXG4gICAgICBcInR5cGVcIjogXCJmdW5jdGlvblwiXG4gICAgfSwge1xuICAgICAgXCJjb25zdGFudFwiOiB0cnVlLFxuICAgICAgXCJpbnB1dHNcIjogW10sXG4gICAgICBcIm5hbWVcIjogXCJyaXNrTWFuYWdlclwiLFxuICAgICAgXCJvdXRwdXRzXCI6IFtcbiAgICAgICAge1xuICAgICAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgICAgIFwidHlwZVwiOiBcImFkZHJlc3NcIlxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgXCJwYXlhYmxlXCI6IGZhbHNlLFxuICAgICAgXCJ0eXBlXCI6IFwiZnVuY3Rpb25cIlxuICAgIH0sIHtcbiAgICAgIFwiY29uc3RhbnRcIjogdHJ1ZSxcbiAgICAgIFwiaW5wdXRzXCI6IFtdLFxuICAgICAgXCJuYW1lXCI6IFwidmVyc2lvblwiLFxuICAgICAgXCJvdXRwdXRzXCI6IFtcbiAgICAgICAge1xuICAgICAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiXG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBcInBheWFibGVcIjogZmFsc2UsXG4gICAgICBcInR5cGVcIjogXCJmdW5jdGlvblwiXG4gICAgfSwge1xuICAgICAgXCJjb25zdGFudFwiOiBmYWxzZSxcbiAgICAgIFwiaW5wdXRzXCI6IFtcbiAgICAgICAge1xuICAgICAgICAgIFwibmFtZVwiOiBcIl9uZXdSaXNrTWFuYWdlclwiLFxuICAgICAgICAgIFwidHlwZVwiOiBcImFkZHJlc3NcIlxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgXCJuYW1lXCI6IFwic2V0Umlza01hbmFnZXJcIixcbiAgICAgIFwib3V0cHV0c1wiOiBbXSxcbiAgICAgIFwicGF5YWJsZVwiOiBmYWxzZSxcbiAgICAgIFwidHlwZVwiOiBcImZ1bmN0aW9uXCJcbiAgICB9LCB7XG4gICAgICBcImNvbnN0YW50XCI6IHRydWUsXG4gICAgICBcImlucHV0c1wiOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBcIm5hbWVcIjogXCJfb3duZXJcIixcbiAgICAgICAgICBcInR5cGVcIjogXCJhZGRyZXNzXCJcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIFwibmFtZVwiOiBcImJhbGFuY2VPZlwiLFxuICAgICAgXCJvdXRwdXRzXCI6IFtcbiAgICAgICAge1xuICAgICAgICAgIFwibmFtZVwiOiBcImJhbGFuY2VcIixcbiAgICAgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIFwicGF5YWJsZVwiOiBmYWxzZSxcbiAgICAgIFwidHlwZVwiOiBcImZ1bmN0aW9uXCJcbiAgICB9LCB7XG4gICAgICBcImNvbnN0YW50XCI6IHRydWUsXG4gICAgICBcImlucHV0c1wiOiBbXSxcbiAgICAgIFwibmFtZVwiOiBcIm93bmVyXCIsXG4gICAgICBcIm91dHB1dHNcIjogW1xuICAgICAgICB7XG4gICAgICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICAgICAgXCJ0eXBlXCI6IFwiYWRkcmVzc1wiXG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBcInBheWFibGVcIjogZmFsc2UsXG4gICAgICBcInR5cGVcIjogXCJmdW5jdGlvblwiXG4gICAgfSwge1xuICAgICAgXCJjb25zdGFudFwiOiBmYWxzZSxcbiAgICAgIFwiaW5wdXRzXCI6IFtcbiAgICAgICAge1xuICAgICAgICAgIFwibmFtZVwiOiBcIl90b1wiLFxuICAgICAgICAgIFwidHlwZVwiOiBcImFkZHJlc3NcIlxuICAgICAgICB9LCB7XG4gICAgICAgICAgXCJuYW1lXCI6IFwiX3ZhbHVlXCIsXG4gICAgICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBcIm5hbWVcIjogXCJ0cmFuc2ZlclwiLFxuICAgICAgXCJvdXRwdXRzXCI6IFtcbiAgICAgICAge1xuICAgICAgICAgIFwibmFtZVwiOiBcInN1Y2Nlc3NcIixcbiAgICAgICAgICBcInR5cGVcIjogXCJib29sXCJcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIFwicGF5YWJsZVwiOiBmYWxzZSxcbiAgICAgIFwidHlwZVwiOiBcImZ1bmN0aW9uXCJcbiAgICB9LCB7XG4gICAgICBcImNvbnN0YW50XCI6IGZhbHNlLFxuICAgICAgXCJpbnB1dHNcIjogW1xuICAgICAgICB7XG4gICAgICAgICAgXCJuYW1lXCI6IFwiX3NwZW5kZXJcIixcbiAgICAgICAgICBcInR5cGVcIjogXCJhZGRyZXNzXCJcbiAgICAgICAgfSwge1xuICAgICAgICAgIFwibmFtZVwiOiBcIl92YWx1ZVwiLFxuICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuICAgICAgICB9LCB7XG4gICAgICAgICAgXCJuYW1lXCI6IFwiX2V4dHJhRGF0YVwiLFxuICAgICAgICAgIFwidHlwZVwiOiBcImJ5dGVzXCJcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIFwibmFtZVwiOiBcImFwcHJvdmVBbmRDYWxsXCIsXG4gICAgICBcIm91dHB1dHNcIjogW1xuICAgICAgICB7XG4gICAgICAgICAgXCJuYW1lXCI6IFwic3VjY2Vzc1wiLFxuICAgICAgICAgIFwidHlwZVwiOiBcImJvb2xcIlxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgXCJwYXlhYmxlXCI6IGZhbHNlLFxuICAgICAgXCJ0eXBlXCI6IFwiZnVuY3Rpb25cIlxuICAgIH0sIHtcbiAgICAgIFwiY29uc3RhbnRcIjogdHJ1ZSxcbiAgICAgIFwiaW5wdXRzXCI6IFtcbiAgICAgICAge1xuICAgICAgICAgIFwibmFtZVwiOiBcIl9vd25lclwiLFxuICAgICAgICAgIFwidHlwZVwiOiBcImFkZHJlc3NcIlxuICAgICAgICB9LCB7XG4gICAgICAgICAgXCJuYW1lXCI6IFwiX3NwZW5kZXJcIixcbiAgICAgICAgICBcInR5cGVcIjogXCJhZGRyZXNzXCJcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIFwibmFtZVwiOiBcImFsbG93YW5jZVwiLFxuICAgICAgXCJvdXRwdXRzXCI6IFtcbiAgICAgICAge1xuICAgICAgICAgIFwibmFtZVwiOiBcInJlbWFpbmluZ1wiLFxuICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgXCJwYXlhYmxlXCI6IGZhbHNlLFxuICAgICAgXCJ0eXBlXCI6IFwiZnVuY3Rpb25cIlxuICAgIH0sIHtcbiAgICAgIFwiaW5wdXRzXCI6IFtcbiAgICAgICAge1xuICAgICAgICAgIFwibmFtZVwiOiBcIl9pbml0aWFsQW1vdW50XCIsXG4gICAgICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBcInBheWFibGVcIjogZmFsc2UsXG4gICAgICBcInR5cGVcIjogXCJjb25zdHJ1Y3RvclwiXG4gICAgfSwge1xuICAgICAgXCJwYXlhYmxlXCI6IGZhbHNlLFxuICAgICAgXCJ0eXBlXCI6IFwiZmFsbGJhY2tcIlxuICAgIH0sIHtcbiAgICAgIFwiYW5vbnltb3VzXCI6IGZhbHNlLFxuICAgICAgXCJpbnB1dHNcIjogW1xuICAgICAgICB7XG4gICAgICAgICAgXCJpbmRleGVkXCI6IHRydWUsXG4gICAgICAgICAgXCJuYW1lXCI6IFwiX2Zyb21cIixcbiAgICAgICAgICBcInR5cGVcIjogXCJhZGRyZXNzXCJcbiAgICAgICAgfSwge1xuICAgICAgICAgIFwiaW5kZXhlZFwiOiB0cnVlLFxuICAgICAgICAgIFwibmFtZVwiOiBcIl90b1wiLFxuICAgICAgICAgIFwidHlwZVwiOiBcImFkZHJlc3NcIlxuICAgICAgICB9LCB7XG4gICAgICAgICAgXCJpbmRleGVkXCI6IGZhbHNlLFxuICAgICAgICAgIFwibmFtZVwiOiBcIl92YWx1ZVwiLFxuICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgXCJuYW1lXCI6IFwiVHJhbnNmZXJcIixcbiAgICAgIFwidHlwZVwiOiBcImV2ZW50XCJcbiAgICB9LCB7XG4gICAgICBcImFub255bW91c1wiOiBmYWxzZSxcbiAgICAgIFwiaW5wdXRzXCI6IFtcbiAgICAgICAge1xuICAgICAgICAgIFwiaW5kZXhlZFwiOiB0cnVlLFxuICAgICAgICAgIFwibmFtZVwiOiBcIl9vd25lclwiLFxuICAgICAgICAgIFwidHlwZVwiOiBcImFkZHJlc3NcIlxuICAgICAgICB9LCB7XG4gICAgICAgICAgXCJpbmRleGVkXCI6IHRydWUsXG4gICAgICAgICAgXCJuYW1lXCI6IFwiX3NwZW5kZXJcIixcbiAgICAgICAgICBcInR5cGVcIjogXCJhZGRyZXNzXCJcbiAgICAgICAgfSwge1xuICAgICAgICAgIFwiaW5kZXhlZFwiOiBmYWxzZSxcbiAgICAgICAgICBcIm5hbWVcIjogXCJfdmFsdWVcIixcbiAgICAgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIFwibmFtZVwiOiBcIkFwcHJvdmFsXCIsXG4gICAgICBcInR5cGVcIjogXCJldmVudFwiXG4gICAgfVxuICBdLFxuICBcIlJTQ19TaW1wbGVTYWxlXCI6IFtcbiAgICB7XG4gICAgICBcImNvbnN0YW50XCI6IHRydWUsXG4gICAgICBcImlucHV0c1wiOiBbXSxcbiAgICAgIFwibmFtZVwiOiBcIlRPVEFMX1RPS0VOU1wiLFxuICAgICAgXCJvdXRwdXRzXCI6IFtcbiAgICAgICAge1xuICAgICAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgXCJwYXlhYmxlXCI6IGZhbHNlLFxuICAgICAgXCJ0eXBlXCI6IFwiZnVuY3Rpb25cIlxuICAgIH0sIHtcbiAgICAgIFwiY29uc3RhbnRcIjogdHJ1ZSxcbiAgICAgIFwiaW5wdXRzXCI6IFtdLFxuICAgICAgXCJuYW1lXCI6IFwiU1RBUlRCTE9DS1wiLFxuICAgICAgXCJvdXRwdXRzXCI6IFtcbiAgICAgICAge1xuICAgICAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgXCJwYXlhYmxlXCI6IGZhbHNlLFxuICAgICAgXCJ0eXBlXCI6IFwiZnVuY3Rpb25cIlxuICAgIH0sIHtcbiAgICAgIFwiY29uc3RhbnRcIjogdHJ1ZSxcbiAgICAgIFwiaW5wdXRzXCI6IFtdLFxuICAgICAgXCJuYW1lXCI6IFwic2FsZUZpbmlzaGVkXCIsXG4gICAgICBcIm91dHB1dHNcIjogW1xuICAgICAgICB7XG4gICAgICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICAgICAgXCJ0eXBlXCI6IFwiYm9vbFwiXG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBcInBheWFibGVcIjogZmFsc2UsXG4gICAgICBcInR5cGVcIjogXCJmdW5jdGlvblwiXG4gICAgfSwge1xuICAgICAgXCJjb25zdGFudFwiOiBmYWxzZSxcbiAgICAgIFwiaW5wdXRzXCI6IFtcbiAgICAgICAge1xuICAgICAgICAgIFwibmFtZVwiOiBcImFtb3VudFwiLFxuICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgXCJuYW1lXCI6IFwic2V0TmV3VG90YWxTdXBwbHlcIixcbiAgICAgIFwib3V0cHV0c1wiOiBbXSxcbiAgICAgIFwicGF5YWJsZVwiOiBmYWxzZSxcbiAgICAgIFwidHlwZVwiOiBcImZ1bmN0aW9uXCJcbiAgICB9LCB7XG4gICAgICBcImNvbnN0YW50XCI6IHRydWUsXG4gICAgICBcImlucHV0c1wiOiBbXSxcbiAgICAgIFwibmFtZVwiOiBcIkZVTkRJTkdfR09BTFwiLFxuICAgICAgXCJvdXRwdXRzXCI6IFtcbiAgICAgICAge1xuICAgICAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgXCJwYXlhYmxlXCI6IGZhbHNlLFxuICAgICAgXCJ0eXBlXCI6IFwiZnVuY3Rpb25cIlxuICAgIH0sIHtcbiAgICAgIFwiY29uc3RhbnRcIjogdHJ1ZSxcbiAgICAgIFwiaW5wdXRzXCI6IFtdLFxuICAgICAgXCJuYW1lXCI6IFwidG9rZW5QcmljZVwiLFxuICAgICAgXCJvdXRwdXRzXCI6IFtcbiAgICAgICAge1xuICAgICAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgXCJwYXlhYmxlXCI6IGZhbHNlLFxuICAgICAgXCJ0eXBlXCI6IFwiZnVuY3Rpb25cIlxuICAgIH0sIHtcbiAgICAgIFwiY29uc3RhbnRcIjogdHJ1ZSxcbiAgICAgIFwiaW5wdXRzXCI6IFtdLFxuICAgICAgXCJuYW1lXCI6IFwib3duZXJcIixcbiAgICAgIFwib3V0cHV0c1wiOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgICAgICBcInR5cGVcIjogXCJhZGRyZXNzXCJcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIFwicGF5YWJsZVwiOiBmYWxzZSxcbiAgICAgIFwidHlwZVwiOiBcImZ1bmN0aW9uXCJcbiAgICB9LCB7XG4gICAgICBcImNvbnN0YW50XCI6IGZhbHNlLFxuICAgICAgXCJpbnB1dHNcIjogW1xuICAgICAgICB7XG4gICAgICAgICAgXCJuYW1lXCI6IFwiX3Rva2VuUHJpY2VcIixcbiAgICAgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIFwibmFtZVwiOiBcInNldFByaWNlXCIsXG4gICAgICBcIm91dHB1dHNcIjogW10sXG4gICAgICBcInBheWFibGVcIjogZmFsc2UsXG4gICAgICBcInR5cGVcIjogXCJmdW5jdGlvblwiXG4gICAgfSwge1xuICAgICAgXCJjb25zdGFudFwiOiBmYWxzZSxcbiAgICAgIFwiaW5wdXRzXCI6IFtdLFxuICAgICAgXCJuYW1lXCI6IFwidG9rZW5TYWxlXCIsXG4gICAgICBcIm91dHB1dHNcIjogW10sXG4gICAgICBcInBheWFibGVcIjogdHJ1ZSxcbiAgICAgIFwidHlwZVwiOiBcImZ1bmN0aW9uXCJcbiAgICB9LCB7XG4gICAgICBcImNvbnN0YW50XCI6IGZhbHNlLFxuICAgICAgXCJpbnB1dHNcIjogW1xuICAgICAgICB7XG4gICAgICAgICAgXCJuYW1lXCI6IFwiX1JTQ19Ub2tlblwiLFxuICAgICAgICAgIFwidHlwZVwiOiBcImFkZHJlc3NcIlxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgXCJuYW1lXCI6IFwic2V0VG9rZW5Db250cmFjdFwiLFxuICAgICAgXCJvdXRwdXRzXCI6IFtdLFxuICAgICAgXCJwYXlhYmxlXCI6IGZhbHNlLFxuICAgICAgXCJ0eXBlXCI6IFwiZnVuY3Rpb25cIlxuICAgIH0sIHtcbiAgICAgIFwiY29uc3RhbnRcIjogdHJ1ZSxcbiAgICAgIFwiaW5wdXRzXCI6IFtdLFxuICAgICAgXCJuYW1lXCI6IFwidG90YWxSYWlzZWRcIixcbiAgICAgIFwib3V0cHV0c1wiOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIFwicGF5YWJsZVwiOiBmYWxzZSxcbiAgICAgIFwidHlwZVwiOiBcImZ1bmN0aW9uXCJcbiAgICB9LCB7XG4gICAgICBcImNvbnN0YW50XCI6IHRydWUsXG4gICAgICBcImlucHV0c1wiOiBbXSxcbiAgICAgIFwibmFtZVwiOiBcIlJTQ19Ub2tlbl9Db250cmFjdFwiLFxuICAgICAgXCJvdXRwdXRzXCI6IFtcbiAgICAgICAge1xuICAgICAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgICAgIFwidHlwZVwiOiBcImFkZHJlc3NcIlxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgXCJwYXlhYmxlXCI6IGZhbHNlLFxuICAgICAgXCJ0eXBlXCI6IFwiZnVuY3Rpb25cIlxuICAgIH0sIHtcbiAgICAgIFwiY29uc3RhbnRcIjogdHJ1ZSxcbiAgICAgIFwiaW5wdXRzXCI6IFtdLFxuICAgICAgXCJuYW1lXCI6IFwiTUFYSU1VTV9TQUxFX0JMT0NLXCIsXG4gICAgICBcIm91dHB1dHNcIjogW1xuICAgICAgICB7XG4gICAgICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBcInBheWFibGVcIjogZmFsc2UsXG4gICAgICBcInR5cGVcIjogXCJmdW5jdGlvblwiXG4gICAgfSwge1xuICAgICAgXCJpbnB1dHNcIjogW10sXG4gICAgICBcInBheWFibGVcIjogZmFsc2UsXG4gICAgICBcInR5cGVcIjogXCJjb25zdHJ1Y3RvclwiXG4gICAgfSwge1xuICAgICAgXCJhbm9ueW1vdXNcIjogZmFsc2UsXG4gICAgICBcImlucHV0c1wiOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBcImluZGV4ZWRcIjogdHJ1ZSxcbiAgICAgICAgICBcIm5hbWVcIjogXCJpbnZlc3RvclwiLFxuICAgICAgICAgIFwidHlwZVwiOiBcImFkZHJlc3NcIlxuICAgICAgICB9LCB7XG4gICAgICAgICAgXCJpbmRleGVkXCI6IGZhbHNlLFxuICAgICAgICAgIFwibmFtZVwiOiBcImFtb3VudFwiLFxuICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgXCJuYW1lXCI6IFwiTG9nX1NhbGVcIixcbiAgICAgIFwidHlwZVwiOiBcImV2ZW50XCJcbiAgICB9XG4gIF0sXG4gIFwiUlNDX0luc3VyYW5jZVwiOiBbXG4gICAge1xuICAgICAgXCJjb25zdGFudFwiOiBmYWxzZSxcbiAgICAgIFwiaW5wdXRzXCI6IFtcbiAgICAgICAge1xuICAgICAgICAgIFwibmFtZVwiOiBcIl9wb2xpY3lJZFwiLFxuICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgXCJuYW1lXCI6IFwiZXhwaXJlUG9saWN5XCIsXG4gICAgICBcIm91dHB1dHNcIjogW10sXG4gICAgICBcInBheWFibGVcIjogZmFsc2UsXG4gICAgICBcInR5cGVcIjogXCJmdW5jdGlvblwiXG4gICAgfSwge1xuICAgICAgXCJjb25zdGFudFwiOiBmYWxzZSxcbiAgICAgIFwiaW5wdXRzXCI6IFtcbiAgICAgICAge1xuICAgICAgICAgIFwibmFtZVwiOiBcIl9yaXNrXCIsXG4gICAgICAgICAgXCJ0eXBlXCI6IFwic3RyaW5nXCJcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIFwibmFtZVwiOiBcIm5ld1BvbGljeVwiLFxuICAgICAgXCJvdXRwdXRzXCI6IFtdLFxuICAgICAgXCJwYXlhYmxlXCI6IHRydWUsXG4gICAgICBcInR5cGVcIjogXCJmdW5jdGlvblwiXG4gICAgfSwge1xuICAgICAgXCJjb25zdGFudFwiOiBmYWxzZSxcbiAgICAgIFwiaW5wdXRzXCI6IFtcbiAgICAgICAge1xuICAgICAgICAgIFwibmFtZVwiOiBcIl9wb2xpY3lJZFwiLFxuICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuICAgICAgICB9LCB7XG4gICAgICAgICAgXCJuYW1lXCI6IFwiX3BheW91dFwiLFxuICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuICAgICAgICB9LCB7XG4gICAgICAgICAgXCJuYW1lXCI6IFwiX2NsYWltXCIsXG4gICAgICAgICAgXCJ0eXBlXCI6IFwic3RyaW5nXCJcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIFwibmFtZVwiOiBcInBheU91dFwiLFxuICAgICAgXCJvdXRwdXRzXCI6IFtdLFxuICAgICAgXCJwYXlhYmxlXCI6IGZhbHNlLFxuICAgICAgXCJ0eXBlXCI6IFwiZnVuY3Rpb25cIlxuICAgIH0sIHtcbiAgICAgIFwiY29uc3RhbnRcIjogZmFsc2UsXG4gICAgICBcImlucHV0c1wiOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBcIm5hbWVcIjogXCJfYW1vdW50XCIsXG4gICAgICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBcIm5hbWVcIjogXCJkZWNyZWFzZV9mdW5kXCIsXG4gICAgICBcIm91dHB1dHNcIjogW10sXG4gICAgICBcInBheWFibGVcIjogZmFsc2UsXG4gICAgICBcInR5cGVcIjogXCJmdW5jdGlvblwiXG4gICAgfSwge1xuICAgICAgXCJjb25zdGFudFwiOiB0cnVlLFxuICAgICAgXCJpbnB1dHNcIjogW10sXG4gICAgICBcIm5hbWVcIjogXCJyaXNrTWFuYWdlclwiLFxuICAgICAgXCJvdXRwdXRzXCI6IFtcbiAgICAgICAge1xuICAgICAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgICAgIFwidHlwZVwiOiBcImFkZHJlc3NcIlxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgXCJwYXlhYmxlXCI6IGZhbHNlLFxuICAgICAgXCJ0eXBlXCI6IFwiZnVuY3Rpb25cIlxuICAgIH0sIHtcbiAgICAgIFwiY29uc3RhbnRcIjogdHJ1ZSxcbiAgICAgIFwiaW5wdXRzXCI6IFtcbiAgICAgICAge1xuICAgICAgICAgIFwibmFtZVwiOiBcIl9jdXN0b21lclwiLFxuICAgICAgICAgIFwidHlwZVwiOiBcImFkZHJlc3NcIlxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgXCJuYW1lXCI6IFwiZ2V0UG9saWN5Q291bnRcIixcbiAgICAgIFwib3V0cHV0c1wiOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBcIm5hbWVcIjogXCJfY291bnRcIixcbiAgICAgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIFwicGF5YWJsZVwiOiBmYWxzZSxcbiAgICAgIFwidHlwZVwiOiBcImZ1bmN0aW9uXCJcbiAgICB9LCB7XG4gICAgICBcImNvbnN0YW50XCI6IGZhbHNlLFxuICAgICAgXCJpbnB1dHNcIjogW1xuICAgICAgICB7XG4gICAgICAgICAgXCJuYW1lXCI6IFwiX3Jpc2tNYW5hZ2VyXCIsXG4gICAgICAgICAgXCJ0eXBlXCI6IFwiYWRkcmVzc1wiXG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBcIm5hbWVcIjogXCJzZXRSaXNrTWFuYWdlclwiLFxuICAgICAgXCJvdXRwdXRzXCI6IFtdLFxuICAgICAgXCJwYXlhYmxlXCI6IGZhbHNlLFxuICAgICAgXCJ0eXBlXCI6IFwiZnVuY3Rpb25cIlxuICAgIH0sIHtcbiAgICAgIFwiY29uc3RhbnRcIjogZmFsc2UsXG4gICAgICBcImlucHV0c1wiOiBbXSxcbiAgICAgIFwibmFtZVwiOiBcImluY3JlYXNlX2Z1bmRcIixcbiAgICAgIFwib3V0cHV0c1wiOiBbXSxcbiAgICAgIFwicGF5YWJsZVwiOiB0cnVlLFxuICAgICAgXCJ0eXBlXCI6IFwiZnVuY3Rpb25cIlxuICAgIH0sIHtcbiAgICAgIFwiY29uc3RhbnRcIjogZmFsc2UsXG4gICAgICBcImlucHV0c1wiOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBcIm5hbWVcIjogXCJfb3JhY2xlXCIsXG4gICAgICAgICAgXCJ0eXBlXCI6IFwiYWRkcmVzc1wiXG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBcIm5hbWVcIjogXCJzZXRPcmFjbGVcIixcbiAgICAgIFwib3V0cHV0c1wiOiBbXSxcbiAgICAgIFwicGF5YWJsZVwiOiBmYWxzZSxcbiAgICAgIFwidHlwZVwiOiBcImZ1bmN0aW9uXCJcbiAgICB9LCB7XG4gICAgICBcImNvbnN0YW50XCI6IHRydWUsXG4gICAgICBcImlucHV0c1wiOiBbXSxcbiAgICAgIFwibmFtZVwiOiBcIm9yYWNsZVwiLFxuICAgICAgXCJvdXRwdXRzXCI6IFtcbiAgICAgICAge1xuICAgICAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgICAgIFwidHlwZVwiOiBcImFkZHJlc3NcIlxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgXCJwYXlhYmxlXCI6IGZhbHNlLFxuICAgICAgXCJ0eXBlXCI6IFwiZnVuY3Rpb25cIlxuICAgIH0sIHtcbiAgICAgIFwiY29uc3RhbnRcIjogdHJ1ZSxcbiAgICAgIFwiaW5wdXRzXCI6IFtdLFxuICAgICAgXCJuYW1lXCI6IFwib3duZXJcIixcbiAgICAgIFwib3V0cHV0c1wiOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgICAgICBcInR5cGVcIjogXCJhZGRyZXNzXCJcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIFwicGF5YWJsZVwiOiBmYWxzZSxcbiAgICAgIFwidHlwZVwiOiBcImZ1bmN0aW9uXCJcbiAgICB9LCB7XG4gICAgICBcImNvbnN0YW50XCI6IHRydWUsXG4gICAgICBcImlucHV0c1wiOiBbXSxcbiAgICAgIFwibmFtZVwiOiBcImJhbGFuY2VcIixcbiAgICAgIFwib3V0cHV0c1wiOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIFwicGF5YWJsZVwiOiBmYWxzZSxcbiAgICAgIFwidHlwZVwiOiBcImZ1bmN0aW9uXCJcbiAgICB9LCB7XG4gICAgICBcImNvbnN0YW50XCI6IHRydWUsXG4gICAgICBcImlucHV0c1wiOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIFwibmFtZVwiOiBcInBvbGljaWVzXCIsXG4gICAgICBcIm91dHB1dHNcIjogW1xuICAgICAgICB7XG4gICAgICAgICAgXCJuYW1lXCI6IFwiY3VzdG9tZXJcIixcbiAgICAgICAgICBcInR5cGVcIjogXCJhZGRyZXNzXCJcbiAgICAgICAgfSwge1xuICAgICAgICAgIFwibmFtZVwiOiBcInByZW1pdW1cIixcbiAgICAgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcbiAgICAgICAgfSwge1xuICAgICAgICAgIFwibmFtZVwiOiBcInJpc2tcIixcbiAgICAgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIlxuICAgICAgICB9LCB7XG4gICAgICAgICAgXCJuYW1lXCI6IFwicHJvYmFiaWxpdHlcIixcbiAgICAgICAgICBcInR5cGVcIjogXCJ1aW50MjU2XCJcbiAgICAgICAgfSwge1xuICAgICAgICAgIFwibmFtZVwiOiBcInN0YXRlXCIsXG4gICAgICAgICAgXCJ0eXBlXCI6IFwidWludDhcIlxuICAgICAgICB9LCB7XG4gICAgICAgICAgXCJuYW1lXCI6IFwic3RhdGVUaW1lXCIsXG4gICAgICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBcIm5hbWVcIjogXCJzdGF0ZU1lc3NhZ2VcIixcbiAgICAgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIlxuICAgICAgICB9LCB7XG4gICAgICAgICAgXCJuYW1lXCI6IFwiY2FsY3VsYXRlZFBheW91dFwiLFxuICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuICAgICAgICB9LCB7XG4gICAgICAgICAgXCJuYW1lXCI6IFwiYWN0dWFsUGF5b3V0XCIsXG4gICAgICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBcInBheWFibGVcIjogZmFsc2UsXG4gICAgICBcInR5cGVcIjogXCJmdW5jdGlvblwiXG4gICAgfSwge1xuICAgICAgXCJjb25zdGFudFwiOiBmYWxzZSxcbiAgICAgIFwiaW5wdXRzXCI6IFtcbiAgICAgICAge1xuICAgICAgICAgIFwibmFtZVwiOiBcIl9wb2xpY3lJZFwiLFxuICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuICAgICAgICB9LCB7XG4gICAgICAgICAgXCJuYW1lXCI6IFwiX3Byb2JhYmlsaXR5XCIsXG4gICAgICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBcIm5hbWVcIjogXCJfZG9VbmRlcndyaXRlXCIsXG4gICAgICAgICAgXCJ0eXBlXCI6IFwiYm9vbFwiXG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBcIm5hbWVcIjogXCJ1bmRlcndyaXRlXCIsXG4gICAgICBcIm91dHB1dHNcIjogW10sXG4gICAgICBcInBheWFibGVcIjogZmFsc2UsXG4gICAgICBcInR5cGVcIjogXCJmdW5jdGlvblwiXG4gICAgfSwge1xuICAgICAgXCJpbnB1dHNcIjogW10sXG4gICAgICBcInBheWFibGVcIjogZmFsc2UsXG4gICAgICBcInR5cGVcIjogXCJjb25zdHJ1Y3RvclwiXG4gICAgfSwge1xuICAgICAgXCJwYXlhYmxlXCI6IGZhbHNlLFxuICAgICAgXCJ0eXBlXCI6IFwiZmFsbGJhY2tcIlxuICAgIH0sIHtcbiAgICAgIFwiYW5vbnltb3VzXCI6IGZhbHNlLFxuICAgICAgXCJpbnB1dHNcIjogW1xuICAgICAgICB7XG4gICAgICAgICAgXCJpbmRleGVkXCI6IGZhbHNlLFxuICAgICAgICAgIFwibmFtZVwiOiBcInBvbGljeUlkXCIsXG4gICAgICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBcImluZGV4ZWRcIjogZmFsc2UsXG4gICAgICAgICAgXCJuYW1lXCI6IFwiY3VzdG9tZXJcIixcbiAgICAgICAgICBcInR5cGVcIjogXCJhZGRyZXNzXCJcbiAgICAgICAgfSwge1xuICAgICAgICAgIFwiaW5kZXhlZFwiOiBmYWxzZSxcbiAgICAgICAgICBcIm5hbWVcIjogXCJyaXNrXCIsXG4gICAgICAgICAgXCJ0eXBlXCI6IFwic3RyaW5nXCJcbiAgICAgICAgfSwge1xuICAgICAgICAgIFwiaW5kZXhlZFwiOiBmYWxzZSxcbiAgICAgICAgICBcIm5hbWVcIjogXCJwcmVtaXVtXCIsXG4gICAgICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBcIm5hbWVcIjogXCJMT0dfUG9saWN5QXBwbGllZFwiLFxuICAgICAgXCJ0eXBlXCI6IFwiZXZlbnRcIlxuICAgIH0sIHtcbiAgICAgIFwiYW5vbnltb3VzXCI6IGZhbHNlLFxuICAgICAgXCJpbnB1dHNcIjogW1xuICAgICAgICB7XG4gICAgICAgICAgXCJpbmRleGVkXCI6IGZhbHNlLFxuICAgICAgICAgIFwibmFtZVwiOiBcInBvbGljeUlkXCIsXG4gICAgICAgICAgXCJ0eXBlXCI6IFwidWludDI1NlwiXG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBcIm5hbWVcIjogXCJMT0dfUG9saWN5QWNjZXB0ZWRcIixcbiAgICAgIFwidHlwZVwiOiBcImV2ZW50XCJcbiAgICB9LCB7XG4gICAgICBcImFub255bW91c1wiOiBmYWxzZSxcbiAgICAgIFwiaW5wdXRzXCI6IFtcbiAgICAgICAge1xuICAgICAgICAgIFwiaW5kZXhlZFwiOiBmYWxzZSxcbiAgICAgICAgICBcIm5hbWVcIjogXCJwb2xpY3lJZFwiLFxuICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuICAgICAgICB9LCB7XG4gICAgICAgICAgXCJpbmRleGVkXCI6IGZhbHNlLFxuICAgICAgICAgIFwibmFtZVwiOiBcImFtb3VudFwiLFxuICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgXCJuYW1lXCI6IFwiTE9HX1BvbGljeVBhaWRPdXRcIixcbiAgICAgIFwidHlwZVwiOiBcImV2ZW50XCJcbiAgICB9LCB7XG4gICAgICBcImFub255bW91c1wiOiBmYWxzZSxcbiAgICAgIFwiaW5wdXRzXCI6IFtcbiAgICAgICAge1xuICAgICAgICAgIFwiaW5kZXhlZFwiOiBmYWxzZSxcbiAgICAgICAgICBcIm5hbWVcIjogXCJwb2xpY3lJZFwiLFxuICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgXCJuYW1lXCI6IFwiTE9HX1BvbGljeUV4cGlyZWRcIixcbiAgICAgIFwidHlwZVwiOiBcImV2ZW50XCJcbiAgICB9LCB7XG4gICAgICBcImFub255bW91c1wiOiBmYWxzZSxcbiAgICAgIFwiaW5wdXRzXCI6IFtcbiAgICAgICAge1xuICAgICAgICAgIFwiaW5kZXhlZFwiOiBmYWxzZSxcbiAgICAgICAgICBcIm5hbWVcIjogXCJwb2xpY3lJZFwiLFxuICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuICAgICAgICB9LCB7XG4gICAgICAgICAgXCJpbmRleGVkXCI6IGZhbHNlLFxuICAgICAgICAgIFwibmFtZVwiOiBcInJlYXNvblwiLFxuICAgICAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiXG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBcIm5hbWVcIjogXCJMT0dfUG9saWN5RGVjbGluZWRcIixcbiAgICAgIFwidHlwZVwiOiBcImV2ZW50XCJcbiAgICB9LCB7XG4gICAgICBcImFub255bW91c1wiOiBmYWxzZSxcbiAgICAgIFwiaW5wdXRzXCI6IFtcbiAgICAgICAge1xuICAgICAgICAgIFwiaW5kZXhlZFwiOiBmYWxzZSxcbiAgICAgICAgICBcIm5hbWVcIjogXCJwb2xpY3lJZFwiLFxuICAgICAgICAgIFwidHlwZVwiOiBcInVpbnQyNTZcIlxuICAgICAgICB9LCB7XG4gICAgICAgICAgXCJpbmRleGVkXCI6IGZhbHNlLFxuICAgICAgICAgIFwibmFtZVwiOiBcInJlYXNvblwiLFxuICAgICAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiXG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBcIm5hbWVcIjogXCJMT0dfU2VuZEZhaWxcIixcbiAgICAgIFwidHlwZVwiOiBcImV2ZW50XCJcbiAgICB9XG4gIF0sXG4gIFwiUlNDX1Jpc2tNYW5hZ2VyXCI6IFtdXG59O1xubW9kdWxlLmV4cG9ydHMgPSBhYmlfYmluO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3NjcmlwdHMvbGliL2FiaV9iaW4uanMiLCJ2YXIgY29udHJhY3RfaWRzID0ge31cblxuY29udHJhY3RfaWRzLmNvbnRyYWN0cyA9IHtcblxuXHRSU0NfQWRkcmVzc1Jlc29sdmVyOiAnUlNDX0FkZHJlc3NSZXNvbHZlcicsXG5cdFJTQ19Ub2tlbjogJ1JTQ19Ub2tlbicsXG5cdFJTQ19TaW1wbGVTYWxlOiAnUlNDX1NpbXBsZVNhbGUnLFxuXHRSU0NfSW5zdXJhbmNlOiAnUlNDX0luc3VyYW5jZScsXG5cdFJTQ19SaXNrTWFuYWdlcjogJ1JTQ19SaXNrTWFuYWdlcidcblxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNvbnRyYWN0X2lkcztcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9zY3JpcHRzL2xpYi9jb250cmFjdF9pZHMuanMiLCIvL1xuLy9cbi8vXG4vL1xuLy9cdFx0TmV0d29yayBkZWZpbml0aW9ucyBmb3IgaGFjay5ldGhlci5jYW1wXG4vL1xuLy9cbi8vXG5cbnZhciBuZXR3b3JrcyA9IHtcblxuXHR0ZXN0cnBjIDoge1xuXHRcdGRlc2M6IFx0XHRcdFx0XHQndGVzdHJwYycsXG5cdFx0b3duZXJBZGRyZXNzOlx0XHRcdCcnLFxuXHRcdEFkZHJlc3NSZXNvbHZlcl9hZGRyOlx0JzB4ZTIwZmQ5ZDMxZDVlODY0NzgzNmFjMzMxMGRkMzYwMjcwOGVjZTZiMycsXG5cdFx0T0FSX0FkZHI6IFx0XHRcdFx0JycsXG5cdFx0bXVsdGlzaWc6IFx0XHRcdFx0JzB4REM3Y0ZjNGU5ODY0ZkVhQjhhYTA3YmU3QzQ2MDhEQTkxY2MxZjM2YicsXG5cdFx0aHR0cFByb3ZpZGVyOlx0XHRcdCdodHRwOi8vdGVzdHJwYy5ldGhlcmlzYy5jb20nLFxuXHR9LFxuXG5cdHJvcHN0ZW4gOiB7XG5cdFx0ZGVzYzpcdFx0XHRcdFx0J3JvcHN0ZW4nLFxuXHRcdG93bmVyQWRkcmVzczpcdFx0XHQnMHhmZmM2MTRlZTk3ODYzMGQ3ZmIwYzA2NzU4ZGViNTgwYzE1MjE1NGQzJyxcblx0XHRBZGRyZXNzUmVzb2x2ZXJfYWRkcjpcdCcweGMzNDYzYjFhYWE5NGVlMDMzMmQ0ODA4NjAyMzFjMDRhNTJjZjEwOGQnLFxuXHRcdE9BUl9BZGRyOiBcdFx0XHRcdCcweGMwM2EyNjE1ZDVlZmFmNWY0OWY2MGI3YmI2NTgzZWFlYzIxMmZkZjEnLFxuXHRcdG11bHRpc2lnOiBcdFx0XHRcdCcweGZmYzYxNGVlOTc4NjMwZDdmYjBjMDY3NThkZWI1ODBjMTUyMTU0ZDMnLFxuXHRcdGh0dHBQcm92aWRlcjpcdFx0XHQnaHR0cDovL2xvY2FsaG9zdDo4NjQ1Jyxcblx0XHRldGhlcnNjYW5fdXJsOiBcdFx0XHQoYWRkcmVzcykgPT4gJ2h0dHBzOi8vdGVzdG5ldC5ldGhlcnNjYW4uaW8vYWRkcmVzcy8nICsgYWRkcmVzcyxcblx0XHRldGhlcnNjYW5fdHhfdXJsOiBcdFx0KHR4KSA9PiAnaHR0cHM6Ly90ZXN0bmV0LmV0aGVyc2Nhbi5pby90eC8nICsgdHgsXG5cdFx0b3JhY2xpemVRdWVyeUFwaTogXHRcdChxdWVyeUlkKSA9PiAnaHR0cHM6Ly9hcGkub3JhY2xpemUuaXQvYXBpL3YxL3F1ZXJ5L2V0aF90ZXN0bmV0XycgKyBxdWVyeUlkICsgJy9zdGF0dXMnLFxuXHR9LFxuXG5cdG1haW5uZXQgOiB7XG5cdFx0ZGVzYzpcdFx0XHRcdFx0J21haW5uZXQnLFxuXHRcdG93bmVyQWRkcmVzczpcdFx0XHQnJyxcblx0XHRBZGRyZXNzUmVzb2x2ZXJfYWRkcjpcdCcnLFxuXHRcdE9BUl9BZGRyOiBcdFx0XHRcdCcweDFkM2IyNjM4YTdjYzlmMmNiM2QyOThhM2RhN2E5MGI2N2U1NTA2ZWQnLFxuXHRcdG11bHRpc2lnOiBcdFx0XHRcdCcweDVjYjVGNDZhNjU1QzAyODg5MTcyMzIzNzYwZDEyZDBlNUQ4M0NEQWYnLFxuXHRcdGh0dHBQcm92aWRlcjpcdFx0XHQnaHR0cDovL2xvY2FsaG9zdDo4NTQ1Jyxcblx0XHRldGhlcnNjYW5fdXJsOiBcdFx0XHQoYWRkcmVzcykgPT4gJ2h0dHBzOi8vd3d3LmV0aGVyc2Nhbi5pby9hZGRyZXNzLycsXG5cdFx0ZXRoZXJzY2FuX3R4X3VybDogXHRcdCh0eCkgPT4gJ2h0dHBzOi8vZXRoZXJzY2FuLmlvL3R4LycgKyB0eCxcblx0XHRvcmFjbGl6ZVF1ZXJ5QXBpOiBcdFx0KHF1ZXJ5SWQpID0+ICdodHRwczovL2FwaS5vcmFjbGl6ZS5pdC9hcGkvdjEvcXVlcnkvZXRoX21haW5uZXRfJyArIHF1ZXJ5SWQgKyAnL3N0YXR1cycsXG5cdH0sXG5cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBuZXR3b3JrcztcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9zY3JpcHRzL2xpYi9uZXR3b3Jrcy5qcyIsIid1c2Ugc3RyaWN0JztcblxuY29uc3QgV2ViMyA9IHJlcXVpcmUoJ3dlYjMnKTtcbmNvbnN0IHNxdWJhID0gcmVxdWlyZSgnc3F1YmEnKTtcblxuY29uc3QgY29udHJhY3RfaWRzID0gcmVxdWlyZSgnLi4vbGliL2NvbnRyYWN0X2lkcy5qcycpO1xuY29uc3QgYWJpX2JpbiA9IHJlcXVpcmUoJy4uL2xpYi9hYmlfYmluLmpzJyk7XG5jb25zdCBuZXR3b3JrcyA9IHJlcXVpcmUoJy4uL2xpYi9uZXR3b3Jrcy5qcycpO1xuXG5jb25zdCBtYWluTmV0TXNnID0gKCkgPT4gJ0F0dGVudGlvbjogWW91ciBtZXRhbWFzayBpcyBjb25uZWN0ZWQgdG8gbWFpbm5ldC4gJyArXG4nRG9uXFwndCB1c2UgdGhpcyBwcm90b3R5cGUgb24gbWFpbm5ldCAtIGl0IGNhbiByZXN1bHQgaW4gbG9zcyBvZiBtb25leSEnO1xuXG5jb25zdCBtZXRhbWFza01zZyA9ICgpID0+ICdBdHRlbnRpb246IFlvdXIgbWV0YW1hc2sgaXMgbm90IGNvbm5lY3RlZCB0byB0ZXN0bmV0LicgK1xuJyBPbmx5IHVzZSB0aGlzIHByb3RvdHlwZSBvbiB0ZXN0bmV0IC0gb3RoZXJ3aXNlIGl0IGNhbiByZXN1bHQgaW4gbG9zcyBvZiBtb25leSEnO1xuXG5cbmFuZ3VsYXJcbiAgLm1vZHVsZSgnYXBwJylcbiAgLnNlcnZpY2UoJ2V0aGVyZXVtJywgZXRoZXJldW0pO1xuXG5mdW5jdGlvbiBldGhlcmV1bSgpIHtcblxuICBjb25zdCBzZXJ2ZXJfY29udHJhY3RzID0ge307XG5cbiAgY29uc3Qgc3RhdGUgPSB7XG5cbiAgfTtcblxuICBpbml0aWFsaXplKCk7XG5cbiAgcmV0dXJuIHtcbiAgICBnZXRQb2xpY2llcyxcbiAgICB0b2tlblNhbGUsXG4gICAgc3RhdGVcbiAgfTtcblxuICBmdW5jdGlvbiB3ZWIzQ29ubmVjdCgpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAvLyBNZXRhTWFzayBpbmplY3RzIHRoZSB3ZWIzIG9iamVjdCBmb3IgdXNcbiAgICAgIGlmICh0eXBlb2Ygd2ViMyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgd2ViMyA9IG5ldyBXZWIzKHdlYjMuY3VycmVudFByb3ZpZGVyKTtcbiAgICAgICAgcmVzb2x2ZSh3ZWIzKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gSWYgdGhlcmUncyBub3Qgd2ViMyBvYmplY3QgdGhlbiB3ZSBpbml0aWFsaXplIG9uZVxuICAgICAgY29uc3QgbWVzc2FnZSA9ICdObyB3ZWIzPyBZb3Ugc2hvdWxkIGNvbnNpZGVyIHRyeWluZyBNZXRhTWFzayEnO1xuICAgICAgY29uc29sZS53YXJuKG1lc3NhZ2UpO1xuICAgICAgcmVqZWN0KHsgbWVzc2FnZSB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldE5ldHdvcmsoKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHdlYjMudmVyc2lvbi5nZXROZXR3b3JrKChlcnIsIHJlcykgPT4ge1xuICAgICAgICBpZiAocmVzICE9PSAzICYmIHJlcyAhPT0gJzMnKSB7XG4gICAgICAgICAgcmVqZWN0KHttZXNzYWdlOiAnQ29ubmVjdGVkIHRvIHRoZSB3cm9uZyBuZXR3b3JrISd9KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmVzb2x2ZSh7bmV0d29yazogcmVzfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEJhbGFuY2UoKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHdlYjMuZXRoLmdldEJhbGFuY2Uod2ViMy5ldGguYWNjb3VudHNbMF0sIChlcnIsIHJlcykgPT4ge1xuICAgICAgICByZXNvbHZlKHtcbiAgICAgICAgICB3ZWIzX0Nvbm5lY3RlZDogdHJ1ZSxcbiAgICAgICAgICBiYWxhbmNlOiB3ZWIzLmZyb21XZWkocmVzKS50b0ZpeGVkKDIpLFxuICAgICAgICAgIGFjY291bnQ6IHdlYjMuZXRoLmFjY291bnRzWzBdXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuXG4gIGZ1bmN0aW9uIGluaXRpYWxpemUoKSB7XG5cbiAgICB3ZWIzQ29ubmVjdCgpXG4gICAgLnRoZW4oZ2V0TmV0d29yaywgZXJyID0+IHtzdGF0ZS5tZXNzYWdlID0gZXJyLm1lc3NhZ2U7fSlcbiAgICAudGhlbigoe25ldHdvcmt9KSA9PiB7XG4gICAgICBzdGF0ZS5uZXR3b3JrID0gbmV0d29yaztcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sIGVyciA9PiB7c3RhdGUubWVzc2FnZSA9IGVyci5tZXNzYWdlO30pXG4gICAgLnRoZW4oZ2V0QmFsYW5jZSlcbiAgICAudGhlbigoe3dlYjNfQ29ubmVjdGVkLCBiYWxhbmNlLCBhY2NvdW50fSkgPT4ge1xuICAgICAgc3RhdGUud2ViM19Db25uZWN0ZWQgPSB3ZWIzX0Nvbm5lY3RlZDtcbiAgICAgIHN0YXRlLmJhbGFuY2UgPSBiYWxhbmNlO1xuICAgICAgc3RhdGUuYWNjb3VudCA9IGFjY291bnQ7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9KVxuICAgIC50aGVuKCgpID0+IHtcblxuICAgICAgY29uc29sZS5sb2coJ1NlcnZlciBzdGFydGVkJyk7XG4gICAgICB3ZWIzLmV0aC5nZXRCbG9ja051bWJlcigoZXJyLCByZXMpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coYEJsb2NrTnVtYmVyOiAke3Jlc31gKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBnZXQgdGhlIGFkZHJlc3MgcmVzb2x2ZXIgY29udHJhY3QsIGp1c3QgYSBTWU5DIGNhbGxcbiAgICAgIGNvbnN0IFJTQ19BZGRyZXNzUmVzb2x2ZXIgPSB3ZWIzLmV0aFxuICAgICAgLmNvbnRyYWN0KGFiaV9iaW4uYWJpLlJTQ19BZGRyZXNzUmVzb2x2ZXIpXG4gICAgICAuYXQobmV0d29ya3Mucm9wc3Rlbi5BZGRyZXNzUmVzb2x2ZXJfYWRkcik7XG5cbiAgICAgIGdldEFsbENvbnRyYWN0cyhjb250cmFjdF9pZHMuY29udHJhY3RzKTtcblxuXG4gICAgICAvLyBpbnRlcmF0ZSBvdmVyIGNvbnRyYWN0cyBhbmQgYWRkIHRoZW0gdG8gc2VydmVyX2NvbnRyYWN0cyAoYXN5bmMpXG4gICAgICBmdW5jdGlvbiBnZXRBbGxDb250cmFjdHMoY29udHJhY3RzKSB7XG4gICAgICAgIGZvciAobGV0IGNvbnRyYWN0IGluIGNvbnRyYWN0cykge1xuICAgICAgICAgIGdldENvbnRyYWN0KGNvbnRyYWN0KTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgLy8gZ2V0IHRoZSBjb250cmFjdCBhZGRyZXNzIChhc3luYylcbiAgICAgIGZ1bmN0aW9uIGdldENvbnRyYWN0KGNvbnRyYWN0KSB7XG4gICAgICAgIFJTQ19BZGRyZXNzUmVzb2x2ZXIuZ2V0QWRkcmVzcyh3ZWIzLnNoYTMoY29udHJhY3QpLCAoZXJyLCBhZGRyZXNzKSA9PiB7XG4gICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBnZXQgdGhlIGNvbnRyYWN0IGF0IHRoYXQgYWRyZXNzIGFuZCBhZGQgaXQgdG8gdGhlIHNlcnZlcl9jb250cmFjdHMgbGlzdCAoYXN5bmMpXG4gICAgICAgICAgd2ViMy5ldGguY29udHJhY3QoYWJpX2Jpbi5hYmlbY29udHJhY3RdKS5hdChhZGRyZXNzLCAoZXJyLCByZXMpID0+IHtcbiAgICAgICAgICAgIHNlcnZlcl9jb250cmFjdHNbY29udHJhY3RdID0gcmVzO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTsgLy8gLnRoZW5cblxuICB9XG5cbiAgZnVuY3Rpb24gZ2V0UG9saWNpZXMoKSB7XG4gICAgY29uc29sZS5sb2coJ01ldGhvZCBDYWxsOiBnZXRQb2xpY2llcycpO1xuXG4gICAgaWYgKHR5cGVvZiBzcXViYShzZXJ2ZXJfY29udHJhY3RzLCAnUlNDX0luc3VyYW5jZScpID09PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uc29sZS5sb2coJ0RpZCBub3QgbG9hZCB0aGUgcG9saWNpZXMgeWV0LicpO1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiByZXNvbHZlKFtdKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGdldFBvbGljeUNvdW50KHNlcnZlcl9jb250cmFjdHMuUlNDX0luc3VyYW5jZSlcbiAgICAgIC50aGVuKHBvbGljeUNvdW50ID0+IHtcblxuICAgICAgICB2YXIgcG9saWNpZXMgPSBbXTtcblxuICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgcG9saWN5Q291bnQ7IGluZGV4KyspIHtcbiAgICAgICAgICBjb25zdCBwb2xpY3lQcm9taXNlID0gZ2V0UG9saWN5QnlJbmRleChzZXJ2ZXJfY29udHJhY3RzLlJTQ19JbnN1cmFuY2UsIGluZGV4KTtcbiAgICAgICAgICBwb2xpY2llcy5wdXNoKHBvbGljeVByb21pc2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHBvbGljaWVzKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gdG9rZW5TYWxlKGFtb3VudCkge1xuICAgIHZhciB0eCA9IHtcbiAgICAgIHZhbHVlOiB3ZWIzLnRvV2VpKGFtb3VudCwgJ2V0aGVyJylcbiAgICB9O1xuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHdlYjMudmVyc2lvbi5nZXROZXR3b3JrKChlcnIsIHJlcykgPT4ge1xuICAgICAgICBpZiAocmVzID09IDEpIHtcbiAgICAgICAgICBjb25zdCBlcnJvciA9IHttZXNzYWdlOiBtYWluTmV0TXNnKCl9O1xuICAgICAgICAgIHJlamVjdCh7XG4gICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2Uuc2xpY2UoMCwgZXJyb3IubWVzc2FnZS5pbmRleE9mKCdcXG4nKSksXG4gICAgICAgICAgICBoYXNoOiAnJ1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzICE9PSAzICYmIHJlcyAhPT0gJzMnKSB7XG4gICAgICAgICAgY29uc3QgZXJyb3IgPSB7bWVzc2FnZTogbWV0YW1hc2tNc2coKX07XG4gICAgICAgICAgcmVqZWN0KHtcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZS5zbGljZSgwLCBlcnJvci5tZXNzYWdlLmluZGV4T2YoJ1xcbicpKSxcbiAgICAgICAgICAgIGhhc2g6ICcnXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG5cbiAgICAgICAgICBzZXJ2ZXJfY29udHJhY3RzLlJTQ19TaW1wbGVTYWxlLnRva2VuU2FsZSh0eCwgKGVyciwgcmVzdWx0KSA9PiB7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgIHJlamVjdCh7XG4gICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogZXJyLm1lc3NhZ2Uuc2xpY2UoMCwgZXJyLm1lc3NhZ2UuaW5kZXhPZignXFxuJykpLFxuICAgICAgICAgICAgICAgIGhhc2g6ICcnXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXNvbHZlKHtcbiAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgbWVzc2FnZTogcmVzdWx0LFxuICAgICAgICAgICAgICBoYXNoOiByZXN1bHRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICByZWplY3Qoe1xuICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICBtZXNzYWdlOiBlLm1lc3NhZ2Uuc2xpY2UoMCwgZS5tZXNzYWdlLmluZGV4T2YoJ1xcbicpKSxcbiAgICAgICAgICAgIGhhc2g6ICcnXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0UG9saWN5QnlJbmRleChSU0NfSW5zdXJhbmNlLCBpbmRleCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIFJTQ19JbnN1cmFuY2UucG9saWNpZXMoaW5kZXgsIChlcnIsIHJvdykgPT4ge1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHJvdy5wdXNoKHJvd1swXS5zbGljZSgwLDcpKTtcbiAgICAgICAgcm93WzFdID0gd2ViMy5mcm9tV2VpKHJvd1sxXSwgJ2V0aGVyJykudG9GaXhlZCg0KTtcbiAgICAgICAgcm93WzNdID0gd2ViMy50b0RlY2ltYWwocm93WzNdKSAvIDEwMDAwO1xuICAgICAgICByb3dbNV0gPSBuZXcgRGF0ZSh3ZWIzLnRvRGVjaW1hbChyb3dbNV0pICogMTAwMCkudG9VVENTdHJpbmcoKTtcbiAgICAgICAgcm93WzddID0gd2ViMy5mcm9tV2VpKHJvd1s3XSwgJ2V0aGVyJykudG9GaXhlZCg0KTtcbiAgICAgICAgcm93WzhdID0gd2ViMy5mcm9tV2VpKHJvd1s4XSwgJ2V0aGVyJykudG9GaXhlZCg0KTtcblxuICAgICAgICByZXNvbHZlKHJvdyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFBvbGljeUNvdW50KFJTQ19JbnN1cmFuY2UpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBSU0NfSW5zdXJhbmNlLmdldFBvbGljeUNvdW50KChlcnIsIHJlcykgPT4ge1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHJlc29sdmUocmVzLnRvTnVtYmVyKCkpOyAgLy8gaXQgaXMgYSBCaWdOdW1iZXIgc28gbmVlZHMgdG8gYmUgdHJhbnNmb3JtZWRcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9zY3JpcHRzL3NlcnZpY2VzL2V0aGVyZXVtLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==